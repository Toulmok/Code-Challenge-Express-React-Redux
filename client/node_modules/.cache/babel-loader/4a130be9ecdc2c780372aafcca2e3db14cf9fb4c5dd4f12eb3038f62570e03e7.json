{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../core/maybe.js\";\nimport { I as r } from \"./mat4f64.js\";\nimport { ForwardLinearDepth as o } from \"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";\nimport { Offset as a } from \"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";\nimport { ShaderOutput as i } from \"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";\nimport { SliceDraw as l } from \"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";\nimport { Transform as s } from \"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";\nimport { InstancedDoublePrecision as t } from \"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";\nimport { NormalAttribute as n, NormalAttributeType as d } from \"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";\nimport { PositionAttribute as c } from \"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";\nimport { SymbolColor as m } from \"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";\nimport { TextureCoordinateAttribute as g } from \"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";\nimport { VertexColor as u } from \"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";\nimport { VertexNormal as p } from \"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js\";\nimport { VerticalOffset as v } from \"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";\nimport { DefaultMaterialAuxiliaryPasses as h } from \"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";\nimport { ComputeNormalTexture as b } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js\";\nimport { EvaluateAmbientOcclusion as f } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";\nimport { EvaluateSceneLighting as w, addAmbientBoostFactor as x, addLightingGlobalFactor as y } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";\nimport { addMainLightIntensity as C } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js\";\nimport { multipassTerrainTest as T } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";\nimport { Normals as j } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js\";\nimport { PhysicallyBasedRendering as L } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";\nimport { PhysicallyBasedRenderingParameters as M, PBRMode as O } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";\nimport { ReadShadowMapPass as P, ReadShadowMapDraw as $ } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";\nimport { colorTextureUV as A, normalTextureUV as N, emissiveTextureUV as S, occlusionTextureUV as E, metallicRoughnessTextureUV as V } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/TextureTransformUV.glsl.js\";\nimport { VisualVariables as _ } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";\nimport { symbolAlphaCutoff as D } from \"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";\nimport { DiscardOrAdjustAlphaPass as F } from \"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";\nimport { MixExternalColor as U } from \"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";\nimport { addProjViewLocalOrigin as B, addCameraPosition as I } from \"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";\nimport { Float3PassUniform as R } from \"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";\nimport { Float4PassUniform as z } from \"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";\nimport { FloatPassUniform as W } from \"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";\nimport { glsl as G } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { Matrix4PassUniform as k } from \"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";\nimport { ShaderBuilder as q } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { Texture2DPassUniform as H } from \"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";\nimport { TransparencyPassType as J } from \"../views/3d/webgl-engine/lib/TransparencyPassType.js\";\nimport { VertexAttribute as K } from \"../views/3d/webgl-engine/lib/VertexAttribute.js\";\nfunction Q(Q) {\n  const X = new q(),\n    {\n      vertex: Y,\n      fragment: Z,\n      varyings: ee\n    } = X;\n  return B(Y, Q), X.include(c), ee.add(\"vpos\", \"vec3\"), X.include(_, Q), X.include(t, Q), X.include(v, Q), Q.hasColorTextureTransform && X.include(A), Q.output !== i.Color && Q.output !== i.Alpha || (Q.hasNormalTextureTransform && X.include(N), Q.hasEmissionTextureTransform && X.include(S), Q.hasOcclusionTextureTransform && X.include(E), Q.hasMetallicRoughnessTextureTransform && X.include(V), I(Y, Q), X.include(n, Q), X.include(s, Q), Q.normalType === d.Attribute && Q.offsetBackfaces && X.include(a), X.include(b, Q), X.include(p, Q), Q.instancedColor && X.attributes.add(K.INSTANCECOLOR, \"vec4\"), ee.add(\"localvpos\", \"vec3\"), X.include(g, Q), X.include(o, Q), X.include(m, Q), X.include(u, Q), Y.uniforms.add(new z(\"externalColor\", e => e.externalColor)), ee.add(\"vcolorExt\", \"vec4\"), Q.hasMultipassTerrain && ee.add(\"depth\", \"float\"), Q.hasModelTransformation && Y.uniforms.add(new k(\"model\", o => e(o.modelTransformation) ? o.modelTransformation : r)), Y.code.add(G`\n      void main(void) {\n        forwardNormalizedVertexColor();\n        vcolorExt = externalColor;\n        ${Q.instancedColor ? \"vcolorExt *= instanceColor;\" : \"\"}\n        vcolorExt *= vvColor();\n        vcolorExt *= getSymbolColor();\n        forwardColorMixMode();\n\n        if (vcolorExt.a < ${G.float(D)}) {\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n        } else {\n          vpos = calculateVPos();\n          localvpos = vpos - view[3].xyz;\n          vpos = subtractOrigin(vpos);\n          ${Q.normalType === d.Attribute ? G`vNormalWorld = dpNormal(vvLocalNormal(normalModel()));` : \"\"}\n          vpos = addVerticalOffset(vpos, localOrigin);\n          ${Q.hasVertexTangents ? \"vTangent = dpTransformVertexTangent(tangent);\" : \"\"}\n          gl_Position = transformPosition(proj, view, ${Q.hasModelTransformation ? \"model,\" : \"\"} vpos);\n          ${Q.normalType === d.Attribute && Q.offsetBackfaces ? \"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, cameraPosition);\" : \"\"}\n        }\n\n        ${Q.hasMultipassTerrain ? \"depth = (view * vec4(vpos, 1.0)).z;\" : \"\"}\n        forwardLinearDepth();\n        forwardTextureCoordinates();\n        ${Q.hasColorTextureTransform ? G`forwardColorUV();` : \"\"}\n        ${Q.hasNormalTextureTransform ? G`forwardNormalUV();` : \"\"}\n        ${Q.hasEmissionTextureTransform ? G`forwardEmissiveUV();` : \"\"}\n        ${Q.hasOcclusionTextureTransform ? G`forwardOcclusionUV();` : \"\"}\n        ${Q.hasMetallicRoughnessTextureTransform ? G`forwardMetallicRoughnessUV();` : \"\"}\n      }\n    `)), Q.output === i.Alpha && (X.include(l, Q), X.include(F, Q), X.include(T, Q), Z.uniforms.add([new W(\"opacity\", e => e.opacity), new W(\"layerOpacity\", e => e.layerOpacity)]), Q.hasColorTexture && Z.uniforms.add(new H(\"tex\", e => e.texture)), Z.include(U), Z.code.add(G`\n      void main() {\n        discardBySlice(vpos);\n        ${Q.hasMultipassTerrain ? \"terrainDepthTest(gl_FragCoord, depth);\" : \"\"}\n        ${Q.hasColorTexture ? G`\n                vec4 texColor = texture2D(tex, ${Q.hasColorTextureTransform ? G`colorUV` : G`vuv0`});\n                ${Q.textureAlphaPremultiplied ? \"texColor.rgb /= texColor.a;\" : \"\"}\n                discardOrAdjustAlpha(texColor);` : G`vec4 texColor = vec4(1.0);`}\n        ${Q.hasVertexColors ? G`float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));` : G`float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));`}\n        gl_FragColor = vec4(opacity_);\n      }\n    `)), Q.output === i.Color && (X.include(l, Q), X.include(w, Q), X.include(f, Q), X.include(F, Q), X.include(Q.instancedDoublePrecision ? P : $, Q), X.include(T, Q), I(Z, Q), Z.uniforms.add([Y.uniforms.get(\"localOrigin\"), new R(\"ambient\", e => e.ambient), new R(\"diffuse\", e => e.diffuse), new W(\"opacity\", e => e.opacity), new W(\"layerOpacity\", e => e.layerOpacity)]), Q.hasColorTexture && Z.uniforms.add(new H(\"tex\", e => e.texture)), X.include(M, Q), X.include(L, Q), Z.include(U), X.include(j, Q), x(Z), y(Z), C(Z), Z.code.add(G`\n      void main() {\n        discardBySlice(vpos);\n        ${Q.hasMultipassTerrain ? \"terrainDepthTest(gl_FragCoord, depth);\" : \"\"}\n        ${Q.hasColorTexture ? G`\n                vec4 texColor = texture2D(tex, ${Q.hasColorTextureTransform ? G`colorUV` : G`vuv0`});\n                ${Q.textureAlphaPremultiplied ? \"texColor.rgb /= texColor.a;\" : \"\"}\n                discardOrAdjustAlpha(texColor);` : G`vec4 texColor = vec4(1.0);`}\n        shadingParams.viewDirection = normalize(vpos - cameraPosition);\n        ${Q.normalType === d.ScreenDerivative ? G`\n                vec3 normal = screenDerivativeNormal(localvpos);` : G`\n                shadingParams.normalView = vNormalWorld;\n                vec3 normal = shadingNormal(shadingParams);`}\n        ${Q.pbrMode === O.Normal ? \"applyPBRFactors();\" : \"\"}\n        float ssao = evaluateAmbientOcclusionInverse();\n        ssao *= getBakedOcclusion();\n\n        vec3 posWorld = vpos + localOrigin;\n\n        float additionalAmbientScale = additionalDirectedAmbientLight(posWorld);\n        float shadow = ${Q.receiveShadows ? \"readShadowMap(vpos, linearDepth)\" : Q.spherical ? \"lightingGlobalFactor * (1.0 - additionalAmbientScale)\" : \"0.0\"};\n\n        vec3 matColor = max(ambient, diffuse);\n        ${Q.hasVertexColors ? G`\n                vec3 albedo = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n                float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));` : G`\n                vec3 albedo = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n                float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));`}\n        ${Q.hasNormalTexture ? G`\n                mat3 tangentSpace = ${Q.hasVertexTangents ? \"computeTangentSpace(normal);\" : \"computeTangentSpace(normal, vpos, vuv0);\"}\n                vec3 shadingNormal = computeTextureNormal(tangentSpace, vuv0);` : G`vec3 shadingNormal = normal;`}\n        vec3 normalGround = ${Q.spherical ? G`normalize(posWorld);` : G`vec3(0.0, 0.0, 1.0);`}\n\n        ${Q.snowCover ? G`\n                float snow = smoothstep(0.5, 0.55, dot(normal, normalGround));\n                albedo = mix(albedo, vec3(1), snow);\n                shadingNormal = mix(shadingNormal, normal, snow);\n                ssao = mix(ssao, 1.0, snow);` : \"\"}\n\n        vec3 additionalLight = ssao * mainLightIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n\n        ${Q.pbrMode === O.Normal || Q.pbrMode === O.Schematic ? G`\n                float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * mainLightIntensity[2];\n                ${Q.snowCover ? G`\n                        mrr = mix(mrr, vec3(0.0, 1.0, 0.04), snow);\n                        emission = mix(emission, vec3(0.0), snow);` : \"\"}\n\n                vec3 shadedColor = evaluateSceneLightingPBR(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight, shadingParams.viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);` : G`vec3 shadedColor = evaluateSceneLighting(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight);`}\n        gl_FragColor = highlightSlice(vec4(shadedColor, opacity_), vpos);\n        ${Q.transparencyPassType === J.Color ? G`gl_FragColor = premultiplyAlpha(gl_FragColor);` : \"\"}\n      }\n    `)), X.include(h, Q), X;\n}\nconst X = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  build: Q\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { X as D, Q as b };","map":{"version":3,"names":["isSome","e","I","r","ForwardLinearDepth","o","Offset","a","ShaderOutput","i","SliceDraw","l","Transform","s","InstancedDoublePrecision","t","NormalAttribute","n","NormalAttributeType","d","PositionAttribute","c","SymbolColor","m","TextureCoordinateAttribute","g","VertexColor","u","VertexNormal","p","VerticalOffset","v","DefaultMaterialAuxiliaryPasses","h","ComputeNormalTexture","b","EvaluateAmbientOcclusion","f","EvaluateSceneLighting","w","addAmbientBoostFactor","x","addLightingGlobalFactor","y","addMainLightIntensity","C","multipassTerrainTest","T","Normals","j","PhysicallyBasedRendering","L","PhysicallyBasedRenderingParameters","M","PBRMode","O","ReadShadowMapPass","P","ReadShadowMapDraw","$","colorTextureUV","A","normalTextureUV","N","emissiveTextureUV","S","occlusionTextureUV","E","metallicRoughnessTextureUV","V","VisualVariables","_","symbolAlphaCutoff","D","DiscardOrAdjustAlphaPass","F","MixExternalColor","U","addProjViewLocalOrigin","B","addCameraPosition","Float3PassUniform","R","Float4PassUniform","z","FloatPassUniform","W","glsl","G","Matrix4PassUniform","k","ShaderBuilder","q","Texture2DPassUniform","H","TransparencyPassType","J","VertexAttribute","K","Q","X","vertex","Y","fragment","Z","varyings","ee","include","add","hasColorTextureTransform","output","Color","Alpha","hasNormalTextureTransform","hasEmissionTextureTransform","hasOcclusionTextureTransform","hasMetallicRoughnessTextureTransform","normalType","Attribute","offsetBackfaces","instancedColor","attributes","INSTANCECOLOR","uniforms","externalColor","hasMultipassTerrain","hasModelTransformation","modelTransformation","code","float","hasVertexTangents","opacity","layerOpacity","hasColorTexture","texture","textureAlphaPremultiplied","hasVertexColors","instancedDoublePrecision","get","ambient","diffuse","ScreenDerivative","pbrMode","Normal","receiveShadows","spherical","hasNormalTexture","snowCover","Schematic","transparencyPassType","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/chunks/DefaultMaterial.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../core/maybe.js\";import{I as r}from\"./mat4f64.js\";import{ForwardLinearDepth as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{Offset as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{ShaderOutput as i}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as l}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as s}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{InstancedDoublePrecision as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{NormalAttribute as n,NormalAttributeType as d}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as c}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as m}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{TextureCoordinateAttribute as g}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{VertexColor as u}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{VertexNormal as p}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js\";import{VerticalOffset as v}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{DefaultMaterialAuxiliaryPasses as h}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{ComputeNormalTexture as b}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js\";import{EvaluateAmbientOcclusion as f}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as w,addAmbientBoostFactor as x,addLightingGlobalFactor as y}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{addMainLightIntensity as C}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js\";import{multipassTerrainTest as T}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{Normals as j}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js\";import{PhysicallyBasedRendering as L}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{PhysicallyBasedRenderingParameters as M,PBRMode as O}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{ReadShadowMapPass as P,ReadShadowMapDraw as $}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{colorTextureUV as A,normalTextureUV as N,emissiveTextureUV as S,occlusionTextureUV as E,metallicRoughnessTextureUV as V}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TextureTransformUV.glsl.js\";import{VisualVariables as _}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as D}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{DiscardOrAdjustAlphaPass as F}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{MixExternalColor as U}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";import{addProjViewLocalOrigin as B,addCameraPosition as I}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float3PassUniform as R}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as z}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as W}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as G}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4PassUniform as k}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{ShaderBuilder as q}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as H}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as J}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as K}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function Q(Q){const X=new q,{vertex:Y,fragment:Z,varyings:ee}=X;return B(Y,Q),X.include(c),ee.add(\"vpos\",\"vec3\"),X.include(_,Q),X.include(t,Q),X.include(v,Q),Q.hasColorTextureTransform&&X.include(A),Q.output!==i.Color&&Q.output!==i.Alpha||(Q.hasNormalTextureTransform&&X.include(N),Q.hasEmissionTextureTransform&&X.include(S),Q.hasOcclusionTextureTransform&&X.include(E),Q.hasMetallicRoughnessTextureTransform&&X.include(V),I(Y,Q),X.include(n,Q),X.include(s,Q),Q.normalType===d.Attribute&&Q.offsetBackfaces&&X.include(a),X.include(b,Q),X.include(p,Q),Q.instancedColor&&X.attributes.add(K.INSTANCECOLOR,\"vec4\"),ee.add(\"localvpos\",\"vec3\"),X.include(g,Q),X.include(o,Q),X.include(m,Q),X.include(u,Q),Y.uniforms.add(new z(\"externalColor\",(e=>e.externalColor))),ee.add(\"vcolorExt\",\"vec4\"),Q.hasMultipassTerrain&&ee.add(\"depth\",\"float\"),Q.hasModelTransformation&&Y.uniforms.add(new k(\"model\",(o=>e(o.modelTransformation)?o.modelTransformation:r))),Y.code.add(G`\n      void main(void) {\n        forwardNormalizedVertexColor();\n        vcolorExt = externalColor;\n        ${Q.instancedColor?\"vcolorExt *= instanceColor;\":\"\"}\n        vcolorExt *= vvColor();\n        vcolorExt *= getSymbolColor();\n        forwardColorMixMode();\n\n        if (vcolorExt.a < ${G.float(D)}) {\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n        } else {\n          vpos = calculateVPos();\n          localvpos = vpos - view[3].xyz;\n          vpos = subtractOrigin(vpos);\n          ${Q.normalType===d.Attribute?G`vNormalWorld = dpNormal(vvLocalNormal(normalModel()));`:\"\"}\n          vpos = addVerticalOffset(vpos, localOrigin);\n          ${Q.hasVertexTangents?\"vTangent = dpTransformVertexTangent(tangent);\":\"\"}\n          gl_Position = transformPosition(proj, view, ${Q.hasModelTransformation?\"model,\":\"\"} vpos);\n          ${Q.normalType===d.Attribute&&Q.offsetBackfaces?\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, cameraPosition);\":\"\"}\n        }\n\n        ${Q.hasMultipassTerrain?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n        forwardLinearDepth();\n        forwardTextureCoordinates();\n        ${Q.hasColorTextureTransform?G`forwardColorUV();`:\"\"}\n        ${Q.hasNormalTextureTransform?G`forwardNormalUV();`:\"\"}\n        ${Q.hasEmissionTextureTransform?G`forwardEmissiveUV();`:\"\"}\n        ${Q.hasOcclusionTextureTransform?G`forwardOcclusionUV();`:\"\"}\n        ${Q.hasMetallicRoughnessTextureTransform?G`forwardMetallicRoughnessUV();`:\"\"}\n      }\n    `)),Q.output===i.Alpha&&(X.include(l,Q),X.include(F,Q),X.include(T,Q),Z.uniforms.add([new W(\"opacity\",(e=>e.opacity)),new W(\"layerOpacity\",(e=>e.layerOpacity))]),Q.hasColorTexture&&Z.uniforms.add(new H(\"tex\",(e=>e.texture))),Z.include(U),Z.code.add(G`\n      void main() {\n        discardBySlice(vpos);\n        ${Q.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        ${Q.hasColorTexture?G`\n                vec4 texColor = texture2D(tex, ${Q.hasColorTextureTransform?G`colorUV`:G`vuv0`});\n                ${Q.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n                discardOrAdjustAlpha(texColor);`:G`vec4 texColor = vec4(1.0);`}\n        ${Q.hasVertexColors?G`float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:G`float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));`}\n        gl_FragColor = vec4(opacity_);\n      }\n    `)),Q.output===i.Color&&(X.include(l,Q),X.include(w,Q),X.include(f,Q),X.include(F,Q),X.include(Q.instancedDoublePrecision?P:$,Q),X.include(T,Q),I(Z,Q),Z.uniforms.add([Y.uniforms.get(\"localOrigin\"),new R(\"ambient\",(e=>e.ambient)),new R(\"diffuse\",(e=>e.diffuse)),new W(\"opacity\",(e=>e.opacity)),new W(\"layerOpacity\",(e=>e.layerOpacity))]),Q.hasColorTexture&&Z.uniforms.add(new H(\"tex\",(e=>e.texture))),X.include(M,Q),X.include(L,Q),Z.include(U),X.include(j,Q),x(Z),y(Z),C(Z),Z.code.add(G`\n      void main() {\n        discardBySlice(vpos);\n        ${Q.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        ${Q.hasColorTexture?G`\n                vec4 texColor = texture2D(tex, ${Q.hasColorTextureTransform?G`colorUV`:G`vuv0`});\n                ${Q.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n                discardOrAdjustAlpha(texColor);`:G`vec4 texColor = vec4(1.0);`}\n        shadingParams.viewDirection = normalize(vpos - cameraPosition);\n        ${Q.normalType===d.ScreenDerivative?G`\n                vec3 normal = screenDerivativeNormal(localvpos);`:G`\n                shadingParams.normalView = vNormalWorld;\n                vec3 normal = shadingNormal(shadingParams);`}\n        ${Q.pbrMode===O.Normal?\"applyPBRFactors();\":\"\"}\n        float ssao = evaluateAmbientOcclusionInverse();\n        ssao *= getBakedOcclusion();\n\n        vec3 posWorld = vpos + localOrigin;\n\n        float additionalAmbientScale = additionalDirectedAmbientLight(posWorld);\n        float shadow = ${Q.receiveShadows?\"readShadowMap(vpos, linearDepth)\":Q.spherical?\"lightingGlobalFactor * (1.0 - additionalAmbientScale)\":\"0.0\"};\n\n        vec3 matColor = max(ambient, diffuse);\n        ${Q.hasVertexColors?G`\n                vec3 albedo = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n                float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:G`\n                vec3 albedo = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n                float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));`}\n        ${Q.hasNormalTexture?G`\n                mat3 tangentSpace = ${Q.hasVertexTangents?\"computeTangentSpace(normal);\":\"computeTangentSpace(normal, vpos, vuv0);\"}\n                vec3 shadingNormal = computeTextureNormal(tangentSpace, vuv0);`:G`vec3 shadingNormal = normal;`}\n        vec3 normalGround = ${Q.spherical?G`normalize(posWorld);`:G`vec3(0.0, 0.0, 1.0);`}\n\n        ${Q.snowCover?G`\n                float snow = smoothstep(0.5, 0.55, dot(normal, normalGround));\n                albedo = mix(albedo, vec3(1), snow);\n                shadingNormal = mix(shadingNormal, normal, snow);\n                ssao = mix(ssao, 1.0, snow);`:\"\"}\n\n        vec3 additionalLight = ssao * mainLightIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n\n        ${Q.pbrMode===O.Normal||Q.pbrMode===O.Schematic?G`\n                float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * mainLightIntensity[2];\n                ${Q.snowCover?G`\n                        mrr = mix(mrr, vec3(0.0, 1.0, 0.04), snow);\n                        emission = mix(emission, vec3(0.0), snow);`:\"\"}\n\n                vec3 shadedColor = evaluateSceneLightingPBR(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight, shadingParams.viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:G`vec3 shadedColor = evaluateSceneLighting(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight);`}\n        gl_FragColor = highlightSlice(vec4(shadedColor, opacity_), vpos);\n        ${Q.transparencyPassType===J.Color?G`gl_FragColor = premultiplyAlpha(gl_FragColor);`:\"\"}\n      }\n    `)),X.include(h,Q),X}const X=Object.freeze(Object.defineProperty({__proto__:null,build:Q},Symbol.toStringTag,{value:\"Module\"}));export{X as D,Q as b};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}