{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { destroyMaybe as e, isSome as r } from \"../../../../core/maybe.js\";\nimport { contextCapabilitiesFromLayer as t } from \"./FeatureTileFetcher3D.js\";\nimport { createFeatureTileQuery3D as i } from \"./featureTileQuery3D.js\";\nclass a {\n  constructor(e) {\n    this._memoryCache = null, this._capabilities = null;\n    const r = e.layerView.layer;\n    this._layerView = e.layerView, this.objectIdField = r.objectIdField, this.globalIdField = \"globalIdField\" in r ? r.globalIdField : null, this._returnZ = e.returnZ, this._returnM = e.returnM;\n    const t = this._layerView.view.resourceController;\n    this.query = i(r, t.normal), t && this._memoryCacheEnabled && (this._memoryCache = t.memoryController.newCache(r.uid));\n  }\n  get _memoryCacheEnabled() {\n    switch (this._layerView.layer.source.type) {\n      case \"feature-layer\":\n      case \"ogc-feature\":\n      case \"oriented-imagery\":\n        return !0;\n      case \"csv\":\n      case \"geojson\":\n      case \"memory\":\n      case \"wfs\":\n        return !1;\n    }\n  }\n  destroy() {\n    this._memoryCache = e(this._memoryCache), this.query.destroy();\n  }\n  createQuery() {\n    const e = this._layerView.layer.createQuery();\n    return e.outFields = this._layerView.availableFields, e.returnZ = this._returnZ, e.returnM = this._returnM, e.outSpatialReference = this.tilingScheme.spatialReference, e;\n  }\n  get memoryCache() {\n    return this._memoryCache;\n  }\n  get viewingMode() {\n    return this._layerView.view.state.viewingMode;\n  }\n  get tilingScheme() {\n    return this._layerView.view.featureTiles.tilingScheme;\n  }\n  get scheduler() {\n    const e = this._layerView.view.resourceController;\n    return e ? e.scheduler : null;\n  }\n  get geometryType() {\n    return this._layerView.layer.geometryType;\n  }\n  get fullExtent() {\n    return this._layerView.layer.fullExtent;\n  }\n  get tileMaxRecordCount() {\n    return this._layerView.layer.capabilities.query.tileMaxRecordCount;\n  }\n  get maxRecordCount() {\n    return this._layerView.layer.capabilities.query.maxRecordCount;\n  }\n  get capabilities() {\n    return r(this._capabilities) || (this._capabilities = t(this._layerView.layer)), this._capabilities;\n  }\n  logFetchError(e, r) {\n    e.error(\"#fetchTile()\", this._layerView.layer, r && r.message ? r.message : r);\n  }\n}\nexport { a as FeatureTileFetcher3DLayerViewContext };","map":{"version":3,"names":["destroyMaybe","e","isSome","r","contextCapabilitiesFromLayer","t","createFeatureTileQuery3D","i","a","constructor","_memoryCache","_capabilities","layerView","layer","_layerView","objectIdField","globalIdField","_returnZ","returnZ","_returnM","returnM","view","resourceController","query","normal","_memoryCacheEnabled","memoryController","newCache","uid","source","type","destroy","createQuery","outFields","availableFields","outSpatialReference","tilingScheme","spatialReference","memoryCache","viewingMode","state","featureTiles","scheduler","geometryType","fullExtent","tileMaxRecordCount","capabilities","maxRecordCount","logFetchError","error","message","FeatureTileFetcher3DLayerViewContext"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DLayerViewContext.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e,isSome as r}from\"../../../../core/maybe.js\";import{contextCapabilitiesFromLayer as t}from\"./FeatureTileFetcher3D.js\";import{createFeatureTileQuery3D as i}from\"./featureTileQuery3D.js\";class a{constructor(e){this._memoryCache=null,this._capabilities=null;const r=e.layerView.layer;this._layerView=e.layerView,this.objectIdField=r.objectIdField,this.globalIdField=\"globalIdField\"in r?r.globalIdField:null,this._returnZ=e.returnZ,this._returnM=e.returnM;const t=this._layerView.view.resourceController;this.query=i(r,t.normal),t&&this._memoryCacheEnabled&&(this._memoryCache=t.memoryController.newCache(r.uid))}get _memoryCacheEnabled(){switch(this._layerView.layer.source.type){case\"feature-layer\":case\"ogc-feature\":case\"oriented-imagery\":return!0;case\"csv\":case\"geojson\":case\"memory\":case\"wfs\":return!1}}destroy(){this._memoryCache=e(this._memoryCache),this.query.destroy()}createQuery(){const e=this._layerView.layer.createQuery();return e.outFields=this._layerView.availableFields,e.returnZ=this._returnZ,e.returnM=this._returnM,e.outSpatialReference=this.tilingScheme.spatialReference,e}get memoryCache(){return this._memoryCache}get viewingMode(){return this._layerView.view.state.viewingMode}get tilingScheme(){return this._layerView.view.featureTiles.tilingScheme}get scheduler(){const e=this._layerView.view.resourceController;return e?e.scheduler:null}get geometryType(){return this._layerView.layer.geometryType}get fullExtent(){return this._layerView.layer.fullExtent}get tileMaxRecordCount(){return this._layerView.layer.capabilities.query.tileMaxRecordCount}get maxRecordCount(){return this._layerView.layer.capabilities.query.maxRecordCount}get capabilities(){return r(this._capabilities)||(this._capabilities=t(this._layerView.layer)),this._capabilities}logFetchError(e,r){e.error(\"#fetchTile()\",this._layerView.layer,r&&r.message?r.message:r)}}export{a as FeatureTileFetcher3DLayerViewContext};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}