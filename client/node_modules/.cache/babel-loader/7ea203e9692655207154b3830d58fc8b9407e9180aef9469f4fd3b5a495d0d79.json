{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport i from \"../../../../analysis/SlicePlane.js\";\nimport a from \"../../../../core/Accessor.js\";\nimport t from \"../../../../core/Handles.js\";\nimport s from \"../../../../core/Logger.js\";\nimport { isNone as l, isSome as n } from \"../../../../core/maybe.js\";\nimport { watch as r } from \"../../../../core/reactiveUtils.js\";\nimport { property as o } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport { subclass as c } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { a as h } from \"../../../../chunks/boundedPlane.js\";\nimport d from \"../../../../layers/Layer.js\";\nimport u from \"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";\nimport { isIBuildingSceneLayerView3D as p, projectAndElevationAlignShape as y, projectedShapeToPlane as w, planeToShape as v } from \"./sliceToolUtils.js\";\nimport { logFailedGeometryProjectionError as f } from \"../support/projectionUtils.js\";\nimport { isTerrainSurfaceLayer as m } from \"../../terrain/isTerrainSurfaceLayer.js\";\nconst _ = \"esri.views.3d.analysis.Slice.SliceController\",\n  V = s.getLogger(_);\nlet g = class extends a {\n  constructor(e) {\n    super(e), this._handles = new t(), this._internalChange = !1, this._currentSlicePlane = null;\n  }\n  initialize() {\n    this._handles.add(this.analysis.excludedLayers.on(\"before-add\", e => {\n      const i = e.item;\n      null != i && (i instanceof d || i instanceof u) ? i instanceof d && m(i) ? (V.error(\"excludedLayers\", `Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`), e.preventDefault()) : this.analysis.excludedLayers.includes(i) && e.preventDefault() : (V.error(\"excludedLayers\", \"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"), e.preventDefault());\n    })), L(this.view, this), this._handles.add([r(() => this.analysisViewData.plane, () => {\n      this._internalChange || this._updateSlicePlaneFromBoundedPlane(), this._updateLayerViews();\n    }, {\n      sync: !0\n    }), r(() => this.analysis.excludeGroundSurface, () => this._updateLayerViews(), {\n      sync: !0\n    }), this.analysis.excludedLayers.on(\"change\", () => this._updateLayerViews()), r(() => [this.analysisViewData.active, this.analysisViewData.visible], () => {\n      this._updateActiveController(), this._updateViewSlicePlane();\n    }, {\n      sync: !0\n    }), r(() => this._allLayerAndSubLayerViews, () => this._updateLayerViews())]), this._handles.add([r(() => this.analysis.shape, () => {\n      this._internalChange || (this._updateBoundedPlaneFromSlicePlane(), this._updateViewSlicePlane());\n    }, {\n      sync: !0\n    })], \"analysis\"), this._updateActiveController(), this._updateBoundedPlaneFromSlicePlane(), this._updateViewSlicePlane();\n  }\n  destroy() {\n    this.analysisViewData.active && (this.analysisViewData.active = !1, this.view.slicePlane = null), D(this.view, this), this._handles.destroy(), this.set(\"view\", null);\n  }\n  get _allLayerAndSubLayerViews() {\n    const e = this.view.allLayerViews.items;\n    return e.concat(e.filter(p).flatMap(_ref => {\n      let {\n        sublayerViews: e\n      } = _ref;\n      return e.items;\n    }));\n  }\n  _updateBoundedPlaneFromSlicePlane() {\n    const e = this.analysis.shape,\n      i = this._currentSlicePlane;\n    if (l(i) && l(e) || n(i) && n(e) && e.equals(i)) return;\n    let a = null,\n      t = null;\n    if (n(e) && n(e.position)) {\n      const i = e.position.spatialReference,\n        s = y(e, this.view);\n      l(s) && f(this.analysis, i, V), a = w(s, this.view, {\n        tiltEnabled: this.analysis.tiltEnabled\n      }, h()), n(a) && (t = {\n        heading: e.heading,\n        tilt: e.tilt,\n        position: e.position,\n        width: e.width,\n        height: e.height\n      });\n    }\n    this._currentSlicePlane = t, this._internalChange = !0, this.analysisViewData.plane = a, this._internalChange = !1;\n  }\n  _updateSlicePlaneFromBoundedPlane() {\n    const e = this.analysisViewData.plane,\n      a = v(e, this.view, this.view.spatialReference, new i());\n    let t = null;\n    n(a) && (t = {\n      heading: a.heading,\n      tilt: a.tilt,\n      position: a.position,\n      width: a.width,\n      height: a.height\n    }), this._currentSlicePlane = t, this._internalChange = !0, this.analysis.shape = a, this._internalChange = !1, this._updateViewSlicePlane();\n  }\n  _updateActiveController() {\n    if (S) return;\n    const e = C(this.view);\n    if (!e) return;\n    if (this.analysisViewData.active) n(e.activeController) && e.activeController !== this ? (S = !0, e.activeController.analysisViewData.active = !1, S = !1) : n(e.activeController) && e.activeController, this._updateLayerViews(), e.activeController = this;else {\n      if (n(e.activeController) && e.activeController !== this) return;\n      n(e.activeController) && e.activeController === this && (e.activeController = null, this._updateLayerViews());\n    }\n  }\n  _updateViewSlicePlane() {\n    P(this.view);\n  }\n  _updateLayerViews() {\n    const e = n(this.analysisViewData.plane) && this.analysisViewData.visible && this.analysisViewData.active,\n      i = [],\n      a = e => {\n        \"layers\" in e ? e.layers.forEach(a) : i.push(e);\n      };\n    this.analysis.excludedLayers.forEach(a), this.view.allLayerViews.forEach(a => {\n      a.destroyed || (\"slicePlaneEnabled\" in a && (a.slicePlaneEnabled = e && !i.includes(a.layer)), \"sublayerViews\" in a && a.sublayerViews.forEach(a => {\n        a.slicePlaneEnabled = e && !i.includes(a.sublayer);\n      }));\n    }), null != this.view.basemapTerrain && (this.view.basemapTerrain.slicePlaneEnabled = e && !this.analysis.excludeGroundSurface);\n  }\n};\ne([o()], g.prototype, \"view\", void 0), e([o()], g.prototype, \"analysis\", void 0), e([o()], g.prototype, \"analysisViewData\", void 0), e([o()], g.prototype, \"_allLayerAndSubLayerViews\", null), g = e([c(_)], g);\nconst b = new Map();\nlet S = !1;\nfunction P(e) {\n  const i = C(e)?.activeController;\n  n(i) && n(i.analysisViewData.plane) && i.analysisViewData.visible ? e.slicePlane = i.analysisViewData.plane : e.slicePlane = null;\n}\nfunction L(e, i) {\n  b.has(e) || b.set(e, {\n    all: [],\n    activeController: null\n  }), b.get(e)?.all.push(i);\n}\nfunction C(e) {\n  return b.get(e);\n}\nfunction D(e, i) {\n  if (!b.has(e)) throw new Error(\"view expected in global slice register\");\n  const a = b.get(e),\n    t = a?.all.lastIndexOf(i) ?? -1;\n  if (!a || -1 === t) throw new Error(\"controller expected in global slice register\");\n  a.all.splice(t, 1), 0 === a.all.length && b.delete(e);\n}\nexport { g as SliceController };","map":{"version":3,"names":["_","e","i","a","t","s","isNone","l","isSome","n","watch","r","property","o","subclass","c","h","d","u","isIBuildingSceneLayerView3D","p","projectAndElevationAlignShape","y","projectedShapeToPlane","w","planeToShape","v","logFailedGeometryProjectionError","f","isTerrainSurfaceLayer","m","V","getLogger","g","constructor","_handles","_internalChange","_currentSlicePlane","initialize","add","analysis","excludedLayers","on","item","error","title","id","type","preventDefault","includes","L","view","analysisViewData","plane","_updateSlicePlaneFromBoundedPlane","_updateLayerViews","sync","excludeGroundSurface","active","visible","_updateActiveController","_updateViewSlicePlane","_allLayerAndSubLayerViews","shape","_updateBoundedPlaneFromSlicePlane","destroy","slicePlane","D","set","allLayerViews","items","concat","filter","flatMap","_ref","sublayerViews","equals","position","spatialReference","tiltEnabled","heading","tilt","width","height","S","C","activeController","P","layers","forEach","push","destroyed","slicePlaneEnabled","layer","sublayer","basemapTerrain","prototype","b","Map","has","all","get","Error","lastIndexOf","splice","length","delete","SliceController"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../analysis/SlicePlane.js\";import a from\"../../../../core/Accessor.js\";import t from\"../../../../core/Handles.js\";import s from\"../../../../core/Logger.js\";import{isNone as l,isSome as n}from\"../../../../core/maybe.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as h}from\"../../../../chunks/boundedPlane.js\";import d from\"../../../../layers/Layer.js\";import u from\"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{isIBuildingSceneLayerView3D as p,projectAndElevationAlignShape as y,projectedShapeToPlane as w,planeToShape as v}from\"./sliceToolUtils.js\";import{logFailedGeometryProjectionError as f}from\"../support/projectionUtils.js\";import{isTerrainSurfaceLayer as m}from\"../../terrain/isTerrainSurfaceLayer.js\";const _=\"esri.views.3d.analysis.Slice.SliceController\",V=s.getLogger(_);let g=class extends a{constructor(e){super(e),this._handles=new t,this._internalChange=!1,this._currentSlicePlane=null}initialize(){this._handles.add(this.analysis.excludedLayers.on(\"before-add\",(e=>{const i=e.item;null!=i&&(i instanceof d||i instanceof u)?i instanceof d&&m(i)?(V.error(\"excludedLayers\",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(V.error(\"excludedLayers\",\"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"),e.preventDefault())}))),L(this.view,this),this._handles.add([r((()=>this.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),{sync:!0}),r((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),{sync:!0}),this.analysis.excludedLayers.on(\"change\",(()=>this._updateLayerViews())),r((()=>[this.analysisViewData.active,this.analysisViewData.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane()}),{sync:!0}),r((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this._handles.add([r((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),{sync:!0})],\"analysis\"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane()}destroy(){this.analysisViewData.active&&(this.analysisViewData.active=!1,this.view.slicePlane=null),D(this.view,this),this._handles.destroy(),this.set(\"view\",null)}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(p).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(l(i)&&l(e)||n(i)&&n(e)&&e.equals(i))return;let a=null,t=null;if(n(e)&&n(e.position)){const i=e.position.spatialReference,s=y(e,this.view);l(s)&&f(this.analysis,i,V),a=w(s,this.view,{tiltEnabled:this.analysis.tiltEnabled},h()),n(a)&&(t={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=t,this._internalChange=!0,this.analysisViewData.plane=a,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const e=this.analysisViewData.plane,a=v(e,this.view,this.view.spatialReference,new i);let t=null;n(a)&&(t={heading:a.heading,tilt:a.tilt,position:a.position,width:a.width,height:a.height}),this._currentSlicePlane=t,this._internalChange=!0,this.analysis.shape=a,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(S)return;const e=C(this.view);if(!e)return;if(this.analysisViewData.active)n(e.activeController)&&e.activeController!==this?(S=!0,e.activeController.analysisViewData.active=!1,S=!1):n(e.activeController)&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(n(e.activeController)&&e.activeController!==this)return;n(e.activeController)&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){P(this.view)}_updateLayerViews(){const e=n(this.analysisViewData.plane)&&this.analysisViewData.visible&&this.analysisViewData.active,i=[],a=e=>{\"layers\"in e?e.layers.forEach(a):i.push(e)};this.analysis.excludedLayers.forEach(a),this.view.allLayerViews.forEach((a=>{a.destroyed||(\"slicePlaneEnabled\"in a&&(a.slicePlaneEnabled=e&&!i.includes(a.layer)),\"sublayerViews\"in a&&a.sublayerViews.forEach((a=>{a.slicePlaneEnabled=e&&!i.includes(a.sublayer)})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};e([o()],g.prototype,\"view\",void 0),e([o()],g.prototype,\"analysis\",void 0),e([o()],g.prototype,\"analysisViewData\",void 0),e([o()],g.prototype,\"_allLayerAndSubLayerViews\",null),g=e([c(_)],g);const b=new Map;let S=!1;function P(e){const i=C(e)?.activeController;n(i)&&n(i.analysisViewData.plane)&&i.analysisViewData.visible?e.slicePlane=i.analysisViewData.plane:e.slicePlane=null}function L(e,i){b.has(e)||b.set(e,{all:[],activeController:null}),b.get(e)?.all.push(i)}function C(e){return b.get(e)}function D(e,i){if(!b.has(e))throw new Error(\"view expected in global slice register\");const a=b.get(e),t=a?.all.lastIndexOf(i)??-1;if(!a||-1===t)throw new Error(\"controller expected in global slice register\");a.all.splice(t,1),0===a.all.length&&b.delete(e)}export{g as SliceController};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}