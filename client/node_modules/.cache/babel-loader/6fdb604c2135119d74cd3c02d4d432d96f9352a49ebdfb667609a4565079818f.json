{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/Logger.js\";\nimport { isSome as t } from \"../../../core/maybe.js\";\nimport { c as r } from \"../../../chunks/vec3f64.js\";\nimport { projectPointToVector as i } from \"../../projection.js\";\nimport { isGeographicMesh as o } from \"./geographicUtils.js\";\nimport { ungeoreference as n, georeference as s } from \"./georeference.js\";\nvar a = e.getLogger(\"esri.geometry.support.meshUtils.centerAt\");\nfunction c(e, r, i) {\n  var _i$origin;\n  if (!e.vertexAttributes || !e.vertexAttributes.position) return;\n  var n = (_i$origin = i === null || i === void 0 ? void 0 : i.origin) !== null && _i$origin !== void 0 ? _i$origin : e.origin;\n  if (t(e.transform)) null != (i === null || i === void 0 ? void 0 : i.geographic) && i.geographic !== e.transform.geographic && a.warn(\"Specifying the 'geographic' parameter (\".concat(i.geographic, \") different from the Mesh transform setting (\").concat(e.transform.geographic, \") is not supported\")), f(e.transform, r, n);else {\n    o(e.spatialReference, i) ? p(e, r, n) : g(e, r, n);\n  }\n}\nfunction f(e, t, r) {\n  var i = t.x - r.x,\n    o = t.y - r.y,\n    n = t.hasZ && r.hasZ ? t.z - r.z : 0,\n    s = e.origin;\n  e.origin = [s[0] + i, s[1] + o, s[2] + n];\n}\nfunction p(e, t, r) {\n  var i = n(e.vertexAttributes, r, {\n      geographic: !0\n    }),\n    _s = s(i, t, {\n      geographic: !0\n    }),\n    o = _s.position,\n    a = _s.normal,\n    c = _s.tangent;\n  e.vertexAttributes.position = o, e.vertexAttributes.normal = a, e.vertexAttributes.tangent = c, e.vertexAttributesChanged();\n}\nfunction g(e, t, r) {\n  var o = h,\n    n = l;\n  if (i(t, n, e.spatialReference)) {\n    if (!i(r, o, e.spatialReference)) {\n      var _t = e.origin;\n      o[0] = _t.x, o[1] = _t.y, o[2] = _t.z, a.error(\"Failed to project specified origin (wkid:\".concat(r.spatialReference.wkid, \") to mesh spatial reference (wkid:\").concat(e.spatialReference.wkid, \").\"));\n    }\n    m(e.vertexAttributes.position, n, o), e.vertexAttributesChanged();\n  } else a.error(\"Failed to project centerAt location (wkid:\".concat(t.spatialReference.wkid, \") to mesh spatial reference (wkid:\").concat(e.spatialReference.wkid, \")\"));\n}\nfunction m(e, t, r) {\n  if (e) for (var _i = 0; _i < e.length; _i += 3) for (var _o = 0; _o < 3; _o++) e[_i + _o] += t[_o] - r[_o];\n}\nvar l = r(),\n  h = r();\nexport { c as centerAt };","map":{"version":3,"names":["e","isSome","t","c","r","projectPointToVector","i","isGeographicMesh","o","ungeoreference","n","georeference","s","a","getLogger","_i$origin","vertexAttributes","position","origin","transform","geographic","warn","concat","f","spatialReference","p","g","x","y","hasZ","z","_s","normal","tangent","vertexAttributesChanged","h","l","error","wkid","m","length","centerAt"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/geometry/support/meshUtils/centerAt.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{isSome as t}from\"../../../core/maybe.js\";import{c as r}from\"../../../chunks/vec3f64.js\";import{projectPointToVector as i}from\"../../projection.js\";import{isGeographicMesh as o}from\"./geographicUtils.js\";import{ungeoreference as n,georeference as s}from\"./georeference.js\";const a=e.getLogger(\"esri.geometry.support.meshUtils.centerAt\");function c(e,r,i){if(!e.vertexAttributes||!e.vertexAttributes.position)return;const n=i?.origin??e.origin;if(t(e.transform))null!=i?.geographic&&i.geographic!==e.transform.geographic&&a.warn(`Specifying the 'geographic' parameter (${i.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`),f(e.transform,r,n);else{o(e.spatialReference,i)?p(e,r,n):g(e,r,n)}}function f(e,t,r){const i=t.x-r.x,o=t.y-r.y,n=t.hasZ&&r.hasZ?t.z-r.z:0,s=e.origin;e.origin=[s[0]+i,s[1]+o,s[2]+n]}function p(e,t,r){const i=n(e.vertexAttributes,r,{geographic:!0}),{position:o,normal:a,tangent:c}=s(i,t,{geographic:!0});e.vertexAttributes.position=o,e.vertexAttributes.normal=a,e.vertexAttributes.tangent=c,e.vertexAttributesChanged()}function g(e,t,r){const o=h,n=l;if(i(t,n,e.spatialReference)){if(!i(r,o,e.spatialReference)){const t=e.origin;o[0]=t.x,o[1]=t.y,o[2]=t.z,a.error(`Failed to project specified origin (wkid:${r.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid}).`)}m(e.vertexAttributes.position,n,o),e.vertexAttributesChanged()}else a.error(`Failed to project centerAt location (wkid:${t.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid})`)}function m(e,t,r){if(e)for(let i=0;i<e.length;i+=3)for(let o=0;o<3;o++)e[i+o]+=t[o]-r[o]}const l=r(),h=r();export{c as centerAt};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}