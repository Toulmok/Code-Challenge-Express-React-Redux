{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../../chunks/tslib.es6.js\";\nimport { s as r } from \"../../../../../../chunks/vec3.js\";\nimport { c as i } from \"../../../../../../chunks/vec3f64.js\";\nimport { ShaderOutput as o } from \"../ShaderOutput.js\";\nimport { DoublePrecision as n } from \"../util/DoublePrecision.glsl.js\";\nimport { addViewNormal as a } from \"../util/View.glsl.js\";\nimport { Float3DrawUniform as t } from \"../../shaderModules/Float3DrawUniform.js\";\nimport { glsl as s } from \"../../shaderModules/interfaces.js\";\nimport { ShaderTechniqueConfiguration as c, parameter as d } from \"../../shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { VertexAttribute as l } from \"../../../lib/VertexAttribute.js\";\nimport { encodeDoubleHi as m, encodeDoubleLo as u } from \"../../../../../webgl/doublePrecisionUtils.js\";\nclass v extends c {\n  constructor() {\n    super(...arguments), this.instancedDoublePrecision = !1;\n  }\n}\nfunction p(e, i) {\n  i.instanced && i.instancedDoublePrecision && (e.attributes.add(l.MODELORIGINHI, \"vec3\"), e.attributes.add(l.MODELORIGINLO, \"vec3\"), e.attributes.add(l.MODEL, \"mat3\"), e.attributes.add(l.MODELNORMAL, \"mat3\"));\n  const c = e.vertex;\n  i.instancedDoublePrecision && (c.include(n, i), c.uniforms.add(new t(\"viewOriginHi\", (e, i) => m(r(b, i.camera.viewInverseTransposeMatrix[3], i.camera.viewInverseTransposeMatrix[7], i.camera.viewInverseTransposeMatrix[11]), b))), c.uniforms.add(new t(\"viewOriginLo\", (e, i) => u(r(b, i.camera.viewInverseTransposeMatrix[3], i.camera.viewInverseTransposeMatrix[7], i.camera.viewInverseTransposeMatrix[11]), b)))), c.code.add(s`\n    vec3 calculateVPos() {\n      ${i.instancedDoublePrecision ? \"return model * localPosition().xyz;\" : \"return localPosition().xyz;\"}\n    }\n    `), c.code.add(s`\n    vec3 subtractOrigin(vec3 _pos) {\n      ${i.instancedDoublePrecision ? s`\n          vec3 originDelta = dpAdd(viewOriginHi, viewOriginLo, -modelOriginHi, -modelOriginLo);\n          return _pos - originDelta;` : \"return vpos;\"}\n    }\n    `), c.code.add(s`\n    vec3 dpNormal(vec4 _normal) {\n      ${i.instancedDoublePrecision ? \"return normalize(modelNormal * _normal.xyz);\" : \"return normalize(_normal.xyz);\"}\n    }\n    `), i.output === o.Normal && (a(c), c.code.add(s`\n    vec3 dpNormalView(vec4 _normal) {\n      ${i.instancedDoublePrecision ? \"return normalize((viewNormal * vec4(modelNormal * _normal.xyz, 1.0)).xyz);\" : \"return normalize((viewNormal * _normal).xyz);\"}\n    }\n    `)), i.hasVertexTangents && c.code.add(s`\n    vec4 dpTransformVertexTangent(vec4 _tangent) {\n      ${i.instancedDoublePrecision ? \"return vec4(modelNormal * _tangent.xyz, _tangent.w);\" : \"return _tangent;\"}\n\n    }\n    `);\n}\ne([d()], v.prototype, \"instancedDoublePrecision\", void 0);\nconst b = i();\nexport { v as InstancedDoubleConfiguration, p as InstancedDoublePrecision };","map":{"version":3,"names":["_","e","s","r","c","i","ShaderOutput","o","DoublePrecision","n","addViewNormal","a","Float3DrawUniform","t","glsl","ShaderTechniqueConfiguration","parameter","d","VertexAttribute","l","encodeDoubleHi","m","encodeDoubleLo","u","v","constructor","arguments","instancedDoublePrecision","p","instanced","attributes","add","MODELORIGINHI","MODELORIGINLO","MODEL","MODELNORMAL","vertex","include","uniforms","b","camera","viewInverseTransposeMatrix","code","output","Normal","hasVertexTangents","prototype","InstancedDoubleConfiguration","InstancedDoublePrecision"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import{s as r}from\"../../../../../../chunks/vec3.js\";import{c as i}from\"../../../../../../chunks/vec3f64.js\";import{ShaderOutput as o}from\"../ShaderOutput.js\";import{DoublePrecision as n}from\"../util/DoublePrecision.glsl.js\";import{addViewNormal as a}from\"../util/View.glsl.js\";import{Float3DrawUniform as t}from\"../../shaderModules/Float3DrawUniform.js\";import{glsl as s}from\"../../shaderModules/interfaces.js\";import{ShaderTechniqueConfiguration as c,parameter as d}from\"../../shaderTechnique/ShaderTechniqueConfiguration.js\";import{VertexAttribute as l}from\"../../../lib/VertexAttribute.js\";import{encodeDoubleHi as m,encodeDoubleLo as u}from\"../../../../../webgl/doublePrecisionUtils.js\";class v extends c{constructor(){super(...arguments),this.instancedDoublePrecision=!1}}function p(e,i){i.instanced&&i.instancedDoublePrecision&&(e.attributes.add(l.MODELORIGINHI,\"vec3\"),e.attributes.add(l.MODELORIGINLO,\"vec3\"),e.attributes.add(l.MODEL,\"mat3\"),e.attributes.add(l.MODELNORMAL,\"mat3\"));const c=e.vertex;i.instancedDoublePrecision&&(c.include(n,i),c.uniforms.add(new t(\"viewOriginHi\",((e,i)=>m(r(b,i.camera.viewInverseTransposeMatrix[3],i.camera.viewInverseTransposeMatrix[7],i.camera.viewInverseTransposeMatrix[11]),b)))),c.uniforms.add(new t(\"viewOriginLo\",((e,i)=>u(r(b,i.camera.viewInverseTransposeMatrix[3],i.camera.viewInverseTransposeMatrix[7],i.camera.viewInverseTransposeMatrix[11]),b))))),c.code.add(s`\n    vec3 calculateVPos() {\n      ${i.instancedDoublePrecision?\"return model * localPosition().xyz;\":\"return localPosition().xyz;\"}\n    }\n    `),c.code.add(s`\n    vec3 subtractOrigin(vec3 _pos) {\n      ${i.instancedDoublePrecision?s`\n          vec3 originDelta = dpAdd(viewOriginHi, viewOriginLo, -modelOriginHi, -modelOriginLo);\n          return _pos - originDelta;`:\"return vpos;\"}\n    }\n    `),c.code.add(s`\n    vec3 dpNormal(vec4 _normal) {\n      ${i.instancedDoublePrecision?\"return normalize(modelNormal * _normal.xyz);\":\"return normalize(_normal.xyz);\"}\n    }\n    `),i.output===o.Normal&&(a(c),c.code.add(s`\n    vec3 dpNormalView(vec4 _normal) {\n      ${i.instancedDoublePrecision?\"return normalize((viewNormal * vec4(modelNormal * _normal.xyz, 1.0)).xyz);\":\"return normalize((viewNormal * _normal).xyz);\"}\n    }\n    `)),i.hasVertexTangents&&c.code.add(s`\n    vec4 dpTransformVertexTangent(vec4 _tangent) {\n      ${i.instancedDoublePrecision?\"return vec4(modelNormal * _tangent.xyz, _tangent.w);\":\"return _tangent;\"}\n\n    }\n    `)}e([d()],v.prototype,\"instancedDoublePrecision\",void 0);const b=i();export{v as InstancedDoubleConfiguration,p as InstancedDoublePrecision};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}