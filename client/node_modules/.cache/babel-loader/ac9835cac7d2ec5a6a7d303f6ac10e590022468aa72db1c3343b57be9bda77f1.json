{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Accessor.js\";\nimport r from \"../../core/Logger.js\";\nimport { isNone as i, unwrapOrThrow as n } from \"../../core/maybe.js\";\nimport s from \"../../core/Queue.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as a } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { PropertiesPool as l } from \"../3d/support/PropertiesPool.js\";\nimport { primaryKey as h, isSystemModifier as p } from \"./keys.js\";\nimport { LatestPointer as d } from \"./handlers/LatestPointer.js\";\nimport { MultiTouch as c } from \"./handlers/MultiTouch.js\";\nlet u = class extends t {\n  constructor(e) {\n    super(e), this._pointerCaptures = new Map(), this._nameToGroup = {}, this._handlers = [], this._handlersPriority = [], this._currentPropagation = null, this._updateDependenciesAfterPropagation = !1, this._sourceEvents = new Set(), this._keyModifiers = new Set(), this._activeKeyModifiers = new Set(), this._stoppedPropagationEventIds = new Set(), this.primaryKey = h, this._latestPointerType = \"mouse\", this._propertiesPool = new l({\n      latestPointerLocation: f\n    }, this), this.latestPointerLocation = null, this.test = {\n      timestamp: void 0,\n      hasCurrentPropagation: () => !!this._currentPropagation\n    };\n  }\n  initialize() {\n    this.eventSource.onEventReceived = this._onEventReceived.bind(this), this._installRecognizers();\n  }\n  destroy() {\n    const e = Object.keys(this._nameToGroup);\n    for (const t of e) this.uninstallHandlers(t);\n    this.eventSource.destroy(), this._currentPropagation = null, this._propertiesPool.destroy();\n  }\n  get hasPendingInputs() {\n    return this._handlers.some(e => e.handler.hasPendingInputs);\n  }\n  get latestPointerType() {\n    return this._latestPointerType;\n  }\n  get multiTouchActive() {\n    return this._multiTouchHandler.multiTouchActive;\n  }\n  installHandlers(e, t) {\n    let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : P.INTERNAL;\n    if (this._nameToGroup[e]) return void r.getLogger(this.declaredClass).error(\"There is already an InputHandler group registered under the name `\" + e + \"`\");\n    if (0 === t.length) return void r.getLogger(this.declaredClass).error(\"Can't register a group of zero handlers\");\n    const n = {\n      name: e,\n      handlers: t.map(e => ({\n        handler: e,\n        active: !0,\n        removed: !1,\n        priorityIndex: 0,\n        groupPriority: i,\n        eventCallback: null,\n        uninstallCallback: null\n      }))\n    };\n    this._nameToGroup[e] = n;\n    for (let r = n.handlers.length - 1; r >= 0; r--) {\n      const e = n.handlers[r];\n      this._handlers.push(e), e.handler.onInstall({\n        updateDependencies: () => {\n          this.updateDependencies();\n        },\n        emit: (t, r, i, n, s) => {\n          this._emitInputEvent(e.priorityIndex + 1, t, r, i, s, n);\n        },\n        setPointerCapture: (t, r) => {\n          this._setPointerCapture(n, e, t, r);\n        },\n        setEventCallback: t => {\n          e.eventCallback = t;\n        },\n        setUninstallCallback: t => {\n          e.uninstallCallback = t;\n        },\n        refreshHasPendingInputs: () => {\n          this.notifyChange(\"hasPendingInputs\");\n        }\n      });\n    }\n    this.updateDependencies();\n  }\n  uninstallHandlers(e) {\n    const t = this._nameToGroup[e];\n    t ? (t.handlers.forEach(e => {\n      e.removed = !0, e.uninstallCallback?.();\n    }), delete this._nameToGroup[e], this._currentPropagation ? this._currentPropagation.needsHandlerGarbageCollect = !0 : this._garbageCollectRemovedHandlers()) : r.getLogger(this.declaredClass).error(\"There is no InputHandler group registered under the name `\" + e + \"`\");\n  }\n  hasHandlers(e) {\n    return void 0 !== this._nameToGroup[e];\n  }\n  updateDependencies() {\n    if (this._currentPropagation) return void (this._updateDependenciesAfterPropagation = !0);\n    this._updateDependenciesAfterPropagation = !1;\n    const e = new Set(),\n      t = new Set();\n    this._handlersPriority = [];\n    for (let r = this._handlers.length - 1; r >= 0; r--) {\n      const e = this._handlers[r];\n      e.priorityIndex = r, this._handlersPriority.push(e);\n    }\n    this._handlersPriority = this._sortHandlersPriority(this._handlersPriority);\n    for (let r = this._handlersPriority.length - 1; r >= 0; r--) {\n      const i = this._handlersPriority[r];\n      i.priorityIndex = r;\n      let n = i.handler.hasSideEffects;\n      if (!n) for (const t of i.handler.outgoingEventTypes) if (e.has(t)) {\n        n = !0;\n        break;\n      }\n      if (n) for (const r of i.handler.incomingEventMatches) {\n        e.add(r.eventType);\n        for (const e of r.keyModifiers) p(e) || t.add(e);\n      }\n      i.active = n;\n    }\n    this._sourceEvents = e, this._keyModifiers = t, this._pointerCaptures.size > 0 && this._sourceEvents.add(\"pointer-capture-lost\"), this._keyModifiers.size > 0 && (this._sourceEvents.add(\"key-down\"), this._sourceEvents.add(\"key-up\")), this.eventSource && (this.eventSource.activeEvents = this._sourceEvents);\n  }\n  _setLatestPointer(e, t, r) {\n    this._latestPointerType = e;\n    const n = this._get(\"latestPointerLocation\");\n    if (i(n) || n.x !== t || n.y !== r) {\n      const e = this._propertiesPool.get(\"latestPointerLocation\");\n      e.x = t, e.y = r, this._set(\"latestPointerLocation\", e);\n    }\n  }\n  _onEventReceived(e, t) {\n    if (\"pointer-capture-lost\" === e) {\n      const e = t;\n      this._pointerCaptures.delete(e.native.pointerId);\n    }\n    this._updateKeyModifiers(e, t);\n    const r = null != this.test.timestamp ? this.test.timestamp : t.native ? t.native.timestamp : void 0,\n      i = t.native ? t.native.cancelable : void 0;\n    this._emitInputEventFromSource(e, t, r, i);\n  }\n  _updateKeyModifiers(e, t) {\n    if (!t) return;\n    let r = !1;\n    const i = () => {\n        if (!r) {\n          const e = new Set();\n          this._activeKeyModifiers.forEach(t => {\n            e.add(t);\n          }), this._activeKeyModifiers = e, r = !0;\n        }\n      },\n      n = (e, t) => {\n        t && !this._activeKeyModifiers.has(e) ? (i(), this._activeKeyModifiers.add(e)) : !t && this._activeKeyModifiers.has(e) && (i(), this._activeKeyModifiers.delete(e));\n      };\n    if (\"key-down\" === e || \"key-up\" === e) {\n      const r = t.key;\n      this._keyModifiers.has(r) && n(r, \"key-down\" === e);\n    }\n    const s = t.native;\n    n(\"Alt\", !(!s || !s.altKey)), n(\"Ctrl\", !(!s || !s.ctrlKey)), n(\"Shift\", !(!s || !s.shiftKey)), n(\"Meta\", !(!s || !s.metaKey)), n(\"Primary\", this._activeKeyModifiers.has(this.primaryKey));\n  }\n  _installRecognizers() {\n    this._latestPointerHandler = new d((e, t, r) => this._setLatestPointer(e, t, r)), this._multiTouchHandler = new c(), this.installHandlers(\"input-manager-logic\", [this._latestPointerHandler, this._multiTouchHandler], P.ALWAYS), this.recognizers.length > 0 && this.installHandlers(\"default\", this.recognizers, P.INTERNAL);\n  }\n  _setPointerCapture(e, t, r, i) {\n    const n = e.name + \"-\" + t.priorityIndex,\n      s = this._pointerCaptures.get(r.pointerId) || new Set();\n    this._pointerCaptures.set(r.pointerId, s), i ? (s.add(n), 1 === s.size && this.eventSource && this.eventSource.setPointerCapture(r, !0)) : s.has(n) && (s.delete(n), 0 === s.size && (this._pointerCaptures.delete(r.pointerId), this.eventSource && this.eventSource.setPointerCapture(r, !1)));\n  }\n  _garbageCollectRemovedHandlers() {\n    this._handlers = this._handlers.filter(e => !e.removed), this.updateDependencies();\n  }\n  _emitInputEventFromSource(e, t, r, i) {\n    this._emitInputEvent(0, e, t, r, i);\n  }\n  _emitInputEvent(e, t, r, i, n, s) {\n    const o = void 0 !== i ? i : this._currentPropagation ? this._currentPropagation.timestamp : performance.now(),\n      a = void 0 !== n && n,\n      l = {\n        event: new _(t, r, o, s || this._activeKeyModifiers, a),\n        priorityIndex: e\n      };\n    this._currentPropagation ? this._currentPropagation.events.push(l) : this._doNewPropagation(l);\n  }\n  _doNewPropagation(e) {\n    this._currentPropagation = {\n      events: new s(),\n      currentHandler: null,\n      needsHandlerGarbageCollect: !1,\n      timestamp: e.event.timestamp\n    }, this._currentPropagation.events.push(e), this._continuePropagation();\n  }\n  _continuePropagation() {\n    const e = n(this._currentPropagation);\n    for (; e.events.length > 0;) {\n      const {\n          event: t,\n          priorityIndex: r\n        } = e.events.pop(),\n        i = t.data && t.data.eventId;\n      if (!(null != i && this._stoppedPropagationEventIds.has(i))) for (e.currentHandler = this._handlersPriority[r]; e.currentHandler;) {\n        if (e.currentHandler.removed) e.needsHandlerGarbageCollect = !0;else {\n          if (e.currentHandler.active && !t.shouldStopPropagation() && e.currentHandler.eventCallback?.(t), t.shouldStopPropagation()) {\n            null != i && this._stoppedPropagationEventIds.add(i);\n            break;\n          }\n          if (t.shouldPausePropagation(() => this._continuePropagation())) return void this._pausePropagation({\n            event: t,\n            priorityIndex: e.currentHandler.priorityIndex + 1\n          });\n        }\n        e.currentHandler = this._handlersPriority[e.currentHandler.priorityIndex + 1];\n      }\n    }\n    e.needsHandlerGarbageCollect && this._garbageCollectRemovedHandlers(), this.hasPendingInputs || this._stoppedPropagationEventIds.clear(), this._currentPropagation = null, this._updateDependenciesAfterPropagation && this.updateDependencies();\n  }\n  _pausePropagation(e) {\n    const t = new s();\n    t.push(e);\n    const r = this._currentPropagation;\n    if (r) {\n      for (; r.events.length;) t.push(r.events.pop());\n      r.events = t, r.currentHandler = null;\n    }\n  }\n  _compareHandlerPriority(e, t) {\n    if (e.handler.hasSideEffects !== t.handler.hasSideEffects) return e.handler.hasSideEffects ? 1 : -1;\n    if (e.groupPriority !== t.groupPriority) return e.groupPriority > t.groupPriority ? -1 : 1;\n    for (const r of e.handler.incomingEventMatches) for (const e of t.handler.incomingEventMatches) {\n      if (r.eventType !== e.eventType) continue;\n      const t = r.keyModifiers.filter(t => e.keyModifiers.includes(t));\n      if (t.length === r.keyModifiers.length !== (t.length === e.keyModifiers.length)) return r.keyModifiers.length > e.keyModifiers.length ? -1 : 1;\n    }\n    return e.priorityIndex > t.priorityIndex ? -1 : 1;\n  }\n  _sortHandlersPriority(e) {\n    const t = [];\n    for (const r of e) {\n      let e = 0;\n      for (; e < t.length && this._compareHandlerPriority(r, t[e]) >= 0;) e++;\n      t.splice(e, 0, r);\n    }\n    return t;\n  }\n  get debug() {\n    const e = e => {\n      const t = this._setPointerCapture;\n      this._setPointerCapture = () => {}, e(), this._setPointerCapture = t;\n    };\n    return {\n      injectEvent: (t, r) => {\n        e(() => {\n          this._onEventReceived(t, r);\n        });\n      },\n      disablePointerCapture: e\n    };\n  }\n};\ne([o({\n  readOnly: !0\n})], u.prototype, \"hasPendingInputs\", null), e([o({\n  constructOnly: !0\n})], u.prototype, \"eventSource\", void 0), e([o({\n  constructOnly: !0\n})], u.prototype, \"recognizers\", void 0), e([o()], u.prototype, \"_latestPointerType\", void 0), e([o()], u.prototype, \"latestPointerType\", null), e([o()], u.prototype, \"multiTouchActive\", null), e([o({\n  readOnly: !0\n})], u.prototype, \"latestPointerLocation\", void 0), u = e([a(\"esri.views.input.InputManager\")], u);\nclass _ {\n  constructor(e, t, r, i, n) {\n    this.type = e, this.data = t, this.timestamp = r, this.modifiers = i, this.cancelable = n, this._propagationState = g.NONE, this._resumeCallback = null;\n  }\n  stopPropagation() {\n    this._propagationState |= g.STOPPED;\n  }\n  shouldStopPropagation() {\n    return 0 != (this._propagationState & g.STOPPED);\n  }\n  async(e) {\n    this._propagationState |= g.PAUSED;\n    const t = (e, t) => {\n      this._propagationState &= ~g.PAUSED;\n      const r = this._resumeCallback;\n      if (this._resumeCallback = null, r && r(), t) throw e;\n      return e;\n    };\n    return (\"function\" == typeof e ? e() : e).then(e => t(e, !1), e => t(e, !0));\n  }\n  shouldPausePropagation(e) {\n    return !!(this._propagationState & g.PAUSED) && (this._resumeCallback = e, !0);\n  }\n  preventDefault() {\n    this.data.native.preventDefault();\n  }\n}\nvar g;\n!function (e) {\n  e[e.NONE = 0] = \"NONE\", e[e.STOPPED = 1] = \"STOPPED\", e[e.PAUSED = 2] = \"PAUSED\";\n}(g || (g = {}));\nconst P = {\n  ALWAYS: 1,\n  DEFAULT: 0,\n  TOOL: -1,\n  WIDGET: -2,\n  INTERNAL: -3\n};\nclass v {}\nconst f = v;\nexport { u as InputManager, P as ViewEventPriorities };","map":{"version":3,"names":["_","e","t","r","isNone","i","unwrapOrThrow","n","s","property","o","subclass","a","PropertiesPool","l","primaryKey","h","isSystemModifier","p","LatestPointer","d","MultiTouch","c","u","constructor","_pointerCaptures","Map","_nameToGroup","_handlers","_handlersPriority","_currentPropagation","_updateDependenciesAfterPropagation","_sourceEvents","Set","_keyModifiers","_activeKeyModifiers","_stoppedPropagationEventIds","_latestPointerType","_propertiesPool","latestPointerLocation","f","test","timestamp","hasCurrentPropagation","initialize","eventSource","onEventReceived","_onEventReceived","bind","_installRecognizers","destroy","Object","keys","uninstallHandlers","hasPendingInputs","some","handler","latestPointerType","multiTouchActive","_multiTouchHandler","installHandlers","arguments","length","undefined","P","INTERNAL","getLogger","declaredClass","error","name","handlers","map","active","removed","priorityIndex","groupPriority","eventCallback","uninstallCallback","push","onInstall","updateDependencies","emit","_emitInputEvent","setPointerCapture","_setPointerCapture","setEventCallback","setUninstallCallback","refreshHasPendingInputs","notifyChange","forEach","needsHandlerGarbageCollect","_garbageCollectRemovedHandlers","hasHandlers","_sortHandlersPriority","hasSideEffects","outgoingEventTypes","has","incomingEventMatches","add","eventType","keyModifiers","size","activeEvents","_setLatestPointer","_get","x","y","get","_set","delete","native","pointerId","_updateKeyModifiers","cancelable","_emitInputEventFromSource","key","altKey","ctrlKey","shiftKey","metaKey","_latestPointerHandler","ALWAYS","recognizers","set","filter","performance","now","event","events","_doNewPropagation","currentHandler","_continuePropagation","pop","data","eventId","shouldStopPropagation","shouldPausePropagation","_pausePropagation","clear","_compareHandlerPriority","includes","splice","debug","injectEvent","disablePointerCapture","readOnly","prototype","constructOnly","type","modifiers","_propagationState","g","NONE","_resumeCallback","stopPropagation","STOPPED","async","PAUSED","then","preventDefault","DEFAULT","TOOL","WIDGET","v","InputManager","ViewEventPriorities"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/input/InputManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Logger.js\";import{isNone as i,unwrapOrThrow as n}from\"../../core/maybe.js\";import s from\"../../core/Queue.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{PropertiesPool as l}from\"../3d/support/PropertiesPool.js\";import{primaryKey as h,isSystemModifier as p}from\"./keys.js\";import{LatestPointer as d}from\"./handlers/LatestPointer.js\";import{MultiTouch as c}from\"./handlers/MultiTouch.js\";let u=class extends t{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=h,this._latestPointerType=\"mouse\",this._propertiesPool=new l({latestPointerLocation:f},this),this.latestPointerLocation=null,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some((e=>e.handler.hasPendingInputs))}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}installHandlers(e,t,i=P.INTERNAL){if(this._nameToGroup[e])return void r.getLogger(this.declaredClass).error(\"There is already an InputHandler group registered under the name `\"+e+\"`\");if(0===t.length)return void r.getLogger(this.declaredClass).error(\"Can't register a group of zero handlers\");const n={name:e,handlers:t.map((e=>({handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:i,eventCallback:null,uninstallCallback:null})))};this._nameToGroup[e]=n;for(let r=n.handlers.length-1;r>=0;r--){const e=n.handlers[r];this._handlers.push(e),e.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(t,r,i,n,s)=>{this._emitInputEvent(e.priorityIndex+1,t,r,i,s,n)},setPointerCapture:(t,r)=>{this._setPointerCapture(n,e,t,r)},setEventCallback:t=>{e.eventCallback=t},setUninstallCallback:t=>{e.uninstallCallback=t},refreshHasPendingInputs:()=>{this.notifyChange(\"hasPendingInputs\")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach((e=>{e.removed=!0,e.uninstallCallback?.()})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):r.getLogger(this.declaredClass).error(\"There is no InputHandler group registered under the name `\"+e+\"`\")}hasHandlers(e){return void 0!==this._nameToGroup[e]}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,t=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const e=this._handlers[r];e.priorityIndex=r,this._handlersPriority.push(e)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const i=this._handlersPriority[r];i.priorityIndex=r;let n=i.handler.hasSideEffects;if(!n)for(const t of i.handler.outgoingEventTypes)if(e.has(t)){n=!0;break}if(n)for(const r of i.handler.incomingEventMatches){e.add(r.eventType);for(const e of r.keyModifiers)p(e)||t.add(e)}i.active=n}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add(\"pointer-capture-lost\"),this._keyModifiers.size>0&&(this._sourceEvents.add(\"key-down\"),this._sourceEvents.add(\"key-up\")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,t,r){this._latestPointerType=e;const n=this._get(\"latestPointerLocation\");if(i(n)||n.x!==t||n.y!==r){const e=this._propertiesPool.get(\"latestPointerLocation\");e.x=t,e.y=r,this._set(\"latestPointerLocation\",e)}}_onEventReceived(e,t){if(\"pointer-capture-lost\"===e){const e=t;this._pointerCaptures.delete(e.native.pointerId)}this._updateKeyModifiers(e,t);const r=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,i=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,r,i)}_updateKeyModifiers(e,t){if(!t)return;let r=!1;const i=()=>{if(!r){const e=new Set;this._activeKeyModifiers.forEach((t=>{e.add(t)})),this._activeKeyModifiers=e,r=!0}},n=(e,t)=>{t&&!this._activeKeyModifiers.has(e)?(i(),this._activeKeyModifiers.add(e)):!t&&this._activeKeyModifiers.has(e)&&(i(),this._activeKeyModifiers.delete(e))};if(\"key-down\"===e||\"key-up\"===e){const r=t.key;this._keyModifiers.has(r)&&n(r,\"key-down\"===e)}const s=t.native;n(\"Alt\",!(!s||!s.altKey)),n(\"Ctrl\",!(!s||!s.ctrlKey)),n(\"Shift\",!(!s||!s.shiftKey)),n(\"Meta\",!(!s||!s.metaKey)),n(\"Primary\",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new d(((e,t,r)=>this._setLatestPointer(e,t,r))),this._multiTouchHandler=new c,this.installHandlers(\"input-manager-logic\",[this._latestPointerHandler,this._multiTouchHandler],P.ALWAYS),this.recognizers.length>0&&this.installHandlers(\"default\",this.recognizers,P.INTERNAL)}_setPointerCapture(e,t,r,i){const n=e.name+\"-\"+t.priorityIndex,s=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,s),i?(s.add(n),1===s.size&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):s.has(n)&&(s.delete(n),0===s.size&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter((e=>!e.removed)),this.updateDependencies()}_emitInputEventFromSource(e,t,r,i){this._emitInputEvent(0,e,t,r,i)}_emitInputEvent(e,t,r,i,n,s){const o=void 0!==i?i:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),a=void 0!==n&&n,l={event:new _(t,r,o,s||this._activeKeyModifiers,a),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(l):this._doNewPropagation(l)}_doNewPropagation(e){this._currentPropagation={events:new s,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){const e=n(this._currentPropagation);for(;e.events.length>0;){const{event:t,priorityIndex:r}=e.events.pop(),i=t.data&&t.data.eventId;if(!(null!=i&&this._stoppedPropagationEventIds.has(i)))for(e.currentHandler=this._handlersPriority[r];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback?.(t),t.shouldStopPropagation()){null!=i&&this._stoppedPropagationEventIds.add(i);break}if(t.shouldPausePropagation((()=>this._continuePropagation())))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}_pausePropagation(e){const t=new s;t.push(e);const r=this._currentPropagation;if(r){for(;r.events.length;)t.push(r.events.pop());r.events=t,r.currentHandler=null}}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const r of e.handler.incomingEventMatches)for(const e of t.handler.incomingEventMatches){if(r.eventType!==e.eventType)continue;const t=r.keyModifiers.filter((t=>e.keyModifiers.includes(t)));if(t.length===r.keyModifiers.length!==(t.length===e.keyModifiers.length))return r.keyModifiers.length>e.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const r of e){let e=0;for(;e<t.length&&this._compareHandlerPriority(r,t[e])>=0;)e++;t.splice(e,0,r)}return t}get debug(){const e=e=>{const t=this._setPointerCapture;this._setPointerCapture=()=>{},e(),this._setPointerCapture=t};return{injectEvent:(t,r)=>{e((()=>{this._onEventReceived(t,r)}))},disablePointerCapture:e}}};e([o({readOnly:!0})],u.prototype,\"hasPendingInputs\",null),e([o({constructOnly:!0})],u.prototype,\"eventSource\",void 0),e([o({constructOnly:!0})],u.prototype,\"recognizers\",void 0),e([o()],u.prototype,\"_latestPointerType\",void 0),e([o()],u.prototype,\"latestPointerType\",null),e([o()],u.prototype,\"multiTouchActive\",null),e([o({readOnly:!0})],u.prototype,\"latestPointerLocation\",void 0),u=e([a(\"esri.views.input.InputManager\")],u);class _{constructor(e,t,r,i,n){this.type=e,this.data=t,this.timestamp=r,this.modifiers=i,this.cancelable=n,this._propagationState=g.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=g.STOPPED}shouldStopPropagation(){return 0!=(this._propagationState&g.STOPPED)}async(e){this._propagationState|=g.PAUSED;const t=(e,t)=>{this._propagationState&=~g.PAUSED;const r=this._resumeCallback;if(this._resumeCallback=null,r&&r(),t)throw e;return e};return(\"function\"==typeof e?e():e).then((e=>t(e,!1)),(e=>t(e,!0)))}shouldPausePropagation(e){return!!(this._propagationState&g.PAUSED)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}}var g;!function(e){e[e.NONE=0]=\"NONE\",e[e.STOPPED=1]=\"STOPPED\",e[e.PAUSED=2]=\"PAUSED\"}(g||(g={}));const P={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class v{}const f=v;export{u as InputManager,P as ViewEventPriorities};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}