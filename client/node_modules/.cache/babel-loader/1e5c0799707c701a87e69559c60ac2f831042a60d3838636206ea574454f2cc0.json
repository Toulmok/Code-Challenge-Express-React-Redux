{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isNone as e, isSome as r } from \"../../core/maybe.js\";\nimport { urlToObject as t, removeTrailingSlash as s, removeQueryParameters as n, join as l, Url as u, makeAbsolute as i } from \"../../core/urlUtils.js\";\nimport { w as o } from \"../../chunks/persistableUrlUtils.js\";\nconst c = {\n    mapserver: \"MapServer\",\n    imageserver: \"ImageServer\",\n    featureserver: \"FeatureServer\",\n    sceneserver: \"SceneServer\",\n    streamserver: \"StreamServer\",\n    vectortileserver: \"VectorTileServer\"\n  },\n  a = Object.values(c),\n  f = new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`, \"i\"),\n  v = new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`, \"i\"),\n  p = /(.*?)\\/(?:layers\\/)?(\\d+)\\/?$/i;\nfunction m(e) {\n  return !!f.test(e);\n}\nfunction d(r) {\n  if (e(r)) return null;\n  const s = t(r),\n    n = s.path.match(f) || s.path.match(v);\n  if (!n) return null;\n  const [, l, u, i, o] = n,\n    a = u.indexOf(\"/\");\n  return {\n    title: w(-1 !== a ? u.slice(a + 1) : u),\n    serverType: c[i.toLowerCase()],\n    sublayer: null != o && \"\" !== o ? parseInt(o, 10) : null,\n    url: {\n      path: l\n    }\n  };\n}\nfunction h(e) {\n  const r = t(e).path.match(p);\n  return r ? {\n    serviceUrl: r[1],\n    sublayerId: Number(r[2])\n  } : null;\n}\nfunction w(e) {\n  return (e = e.replace(/\\s*[/_]+\\s*/g, \" \"))[0].toUpperCase() + e.slice(1);\n}\nfunction y(e, t) {\n  const s = [];\n  if (e) {\n    const t = d(e);\n    r(t) && t.title && s.push(t.title);\n  }\n  if (t) {\n    const e = w(t);\n    s.push(e);\n  }\n  if (2 === s.length) {\n    if (s[0].toLowerCase().includes(s[1].toLowerCase())) return s[0];\n    if (s[1].toLowerCase().includes(s[0].toLowerCase())) return s[1];\n  }\n  return s.join(\" - \");\n}\nfunction g(e) {\n  if (!e) return !1;\n  const r = \".arcgis.com/\",\n    t = \"//services\",\n    s = \"//tiles\",\n    n = \"//features\",\n    l = (e = e.toLowerCase()).includes(r),\n    u = e.includes(t) || e.includes(s) || e.includes(n);\n  return l && u;\n}\nfunction S(e, r) {\n  return e ? s(n(e, r)) : e;\n}\nfunction b(e) {\n  let {\n    url: l\n  } = e;\n  if (!l) return {\n    url: l\n  };\n  l = n(l, e.logger);\n  const u = t(l),\n    i = d(u.path);\n  let o;\n  if (r(i)) null != i.sublayer && null == e.layer.layerId && (o = i.sublayer), l = i.url.path;else if (e.nonStandardUrlAllowed) {\n    const e = h(u.path);\n    r(e) && (l = e.serviceUrl, o = e.sublayerId);\n  }\n  return {\n    url: s(l),\n    layerId: o\n  };\n}\nfunction C(e, r, t, s, n) {\n  o(r, s, \"url\", n), s.url && null != e.layerId && (s.url = l(s.url, t, e.layerId.toString()));\n}\nfunction I(e) {\n  if (!e) return !1;\n  const r = e.toLowerCase(),\n    t = r.includes(\"/services/\"),\n    s = r.includes(\"/mapserver/wmsserver\"),\n    n = r.includes(\"/imageserver/wmsserver\"),\n    l = r.includes(\"/wmsserver\");\n  return t && (s || n || l);\n}\nfunction L(e) {\n  if (!e) return !1;\n  const r = new u(i(e)).authority?.toLowerCase();\n  return \"server.arcgisonline.com\" === r || \"services.arcgisonline.com\" === r;\n}\nexport { w as cleanTitle, m as isArcGISUrl, g as isHostedAgolService, L as isServerOrServicesAGOLUrl, I as isWmsServer, d as parse, h as parseNonStandardSublayerUrl, S as sanitizeUrl, b as sanitizeUrlWithLayerId, a as serverTypes, y as titleFromUrlAndName, C as writeUrlWithLayerId };","map":{"version":3,"names":["isNone","e","isSome","r","urlToObject","t","removeTrailingSlash","s","removeQueryParameters","n","join","l","Url","u","makeAbsolute","i","w","o","c","mapserver","imageserver","featureserver","sceneserver","streamserver","vectortileserver","a","Object","values","f","RegExp","v","p","m","test","d","path","match","indexOf","title","slice","serverType","toLowerCase","sublayer","parseInt","url","h","serviceUrl","sublayerId","Number","replace","toUpperCase","y","push","length","includes","g","S","b","logger","layer","layerId","nonStandardUrlAllowed","C","toString","I","L","authority","cleanTitle","isArcGISUrl","isHostedAgolService","isServerOrServicesAGOLUrl","isWmsServer","parse","parseNonStandardSublayerUrl","sanitizeUrl","sanitizeUrlWithLayerId","serverTypes","titleFromUrlAndName","writeUrlWithLayerId"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../core/maybe.js\";import{urlToObject as t,removeTrailingSlash as s,removeQueryParameters as n,join as l,Url as u,makeAbsolute as i}from\"../../core/urlUtils.js\";import{w as o}from\"../../chunks/persistableUrlUtils.js\";const c={mapserver:\"MapServer\",imageserver:\"ImageServer\",featureserver:\"FeatureServer\",sceneserver:\"SceneServer\",streamserver:\"StreamServer\",vectortileserver:\"VectorTileServer\"},a=Object.values(c),f=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),v=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),p=/(.*?)\\/(?:layers\\/)?(\\d+)\\/?$/i;function m(e){return!!f.test(e)}function d(r){if(e(r))return null;const s=t(r),n=s.path.match(f)||s.path.match(v);if(!n)return null;const[,l,u,i,o]=n,a=u.indexOf(\"/\");return{title:w(-1!==a?u.slice(a+1):u),serverType:c[i.toLowerCase()],sublayer:null!=o&&\"\"!==o?parseInt(o,10):null,url:{path:l}}}function h(e){const r=t(e).path.match(p);return r?{serviceUrl:r[1],sublayerId:Number(r[2])}:null}function w(e){return(e=e.replace(/\\s*[/_]+\\s*/g,\" \"))[0].toUpperCase()+e.slice(1)}function y(e,t){const s=[];if(e){const t=d(e);r(t)&&t.title&&s.push(t.title)}if(t){const e=w(t);s.push(e)}if(2===s.length){if(s[0].toLowerCase().includes(s[1].toLowerCase()))return s[0];if(s[1].toLowerCase().includes(s[0].toLowerCase()))return s[1]}return s.join(\" - \")}function g(e){if(!e)return!1;const r=\".arcgis.com/\",t=\"//services\",s=\"//tiles\",n=\"//features\",l=(e=e.toLowerCase()).includes(r),u=e.includes(t)||e.includes(s)||e.includes(n);return l&&u}function S(e,r){return e?s(n(e,r)):e}function b(e){let{url:l}=e;if(!l)return{url:l};l=n(l,e.logger);const u=t(l),i=d(u.path);let o;if(r(i))null!=i.sublayer&&null==e.layer.layerId&&(o=i.sublayer),l=i.url.path;else if(e.nonStandardUrlAllowed){const e=h(u.path);r(e)&&(l=e.serviceUrl,o=e.sublayerId)}return{url:s(l),layerId:o}}function C(e,r,t,s,n){o(r,s,\"url\",n),s.url&&null!=e.layerId&&(s.url=l(s.url,t,e.layerId.toString()))}function I(e){if(!e)return!1;const r=e.toLowerCase(),t=r.includes(\"/services/\"),s=r.includes(\"/mapserver/wmsserver\"),n=r.includes(\"/imageserver/wmsserver\"),l=r.includes(\"/wmsserver\");return t&&(s||n||l)}function L(e){if(!e)return!1;const r=new u(i(e)).authority?.toLowerCase();return\"server.arcgisonline.com\"===r||\"services.arcgisonline.com\"===r}export{w as cleanTitle,m as isArcGISUrl,g as isHostedAgolService,L as isServerOrServicesAGOLUrl,I as isWmsServer,d as parse,h as parseNonStandardSublayerUrl,S as sanitizeUrl,b as sanitizeUrlWithLayerId,a as serverTypes,y as titleFromUrlAndName,C as writeUrlWithLayerId};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}