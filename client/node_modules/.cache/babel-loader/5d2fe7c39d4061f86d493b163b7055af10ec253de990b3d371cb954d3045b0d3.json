{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { acosClamped as e } from \"../../../../core/mathUtils.js\";\nimport t from \"../../../../core/ObjectPool.js\";\nimport { b as i, g as s, a as r, o as n, e as o } from \"../../../../chunks/vec3.js\";\nimport { c as a } from \"../../../../chunks/vec3f64.js\";\nimport { getReferenceEllipsoid as u } from \"../../../../geometry/ellipsoidUtils.js\";\nimport { PointIndex as l, PlaneIndex as d } from \"../../../../geometry/support/frustum.js\";\nimport { create as _, projectVector as c, fromPoints as h, normal as m } from \"../../../../geometry/support/plane.js\";\nimport { wrap as T } from \"../../../../geometry/support/ray.js\";\nimport { ViewingMode as p } from \"../../../ViewingMode.js\";\nimport { FeatureTileDescriptor3D as E, Visibility as I } from \"./FeatureTileDescriptor3D.js\";\nimport { Frustum as F } from \"../../state/Frustum.js\";\nimport { FrustumExtentIntersection as f } from \"../../support/FrustumExtentIntersection.js\";\nclass A {\n  constructor(e) {\n    this._renderCoordsHelper = e, this._surfaceElevation = 0, this._cache = new Map(), this._frustum = new F(e), this._extendedFrustum = new F(e), this._intersector = new f({\n      renderCoordsHelper: e\n    }), this._renderCoordsHelper = e;\n  }\n  begin(e, t) {\n    this._surfaceElevation = t, this._aboveGround = this._renderCoordsHelper.getAltitude(e.eye) > t, this._frustum.update(e), this._shortenFrustumFarPlane(this._frustum), this._updateExtendedFrustum(e);\n  }\n  end() {\n    this._cache.clear();\n  }\n  calculate(e) {\n    if (this._allTilesInvisible) return I.INVISIBLE;\n    const t = this._renderCoordsHelper.viewingMode === p.Global && e.lij[0] >= R && e.lij[0] < O,\n      i = this._getOrCalculateSingleTileVisibility(e, !t);\n    return i !== I.INVISIBLE && t ? this._calculateAggregatedChildrenVisibility(e) : i;\n  }\n  _shortenFrustumFarPlane(e) {\n    const t = F.nearFarLineIndices,\n      n = e.mutablePoints;\n    for (const o of t) {\n      const [e, t] = o,\n        a = n[e],\n        u = n[t];\n      i(S, u, a), s(S, S, b), r(n[t], a, S);\n    }\n    e.updatePoints(n);\n  }\n  _calculateAggregatedChildrenVisibility(e) {\n    let t = I.INVISIBLE;\n    const i = this._cache.get(e.id);\n    if (null != i) return i;\n    const s = H.acquire();\n    e.getChildren(s);\n    for (const r of s) {\n      const e = this.calculate(r);\n      if (e !== I.INVISIBLE && (t = e, e === I.VISIBLE_ON_SURFACE)) break;\n    }\n    return H.release(s), this._cache.set(e.id, t), t;\n  }\n  _getOrCalculateSingleTileVisibility(e, t) {\n    const i = this._cache.get(e.id);\n    if (null != i) return i;\n    const s = this._calculateSingleTileVisibility(e);\n    return t && this._cache.set(e.id, s), s;\n  }\n  _calculateSingleTileVisibility(e) {\n    if (!this._aboveGround && this._renderCoordsHelper.viewingMode === p.Global && e.lij[0] < g) {\n      return this._calculateSingleTileVisibilitySided(e, !1) === I.INVISIBLE ? this._calculateSingleTileVisibilitySided(e, !0) : void 0;\n    }\n    return this._calculateSingleTileVisibilitySided(e, this._aboveGround);\n  }\n  _calculateSingleTileVisibilitySided(e, t) {\n    this._intersector.update(e.extent, e.tilingScheme.spatialReference, this._surfaceElevation, t);\n    const i = u(e.tilingScheme.spatialReference).radius;\n    return this._intersector.isVisibleInFrustum(this._extendedFrustum, i) ? this._intersector.isVisibleInFrustum(this._frustum, i, !0) ? I.VISIBLE_ON_SURFACE : I.VISIBLE_WHEN_EXTENDED : I.INVISIBLE;\n  }\n  _updateExtendedFrustum(t) {\n    this._extendedFrustum.update(t), this._shortenFrustumFarPlane(this._extendedFrustum);\n    const i = this._renderCoordsHelper.worldUpAtPosition(t.eye, S);\n    this._aboveGround || n(i, i);\n    const r = e(-o(i, t.viewForward));\n    if (this._allTilesInvisible = r > (Math.PI + t.fovY) / 2, this._allTilesInvisible) return;\n    if (this._hasExtendedFrustum = r > t.fovY / 2, !this._hasExtendedFrustum) return;\n    const a = this._extendedFrustumParameters(),\n      u = this._extendedFrustum.mutablePoints;\n    for (let e = 0; e < 4; e++) {\n      const t = a.pointIndices[e],\n        i = u[t],\n        r = this._renderCoordsHelper.getAltitude(i);\n      if (a.needsAltitudeAdjustment(r)) {\n        switch (this._renderCoordsHelper.worldUpAtPosition(i, S), t) {\n          case l.FAR_BOTTOM_LEFT:\n          case l.FAR_TOP_LEFT:\n          case l.NEAR_BOTTOM_LEFT:\n          case l.NEAR_TOP_LEFT:\n            c(this._extendedFrustum.planes[d.LEFT], S, S);\n            break;\n          case l.FAR_BOTTOM_RIGHT:\n          case l.FAR_TOP_RIGHT:\n          case l.NEAR_BOTTOM_RIGHT:\n          case l.NEAR_TOP_RIGHT:\n            c(this._extendedFrustum.planes[d.RIGHT], S, S);\n        }\n        s(S, S, a.direction), this._renderCoordsHelper.intersectInfiniteManifold(T(i, S), a.zWithMargin, i);\n      }\n    }\n    if (this._extendedFrustum.updatePoints(u), h(u[l.NEAR_BOTTOM_LEFT], u[l.NEAR_BOTTOM_RIGHT], u[l.NEAR_TOP_RIGHT], N), h(u[l.NEAR_BOTTOM_RIGHT], u[l.NEAR_TOP_RIGHT], u[l.NEAR_TOP_LEFT], v), o(m(N), m(v)) < 0) {\n      const e = this._extendedFrustum.mutablePoints;\n      this._aboveGround ? [e[l.NEAR_BOTTOM_LEFT], e[l.NEAR_BOTTOM_RIGHT]] = [e[l.NEAR_BOTTOM_RIGHT], e[l.NEAR_BOTTOM_LEFT]] : [e[l.NEAR_TOP_LEFT], e[l.NEAR_TOP_RIGHT]] = [e[l.NEAR_TOP_RIGHT], e[l.NEAR_TOP_LEFT]], this._extendedFrustum.updatePoints(e);\n    }\n  }\n  _extendedFrustumParameters() {\n    return this._aboveGround ? this._extendedFrustumParametersAboveSurface() : this._extendedFrustumParametersBelowSurface();\n  }\n  _extendedFrustumParametersAboveSurface() {\n    const e = this._surfaceElevation - P;\n    return {\n      zWithMargin: e,\n      pointIndices: F.planePointIndices.bottom,\n      direction: -1,\n      needsAltitudeAdjustment: t => t > e\n    };\n  }\n  _extendedFrustumParametersBelowSurface() {\n    const e = this._surfaceElevation + P;\n    return {\n      zWithMargin: e,\n      pointIndices: F.planePointIndices.top,\n      direction: 1,\n      needsAltitudeAdjustment: t => t < e\n    };\n  }\n}\nconst R = 2,\n  O = 6,\n  g = 12,\n  b = .95,\n  P = 1,\n  S = a(),\n  N = _(),\n  v = _(),\n  H = new t(Array, e => {\n    4 !== e.length && (e[0] = new E(), e[1] = new E(), e[2] = new E(), e[3] = new E());\n  }, e => {\n    e[0].release(), e[1].release(), e[2].release(), e[3].release();\n  });\nexport { A as FeatureTileVisibility3D };","map":{"version":3,"names":["acosClamped","e","t","b","i","g","s","a","r","o","n","c","getReferenceEllipsoid","u","PointIndex","l","PlaneIndex","d","create","_","projectVector","fromPoints","h","normal","m","wrap","T","ViewingMode","p","FeatureTileDescriptor3D","E","Visibility","I","Frustum","F","FrustumExtentIntersection","f","A","constructor","_renderCoordsHelper","_surfaceElevation","_cache","Map","_frustum","_extendedFrustum","_intersector","renderCoordsHelper","begin","_aboveGround","getAltitude","eye","update","_shortenFrustumFarPlane","_updateExtendedFrustum","end","clear","calculate","_allTilesInvisible","INVISIBLE","viewingMode","Global","lij","R","O","_getOrCalculateSingleTileVisibility","_calculateAggregatedChildrenVisibility","nearFarLineIndices","mutablePoints","S","updatePoints","get","id","H","acquire","getChildren","VISIBLE_ON_SURFACE","release","set","_calculateSingleTileVisibility","_calculateSingleTileVisibilitySided","extent","tilingScheme","spatialReference","radius","isVisibleInFrustum","VISIBLE_WHEN_EXTENDED","worldUpAtPosition","viewForward","Math","PI","fovY","_hasExtendedFrustum","_extendedFrustumParameters","pointIndices","needsAltitudeAdjustment","FAR_BOTTOM_LEFT","FAR_TOP_LEFT","NEAR_BOTTOM_LEFT","NEAR_TOP_LEFT","planes","LEFT","FAR_BOTTOM_RIGHT","FAR_TOP_RIGHT","NEAR_BOTTOM_RIGHT","NEAR_TOP_RIGHT","RIGHT","direction","intersectInfiniteManifold","zWithMargin","N","v","_extendedFrustumParametersAboveSurface","_extendedFrustumParametersBelowSurface","P","planePointIndices","bottom","top","Array","length","FeatureTileVisibility3D"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/support/FeatureTileVisibility3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{acosClamped as e}from\"../../../../core/mathUtils.js\";import t from\"../../../../core/ObjectPool.js\";import{b as i,g as s,a as r,o as n,e as o}from\"../../../../chunks/vec3.js\";import{c as a}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as u}from\"../../../../geometry/ellipsoidUtils.js\";import{PointIndex as l,PlaneIndex as d}from\"../../../../geometry/support/frustum.js\";import{create as _,projectVector as c,fromPoints as h,normal as m}from\"../../../../geometry/support/plane.js\";import{wrap as T}from\"../../../../geometry/support/ray.js\";import{ViewingMode as p}from\"../../../ViewingMode.js\";import{FeatureTileDescriptor3D as E,Visibility as I}from\"./FeatureTileDescriptor3D.js\";import{Frustum as F}from\"../../state/Frustum.js\";import{FrustumExtentIntersection as f}from\"../../support/FrustumExtentIntersection.js\";class A{constructor(e){this._renderCoordsHelper=e,this._surfaceElevation=0,this._cache=new Map,this._frustum=new F(e),this._extendedFrustum=new F(e),this._intersector=new f({renderCoordsHelper:e}),this._renderCoordsHelper=e}begin(e,t){this._surfaceElevation=t,this._aboveGround=this._renderCoordsHelper.getAltitude(e.eye)>t,this._frustum.update(e),this._shortenFrustumFarPlane(this._frustum),this._updateExtendedFrustum(e)}end(){this._cache.clear()}calculate(e){if(this._allTilesInvisible)return I.INVISIBLE;const t=this._renderCoordsHelper.viewingMode===p.Global&&e.lij[0]>=R&&e.lij[0]<O,i=this._getOrCalculateSingleTileVisibility(e,!t);return i!==I.INVISIBLE&&t?this._calculateAggregatedChildrenVisibility(e):i}_shortenFrustumFarPlane(e){const t=F.nearFarLineIndices,n=e.mutablePoints;for(const o of t){const[e,t]=o,a=n[e],u=n[t];i(S,u,a),s(S,S,b),r(n[t],a,S)}e.updatePoints(n)}_calculateAggregatedChildrenVisibility(e){let t=I.INVISIBLE;const i=this._cache.get(e.id);if(null!=i)return i;const s=H.acquire();e.getChildren(s);for(const r of s){const e=this.calculate(r);if(e!==I.INVISIBLE&&(t=e,e===I.VISIBLE_ON_SURFACE))break}return H.release(s),this._cache.set(e.id,t),t}_getOrCalculateSingleTileVisibility(e,t){const i=this._cache.get(e.id);if(null!=i)return i;const s=this._calculateSingleTileVisibility(e);return t&&this._cache.set(e.id,s),s}_calculateSingleTileVisibility(e){if(!this._aboveGround&&this._renderCoordsHelper.viewingMode===p.Global&&e.lij[0]<g){return this._calculateSingleTileVisibilitySided(e,!1)===I.INVISIBLE?this._calculateSingleTileVisibilitySided(e,!0):void 0}return this._calculateSingleTileVisibilitySided(e,this._aboveGround)}_calculateSingleTileVisibilitySided(e,t){this._intersector.update(e.extent,e.tilingScheme.spatialReference,this._surfaceElevation,t);const i=u(e.tilingScheme.spatialReference).radius;return this._intersector.isVisibleInFrustum(this._extendedFrustum,i)?this._intersector.isVisibleInFrustum(this._frustum,i,!0)?I.VISIBLE_ON_SURFACE:I.VISIBLE_WHEN_EXTENDED:I.INVISIBLE}_updateExtendedFrustum(t){this._extendedFrustum.update(t),this._shortenFrustumFarPlane(this._extendedFrustum);const i=this._renderCoordsHelper.worldUpAtPosition(t.eye,S);this._aboveGround||n(i,i);const r=e(-o(i,t.viewForward));if(this._allTilesInvisible=r>(Math.PI+t.fovY)/2,this._allTilesInvisible)return;if(this._hasExtendedFrustum=r>t.fovY/2,!this._hasExtendedFrustum)return;const a=this._extendedFrustumParameters(),u=this._extendedFrustum.mutablePoints;for(let e=0;e<4;e++){const t=a.pointIndices[e],i=u[t],r=this._renderCoordsHelper.getAltitude(i);if(a.needsAltitudeAdjustment(r)){switch(this._renderCoordsHelper.worldUpAtPosition(i,S),t){case l.FAR_BOTTOM_LEFT:case l.FAR_TOP_LEFT:case l.NEAR_BOTTOM_LEFT:case l.NEAR_TOP_LEFT:c(this._extendedFrustum.planes[d.LEFT],S,S);break;case l.FAR_BOTTOM_RIGHT:case l.FAR_TOP_RIGHT:case l.NEAR_BOTTOM_RIGHT:case l.NEAR_TOP_RIGHT:c(this._extendedFrustum.planes[d.RIGHT],S,S)}s(S,S,a.direction),this._renderCoordsHelper.intersectInfiniteManifold(T(i,S),a.zWithMargin,i)}}if(this._extendedFrustum.updatePoints(u),h(u[l.NEAR_BOTTOM_LEFT],u[l.NEAR_BOTTOM_RIGHT],u[l.NEAR_TOP_RIGHT],N),h(u[l.NEAR_BOTTOM_RIGHT],u[l.NEAR_TOP_RIGHT],u[l.NEAR_TOP_LEFT],v),o(m(N),m(v))<0){const e=this._extendedFrustum.mutablePoints;this._aboveGround?[e[l.NEAR_BOTTOM_LEFT],e[l.NEAR_BOTTOM_RIGHT]]=[e[l.NEAR_BOTTOM_RIGHT],e[l.NEAR_BOTTOM_LEFT]]:[e[l.NEAR_TOP_LEFT],e[l.NEAR_TOP_RIGHT]]=[e[l.NEAR_TOP_RIGHT],e[l.NEAR_TOP_LEFT]],this._extendedFrustum.updatePoints(e)}}_extendedFrustumParameters(){return this._aboveGround?this._extendedFrustumParametersAboveSurface():this._extendedFrustumParametersBelowSurface()}_extendedFrustumParametersAboveSurface(){const e=this._surfaceElevation-P;return{zWithMargin:e,pointIndices:F.planePointIndices.bottom,direction:-1,needsAltitudeAdjustment:t=>t>e}}_extendedFrustumParametersBelowSurface(){const e=this._surfaceElevation+P;return{zWithMargin:e,pointIndices:F.planePointIndices.top,direction:1,needsAltitudeAdjustment:t=>t<e}}}const R=2,O=6,g=12,b=.95,P=1,S=a(),N=_(),v=_(),H=new t(Array,(e=>{4!==e.length&&(e[0]=new E,e[1]=new E,e[2]=new E,e[3]=new E)}),(e=>{e[0].release(),e[1].release(),e[2].release(),e[3].release()}));export{A as FeatureTileVisibility3D};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}