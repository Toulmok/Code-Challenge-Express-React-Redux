{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as t, applySome as e, isNone as s, isSome as i, unwrapOr as a } from \"../../core/maybe.js\";\nimport { after as r } from \"../../core/promiseUtils.js\";\nimport { Milliseconds as n } from \"../../core/time.js\";\nimport { webglDebugEnabled as l } from \"./checkWebGLError.js\";\nimport { ContextType as h } from \"./context-util.js\";\nimport { ContextState as f } from \"./ContextState.js\";\nimport { BufferType as o, Face as _, BASE_TEXTURE_UNIT as u, ClearBufferBit as c, FramebufferTarget as d, TextureSamplingMode as b, SyncCondition as F, ResourceType as g, ClientWaitSyncStatus as E, BlendFactor as B, BlendOperation as p, CullMode as m, CompareFunction as R, StencilOperation as T, ColorAttachment as A, TextureType as x, PrimitiveType as O } from \"./enums.js\";\nimport { InstanceCounter as U } from \"./InstanceCounter.js\";\nimport { ProgramCache as C } from \"./ProgramCache.js\";\nimport { StateTracker as S } from \"./renderState.js\";\nimport { Texture as P } from \"./Texture.js\";\nimport { getErrorString as M } from \"./Util.js\";\nimport { WebGLDriverTest as y } from \"./WebGLDriverTest.js\";\nimport { Capabilities as N } from \"./capabilities/Capabilities.js\";\nimport k from \"./capabilities/isWebGL2Context.js\";\nlet I = class {\n  constructor(t, e) {\n    this.gl = t, this.instanceCounter = new U(), this.programCache = new C(this), this._state = new f(), this._numOfDrawCalls = 0, this._numOfTriangles = 0, this.type = k(t) ? h.WEBGL2 : h.WEBGL1, this._loadExtensions(), this.configure(e);\n  }\n  get gl2() {\n    return this.type === h.WEBGL1 ? null : this.gl;\n  }\n  configure(e) {\n    this._capabilities = new N(this.gl, e), this._parameters = this._loadParameters(e);\n    const s = this.gl.getParameter(this.gl.VIEWPORT);\n    this._state = new f(), this._state.viewport = {\n      x: s[0],\n      y: s[1],\n      width: s[2],\n      height: s[3]\n    }, this._stateTracker = new S({\n      setBlending: t => {\n        if (t) {\n          this.setBlendingEnabled(!0), this.setBlendEquationSeparate(t.opRgb, t.opAlpha), this.setBlendFunctionSeparate(t.srcRgb, t.dstRgb, t.srcAlpha, t.dstAlpha);\n          const e = t.color;\n          this.setBlendColor(e.r, e.g, e.b, e.a);\n        } else this.setBlendingEnabled(!1);\n      },\n      setCulling: t => {\n        t ? (this.setFaceCullingEnabled(!0), this.setCullFace(t.face), this.setFrontFace(t.mode)) : this.setFaceCullingEnabled(!1);\n      },\n      setPolygonOffset: t => {\n        t ? (this.setPolygonOffsetFillEnabled(!0), this.setPolygonOffset(t.factor, t.units)) : this.setPolygonOffsetFillEnabled(!1);\n      },\n      setDepthTest: t => {\n        t ? (this.setDepthTestEnabled(!0), this.setDepthFunction(t.func)) : this.setDepthTestEnabled(!1);\n      },\n      setStencilTest: t => {\n        if (t) {\n          this.setStencilTestEnabled(!0);\n          const e = t.function;\n          this.setStencilFunction(e.func, e.ref, e.mask);\n          const s = t.operation;\n          this.setStencilOp(s.fail, s.zFail, s.zPass);\n        } else this.setStencilTestEnabled(!1);\n      },\n      setDepthWrite: t => {\n        t ? (this.setDepthWriteEnabled(!0), this.setDepthRange(t.zNear, t.zFar)) : this.setDepthWriteEnabled(!1);\n      },\n      setColorWrite: t => {\n        t ? this.setColorMask(t.r, t.g, t.b, t.a) : this.setColorMask(!1, !1, !1, !1);\n      },\n      setStencilWrite: t => {\n        t ? this.setStencilWriteMask(t.mask) : this.setStencilWriteMask(0);\n      }\n    }), this.enforceState(), t(this._driverTest), this._driverTest = new y(this);\n  }\n  dispose() {\n    t(this._driverTest), this.programCache.dispose(), this.bindVAO(null), this.unbindBuffer(o.ARRAY_BUFFER), this.unbindBuffer(o.ELEMENT_ARRAY_BUFFER), this.type === h.WEBGL2 && (this.unbindBuffer(o.UNIFORM_BUFFER), this._state.uniformBufferBindingPoints.length = 0, this.unbindBuffer(o.PIXEL_PACK_BUFFER), this.unbindBuffer(o.PIXEL_UNPACK_BUFFER), this.unbindBuffer(o.COPY_READ_BUFFER), this.unbindBuffer(o.COPY_WRITE_BUFFER)), this._state.textureUnitMap.length = 0, l() && console.log(this.instanceCounter.resourceInformation);\n  }\n  get driverTest() {\n    return this._driverTest;\n  }\n  get contextAttributes() {\n    return this.gl.getContextAttributes();\n  }\n  get parameters() {\n    return this._parameters;\n  }\n  setPipelineState(t) {\n    this._stateTracker.setPipeline(t);\n  }\n  setBlendingEnabled(t) {\n    this._state.blend !== t && (!0 === t ? this.gl.enable(this.gl.BLEND) : this.gl.disable(this.gl.BLEND), this._state.blend = t, this._stateTracker.invalidateBlending());\n  }\n  externalProgramUpdate() {\n    this._state.program?.stop(), this._state.program = null;\n  }\n  externalTextureUnitUpdate(t, e) {\n    for (let s = 0; s < t.length; ++s) this._state.textureUnitMap[t[s]] = null;\n    e >= 0 && (this._state.activeTexture = e);\n  }\n  externalVertexArrayObjectUpdate() {\n    const t = this.capabilities.vao;\n    t && (t.bindVertexArray(null), this._state.vertexArrayObject = null), this._state.vertexBuffer = null, this._state.indexBuffer = null;\n  }\n  externalVertexBufferUpdate() {\n    this._state.vertexBuffer = null;\n  }\n  externalIndexBufferUpdate() {\n    this._state.indexBuffer = null;\n  }\n  setBlendColor(t, e, s, i) {\n    t === this._state.blendColor.r && e === this._state.blendColor.g && s === this._state.blendColor.b && i === this._state.blendColor.a || (this.gl.blendColor(t, e, s, i), this._state.blendColor.r = t, this._state.blendColor.g = e, this._state.blendColor.b = s, this._state.blendColor.a = i, this._stateTracker.invalidateBlending());\n  }\n  setBlendFunction(t, e) {\n    t === this._state.blendFunction.srcRGB && e === this._state.blendFunction.dstRGB || (this.gl.blendFunc(t, e), this._state.blendFunction.srcRGB = t, this._state.blendFunction.srcAlpha = t, this._state.blendFunction.dstRGB = e, this._state.blendFunction.dstAlpha = e, this._stateTracker.invalidateBlending());\n  }\n  setBlendFunctionSeparate(t, e, s, i) {\n    this._state.blendFunction.srcRGB === t && this._state.blendFunction.srcAlpha === s && this._state.blendFunction.dstRGB === e && this._state.blendFunction.dstAlpha === i || (this.gl.blendFuncSeparate(t, e, s, i), this._state.blendFunction.srcRGB = t, this._state.blendFunction.srcAlpha = s, this._state.blendFunction.dstRGB = e, this._state.blendFunction.dstAlpha = i, this._stateTracker.invalidateBlending());\n  }\n  setBlendEquation(t) {\n    this._state.blendEquation.mode !== t && (this.gl.blendEquation(t), this._state.blendEquation.mode = t, this._state.blendEquation.modeAlpha = t, this._stateTracker.invalidateBlending());\n  }\n  setBlendEquationSeparate(t, e) {\n    this._state.blendEquation.mode === t && this._state.blendEquation.modeAlpha === e || (this.gl.blendEquationSeparate(t, e), this._state.blendEquation.mode = t, this._state.blendEquation.modeAlpha = e, this._stateTracker.invalidateBlending());\n  }\n  setColorMask(t, e, s, i) {\n    this._state.colorMask.r === t && this._state.colorMask.g === e && this._state.colorMask.b === s && this._state.colorMask.a === i || (this.gl.colorMask(t, e, s, i), this._state.colorMask.r = t, this._state.colorMask.g = e, this._state.colorMask.b = s, this._state.colorMask.a = i, this._stateTracker.invalidateColorWrite());\n  }\n  setClearColor(t, e, s, i) {\n    this._state.clearColor.r === t && this._state.clearColor.g === e && this._state.clearColor.b === s && this._state.clearColor.a === i || (this.gl.clearColor(t, e, s, i), this._state.clearColor.r = t, this._state.clearColor.g = e, this._state.clearColor.b = s, this._state.clearColor.a = i);\n  }\n  setFaceCullingEnabled(t) {\n    this._state.faceCulling !== t && (!0 === t ? this.gl.enable(this.gl.CULL_FACE) : this.gl.disable(this.gl.CULL_FACE), this._state.faceCulling = t, this._stateTracker.invalidateCulling());\n  }\n  setPolygonOffsetFillEnabled(t) {\n    this._state.polygonOffsetFill !== t && (!0 === t ? this.gl.enable(this.gl.POLYGON_OFFSET_FILL) : this.gl.disable(this.gl.POLYGON_OFFSET_FILL), this._state.polygonOffsetFill = t, this._stateTracker.invalidatePolygonOffset());\n  }\n  setPolygonOffset(t, e) {\n    this._state.polygonOffset[0] === t && this._state.polygonOffset[1] === e || (this._state.polygonOffset[0] = t, this._state.polygonOffset[1] = e, this.gl.polygonOffset(t, e), this._stateTracker.invalidatePolygonOffset());\n  }\n  setCullFace(t) {\n    this._state.cullFace !== t && (this.gl.cullFace(t), this._state.cullFace = t, this._stateTracker.invalidateCulling());\n  }\n  setFrontFace(t) {\n    this._state.frontFace !== t && (this.gl.frontFace(t), this._state.frontFace = t, this._stateTracker.invalidateCulling());\n  }\n  setScissorTestEnabled(t) {\n    this._state.scissorTest !== t && (!0 === t ? this.gl.enable(this.gl.SCISSOR_TEST) : this.gl.disable(this.gl.SCISSOR_TEST), this._state.scissorTest = t);\n  }\n  setScissorRect(t, e, s, i) {\n    this._state.scissorRect.x === t && this._state.scissorRect.y === e && this._state.scissorRect.width === s && this._state.scissorRect.height === i || (this.gl.scissor(t, e, s, i), this._state.scissorRect.x = t, this._state.scissorRect.y = e, this._state.scissorRect.width = s, this._state.scissorRect.height = i);\n  }\n  setDepthTestEnabled(t) {\n    this._state.depthTest !== t && (!0 === t ? this.gl.enable(this.gl.DEPTH_TEST) : this.gl.disable(this.gl.DEPTH_TEST), this._state.depthTest = t, this._stateTracker.invalidateDepthTest());\n  }\n  setClearDepth(t) {\n    this._state.clearDepth !== t && (this.gl.clearDepth(t), this._state.clearDepth = t);\n  }\n  setDepthFunction(t) {\n    this._state.depthFunction !== t && (this.gl.depthFunc(t), this._state.depthFunction = t, this._stateTracker.invalidateDepthTest());\n  }\n  setDepthWriteEnabled(t) {\n    this._state.depthWrite !== t && (this.gl.depthMask(t), this._state.depthWrite = t, this._stateTracker.invalidateDepthWrite());\n  }\n  setDepthRange(t, e) {\n    this._state.depthRange.zNear === t && this._state.depthRange.zFar === e || (this.gl.depthRange(t, e), this._state.depthRange.zNear = t, this._state.depthRange.zFar = e, this._stateTracker.invalidateDepthWrite());\n  }\n  setStencilTestEnabled(t) {\n    this._state.stencilTest !== t && (!0 === t ? this.gl.enable(this.gl.STENCIL_TEST) : this.gl.disable(this.gl.STENCIL_TEST), this._state.stencilTest = t, this._stateTracker.invalidateStencilTest());\n  }\n  setClearStencil(t) {\n    t !== this._state.clearStencil && (this.gl.clearStencil(t), this._state.clearStencil = t);\n  }\n  setStencilFunction(t, e, s) {\n    this._state.stencilFunction.func === t && this._state.stencilFunction.ref === e && this._state.stencilFunction.mask === s || (this.gl.stencilFunc(t, e, s), this._state.stencilFunction.face = _.FRONT_AND_BACK, this._state.stencilFunction.func = t, this._state.stencilFunction.ref = e, this._state.stencilFunction.mask = s, this._stateTracker.invalidateStencilTest());\n  }\n  setStencilFunctionSeparate(t, e, s, i) {\n    this._state.stencilFunction.face === t && this._state.stencilFunction.func === e && this._state.stencilFunction.ref === s && this._state.stencilFunction.mask === i || (this.gl.stencilFuncSeparate(t, e, s, i), this._state.stencilFunction.face = t, this._state.stencilFunction.func = e, this._state.stencilFunction.ref = s, this._state.stencilFunction.mask = i, this._stateTracker.invalidateStencilTest());\n  }\n  setStencilWriteMask(t) {\n    this._state.stencilWriteMask !== t && (this.gl.stencilMask(t), this._state.stencilWriteMask = t, this._stateTracker.invalidateStencilWrite());\n  }\n  setStencilOp(t, e, s) {\n    this._state.stencilOperation.face === _.FRONT_AND_BACK && this._state.stencilOperation.fail === t && this._state.stencilOperation.zFail === e && this._state.stencilOperation.zPass === s || (this.gl.stencilOp(t, e, s), this._state.stencilOperation.face = _.FRONT_AND_BACK, this._state.stencilOperation.fail = t, this._state.stencilOperation.zFail = e, this._state.stencilOperation.zPass = s, this._stateTracker.invalidateStencilTest());\n  }\n  setStencilOpSeparate(t, e, s, i) {\n    this._state.stencilOperation.face === t && this._state.stencilOperation.fail === e && this._state.stencilOperation.zFail === s && this._state.stencilOperation.zPass === i || (this.gl.stencilOpSeparate(t, e, s, i), this._state.stencilOperation.face = t, this._state.stencilOperation.fail = e, this._state.stencilOperation.zFail = s, this._state.stencilOperation.zPass = i, this._stateTracker.invalidateStencilTest());\n  }\n  setActiveTexture(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n    const s = this._state.activeTexture;\n    return t >= 0 && (e || t !== this._state.activeTexture) && (this.gl.activeTexture(u + t), this._state.activeTexture = t), s;\n  }\n  clear(t) {\n    t && this.gl.clear(t);\n  }\n  clearSafe(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 255;\n    t && (t & c.COLOR_BUFFER_BIT && this.setColorMask(!0, !0, !0, !0), t & c.DEPTH_BUFFER_BIT && this.setDepthWriteEnabled(!0), t & c.STENCIL_BUFFER_BIT && this.setStencilWriteMask(e), this.gl.clear(t));\n  }\n  drawArrays(t, e, s) {\n    if (l() && (this._numOfDrawCalls++, this._numOfTriangles += D(t, s)), this.gl.drawArrays(t, e, s), l()) {\n      const t = M(this);\n      t && console.error(\"drawArrays:\", t);\n    }\n  }\n  drawElements(t, s, i, a) {\n    if (l() && (this._numOfDrawCalls++, this._numOfTriangles += D(t, s)), this.gl.drawElements(t, s, i, a), l()) {\n      const r = M(this);\n      if (r) {\n        const n = this.getBoundVAO(),\n          l = n?.indexBuffer,\n          h = n?.vertexBuffers,\n          f = {\n            indexBuffer: l,\n            vertexBuffers: h\n          },\n          o = {\n            mode: t,\n            count: s,\n            type: i,\n            offset: a\n          },\n          _ = e(l, t => t.size) ?? 0,\n          u = a + s,\n          c = _ < u ? `. Buffer is too small. Attempted to draw index ${u} of ${_}` : \"\";\n        console.error(`drawElements: ${r}${c}`, {\n          args: o,\n          vao: f\n        });\n      }\n    }\n  }\n  logInfo() {\n    l() && console.log(`DrawCalls: ${this._numOfDrawCalls}, Triangles: ${this._numOfTriangles}`);\n  }\n  resetInfo() {\n    l() && (this._numOfDrawCalls = 0, this._numOfTriangles = 0);\n  }\n  get capabilities() {\n    return this._capabilities;\n  }\n  setViewport(t, e, s, i) {\n    s = Math.max(Math.round(s), 1), i = Math.max(Math.round(i), 1);\n    const a = this._state.viewport;\n    a.x === t && a.y === e && a.width === s && a.height === i || (a.x = t, a.y = e, a.width = s, a.height = i, this.gl.viewport(t, e, s, i));\n  }\n  getViewport() {\n    const t = this._state.viewport;\n    return {\n      x: t.x,\n      y: t.y,\n      width: t.width,\n      height: t.height\n    };\n  }\n  useProgram(t) {\n    this._state.program !== t && (this._state.program?.stop(), this._state.program = t, this.gl.useProgram(t?.glName ?? null));\n  }\n  bindTexture(t, e) {\n    let a = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    (e >= this.parameters.maxTextureImageUnits || e < 0) && console.error(\"Input texture unit is out of range of available units!\");\n    const r = this._state.textureUnitMap[e];\n    return s(t) || null == t.glName ? (i(r) && (this.setActiveTexture(e, a), this.gl.bindTexture(r.descriptor.target, null)), this._state.textureUnitMap[e] = null, r) : a || r !== t ? (this.setActiveTexture(e, a), this.gl.bindTexture(t.descriptor.target, t.glName), t.applyChanges(), this._state.textureUnitMap[e] = t, r) : (t.isDirty && (this.setActiveTexture(e, a), t.applyChanges()), r);\n  }\n  unbindTexture(t) {\n    if (!s(t)) for (let e = 0; e < this.parameters.maxTextureImageUnits; e++) this._state.textureUnitMap[e] === t && (this.bindTexture(null, e), this._state.textureUnitMap[e] = null);\n  }\n  bindFramebuffer(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n    if (e || this._state.readFramebuffer !== t || this._state.drawFramebuffer !== t) {\n      if (s(t)) return this.gl.bindFramebuffer(d.FRAMEBUFFER, null), this._state.readFramebuffer = null, void (this._state.drawFramebuffer = null);\n      t.initializeAndBind(d.FRAMEBUFFER), this._state.readFramebuffer = t, this._state.drawFramebuffer = t;\n    }\n  }\n  bindFramebufferSeparate(t, e) {\n    let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    const r = e === d.READ_FRAMEBUFFER,\n      n = r ? this._state.readFramebuffer : this._state.drawFramebuffer;\n    (i || n !== t) && (s(t) ? this.gl.bindFramebuffer(e, null) : t.initializeAndBind(e), r ? this._state.readFramebuffer = a(t, null) : this._state.drawFramebuffer = a(t, null));\n  }\n  blitFramebuffer(t, e) {\n    let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let a = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : t.width;\n    let r = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : t.height;\n    let n = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0;\n    let l = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 0;\n    let h = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : e.width;\n    let f = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : e.height;\n    let o = arguments.length > 10 && arguments[10] !== undefined ? arguments[10] : c.COLOR_BUFFER_BIT;\n    let _ = arguments.length > 11 && arguments[11] !== undefined ? arguments[11] : b.NEAREST;\n    this.bindFramebufferSeparate(t, d.READ_FRAMEBUFFER), this.bindFramebufferSeparate(e, d.DRAW_FRAMEBUFFER);\n    this.gl.blitFramebuffer(s, i, a, r, n, l, h, f, o, _);\n  }\n  bindBuffer(t, e) {\n    if (t) switch (e ?? (e = t.bufferType), e) {\n      case o.ARRAY_BUFFER:\n        this._state.vertexBuffer = v(this.gl, t, e, this._state.vertexBuffer);\n        break;\n      case o.ELEMENT_ARRAY_BUFFER:\n        this._state.indexBuffer = v(this.gl, t, e, this._state.indexBuffer);\n        break;\n      case o.UNIFORM_BUFFER:\n        this._state.uniformBuffer = v(this.gl, t, e, this._state.uniformBuffer);\n        break;\n      case o.PIXEL_PACK_BUFFER:\n        this._state.pixelPackBuffer = v(this.gl, t, e, this._state.pixelPackBuffer);\n        break;\n      case o.PIXEL_UNPACK_BUFFER:\n        this._state.pixelUnpackBuffer = v(this.gl, t, e, this._state.pixelUnpackBuffer);\n        break;\n      case o.COPY_READ_BUFFER:\n        this._state.copyReadBuffer = v(this.gl, t, e, this._state.copyReadBuffer);\n        break;\n      case o.COPY_WRITE_BUFFER:\n        this._state.copyWriteBuffer = v(this.gl, t, e, this._state.copyWriteBuffer);\n    }\n  }\n  bindRenderbuffer(t) {\n    const e = this.gl;\n    t || (e.bindRenderbuffer(e.RENDERBUFFER, null), this._state.renderbuffer = null), this._state.renderbuffer !== t && (e.bindRenderbuffer(e.RENDERBUFFER, t.glName), this._state.renderbuffer = t);\n  }\n  _getBufferBinding(t, e) {\n    if (e >= this.parameters.maxUniformBufferBindings || e < 0) return console.error(\"Uniform buffer binding point is out of range!\"), null;\n    const i = this._state.uniformBufferBindingPoints;\n    let a = i[e];\n    return s(a) && (a = {\n      buffer: null,\n      offset: 0,\n      size: 0\n    }, i[e] = a), a;\n  }\n  bindBufferBase(t, e, i) {\n    const a = this._getBufferBinding(t, e);\n    if (s(a)) return;\n    if (a.buffer === i && 0 === a.offset && 0 === a.size) return;\n    this.gl.bindBufferBase(t, e, i ? i.glName : null), a.buffer = i, a.offset = 0, a.size = 0;\n  }\n  bindBufferRange(t, e, i, a, r) {\n    const n = this._getBufferBinding(t, e);\n    if (s(n)) return;\n    if (n.buffer === i && n.offset === a && n.size === r) return;\n    if (a % this._parameters.uniformBufferOffsetAlignment != 0) return void console.error(\"Uniform buffer binding offset is not a multiple of the context offset alignment\");\n    this.gl.bindBufferRange(t, e, i.glName, a, r), n.buffer = i, n.offset = a, n.size = r;\n  }\n  bindUBO(t, e, i, a) {\n    s(e) ? this.bindBufferBase(o.UNIFORM_BUFFER, t, null) : (l() && (a ?? e.byteLength) > this._parameters.maxUniformBlockSize && console.error(\"Attempting to bind more data than the maximum uniform block size\"), e.initialize(), void 0 !== i && void 0 !== a ? this.bindBufferRange(o.UNIFORM_BUFFER, t, e.buffer, i, a) : this.bindBufferBase(o.UNIFORM_BUFFER, t, e.buffer));\n  }\n  unbindUBO(t) {\n    for (let e = 0, s = this._state.uniformBufferBindingPoints.length; e < s; e++) {\n      const s = this._state.uniformBufferBindingPoints[e];\n      i(s) && s.buffer === t.buffer && this.bindBufferBase(o.UNIFORM_BUFFER, e, null);\n    }\n  }\n  unbindBuffer(t) {\n    switch (t) {\n      case o.ARRAY_BUFFER:\n        this._state.vertexBuffer = v(this.gl, null, t, this._state.vertexBuffer);\n        break;\n      case o.ELEMENT_ARRAY_BUFFER:\n        this._state.indexBuffer = v(this.gl, null, t, this._state.indexBuffer);\n        break;\n      case o.UNIFORM_BUFFER:\n        this._state.uniformBuffer = v(this.gl, null, t, this._state.uniformBuffer);\n        break;\n      case o.PIXEL_PACK_BUFFER:\n        this._state.pixelPackBuffer = v(this.gl, null, t, this._state.pixelPackBuffer);\n        break;\n      case o.PIXEL_UNPACK_BUFFER:\n        this._state.pixelUnpackBuffer = v(this.gl, null, t, this._state.pixelUnpackBuffer);\n        break;\n      case o.COPY_READ_BUFFER:\n        this._state.copyReadBuffer = v(this.gl, null, t, this._state.copyReadBuffer);\n        break;\n      case o.COPY_WRITE_BUFFER:\n        this._state.copyWriteBuffer = v(this.gl, null, t, this._state.copyWriteBuffer);\n    }\n  }\n  bindVAO() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    s(t) ? this._state.vertexArrayObject && (this._state.vertexArrayObject.unbind(), this._state.vertexArrayObject = null) : this._state.vertexArrayObject !== t && (t.bind(), this._state.vertexArrayObject = t);\n  }\n  async clientWaitAsync() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : n(10);\n    const e = this.gl,\n      s = e.fenceSync(F.SYNC_GPU_COMMANDS_COMPLETE, 0);\n    if (!s) throw new Error(\"Client wait failed, could not create sync object\");\n    let i;\n    this.instanceCounter.increment(g.Sync, s), e.flush();\n    do {\n      await r(t), i = e.clientWaitSync(s, 0, 0);\n    } while (i === E.TIMEOUT_EXPIRED);\n    if (this.instanceCounter.decrement(g.Sync, s), e.deleteSync(s), i === E.WAIT_FAILED) throw new Error(\"Client wait failed\");\n  }\n  getBoundFramebufferObject() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : d.FRAMEBUFFER;\n    return t === d.READ_FRAMEBUFFER ? this._state.readFramebuffer : this._state.drawFramebuffer;\n  }\n  getBoundVAO() {\n    return this._state.vertexArrayObject;\n  }\n  resetState() {\n    this.useProgram(null), this.bindVAO(null), this.bindFramebuffer(null, !0), this.unbindBuffer(o.ARRAY_BUFFER), this.unbindBuffer(o.ELEMENT_ARRAY_BUFFER), this.type === h.WEBGL2 && (this.unbindBuffer(o.UNIFORM_BUFFER), this._state.uniformBufferBindingPoints.length = 0, this.unbindBuffer(o.PIXEL_PACK_BUFFER), this.unbindBuffer(o.PIXEL_UNPACK_BUFFER), this.unbindBuffer(o.COPY_READ_BUFFER), this.unbindBuffer(o.COPY_WRITE_BUFFER));\n    for (let t = 0; t < this.parameters.maxTextureImageUnits; ++t) this.bindTexture(null, t);\n    this.setBlendingEnabled(!1), this.setBlendFunction(B.ONE, B.ZERO), this.setBlendEquation(p.ADD), this.setBlendColor(0, 0, 0, 0), this.setFaceCullingEnabled(!1), this.setCullFace(_.BACK), this.setFrontFace(m.CCW), this.setPolygonOffsetFillEnabled(!1), this.setPolygonOffset(0, 0), this.setScissorTestEnabled(!1), this.setScissorRect(0, 0, this.gl.canvas.width, this.gl.canvas.height), this.setDepthTestEnabled(!1), this.setDepthFunction(R.LESS), this.setDepthRange(0, 1), this.setStencilTestEnabled(!1), this.setStencilFunction(R.ALWAYS, 0, 0), this.setStencilOp(T.KEEP, T.KEEP, T.KEEP), this.setClearColor(0, 0, 0, 0), this.setClearDepth(1), this.setClearStencil(0), this.setColorMask(!0, !0, !0, !0), this.setStencilWriteMask(4294967295), this.setDepthWriteEnabled(!0), this.setViewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\n  }\n  enforceState() {\n    const t = this.capabilities.vao;\n    t && t.bindVertexArray(null);\n    const {\n      gl: e,\n      gl2: s\n    } = this;\n    for (let i = 0; i < this.parameters.maxVertexAttributes; i++) e.disableVertexAttribArray(i);\n    if (this._state.vertexBuffer ? e.bindBuffer(this._state.vertexBuffer.bufferType, this._state.vertexBuffer.glName) : e.bindBuffer(o.ARRAY_BUFFER, null), this._state.indexBuffer ? e.bindBuffer(this._state.indexBuffer.bufferType, this._state.indexBuffer.glName) : e.bindBuffer(o.ELEMENT_ARRAY_BUFFER, null), i(s)) {\n      this._state.uniformBuffer ? s.bindBuffer(this._state.uniformBuffer.bufferType, this._state.uniformBuffer.glName) : s.bindBuffer(o.UNIFORM_BUFFER, null);\n      for (let t = 0; t < this._parameters.maxUniformBufferBindings; t++) {\n        const e = this._state.uniformBufferBindingPoints[t];\n        if (i(e)) {\n          const {\n            buffer: i,\n            offset: a,\n            size: r\n          } = e;\n          null !== i ? 0 === a && 0 === r ? s.bindBufferBase(o.UNIFORM_BUFFER, t, i.glName) : s.bindBufferRange(o.UNIFORM_BUFFER, t, i.glName, a, r) : s.bindBufferBase(o.UNIFORM_BUFFER, t, null);\n        }\n      }\n      this._state.pixelPackBuffer ? s.bindBuffer(this._state.pixelPackBuffer.bufferType, this._state.pixelPackBuffer.glName) : s.bindBuffer(o.PIXEL_PACK_BUFFER, null), this._state.pixelUnpackBuffer ? s.bindBuffer(this._state.pixelUnpackBuffer.bufferType, this._state.pixelUnpackBuffer.glName) : s.bindBuffer(o.PIXEL_UNPACK_BUFFER, null), this._state.copyReadBuffer ? s.bindBuffer(this._state.copyReadBuffer.bufferType, this._state.copyReadBuffer.glName) : s.bindBuffer(o.COPY_READ_BUFFER, null), this._state.copyWriteBuffer ? s.bindBuffer(this._state.copyWriteBuffer.bufferType, this._state.copyWriteBuffer.glName) : s.bindBuffer(o.COPY_WRITE_BUFFER, null), s.bindFramebuffer(d.READ_FRAMEBUFFER, null), s.readBuffer(s.BACK), this._state.readFramebuffer && (s.bindFramebuffer(d.READ_FRAMEBUFFER, this._state.readFramebuffer.glName), s.readBuffer(A.COLOR_ATTACHMENT0)), s.bindFramebuffer(d.DRAW_FRAMEBUFFER, this._state.drawFramebuffer?.glName ?? null);\n    } else this._state.readFramebuffer = this._state.drawFramebuffer, e.bindFramebuffer(d.FRAMEBUFFER, this._state.drawFramebuffer?.glName ?? null);\n    if (t && this._state.vertexArrayObject) {\n      const t = this._state.vertexArrayObject;\n      this._state.vertexArrayObject && (this._state.vertexArrayObject.unbind(), this._state.vertexArrayObject = null), this.bindVAO(t);\n    }\n    e.useProgram(this._state.program?.glName ?? null), e.blendColor(this._state.blendColor.r, this._state.blendColor.g, this._state.blendColor.b, this._state.blendColor.a), e.bindRenderbuffer(e.RENDERBUFFER, this._state.renderbuffer ? this._state.renderbuffer.glName : null), !0 === this._state.blend ? e.enable(this.gl.BLEND) : e.disable(this.gl.BLEND), e.blendEquationSeparate(this._state.blendEquation.mode, this._state.blendEquation.modeAlpha), e.blendFuncSeparate(this._state.blendFunction.srcRGB, this._state.blendFunction.dstRGB, this._state.blendFunction.srcAlpha, this._state.blendFunction.dstAlpha), e.clearColor(this._state.clearColor.r, this._state.clearColor.g, this._state.clearColor.b, this._state.clearColor.a), e.clearDepth(this._state.clearDepth), e.clearStencil(this._state.clearStencil), e.colorMask(this._state.colorMask.r, this._state.colorMask.g, this._state.colorMask.b, this._state.colorMask.a), e.cullFace(this._state.cullFace), e.depthFunc(this._state.depthFunction), e.depthRange(this._state.depthRange.zNear, this._state.depthRange.zFar), !0 === this._state.depthTest ? e.enable(e.DEPTH_TEST) : e.disable(e.DEPTH_TEST), e.depthMask(this._state.depthWrite), e.frontFace(this._state.frontFace), e.lineWidth(1), !0 === this._state.faceCulling ? e.enable(e.CULL_FACE) : e.disable(e.CULL_FACE), e.polygonOffset(this._state.polygonOffset[0], this._state.polygonOffset[1]), !0 === this._state.polygonOffsetFill ? e.enable(e.POLYGON_OFFSET_FILL) : e.disable(e.POLYGON_OFFSET_FILL), e.scissor(this._state.scissorRect.x, this._state.scissorRect.y, this._state.scissorRect.width, this._state.scissorRect.height), !0 === this._state.scissorTest ? e.enable(e.SCISSOR_TEST) : e.disable(e.SCISSOR_TEST), e.stencilFunc(this._state.stencilFunction.func, this._state.stencilFunction.ref, this._state.stencilFunction.mask), e.stencilOpSeparate(this._state.stencilOperation.face, this._state.stencilOperation.fail, this._state.stencilOperation.zFail, this._state.stencilOperation.zPass), !0 === this._state.stencilTest ? e.enable(e.STENCIL_TEST) : e.disable(e.STENCIL_TEST), e.stencilMask(this._state.stencilWriteMask);\n    for (let r = 0; r < this.parameters.maxTextureImageUnits; r++) {\n      e.activeTexture(u + r), e.bindTexture(x.TEXTURE_2D, null), e.bindTexture(x.TEXTURE_CUBE_MAP, null), this.type === h.WEBGL2 && (e.bindTexture(x.TEXTURE_3D, null), e.bindTexture(x.TEXTURE_2D_ARRAY, null));\n      const t = this._state.textureUnitMap[r];\n      i(t) && e.bindTexture(t.descriptor.target, t.glName);\n    }\n    e.activeTexture(u + this._state.activeTexture);\n    const a = this._state.viewport;\n    e.viewport(a.x, a.y, a.width, a.height), this.resetInfo();\n  }\n  _loadExtensions() {\n    this.type === h.WEBGL1 && this.gl.getExtension(\"OES_element_index_uint\"), this.gl.getExtension(\"KHR_parallel_shader_compile\");\n  }\n  _loadParameters(t) {\n    const e = this.capabilities.textureFilterAnisotropic,\n      s = t.maxAnisotropy ?? 1 / 0,\n      i = this.type === h.WEBGL2,\n      a = this.gl,\n      r = {\n        versionString: this.gl.getParameter(this.gl.VERSION),\n        maxVertexTextureImageUnits: this.gl.getParameter(this.gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),\n        maxVertexAttributes: this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS),\n        maxMaxAnisotropy: e ? Math.min(this.gl.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY), s) : 1,\n        maxTextureImageUnits: this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),\n        maxTextureSize: this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE),\n        maxUniformBufferBindings: i ? a.getParameter(a.MAX_UNIFORM_BUFFER_BINDINGS) : 0,\n        maxVertexUniformBlocks: i ? a.getParameter(a.MAX_VERTEX_UNIFORM_BLOCKS) : 0,\n        maxFragmentUniformBlocks: i ? a.getParameter(a.MAX_FRAGMENT_UNIFORM_BLOCKS) : 0,\n        maxUniformBlockSize: i ? a.getParameter(a.MAX_UNIFORM_BLOCK_SIZE) : 0,\n        uniformBufferOffsetAlignment: i ? a.getParameter(a.UNIFORM_BUFFER_OFFSET_ALIGNMENT) : 1,\n        maxArrayTextureLayers: i ? a.getParameter(a.MAX_ARRAY_TEXTURE_LAYERS) : 1,\n        maxSamples: i ? a.getParameter(a.MAX_SAMPLES) : 1\n      };\n    return P.TEXTURE_UNIT_FOR_UPDATES = r.maxTextureImageUnits - 1, r;\n  }\n};\nfunction v(t, e, s, i) {\n  return e ? i !== e && t.bindBuffer(s, e.glName) : t.bindBuffer(s, null), e;\n}\nfunction D(t, e) {\n  switch (t) {\n    case O.POINTS:\n      return 2 * e;\n    case O.TRIANGLES:\n      return e / 3;\n    case O.TRIANGLE_STRIP:\n    case O.TRIANGLE_FAN:\n      return e - 2;\n    default:\n      return 0;\n  }\n}\nexport { I as RenderingContext };","map":{"version":3,"names":["disposeMaybe","t","applySome","e","isNone","s","isSome","i","unwrapOr","a","after","r","Milliseconds","n","webglDebugEnabled","l","ContextType","h","ContextState","f","BufferType","o","Face","_","BASE_TEXTURE_UNIT","u","ClearBufferBit","c","FramebufferTarget","d","TextureSamplingMode","b","SyncCondition","F","ResourceType","g","ClientWaitSyncStatus","E","BlendFactor","B","BlendOperation","p","CullMode","m","CompareFunction","R","StencilOperation","T","ColorAttachment","A","TextureType","x","PrimitiveType","O","InstanceCounter","U","ProgramCache","C","StateTracker","S","Texture","P","getErrorString","M","WebGLDriverTest","y","Capabilities","N","k","I","constructor","gl","instanceCounter","programCache","_state","_numOfDrawCalls","_numOfTriangles","type","WEBGL2","WEBGL1","_loadExtensions","configure","gl2","_capabilities","_parameters","_loadParameters","getParameter","VIEWPORT","viewport","width","height","_stateTracker","setBlending","setBlendingEnabled","setBlendEquationSeparate","opRgb","opAlpha","setBlendFunctionSeparate","srcRgb","dstRgb","srcAlpha","dstAlpha","color","setBlendColor","setCulling","setFaceCullingEnabled","setCullFace","face","setFrontFace","mode","setPolygonOffset","setPolygonOffsetFillEnabled","factor","units","setDepthTest","setDepthTestEnabled","setDepthFunction","func","setStencilTest","setStencilTestEnabled","function","setStencilFunction","ref","mask","operation","setStencilOp","fail","zFail","zPass","setDepthWrite","setDepthWriteEnabled","setDepthRange","zNear","zFar","setColorWrite","setColorMask","setStencilWrite","setStencilWriteMask","enforceState","_driverTest","dispose","bindVAO","unbindBuffer","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","UNIFORM_BUFFER","uniformBufferBindingPoints","length","PIXEL_PACK_BUFFER","PIXEL_UNPACK_BUFFER","COPY_READ_BUFFER","COPY_WRITE_BUFFER","textureUnitMap","console","log","resourceInformation","driverTest","contextAttributes","getContextAttributes","parameters","setPipelineState","setPipeline","blend","enable","BLEND","disable","invalidateBlending","externalProgramUpdate","program","stop","externalTextureUnitUpdate","activeTexture","externalVertexArrayObjectUpdate","capabilities","vao","bindVertexArray","vertexArrayObject","vertexBuffer","indexBuffer","externalVertexBufferUpdate","externalIndexBufferUpdate","blendColor","setBlendFunction","blendFunction","srcRGB","dstRGB","blendFunc","blendFuncSeparate","setBlendEquation","blendEquation","modeAlpha","blendEquationSeparate","colorMask","invalidateColorWrite","setClearColor","clearColor","faceCulling","CULL_FACE","invalidateCulling","polygonOffsetFill","POLYGON_OFFSET_FILL","invalidatePolygonOffset","polygonOffset","cullFace","frontFace","setScissorTestEnabled","scissorTest","SCISSOR_TEST","setScissorRect","scissorRect","scissor","depthTest","DEPTH_TEST","invalidateDepthTest","setClearDepth","clearDepth","depthFunction","depthFunc","depthWrite","depthMask","invalidateDepthWrite","depthRange","stencilTest","STENCIL_TEST","invalidateStencilTest","setClearStencil","clearStencil","stencilFunction","stencilFunc","FRONT_AND_BACK","setStencilFunctionSeparate","stencilFuncSeparate","stencilWriteMask","stencilMask","invalidateStencilWrite","stencilOperation","stencilOp","setStencilOpSeparate","stencilOpSeparate","setActiveTexture","arguments","undefined","clear","clearSafe","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","drawArrays","D","error","drawElements","getBoundVAO","vertexBuffers","count","offset","size","args","logInfo","resetInfo","setViewport","Math","max","round","getViewport","useProgram","glName","bindTexture","maxTextureImageUnits","descriptor","target","applyChanges","isDirty","unbindTexture","bindFramebuffer","readFramebuffer","drawFramebuffer","FRAMEBUFFER","initializeAndBind","bindFramebufferSeparate","READ_FRAMEBUFFER","blitFramebuffer","NEAREST","DRAW_FRAMEBUFFER","bindBuffer","bufferType","v","uniformBuffer","pixelPackBuffer","pixelUnpackBuffer","copyReadBuffer","copyWriteBuffer","bindRenderbuffer","RENDERBUFFER","renderbuffer","_getBufferBinding","maxUniformBufferBindings","buffer","bindBufferBase","bindBufferRange","uniformBufferOffsetAlignment","bindUBO","byteLength","maxUniformBlockSize","initialize","unbindUBO","unbind","bind","clientWaitAsync","fenceSync","SYNC_GPU_COMMANDS_COMPLETE","Error","increment","Sync","flush","clientWaitSync","TIMEOUT_EXPIRED","decrement","deleteSync","WAIT_FAILED","getBoundFramebufferObject","resetState","ONE","ZERO","ADD","BACK","CCW","canvas","LESS","ALWAYS","KEEP","maxVertexAttributes","disableVertexAttribArray","readBuffer","COLOR_ATTACHMENT0","lineWidth","TEXTURE_2D","TEXTURE_CUBE_MAP","TEXTURE_3D","TEXTURE_2D_ARRAY","getExtension","textureFilterAnisotropic","maxAnisotropy","versionString","VERSION","maxVertexTextureImageUnits","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_VERTEX_ATTRIBS","maxMaxAnisotropy","min","MAX_TEXTURE_MAX_ANISOTROPY","MAX_TEXTURE_IMAGE_UNITS","maxTextureSize","MAX_TEXTURE_SIZE","MAX_UNIFORM_BUFFER_BINDINGS","maxVertexUniformBlocks","MAX_VERTEX_UNIFORM_BLOCKS","maxFragmentUniformBlocks","MAX_FRAGMENT_UNIFORM_BLOCKS","MAX_UNIFORM_BLOCK_SIZE","UNIFORM_BUFFER_OFFSET_ALIGNMENT","maxArrayTextureLayers","MAX_ARRAY_TEXTURE_LAYERS","maxSamples","MAX_SAMPLES","TEXTURE_UNIT_FOR_UPDATES","POINTS","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","RenderingContext"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/webgl/RenderingContext.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t,applySome as e,isNone as s,isSome as i,unwrapOr as a}from\"../../core/maybe.js\";import{after as r}from\"../../core/promiseUtils.js\";import{Milliseconds as n}from\"../../core/time.js\";import{webglDebugEnabled as l}from\"./checkWebGLError.js\";import{ContextType as h}from\"./context-util.js\";import{ContextState as f}from\"./ContextState.js\";import{BufferType as o,Face as _,BASE_TEXTURE_UNIT as u,ClearBufferBit as c,FramebufferTarget as d,TextureSamplingMode as b,SyncCondition as F,ResourceType as g,ClientWaitSyncStatus as E,BlendFactor as B,BlendOperation as p,CullMode as m,CompareFunction as R,StencilOperation as T,ColorAttachment as A,TextureType as x,PrimitiveType as O}from\"./enums.js\";import{InstanceCounter as U}from\"./InstanceCounter.js\";import{ProgramCache as C}from\"./ProgramCache.js\";import{StateTracker as S}from\"./renderState.js\";import{Texture as P}from\"./Texture.js\";import{getErrorString as M}from\"./Util.js\";import{WebGLDriverTest as y}from\"./WebGLDriverTest.js\";import{Capabilities as N}from\"./capabilities/Capabilities.js\";import k from\"./capabilities/isWebGL2Context.js\";let I=class{constructor(t,e){this.gl=t,this.instanceCounter=new U,this.programCache=new C(this),this._state=new f,this._numOfDrawCalls=0,this._numOfTriangles=0,this.type=k(t)?h.WEBGL2:h.WEBGL1,this._loadExtensions(),this.configure(e)}get gl2(){return this.type===h.WEBGL1?null:this.gl}configure(e){this._capabilities=new N(this.gl,e),this._parameters=this._loadParameters(e);const s=this.gl.getParameter(this.gl.VIEWPORT);this._state=new f,this._state.viewport={x:s[0],y:s[1],width:s[2],height:s[3]},this._stateTracker=new S({setBlending:t=>{if(t){this.setBlendingEnabled(!0),this.setBlendEquationSeparate(t.opRgb,t.opAlpha),this.setBlendFunctionSeparate(t.srcRgb,t.dstRgb,t.srcAlpha,t.dstAlpha);const e=t.color;this.setBlendColor(e.r,e.g,e.b,e.a)}else this.setBlendingEnabled(!1)},setCulling:t=>{t?(this.setFaceCullingEnabled(!0),this.setCullFace(t.face),this.setFrontFace(t.mode)):this.setFaceCullingEnabled(!1)},setPolygonOffset:t=>{t?(this.setPolygonOffsetFillEnabled(!0),this.setPolygonOffset(t.factor,t.units)):this.setPolygonOffsetFillEnabled(!1)},setDepthTest:t=>{t?(this.setDepthTestEnabled(!0),this.setDepthFunction(t.func)):this.setDepthTestEnabled(!1)},setStencilTest:t=>{if(t){this.setStencilTestEnabled(!0);const e=t.function;this.setStencilFunction(e.func,e.ref,e.mask);const s=t.operation;this.setStencilOp(s.fail,s.zFail,s.zPass)}else this.setStencilTestEnabled(!1)},setDepthWrite:t=>{t?(this.setDepthWriteEnabled(!0),this.setDepthRange(t.zNear,t.zFar)):this.setDepthWriteEnabled(!1)},setColorWrite:t=>{t?this.setColorMask(t.r,t.g,t.b,t.a):this.setColorMask(!1,!1,!1,!1)},setStencilWrite:t=>{t?this.setStencilWriteMask(t.mask):this.setStencilWriteMask(0)}}),this.enforceState(),t(this._driverTest),this._driverTest=new y(this)}dispose(){t(this._driverTest),this.programCache.dispose(),this.bindVAO(null),this.unbindBuffer(o.ARRAY_BUFFER),this.unbindBuffer(o.ELEMENT_ARRAY_BUFFER),this.type===h.WEBGL2&&(this.unbindBuffer(o.UNIFORM_BUFFER),this._state.uniformBufferBindingPoints.length=0,this.unbindBuffer(o.PIXEL_PACK_BUFFER),this.unbindBuffer(o.PIXEL_UNPACK_BUFFER),this.unbindBuffer(o.COPY_READ_BUFFER),this.unbindBuffer(o.COPY_WRITE_BUFFER)),this._state.textureUnitMap.length=0,l()&&console.log(this.instanceCounter.resourceInformation)}get driverTest(){return this._driverTest}get contextAttributes(){return this.gl.getContextAttributes()}get parameters(){return this._parameters}setPipelineState(t){this._stateTracker.setPipeline(t)}setBlendingEnabled(t){this._state.blend!==t&&(!0===t?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this._state.blend=t,this._stateTracker.invalidateBlending())}externalProgramUpdate(){this._state.program?.stop(),this._state.program=null}externalTextureUnitUpdate(t,e){for(let s=0;s<t.length;++s)this._state.textureUnitMap[t[s]]=null;e>=0&&(this._state.activeTexture=e)}externalVertexArrayObjectUpdate(){const t=this.capabilities.vao;t&&(t.bindVertexArray(null),this._state.vertexArrayObject=null),this._state.vertexBuffer=null,this._state.indexBuffer=null}externalVertexBufferUpdate(){this._state.vertexBuffer=null}externalIndexBufferUpdate(){this._state.indexBuffer=null}setBlendColor(t,e,s,i){t===this._state.blendColor.r&&e===this._state.blendColor.g&&s===this._state.blendColor.b&&i===this._state.blendColor.a||(this.gl.blendColor(t,e,s,i),this._state.blendColor.r=t,this._state.blendColor.g=e,this._state.blendColor.b=s,this._state.blendColor.a=i,this._stateTracker.invalidateBlending())}setBlendFunction(t,e){t===this._state.blendFunction.srcRGB&&e===this._state.blendFunction.dstRGB||(this.gl.blendFunc(t,e),this._state.blendFunction.srcRGB=t,this._state.blendFunction.srcAlpha=t,this._state.blendFunction.dstRGB=e,this._state.blendFunction.dstAlpha=e,this._stateTracker.invalidateBlending())}setBlendFunctionSeparate(t,e,s,i){this._state.blendFunction.srcRGB===t&&this._state.blendFunction.srcAlpha===s&&this._state.blendFunction.dstRGB===e&&this._state.blendFunction.dstAlpha===i||(this.gl.blendFuncSeparate(t,e,s,i),this._state.blendFunction.srcRGB=t,this._state.blendFunction.srcAlpha=s,this._state.blendFunction.dstRGB=e,this._state.blendFunction.dstAlpha=i,this._stateTracker.invalidateBlending())}setBlendEquation(t){this._state.blendEquation.mode!==t&&(this.gl.blendEquation(t),this._state.blendEquation.mode=t,this._state.blendEquation.modeAlpha=t,this._stateTracker.invalidateBlending())}setBlendEquationSeparate(t,e){this._state.blendEquation.mode===t&&this._state.blendEquation.modeAlpha===e||(this.gl.blendEquationSeparate(t,e),this._state.blendEquation.mode=t,this._state.blendEquation.modeAlpha=e,this._stateTracker.invalidateBlending())}setColorMask(t,e,s,i){this._state.colorMask.r===t&&this._state.colorMask.g===e&&this._state.colorMask.b===s&&this._state.colorMask.a===i||(this.gl.colorMask(t,e,s,i),this._state.colorMask.r=t,this._state.colorMask.g=e,this._state.colorMask.b=s,this._state.colorMask.a=i,this._stateTracker.invalidateColorWrite())}setClearColor(t,e,s,i){this._state.clearColor.r===t&&this._state.clearColor.g===e&&this._state.clearColor.b===s&&this._state.clearColor.a===i||(this.gl.clearColor(t,e,s,i),this._state.clearColor.r=t,this._state.clearColor.g=e,this._state.clearColor.b=s,this._state.clearColor.a=i)}setFaceCullingEnabled(t){this._state.faceCulling!==t&&(!0===t?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this._state.faceCulling=t,this._stateTracker.invalidateCulling())}setPolygonOffsetFillEnabled(t){this._state.polygonOffsetFill!==t&&(!0===t?this.gl.enable(this.gl.POLYGON_OFFSET_FILL):this.gl.disable(this.gl.POLYGON_OFFSET_FILL),this._state.polygonOffsetFill=t,this._stateTracker.invalidatePolygonOffset())}setPolygonOffset(t,e){this._state.polygonOffset[0]===t&&this._state.polygonOffset[1]===e||(this._state.polygonOffset[0]=t,this._state.polygonOffset[1]=e,this.gl.polygonOffset(t,e),this._stateTracker.invalidatePolygonOffset())}setCullFace(t){this._state.cullFace!==t&&(this.gl.cullFace(t),this._state.cullFace=t,this._stateTracker.invalidateCulling())}setFrontFace(t){this._state.frontFace!==t&&(this.gl.frontFace(t),this._state.frontFace=t,this._stateTracker.invalidateCulling())}setScissorTestEnabled(t){this._state.scissorTest!==t&&(!0===t?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this._state.scissorTest=t)}setScissorRect(t,e,s,i){this._state.scissorRect.x===t&&this._state.scissorRect.y===e&&this._state.scissorRect.width===s&&this._state.scissorRect.height===i||(this.gl.scissor(t,e,s,i),this._state.scissorRect.x=t,this._state.scissorRect.y=e,this._state.scissorRect.width=s,this._state.scissorRect.height=i)}setDepthTestEnabled(t){this._state.depthTest!==t&&(!0===t?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this._state.depthTest=t,this._stateTracker.invalidateDepthTest())}setClearDepth(t){this._state.clearDepth!==t&&(this.gl.clearDepth(t),this._state.clearDepth=t)}setDepthFunction(t){this._state.depthFunction!==t&&(this.gl.depthFunc(t),this._state.depthFunction=t,this._stateTracker.invalidateDepthTest())}setDepthWriteEnabled(t){this._state.depthWrite!==t&&(this.gl.depthMask(t),this._state.depthWrite=t,this._stateTracker.invalidateDepthWrite())}setDepthRange(t,e){this._state.depthRange.zNear===t&&this._state.depthRange.zFar===e||(this.gl.depthRange(t,e),this._state.depthRange.zNear=t,this._state.depthRange.zFar=e,this._stateTracker.invalidateDepthWrite())}setStencilTestEnabled(t){this._state.stencilTest!==t&&(!0===t?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this._state.stencilTest=t,this._stateTracker.invalidateStencilTest())}setClearStencil(t){t!==this._state.clearStencil&&(this.gl.clearStencil(t),this._state.clearStencil=t)}setStencilFunction(t,e,s){this._state.stencilFunction.func===t&&this._state.stencilFunction.ref===e&&this._state.stencilFunction.mask===s||(this.gl.stencilFunc(t,e,s),this._state.stencilFunction.face=_.FRONT_AND_BACK,this._state.stencilFunction.func=t,this._state.stencilFunction.ref=e,this._state.stencilFunction.mask=s,this._stateTracker.invalidateStencilTest())}setStencilFunctionSeparate(t,e,s,i){this._state.stencilFunction.face===t&&this._state.stencilFunction.func===e&&this._state.stencilFunction.ref===s&&this._state.stencilFunction.mask===i||(this.gl.stencilFuncSeparate(t,e,s,i),this._state.stencilFunction.face=t,this._state.stencilFunction.func=e,this._state.stencilFunction.ref=s,this._state.stencilFunction.mask=i,this._stateTracker.invalidateStencilTest())}setStencilWriteMask(t){this._state.stencilWriteMask!==t&&(this.gl.stencilMask(t),this._state.stencilWriteMask=t,this._stateTracker.invalidateStencilWrite())}setStencilOp(t,e,s){this._state.stencilOperation.face===_.FRONT_AND_BACK&&this._state.stencilOperation.fail===t&&this._state.stencilOperation.zFail===e&&this._state.stencilOperation.zPass===s||(this.gl.stencilOp(t,e,s),this._state.stencilOperation.face=_.FRONT_AND_BACK,this._state.stencilOperation.fail=t,this._state.stencilOperation.zFail=e,this._state.stencilOperation.zPass=s,this._stateTracker.invalidateStencilTest())}setStencilOpSeparate(t,e,s,i){this._state.stencilOperation.face===t&&this._state.stencilOperation.fail===e&&this._state.stencilOperation.zFail===s&&this._state.stencilOperation.zPass===i||(this.gl.stencilOpSeparate(t,e,s,i),this._state.stencilOperation.face=t,this._state.stencilOperation.fail=e,this._state.stencilOperation.zFail=s,this._state.stencilOperation.zPass=i,this._stateTracker.invalidateStencilTest())}setActiveTexture(t,e=!1){const s=this._state.activeTexture;return t>=0&&(e||t!==this._state.activeTexture)&&(this.gl.activeTexture(u+t),this._state.activeTexture=t),s}clear(t){t&&this.gl.clear(t)}clearSafe(t,e=255){t&&(t&c.COLOR_BUFFER_BIT&&this.setColorMask(!0,!0,!0,!0),t&c.DEPTH_BUFFER_BIT&&this.setDepthWriteEnabled(!0),t&c.STENCIL_BUFFER_BIT&&this.setStencilWriteMask(e),this.gl.clear(t))}drawArrays(t,e,s){if(l()&&(this._numOfDrawCalls++,this._numOfTriangles+=D(t,s)),this.gl.drawArrays(t,e,s),l()){const t=M(this);t&&console.error(\"drawArrays:\",t)}}drawElements(t,s,i,a){if(l()&&(this._numOfDrawCalls++,this._numOfTriangles+=D(t,s)),this.gl.drawElements(t,s,i,a),l()){const r=M(this);if(r){const n=this.getBoundVAO(),l=n?.indexBuffer,h=n?.vertexBuffers,f={indexBuffer:l,vertexBuffers:h},o={mode:t,count:s,type:i,offset:a},_=e(l,(t=>t.size))??0,u=a+s,c=_<u?`. Buffer is too small. Attempted to draw index ${u} of ${_}`:\"\";console.error(`drawElements: ${r}${c}`,{args:o,vao:f})}}}logInfo(){l()&&console.log(`DrawCalls: ${this._numOfDrawCalls}, Triangles: ${this._numOfTriangles}`)}resetInfo(){l()&&(this._numOfDrawCalls=0,this._numOfTriangles=0)}get capabilities(){return this._capabilities}setViewport(t,e,s,i){s=Math.max(Math.round(s),1),i=Math.max(Math.round(i),1);const a=this._state.viewport;a.x===t&&a.y===e&&a.width===s&&a.height===i||(a.x=t,a.y=e,a.width=s,a.height=i,this.gl.viewport(t,e,s,i))}getViewport(){const t=this._state.viewport;return{x:t.x,y:t.y,width:t.width,height:t.height}}useProgram(t){this._state.program!==t&&(this._state.program?.stop(),this._state.program=t,this.gl.useProgram(t?.glName??null))}bindTexture(t,e,a=!1){(e>=this.parameters.maxTextureImageUnits||e<0)&&console.error(\"Input texture unit is out of range of available units!\");const r=this._state.textureUnitMap[e];return s(t)||null==t.glName?(i(r)&&(this.setActiveTexture(e,a),this.gl.bindTexture(r.descriptor.target,null)),this._state.textureUnitMap[e]=null,r):a||r!==t?(this.setActiveTexture(e,a),this.gl.bindTexture(t.descriptor.target,t.glName),t.applyChanges(),this._state.textureUnitMap[e]=t,r):(t.isDirty&&(this.setActiveTexture(e,a),t.applyChanges()),r)}unbindTexture(t){if(!s(t))for(let e=0;e<this.parameters.maxTextureImageUnits;e++)this._state.textureUnitMap[e]===t&&(this.bindTexture(null,e),this._state.textureUnitMap[e]=null)}bindFramebuffer(t,e=!1){if(e||this._state.readFramebuffer!==t||this._state.drawFramebuffer!==t){if(s(t))return this.gl.bindFramebuffer(d.FRAMEBUFFER,null),this._state.readFramebuffer=null,void(this._state.drawFramebuffer=null);t.initializeAndBind(d.FRAMEBUFFER),this._state.readFramebuffer=t,this._state.drawFramebuffer=t}}bindFramebufferSeparate(t,e,i=!1){const r=e===d.READ_FRAMEBUFFER,n=r?this._state.readFramebuffer:this._state.drawFramebuffer;(i||n!==t)&&(s(t)?this.gl.bindFramebuffer(e,null):t.initializeAndBind(e),r?this._state.readFramebuffer=a(t,null):this._state.drawFramebuffer=a(t,null))}blitFramebuffer(t,e,s=0,i=0,a=t.width,r=t.height,n=0,l=0,h=e.width,f=e.height,o=c.COLOR_BUFFER_BIT,_=b.NEAREST){this.bindFramebufferSeparate(t,d.READ_FRAMEBUFFER),this.bindFramebufferSeparate(e,d.DRAW_FRAMEBUFFER);this.gl.blitFramebuffer(s,i,a,r,n,l,h,f,o,_)}bindBuffer(t,e){if(t)switch(e??(e=t.bufferType),e){case o.ARRAY_BUFFER:this._state.vertexBuffer=v(this.gl,t,e,this._state.vertexBuffer);break;case o.ELEMENT_ARRAY_BUFFER:this._state.indexBuffer=v(this.gl,t,e,this._state.indexBuffer);break;case o.UNIFORM_BUFFER:this._state.uniformBuffer=v(this.gl,t,e,this._state.uniformBuffer);break;case o.PIXEL_PACK_BUFFER:this._state.pixelPackBuffer=v(this.gl,t,e,this._state.pixelPackBuffer);break;case o.PIXEL_UNPACK_BUFFER:this._state.pixelUnpackBuffer=v(this.gl,t,e,this._state.pixelUnpackBuffer);break;case o.COPY_READ_BUFFER:this._state.copyReadBuffer=v(this.gl,t,e,this._state.copyReadBuffer);break;case o.COPY_WRITE_BUFFER:this._state.copyWriteBuffer=v(this.gl,t,e,this._state.copyWriteBuffer)}}bindRenderbuffer(t){const e=this.gl;t||(e.bindRenderbuffer(e.RENDERBUFFER,null),this._state.renderbuffer=null),this._state.renderbuffer!==t&&(e.bindRenderbuffer(e.RENDERBUFFER,t.glName),this._state.renderbuffer=t)}_getBufferBinding(t,e){if(e>=this.parameters.maxUniformBufferBindings||e<0)return console.error(\"Uniform buffer binding point is out of range!\"),null;const i=this._state.uniformBufferBindingPoints;let a=i[e];return s(a)&&(a={buffer:null,offset:0,size:0},i[e]=a),a}bindBufferBase(t,e,i){const a=this._getBufferBinding(t,e);if(s(a))return;if(a.buffer===i&&0===a.offset&&0===a.size)return;this.gl.bindBufferBase(t,e,i?i.glName:null),a.buffer=i,a.offset=0,a.size=0}bindBufferRange(t,e,i,a,r){const n=this._getBufferBinding(t,e);if(s(n))return;if(n.buffer===i&&n.offset===a&&n.size===r)return;if(a%this._parameters.uniformBufferOffsetAlignment!=0)return void console.error(\"Uniform buffer binding offset is not a multiple of the context offset alignment\");this.gl.bindBufferRange(t,e,i.glName,a,r),n.buffer=i,n.offset=a,n.size=r}bindUBO(t,e,i,a){s(e)?this.bindBufferBase(o.UNIFORM_BUFFER,t,null):(l()&&(a??e.byteLength)>this._parameters.maxUniformBlockSize&&console.error(\"Attempting to bind more data than the maximum uniform block size\"),e.initialize(),void 0!==i&&void 0!==a?this.bindBufferRange(o.UNIFORM_BUFFER,t,e.buffer,i,a):this.bindBufferBase(o.UNIFORM_BUFFER,t,e.buffer))}unbindUBO(t){for(let e=0,s=this._state.uniformBufferBindingPoints.length;e<s;e++){const s=this._state.uniformBufferBindingPoints[e];i(s)&&s.buffer===t.buffer&&this.bindBufferBase(o.UNIFORM_BUFFER,e,null)}}unbindBuffer(t){switch(t){case o.ARRAY_BUFFER:this._state.vertexBuffer=v(this.gl,null,t,this._state.vertexBuffer);break;case o.ELEMENT_ARRAY_BUFFER:this._state.indexBuffer=v(this.gl,null,t,this._state.indexBuffer);break;case o.UNIFORM_BUFFER:this._state.uniformBuffer=v(this.gl,null,t,this._state.uniformBuffer);break;case o.PIXEL_PACK_BUFFER:this._state.pixelPackBuffer=v(this.gl,null,t,this._state.pixelPackBuffer);break;case o.PIXEL_UNPACK_BUFFER:this._state.pixelUnpackBuffer=v(this.gl,null,t,this._state.pixelUnpackBuffer);break;case o.COPY_READ_BUFFER:this._state.copyReadBuffer=v(this.gl,null,t,this._state.copyReadBuffer);break;case o.COPY_WRITE_BUFFER:this._state.copyWriteBuffer=v(this.gl,null,t,this._state.copyWriteBuffer)}}bindVAO(t=null){s(t)?this._state.vertexArrayObject&&(this._state.vertexArrayObject.unbind(),this._state.vertexArrayObject=null):this._state.vertexArrayObject!==t&&(t.bind(),this._state.vertexArrayObject=t)}async clientWaitAsync(t=n(10)){const e=this.gl,s=e.fenceSync(F.SYNC_GPU_COMMANDS_COMPLETE,0);if(!s)throw new Error(\"Client wait failed, could not create sync object\");let i;this.instanceCounter.increment(g.Sync,s),e.flush();do{await r(t),i=e.clientWaitSync(s,0,0)}while(i===E.TIMEOUT_EXPIRED);if(this.instanceCounter.decrement(g.Sync,s),e.deleteSync(s),i===E.WAIT_FAILED)throw new Error(\"Client wait failed\")}getBoundFramebufferObject(t=d.FRAMEBUFFER){return t===d.READ_FRAMEBUFFER?this._state.readFramebuffer:this._state.drawFramebuffer}getBoundVAO(){return this._state.vertexArrayObject}resetState(){this.useProgram(null),this.bindVAO(null),this.bindFramebuffer(null,!0),this.unbindBuffer(o.ARRAY_BUFFER),this.unbindBuffer(o.ELEMENT_ARRAY_BUFFER),this.type===h.WEBGL2&&(this.unbindBuffer(o.UNIFORM_BUFFER),this._state.uniformBufferBindingPoints.length=0,this.unbindBuffer(o.PIXEL_PACK_BUFFER),this.unbindBuffer(o.PIXEL_UNPACK_BUFFER),this.unbindBuffer(o.COPY_READ_BUFFER),this.unbindBuffer(o.COPY_WRITE_BUFFER));for(let t=0;t<this.parameters.maxTextureImageUnits;++t)this.bindTexture(null,t);this.setBlendingEnabled(!1),this.setBlendFunction(B.ONE,B.ZERO),this.setBlendEquation(p.ADD),this.setBlendColor(0,0,0,0),this.setFaceCullingEnabled(!1),this.setCullFace(_.BACK),this.setFrontFace(m.CCW),this.setPolygonOffsetFillEnabled(!1),this.setPolygonOffset(0,0),this.setScissorTestEnabled(!1),this.setScissorRect(0,0,this.gl.canvas.width,this.gl.canvas.height),this.setDepthTestEnabled(!1),this.setDepthFunction(R.LESS),this.setDepthRange(0,1),this.setStencilTestEnabled(!1),this.setStencilFunction(R.ALWAYS,0,0),this.setStencilOp(T.KEEP,T.KEEP,T.KEEP),this.setClearColor(0,0,0,0),this.setClearDepth(1),this.setClearStencil(0),this.setColorMask(!0,!0,!0,!0),this.setStencilWriteMask(4294967295),this.setDepthWriteEnabled(!0),this.setViewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}enforceState(){const t=this.capabilities.vao;t&&t.bindVertexArray(null);const{gl:e,gl2:s}=this;for(let i=0;i<this.parameters.maxVertexAttributes;i++)e.disableVertexAttribArray(i);if(this._state.vertexBuffer?e.bindBuffer(this._state.vertexBuffer.bufferType,this._state.vertexBuffer.glName):e.bindBuffer(o.ARRAY_BUFFER,null),this._state.indexBuffer?e.bindBuffer(this._state.indexBuffer.bufferType,this._state.indexBuffer.glName):e.bindBuffer(o.ELEMENT_ARRAY_BUFFER,null),i(s)){this._state.uniformBuffer?s.bindBuffer(this._state.uniformBuffer.bufferType,this._state.uniformBuffer.glName):s.bindBuffer(o.UNIFORM_BUFFER,null);for(let t=0;t<this._parameters.maxUniformBufferBindings;t++){const e=this._state.uniformBufferBindingPoints[t];if(i(e)){const{buffer:i,offset:a,size:r}=e;null!==i?0===a&&0===r?s.bindBufferBase(o.UNIFORM_BUFFER,t,i.glName):s.bindBufferRange(o.UNIFORM_BUFFER,t,i.glName,a,r):s.bindBufferBase(o.UNIFORM_BUFFER,t,null)}}this._state.pixelPackBuffer?s.bindBuffer(this._state.pixelPackBuffer.bufferType,this._state.pixelPackBuffer.glName):s.bindBuffer(o.PIXEL_PACK_BUFFER,null),this._state.pixelUnpackBuffer?s.bindBuffer(this._state.pixelUnpackBuffer.bufferType,this._state.pixelUnpackBuffer.glName):s.bindBuffer(o.PIXEL_UNPACK_BUFFER,null),this._state.copyReadBuffer?s.bindBuffer(this._state.copyReadBuffer.bufferType,this._state.copyReadBuffer.glName):s.bindBuffer(o.COPY_READ_BUFFER,null),this._state.copyWriteBuffer?s.bindBuffer(this._state.copyWriteBuffer.bufferType,this._state.copyWriteBuffer.glName):s.bindBuffer(o.COPY_WRITE_BUFFER,null),s.bindFramebuffer(d.READ_FRAMEBUFFER,null),s.readBuffer(s.BACK),this._state.readFramebuffer&&(s.bindFramebuffer(d.READ_FRAMEBUFFER,this._state.readFramebuffer.glName),s.readBuffer(A.COLOR_ATTACHMENT0)),s.bindFramebuffer(d.DRAW_FRAMEBUFFER,this._state.drawFramebuffer?.glName??null)}else this._state.readFramebuffer=this._state.drawFramebuffer,e.bindFramebuffer(d.FRAMEBUFFER,this._state.drawFramebuffer?.glName??null);if(t&&this._state.vertexArrayObject){const t=this._state.vertexArrayObject;this._state.vertexArrayObject&&(this._state.vertexArrayObject.unbind(),this._state.vertexArrayObject=null),this.bindVAO(t)}e.useProgram(this._state.program?.glName??null),e.blendColor(this._state.blendColor.r,this._state.blendColor.g,this._state.blendColor.b,this._state.blendColor.a),e.bindRenderbuffer(e.RENDERBUFFER,this._state.renderbuffer?this._state.renderbuffer.glName:null),!0===this._state.blend?e.enable(this.gl.BLEND):e.disable(this.gl.BLEND),e.blendEquationSeparate(this._state.blendEquation.mode,this._state.blendEquation.modeAlpha),e.blendFuncSeparate(this._state.blendFunction.srcRGB,this._state.blendFunction.dstRGB,this._state.blendFunction.srcAlpha,this._state.blendFunction.dstAlpha),e.clearColor(this._state.clearColor.r,this._state.clearColor.g,this._state.clearColor.b,this._state.clearColor.a),e.clearDepth(this._state.clearDepth),e.clearStencil(this._state.clearStencil),e.colorMask(this._state.colorMask.r,this._state.colorMask.g,this._state.colorMask.b,this._state.colorMask.a),e.cullFace(this._state.cullFace),e.depthFunc(this._state.depthFunction),e.depthRange(this._state.depthRange.zNear,this._state.depthRange.zFar),!0===this._state.depthTest?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),e.depthMask(this._state.depthWrite),e.frontFace(this._state.frontFace),e.lineWidth(1),!0===this._state.faceCulling?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),e.polygonOffset(this._state.polygonOffset[0],this._state.polygonOffset[1]),!0===this._state.polygonOffsetFill?e.enable(e.POLYGON_OFFSET_FILL):e.disable(e.POLYGON_OFFSET_FILL),e.scissor(this._state.scissorRect.x,this._state.scissorRect.y,this._state.scissorRect.width,this._state.scissorRect.height),!0===this._state.scissorTest?e.enable(e.SCISSOR_TEST):e.disable(e.SCISSOR_TEST),e.stencilFunc(this._state.stencilFunction.func,this._state.stencilFunction.ref,this._state.stencilFunction.mask),e.stencilOpSeparate(this._state.stencilOperation.face,this._state.stencilOperation.fail,this._state.stencilOperation.zFail,this._state.stencilOperation.zPass),!0===this._state.stencilTest?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),e.stencilMask(this._state.stencilWriteMask);for(let r=0;r<this.parameters.maxTextureImageUnits;r++){e.activeTexture(u+r),e.bindTexture(x.TEXTURE_2D,null),e.bindTexture(x.TEXTURE_CUBE_MAP,null),this.type===h.WEBGL2&&(e.bindTexture(x.TEXTURE_3D,null),e.bindTexture(x.TEXTURE_2D_ARRAY,null));const t=this._state.textureUnitMap[r];i(t)&&e.bindTexture(t.descriptor.target,t.glName)}e.activeTexture(u+this._state.activeTexture);const a=this._state.viewport;e.viewport(a.x,a.y,a.width,a.height),this.resetInfo()}_loadExtensions(){this.type===h.WEBGL1&&this.gl.getExtension(\"OES_element_index_uint\"),this.gl.getExtension(\"KHR_parallel_shader_compile\")}_loadParameters(t){const e=this.capabilities.textureFilterAnisotropic,s=t.maxAnisotropy??1/0,i=this.type===h.WEBGL2,a=this.gl,r={versionString:this.gl.getParameter(this.gl.VERSION),maxVertexTextureImageUnits:this.gl.getParameter(this.gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxVertexAttributes:this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS),maxMaxAnisotropy:e?Math.min(this.gl.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY),s):1,maxTextureImageUnits:this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),maxTextureSize:this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE),maxUniformBufferBindings:i?a.getParameter(a.MAX_UNIFORM_BUFFER_BINDINGS):0,maxVertexUniformBlocks:i?a.getParameter(a.MAX_VERTEX_UNIFORM_BLOCKS):0,maxFragmentUniformBlocks:i?a.getParameter(a.MAX_FRAGMENT_UNIFORM_BLOCKS):0,maxUniformBlockSize:i?a.getParameter(a.MAX_UNIFORM_BLOCK_SIZE):0,uniformBufferOffsetAlignment:i?a.getParameter(a.UNIFORM_BUFFER_OFFSET_ALIGNMENT):1,maxArrayTextureLayers:i?a.getParameter(a.MAX_ARRAY_TEXTURE_LAYERS):1,maxSamples:i?a.getParameter(a.MAX_SAMPLES):1};return P.TEXTURE_UNIT_FOR_UPDATES=r.maxTextureImageUnits-1,r}};function v(t,e,s,i){return e?i!==e&&t.bindBuffer(s,e.glName):t.bindBuffer(s,null),e}function D(t,e){switch(t){case O.POINTS:return 2*e;case O.TRIANGLES:return e/3;case O.TRIANGLE_STRIP:case O.TRIANGLE_FAN:return e-2;default:return 0}}export{I as RenderingContext};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,YAAY,IAAIC,CAAC,EAACC,SAAS,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,EAACC,QAAQ,IAAIC,CAAC,QAAK,qBAAqB;AAAC,SAAOC,KAAK,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,oBAAoB;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,sBAAsB;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,UAAU,IAAIC,CAAC,EAACC,IAAI,IAAIC,CAAC,EAACC,iBAAiB,IAAIC,CAAC,EAACC,cAAc,IAAIC,CAAC,EAACC,iBAAiB,IAAIC,CAAC,EAACC,mBAAmB,IAAIC,CAAC,EAACC,aAAa,IAAIC,CAAC,EAACC,YAAY,IAAIC,CAAC,EAACC,oBAAoB,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,EAACC,cAAc,IAAIC,CAAC,EAACC,QAAQ,IAAIC,CAAC,EAACC,eAAe,IAAIC,CAAC,EAACC,gBAAgB,IAAIC,CAAC,EAACC,eAAe,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,EAACC,aAAa,IAAIC,CAAC,QAAK,YAAY;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,sBAAsB;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,kBAAkB;AAAC,SAAOC,OAAO,IAAIC,CAAC,QAAK,cAAc;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,WAAW;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,sBAAsB;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,gCAAgC;AAAC,OAAOC,CAAC,MAAK,mCAAmC;AAAC,IAAIC,CAAC,GAAC,MAAK;EAACC,WAAWA,CAACrE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACoE,EAAE,GAACtE,CAAC,EAAC,IAAI,CAACuE,eAAe,GAAC,IAAIjB,CAAC,IAAC,IAAI,CAACkB,YAAY,GAAC,IAAIhB,CAAC,CAAC,IAAI,CAAC,EAAC,IAAI,CAACiB,MAAM,GAAC,IAAIvD,CAAC,IAAC,IAAI,CAACwD,eAAe,GAAC,CAAC,EAAC,IAAI,CAACC,eAAe,GAAC,CAAC,EAAC,IAAI,CAACC,IAAI,GAACT,CAAC,CAACnE,CAAC,CAAC,GAACgB,CAAC,CAAC6D,MAAM,GAAC7D,CAAC,CAAC8D,MAAM,EAAC,IAAI,CAACC,eAAe,EAAE,EAAC,IAAI,CAACC,SAAS,CAAC9E,CAAC,CAAC;EAAA;EAAC,IAAI+E,GAAGA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACL,IAAI,KAAG5D,CAAC,CAAC8D,MAAM,GAAC,IAAI,GAAC,IAAI,CAACR,EAAE;EAAA;EAACU,SAASA,CAAC9E,CAAC,EAAC;IAAC,IAAI,CAACgF,aAAa,GAAC,IAAIhB,CAAC,CAAC,IAAI,CAACI,EAAE,EAACpE,CAAC,CAAC,EAAC,IAAI,CAACiF,WAAW,GAAC,IAAI,CAACC,eAAe,CAAClF,CAAC,CAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACkE,EAAE,CAACe,YAAY,CAAC,IAAI,CAACf,EAAE,CAACgB,QAAQ,CAAC;IAAC,IAAI,CAACb,MAAM,GAAC,IAAIvD,CAAC,IAAC,IAAI,CAACuD,MAAM,CAACc,QAAQ,GAAC;MAACrC,CAAC,EAAC9C,CAAC,CAAC,CAAC,CAAC;MAAC4D,CAAC,EAAC5D,CAAC,CAAC,CAAC,CAAC;MAACoF,KAAK,EAACpF,CAAC,CAAC,CAAC,CAAC;MAACqF,MAAM,EAACrF,CAAC,CAAC,CAAC;IAAC,CAAC,EAAC,IAAI,CAACsF,aAAa,GAAC,IAAIhC,CAAC,CAAC;MAACiC,WAAW,EAAC3F,CAAC,IAAE;QAAC,IAAGA,CAAC,EAAC;UAAC,IAAI,CAAC4F,kBAAkB,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACC,wBAAwB,CAAC7F,CAAC,CAAC8F,KAAK,EAAC9F,CAAC,CAAC+F,OAAO,CAAC,EAAC,IAAI,CAACC,wBAAwB,CAAChG,CAAC,CAACiG,MAAM,EAACjG,CAAC,CAACkG,MAAM,EAAClG,CAAC,CAACmG,QAAQ,EAACnG,CAAC,CAACoG,QAAQ,CAAC;UAAC,MAAMlG,CAAC,GAACF,CAAC,CAACqG,KAAK;UAAC,IAAI,CAACC,aAAa,CAACpG,CAAC,CAACQ,CAAC,EAACR,CAAC,CAACgC,CAAC,EAAChC,CAAC,CAAC4B,CAAC,EAAC5B,CAAC,CAACM,CAAC,CAAC;QAAA,CAAC,MAAK,IAAI,CAACoF,kBAAkB,CAAC,CAAC,CAAC,CAAC;MAAA,CAAC;MAACW,UAAU,EAACvG,CAAC,IAAE;QAACA,CAAC,IAAE,IAAI,CAACwG,qBAAqB,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACC,WAAW,CAACzG,CAAC,CAAC0G,IAAI,CAAC,EAAC,IAAI,CAACC,YAAY,CAAC3G,CAAC,CAAC4G,IAAI,CAAC,IAAE,IAAI,CAACJ,qBAAqB,CAAC,CAAC,CAAC,CAAC;MAAA,CAAC;MAACK,gBAAgB,EAAC7G,CAAC,IAAE;QAACA,CAAC,IAAE,IAAI,CAAC8G,2BAA2B,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACD,gBAAgB,CAAC7G,CAAC,CAAC+G,MAAM,EAAC/G,CAAC,CAACgH,KAAK,CAAC,IAAE,IAAI,CAACF,2BAA2B,CAAC,CAAC,CAAC,CAAC;MAAA,CAAC;MAACG,YAAY,EAACjH,CAAC,IAAE;QAACA,CAAC,IAAE,IAAI,CAACkH,mBAAmB,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACC,gBAAgB,CAACnH,CAAC,CAACoH,IAAI,CAAC,IAAE,IAAI,CAACF,mBAAmB,CAAC,CAAC,CAAC,CAAC;MAAA,CAAC;MAACG,cAAc,EAACrH,CAAC,IAAE;QAAC,IAAGA,CAAC,EAAC;UAAC,IAAI,CAACsH,qBAAqB,CAAC,CAAC,CAAC,CAAC;UAAC,MAAMpH,CAAC,GAACF,CAAC,CAACuH,QAAQ;UAAC,IAAI,CAACC,kBAAkB,CAACtH,CAAC,CAACkH,IAAI,EAAClH,CAAC,CAACuH,GAAG,EAACvH,CAAC,CAACwH,IAAI,CAAC;UAAC,MAAMtH,CAAC,GAACJ,CAAC,CAAC2H,SAAS;UAAC,IAAI,CAACC,YAAY,CAACxH,CAAC,CAACyH,IAAI,EAACzH,CAAC,CAAC0H,KAAK,EAAC1H,CAAC,CAAC2H,KAAK,CAAC;QAAA,CAAC,MAAK,IAAI,CAACT,qBAAqB,CAAC,CAAC,CAAC,CAAC;MAAA,CAAC;MAACU,aAAa,EAAChI,CAAC,IAAE;QAACA,CAAC,IAAE,IAAI,CAACiI,oBAAoB,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACC,aAAa,CAAClI,CAAC,CAACmI,KAAK,EAACnI,CAAC,CAACoI,IAAI,CAAC,IAAE,IAAI,CAACH,oBAAoB,CAAC,CAAC,CAAC,CAAC;MAAA,CAAC;MAACI,aAAa,EAACrI,CAAC,IAAE;QAACA,CAAC,GAAC,IAAI,CAACsI,YAAY,CAACtI,CAAC,CAACU,CAAC,EAACV,CAAC,CAACkC,CAAC,EAAClC,CAAC,CAAC8B,CAAC,EAAC9B,CAAC,CAACQ,CAAC,CAAC,GAAC,IAAI,CAAC8H,YAAY,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;MAAA,CAAC;MAACC,eAAe,EAACvI,CAAC,IAAE;QAACA,CAAC,GAAC,IAAI,CAACwI,mBAAmB,CAACxI,CAAC,CAAC0H,IAAI,CAAC,GAAC,IAAI,CAACc,mBAAmB,CAAC,CAAC,CAAC;MAAA;IAAC,CAAC,CAAC,EAAC,IAAI,CAACC,YAAY,EAAE,EAACzI,CAAC,CAAC,IAAI,CAAC0I,WAAW,CAAC,EAAC,IAAI,CAACA,WAAW,GAAC,IAAI1E,CAAC,CAAC,IAAI,CAAC;EAAA;EAAC2E,OAAOA,CAAA,EAAE;IAAC3I,CAAC,CAAC,IAAI,CAAC0I,WAAW,CAAC,EAAC,IAAI,CAAClE,YAAY,CAACmE,OAAO,EAAE,EAAC,IAAI,CAACC,OAAO,CAAC,IAAI,CAAC,EAAC,IAAI,CAACC,YAAY,CAACzH,CAAC,CAAC0H,YAAY,CAAC,EAAC,IAAI,CAACD,YAAY,CAACzH,CAAC,CAAC2H,oBAAoB,CAAC,EAAC,IAAI,CAACnE,IAAI,KAAG5D,CAAC,CAAC6D,MAAM,KAAG,IAAI,CAACgE,YAAY,CAACzH,CAAC,CAAC4H,cAAc,CAAC,EAAC,IAAI,CAACvE,MAAM,CAACwE,0BAA0B,CAACC,MAAM,GAAC,CAAC,EAAC,IAAI,CAACL,YAAY,CAACzH,CAAC,CAAC+H,iBAAiB,CAAC,EAAC,IAAI,CAACN,YAAY,CAACzH,CAAC,CAACgI,mBAAmB,CAAC,EAAC,IAAI,CAACP,YAAY,CAACzH,CAAC,CAACiI,gBAAgB,CAAC,EAAC,IAAI,CAACR,YAAY,CAACzH,CAAC,CAACkI,iBAAiB,CAAC,CAAC,EAAC,IAAI,CAAC7E,MAAM,CAAC8E,cAAc,CAACL,MAAM,GAAC,CAAC,EAACpI,CAAC,EAAE,IAAE0I,OAAO,CAACC,GAAG,CAAC,IAAI,CAAClF,eAAe,CAACmF,mBAAmB,CAAC;EAAA;EAAC,IAAIC,UAAUA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACjB,WAAW;EAAA;EAAC,IAAIkB,iBAAiBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACtF,EAAE,CAACuF,oBAAoB,EAAE;EAAA;EAAC,IAAIC,UAAUA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAC3E,WAAW;EAAA;EAAC4E,gBAAgBA,CAAC/J,CAAC,EAAC;IAAC,IAAI,CAAC0F,aAAa,CAACsE,WAAW,CAAChK,CAAC,CAAC;EAAA;EAAC4F,kBAAkBA,CAAC5F,CAAC,EAAC;IAAC,IAAI,CAACyE,MAAM,CAACwF,KAAK,KAAGjK,CAAC,KAAG,CAAC,CAAC,KAAGA,CAAC,GAAC,IAAI,CAACsE,EAAE,CAAC4F,MAAM,CAAC,IAAI,CAAC5F,EAAE,CAAC6F,KAAK,CAAC,GAAC,IAAI,CAAC7F,EAAE,CAAC8F,OAAO,CAAC,IAAI,CAAC9F,EAAE,CAAC6F,KAAK,CAAC,EAAC,IAAI,CAAC1F,MAAM,CAACwF,KAAK,GAACjK,CAAC,EAAC,IAAI,CAAC0F,aAAa,CAAC2E,kBAAkB,EAAE,CAAC;EAAA;EAACC,qBAAqBA,CAAA,EAAE;IAAC,IAAI,CAAC7F,MAAM,CAAC8F,OAAO,EAAEC,IAAI,EAAE,EAAC,IAAI,CAAC/F,MAAM,CAAC8F,OAAO,GAAC,IAAI;EAAA;EAACE,yBAAyBA,CAACzK,CAAC,EAACE,CAAC,EAAC;IAAC,KAAI,IAAIE,CAAC,GAAC,CAAC,EAACA,CAAC,GAACJ,CAAC,CAACkJ,MAAM,EAAC,EAAE9I,CAAC,EAAC,IAAI,CAACqE,MAAM,CAAC8E,cAAc,CAACvJ,CAAC,CAACI,CAAC,CAAC,CAAC,GAAC,IAAI;IAACF,CAAC,IAAE,CAAC,KAAG,IAAI,CAACuE,MAAM,CAACiG,aAAa,GAACxK,CAAC,CAAC;EAAA;EAACyK,+BAA+BA,CAAA,EAAE;IAAC,MAAM3K,CAAC,GAAC,IAAI,CAAC4K,YAAY,CAACC,GAAG;IAAC7K,CAAC,KAAGA,CAAC,CAAC8K,eAAe,CAAC,IAAI,CAAC,EAAC,IAAI,CAACrG,MAAM,CAACsG,iBAAiB,GAAC,IAAI,CAAC,EAAC,IAAI,CAACtG,MAAM,CAACuG,YAAY,GAAC,IAAI,EAAC,IAAI,CAACvG,MAAM,CAACwG,WAAW,GAAC,IAAI;EAAA;EAACC,0BAA0BA,CAAA,EAAE;IAAC,IAAI,CAACzG,MAAM,CAACuG,YAAY,GAAC,IAAI;EAAA;EAACG,yBAAyBA,CAAA,EAAE;IAAC,IAAI,CAAC1G,MAAM,CAACwG,WAAW,GAAC,IAAI;EAAA;EAAC3E,aAAaA,CAACtG,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAACN,CAAC,KAAG,IAAI,CAACyE,MAAM,CAAC2G,UAAU,CAAC1K,CAAC,IAAER,CAAC,KAAG,IAAI,CAACuE,MAAM,CAAC2G,UAAU,CAAClJ,CAAC,IAAE9B,CAAC,KAAG,IAAI,CAACqE,MAAM,CAAC2G,UAAU,CAACtJ,CAAC,IAAExB,CAAC,KAAG,IAAI,CAACmE,MAAM,CAAC2G,UAAU,CAAC5K,CAAC,KAAG,IAAI,CAAC8D,EAAE,CAAC8G,UAAU,CAACpL,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACmE,MAAM,CAAC2G,UAAU,CAAC1K,CAAC,GAACV,CAAC,EAAC,IAAI,CAACyE,MAAM,CAAC2G,UAAU,CAAClJ,CAAC,GAAChC,CAAC,EAAC,IAAI,CAACuE,MAAM,CAAC2G,UAAU,CAACtJ,CAAC,GAAC1B,CAAC,EAAC,IAAI,CAACqE,MAAM,CAAC2G,UAAU,CAAC5K,CAAC,GAACF,CAAC,EAAC,IAAI,CAACoF,aAAa,CAAC2E,kBAAkB,EAAE,CAAC;EAAA;EAACgB,gBAAgBA,CAACrL,CAAC,EAACE,CAAC,EAAC;IAACF,CAAC,KAAG,IAAI,CAACyE,MAAM,CAAC6G,aAAa,CAACC,MAAM,IAAErL,CAAC,KAAG,IAAI,CAACuE,MAAM,CAAC6G,aAAa,CAACE,MAAM,KAAG,IAAI,CAAClH,EAAE,CAACmH,SAAS,CAACzL,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACuE,MAAM,CAAC6G,aAAa,CAACC,MAAM,GAACvL,CAAC,EAAC,IAAI,CAACyE,MAAM,CAAC6G,aAAa,CAACnF,QAAQ,GAACnG,CAAC,EAAC,IAAI,CAACyE,MAAM,CAAC6G,aAAa,CAACE,MAAM,GAACtL,CAAC,EAAC,IAAI,CAACuE,MAAM,CAAC6G,aAAa,CAAClF,QAAQ,GAAClG,CAAC,EAAC,IAAI,CAACwF,aAAa,CAAC2E,kBAAkB,EAAE,CAAC;EAAA;EAACrE,wBAAwBA,CAAChG,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACmE,MAAM,CAAC6G,aAAa,CAACC,MAAM,KAAGvL,CAAC,IAAE,IAAI,CAACyE,MAAM,CAAC6G,aAAa,CAACnF,QAAQ,KAAG/F,CAAC,IAAE,IAAI,CAACqE,MAAM,CAAC6G,aAAa,CAACE,MAAM,KAAGtL,CAAC,IAAE,IAAI,CAACuE,MAAM,CAAC6G,aAAa,CAAClF,QAAQ,KAAG9F,CAAC,KAAG,IAAI,CAACgE,EAAE,CAACoH,iBAAiB,CAAC1L,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACmE,MAAM,CAAC6G,aAAa,CAACC,MAAM,GAACvL,CAAC,EAAC,IAAI,CAACyE,MAAM,CAAC6G,aAAa,CAACnF,QAAQ,GAAC/F,CAAC,EAAC,IAAI,CAACqE,MAAM,CAAC6G,aAAa,CAACE,MAAM,GAACtL,CAAC,EAAC,IAAI,CAACuE,MAAM,CAAC6G,aAAa,CAAClF,QAAQ,GAAC9F,CAAC,EAAC,IAAI,CAACoF,aAAa,CAAC2E,kBAAkB,EAAE,CAAC;EAAA;EAACsB,gBAAgBA,CAAC3L,CAAC,EAAC;IAAC,IAAI,CAACyE,MAAM,CAACmH,aAAa,CAAChF,IAAI,KAAG5G,CAAC,KAAG,IAAI,CAACsE,EAAE,CAACsH,aAAa,CAAC5L,CAAC,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACmH,aAAa,CAAChF,IAAI,GAAC5G,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACmH,aAAa,CAACC,SAAS,GAAC7L,CAAC,EAAC,IAAI,CAAC0F,aAAa,CAAC2E,kBAAkB,EAAE,CAAC;EAAA;EAACxE,wBAAwBA,CAAC7F,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACuE,MAAM,CAACmH,aAAa,CAAChF,IAAI,KAAG5G,CAAC,IAAE,IAAI,CAACyE,MAAM,CAACmH,aAAa,CAACC,SAAS,KAAG3L,CAAC,KAAG,IAAI,CAACoE,EAAE,CAACwH,qBAAqB,CAAC9L,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACmH,aAAa,CAAChF,IAAI,GAAC5G,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACmH,aAAa,CAACC,SAAS,GAAC3L,CAAC,EAAC,IAAI,CAACwF,aAAa,CAAC2E,kBAAkB,EAAE,CAAC;EAAA;EAAC/B,YAAYA,CAACtI,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACmE,MAAM,CAACsH,SAAS,CAACrL,CAAC,KAAGV,CAAC,IAAE,IAAI,CAACyE,MAAM,CAACsH,SAAS,CAAC7J,CAAC,KAAGhC,CAAC,IAAE,IAAI,CAACuE,MAAM,CAACsH,SAAS,CAACjK,CAAC,KAAG1B,CAAC,IAAE,IAAI,CAACqE,MAAM,CAACsH,SAAS,CAACvL,CAAC,KAAGF,CAAC,KAAG,IAAI,CAACgE,EAAE,CAACyH,SAAS,CAAC/L,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACmE,MAAM,CAACsH,SAAS,CAACrL,CAAC,GAACV,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACsH,SAAS,CAAC7J,CAAC,GAAChC,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACsH,SAAS,CAACjK,CAAC,GAAC1B,CAAC,EAAC,IAAI,CAACqE,MAAM,CAACsH,SAAS,CAACvL,CAAC,GAACF,CAAC,EAAC,IAAI,CAACoF,aAAa,CAACsG,oBAAoB,EAAE,CAAC;EAAA;EAACC,aAAaA,CAACjM,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACmE,MAAM,CAACyH,UAAU,CAACxL,CAAC,KAAGV,CAAC,IAAE,IAAI,CAACyE,MAAM,CAACyH,UAAU,CAAChK,CAAC,KAAGhC,CAAC,IAAE,IAAI,CAACuE,MAAM,CAACyH,UAAU,CAACpK,CAAC,KAAG1B,CAAC,IAAE,IAAI,CAACqE,MAAM,CAACyH,UAAU,CAAC1L,CAAC,KAAGF,CAAC,KAAG,IAAI,CAACgE,EAAE,CAAC4H,UAAU,CAAClM,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACmE,MAAM,CAACyH,UAAU,CAACxL,CAAC,GAACV,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACyH,UAAU,CAAChK,CAAC,GAAChC,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACyH,UAAU,CAACpK,CAAC,GAAC1B,CAAC,EAAC,IAAI,CAACqE,MAAM,CAACyH,UAAU,CAAC1L,CAAC,GAACF,CAAC,CAAC;EAAA;EAACkG,qBAAqBA,CAACxG,CAAC,EAAC;IAAC,IAAI,CAACyE,MAAM,CAAC0H,WAAW,KAAGnM,CAAC,KAAG,CAAC,CAAC,KAAGA,CAAC,GAAC,IAAI,CAACsE,EAAE,CAAC4F,MAAM,CAAC,IAAI,CAAC5F,EAAE,CAAC8H,SAAS,CAAC,GAAC,IAAI,CAAC9H,EAAE,CAAC8F,OAAO,CAAC,IAAI,CAAC9F,EAAE,CAAC8H,SAAS,CAAC,EAAC,IAAI,CAAC3H,MAAM,CAAC0H,WAAW,GAACnM,CAAC,EAAC,IAAI,CAAC0F,aAAa,CAAC2G,iBAAiB,EAAE,CAAC;EAAA;EAACvF,2BAA2BA,CAAC9G,CAAC,EAAC;IAAC,IAAI,CAACyE,MAAM,CAAC6H,iBAAiB,KAAGtM,CAAC,KAAG,CAAC,CAAC,KAAGA,CAAC,GAAC,IAAI,CAACsE,EAAE,CAAC4F,MAAM,CAAC,IAAI,CAAC5F,EAAE,CAACiI,mBAAmB,CAAC,GAAC,IAAI,CAACjI,EAAE,CAAC8F,OAAO,CAAC,IAAI,CAAC9F,EAAE,CAACiI,mBAAmB,CAAC,EAAC,IAAI,CAAC9H,MAAM,CAAC6H,iBAAiB,GAACtM,CAAC,EAAC,IAAI,CAAC0F,aAAa,CAAC8G,uBAAuB,EAAE,CAAC;EAAA;EAAC3F,gBAAgBA,CAAC7G,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACuE,MAAM,CAACgI,aAAa,CAAC,CAAC,CAAC,KAAGzM,CAAC,IAAE,IAAI,CAACyE,MAAM,CAACgI,aAAa,CAAC,CAAC,CAAC,KAAGvM,CAAC,KAAG,IAAI,CAACuE,MAAM,CAACgI,aAAa,CAAC,CAAC,CAAC,GAACzM,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACgI,aAAa,CAAC,CAAC,CAAC,GAACvM,CAAC,EAAC,IAAI,CAACoE,EAAE,CAACmI,aAAa,CAACzM,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACwF,aAAa,CAAC8G,uBAAuB,EAAE,CAAC;EAAA;EAAC/F,WAAWA,CAACzG,CAAC,EAAC;IAAC,IAAI,CAACyE,MAAM,CAACiI,QAAQ,KAAG1M,CAAC,KAAG,IAAI,CAACsE,EAAE,CAACoI,QAAQ,CAAC1M,CAAC,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACiI,QAAQ,GAAC1M,CAAC,EAAC,IAAI,CAAC0F,aAAa,CAAC2G,iBAAiB,EAAE,CAAC;EAAA;EAAC1F,YAAYA,CAAC3G,CAAC,EAAC;IAAC,IAAI,CAACyE,MAAM,CAACkI,SAAS,KAAG3M,CAAC,KAAG,IAAI,CAACsE,EAAE,CAACqI,SAAS,CAAC3M,CAAC,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACkI,SAAS,GAAC3M,CAAC,EAAC,IAAI,CAAC0F,aAAa,CAAC2G,iBAAiB,EAAE,CAAC;EAAA;EAACO,qBAAqBA,CAAC5M,CAAC,EAAC;IAAC,IAAI,CAACyE,MAAM,CAACoI,WAAW,KAAG7M,CAAC,KAAG,CAAC,CAAC,KAAGA,CAAC,GAAC,IAAI,CAACsE,EAAE,CAAC4F,MAAM,CAAC,IAAI,CAAC5F,EAAE,CAACwI,YAAY,CAAC,GAAC,IAAI,CAACxI,EAAE,CAAC8F,OAAO,CAAC,IAAI,CAAC9F,EAAE,CAACwI,YAAY,CAAC,EAAC,IAAI,CAACrI,MAAM,CAACoI,WAAW,GAAC7M,CAAC,CAAC;EAAA;EAAC+M,cAAcA,CAAC/M,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACmE,MAAM,CAACuI,WAAW,CAAC9J,CAAC,KAAGlD,CAAC,IAAE,IAAI,CAACyE,MAAM,CAACuI,WAAW,CAAChJ,CAAC,KAAG9D,CAAC,IAAE,IAAI,CAACuE,MAAM,CAACuI,WAAW,CAACxH,KAAK,KAAGpF,CAAC,IAAE,IAAI,CAACqE,MAAM,CAACuI,WAAW,CAACvH,MAAM,KAAGnF,CAAC,KAAG,IAAI,CAACgE,EAAE,CAAC2I,OAAO,CAACjN,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACmE,MAAM,CAACuI,WAAW,CAAC9J,CAAC,GAAClD,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACuI,WAAW,CAAChJ,CAAC,GAAC9D,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACuI,WAAW,CAACxH,KAAK,GAACpF,CAAC,EAAC,IAAI,CAACqE,MAAM,CAACuI,WAAW,CAACvH,MAAM,GAACnF,CAAC,CAAC;EAAA;EAAC4G,mBAAmBA,CAAClH,CAAC,EAAC;IAAC,IAAI,CAACyE,MAAM,CAACyI,SAAS,KAAGlN,CAAC,KAAG,CAAC,CAAC,KAAGA,CAAC,GAAC,IAAI,CAACsE,EAAE,CAAC4F,MAAM,CAAC,IAAI,CAAC5F,EAAE,CAAC6I,UAAU,CAAC,GAAC,IAAI,CAAC7I,EAAE,CAAC8F,OAAO,CAAC,IAAI,CAAC9F,EAAE,CAAC6I,UAAU,CAAC,EAAC,IAAI,CAAC1I,MAAM,CAACyI,SAAS,GAAClN,CAAC,EAAC,IAAI,CAAC0F,aAAa,CAAC0H,mBAAmB,EAAE,CAAC;EAAA;EAACC,aAAaA,CAACrN,CAAC,EAAC;IAAC,IAAI,CAACyE,MAAM,CAAC6I,UAAU,KAAGtN,CAAC,KAAG,IAAI,CAACsE,EAAE,CAACgJ,UAAU,CAACtN,CAAC,CAAC,EAAC,IAAI,CAACyE,MAAM,CAAC6I,UAAU,GAACtN,CAAC,CAAC;EAAA;EAACmH,gBAAgBA,CAACnH,CAAC,EAAC;IAAC,IAAI,CAACyE,MAAM,CAAC8I,aAAa,KAAGvN,CAAC,KAAG,IAAI,CAACsE,EAAE,CAACkJ,SAAS,CAACxN,CAAC,CAAC,EAAC,IAAI,CAACyE,MAAM,CAAC8I,aAAa,GAACvN,CAAC,EAAC,IAAI,CAAC0F,aAAa,CAAC0H,mBAAmB,EAAE,CAAC;EAAA;EAACnF,oBAAoBA,CAACjI,CAAC,EAAC;IAAC,IAAI,CAACyE,MAAM,CAACgJ,UAAU,KAAGzN,CAAC,KAAG,IAAI,CAACsE,EAAE,CAACoJ,SAAS,CAAC1N,CAAC,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACgJ,UAAU,GAACzN,CAAC,EAAC,IAAI,CAAC0F,aAAa,CAACiI,oBAAoB,EAAE,CAAC;EAAA;EAACzF,aAAaA,CAAClI,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACuE,MAAM,CAACmJ,UAAU,CAACzF,KAAK,KAAGnI,CAAC,IAAE,IAAI,CAACyE,MAAM,CAACmJ,UAAU,CAACxF,IAAI,KAAGlI,CAAC,KAAG,IAAI,CAACoE,EAAE,CAACsJ,UAAU,CAAC5N,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACmJ,UAAU,CAACzF,KAAK,GAACnI,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACmJ,UAAU,CAACxF,IAAI,GAAClI,CAAC,EAAC,IAAI,CAACwF,aAAa,CAACiI,oBAAoB,EAAE,CAAC;EAAA;EAACrG,qBAAqBA,CAACtH,CAAC,EAAC;IAAC,IAAI,CAACyE,MAAM,CAACoJ,WAAW,KAAG7N,CAAC,KAAG,CAAC,CAAC,KAAGA,CAAC,GAAC,IAAI,CAACsE,EAAE,CAAC4F,MAAM,CAAC,IAAI,CAAC5F,EAAE,CAACwJ,YAAY,CAAC,GAAC,IAAI,CAACxJ,EAAE,CAAC8F,OAAO,CAAC,IAAI,CAAC9F,EAAE,CAACwJ,YAAY,CAAC,EAAC,IAAI,CAACrJ,MAAM,CAACoJ,WAAW,GAAC7N,CAAC,EAAC,IAAI,CAAC0F,aAAa,CAACqI,qBAAqB,EAAE,CAAC;EAAA;EAACC,eAAeA,CAAChO,CAAC,EAAC;IAACA,CAAC,KAAG,IAAI,CAACyE,MAAM,CAACwJ,YAAY,KAAG,IAAI,CAAC3J,EAAE,CAAC2J,YAAY,CAACjO,CAAC,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACwJ,YAAY,GAACjO,CAAC,CAAC;EAAA;EAACwH,kBAAkBA,CAACxH,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACqE,MAAM,CAACyJ,eAAe,CAAC9G,IAAI,KAAGpH,CAAC,IAAE,IAAI,CAACyE,MAAM,CAACyJ,eAAe,CAACzG,GAAG,KAAGvH,CAAC,IAAE,IAAI,CAACuE,MAAM,CAACyJ,eAAe,CAACxG,IAAI,KAAGtH,CAAC,KAAG,IAAI,CAACkE,EAAE,CAAC6J,WAAW,CAACnO,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACqE,MAAM,CAACyJ,eAAe,CAACxH,IAAI,GAACpF,CAAC,CAAC8M,cAAc,EAAC,IAAI,CAAC3J,MAAM,CAACyJ,eAAe,CAAC9G,IAAI,GAACpH,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACyJ,eAAe,CAACzG,GAAG,GAACvH,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACyJ,eAAe,CAACxG,IAAI,GAACtH,CAAC,EAAC,IAAI,CAACsF,aAAa,CAACqI,qBAAqB,EAAE,CAAC;EAAA;EAACM,0BAA0BA,CAACrO,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACmE,MAAM,CAACyJ,eAAe,CAACxH,IAAI,KAAG1G,CAAC,IAAE,IAAI,CAACyE,MAAM,CAACyJ,eAAe,CAAC9G,IAAI,KAAGlH,CAAC,IAAE,IAAI,CAACuE,MAAM,CAACyJ,eAAe,CAACzG,GAAG,KAAGrH,CAAC,IAAE,IAAI,CAACqE,MAAM,CAACyJ,eAAe,CAACxG,IAAI,KAAGpH,CAAC,KAAG,IAAI,CAACgE,EAAE,CAACgK,mBAAmB,CAACtO,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACmE,MAAM,CAACyJ,eAAe,CAACxH,IAAI,GAAC1G,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACyJ,eAAe,CAAC9G,IAAI,GAAClH,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACyJ,eAAe,CAACzG,GAAG,GAACrH,CAAC,EAAC,IAAI,CAACqE,MAAM,CAACyJ,eAAe,CAACxG,IAAI,GAACpH,CAAC,EAAC,IAAI,CAACoF,aAAa,CAACqI,qBAAqB,EAAE,CAAC;EAAA;EAACvF,mBAAmBA,CAACxI,CAAC,EAAC;IAAC,IAAI,CAACyE,MAAM,CAAC8J,gBAAgB,KAAGvO,CAAC,KAAG,IAAI,CAACsE,EAAE,CAACkK,WAAW,CAACxO,CAAC,CAAC,EAAC,IAAI,CAACyE,MAAM,CAAC8J,gBAAgB,GAACvO,CAAC,EAAC,IAAI,CAAC0F,aAAa,CAAC+I,sBAAsB,EAAE,CAAC;EAAA;EAAC7G,YAAYA,CAAC5H,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACqE,MAAM,CAACiK,gBAAgB,CAAChI,IAAI,KAAGpF,CAAC,CAAC8M,cAAc,IAAE,IAAI,CAAC3J,MAAM,CAACiK,gBAAgB,CAAC7G,IAAI,KAAG7H,CAAC,IAAE,IAAI,CAACyE,MAAM,CAACiK,gBAAgB,CAAC5G,KAAK,KAAG5H,CAAC,IAAE,IAAI,CAACuE,MAAM,CAACiK,gBAAgB,CAAC3G,KAAK,KAAG3H,CAAC,KAAG,IAAI,CAACkE,EAAE,CAACqK,SAAS,CAAC3O,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACqE,MAAM,CAACiK,gBAAgB,CAAChI,IAAI,GAACpF,CAAC,CAAC8M,cAAc,EAAC,IAAI,CAAC3J,MAAM,CAACiK,gBAAgB,CAAC7G,IAAI,GAAC7H,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACiK,gBAAgB,CAAC5G,KAAK,GAAC5H,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACiK,gBAAgB,CAAC3G,KAAK,GAAC3H,CAAC,EAAC,IAAI,CAACsF,aAAa,CAACqI,qBAAqB,EAAE,CAAC;EAAA;EAACa,oBAAoBA,CAAC5O,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACmE,MAAM,CAACiK,gBAAgB,CAAChI,IAAI,KAAG1G,CAAC,IAAE,IAAI,CAACyE,MAAM,CAACiK,gBAAgB,CAAC7G,IAAI,KAAG3H,CAAC,IAAE,IAAI,CAACuE,MAAM,CAACiK,gBAAgB,CAAC5G,KAAK,KAAG1H,CAAC,IAAE,IAAI,CAACqE,MAAM,CAACiK,gBAAgB,CAAC3G,KAAK,KAAGzH,CAAC,KAAG,IAAI,CAACgE,EAAE,CAACuK,iBAAiB,CAAC7O,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACmE,MAAM,CAACiK,gBAAgB,CAAChI,IAAI,GAAC1G,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACiK,gBAAgB,CAAC7G,IAAI,GAAC3H,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACiK,gBAAgB,CAAC5G,KAAK,GAAC1H,CAAC,EAAC,IAAI,CAACqE,MAAM,CAACiK,gBAAgB,CAAC3G,KAAK,GAACzH,CAAC,EAAC,IAAI,CAACoF,aAAa,CAACqI,qBAAqB,EAAE,CAAC;EAAA;EAACe,gBAAgBA,CAAC9O,CAAC,EAAM;IAAA,IAALE,CAAC,GAAA6O,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC,CAAC,CAAC;IAAE,MAAM3O,CAAC,GAAC,IAAI,CAACqE,MAAM,CAACiG,aAAa;IAAC,OAAO1K,CAAC,IAAE,CAAC,KAAGE,CAAC,IAAEF,CAAC,KAAG,IAAI,CAACyE,MAAM,CAACiG,aAAa,CAAC,KAAG,IAAI,CAACpG,EAAE,CAACoG,aAAa,CAAClJ,CAAC,GAACxB,CAAC,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACiG,aAAa,GAAC1K,CAAC,CAAC,EAACI,CAAC;EAAA;EAAC6O,KAAKA,CAACjP,CAAC,EAAC;IAACA,CAAC,IAAE,IAAI,CAACsE,EAAE,CAAC2K,KAAK,CAACjP,CAAC,CAAC;EAAA;EAACkP,SAASA,CAAClP,CAAC,EAAO;IAAA,IAANE,CAAC,GAAA6O,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC,GAAG;IAAE/O,CAAC,KAAGA,CAAC,GAAC0B,CAAC,CAACyN,gBAAgB,IAAE,IAAI,CAAC7G,YAAY,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAACtI,CAAC,GAAC0B,CAAC,CAAC0N,gBAAgB,IAAE,IAAI,CAACnH,oBAAoB,CAAC,CAAC,CAAC,CAAC,EAACjI,CAAC,GAAC0B,CAAC,CAAC2N,kBAAkB,IAAE,IAAI,CAAC7G,mBAAmB,CAACtI,CAAC,CAAC,EAAC,IAAI,CAACoE,EAAE,CAAC2K,KAAK,CAACjP,CAAC,CAAC,CAAC;EAAA;EAACsP,UAAUA,CAACtP,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAGU,CAAC,EAAE,KAAG,IAAI,CAAC4D,eAAe,EAAE,EAAC,IAAI,CAACC,eAAe,IAAE4K,CAAC,CAACvP,CAAC,EAACI,CAAC,CAAC,CAAC,EAAC,IAAI,CAACkE,EAAE,CAACgL,UAAU,CAACtP,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC,EAACU,CAAC,EAAE,EAAC;MAAC,MAAMd,CAAC,GAAC8D,CAAC,CAAC,IAAI,CAAC;MAAC9D,CAAC,IAAEwJ,OAAO,CAACgG,KAAK,CAAC,aAAa,EAACxP,CAAC,CAAC;IAAA;EAAC;EAACyP,YAAYA,CAACzP,CAAC,EAACI,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAGM,CAAC,EAAE,KAAG,IAAI,CAAC4D,eAAe,EAAE,EAAC,IAAI,CAACC,eAAe,IAAE4K,CAAC,CAACvP,CAAC,EAACI,CAAC,CAAC,CAAC,EAAC,IAAI,CAACkE,EAAE,CAACmL,YAAY,CAACzP,CAAC,EAACI,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC,EAACM,CAAC,EAAE,EAAC;MAAC,MAAMJ,CAAC,GAACoD,CAAC,CAAC,IAAI,CAAC;MAAC,IAAGpD,CAAC,EAAC;QAAC,MAAME,CAAC,GAAC,IAAI,CAAC8O,WAAW,EAAE;UAAC5O,CAAC,GAACF,CAAC,EAAEqK,WAAW;UAACjK,CAAC,GAACJ,CAAC,EAAE+O,aAAa;UAACzO,CAAC,GAAC;YAAC+J,WAAW,EAACnK,CAAC;YAAC6O,aAAa,EAAC3O;UAAC,CAAC;UAACI,CAAC,GAAC;YAACwF,IAAI,EAAC5G,CAAC;YAAC4P,KAAK,EAACxP,CAAC;YAACwE,IAAI,EAACtE,CAAC;YAACuP,MAAM,EAACrP;UAAC,CAAC;UAACc,CAAC,GAACpB,CAAC,CAACY,CAAC,EAAEd,CAAC,IAAEA,CAAC,CAAC8P,IAAI,CAAE,IAAE,CAAC;UAACtO,CAAC,GAAChB,CAAC,GAACJ,CAAC;UAACsB,CAAC,GAACJ,CAAC,GAACE,CAAC,GAAE,kDAAiDA,CAAE,OAAMF,CAAE,EAAC,GAAC,EAAE;QAACkI,OAAO,CAACgG,KAAK,CAAE,iBAAgB9O,CAAE,GAAEgB,CAAE,EAAC,EAAC;UAACqO,IAAI,EAAC3O,CAAC;UAACyJ,GAAG,EAAC3J;QAAC,CAAC,CAAC;MAAA;IAAC;EAAC;EAAC8O,OAAOA,CAAA,EAAE;IAAClP,CAAC,EAAE,IAAE0I,OAAO,CAACC,GAAG,CAAE,cAAa,IAAI,CAAC/E,eAAgB,gBAAe,IAAI,CAACC,eAAgB,EAAC,CAAC;EAAA;EAACsL,SAASA,CAAA,EAAE;IAACnP,CAAC,EAAE,KAAG,IAAI,CAAC4D,eAAe,GAAC,CAAC,EAAC,IAAI,CAACC,eAAe,GAAC,CAAC,CAAC;EAAA;EAAC,IAAIiG,YAAYA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAC1F,aAAa;EAAA;EAACgL,WAAWA,CAAClQ,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAACF,CAAC,GAAC+P,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,KAAK,CAACjQ,CAAC,CAAC,EAAC,CAAC,CAAC,EAACE,CAAC,GAAC6P,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,KAAK,CAAC/P,CAAC,CAAC,EAAC,CAAC,CAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACiE,MAAM,CAACc,QAAQ;IAAC/E,CAAC,CAAC0C,CAAC,KAAGlD,CAAC,IAAEQ,CAAC,CAACwD,CAAC,KAAG9D,CAAC,IAAEM,CAAC,CAACgF,KAAK,KAAGpF,CAAC,IAAEI,CAAC,CAACiF,MAAM,KAAGnF,CAAC,KAAGE,CAAC,CAAC0C,CAAC,GAAClD,CAAC,EAACQ,CAAC,CAACwD,CAAC,GAAC9D,CAAC,EAACM,CAAC,CAACgF,KAAK,GAACpF,CAAC,EAACI,CAAC,CAACiF,MAAM,GAACnF,CAAC,EAAC,IAAI,CAACgE,EAAE,CAACiB,QAAQ,CAACvF,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC,CAAC;EAAA;EAACgQ,WAAWA,CAAA,EAAE;IAAC,MAAMtQ,CAAC,GAAC,IAAI,CAACyE,MAAM,CAACc,QAAQ;IAAC,OAAM;MAACrC,CAAC,EAAClD,CAAC,CAACkD,CAAC;MAACc,CAAC,EAAChE,CAAC,CAACgE,CAAC;MAACwB,KAAK,EAACxF,CAAC,CAACwF,KAAK;MAACC,MAAM,EAACzF,CAAC,CAACyF;IAAM,CAAC;EAAA;EAAC8K,UAAUA,CAACvQ,CAAC,EAAC;IAAC,IAAI,CAACyE,MAAM,CAAC8F,OAAO,KAAGvK,CAAC,KAAG,IAAI,CAACyE,MAAM,CAAC8F,OAAO,EAAEC,IAAI,EAAE,EAAC,IAAI,CAAC/F,MAAM,CAAC8F,OAAO,GAACvK,CAAC,EAAC,IAAI,CAACsE,EAAE,CAACiM,UAAU,CAACvQ,CAAC,EAAEwQ,MAAM,IAAE,IAAI,CAAC,CAAC;EAAA;EAACC,WAAWA,CAACzQ,CAAC,EAACE,CAAC,EAAM;IAAA,IAALM,CAAC,GAAAuO,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC,CAAC,CAAC;IAAE,CAAC7O,CAAC,IAAE,IAAI,CAAC4J,UAAU,CAAC4G,oBAAoB,IAAExQ,CAAC,GAAC,CAAC,KAAGsJ,OAAO,CAACgG,KAAK,CAAC,wDAAwD,CAAC;IAAC,MAAM9O,CAAC,GAAC,IAAI,CAAC+D,MAAM,CAAC8E,cAAc,CAACrJ,CAAC,CAAC;IAAC,OAAOE,CAAC,CAACJ,CAAC,CAAC,IAAE,IAAI,IAAEA,CAAC,CAACwQ,MAAM,IAAElQ,CAAC,CAACI,CAAC,CAAC,KAAG,IAAI,CAACoO,gBAAgB,CAAC5O,CAAC,EAACM,CAAC,CAAC,EAAC,IAAI,CAAC8D,EAAE,CAACmM,WAAW,CAAC/P,CAAC,CAACiQ,UAAU,CAACC,MAAM,EAAC,IAAI,CAAC,CAAC,EAAC,IAAI,CAACnM,MAAM,CAAC8E,cAAc,CAACrJ,CAAC,CAAC,GAAC,IAAI,EAACQ,CAAC,IAAEF,CAAC,IAAEE,CAAC,KAAGV,CAAC,IAAE,IAAI,CAAC8O,gBAAgB,CAAC5O,CAAC,EAACM,CAAC,CAAC,EAAC,IAAI,CAAC8D,EAAE,CAACmM,WAAW,CAACzQ,CAAC,CAAC2Q,UAAU,CAACC,MAAM,EAAC5Q,CAAC,CAACwQ,MAAM,CAAC,EAACxQ,CAAC,CAAC6Q,YAAY,EAAE,EAAC,IAAI,CAACpM,MAAM,CAAC8E,cAAc,CAACrJ,CAAC,CAAC,GAACF,CAAC,EAACU,CAAC,KAAGV,CAAC,CAAC8Q,OAAO,KAAG,IAAI,CAAChC,gBAAgB,CAAC5O,CAAC,EAACM,CAAC,CAAC,EAACR,CAAC,CAAC6Q,YAAY,EAAE,CAAC,EAACnQ,CAAC,CAAC;EAAA;EAACqQ,aAAaA,CAAC/Q,CAAC,EAAC;IAAC,IAAG,CAACI,CAAC,CAACJ,CAAC,CAAC,EAAC,KAAI,IAAIE,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,IAAI,CAAC4J,UAAU,CAAC4G,oBAAoB,EAACxQ,CAAC,EAAE,EAAC,IAAI,CAACuE,MAAM,CAAC8E,cAAc,CAACrJ,CAAC,CAAC,KAAGF,CAAC,KAAG,IAAI,CAACyQ,WAAW,CAAC,IAAI,EAACvQ,CAAC,CAAC,EAAC,IAAI,CAACuE,MAAM,CAAC8E,cAAc,CAACrJ,CAAC,CAAC,GAAC,IAAI,CAAC;EAAA;EAAC8Q,eAAeA,CAAChR,CAAC,EAAM;IAAA,IAALE,CAAC,GAAA6O,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC,CAAC,CAAC;IAAE,IAAG7O,CAAC,IAAE,IAAI,CAACuE,MAAM,CAACwM,eAAe,KAAGjR,CAAC,IAAE,IAAI,CAACyE,MAAM,CAACyM,eAAe,KAAGlR,CAAC,EAAC;MAAC,IAAGI,CAAC,CAACJ,CAAC,CAAC,EAAC,OAAO,IAAI,CAACsE,EAAE,CAAC0M,eAAe,CAACpP,CAAC,CAACuP,WAAW,EAAC,IAAI,CAAC,EAAC,IAAI,CAAC1M,MAAM,CAACwM,eAAe,GAAC,IAAI,EAAC,MAAK,IAAI,CAACxM,MAAM,CAACyM,eAAe,GAAC,IAAI,CAAC;MAAClR,CAAC,CAACoR,iBAAiB,CAACxP,CAAC,CAACuP,WAAW,CAAC,EAAC,IAAI,CAAC1M,MAAM,CAACwM,eAAe,GAACjR,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACyM,eAAe,GAAClR,CAAC;IAAA;EAAC;EAACqR,uBAAuBA,CAACrR,CAAC,EAACE,CAAC,EAAM;IAAA,IAALI,CAAC,GAAAyO,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC,CAAC,CAAC;IAAE,MAAMrO,CAAC,GAACR,CAAC,KAAG0B,CAAC,CAAC0P,gBAAgB;MAAC1Q,CAAC,GAACF,CAAC,GAAC,IAAI,CAAC+D,MAAM,CAACwM,eAAe,GAAC,IAAI,CAACxM,MAAM,CAACyM,eAAe;IAAC,CAAC5Q,CAAC,IAAEM,CAAC,KAAGZ,CAAC,MAAII,CAAC,CAACJ,CAAC,CAAC,GAAC,IAAI,CAACsE,EAAE,CAAC0M,eAAe,CAAC9Q,CAAC,EAAC,IAAI,CAAC,GAACF,CAAC,CAACoR,iBAAiB,CAAClR,CAAC,CAAC,EAACQ,CAAC,GAAC,IAAI,CAAC+D,MAAM,CAACwM,eAAe,GAACzQ,CAAC,CAACR,CAAC,EAAC,IAAI,CAAC,GAAC,IAAI,CAACyE,MAAM,CAACyM,eAAe,GAAC1Q,CAAC,CAACR,CAAC,EAAC,IAAI,CAAC,CAAC;EAAA;EAACuR,eAAeA,CAACvR,CAAC,EAACE,CAAC,EAA4F;IAAA,IAA3FE,CAAC,GAAA2O,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC,CAAC;IAAA,IAACzO,CAAC,GAAAyO,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC,CAAC;IAAA,IAACvO,CAAC,GAAAuO,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC/O,CAAC,CAACwF,KAAK;IAAA,IAAC9E,CAAC,GAAAqO,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC/O,CAAC,CAACyF,MAAM;IAAA,IAAC7E,CAAC,GAAAmO,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC,CAAC;IAAA,IAACjO,CAAC,GAAAiO,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC,CAAC;IAAA,IAAC/N,CAAC,GAAA+N,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC7O,CAAC,CAACsF,KAAK;IAAA,IAACtE,CAAC,GAAA6N,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC7O,CAAC,CAACuF,MAAM;IAAA,IAACrE,CAAC,GAAA2N,SAAA,CAAA7F,MAAA,SAAA6F,SAAA,SAAAC,SAAA,GAAAD,SAAA,OAACrN,CAAC,CAACyN,gBAAgB;IAAA,IAAC7N,CAAC,GAAAyN,SAAA,CAAA7F,MAAA,SAAA6F,SAAA,SAAAC,SAAA,GAAAD,SAAA,OAACjN,CAAC,CAAC0P,OAAO;IAAE,IAAI,CAACH,uBAAuB,CAACrR,CAAC,EAAC4B,CAAC,CAAC0P,gBAAgB,CAAC,EAAC,IAAI,CAACD,uBAAuB,CAACnR,CAAC,EAAC0B,CAAC,CAAC6P,gBAAgB,CAAC;IAAC,IAAI,CAACnN,EAAE,CAACiN,eAAe,CAACnR,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC;EAAA;EAACoQ,UAAUA,CAAC1R,CAAC,EAACE,CAAC,EAAC;IAAC,IAAGF,CAAC,EAAC,QAAOE,CAAC,KAAGA,CAAC,GAACF,CAAC,CAAC2R,UAAU,CAAC,EAACzR,CAAC;MAAE,KAAKkB,CAAC,CAAC0H,YAAY;QAAC,IAAI,CAACrE,MAAM,CAACuG,YAAY,GAAC4G,CAAC,CAAC,IAAI,CAACtN,EAAE,EAACtE,CAAC,EAACE,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACuG,YAAY,CAAC;QAAC;MAAM,KAAK5J,CAAC,CAAC2H,oBAAoB;QAAC,IAAI,CAACtE,MAAM,CAACwG,WAAW,GAAC2G,CAAC,CAAC,IAAI,CAACtN,EAAE,EAACtE,CAAC,EAACE,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACwG,WAAW,CAAC;QAAC;MAAM,KAAK7J,CAAC,CAAC4H,cAAc;QAAC,IAAI,CAACvE,MAAM,CAACoN,aAAa,GAACD,CAAC,CAAC,IAAI,CAACtN,EAAE,EAACtE,CAAC,EAACE,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACoN,aAAa,CAAC;QAAC;MAAM,KAAKzQ,CAAC,CAAC+H,iBAAiB;QAAC,IAAI,CAAC1E,MAAM,CAACqN,eAAe,GAACF,CAAC,CAAC,IAAI,CAACtN,EAAE,EAACtE,CAAC,EAACE,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACqN,eAAe,CAAC;QAAC;MAAM,KAAK1Q,CAAC,CAACgI,mBAAmB;QAAC,IAAI,CAAC3E,MAAM,CAACsN,iBAAiB,GAACH,CAAC,CAAC,IAAI,CAACtN,EAAE,EAACtE,CAAC,EAACE,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACsN,iBAAiB,CAAC;QAAC;MAAM,KAAK3Q,CAAC,CAACiI,gBAAgB;QAAC,IAAI,CAAC5E,MAAM,CAACuN,cAAc,GAACJ,CAAC,CAAC,IAAI,CAACtN,EAAE,EAACtE,CAAC,EAACE,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACuN,cAAc,CAAC;QAAC;MAAM,KAAK5Q,CAAC,CAACkI,iBAAiB;QAAC,IAAI,CAAC7E,MAAM,CAACwN,eAAe,GAACL,CAAC,CAAC,IAAI,CAACtN,EAAE,EAACtE,CAAC,EAACE,CAAC,EAAC,IAAI,CAACuE,MAAM,CAACwN,eAAe,CAAC;IAAA;EAAC;EAACC,gBAAgBA,CAAClS,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACoE,EAAE;IAACtE,CAAC,KAAGE,CAAC,CAACgS,gBAAgB,CAAChS,CAAC,CAACiS,YAAY,EAAC,IAAI,CAAC,EAAC,IAAI,CAAC1N,MAAM,CAAC2N,YAAY,GAAC,IAAI,CAAC,EAAC,IAAI,CAAC3N,MAAM,CAAC2N,YAAY,KAAGpS,CAAC,KAAGE,CAAC,CAACgS,gBAAgB,CAAChS,CAAC,CAACiS,YAAY,EAACnS,CAAC,CAACwQ,MAAM,CAAC,EAAC,IAAI,CAAC/L,MAAM,CAAC2N,YAAY,GAACpS,CAAC,CAAC;EAAA;EAACqS,iBAAiBA,CAACrS,CAAC,EAACE,CAAC,EAAC;IAAC,IAAGA,CAAC,IAAE,IAAI,CAAC4J,UAAU,CAACwI,wBAAwB,IAAEpS,CAAC,GAAC,CAAC,EAAC,OAAOsJ,OAAO,CAACgG,KAAK,CAAC,+CAA+C,CAAC,EAAC,IAAI;IAAC,MAAMlP,CAAC,GAAC,IAAI,CAACmE,MAAM,CAACwE,0BAA0B;IAAC,IAAIzI,CAAC,GAACF,CAAC,CAACJ,CAAC,CAAC;IAAC,OAAOE,CAAC,CAACI,CAAC,CAAC,KAAGA,CAAC,GAAC;MAAC+R,MAAM,EAAC,IAAI;MAAC1C,MAAM,EAAC,CAAC;MAACC,IAAI,EAAC;IAAC,CAAC,EAACxP,CAAC,CAACJ,CAAC,CAAC,GAACM,CAAC,CAAC,EAACA,CAAC;EAAA;EAACgS,cAAcA,CAACxS,CAAC,EAACE,CAAC,EAACI,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAAC6R,iBAAiB,CAACrS,CAAC,EAACE,CAAC,CAAC;IAAC,IAAGE,CAAC,CAACI,CAAC,CAAC,EAAC;IAAO,IAAGA,CAAC,CAAC+R,MAAM,KAAGjS,CAAC,IAAE,CAAC,KAAGE,CAAC,CAACqP,MAAM,IAAE,CAAC,KAAGrP,CAAC,CAACsP,IAAI,EAAC;IAAO,IAAI,CAACxL,EAAE,CAACkO,cAAc,CAACxS,CAAC,EAACE,CAAC,EAACI,CAAC,GAACA,CAAC,CAACkQ,MAAM,GAAC,IAAI,CAAC,EAAChQ,CAAC,CAAC+R,MAAM,GAACjS,CAAC,EAACE,CAAC,CAACqP,MAAM,GAAC,CAAC,EAACrP,CAAC,CAACsP,IAAI,GAAC,CAAC;EAAA;EAAC2C,eAAeA,CAACzS,CAAC,EAACE,CAAC,EAACI,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACyR,iBAAiB,CAACrS,CAAC,EAACE,CAAC,CAAC;IAAC,IAAGE,CAAC,CAACQ,CAAC,CAAC,EAAC;IAAO,IAAGA,CAAC,CAAC2R,MAAM,KAAGjS,CAAC,IAAEM,CAAC,CAACiP,MAAM,KAAGrP,CAAC,IAAEI,CAAC,CAACkP,IAAI,KAAGpP,CAAC,EAAC;IAAO,IAAGF,CAAC,GAAC,IAAI,CAAC2E,WAAW,CAACuN,4BAA4B,IAAE,CAAC,EAAC,OAAO,KAAKlJ,OAAO,CAACgG,KAAK,CAAC,iFAAiF,CAAC;IAAC,IAAI,CAAClL,EAAE,CAACmO,eAAe,CAACzS,CAAC,EAACE,CAAC,EAACI,CAAC,CAACkQ,MAAM,EAAChQ,CAAC,EAACE,CAAC,CAAC,EAACE,CAAC,CAAC2R,MAAM,GAACjS,CAAC,EAACM,CAAC,CAACiP,MAAM,GAACrP,CAAC,EAACI,CAAC,CAACkP,IAAI,GAACpP,CAAC;EAAA;EAACiS,OAAOA,CAAC3S,CAAC,EAACE,CAAC,EAACI,CAAC,EAACE,CAAC,EAAC;IAACJ,CAAC,CAACF,CAAC,CAAC,GAAC,IAAI,CAACsS,cAAc,CAACpR,CAAC,CAAC4H,cAAc,EAAChJ,CAAC,EAAC,IAAI,CAAC,IAAEc,CAAC,EAAE,IAAE,CAACN,CAAC,IAAEN,CAAC,CAAC0S,UAAU,IAAE,IAAI,CAACzN,WAAW,CAAC0N,mBAAmB,IAAErJ,OAAO,CAACgG,KAAK,CAAC,kEAAkE,CAAC,EAACtP,CAAC,CAAC4S,UAAU,EAAE,EAAC,KAAK,CAAC,KAAGxS,CAAC,IAAE,KAAK,CAAC,KAAGE,CAAC,GAAC,IAAI,CAACiS,eAAe,CAACrR,CAAC,CAAC4H,cAAc,EAAChJ,CAAC,EAACE,CAAC,CAACqS,MAAM,EAACjS,CAAC,EAACE,CAAC,CAAC,GAAC,IAAI,CAACgS,cAAc,CAACpR,CAAC,CAAC4H,cAAc,EAAChJ,CAAC,EAACE,CAAC,CAACqS,MAAM,CAAC,CAAC;EAAA;EAACQ,SAASA,CAAC/S,CAAC,EAAC;IAAC,KAAI,IAAIE,CAAC,GAAC,CAAC,EAACE,CAAC,GAAC,IAAI,CAACqE,MAAM,CAACwE,0BAA0B,CAACC,MAAM,EAAChJ,CAAC,GAACE,CAAC,EAACF,CAAC,EAAE,EAAC;MAAC,MAAME,CAAC,GAAC,IAAI,CAACqE,MAAM,CAACwE,0BAA0B,CAAC/I,CAAC,CAAC;MAACI,CAAC,CAACF,CAAC,CAAC,IAAEA,CAAC,CAACmS,MAAM,KAAGvS,CAAC,CAACuS,MAAM,IAAE,IAAI,CAACC,cAAc,CAACpR,CAAC,CAAC4H,cAAc,EAAC9I,CAAC,EAAC,IAAI,CAAC;IAAA;EAAC;EAAC2I,YAAYA,CAAC7I,CAAC,EAAC;IAAC,QAAOA,CAAC;MAAE,KAAKoB,CAAC,CAAC0H,YAAY;QAAC,IAAI,CAACrE,MAAM,CAACuG,YAAY,GAAC4G,CAAC,CAAC,IAAI,CAACtN,EAAE,EAAC,IAAI,EAACtE,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACuG,YAAY,CAAC;QAAC;MAAM,KAAK5J,CAAC,CAAC2H,oBAAoB;QAAC,IAAI,CAACtE,MAAM,CAACwG,WAAW,GAAC2G,CAAC,CAAC,IAAI,CAACtN,EAAE,EAAC,IAAI,EAACtE,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACwG,WAAW,CAAC;QAAC;MAAM,KAAK7J,CAAC,CAAC4H,cAAc;QAAC,IAAI,CAACvE,MAAM,CAACoN,aAAa,GAACD,CAAC,CAAC,IAAI,CAACtN,EAAE,EAAC,IAAI,EAACtE,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACoN,aAAa,CAAC;QAAC;MAAM,KAAKzQ,CAAC,CAAC+H,iBAAiB;QAAC,IAAI,CAAC1E,MAAM,CAACqN,eAAe,GAACF,CAAC,CAAC,IAAI,CAACtN,EAAE,EAAC,IAAI,EAACtE,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACqN,eAAe,CAAC;QAAC;MAAM,KAAK1Q,CAAC,CAACgI,mBAAmB;QAAC,IAAI,CAAC3E,MAAM,CAACsN,iBAAiB,GAACH,CAAC,CAAC,IAAI,CAACtN,EAAE,EAAC,IAAI,EAACtE,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACsN,iBAAiB,CAAC;QAAC;MAAM,KAAK3Q,CAAC,CAACiI,gBAAgB;QAAC,IAAI,CAAC5E,MAAM,CAACuN,cAAc,GAACJ,CAAC,CAAC,IAAI,CAACtN,EAAE,EAAC,IAAI,EAACtE,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACuN,cAAc,CAAC;QAAC;MAAM,KAAK5Q,CAAC,CAACkI,iBAAiB;QAAC,IAAI,CAAC7E,MAAM,CAACwN,eAAe,GAACL,CAAC,CAAC,IAAI,CAACtN,EAAE,EAAC,IAAI,EAACtE,CAAC,EAAC,IAAI,CAACyE,MAAM,CAACwN,eAAe,CAAC;IAAA;EAAC;EAACrJ,OAAOA,CAAA,EAAQ;IAAA,IAAP5I,CAAC,GAAA+O,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC,IAAI;IAAE3O,CAAC,CAACJ,CAAC,CAAC,GAAC,IAAI,CAACyE,MAAM,CAACsG,iBAAiB,KAAG,IAAI,CAACtG,MAAM,CAACsG,iBAAiB,CAACiI,MAAM,EAAE,EAAC,IAAI,CAACvO,MAAM,CAACsG,iBAAiB,GAAC,IAAI,CAAC,GAAC,IAAI,CAACtG,MAAM,CAACsG,iBAAiB,KAAG/K,CAAC,KAAGA,CAAC,CAACiT,IAAI,EAAE,EAAC,IAAI,CAACxO,MAAM,CAACsG,iBAAiB,GAAC/K,CAAC,CAAC;EAAA;EAAC,MAAMkT,eAAeA,CAAA,EAAS;IAAA,IAARlT,CAAC,GAAA+O,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAACnO,CAAC,CAAC,EAAE,CAAC;IAAE,MAAMV,CAAC,GAAC,IAAI,CAACoE,EAAE;MAAClE,CAAC,GAACF,CAAC,CAACiT,SAAS,CAACnR,CAAC,CAACoR,0BAA0B,EAAC,CAAC,CAAC;IAAC,IAAG,CAAChT,CAAC,EAAC,MAAM,IAAIiT,KAAK,CAAC,kDAAkD,CAAC;IAAC,IAAI/S,CAAC;IAAC,IAAI,CAACiE,eAAe,CAAC+O,SAAS,CAACpR,CAAC,CAACqR,IAAI,EAACnT,CAAC,CAAC,EAACF,CAAC,CAACsT,KAAK,EAAE;IAAC,GAAE;MAAC,MAAM9S,CAAC,CAACV,CAAC,CAAC,EAACM,CAAC,GAACJ,CAAC,CAACuT,cAAc,CAACrT,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;IAAA,CAAC,QAAME,CAAC,KAAG8B,CAAC,CAACsR,eAAe;IAAE,IAAG,IAAI,CAACnP,eAAe,CAACoP,SAAS,CAACzR,CAAC,CAACqR,IAAI,EAACnT,CAAC,CAAC,EAACF,CAAC,CAAC0T,UAAU,CAACxT,CAAC,CAAC,EAACE,CAAC,KAAG8B,CAAC,CAACyR,WAAW,EAAC,MAAM,IAAIR,KAAK,CAAC,oBAAoB,CAAC;EAAA;EAACS,yBAAyBA,CAAA,EAAiB;IAAA,IAAhB9T,CAAC,GAAA+O,SAAA,CAAA7F,MAAA,QAAA6F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAACnN,CAAC,CAACuP,WAAW;IAAE,OAAOnR,CAAC,KAAG4B,CAAC,CAAC0P,gBAAgB,GAAC,IAAI,CAAC7M,MAAM,CAACwM,eAAe,GAAC,IAAI,CAACxM,MAAM,CAACyM,eAAe;EAAA;EAACxB,WAAWA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACjL,MAAM,CAACsG,iBAAiB;EAAA;EAACgJ,UAAUA,CAAA,EAAE;IAAC,IAAI,CAACxD,UAAU,CAAC,IAAI,CAAC,EAAC,IAAI,CAAC3H,OAAO,CAAC,IAAI,CAAC,EAAC,IAAI,CAACoI,eAAe,CAAC,IAAI,EAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACnI,YAAY,CAACzH,CAAC,CAAC0H,YAAY,CAAC,EAAC,IAAI,CAACD,YAAY,CAACzH,CAAC,CAAC2H,oBAAoB,CAAC,EAAC,IAAI,CAACnE,IAAI,KAAG5D,CAAC,CAAC6D,MAAM,KAAG,IAAI,CAACgE,YAAY,CAACzH,CAAC,CAAC4H,cAAc,CAAC,EAAC,IAAI,CAACvE,MAAM,CAACwE,0BAA0B,CAACC,MAAM,GAAC,CAAC,EAAC,IAAI,CAACL,YAAY,CAACzH,CAAC,CAAC+H,iBAAiB,CAAC,EAAC,IAAI,CAACN,YAAY,CAACzH,CAAC,CAACgI,mBAAmB,CAAC,EAAC,IAAI,CAACP,YAAY,CAACzH,CAAC,CAACiI,gBAAgB,CAAC,EAAC,IAAI,CAACR,YAAY,CAACzH,CAAC,CAACkI,iBAAiB,CAAC,CAAC;IAAC,KAAI,IAAItJ,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,IAAI,CAAC8J,UAAU,CAAC4G,oBAAoB,EAAC,EAAE1Q,CAAC,EAAC,IAAI,CAACyQ,WAAW,CAAC,IAAI,EAACzQ,CAAC,CAAC;IAAC,IAAI,CAAC4F,kBAAkB,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACyF,gBAAgB,CAAC/I,CAAC,CAAC0R,GAAG,EAAC1R,CAAC,CAAC2R,IAAI,CAAC,EAAC,IAAI,CAACtI,gBAAgB,CAACnJ,CAAC,CAAC0R,GAAG,CAAC,EAAC,IAAI,CAAC5N,aAAa,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EAAC,IAAI,CAACE,qBAAqB,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACC,WAAW,CAACnF,CAAC,CAAC6S,IAAI,CAAC,EAAC,IAAI,CAACxN,YAAY,CAACjE,CAAC,CAAC0R,GAAG,CAAC,EAAC,IAAI,CAACtN,2BAA2B,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACD,gBAAgB,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,IAAI,CAAC+F,qBAAqB,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACG,cAAc,CAAC,CAAC,EAAC,CAAC,EAAC,IAAI,CAACzI,EAAE,CAAC+P,MAAM,CAAC7O,KAAK,EAAC,IAAI,CAAClB,EAAE,CAAC+P,MAAM,CAAC5O,MAAM,CAAC,EAAC,IAAI,CAACyB,mBAAmB,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACC,gBAAgB,CAACvE,CAAC,CAAC0R,IAAI,CAAC,EAAC,IAAI,CAACpM,aAAa,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,IAAI,CAACZ,qBAAqB,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACE,kBAAkB,CAAC5E,CAAC,CAAC2R,MAAM,EAAC,CAAC,EAAC,CAAC,CAAC,EAAC,IAAI,CAAC3M,YAAY,CAAC9E,CAAC,CAAC0R,IAAI,EAAC1R,CAAC,CAAC0R,IAAI,EAAC1R,CAAC,CAAC0R,IAAI,CAAC,EAAC,IAAI,CAACvI,aAAa,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EAAC,IAAI,CAACoB,aAAa,CAAC,CAAC,CAAC,EAAC,IAAI,CAACW,eAAe,CAAC,CAAC,CAAC,EAAC,IAAI,CAAC1F,YAAY,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACE,mBAAmB,CAAC,UAAU,CAAC,EAAC,IAAI,CAACP,oBAAoB,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACiI,WAAW,CAAC,CAAC,EAAC,CAAC,EAAC,IAAI,CAAC5L,EAAE,CAAC+P,MAAM,CAAC7O,KAAK,EAAC,IAAI,CAAClB,EAAE,CAAC+P,MAAM,CAAC5O,MAAM,CAAC;EAAA;EAACgD,YAAYA,CAAA,EAAE;IAAC,MAAMzI,CAAC,GAAC,IAAI,CAAC4K,YAAY,CAACC,GAAG;IAAC7K,CAAC,IAAEA,CAAC,CAAC8K,eAAe,CAAC,IAAI,CAAC;IAAC,MAAK;MAACxG,EAAE,EAACpE,CAAC;MAAC+E,GAAG,EAAC7E;IAAC,CAAC,GAAC,IAAI;IAAC,KAAI,IAAIE,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,IAAI,CAACwJ,UAAU,CAAC2K,mBAAmB,EAACnU,CAAC,EAAE,EAACJ,CAAC,CAACwU,wBAAwB,CAACpU,CAAC,CAAC;IAAC,IAAG,IAAI,CAACmE,MAAM,CAACuG,YAAY,GAAC9K,CAAC,CAACwR,UAAU,CAAC,IAAI,CAACjN,MAAM,CAACuG,YAAY,CAAC2G,UAAU,EAAC,IAAI,CAAClN,MAAM,CAACuG,YAAY,CAACwF,MAAM,CAAC,GAACtQ,CAAC,CAACwR,UAAU,CAACtQ,CAAC,CAAC0H,YAAY,EAAC,IAAI,CAAC,EAAC,IAAI,CAACrE,MAAM,CAACwG,WAAW,GAAC/K,CAAC,CAACwR,UAAU,CAAC,IAAI,CAACjN,MAAM,CAACwG,WAAW,CAAC0G,UAAU,EAAC,IAAI,CAAClN,MAAM,CAACwG,WAAW,CAACuF,MAAM,CAAC,GAACtQ,CAAC,CAACwR,UAAU,CAACtQ,CAAC,CAAC2H,oBAAoB,EAAC,IAAI,CAAC,EAACzI,CAAC,CAACF,CAAC,CAAC,EAAC;MAAC,IAAI,CAACqE,MAAM,CAACoN,aAAa,GAACzR,CAAC,CAACsR,UAAU,CAAC,IAAI,CAACjN,MAAM,CAACoN,aAAa,CAACF,UAAU,EAAC,IAAI,CAAClN,MAAM,CAACoN,aAAa,CAACrB,MAAM,CAAC,GAACpQ,CAAC,CAACsR,UAAU,CAACtQ,CAAC,CAAC4H,cAAc,EAAC,IAAI,CAAC;MAAC,KAAI,IAAIhJ,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,IAAI,CAACmF,WAAW,CAACmN,wBAAwB,EAACtS,CAAC,EAAE,EAAC;QAAC,MAAME,CAAC,GAAC,IAAI,CAACuE,MAAM,CAACwE,0BAA0B,CAACjJ,CAAC,CAAC;QAAC,IAAGM,CAAC,CAACJ,CAAC,CAAC,EAAC;UAAC,MAAK;YAACqS,MAAM,EAACjS,CAAC;YAACuP,MAAM,EAACrP,CAAC;YAACsP,IAAI,EAACpP;UAAC,CAAC,GAACR,CAAC;UAAC,IAAI,KAAGI,CAAC,GAAC,CAAC,KAAGE,CAAC,IAAE,CAAC,KAAGE,CAAC,GAACN,CAAC,CAACoS,cAAc,CAACpR,CAAC,CAAC4H,cAAc,EAAChJ,CAAC,EAACM,CAAC,CAACkQ,MAAM,CAAC,GAACpQ,CAAC,CAACqS,eAAe,CAACrR,CAAC,CAAC4H,cAAc,EAAChJ,CAAC,EAACM,CAAC,CAACkQ,MAAM,EAAChQ,CAAC,EAACE,CAAC,CAAC,GAACN,CAAC,CAACoS,cAAc,CAACpR,CAAC,CAAC4H,cAAc,EAAChJ,CAAC,EAAC,IAAI,CAAC;QAAA;MAAC;MAAC,IAAI,CAACyE,MAAM,CAACqN,eAAe,GAAC1R,CAAC,CAACsR,UAAU,CAAC,IAAI,CAACjN,MAAM,CAACqN,eAAe,CAACH,UAAU,EAAC,IAAI,CAAClN,MAAM,CAACqN,eAAe,CAACtB,MAAM,CAAC,GAACpQ,CAAC,CAACsR,UAAU,CAACtQ,CAAC,CAAC+H,iBAAiB,EAAC,IAAI,CAAC,EAAC,IAAI,CAAC1E,MAAM,CAACsN,iBAAiB,GAAC3R,CAAC,CAACsR,UAAU,CAAC,IAAI,CAACjN,MAAM,CAACsN,iBAAiB,CAACJ,UAAU,EAAC,IAAI,CAAClN,MAAM,CAACsN,iBAAiB,CAACvB,MAAM,CAAC,GAACpQ,CAAC,CAACsR,UAAU,CAACtQ,CAAC,CAACgI,mBAAmB,EAAC,IAAI,CAAC,EAAC,IAAI,CAAC3E,MAAM,CAACuN,cAAc,GAAC5R,CAAC,CAACsR,UAAU,CAAC,IAAI,CAACjN,MAAM,CAACuN,cAAc,CAACL,UAAU,EAAC,IAAI,CAAClN,MAAM,CAACuN,cAAc,CAACxB,MAAM,CAAC,GAACpQ,CAAC,CAACsR,UAAU,CAACtQ,CAAC,CAACiI,gBAAgB,EAAC,IAAI,CAAC,EAAC,IAAI,CAAC5E,MAAM,CAACwN,eAAe,GAAC7R,CAAC,CAACsR,UAAU,CAAC,IAAI,CAACjN,MAAM,CAACwN,eAAe,CAACN,UAAU,EAAC,IAAI,CAAClN,MAAM,CAACwN,eAAe,CAACzB,MAAM,CAAC,GAACpQ,CAAC,CAACsR,UAAU,CAACtQ,CAAC,CAACkI,iBAAiB,EAAC,IAAI,CAAC,EAAClJ,CAAC,CAAC4Q,eAAe,CAACpP,CAAC,CAAC0P,gBAAgB,EAAC,IAAI,CAAC,EAAClR,CAAC,CAACuU,UAAU,CAACvU,CAAC,CAAC+T,IAAI,CAAC,EAAC,IAAI,CAAC1P,MAAM,CAACwM,eAAe,KAAG7Q,CAAC,CAAC4Q,eAAe,CAACpP,CAAC,CAAC0P,gBAAgB,EAAC,IAAI,CAAC7M,MAAM,CAACwM,eAAe,CAACT,MAAM,CAAC,EAACpQ,CAAC,CAACuU,UAAU,CAAC3R,CAAC,CAAC4R,iBAAiB,CAAC,CAAC,EAACxU,CAAC,CAAC4Q,eAAe,CAACpP,CAAC,CAAC6P,gBAAgB,EAAC,IAAI,CAAChN,MAAM,CAACyM,eAAe,EAAEV,MAAM,IAAE,IAAI,CAAC;IAAA,CAAC,MAAK,IAAI,CAAC/L,MAAM,CAACwM,eAAe,GAAC,IAAI,CAACxM,MAAM,CAACyM,eAAe,EAAChR,CAAC,CAAC8Q,eAAe,CAACpP,CAAC,CAACuP,WAAW,EAAC,IAAI,CAAC1M,MAAM,CAACyM,eAAe,EAAEV,MAAM,IAAE,IAAI,CAAC;IAAC,IAAGxQ,CAAC,IAAE,IAAI,CAACyE,MAAM,CAACsG,iBAAiB,EAAC;MAAC,MAAM/K,CAAC,GAAC,IAAI,CAACyE,MAAM,CAACsG,iBAAiB;MAAC,IAAI,CAACtG,MAAM,CAACsG,iBAAiB,KAAG,IAAI,CAACtG,MAAM,CAACsG,iBAAiB,CAACiI,MAAM,EAAE,EAAC,IAAI,CAACvO,MAAM,CAACsG,iBAAiB,GAAC,IAAI,CAAC,EAAC,IAAI,CAACnC,OAAO,CAAC5I,CAAC,CAAC;IAAA;IAACE,CAAC,CAACqQ,UAAU,CAAC,IAAI,CAAC9L,MAAM,CAAC8F,OAAO,EAAEiG,MAAM,IAAE,IAAI,CAAC,EAACtQ,CAAC,CAACkL,UAAU,CAAC,IAAI,CAAC3G,MAAM,CAAC2G,UAAU,CAAC1K,CAAC,EAAC,IAAI,CAAC+D,MAAM,CAAC2G,UAAU,CAAClJ,CAAC,EAAC,IAAI,CAACuC,MAAM,CAAC2G,UAAU,CAACtJ,CAAC,EAAC,IAAI,CAAC2C,MAAM,CAAC2G,UAAU,CAAC5K,CAAC,CAAC,EAACN,CAAC,CAACgS,gBAAgB,CAAChS,CAAC,CAACiS,YAAY,EAAC,IAAI,CAAC1N,MAAM,CAAC2N,YAAY,GAAC,IAAI,CAAC3N,MAAM,CAAC2N,YAAY,CAAC5B,MAAM,GAAC,IAAI,CAAC,EAAC,CAAC,CAAC,KAAG,IAAI,CAAC/L,MAAM,CAACwF,KAAK,GAAC/J,CAAC,CAACgK,MAAM,CAAC,IAAI,CAAC5F,EAAE,CAAC6F,KAAK,CAAC,GAACjK,CAAC,CAACkK,OAAO,CAAC,IAAI,CAAC9F,EAAE,CAAC6F,KAAK,CAAC,EAACjK,CAAC,CAAC4L,qBAAqB,CAAC,IAAI,CAACrH,MAAM,CAACmH,aAAa,CAAChF,IAAI,EAAC,IAAI,CAACnC,MAAM,CAACmH,aAAa,CAACC,SAAS,CAAC,EAAC3L,CAAC,CAACwL,iBAAiB,CAAC,IAAI,CAACjH,MAAM,CAAC6G,aAAa,CAACC,MAAM,EAAC,IAAI,CAAC9G,MAAM,CAAC6G,aAAa,CAACE,MAAM,EAAC,IAAI,CAAC/G,MAAM,CAAC6G,aAAa,CAACnF,QAAQ,EAAC,IAAI,CAAC1B,MAAM,CAAC6G,aAAa,CAAClF,QAAQ,CAAC,EAAClG,CAAC,CAACgM,UAAU,CAAC,IAAI,CAACzH,MAAM,CAACyH,UAAU,CAACxL,CAAC,EAAC,IAAI,CAAC+D,MAAM,CAACyH,UAAU,CAAChK,CAAC,EAAC,IAAI,CAACuC,MAAM,CAACyH,UAAU,CAACpK,CAAC,EAAC,IAAI,CAAC2C,MAAM,CAACyH,UAAU,CAAC1L,CAAC,CAAC,EAACN,CAAC,CAACoN,UAAU,CAAC,IAAI,CAAC7I,MAAM,CAAC6I,UAAU,CAAC,EAACpN,CAAC,CAAC+N,YAAY,CAAC,IAAI,CAACxJ,MAAM,CAACwJ,YAAY,CAAC,EAAC/N,CAAC,CAAC6L,SAAS,CAAC,IAAI,CAACtH,MAAM,CAACsH,SAAS,CAACrL,CAAC,EAAC,IAAI,CAAC+D,MAAM,CAACsH,SAAS,CAAC7J,CAAC,EAAC,IAAI,CAACuC,MAAM,CAACsH,SAAS,CAACjK,CAAC,EAAC,IAAI,CAAC2C,MAAM,CAACsH,SAAS,CAACvL,CAAC,CAAC,EAACN,CAAC,CAACwM,QAAQ,CAAC,IAAI,CAACjI,MAAM,CAACiI,QAAQ,CAAC,EAACxM,CAAC,CAACsN,SAAS,CAAC,IAAI,CAAC/I,MAAM,CAAC8I,aAAa,CAAC,EAACrN,CAAC,CAAC0N,UAAU,CAAC,IAAI,CAACnJ,MAAM,CAACmJ,UAAU,CAACzF,KAAK,EAAC,IAAI,CAAC1D,MAAM,CAACmJ,UAAU,CAACxF,IAAI,CAAC,EAAC,CAAC,CAAC,KAAG,IAAI,CAAC3D,MAAM,CAACyI,SAAS,GAAChN,CAAC,CAACgK,MAAM,CAAChK,CAAC,CAACiN,UAAU,CAAC,GAACjN,CAAC,CAACkK,OAAO,CAAClK,CAAC,CAACiN,UAAU,CAAC,EAACjN,CAAC,CAACwN,SAAS,CAAC,IAAI,CAACjJ,MAAM,CAACgJ,UAAU,CAAC,EAACvN,CAAC,CAACyM,SAAS,CAAC,IAAI,CAAClI,MAAM,CAACkI,SAAS,CAAC,EAACzM,CAAC,CAAC2U,SAAS,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,KAAG,IAAI,CAACpQ,MAAM,CAAC0H,WAAW,GAACjM,CAAC,CAACgK,MAAM,CAAChK,CAAC,CAACkM,SAAS,CAAC,GAAClM,CAAC,CAACkK,OAAO,CAAClK,CAAC,CAACkM,SAAS,CAAC,EAAClM,CAAC,CAACuM,aAAa,CAAC,IAAI,CAAChI,MAAM,CAACgI,aAAa,CAAC,CAAC,CAAC,EAAC,IAAI,CAAChI,MAAM,CAACgI,aAAa,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,KAAG,IAAI,CAAChI,MAAM,CAAC6H,iBAAiB,GAACpM,CAAC,CAACgK,MAAM,CAAChK,CAAC,CAACqM,mBAAmB,CAAC,GAACrM,CAAC,CAACkK,OAAO,CAAClK,CAAC,CAACqM,mBAAmB,CAAC,EAACrM,CAAC,CAAC+M,OAAO,CAAC,IAAI,CAACxI,MAAM,CAACuI,WAAW,CAAC9J,CAAC,EAAC,IAAI,CAACuB,MAAM,CAACuI,WAAW,CAAChJ,CAAC,EAAC,IAAI,CAACS,MAAM,CAACuI,WAAW,CAACxH,KAAK,EAAC,IAAI,CAACf,MAAM,CAACuI,WAAW,CAACvH,MAAM,CAAC,EAAC,CAAC,CAAC,KAAG,IAAI,CAAChB,MAAM,CAACoI,WAAW,GAAC3M,CAAC,CAACgK,MAAM,CAAChK,CAAC,CAAC4M,YAAY,CAAC,GAAC5M,CAAC,CAACkK,OAAO,CAAClK,CAAC,CAAC4M,YAAY,CAAC,EAAC5M,CAAC,CAACiO,WAAW,CAAC,IAAI,CAAC1J,MAAM,CAACyJ,eAAe,CAAC9G,IAAI,EAAC,IAAI,CAAC3C,MAAM,CAACyJ,eAAe,CAACzG,GAAG,EAAC,IAAI,CAAChD,MAAM,CAACyJ,eAAe,CAACxG,IAAI,CAAC,EAACxH,CAAC,CAAC2O,iBAAiB,CAAC,IAAI,CAACpK,MAAM,CAACiK,gBAAgB,CAAChI,IAAI,EAAC,IAAI,CAACjC,MAAM,CAACiK,gBAAgB,CAAC7G,IAAI,EAAC,IAAI,CAACpD,MAAM,CAACiK,gBAAgB,CAAC5G,KAAK,EAAC,IAAI,CAACrD,MAAM,CAACiK,gBAAgB,CAAC3G,KAAK,CAAC,EAAC,CAAC,CAAC,KAAG,IAAI,CAACtD,MAAM,CAACoJ,WAAW,GAAC3N,CAAC,CAACgK,MAAM,CAAChK,CAAC,CAAC4N,YAAY,CAAC,GAAC5N,CAAC,CAACkK,OAAO,CAAClK,CAAC,CAAC4N,YAAY,CAAC,EAAC5N,CAAC,CAACsO,WAAW,CAAC,IAAI,CAAC/J,MAAM,CAAC8J,gBAAgB,CAAC;IAAC,KAAI,IAAI7N,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,IAAI,CAACoJ,UAAU,CAAC4G,oBAAoB,EAAChQ,CAAC,EAAE,EAAC;MAACR,CAAC,CAACwK,aAAa,CAAClJ,CAAC,GAACd,CAAC,CAAC,EAACR,CAAC,CAACuQ,WAAW,CAACvN,CAAC,CAAC4R,UAAU,EAAC,IAAI,CAAC,EAAC5U,CAAC,CAACuQ,WAAW,CAACvN,CAAC,CAAC6R,gBAAgB,EAAC,IAAI,CAAC,EAAC,IAAI,CAACnQ,IAAI,KAAG5D,CAAC,CAAC6D,MAAM,KAAG3E,CAAC,CAACuQ,WAAW,CAACvN,CAAC,CAAC8R,UAAU,EAAC,IAAI,CAAC,EAAC9U,CAAC,CAACuQ,WAAW,CAACvN,CAAC,CAAC+R,gBAAgB,EAAC,IAAI,CAAC,CAAC;MAAC,MAAMjV,CAAC,GAAC,IAAI,CAACyE,MAAM,CAAC8E,cAAc,CAAC7I,CAAC,CAAC;MAACJ,CAAC,CAACN,CAAC,CAAC,IAAEE,CAAC,CAACuQ,WAAW,CAACzQ,CAAC,CAAC2Q,UAAU,CAACC,MAAM,EAAC5Q,CAAC,CAACwQ,MAAM,CAAC;IAAA;IAACtQ,CAAC,CAACwK,aAAa,CAAClJ,CAAC,GAAC,IAAI,CAACiD,MAAM,CAACiG,aAAa,CAAC;IAAC,MAAMlK,CAAC,GAAC,IAAI,CAACiE,MAAM,CAACc,QAAQ;IAACrF,CAAC,CAACqF,QAAQ,CAAC/E,CAAC,CAAC0C,CAAC,EAAC1C,CAAC,CAACwD,CAAC,EAACxD,CAAC,CAACgF,KAAK,EAAChF,CAAC,CAACiF,MAAM,CAAC,EAAC,IAAI,CAACwK,SAAS,EAAE;EAAA;EAAClL,eAAeA,CAAA,EAAE;IAAC,IAAI,CAACH,IAAI,KAAG5D,CAAC,CAAC8D,MAAM,IAAE,IAAI,CAACR,EAAE,CAAC4Q,YAAY,CAAC,wBAAwB,CAAC,EAAC,IAAI,CAAC5Q,EAAE,CAAC4Q,YAAY,CAAC,6BAA6B,CAAC;EAAA;EAAC9P,eAAeA,CAACpF,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAAC0K,YAAY,CAACuK,wBAAwB;MAAC/U,CAAC,GAACJ,CAAC,CAACoV,aAAa,IAAE,CAAC,GAAC,CAAC;MAAC9U,CAAC,GAAC,IAAI,CAACsE,IAAI,KAAG5D,CAAC,CAAC6D,MAAM;MAACrE,CAAC,GAAC,IAAI,CAAC8D,EAAE;MAAC5D,CAAC,GAAC;QAAC2U,aAAa,EAAC,IAAI,CAAC/Q,EAAE,CAACe,YAAY,CAAC,IAAI,CAACf,EAAE,CAACgR,OAAO,CAAC;QAACC,0BAA0B,EAAC,IAAI,CAACjR,EAAE,CAACe,YAAY,CAAC,IAAI,CAACf,EAAE,CAACkR,8BAA8B,CAAC;QAACf,mBAAmB,EAAC,IAAI,CAACnQ,EAAE,CAACe,YAAY,CAAC,IAAI,CAACf,EAAE,CAACmR,kBAAkB,CAAC;QAACC,gBAAgB,EAACxV,CAAC,GAACiQ,IAAI,CAACwF,GAAG,CAAC,IAAI,CAACrR,EAAE,CAACe,YAAY,CAACnF,CAAC,CAAC0V,0BAA0B,CAAC,EAACxV,CAAC,CAAC,GAAC,CAAC;QAACsQ,oBAAoB,EAAC,IAAI,CAACpM,EAAE,CAACe,YAAY,CAAC,IAAI,CAACf,EAAE,CAACuR,uBAAuB,CAAC;QAACC,cAAc,EAAC,IAAI,CAACxR,EAAE,CAACe,YAAY,CAAC,IAAI,CAACf,EAAE,CAACyR,gBAAgB,CAAC;QAACzD,wBAAwB,EAAChS,CAAC,GAACE,CAAC,CAAC6E,YAAY,CAAC7E,CAAC,CAACwV,2BAA2B,CAAC,GAAC,CAAC;QAACC,sBAAsB,EAAC3V,CAAC,GAACE,CAAC,CAAC6E,YAAY,CAAC7E,CAAC,CAAC0V,yBAAyB,CAAC,GAAC,CAAC;QAACC,wBAAwB,EAAC7V,CAAC,GAACE,CAAC,CAAC6E,YAAY,CAAC7E,CAAC,CAAC4V,2BAA2B,CAAC,GAAC,CAAC;QAACvD,mBAAmB,EAACvS,CAAC,GAACE,CAAC,CAAC6E,YAAY,CAAC7E,CAAC,CAAC6V,sBAAsB,CAAC,GAAC,CAAC;QAAC3D,4BAA4B,EAACpS,CAAC,GAACE,CAAC,CAAC6E,YAAY,CAAC7E,CAAC,CAAC8V,+BAA+B,CAAC,GAAC,CAAC;QAACC,qBAAqB,EAACjW,CAAC,GAACE,CAAC,CAAC6E,YAAY,CAAC7E,CAAC,CAACgW,wBAAwB,CAAC,GAAC,CAAC;QAACC,UAAU,EAACnW,CAAC,GAACE,CAAC,CAAC6E,YAAY,CAAC7E,CAAC,CAACkW,WAAW,CAAC,GAAC;MAAC,CAAC;IAAC,OAAO9S,CAAC,CAAC+S,wBAAwB,GAACjW,CAAC,CAACgQ,oBAAoB,GAAC,CAAC,EAAChQ,CAAC;EAAA;AAAC,CAAC;AAAC,SAASkR,CAACA,CAAC5R,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;EAAC,OAAOJ,CAAC,GAACI,CAAC,KAAGJ,CAAC,IAAEF,CAAC,CAAC0R,UAAU,CAACtR,CAAC,EAACF,CAAC,CAACsQ,MAAM,CAAC,GAACxQ,CAAC,CAAC0R,UAAU,CAACtR,CAAC,EAAC,IAAI,CAAC,EAACF,CAAC;AAAA;AAAC,SAASqP,CAACA,CAACvP,CAAC,EAACE,CAAC,EAAC;EAAC,QAAOF,CAAC;IAAE,KAAKoD,CAAC,CAACwT,MAAM;MAAC,OAAO,CAAC,GAAC1W,CAAC;IAAC,KAAKkD,CAAC,CAACyT,SAAS;MAAC,OAAO3W,CAAC,GAAC,CAAC;IAAC,KAAKkD,CAAC,CAAC0T,cAAc;IAAC,KAAK1T,CAAC,CAAC2T,YAAY;MAAC,OAAO7W,CAAC,GAAC,CAAC;IAAC;MAAQ,OAAO,CAAC;EAAA;AAAC;AAAC,SAAOkE,CAAC,IAAI4S,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}