{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as e, isNone as t } from \"../../../../../../core/maybe.js\";\nimport { deltaDecodeGeometry as r, convertFromGeometry as i } from \"../../../../../../layers/graphics/featureConversionUtils.js\";\nimport { WGLGeometryType as s, WGLSymbologyType as o } from \"../../enums.js\";\nimport { i1616to32 as m } from \"../../number.js\";\nimport { getStrides as l } from \"../../Utils.js\";\nimport { FillMaterialKey as n, hasOutlineFillSymbology as a, hasSimpleSymbology as h } from \"../../materialKey/MaterialKey.js\";\nimport { triangulate as y, triangulateLibtess as p, clipMarshall as c } from \"./templateUtils.js\";\nimport x from \"./WGLLineTemplate.js\";\nconst f = 100,\n  u = 1,\n  _ = _ => class extends _ {\n    constructor() {\n      super(...arguments), this.forceLibtess = !1, this._bitset = 0, this._lineTemplate = null, this.geometryType = s.FILL;\n    }\n    _maybeAddLineTemplate(e) {\n      this._lineTemplate = x.fromFillOutline(e);\n    }\n    _write(t, r, i, s) {\n      const o = \"esriGeometryPoint\" === r.geometryType,\n        m = n.load(this._materialKey);\n      t.recordStart(r.getDisplayId(), this._materialKey, this.geometryType, o), this._writeGeometry(t, r, m, s, o), a(m) && e(this._lineTemplate) && this._lineTemplate.writeGeometry(t, r, s, o), t.recordEnd();\n    }\n    _writeGeometry(e, r, i, s, o) {\n      const m = this._getGeometry(r, s, o);\n      if (t(m)) return;\n      const l = [];\n      if (!(m.maxLength > f) && !this.forceLibtess && y(l, m)) return void (l.length && this._writeVertices(e, r, m.coords, m.lengths, i, l));\n      const n = p(m);\n      this._writeVertices(e, r, n, [n.length / 2], i);\n    }\n    _writeVertex(e, t, r, i, s, l) {\n      const n = m(u * i, u * s);\n      if (e.vertexBounds(i, s, 0, 0), e.vertexWrite(n), e.vertexWrite(t), r.symbologyType === o.DOT_DENSITY) e.vertexWriteF32(1 / Math.abs(l.readGeometryArea()));else {\n        e.vertexWrite(this.fillColor);\n        const t = h(r);\n        t || (e.vertexWrite(this.tl), e.vertexWrite(this.br)), e.vertexWrite(this.aux21), e.vertexWrite(this.aux22), e.vertexWrite(this.aux3), t || e.vertexWrite(this._minMaxZoom);\n      }\n    }\n    _writeVertices(e, t, r, i, s, o) {\n      const m = t.getDisplayId(),\n        n = this._bitset << 24 | m,\n        a = i.reduce((e, t) => e + t),\n        h = l(s.geometryType, s.symbologyType).geometry / 4,\n        y = e.vertexCount();\n      e.vertexEnsureSize(h * a);\n      let p = 0;\n      if (o) for (const l of o) {\n        const i = r[2 * l],\n          o = r[2 * l + 1];\n        this._writeVertex(e, n, s, i, o, t), p++;\n      } else for (let l = 0; l < r.length; l += 2) {\n        const i = Math.round(r[l]),\n          o = Math.round(r[l + 1]);\n        this._writeVertex(e, n, s, i, o, t), p++;\n      }\n      e.indexEnsureSize(p);\n      for (let l = 0; l < p; l++) e.indexWrite(l + y);\n    }\n    _getGeometry(e, t, s) {\n      const o = t ? r(i(t), 2) : e.readGeometryForDisplay();\n      if (!o) return null;\n      return c(o, s ? 256 : 8);\n    }\n  };\nexport { _ as default };","map":{"version":3,"names":["isSome","e","isNone","t","deltaDecodeGeometry","r","convertFromGeometry","i","WGLGeometryType","s","WGLSymbologyType","o","i1616to32","m","getStrides","l","FillMaterialKey","n","hasOutlineFillSymbology","a","hasSimpleSymbology","h","triangulate","y","triangulateLibtess","p","clipMarshall","c","x","f","u","_","constructor","arguments","forceLibtess","_bitset","_lineTemplate","geometryType","FILL","_maybeAddLineTemplate","fromFillOutline","_write","load","_materialKey","recordStart","getDisplayId","_writeGeometry","writeGeometry","recordEnd","_getGeometry","maxLength","length","_writeVertices","coords","lengths","_writeVertex","vertexBounds","vertexWrite","symbologyType","DOT_DENSITY","vertexWriteF32","Math","abs","readGeometryArea","fillColor","tl","br","aux21","aux22","aux3","_minMaxZoom","reduce","geometry","vertexCount","vertexEnsureSize","round","indexEnsureSize","indexWrite","readGeometryForDisplay","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/WGLBaseFillTemplate.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../../../core/maybe.js\";import{deltaDecodeGeometry as r,convertFromGeometry as i}from\"../../../../../../layers/graphics/featureConversionUtils.js\";import{WGLGeometryType as s,WGLSymbologyType as o}from\"../../enums.js\";import{i1616to32 as m}from\"../../number.js\";import{getStrides as l}from\"../../Utils.js\";import{FillMaterialKey as n,hasOutlineFillSymbology as a,hasSimpleSymbology as h}from\"../../materialKey/MaterialKey.js\";import{triangulate as y,triangulateLibtess as p,clipMarshall as c}from\"./templateUtils.js\";import x from\"./WGLLineTemplate.js\";const f=100,u=1,_=_=>class extends _{constructor(...e){super(...e),this.forceLibtess=!1,this._bitset=0,this._lineTemplate=null,this.geometryType=s.FILL}_maybeAddLineTemplate(e){this._lineTemplate=x.fromFillOutline(e)}_write(t,r,i,s){const o=\"esriGeometryPoint\"===r.geometryType,m=n.load(this._materialKey);t.recordStart(r.getDisplayId(),this._materialKey,this.geometryType,o),this._writeGeometry(t,r,m,s,o),a(m)&&e(this._lineTemplate)&&this._lineTemplate.writeGeometry(t,r,s,o),t.recordEnd()}_writeGeometry(e,r,i,s,o){const m=this._getGeometry(r,s,o);if(t(m))return;const l=[];if(!(m.maxLength>f)&&!this.forceLibtess&&y(l,m))return void(l.length&&this._writeVertices(e,r,m.coords,m.lengths,i,l));const n=p(m);this._writeVertices(e,r,n,[n.length/2],i)}_writeVertex(e,t,r,i,s,l){const n=m(u*i,u*s);if(e.vertexBounds(i,s,0,0),e.vertexWrite(n),e.vertexWrite(t),r.symbologyType===o.DOT_DENSITY)e.vertexWriteF32(1/Math.abs(l.readGeometryArea()));else{e.vertexWrite(this.fillColor);const t=h(r);t||(e.vertexWrite(this.tl),e.vertexWrite(this.br)),e.vertexWrite(this.aux21),e.vertexWrite(this.aux22),e.vertexWrite(this.aux3),t||e.vertexWrite(this._minMaxZoom)}}_writeVertices(e,t,r,i,s,o){const m=t.getDisplayId(),n=this._bitset<<24|m,a=i.reduce(((e,t)=>e+t)),h=l(s.geometryType,s.symbologyType).geometry/4,y=e.vertexCount();e.vertexEnsureSize(h*a);let p=0;if(o)for(const l of o){const i=r[2*l],o=r[2*l+1];this._writeVertex(e,n,s,i,o,t),p++}else for(let l=0;l<r.length;l+=2){const i=Math.round(r[l]),o=Math.round(r[l+1]);this._writeVertex(e,n,s,i,o,t),p++}e.indexEnsureSize(p);for(let l=0;l<p;l++)e.indexWrite(l+y)}_getGeometry(e,t,s){const o=t?r(i(t),2):e.readGeometryForDisplay();if(!o)return null;return c(o,s?256:8)}};export{_ as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}