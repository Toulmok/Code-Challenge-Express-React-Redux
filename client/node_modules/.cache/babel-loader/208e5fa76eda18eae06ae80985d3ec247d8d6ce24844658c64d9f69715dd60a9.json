{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport { eventKey as t } from \"../../core/events.js\";\nimport { watch as i, initial as r } from \"../../core/reactiveUtils.js\";\nimport { property as s } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as a } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { getColorsFromRenderer as o } from \"../../renderers/support/utils.js\";\nimport n from \"../Widget.js\";\nimport l from \"./FeatureMedia/FeatureMediaViewModel.js\";\nimport d from \"./support/FeatureElementInfo.js\";\nimport { shouldOpenInNewTab as c } from \"./support/featureUtils.js\";\nimport { loadChartsModule as u, getColorSet as m } from \"../support/chartUtils.js\";\nimport { isRTL as h } from \"../support/widgetUtils.js\";\nimport { messageBundle as p } from \"../support/decorators/messageBundle.js\";\nimport { tsx as f } from \"../support/jsxFactory.js\";\nimport { isDarkTheme as v } from \"../../support/themeUtils.js\";\nconst M = \"esri-feature-media\",\n  I = {\n    base: M,\n    mediaContainer: `${M}__container`,\n    mediaItemContainer: `${M}__item-container`,\n    mediaItem: `${M}__item`,\n    mediaItemTitle: `${M}__item-title`,\n    mediaItemCaption: `${M}__item-caption`,\n    mediaPrevious: `${M}__previous`,\n    mediaPreviousIconLTR: `${M}__previous-icon`,\n    mediaPreviousIconRTL: `${M}__previous-icon--rtl`,\n    mediaNext: `${M}__next`,\n    mediaNextIconLTR: `${M}__next-icon`,\n    mediaNextIconRTL: `${M}__next-icon--rtl`,\n    mediaChart: `${M}__chart`,\n    mediaButton: `${M}__button`,\n    mediaIcon: `${M}__icon`,\n    iconLeftTriangleArrow: \"esri-icon-left-triangle-arrow\",\n    iconRightTriangleArrow: \"esri-icon-right-triangle-arrow\"\n  },\n  _ = .05,\n  g = .95,\n  w = 15,\n  y = \"color\",\n  T = \"tooltip\",\n  b = \"value\",\n  C = \"default-line-value\";\nlet x = class extends n {\n  constructor(e, t) {\n    super(e, t), this._refreshTimer = null, this._refreshIntervalInfo = null, this._featureElementInfo = null, this.viewModel = new l(), this.messages = null, this._getChartDependencies = async e => {\n      const t = await u(),\n        {\n          destroyed: i,\n          viewModel: r\n        } = this;\n      if (i || !r || !e) return;\n      const {\n          activeMediaInfo: s\n        } = r,\n        a = await this._getRendererColors(t);\n      this._renderChart({\n        chartDiv: e,\n        mediaInfo: s,\n        chartsModule: t,\n        colorMap: a\n      });\n    };\n  }\n  initialize() {\n    this._featureElementInfo = new d(), this.addHandles([i(() => [this.viewModel?.activeMediaInfo, this.viewModel?.activeMediaInfoIndex], () => this._setupMediaRefreshTimer(), r), i(() => [this.viewModel?.description, this.viewModel?.title], () => this._setupFeatureElementInfo(), r)]);\n  }\n  destroy() {\n    this._clearMediaRefreshTimer(), this._featureElementInfo?.destroy();\n  }\n  get attributes() {\n    return this.viewModel.attributes;\n  }\n  set attributes(e) {\n    this.viewModel.attributes = e;\n  }\n  get activeMediaInfoIndex() {\n    return this.viewModel.activeMediaInfoIndex;\n  }\n  set activeMediaInfoIndex(e) {\n    this.viewModel.activeMediaInfoIndex = e;\n  }\n  get description() {\n    return this.viewModel.description;\n  }\n  set description(e) {\n    this.viewModel.description = e;\n  }\n  get fieldInfoMap() {\n    return this.viewModel.fieldInfoMap;\n  }\n  set fieldInfoMap(e) {\n    this.viewModel.fieldInfoMap = e;\n  }\n  get layer() {\n    return this.viewModel.layer;\n  }\n  set layer(e) {\n    this.viewModel.layer = e;\n  }\n  get mediaInfos() {\n    return this.viewModel.mediaInfos;\n  }\n  set mediaInfos(e) {\n    this.viewModel.mediaInfos = e;\n  }\n  get popupTemplate() {\n    return this.viewModel.popupTemplate;\n  }\n  set popupTemplate(e) {\n    this.viewModel.popupTemplate = e;\n  }\n  get relatedInfos() {\n    return this.viewModel.relatedInfos;\n  }\n  set relatedInfos(e) {\n    this.viewModel.relatedInfos = e;\n  }\n  get title() {\n    return this.viewModel.title;\n  }\n  set title(e) {\n    this.viewModel.title = e;\n  }\n  render() {\n    return f(\"div\", {\n      bind: this,\n      class: I.base,\n      onkeyup: this._handleMediaKeyup\n    }, this._featureElementInfo?.render(), this.renderMedia());\n  }\n  renderMedia() {\n    const {\n      formattedMediaInfoCount: e\n    } = this.viewModel;\n    return e ? f(\"div\", {\n      key: \"media-element-container\",\n      class: I.mediaContainer\n    }, this.renderMediaPageButton(\"previous\"), this.renderMediaInfo(), this.renderMediaPageButton(\"next\")) : null;\n  }\n  renderImageMediaInfo(e) {\n    const {\n        _refreshIntervalInfo: t\n      } = this,\n      {\n        activeMediaInfoIndex: i,\n        formattedMediaInfoCount: r\n      } = this.viewModel,\n      {\n        value: s,\n        refreshInterval: a,\n        altText: o,\n        title: n,\n        type: l\n      } = e,\n      {\n        sourceURL: d,\n        linkURL: u\n      } = s,\n      m = c(u ?? void 0) ? \"_blank\" : \"_self\",\n      h = \"_blank\" === m ? \"noreferrer\" : \"\",\n      p = a ? t : null,\n      v = p ? p.timestamp : 0,\n      M = p ? p.sourceURL : d,\n      I = f(\"img\", {\n        alt: o || n,\n        key: `media-${l}-${i}-${r}-${v}`,\n        src: M ?? void 0\n      }),\n      _ = u ? f(\"a\", {\n        title: n,\n        href: u,\n        rel: h,\n        target: m\n      }, I) : null;\n    return _ || I;\n  }\n  renderChartMediaInfo(e) {\n    const {\n      activeMediaInfoIndex: t,\n      formattedMediaInfoCount: i\n    } = this.viewModel;\n    return f(\"div\", {\n      key: `media-${e.type}-${t}-${i}`,\n      bind: this,\n      class: I.mediaChart,\n      afterCreate: this._getChartDependencies\n    });\n  }\n  renderMediaInfoType() {\n    const {\n      activeMediaInfo: e\n    } = this.viewModel;\n    return e ? \"image\" === e.type ? this.renderImageMediaInfo(e) : e.type.includes(\"chart\") ? this.renderChartMediaInfo(e) : null : null;\n  }\n  renderMediaInfo() {\n    const {\n      activeMediaInfo: e\n    } = this.viewModel;\n    if (!e) return null;\n    const t = e.title ? f(\"div\", {\n        key: \"media-title\",\n        class: I.mediaItemTitle,\n        innerHTML: e.title\n      }) : null,\n      i = e.caption ? f(\"div\", {\n        key: \"media-caption\",\n        class: I.mediaItemCaption,\n        innerHTML: e.caption\n      }) : null;\n    return f(\"div\", {\n      key: \"media-container\",\n      class: I.mediaItemContainer\n    }, f(\"div\", {\n      key: \"media-item-container\",\n      class: I.mediaItem\n    }, this.renderMediaInfoType()), t, i);\n  }\n  renderMediaPageButton(e) {\n    if (this.viewModel.formattedMediaInfoCount < 2) return null;\n    const t = \"previous\" === e,\n      i = t ? this.messages.previous : this.messages.next,\n      r = t ? this.classes(I.mediaButton, I.mediaPrevious) : this.classes(I.mediaButton, I.mediaNext),\n      s = t ? this.classes(I.mediaIcon, I.mediaPreviousIconLTR, I.iconLeftTriangleArrow) : this.classes(I.mediaIcon, I.mediaNextIconLTR, I.iconRightTriangleArrow),\n      a = t ? this.classes(I.mediaIcon, I.mediaPreviousIconRTL, I.iconRightTriangleArrow) : this.classes(I.mediaIcon, I.mediaNextIconRTL, I.iconLeftTriangleArrow),\n      o = t ? \"media-previous\" : \"media-next\",\n      n = t ? this._previous : this._next;\n    return f(\"button\", {\n      type: \"button\",\n      key: o,\n      title: i,\n      \"aria-label\": i,\n      tabIndex: 0,\n      class: r,\n      bind: this,\n      onclick: n\n    }, f(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: s\n    }), f(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: a\n    }));\n  }\n  _setupFeatureElementInfo() {\n    const {\n      description: e,\n      title: t\n    } = this;\n    this._featureElementInfo?.set({\n      description: e,\n      title: t\n    });\n  }\n  _next() {\n    this.viewModel.next();\n  }\n  _previous() {\n    this.viewModel.previous();\n  }\n  _getRenderer() {\n    const {\n      isAggregate: e,\n      layer: t\n    } = this.viewModel;\n    return e && t?.featureReduction && \"renderer\" in t.featureReduction ? t.featureReduction.renderer : t?.renderer;\n  }\n  async _getRendererColors(e) {\n    const {\n        am4core: t\n      } = e,\n      i = new Map(),\n      r = this._getRenderer(),\n      s = \"default\";\n    if (!r) return i;\n    const a = await o(r);\n    a.delete(s);\n    return Array.from(a.values()).every(e => 1 === e?.length) ? (i.set(C, t.color({\n      r: 50,\n      g: 50,\n      b: 50,\n      a: 1\n    })), Array.from(a.keys()).forEach(e => {\n      e && i.set(e, t.color(a.get(e)?.[0].toCss(!0)));\n    }), i) : i;\n  }\n  _handleMediaKeyup(e) {\n    const i = t(e);\n    \"ArrowLeft\" === i && (e.stopPropagation(), this.viewModel.previous()), \"ArrowRight\" === i && (e.stopPropagation(), this.viewModel.next());\n  }\n  _renderChart(e) {\n    const {\n        abilities: t\n      } = this.viewModel,\n      {\n        chartsModule: i,\n        chartDiv: r,\n        mediaInfo: s,\n        colorMap: a\n      } = e,\n      {\n        value: o,\n        type: n\n      } = s,\n      {\n        am4core: l\n      } = i,\n      d = m(l);\n    function c(e) {\n      e instanceof l.ColorSet && d && (e.list = d);\n    }\n    v() && l.useTheme(i.am4themes_dark);\n    const u = window.matchMedia(\"(prefers-reduced-motion: reduce)\");\n    t.chartAnimation && !u.matches ? l.useTheme(i.am4themes_animated) : l.unuseTheme(i.am4themes_animated), l.useTheme(c);\n    const h = \"pie-chart\" === n ? this._createPieChart(e) : this._createXYChart(e);\n    r.setAttribute(\"aria-label\", s.altText || s.title), h.data = o.series.map(e => ({\n      [T]: e.tooltip,\n      [b]: e.value,\n      [y]: a.get(e.fieldName)\n    })).filter(e => \"pie-chart\" !== n || null != e.value && e.value > 0);\n  }\n  _customizeChartTooltip(e, t) {\n    e && (e.label.wrap = !0, e.label.maxWidth = 200, e.autoTextColor = !1, e.getFillFromObject = !1, e.label.fill = t.color(\"#ffffff\"), e.background.fill = t.color({\n      r: 0,\n      g: 0,\n      b: 0,\n      a: .7\n    }));\n  }\n  _createPieChart(e) {\n    const {\n        chartDiv: t,\n        chartsModule: i\n      } = e,\n      {\n        am4core: r,\n        am4charts: s\n      } = i,\n      a = r.create(t, s.PieChart);\n    a.rtl = h(this.container);\n    const o = a.series.push(new s.PieSeries());\n    return o.labels.template.disabled = !0, o.ticks.template.disabled = !0, o.dataFields.value = b, o.dataFields.category = T, this._customizeChartTooltip(o.tooltip, r), o.slices.template.propertyFields.fill = y, o.slices.template.propertyFields.stroke = y, a;\n  }\n  _getMinSeriesValue(e) {\n    let t = 0;\n    return e.forEach(e => t = Math.min(e.value, t)), t;\n  }\n  _createColumnChart(e, t) {\n    const {\n        chartsModule: i,\n        mediaInfo: r\n      } = t,\n      {\n        value: s\n      } = r,\n      {\n        am4core: a,\n        am4charts: o\n      } = i,\n      n = e.xAxes.push(new o.CategoryAxis());\n    n.dataFields.category = T, n.renderer.labels.template.disabled = !0;\n    const l = n.tooltip;\n    this._customizeChartTooltip(l, a), l.events.on(\"sizechanged\", () => {\n      l.dy = -l.contentHeight;\n    });\n    const d = e.yAxes.push(new o.ValueAxis()),\n      c = d.renderer.labels.template;\n    d.renderer.minLabelPosition = _, d.renderer.maxLabelPosition = g, d.min = this._getMinSeriesValue(s.series), this._customizeChartTooltip(d.tooltip, a), c.wrap = !0;\n    const u = e.series.push(new o.ColumnSeries());\n    u.dataFields.valueY = b, u.dataFields.categoryX = T, u.columns.template.propertyFields.fill = y, u.columns.template.propertyFields.stroke = y, e.cursor = new o.XYCursor(), s.series.length > w && (e.scrollbarX = new a.Scrollbar());\n  }\n  _createBarChart(e, t) {\n    const {\n        chartsModule: i,\n        mediaInfo: r\n      } = t,\n      {\n        value: s\n      } = r,\n      {\n        am4core: a,\n        am4charts: o\n      } = i,\n      n = e.yAxes.push(new o.CategoryAxis());\n    n.dataFields.category = T, n.renderer.inversed = !0, n.renderer.labels.template.disabled = !0;\n    const l = n.tooltip;\n    this._customizeChartTooltip(l, a), l.events.on(\"sizechanged\", () => {\n      l.dx = l.contentWidth;\n    });\n    const d = e.xAxes.push(new o.ValueAxis()),\n      c = d.renderer.labels.template;\n    d.renderer.minLabelPosition = _, d.renderer.maxLabelPosition = g, d.min = this._getMinSeriesValue(s.series), this._customizeChartTooltip(d.tooltip, a), c.wrap = !0;\n    const u = e.series.push(new o.ColumnSeries());\n    u.dataFields.valueX = b, u.dataFields.categoryY = T, u.columns.template.propertyFields.fill = y, u.columns.template.propertyFields.stroke = y, e.cursor = new o.XYCursor(), s.series.length > w && (e.scrollbarY = new a.Scrollbar());\n  }\n  _createLineChart(e, t) {\n    const {\n        chartsModule: i,\n        mediaInfo: r,\n        colorMap: s\n      } = t,\n      {\n        value: a\n      } = r,\n      {\n        am4core: o,\n        am4charts: n\n      } = i,\n      l = e.xAxes.push(new n.CategoryAxis());\n    l.dataFields.category = T, l.renderer.labels.template.disabled = !0;\n    const d = l.tooltip;\n    this._customizeChartTooltip(d, o), d.events.on(\"sizechanged\", () => {\n      d.dy = -d.contentHeight;\n    });\n    const c = e.yAxes.push(new n.ValueAxis()),\n      u = c.renderer.labels.template;\n    c.renderer.minLabelPosition = _, c.renderer.maxLabelPosition = g, c.min = this._getMinSeriesValue(a.series), this._customizeChartTooltip(c.tooltip, o), u.wrap = !0;\n    const m = e.series.push(new n.LineSeries());\n    m.dataFields.categoryX = T, m.dataFields.valueY = b, m.strokeWidth = 1;\n    const h = s.get(C);\n    h && (m.stroke = h);\n    const p = m.bullets.push(new n.CircleBullet());\n    p.propertyFields.fill = y, p.propertyFields.stroke = y, e.cursor = new n.XYCursor(), a.series.length > w && (e.scrollbarX = new o.Scrollbar());\n  }\n  _createXYChart(e) {\n    const {\n        chartDiv: t,\n        chartsModule: i,\n        mediaInfo: r\n      } = e,\n      {\n        type: s\n      } = r,\n      {\n        am4core: a,\n        am4charts: o\n      } = i,\n      n = a.create(t, o.XYChart);\n    return n.rtl = h(this.container), \"column-chart\" === s && this._createColumnChart(n, e), \"bar-chart\" === s && this._createBarChart(n, e), \"line-chart\" === s && this._createLineChart(n, e), n;\n  }\n  _clearMediaRefreshTimer() {\n    const {\n      _refreshTimer: e\n    } = this;\n    e && (clearTimeout(e), this._refreshTimer = null);\n  }\n  _updateMediaInfoTimestamp(e) {\n    const t = Date.now();\n    this._refreshIntervalInfo = {\n      timestamp: t,\n      sourceURL: e && this._getImageSource(e, t)\n    }, this.scheduleRender();\n  }\n  _setupMediaRefreshTimer() {\n    this._clearMediaRefreshTimer();\n    const {\n      activeMediaInfo: e\n    } = this.viewModel;\n    e && \"image\" === e.type && e.refreshInterval && this._setRefreshTimeout(e);\n  }\n  _setRefreshTimeout(e) {\n    const {\n      refreshInterval: t,\n      value: i\n    } = e;\n    if (!t) return;\n    const r = 6e4 * t;\n    this._updateMediaInfoTimestamp(i.sourceURL);\n    const s = setInterval(() => {\n      this._updateMediaInfoTimestamp(i.sourceURL);\n    }, r);\n    this._refreshTimer = s;\n  }\n  _getImageSource(e, t) {\n    const i = e.includes(\"?\") ? \"&\" : \"?\",\n      [r, s = \"\"] = e.split(\"#\");\n    return `${r}${i}timestamp=${t}${s ? \"#\" : \"\"}${s}`;\n  }\n};\ne([s()], x.prototype, \"attributes\", null), e([s()], x.prototype, \"activeMediaInfoIndex\", null), e([s()], x.prototype, \"description\", null), e([s()], x.prototype, \"fieldInfoMap\", null), e([s()], x.prototype, \"layer\", null), e([s()], x.prototype, \"mediaInfos\", null), e([s()], x.prototype, \"popupTemplate\", null), e([s()], x.prototype, \"relatedInfos\", null), e([s()], x.prototype, \"title\", null), e([s({\n  type: l\n})], x.prototype, \"viewModel\", void 0), e([s(), p(\"esri/widgets/Feature/t9n/Feature\")], x.prototype, \"messages\", void 0), x = e([a(\"esri.widgets.Feature.FeatureMedia\")], x);\nconst R = x;\nexport { R as default };","map":{"version":3,"names":["_","e","eventKey","t","watch","i","initial","r","property","s","subclass","a","getColorsFromRenderer","o","n","l","d","shouldOpenInNewTab","c","loadChartsModule","u","getColorSet","m","isRTL","h","messageBundle","p","tsx","f","isDarkTheme","v","M","I","base","mediaContainer","mediaItemContainer","mediaItem","mediaItemTitle","mediaItemCaption","mediaPrevious","mediaPreviousIconLTR","mediaPreviousIconRTL","mediaNext","mediaNextIconLTR","mediaNextIconRTL","mediaChart","mediaButton","mediaIcon","iconLeftTriangleArrow","iconRightTriangleArrow","g","w","y","T","b","C","x","constructor","_refreshTimer","_refreshIntervalInfo","_featureElementInfo","viewModel","messages","_getChartDependencies","destroyed","activeMediaInfo","_getRendererColors","_renderChart","chartDiv","mediaInfo","chartsModule","colorMap","initialize","addHandles","activeMediaInfoIndex","_setupMediaRefreshTimer","description","title","_setupFeatureElementInfo","destroy","_clearMediaRefreshTimer","attributes","fieldInfoMap","layer","mediaInfos","popupTemplate","relatedInfos","render","bind","class","onkeyup","_handleMediaKeyup","renderMedia","formattedMediaInfoCount","key","renderMediaPageButton","renderMediaInfo","renderImageMediaInfo","value","refreshInterval","altText","type","sourceURL","linkURL","timestamp","alt","src","href","rel","target","renderChartMediaInfo","afterCreate","renderMediaInfoType","includes","innerHTML","caption","previous","next","classes","_previous","_next","tabIndex","onclick","set","_getRenderer","isAggregate","featureReduction","renderer","am4core","Map","delete","Array","from","values","every","length","color","keys","forEach","get","toCss","stopPropagation","abilities","ColorSet","list","useTheme","am4themes_dark","window","matchMedia","chartAnimation","matches","am4themes_animated","unuseTheme","_createPieChart","_createXYChart","setAttribute","data","series","map","tooltip","fieldName","filter","_customizeChartTooltip","label","wrap","maxWidth","autoTextColor","getFillFromObject","fill","background","am4charts","create","PieChart","rtl","container","push","PieSeries","labels","template","disabled","ticks","dataFields","category","slices","propertyFields","stroke","_getMinSeriesValue","Math","min","_createColumnChart","xAxes","CategoryAxis","events","on","dy","contentHeight","yAxes","ValueAxis","minLabelPosition","maxLabelPosition","ColumnSeries","valueY","categoryX","columns","cursor","XYCursor","scrollbarX","Scrollbar","_createBarChart","inversed","dx","contentWidth","valueX","categoryY","scrollbarY","_createLineChart","LineSeries","strokeWidth","bullets","CircleBullet","XYChart","clearTimeout","_updateMediaInfoTimestamp","Date","now","_getImageSource","scheduleRender","_setRefreshTimeout","setInterval","split","prototype","R","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/widgets/Feature/FeatureMedia.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{eventKey as t}from\"../../core/events.js\";import{watch as i,initial as r}from\"../../core/reactiveUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{getColorsFromRenderer as o}from\"../../renderers/support/utils.js\";import n from\"../Widget.js\";import l from\"./FeatureMedia/FeatureMediaViewModel.js\";import d from\"./support/FeatureElementInfo.js\";import{shouldOpenInNewTab as c}from\"./support/featureUtils.js\";import{loadChartsModule as u,getColorSet as m}from\"../support/chartUtils.js\";import{isRTL as h}from\"../support/widgetUtils.js\";import{messageBundle as p}from\"../support/decorators/messageBundle.js\";import{tsx as f}from\"../support/jsxFactory.js\";import{isDarkTheme as v}from\"../../support/themeUtils.js\";const M=\"esri-feature-media\",I={base:M,mediaContainer:`${M}__container`,mediaItemContainer:`${M}__item-container`,mediaItem:`${M}__item`,mediaItemTitle:`${M}__item-title`,mediaItemCaption:`${M}__item-caption`,mediaPrevious:`${M}__previous`,mediaPreviousIconLTR:`${M}__previous-icon`,mediaPreviousIconRTL:`${M}__previous-icon--rtl`,mediaNext:`${M}__next`,mediaNextIconLTR:`${M}__next-icon`,mediaNextIconRTL:`${M}__next-icon--rtl`,mediaChart:`${M}__chart`,mediaButton:`${M}__button`,mediaIcon:`${M}__icon`,iconLeftTriangleArrow:\"esri-icon-left-triangle-arrow\",iconRightTriangleArrow:\"esri-icon-right-triangle-arrow\"},_=.05,g=.95,w=15,y=\"color\",T=\"tooltip\",b=\"value\",C=\"default-line-value\";let x=class extends n{constructor(e,t){super(e,t),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.viewModel=new l,this.messages=null,this._getChartDependencies=async e=>{const t=await u(),{destroyed:i,viewModel:r}=this;if(i||!r||!e)return;const{activeMediaInfo:s}=r,a=await this._getRendererColors(t);this._renderChart({chartDiv:e,mediaInfo:s,chartsModule:t,colorMap:a})}}initialize(){this._featureElementInfo=new d,this.addHandles([i((()=>[this.viewModel?.activeMediaInfo,this.viewModel?.activeMediaInfoIndex]),(()=>this._setupMediaRefreshTimer()),r),i((()=>[this.viewModel?.description,this.viewModel?.title]),(()=>this._setupFeatureElementInfo()),r)])}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo?.destroy()}get attributes(){return this.viewModel.attributes}set attributes(e){this.viewModel.attributes=e}get activeMediaInfoIndex(){return this.viewModel.activeMediaInfoIndex}set activeMediaInfoIndex(e){this.viewModel.activeMediaInfoIndex=e}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get fieldInfoMap(){return this.viewModel.fieldInfoMap}set fieldInfoMap(e){this.viewModel.fieldInfoMap=e}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get mediaInfos(){return this.viewModel.mediaInfos}set mediaInfos(e){this.viewModel.mediaInfos=e}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(e){this.viewModel.popupTemplate=e}get relatedInfos(){return this.viewModel.relatedInfos}set relatedInfos(e){this.viewModel.relatedInfos=e}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}render(){return f(\"div\",{bind:this,class:I.base,onkeyup:this._handleMediaKeyup},this._featureElementInfo?.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:e}=this.viewModel;return e?f(\"div\",{key:\"media-element-container\",class:I.mediaContainer},this.renderMediaPageButton(\"previous\"),this.renderMediaInfo(),this.renderMediaPageButton(\"next\")):null}renderImageMediaInfo(e){const{_refreshIntervalInfo:t}=this,{activeMediaInfoIndex:i,formattedMediaInfoCount:r}=this.viewModel,{value:s,refreshInterval:a,altText:o,title:n,type:l}=e,{sourceURL:d,linkURL:u}=s,m=c(u??void 0)?\"_blank\":\"_self\",h=\"_blank\"===m?\"noreferrer\":\"\",p=a?t:null,v=p?p.timestamp:0,M=p?p.sourceURL:d,I=f(\"img\",{alt:o||n,key:`media-${l}-${i}-${r}-${v}`,src:M??void 0}),_=u?f(\"a\",{title:n,href:u,rel:h,target:m},I):null;return _||I}renderChartMediaInfo(e){const{activeMediaInfoIndex:t,formattedMediaInfoCount:i}=this.viewModel;return f(\"div\",{key:`media-${e.type}-${t}-${i}`,bind:this,class:I.mediaChart,afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:e}=this.viewModel;return e?\"image\"===e.type?this.renderImageMediaInfo(e):e.type.includes(\"chart\")?this.renderChartMediaInfo(e):null:null}renderMediaInfo(){const{activeMediaInfo:e}=this.viewModel;if(!e)return null;const t=e.title?f(\"div\",{key:\"media-title\",class:I.mediaItemTitle,innerHTML:e.title}):null,i=e.caption?f(\"div\",{key:\"media-caption\",class:I.mediaItemCaption,innerHTML:e.caption}):null;return f(\"div\",{key:\"media-container\",class:I.mediaItemContainer},f(\"div\",{key:\"media-item-container\",class:I.mediaItem},this.renderMediaInfoType()),t,i)}renderMediaPageButton(e){if(this.viewModel.formattedMediaInfoCount<2)return null;const t=\"previous\"===e,i=t?this.messages.previous:this.messages.next,r=t?this.classes(I.mediaButton,I.mediaPrevious):this.classes(I.mediaButton,I.mediaNext),s=t?this.classes(I.mediaIcon,I.mediaPreviousIconLTR,I.iconLeftTriangleArrow):this.classes(I.mediaIcon,I.mediaNextIconLTR,I.iconRightTriangleArrow),a=t?this.classes(I.mediaIcon,I.mediaPreviousIconRTL,I.iconRightTriangleArrow):this.classes(I.mediaIcon,I.mediaNextIconRTL,I.iconLeftTriangleArrow),o=t?\"media-previous\":\"media-next\",n=t?this._previous:this._next;return f(\"button\",{type:\"button\",key:o,title:i,\"aria-label\":i,tabIndex:0,class:r,bind:this,onclick:n},f(\"span\",{\"aria-hidden\":\"true\",class:s}),f(\"span\",{\"aria-hidden\":\"true\",class:a}))}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo?.set({description:e,title:t})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_getRenderer(){const{isAggregate:e,layer:t}=this.viewModel;return e&&t?.featureReduction&&\"renderer\"in t.featureReduction?t.featureReduction.renderer:t?.renderer}async _getRendererColors(e){const{am4core:t}=e,i=new Map,r=this._getRenderer(),s=\"default\";if(!r)return i;const a=await o(r);a.delete(s);return Array.from(a.values()).every((e=>1===e?.length))?(i.set(C,t.color({r:50,g:50,b:50,a:1})),Array.from(a.keys()).forEach((e=>{e&&i.set(e,t.color(a.get(e)?.[0].toCss(!0)))})),i):i}_handleMediaKeyup(e){const i=t(e);\"ArrowLeft\"===i&&(e.stopPropagation(),this.viewModel.previous()),\"ArrowRight\"===i&&(e.stopPropagation(),this.viewModel.next())}_renderChart(e){const{abilities:t}=this.viewModel,{chartsModule:i,chartDiv:r,mediaInfo:s,colorMap:a}=e,{value:o,type:n}=s,{am4core:l}=i,d=m(l);function c(e){e instanceof l.ColorSet&&d&&(e.list=d)}v()&&l.useTheme(i.am4themes_dark);const u=window.matchMedia(\"(prefers-reduced-motion: reduce)\");t.chartAnimation&&!u.matches?l.useTheme(i.am4themes_animated):l.unuseTheme(i.am4themes_animated),l.useTheme(c);const h=\"pie-chart\"===n?this._createPieChart(e):this._createXYChart(e);r.setAttribute(\"aria-label\",s.altText||s.title),h.data=o.series.map((e=>({[T]:e.tooltip,[b]:e.value,[y]:a.get(e.fieldName)}))).filter((e=>\"pie-chart\"!==n||null!=e.value&&e.value>0))}_customizeChartTooltip(e,t){e&&(e.label.wrap=!0,e.label.maxWidth=200,e.autoTextColor=!1,e.getFillFromObject=!1,e.label.fill=t.color(\"#ffffff\"),e.background.fill=t.color({r:0,g:0,b:0,a:.7}))}_createPieChart(e){const{chartDiv:t,chartsModule:i}=e,{am4core:r,am4charts:s}=i,a=r.create(t,s.PieChart);a.rtl=h(this.container);const o=a.series.push(new s.PieSeries);return o.labels.template.disabled=!0,o.ticks.template.disabled=!0,o.dataFields.value=b,o.dataFields.category=T,this._customizeChartTooltip(o.tooltip,r),o.slices.template.propertyFields.fill=y,o.slices.template.propertyFields.stroke=y,a}_getMinSeriesValue(e){let t=0;return e.forEach((e=>t=Math.min(e.value,t))),t}_createColumnChart(e,t){const{chartsModule:i,mediaInfo:r}=t,{value:s}=r,{am4core:a,am4charts:o}=i,n=e.xAxes.push(new o.CategoryAxis);n.dataFields.category=T,n.renderer.labels.template.disabled=!0;const l=n.tooltip;this._customizeChartTooltip(l,a),l.events.on(\"sizechanged\",(()=>{l.dy=-l.contentHeight}));const d=e.yAxes.push(new o.ValueAxis),c=d.renderer.labels.template;d.renderer.minLabelPosition=_,d.renderer.maxLabelPosition=g,d.min=this._getMinSeriesValue(s.series),this._customizeChartTooltip(d.tooltip,a),c.wrap=!0;const u=e.series.push(new o.ColumnSeries);u.dataFields.valueY=b,u.dataFields.categoryX=T,u.columns.template.propertyFields.fill=y,u.columns.template.propertyFields.stroke=y,e.cursor=new o.XYCursor,s.series.length>w&&(e.scrollbarX=new a.Scrollbar)}_createBarChart(e,t){const{chartsModule:i,mediaInfo:r}=t,{value:s}=r,{am4core:a,am4charts:o}=i,n=e.yAxes.push(new o.CategoryAxis);n.dataFields.category=T,n.renderer.inversed=!0,n.renderer.labels.template.disabled=!0;const l=n.tooltip;this._customizeChartTooltip(l,a),l.events.on(\"sizechanged\",(()=>{l.dx=l.contentWidth}));const d=e.xAxes.push(new o.ValueAxis),c=d.renderer.labels.template;d.renderer.minLabelPosition=_,d.renderer.maxLabelPosition=g,d.min=this._getMinSeriesValue(s.series),this._customizeChartTooltip(d.tooltip,a),c.wrap=!0;const u=e.series.push(new o.ColumnSeries);u.dataFields.valueX=b,u.dataFields.categoryY=T,u.columns.template.propertyFields.fill=y,u.columns.template.propertyFields.stroke=y,e.cursor=new o.XYCursor,s.series.length>w&&(e.scrollbarY=new a.Scrollbar)}_createLineChart(e,t){const{chartsModule:i,mediaInfo:r,colorMap:s}=t,{value:a}=r,{am4core:o,am4charts:n}=i,l=e.xAxes.push(new n.CategoryAxis);l.dataFields.category=T,l.renderer.labels.template.disabled=!0;const d=l.tooltip;this._customizeChartTooltip(d,o),d.events.on(\"sizechanged\",(()=>{d.dy=-d.contentHeight}));const c=e.yAxes.push(new n.ValueAxis),u=c.renderer.labels.template;c.renderer.minLabelPosition=_,c.renderer.maxLabelPosition=g,c.min=this._getMinSeriesValue(a.series),this._customizeChartTooltip(c.tooltip,o),u.wrap=!0;const m=e.series.push(new n.LineSeries);m.dataFields.categoryX=T,m.dataFields.valueY=b,m.strokeWidth=1;const h=s.get(C);h&&(m.stroke=h);const p=m.bullets.push(new n.CircleBullet);p.propertyFields.fill=y,p.propertyFields.stroke=y,e.cursor=new n.XYCursor,a.series.length>w&&(e.scrollbarX=new o.Scrollbar)}_createXYChart(e){const{chartDiv:t,chartsModule:i,mediaInfo:r}=e,{type:s}=r,{am4core:a,am4charts:o}=i,n=a.create(t,o.XYChart);return n.rtl=h(this.container),\"column-chart\"===s&&this._createColumnChart(n,e),\"bar-chart\"===s&&this._createBarChart(n,e),\"line-chart\"===s&&this._createLineChart(n,e),n}_clearMediaRefreshTimer(){const{_refreshTimer:e}=this;e&&(clearTimeout(e),this._refreshTimer=null)}_updateMediaInfoTimestamp(e){const t=Date.now();this._refreshIntervalInfo={timestamp:t,sourceURL:e&&this._getImageSource(e,t)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:e}=this.viewModel;e&&\"image\"===e.type&&e.refreshInterval&&this._setRefreshTimeout(e)}_setRefreshTimeout(e){const{refreshInterval:t,value:i}=e;if(!t)return;const r=6e4*t;this._updateMediaInfoTimestamp(i.sourceURL);const s=setInterval((()=>{this._updateMediaInfoTimestamp(i.sourceURL)}),r);this._refreshTimer=s}_getImageSource(e,t){const i=e.includes(\"?\")?\"&\":\"?\",[r,s=\"\"]=e.split(\"#\");return`${r}${i}timestamp=${t}${s?\"#\":\"\"}${s}`}};e([s()],x.prototype,\"attributes\",null),e([s()],x.prototype,\"activeMediaInfoIndex\",null),e([s()],x.prototype,\"description\",null),e([s()],x.prototype,\"fieldInfoMap\",null),e([s()],x.prototype,\"layer\",null),e([s()],x.prototype,\"mediaInfos\",null),e([s()],x.prototype,\"popupTemplate\",null),e([s()],x.prototype,\"relatedInfos\",null),e([s()],x.prototype,\"title\",null),e([s({type:l})],x.prototype,\"viewModel\",void 0),e([s(),p(\"esri/widgets/Feature/t9n/Feature\")],x.prototype,\"messages\",void 0),x=e([a(\"esri.widgets.Feature.FeatureMedia\")],x);const R=x;export{R as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}