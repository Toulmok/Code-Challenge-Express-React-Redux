{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { s as r } from \"../../../../../../chunks/vec2.js\";\nimport { a as o } from \"../../../../../../chunks/vec2f64.js\";\nimport { s as e } from \"../../../../../../chunks/vec4.js\";\nimport { c as a } from \"../../../../../../chunks/vec4f64.js\";\nimport { Float2PassUniform as t } from \"../../shaderModules/Float2PassUniform.js\";\nimport { Float4PassUniform as s } from \"../../shaderModules/Float4PassUniform.js\";\nimport { glsl as c } from \"../../shaderModules/interfaces.js\";\nfunction n(r) {\n  r.fragment.uniforms.add(new s(\"projInfo\", (r, o) => f(o))), r.fragment.uniforms.add(new t(\"zScale\", (r, o) => i(o))), r.fragment.code.add(c`vec3 reconstructPosition(vec2 fragCoord, float depth) {\nreturn vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);\n}`);\n}\nfunction f(r) {\n  const o = r.camera.projectionMatrix;\n  return 0 === o[11] ? e(m, 2 / (r.camera.fullWidth * o[0]), 2 / (r.camera.fullHeight * o[5]), (1 + o[12]) / o[0], (1 + o[13]) / o[5]) : e(m, -2 / (r.camera.fullWidth * o[0]), -2 / (r.camera.fullHeight * o[5]), (1 - o[8]) / o[0], (1 - o[9]) / o[5]);\n}\nconst m = a();\nfunction i(o) {\n  return 0 === o.camera.projectionMatrix[11] ? r(d, 0, 1) : r(d, 1, 0);\n}\nconst d = o();\nexport { n as CameraSpace, i as getZScale };","map":{"version":3,"names":["s","r","a","o","e","c","Float2PassUniform","t","Float4PassUniform","glsl","n","fragment","uniforms","add","f","i","code","camera","projectionMatrix","m","fullWidth","fullHeight","d","CameraSpace","getZScale"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{s as r}from\"../../../../../../chunks/vec2.js\";import{a as o}from\"../../../../../../chunks/vec2f64.js\";import{s as e}from\"../../../../../../chunks/vec4.js\";import{c as a}from\"../../../../../../chunks/vec4f64.js\";import{Float2PassUniform as t}from\"../../shaderModules/Float2PassUniform.js\";import{Float4PassUniform as s}from\"../../shaderModules/Float4PassUniform.js\";import{glsl as c}from\"../../shaderModules/interfaces.js\";function n(r){r.fragment.uniforms.add(new s(\"projInfo\",((r,o)=>f(o)))),r.fragment.uniforms.add(new t(\"zScale\",((r,o)=>i(o)))),r.fragment.code.add(c`vec3 reconstructPosition(vec2 fragCoord, float depth) {\nreturn vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);\n}`)}function f(r){const o=r.camera.projectionMatrix;return 0===o[11]?e(m,2/(r.camera.fullWidth*o[0]),2/(r.camera.fullHeight*o[5]),(1+o[12])/o[0],(1+o[13])/o[5]):e(m,-2/(r.camera.fullWidth*o[0]),-2/(r.camera.fullHeight*o[5]),(1-o[8])/o[0],(1-o[9])/o[5])}const m=a();function i(o){return 0===o.camera.projectionMatrix[11]?r(d,0,1):r(d,1,0)}const d=o();export{n as CameraSpace,i as getZScale};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,QAAK,kCAAkC;AAAC,SAAOC,CAAC,IAAIC,CAAC,QAAK,qCAAqC;AAAC,SAAOH,CAAC,IAAII,CAAC,QAAK,kCAAkC;AAAC,SAAOC,CAAC,IAAIH,CAAC,QAAK,qCAAqC;AAAC,SAAOI,iBAAiB,IAAIC,CAAC,QAAK,0CAA0C;AAAC,SAAOC,iBAAiB,IAAIR,CAAC,QAAK,0CAA0C;AAAC,SAAOS,IAAI,IAAIJ,CAAC,QAAK,mCAAmC;AAAC,SAASK,CAACA,CAACT,CAAC,EAAC;EAACA,CAAC,CAACU,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAIb,CAAC,CAAC,UAAU,EAAE,CAACC,CAAC,EAACE,CAAC,KAAGW,CAAC,CAACX,CAAC,CAAC,CAAE,CAAC,EAACF,CAAC,CAACU,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAIN,CAAC,CAAC,QAAQ,EAAE,CAACN,CAAC,EAACE,CAAC,KAAGY,CAAC,CAACZ,CAAC,CAAC,CAAE,CAAC,EAACF,CAAC,CAACU,QAAQ,CAACK,IAAI,CAACH,GAAG,CAACR,CAAE;AACjkB;AACA,EAAE,CAAC;AAAA;AAAC,SAASS,CAACA,CAACb,CAAC,EAAC;EAAC,MAAME,CAAC,GAACF,CAAC,CAACgB,MAAM,CAACC,gBAAgB;EAAC,OAAO,CAAC,KAAGf,CAAC,CAAC,EAAE,CAAC,GAACC,CAAC,CAACe,CAAC,EAAC,CAAC,IAAElB,CAAC,CAACgB,MAAM,CAACG,SAAS,GAACjB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,IAAEF,CAAC,CAACgB,MAAM,CAACI,UAAU,GAAClB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,GAACA,CAAC,CAAC,EAAE,CAAC,IAAEA,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,GAACA,CAAC,CAAC,EAAE,CAAC,IAAEA,CAAC,CAAC,CAAC,CAAC,CAAC,GAACC,CAAC,CAACe,CAAC,EAAC,CAAC,CAAC,IAAElB,CAAC,CAACgB,MAAM,CAACG,SAAS,GAACjB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,IAAEF,CAAC,CAACgB,MAAM,CAACI,UAAU,GAAClB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,IAAEA,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,IAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;AAAA;AAAC,MAAMgB,CAAC,GAACjB,CAAC,EAAE;AAAC,SAASa,CAACA,CAACZ,CAAC,EAAC;EAAC,OAAO,CAAC,KAAGA,CAAC,CAACc,MAAM,CAACC,gBAAgB,CAAC,EAAE,CAAC,GAACjB,CAAC,CAACqB,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,GAACrB,CAAC,CAACqB,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;AAAA;AAAC,MAAMA,CAAC,GAACnB,CAAC,EAAE;AAAC,SAAOO,CAAC,IAAIa,WAAW,EAACR,CAAC,IAAIS,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}