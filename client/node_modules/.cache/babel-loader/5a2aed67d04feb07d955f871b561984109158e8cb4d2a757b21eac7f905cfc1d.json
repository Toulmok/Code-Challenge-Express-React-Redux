{"ast":null,"code":"import _regeneratorRuntime from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport o from \"../../core/Error.js\";\nimport { isSome as r } from \"../../core/maybe.js\";\nfunction n(_x, _x2, _x3, _x4, _x5, _x6) {\n  return _n.apply(this, arguments);\n}\nfunction _n() {\n  _n = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(n, t, s, a, i, d) {\n    var l, _o, _t, p, c;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          l = null;\n          if (!r(s)) {\n            _context.next = 17;\n            break;\n          }\n          _o = \"\".concat(n, \"/nodepages/\"), _t = _o + Math.floor(s.rootIndex / s.nodesPerPage);\n          _context.prev = 3;\n          _context.next = 6;\n          return e(_t, {\n            query: {\n              f: \"json\",\n              token: a\n            },\n            responseType: \"json\",\n            signal: d\n          });\n        case 6:\n          _context.t0 = _context.sent.data;\n          _context.t1 = s.rootIndex;\n          _context.t2 = s.nodesPerPage;\n          _context.t3 = s.lodSelectionMetricType;\n          _context.t4 = _o;\n          return _context.abrupt(\"return\", {\n            type: \"page\",\n            rootPage: _context.t0,\n            rootIndex: _context.t1,\n            pageSize: _context.t2,\n            lodMetric: _context.t3,\n            urlPrefix: _context.t4\n          });\n        case 14:\n          _context.prev = 14;\n          _context.t5 = _context[\"catch\"](3);\n          r(i) && i.warn(\"#fetchIndexInfo()\", \"Failed to load root node page. Falling back to node documents.\", _t, _context.t5), l = _context.t5;\n        case 17:\n          if (t) {\n            _context.next = 19;\n            break;\n          }\n          return _context.abrupt(\"return\", null);\n        case 19:\n          p = \"\".concat(n, \"/nodes/\"), c = p + (t && t.split(\"/\").pop());\n          _context.prev = 20;\n          _context.next = 23;\n          return e(c, {\n            query: {\n              f: \"json\",\n              token: a\n            },\n            responseType: \"json\",\n            signal: d\n          });\n        case 23:\n          _context.t6 = _context.sent.data;\n          _context.t7 = p;\n          return _context.abrupt(\"return\", {\n            type: \"node\",\n            rootNode: _context.t6,\n            urlPrefix: _context.t7\n          });\n        case 28:\n          _context.prev = 28;\n          _context.t8 = _context[\"catch\"](20);\n          throw new o(\"sceneservice:root-node-missing\", \"Root node missing.\", {\n            pageError: l,\n            nodeError: _context.t8,\n            url: c\n          });\n        case 31:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[3, 14], [20, 28]]);\n  }));\n  return _n.apply(this, arguments);\n}\nexport { n as fetchIndexInfo };","map":{"version":3,"names":["e","o","isSome","r","n","_x","_x2","_x3","_x4","_x5","_x6","_n","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","t","s","a","i","d","l","_o","_t","p","c","wrap","_callee$","_context","prev","next","concat","Math","floor","rootIndex","nodesPerPage","query","f","token","responseType","signal","t0","sent","data","t1","t2","t3","lodSelectionMetricType","t4","abrupt","type","rootPage","pageSize","lodMetric","urlPrefix","t5","warn","split","pop","t6","t7","rootNode","t8","pageError","nodeError","url","stop","fetchIndexInfo"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/support/I3SIndexInfo.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}