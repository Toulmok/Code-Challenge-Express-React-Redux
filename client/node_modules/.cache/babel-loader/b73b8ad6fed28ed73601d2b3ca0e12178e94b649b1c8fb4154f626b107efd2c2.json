{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../../Color.js\";\nimport { isSome as t, get as i, isNone as r, unwrap as n } from \"../../../../core/maybe.js\";\nimport { pt2px as o } from \"../../../../core/screenUtils.js\";\nimport { e as s } from \"../../../../chunks/earcut.js\";\nimport { s as a } from \"../../../../chunks/vec4.js\";\nimport { create as l, empty as c, expandWithBuffer as h, intersectsClippingArea as p, expandWithAABB as u } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { SymbolUpdateType as d, elevationModeChangeUpdateType as m, needsElevationUpdates2D as _ } from \"./elevationAlignmentUtils.js\";\nimport { ElevationContext as g } from \"./ElevationContext.js\";\nimport y from \"./Graphics3DDrapedGraphicLayer.js\";\nimport { Graphics3DObject3DGraphicLayer as f } from \"./Graphics3DObject3DGraphicLayer.js\";\nimport { Graphics3DSymbolLayer as b } from \"./Graphics3DSymbolLayer.js\";\nimport { mixinColorAndOpacity as x } from \"./graphicUtils.js\";\nimport { parseCapType as v } from \"./lineUtils.js\";\nimport { geometryAsPolygon as O, createColorGeometry as C, PolygonCreationDataBase as D } from \"./polygonUtils.js\";\nimport { createMaterial as S, uvElevationAligner as j } from \"../support/patternUtils.js\";\nimport { createMapSpaceUVCoords as A, createMapSpaceUVCoordsDraped as M } from \"../support/uvUtils.js\";\nimport { createGeometry as P } from \"../../support/engineContent/line.js\";\nimport { geometryToRenderInfo as E, geometryToRenderInfoDraped as L } from \"../../support/renderInfoUtils/polygon.js\";\nimport { newDoubleArray as G, doubleSubArray as w, doubleArrayFrom as U } from \"../../webgl-engine/lib/DoubleArray.js\";\nimport { newFloatArray as I, floatSubArray as R } from \"../../webgl-engine/lib/FloatArray.js\";\nimport { Object3D as V } from \"../../webgl-engine/lib/Object3D.js\";\nimport { RenderGeometry as B } from \"../../webgl-engine/lib/RenderGeometry.js\";\nimport { VertexAttribute as T } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { getStipplePatternForLinePattern as F } from \"../../webgl-engine/materials/lineStippleUtils.js\";\nimport { PatternMaterial as H } from \"../../webgl-engine/materials/PatternMaterial.js\";\nimport { RibbonLineMaterial as W } from \"../../webgl-engine/materials/RibbonLineMaterial.js\";\nconst k = [\"polyline\", \"polygon\", \"extent\"];\nclass z extends b {\n  constructor(e, t, i, r) {\n    super(e, t, i, r), this._needsUV = !1, this._hasOutline = !1;\n  }\n  async doLoad() {}\n  _ensureMaterials() {\n    this._ensureFillMaterial(), this._ensureOutlineMaterial();\n  }\n  _ensureFillMaterial() {\n    if (t(this._material)) return;\n    const e = i(this.symbolLayer, \"material\", \"color\"),\n      r = this._getCombinedOpacityAndColor(e);\n    this._material = S(this.symbolLayer, {\n      color: r,\n      transparent: r[3] < 1 || this.needsDrivenTransparentPass,\n      polygonOffset: !1,\n      hasVertexColors: !0,\n      writeLinearDepth: !0,\n      hasSlicePlane: this._context.slicePlaneEnabled\n    }, {\n      isDraped: this.draped\n    }), this._needsUV = this._material instanceof H, this._context.stage.add(this._material);\n  }\n  _ensureOutlineMaterial() {\n    const e = this.symbolLayer.outline;\n    if (t(this._outlineMaterial) || !this._isValidOutline(e)) return;\n    this._hasOutline = !0;\n    const i = t => {\n      const i = F(e.pattern);\n      return new W({\n        width: t,\n        color: this._getOutlineColor(),\n        hasPolygonOffset: !0,\n        hasSlicePlane: this._context.slicePlaneEnabled,\n        isClosed: !0,\n        stipplePattern: i,\n        stippleScaleWithLineWidth: !0,\n        cap: v(e.patternCap || \"butt\")\n      });\n    };\n    this._outlineMaterial = i(o(e.size)), this._context.stage.add(this._outlineMaterial);\n  }\n  _isValidOutline(e) {\n    return t(e) && null != e.size && e.size > 0 && t(e.color) && (r(e.pattern) || \"style\" !== e.pattern.type || \"none\" !== e.pattern.style);\n  }\n  destroy() {\n    super.destroy(), this._context.stage.remove(this._material), this._material = null, this._context.stage.remove(this._outlineMaterial), this._outlineMaterial = null;\n  }\n  createGraphics3DGraphic(e) {\n    const t = e.graphic;\n    if (!this._validateGeometry(t.geometry, k, this.symbolLayer.type)) return null;\n    const i = this._getVertexOpacityAndColor(e.renderingInfo, 255),\n      r = this.setGraphicElevationContext(t, new g());\n    return this.ensureDrapedStatus(\"on-the-ground\" === r.mode), this._ensureMaterials(), this.draped ? this._createAsOverlay(t, i) : this._createAs3DShape(t, i, r);\n  }\n  layerOpacityChanged() {\n    if (t(this._material)) {\n      const e = this._material.parameters.color,\n        t = i(this.symbolLayer, \"material\", \"color\"),\n        r = this._getCombinedOpacity(t);\n      this._material.setParameters({\n        color: [e[0], e[1], e[2], r],\n        transparent: r < 1 || this.needsDrivenTransparentPass\n      });\n    }\n    if (t(this._outlineMaterial)) {\n      const e = this._outlineMaterial.parameters.color;\n      this._outlineMaterial.setParameters({\n        color: [e[0], e[1], e[2], this._getOutlineOpacity()]\n      });\n    }\n  }\n  layerElevationInfoChanged(e, t, i) {\n    const r = this._elevationContext.mode,\n      n = m(z.elevationModeChangeTypes, i, r);\n    if (n !== d.UPDATE) return n;\n    const o = _(r);\n    return this.updateGraphics3DGraphicElevationInfo(e, t, () => o);\n  }\n  slicePlaneEnabledChanged() {\n    if (t(this._material) && this._material.setParameters({\n      hasSlicePlane: this._context.slicePlaneEnabled\n    }), t(this._outlineMaterial)) {\n      const e = {\n        hasSlicePlane: this._context.slicePlaneEnabled\n      };\n      this._outlineMaterial.setParameters(e);\n    }\n    return !0;\n  }\n  physicalBasedRenderingChanged() {\n    return !0;\n  }\n  pixelRatioChanged() {\n    return !0;\n  }\n  skipHighSymbolLodsChanged() {\n    return !0;\n  }\n  _createAs3DShape(e, t, i) {\n    const n = O(e.geometry);\n    if (r(n)) return null;\n    const o = E(n, this._context.elevationProvider, this._context.renderCoordsHelper, i),\n      s = new q(o, t, this._context.layer.uid, e.uid),\n      a = s.renderData.position.length / 3;\n    if (this._needsUV && (s.uvMapSpace = I(4 * a, !0), s.boundingRect = G(9 * a, !0), A(s.uvMapSpace, s.boundingRect, s.renderData.position, this._context.renderCoordsHelper)), s.objectAndLayerIdColor = this._context.stage.renderView?.getObjectAndLayerIdColor(s), this._createAs3DShapeFill(s), this._hasOutline && this._createAs3DShapeOutline(s), this._logGeometryCreationWarnings(s.renderData, n.rings, \"rings\", \"FillSymbol3DLayer\"), 0 === s.outGeometries.length) return null;\n    const l = new V({\n        geometries: s.outGeometries,\n        castShadow: !1,\n        metadata: {\n          layerUid: this._context.layer.uid,\n          graphicUid: e.uid\n        }\n      }),\n      c = new f(this, l, s.outGeometries, null, null, j, i);\n    return c.alignedSampledElevation = s.renderData.sampledElevation, c.needsElevationUpdates = _(i.mode), c;\n  }\n  _createAs3DShapeFill(e) {\n    const i = e.renderData.polygons;\n    for (const {\n      position: r,\n      mapPositions: o,\n      holeIndices: a,\n      index: l,\n      count: u\n    } of i) {\n      if (t(this._context.clippingExtent) && (c(N), h(N, o), !p(N, this._context.clippingExtent))) continue;\n      const i = s(o, a, 3);\n      if (0 === i.length) continue;\n      const d = C({\n        material: n(this._material),\n        indices: i,\n        mapPositions: o,\n        attributeData: {\n          position: r,\n          color: e.color,\n          uvMapSpace: this._needsUV ? R(e.uvMapSpace, 4 * l, 4 * u) : null,\n          boundingRect: this._needsUV ? w(e.boundingRect, 9 * l, 9 * u) : null,\n          objectAndLayerIdColor: e.objectAndLayerIdColor\n        }\n      });\n      e.outGeometries.push(d);\n    }\n  }\n  _createAs3DShapeOutline(e) {\n    if (!this._hasOutline) return;\n    const i = e.renderData.outlines;\n    for (let r = 0; r < i.length; ++r) {\n      const {\n        mapPositions: o,\n        position: s\n      } = i[r];\n      if (t(this._context.clippingExtent) && (c(N), h(N, o), !p(N, this._context.clippingExtent))) continue;\n      const a = P(n(this._outlineMaterial), {\n          overlayInfo: null,\n          removeDuplicateStartEnd: !0,\n          mapPositions: o,\n          attributeData: {\n            position: s\n          }\n        }, e.objectAndLayerIdColor),\n        l = a.vertexAttributes.get(T.POSITION);\n      l.data === s && (l.data = U(s)), e.outGeometries.push(a);\n    }\n  }\n  _createAsOverlay(e, i) {\n    const o = O(e.geometry);\n    if (r(o)) return null;\n    n(this._material).renderPriority = this._renderPriority + this._renderPriorityStep / 2, t(this._outlineMaterial) && (this._outlineMaterial.renderPriority = this._renderPriority);\n    const s = L(o, this._context.overlaySR),\n      a = new J(s, i, this._context.layer.uid, e.uid),\n      l = a.renderData.position.length / 3;\n    return this._needsUV && (a.uvMapSpace = I(4 * l, !0), M(a.uvMapSpace, a.renderData.position, this._context.overlaySR, this._context.graphicsCoreOwner.view.state.viewingMode)), a.outBoundingBox = c(), a.objectAndLayerIdColor = this._context.stage.renderView?.getObjectAndLayerIdColor(a), this._createAsOverlayFill(a), this._hasOutline && this._createAsOverlayOutline(a), this._logGeometryCreationWarnings(a.renderData, o.rings, \"rings\", \"FillSymbol3DLayer\"), 0 === a.outGeometries.length ? null : new y(this, a.outGeometries, a.outBoundingBox, this._context.drapeSourceRenderer);\n  }\n  _createAsOverlayFill(e) {\n    const t = e.renderData.polygons;\n    for (const {\n      position: i,\n      holeIndices: r,\n      index: o,\n      count: l\n    } of t) {\n      const t = c(N);\n      if (h(t, i), !p(t, this._context.clippingExtent)) continue;\n      const d = s(i, r, 3);\n      if (0 === d.length) continue;\n      u(e.outBoundingBox, t);\n      const m = C({\n          material: n(this._material),\n          indices: d,\n          attributeData: {\n            position: i,\n            color: e.color,\n            uvMapSpace: this._needsUV ? R(e.uvMapSpace, 4 * o, 4 * l) : null,\n            objectAndLayerIdColor: e.objectAndLayerIdColor\n          }\n        }),\n        _ = new B(m, e);\n      a(_.boundingSphere, .5 * (t[0] + t[3]), .5 * (t[1] + t[4]), 0, .5 * Math.sqrt((t[3] - t[0]) * (t[3] - t[0]) + (t[4] - t[1]) * (t[4] - t[1]))), e.outGeometries.push(_);\n    }\n  }\n  _createAsOverlayOutline(e) {\n    if (!this._hasOutline) return;\n    const t = e.renderData.outlines;\n    for (let i = 0; i < t.length; ++i) {\n      const {\n        position: r\n      } = t[i];\n      if (c(N), h(N, r), !p(N, this._context.clippingExtent)) continue;\n      u(e.outBoundingBox, N);\n      const o = P(n(this._outlineMaterial), {\n          overlayInfo: {\n            spatialReference: this._context.overlaySR,\n            renderCoordsHelper: this._context.renderCoordsHelper\n          },\n          removeDuplicateStartEnd: !0,\n          attributeData: {\n            position: r\n          }\n        }, e.objectAndLayerIdColor),\n        s = new B(o, e),\n        l = N;\n      a(s.boundingSphere, .5 * (l[0] + l[3]), .5 * (l[1] + l[4]), 0, .5 * Math.sqrt((l[3] - l[0]) * (l[3] - l[0]) + (l[4] - l[1]) * (l[4] - l[1]))), e.outGeometries.push(s);\n    }\n  }\n  _getOutlineOpacity() {\n    const e = i(this.symbolLayer, \"outline\", \"color\");\n    return (this.draped ? 1 : this._getLayerOpacity()) * (t(e) ? e.a : 0);\n  }\n  _getOutlineColor() {\n    const r = i(this.symbolLayer, \"outline\", \"color\"),\n      n = this._getOutlineOpacity();\n    return x(t(r) ? e.toUnitRGB(r) : null, n);\n  }\n  test() {\n    return {\n      ...super.test(),\n      createAsOverlay: (e, t) => this._createAsOverlay(e, t),\n      createAs3DShape: (e, t, i) => this._createAs3DShape(e, t, i)\n    };\n  }\n}\nz.elevationModeChangeTypes = {\n  definedChanged: d.RECREATE,\n  staysOnTheGround: d.NONE,\n  onTheGroundChanged: d.RECREATE\n};\nconst N = l();\nclass q extends D {\n  constructor(e, t, i, r) {\n    super(e, i, r), this.color = t;\n  }\n}\nclass J extends D {\n  constructor(e, t, i, r) {\n    super(e, i, r), this.color = t;\n  }\n}\nexport { z as Graphics3DPolygonFillSymbolLayer };","map":{"version":3,"names":["e","isSome","t","get","i","isNone","r","unwrap","n","pt2px","o","s","a","create","l","empty","c","expandWithBuffer","h","intersectsClippingArea","p","expandWithAABB","u","SymbolUpdateType","d","elevationModeChangeUpdateType","m","needsElevationUpdates2D","_","ElevationContext","g","y","Graphics3DObject3DGraphicLayer","f","Graphics3DSymbolLayer","b","mixinColorAndOpacity","x","parseCapType","v","geometryAsPolygon","O","createColorGeometry","C","PolygonCreationDataBase","D","createMaterial","S","uvElevationAligner","j","createMapSpaceUVCoords","A","createMapSpaceUVCoordsDraped","M","createGeometry","P","geometryToRenderInfo","E","geometryToRenderInfoDraped","L","newDoubleArray","G","doubleSubArray","w","doubleArrayFrom","U","newFloatArray","I","floatSubArray","R","Object3D","V","RenderGeometry","B","VertexAttribute","T","getStipplePatternForLinePattern","F","PatternMaterial","H","RibbonLineMaterial","W","k","z","constructor","_needsUV","_hasOutline","doLoad","_ensureMaterials","_ensureFillMaterial","_ensureOutlineMaterial","_material","symbolLayer","_getCombinedOpacityAndColor","color","transparent","needsDrivenTransparentPass","polygonOffset","hasVertexColors","writeLinearDepth","hasSlicePlane","_context","slicePlaneEnabled","isDraped","draped","stage","add","outline","_outlineMaterial","_isValidOutline","pattern","width","_getOutlineColor","hasPolygonOffset","isClosed","stipplePattern","stippleScaleWithLineWidth","cap","patternCap","size","type","style","destroy","remove","createGraphics3DGraphic","graphic","_validateGeometry","geometry","_getVertexOpacityAndColor","renderingInfo","setGraphicElevationContext","ensureDrapedStatus","mode","_createAsOverlay","_createAs3DShape","layerOpacityChanged","parameters","_getCombinedOpacity","setParameters","_getOutlineOpacity","layerElevationInfoChanged","_elevationContext","elevationModeChangeTypes","UPDATE","updateGraphics3DGraphicElevationInfo","slicePlaneEnabledChanged","physicalBasedRenderingChanged","pixelRatioChanged","skipHighSymbolLodsChanged","elevationProvider","renderCoordsHelper","q","layer","uid","renderData","position","length","uvMapSpace","boundingRect","objectAndLayerIdColor","renderView","getObjectAndLayerIdColor","_createAs3DShapeFill","_createAs3DShapeOutline","_logGeometryCreationWarnings","rings","outGeometries","geometries","castShadow","metadata","layerUid","graphicUid","alignedSampledElevation","sampledElevation","needsElevationUpdates","polygons","mapPositions","holeIndices","index","count","clippingExtent","N","material","indices","attributeData","push","outlines","overlayInfo","removeDuplicateStartEnd","vertexAttributes","POSITION","data","renderPriority","_renderPriority","_renderPriorityStep","overlaySR","J","graphicsCoreOwner","view","state","viewingMode","outBoundingBox","_createAsOverlayFill","_createAsOverlayOutline","drapeSourceRenderer","boundingSphere","Math","sqrt","spatialReference","_getLayerOpacity","toUnitRGB","test","createAsOverlay","createAs3DShape","definedChanged","RECREATE","staysOnTheGround","NONE","onTheGroundChanged","Graphics3DPolygonFillSymbolLayer"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPolygonFillSymbolLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{isSome as t,get as i,isNone as r,unwrap as n}from\"../../../../core/maybe.js\";import{pt2px as o}from\"../../../../core/screenUtils.js\";import{e as s}from\"../../../../chunks/earcut.js\";import{s as a}from\"../../../../chunks/vec4.js\";import{create as l,empty as c,expandWithBuffer as h,intersectsClippingArea as p,expandWithAABB as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{SymbolUpdateType as d,elevationModeChangeUpdateType as m,needsElevationUpdates2D as _}from\"./elevationAlignmentUtils.js\";import{ElevationContext as g}from\"./ElevationContext.js\";import y from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as f}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as b}from\"./Graphics3DSymbolLayer.js\";import{mixinColorAndOpacity as x}from\"./graphicUtils.js\";import{parseCapType as v}from\"./lineUtils.js\";import{geometryAsPolygon as O,createColorGeometry as C,PolygonCreationDataBase as D}from\"./polygonUtils.js\";import{createMaterial as S,uvElevationAligner as j}from\"../support/patternUtils.js\";import{createMapSpaceUVCoords as A,createMapSpaceUVCoordsDraped as M}from\"../support/uvUtils.js\";import{createGeometry as P}from\"../../support/engineContent/line.js\";import{geometryToRenderInfo as E,geometryToRenderInfoDraped as L}from\"../../support/renderInfoUtils/polygon.js\";import{newDoubleArray as G,doubleSubArray as w,doubleArrayFrom as U}from\"../../webgl-engine/lib/DoubleArray.js\";import{newFloatArray as I,floatSubArray as R}from\"../../webgl-engine/lib/FloatArray.js\";import{Object3D as V}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as B}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as T}from\"../../webgl-engine/lib/VertexAttribute.js\";import{getStipplePatternForLinePattern as F}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{PatternMaterial as H}from\"../../webgl-engine/materials/PatternMaterial.js\";import{RibbonLineMaterial as W}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";const k=[\"polyline\",\"polygon\",\"extent\"];class z extends b{constructor(e,t,i,r){super(e,t,i,r),this._needsUV=!1,this._hasOutline=!1}async doLoad(){}_ensureMaterials(){this._ensureFillMaterial(),this._ensureOutlineMaterial()}_ensureFillMaterial(){if(t(this._material))return;const e=i(this.symbolLayer,\"material\",\"color\"),r=this._getCombinedOpacityAndColor(e);this._material=S(this.symbolLayer,{color:r,transparent:r[3]<1||this.needsDrivenTransparentPass,polygonOffset:!1,hasVertexColors:!0,writeLinearDepth:!0,hasSlicePlane:this._context.slicePlaneEnabled},{isDraped:this.draped}),this._needsUV=this._material instanceof H,this._context.stage.add(this._material)}_ensureOutlineMaterial(){const e=this.symbolLayer.outline;if(t(this._outlineMaterial)||!this._isValidOutline(e))return;this._hasOutline=!0;const i=t=>{const i=F(e.pattern);return new W({width:t,color:this._getOutlineColor(),hasPolygonOffset:!0,hasSlicePlane:this._context.slicePlaneEnabled,isClosed:!0,stipplePattern:i,stippleScaleWithLineWidth:!0,cap:v(e.patternCap||\"butt\")})};this._outlineMaterial=i(o(e.size)),this._context.stage.add(this._outlineMaterial)}_isValidOutline(e){return t(e)&&null!=e.size&&e.size>0&&t(e.color)&&(r(e.pattern)||\"style\"!==e.pattern.type||\"none\"!==e.pattern.style)}destroy(){super.destroy(),this._context.stage.remove(this._material),this._material=null,this._context.stage.remove(this._outlineMaterial),this._outlineMaterial=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,k,this.symbolLayer.type))return null;const i=this._getVertexOpacityAndColor(e.renderingInfo,255),r=this.setGraphicElevationContext(t,new g);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this._ensureMaterials(),this.draped?this._createAsOverlay(t,i):this._createAs3DShape(t,i,r)}layerOpacityChanged(){if(t(this._material)){const e=this._material.parameters.color,t=i(this.symbolLayer,\"material\",\"color\"),r=this._getCombinedOpacity(t);this._material.setParameters({color:[e[0],e[1],e[2],r],transparent:r<1||this.needsDrivenTransparentPass})}if(t(this._outlineMaterial)){const e=this._outlineMaterial.parameters.color;this._outlineMaterial.setParameters({color:[e[0],e[1],e[2],this._getOutlineOpacity()]})}}layerElevationInfoChanged(e,t,i){const r=this._elevationContext.mode,n=m(z.elevationModeChangeTypes,i,r);if(n!==d.UPDATE)return n;const o=_(r);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>o))}slicePlaneEnabledChanged(){if(t(this._material)&&this._material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),t(this._outlineMaterial)){const e={hasSlicePlane:this._context.slicePlaneEnabled};this._outlineMaterial.setParameters(e)}return!0}physicalBasedRenderingChanged(){return!0}pixelRatioChanged(){return!0}skipHighSymbolLodsChanged(){return!0}_createAs3DShape(e,t,i){const n=O(e.geometry);if(r(n))return null;const o=E(n,this._context.elevationProvider,this._context.renderCoordsHelper,i),s=new q(o,t,this._context.layer.uid,e.uid),a=s.renderData.position.length/3;if(this._needsUV&&(s.uvMapSpace=I(4*a,!0),s.boundingRect=G(9*a,!0),A(s.uvMapSpace,s.boundingRect,s.renderData.position,this._context.renderCoordsHelper)),s.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(s),this._createAs3DShapeFill(s),this._hasOutline&&this._createAs3DShapeOutline(s),this._logGeometryCreationWarnings(s.renderData,n.rings,\"rings\",\"FillSymbol3DLayer\"),0===s.outGeometries.length)return null;const l=new V({geometries:s.outGeometries,castShadow:!1,metadata:{layerUid:this._context.layer.uid,graphicUid:e.uid}}),c=new f(this,l,s.outGeometries,null,null,j,i);return c.alignedSampledElevation=s.renderData.sampledElevation,c.needsElevationUpdates=_(i.mode),c}_createAs3DShapeFill(e){const i=e.renderData.polygons;for(const{position:r,mapPositions:o,holeIndices:a,index:l,count:u}of i){if(t(this._context.clippingExtent)&&(c(N),h(N,o),!p(N,this._context.clippingExtent)))continue;const i=s(o,a,3);if(0===i.length)continue;const d=C({material:n(this._material),indices:i,mapPositions:o,attributeData:{position:r,color:e.color,uvMapSpace:this._needsUV?R(e.uvMapSpace,4*l,4*u):null,boundingRect:this._needsUV?w(e.boundingRect,9*l,9*u):null,objectAndLayerIdColor:e.objectAndLayerIdColor}});e.outGeometries.push(d)}}_createAs3DShapeOutline(e){if(!this._hasOutline)return;const i=e.renderData.outlines;for(let r=0;r<i.length;++r){const{mapPositions:o,position:s}=i[r];if(t(this._context.clippingExtent)&&(c(N),h(N,o),!p(N,this._context.clippingExtent)))continue;const a=P(n(this._outlineMaterial),{overlayInfo:null,removeDuplicateStartEnd:!0,mapPositions:o,attributeData:{position:s}},e.objectAndLayerIdColor),l=a.vertexAttributes.get(T.POSITION);l.data===s&&(l.data=U(s)),e.outGeometries.push(a)}}_createAsOverlay(e,i){const o=O(e.geometry);if(r(o))return null;n(this._material).renderPriority=this._renderPriority+this._renderPriorityStep/2,t(this._outlineMaterial)&&(this._outlineMaterial.renderPriority=this._renderPriority);const s=L(o,this._context.overlaySR),a=new J(s,i,this._context.layer.uid,e.uid),l=a.renderData.position.length/3;return this._needsUV&&(a.uvMapSpace=I(4*l,!0),M(a.uvMapSpace,a.renderData.position,this._context.overlaySR,this._context.graphicsCoreOwner.view.state.viewingMode)),a.outBoundingBox=c(),a.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(a),this._createAsOverlayFill(a),this._hasOutline&&this._createAsOverlayOutline(a),this._logGeometryCreationWarnings(a.renderData,o.rings,\"rings\",\"FillSymbol3DLayer\"),0===a.outGeometries.length?null:new y(this,a.outGeometries,a.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayFill(e){const t=e.renderData.polygons;for(const{position:i,holeIndices:r,index:o,count:l}of t){const t=c(N);if(h(t,i),!p(t,this._context.clippingExtent))continue;const d=s(i,r,3);if(0===d.length)continue;u(e.outBoundingBox,t);const m=C({material:n(this._material),indices:d,attributeData:{position:i,color:e.color,uvMapSpace:this._needsUV?R(e.uvMapSpace,4*o,4*l):null,objectAndLayerIdColor:e.objectAndLayerIdColor}}),_=new B(m,e);a(_.boundingSphere,.5*(t[0]+t[3]),.5*(t[1]+t[4]),0,.5*Math.sqrt((t[3]-t[0])*(t[3]-t[0])+(t[4]-t[1])*(t[4]-t[1]))),e.outGeometries.push(_)}}_createAsOverlayOutline(e){if(!this._hasOutline)return;const t=e.renderData.outlines;for(let i=0;i<t.length;++i){const{position:r}=t[i];if(c(N),h(N,r),!p(N,this._context.clippingExtent))continue;u(e.outBoundingBox,N);const o=P(n(this._outlineMaterial),{overlayInfo:{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper},removeDuplicateStartEnd:!0,attributeData:{position:r}},e.objectAndLayerIdColor),s=new B(o,e),l=N;a(s.boundingSphere,.5*(l[0]+l[3]),.5*(l[1]+l[4]),0,.5*Math.sqrt((l[3]-l[0])*(l[3]-l[0])+(l[4]-l[1])*(l[4]-l[1]))),e.outGeometries.push(s)}}_getOutlineOpacity(){const e=i(this.symbolLayer,\"outline\",\"color\");return(this.draped?1:this._getLayerOpacity())*(t(e)?e.a:0)}_getOutlineColor(){const r=i(this.symbolLayer,\"outline\",\"color\"),n=this._getOutlineOpacity();return x(t(r)?e.toUnitRGB(r):null,n)}test(){return{...super.test(),createAsOverlay:(e,t)=>this._createAsOverlay(e,t),createAs3DShape:(e,t,i)=>this._createAs3DShape(e,t,i)}}}z.elevationModeChangeTypes={definedChanged:d.RECREATE,staysOnTheGround:d.NONE,onTheGroundChanged:d.RECREATE};const N=l();class q extends D{constructor(e,t,i,r){super(e,i,r),this.color=t}}class J extends D{constructor(e,t,i,r){super(e,i,r),this.color=t}}export{z as Graphics3DPolygonFillSymbolLayer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}