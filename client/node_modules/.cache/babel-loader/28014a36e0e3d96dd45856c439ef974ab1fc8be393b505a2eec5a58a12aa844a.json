{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../Graphic.js\";\nimport { XXH as i } from \"../../../../arcade/functions/hash.js\";\nimport { neverReached as s } from \"../../../../core/compilerUtils.js\";\nimport { HandleOwner as r } from \"../../../../core/HandleOwner.js\";\nimport { destroyMaybe as n, isSome as a, isNone as o, unwrap as l } from \"../../../../core/maybe.js\";\nimport { logOnError as p } from \"../../../../core/promiseUtils.js\";\nimport { watch as u, initial as d, when as h } from \"../../../../core/reactiveUtils.js\";\nimport { property as c } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport { subclass as m } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { diff as y } from \"../../../../core/accessorSupport/diffUtils.js\";\nimport { canProject as g, project as b } from \"../../../../geometry/support/webMercatorUtils.js\";\nimport { matchRandomRotationExpression as f } from \"../../../../renderers/support/randomRotationExpression.js\";\nimport { getRenderingInfo as E, getRenderingInfoAsync as C } from \"../../../../renderers/support/renderingInfoUtils.js\";\nimport x from \"../../../../rest/support/Query.js\";\nimport { DrapeSourceType as v } from \"../interfaces.js\";\nimport { SUSPEND_RESUME_EXTENT_OPTIMISM as w } from \"./constants.js\";\nimport { Graphics3DCore as V } from \"./Graphics3DCore.js\";\nimport j from \"./Graphics3DElevationAlignment.js\";\nimport S from \"./Graphics3DFrustumVisibility.js\";\nimport { Graphics3DObjectStates as R } from \"./Graphics3DObjectStates.js\";\nimport O from \"./Graphics3DScaleVisibility.js\";\nimport { enlargeExtent as I } from \"./graphicUtils.js\";\nimport { attributeLookup as G } from \"../support/attributeUtils.js\";\nimport { FeatureVisibilityFilter as _ } from \"../support/FeatureVisibilityFilter.js\";\nimport { Object3DState as A } from \"../../webgl-engine/lib/basicInterfaces.js\";\nimport { UpdatePolicy as P } from \"../../webgl-engine/lib/UpdatePolicy.js\";\nlet U = class extends r {\n  constructor(e) {\n    super(e), this.type = \"graphics-3d\", this._randomRotationRenderers = null, this.elevationFeatureExpressionEnabled = !1, this.scaleVisibilityEnabled = !1, this.filterVisibilityEnabled = !1, this.frustumVisibilityEnabled = !1, this.elevationAlignmentEnabled = !1, this.timeExtentEnabled = !1, this.setUidToIdOnAdd = !0, this.dataExtent = null, this.drapeSourceType = v.Features, this.preferredUpdatePolicy = P.ASYNC, this._suspendResumeExtent = null;\n  }\n  initialize() {\n    const e = this.owner,\n      t = (this.filterVisibilityEnabled || this.timeExtentEnabled) && \"multipatch\" !== e.layer.geometryType,\n      i = new V({\n        owner: this,\n        layer: this.layer,\n        preferredUpdatePolicy: this.preferredUpdatePolicy,\n        elevationFeatureExpressionEnabled: this.elevationFeatureExpressionEnabled,\n        graphicSymbolSupported: !1,\n        hasZ: e.hasZ,\n        hasM: e.hasM,\n        setUidToIdOnAdd: this.setUidToIdOnAdd,\n        componentFactories: {\n          deconflictor: t => e.view.deconflictor.addGraphicsOwner(t),\n          labeler: (t, i) => e.view.labeler.addGraphicsOwner(t, i),\n          elevationAlignment: this.elevationAlignmentEnabled ? (t, i) => new j({\n            graphicsCoreOwner: this,\n            graphicsCore: t,\n            queryGraphicUIDsInExtent: i,\n            elevationProvider: e.view.elevationProvider\n          }) : null,\n          scaleVisibility: this.scaleVisibilityEnabled ? (t, i) => new O({\n            graphicsCoreOwner: this,\n            layer: this.layer,\n            queryGraphicUIDsInExtent: i,\n            graphicsCore: t,\n            basemapTerrain: e.view.basemapTerrain\n          }) : null,\n          filterVisibility: t ? t => new _({\n            context: {\n              layerView: e,\n              ...t\n            }\n          }) : null,\n          objectStates: e => new R(e)\n        }\n      });\n    this._set(\"graphicsCore\", i), this.frustumVisibilityEnabled && this._set(\"frustumVisibility\", new S({\n      graphicsCoreOwner: this\n    })), this.elevationAlignment && this.updatingHandles.add(() => this.layer.elevationInfo, (e, t) => {\n      y(e, t) && this.updatingHandles.addPromise(this.graphicsCore.elevationInfoChange());\n    }), this.updatingHandles.add(() => this.layer.labelsVisible, () => this.graphicsCore.updateVisibilityInfo()), this.updatingHandles.add(() => this.layer.labelingInfo, (e, t) => {\n      y(e, t) && this.graphicsCore.updateLabelingInfo();\n    }), this.updatingHandles.add(() => this.preferredUpdatePolicy, e => this.graphicsCore.preferredUpdatePolicy = e), this._set(\"initializePromise\", this._initializeAsync()), this.updatingHandles.addPromise(this.initializePromise);\n  }\n  async _initializeAsync() {\n    await p(this.graphicsCore.initializePromise);\n    const e = this.owner;\n    this.updatingHandles.add(() => this.renderer, e => this.updatingHandles.addPromise(this.graphicsCore.rendererChange(e))), this.updatingHandles.add(() => e.fullOpacity, () => this.graphicsCore.opacityChange()), this._setupSuspendResumeExtent(), this.updateClippingExtent && (this.updatingHandles.add(() => e.view.clippingArea, () => this._updateClippingExtent()), this._updateClippingExtent()), this.graphicsCore.startCreateGraphics(), this.graphicsCore.labelsEnabled && (await p(this.graphicsCore.updateLabelingInfo()));\n  }\n  destroy() {\n    this.handles.removeAll(), this.updatingHandles.removeAll(), this._set(\"frustumVisibility\", n(this.frustumVisibility)), this._set(\"graphicsCore\", n(this.graphicsCore)), this._set(\"owner\", null);\n  }\n  get layer() {\n    return this.owner.layer;\n  }\n  get renderer() {\n    const {\n      renderer: e,\n      objectIdField: t\n    } = this.layer;\n    if (!e || !t || \"heatmap\" === e.type || !e.visualVariables) return e;\n    const i = e.visualVariables.findIndex(e => \"rotation\" === e.type && null != e.valueExpression && f(e.valueExpression) === t && (null == e.axis || \"heading\" === e.axis) && \"geographic\" === e.rotationType);\n    if (i < 0) return e;\n    const s = e.clone();\n    return s.visualVariables.splice(i, 1), this._randomRotationRenderers || (this._randomRotationRenderers = new WeakMap()), this._randomRotationRenderers.set(s, t), s;\n  }\n  get scaleVisibility() {\n    return this.graphicsCore?.scaleVisibility;\n  }\n  get filterVisibility() {\n    return this.graphicsCore?.filterVisibility;\n  }\n  get elevationAlignment() {\n    return this.graphicsCore?.elevationAlignment;\n  }\n  get objectStates() {\n    return this.graphicsCore?.objectStates;\n  }\n  get suspendResumeExtentMode() {\n    return \"suspendResumeExtentMode\" in this.owner ? this.owner.suspendResumeExtentMode : \"computed\";\n  }\n  get scaleVisibilitySuspended() {\n    return a(this.scaleVisibility) && this.scaleVisibility.suspended;\n  }\n  get suspended() {\n    return this.owner.suspended;\n  }\n  get legendEnabled() {\n    return o(this.frustumVisibility) || !this.frustumVisibility.suspended;\n  }\n  get suspendInfo() {\n    const e = {};\n    return this.scaleVisibilitySuspended && (e.outsideScaleRange = !0), a(this.frustumVisibility) && this.frustumVisibility.suspended && (e.outsideOfView = !0), e;\n  }\n  get updating() {\n    return !!(this.graphicsCore?.updating || a(this.frustumVisibility) && this.frustumVisibility.updating || this.updatingHandles?.updating);\n  }\n  get updatingRemaining() {\n    return this.graphicsCore?.updatingRemaining ?? 0;\n  }\n  get featureStore() {\n    return this.graphicsCore?.featureStore;\n  }\n  get view() {\n    return this.owner.view;\n  }\n  get loadedGraphics() {\n    return this.owner.loadedGraphics;\n  }\n  get fullOpacity() {\n    return this.owner?.fullOpacity;\n  }\n  get filter() {\n    return \"filter\" in this.owner ? this.owner.filter : null;\n  }\n  get slicePlaneEnabled() {\n    return this.owner.slicePlaneEnabled;\n  }\n  get updatePolicy() {\n    return this.owner.updatePolicy;\n  }\n  get featureSpatialReference() {\n    return \"featureSpatialReference\" in this.owner ? this.owner.featureSpatialReference : this.owner.view.spatialReference;\n  }\n  get graphics3DGraphics() {\n    return this.graphicsCore?.graphics3DGraphics;\n  }\n  get graphics3DGraphicsByObjectID() {\n    return this.graphicsCore?.graphics3DGraphicsByObjectID;\n  }\n  get symbolUpdateType() {\n    return this.graphicsCore?.symbolUpdateType;\n  }\n  get displayFeatureLimit() {\n    const e = this.view.resourceController.memoryController.memoryFactor,\n      t = this.graphicsCore?.displayFeatureLimit;\n    if (1 === e) return t;\n    const i = Math.ceil(t.maximumNumberOfFeatures * e),\n      s = Math.ceil(t.maximumTotalNumberOfFeatures * e),\n      r = Math.ceil(t.minimumTotalNumberOfFeatures * e);\n    return {\n      ...t,\n      maximumNumberOfFeatures: i,\n      maximumTotalNumberOfFeatures: s,\n      minimumTotalNumberOfFeatures: r\n    };\n  }\n  get usedMemory() {\n    return this.graphicsCore?.usedMemory ?? 0;\n  }\n  get loadedFeatures() {\n    return this.graphicsCore?.numberOfGraphics ?? 0;\n  }\n  get usedMemoryPerFeature() {\n    return this.graphicsCore?.usedMemoryPerGraphic ?? 0;\n  }\n  get unprocessedMemoryEstimate() {\n    return this.graphicsCore?.unprocessedMemoryEstimate ?? 0;\n  }\n  get performanceInfo() {\n    return {\n      core: this.graphicsCore.performanceInfo,\n      elevationUpdating: this.elevationAlignment.updating,\n      visibilityFrustum: o(this.frustumVisibility) || !this.frustumVisibility.suspended,\n      visibilityScale: !this.scaleVisibilitySuspended\n    };\n  }\n  maskOccludee(e) {\n    const {\n      set: t,\n      handle: i\n    } = this.objectStates.acquireSet(A.MaskOccludee, null);\n    return this.objectStates.setUid(t, e.uid), i;\n  }\n  highlight(e, i) {\n    if (e instanceof x) {\n      const {\n        set: t,\n        handle: s\n      } = this.objectStates.acquireSet(A.Highlight, i);\n      return this.owner.queryObjectIds(e).then(e => this.objectStates.setObjectIds(t, e)), s;\n    }\n    if (\"number\" == typeof e || \"string\" == typeof e) return this.highlight([e], i);\n    if (e instanceof t) return this.highlight([e], i);\n    if (\"toArray\" in e && (e = e.toArray()), Array.isArray(e) && e.length > 0) {\n      if (e[0] instanceof t) {\n        const t = e;\n        if (null == G(this.layer.fieldsIndex, t[0].attributes, i)) {\n          const e = t.map(e => e.uid),\n            {\n              set: i,\n              handle: s\n            } = this.objectStates.acquireSet(A.Highlight, null);\n          return this.objectStates.setUids(i, e), s;\n        }\n        e = t.map(e => G(this.layer.fieldsIndex, e.attributes, i));\n      }\n      if (\"number\" == typeof e[0] || \"string\" == typeof e[0]) {\n        const t = e,\n          {\n            set: s,\n            handle: r\n          } = this.objectStates.acquireSet(A.Highlight, i);\n        return this.objectStates.setObjectIds(s, t), r;\n      }\n    }\n    return T;\n  }\n  resetObjectStates() {\n    this.objectStates.reset();\n  }\n  whenGraphicBounds(e, t) {\n    return this.graphicsCore?.whenGraphicBounds(e, t);\n  }\n  computeAttachmentOrigin(e, t) {\n    return this.graphicsCore?.computeAttachmentOrigin(e, t);\n  }\n  notifyGraphicGeometryChanged(e) {\n    this.graphicsCore.notifyGraphicGeometryChanged(e);\n  }\n  notifyGraphicVisibilityChanged(e) {\n    this.graphicsCore.notifyGraphicVisibilityChanged(e);\n  }\n  getRenderingInfo(e, t, s) {\n    const r = E(e, {\n      renderer: t,\n      arcade: s\n    });\n    if (a(r) && r.color) {\n      const e = r.color;\n      e[0] = e[0] / 255, e[1] = e[1] / 255, e[2] = e[2] / 255;\n    }\n    if (a(r) && a(t) && this._randomRotationRenderers?.has(t)) {\n      const s = this._randomRotationRenderers.get(t),\n        n = e.attributes[s],\n        a = new i(0);\n      a.updateFloatArray([n]), a.updateUint8Array([173]), r.heading = 8.381e-8 * a.digest();\n    }\n    return r;\n  }\n  getRenderingInfoAsync(e, t, i, s) {\n    return C(e, {\n      renderer: t,\n      arcade: i,\n      ...s\n    });\n  }\n  getSymbolLayerSize(e, t) {\n    return this.graphicsCore?.getSymbolLayerSize(e, t);\n  }\n  setObjectIdVisibility(e, t) {\n    this.graphicsCore?.setObjectIdVisibility(e, t);\n  }\n  refreshFilter() {\n    a(this.filterVisibility) && this.filterVisibility.reapply();\n  }\n  getGraphics3DGraphicByObjectId(e) {\n    return this.graphicsCore?.getGraphics3DGraphicByObjectId(e);\n  }\n  _updateClippingExtent() {\n    const e = this.owner.view.clippingArea;\n    this.graphicsCore.setClippingExtent(e, this.owner.view.spatialReference) && (this.updateClippingExtent(e) || this.graphicsCore.recreateAllGraphics());\n  }\n  _setupSuspendResumeExtent() {\n    (this.frustumVisibility || this.scaleVisibility) && this.handles.add(u(() => this.suspendResumeExtentMode, () => {\n      switch (this.handles.remove(M), this.suspendResumeExtentMode) {\n        case \"computed\":\n          this.handles.add([u(() => this.graphicsCore.computedExtent, e => this._updateSuspendResumeExtent(e), d), u(() => this.graphicsCore.extentPadding, () => this._updateSuspendResumeExtent(this.graphicsCore.computedExtent))], M);\n          break;\n        case \"data\":\n          this.handles.add([h(() => this.dataExtent, e => this._updateSuspendResumeExtent(e), d), u(() => this.graphicsCore.extentPadding, () => this._updateSuspendResumeExtent(l(this.dataExtent)))], M);\n          break;\n        default:\n          s(this.suspendResumeExtentMode);\n      }\n    }, d));\n  }\n  _updateSuspendResumeExtent(e) {\n    e ? this._suspendResumeExtentChanged(this._extentToSuspendResumeRect(e, this._suspendResumeExtent)) : this._suspendResumeExtentChanged(null);\n  }\n  _extentToSuspendResumeRect(e, t) {\n    const i = this.owner.view.spatialReference;\n    if (!e.spatialReference.equals(i)) {\n      if (!g(e, i)) return;\n      e = b(e, i);\n    }\n    return I(e, t, w, this.graphicsCore.extentPadding);\n  }\n  _suspendResumeExtentChanged(e) {\n    a(this.frustumVisibility) && this.frustumVisibility.setExtent(e), a(this.scaleVisibility) && this.scaleVisibility.setExtent(e);\n  }\n};\ne([c()], U.prototype, \"type\", void 0), e([c({\n  constructOnly: !0\n})], U.prototype, \"owner\", void 0), e([c()], U.prototype, \"layer\", null), e([c()], U.prototype, \"renderer\", null), e([c({\n  constructOnly: !0\n})], U.prototype, \"updateClippingExtent\", void 0), e([c({\n  constructOnly: !0\n})], U.prototype, \"elevationFeatureExpressionEnabled\", void 0), e([c({\n  constructOnly: !0\n})], U.prototype, \"graphicsCore\", void 0), e([c({\n  constructOnly: !0\n})], U.prototype, \"scaleVisibilityEnabled\", void 0), e([c({\n  constructOnly: !0\n})], U.prototype, \"filterVisibilityEnabled\", void 0), e([c({\n  constructOnly: !0\n})], U.prototype, \"frustumVisibilityEnabled\", void 0), e([c({\n  constructOnly: !0\n})], U.prototype, \"elevationAlignmentEnabled\", void 0), e([c({\n  constructOnly: !0\n})], U.prototype, \"timeExtentEnabled\", void 0), e([c({\n  constructOnly: !0\n})], U.prototype, \"setUidToIdOnAdd\", void 0), e([c()], U.prototype, \"scaleVisibility\", null), e([c()], U.prototype, \"filterVisibility\", null), e([c()], U.prototype, \"elevationAlignment\", null), e([c({\n  constructOnly: !0\n})], U.prototype, \"frustumVisibility\", void 0), e([c()], U.prototype, \"objectStates\", null), e([c()], U.prototype, \"initializePromise\", void 0), e([c()], U.prototype, \"suspendResumeExtentMode\", null), e([c()], U.prototype, \"dataExtent\", void 0), e([c()], U.prototype, \"scaleVisibilitySuspended\", null), e([c()], U.prototype, \"suspended\", null), e([c()], U.prototype, \"legendEnabled\", null), e([c()], U.prototype, \"suspendInfo\", null), e([c()], U.prototype, \"updating\", null), e([c()], U.prototype, \"updatingRemaining\", null), e([c()], U.prototype, \"featureStore\", null), e([c()], U.prototype, \"view\", null), e([c()], U.prototype, \"loadedGraphics\", null), e([c()], U.prototype, \"fullOpacity\", null), e([c()], U.prototype, \"filter\", null), e([c()], U.prototype, \"slicePlaneEnabled\", null), e([c()], U.prototype, \"drapeSourceType\", void 0), e([c()], U.prototype, \"updatePolicy\", null), e([c()], U.prototype, \"preferredUpdatePolicy\", void 0), e([c()], U.prototype, \"displayFeatureLimit\", null), U = e([m(\"esri.views.3d.layers.graphics.Graphics3DFeatureProcessor\")], U);\nconst F = U,\n  M = \"suspendResumeExtentMode\",\n  T = {\n    remove() {},\n    pause() {},\n    resume() {}\n  };\nexport { F as default };","map":{"version":3,"names":["_","e","t","XXH","i","neverReached","s","HandleOwner","r","destroyMaybe","n","isSome","a","isNone","o","unwrap","l","logOnError","p","watch","u","initial","d","when","h","property","c","subclass","m","diff","y","canProject","g","project","b","matchRandomRotationExpression","f","getRenderingInfo","E","getRenderingInfoAsync","C","x","DrapeSourceType","v","SUSPEND_RESUME_EXTENT_OPTIMISM","w","Graphics3DCore","V","j","S","Graphics3DObjectStates","R","O","enlargeExtent","I","attributeLookup","G","FeatureVisibilityFilter","Object3DState","A","UpdatePolicy","P","U","constructor","type","_randomRotationRenderers","elevationFeatureExpressionEnabled","scaleVisibilityEnabled","filterVisibilityEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","timeExtentEnabled","setUidToIdOnAdd","dataExtent","drapeSourceType","Features","preferredUpdatePolicy","ASYNC","_suspendResumeExtent","initialize","owner","layer","geometryType","graphicSymbolSupported","hasZ","hasM","componentFactories","deconflictor","view","addGraphicsOwner","labeler","elevationAlignment","graphicsCoreOwner","graphicsCore","queryGraphicUIDsInExtent","elevationProvider","scaleVisibility","basemapTerrain","filterVisibility","context","layerView","objectStates","_set","updatingHandles","add","elevationInfo","addPromise","elevationInfoChange","labelsVisible","updateVisibilityInfo","labelingInfo","updateLabelingInfo","_initializeAsync","initializePromise","renderer","rendererChange","fullOpacity","opacityChange","_setupSuspendResumeExtent","updateClippingExtent","clippingArea","_updateClippingExtent","startCreateGraphics","labelsEnabled","destroy","handles","removeAll","frustumVisibility","objectIdField","visualVariables","findIndex","valueExpression","axis","rotationType","clone","splice","WeakMap","set","suspendResumeExtentMode","scaleVisibilitySuspended","suspended","legendEnabled","suspendInfo","outsideScaleRange","outsideOfView","updating","updatingRemaining","featureStore","loadedGraphics","filter","slicePlaneEnabled","updatePolicy","featureSpatialReference","spatialReference","graphics3DGraphics","graphics3DGraphicsByObjectID","symbolUpdateType","displayFeatureLimit","resourceController","memoryController","memoryFactor","Math","ceil","maximumNumberOfFeatures","maximumTotalNumberOfFeatures","minimumTotalNumberOfFeatures","usedMemory","loadedFeatures","numberOfGraphics","usedMemoryPerFeature","usedMemoryPerGraphic","unprocessedMemoryEstimate","performanceInfo","core","elevationUpdating","visibilityFrustum","visibilityScale","maskOccludee","handle","acquireSet","MaskOccludee","setUid","uid","highlight","Highlight","queryObjectIds","then","setObjectIds","toArray","Array","isArray","length","fieldsIndex","attributes","map","setUids","T","resetObjectStates","reset","whenGraphicBounds","computeAttachmentOrigin","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","arcade","color","has","get","updateFloatArray","updateUint8Array","heading","digest","getSymbolLayerSize","setObjectIdVisibility","refreshFilter","reapply","getGraphics3DGraphicByObjectId","setClippingExtent","recreateAllGraphics","remove","M","computedExtent","_updateSuspendResumeExtent","extentPadding","_suspendResumeExtentChanged","_extentToSuspendResumeRect","equals","setExtent","prototype","constructOnly","F","pause","resume","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import{XXH as i}from\"../../../../arcade/functions/hash.js\";import{neverReached as s}from\"../../../../core/compilerUtils.js\";import{HandleOwner as r}from\"../../../../core/HandleOwner.js\";import{destroyMaybe as n,isSome as a,isNone as o,unwrap as l}from\"../../../../core/maybe.js\";import{logOnError as p}from\"../../../../core/promiseUtils.js\";import{watch as u,initial as d,when as h}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as y}from\"../../../../core/accessorSupport/diffUtils.js\";import{canProject as g,project as b}from\"../../../../geometry/support/webMercatorUtils.js\";import{matchRandomRotationExpression as f}from\"../../../../renderers/support/randomRotationExpression.js\";import{getRenderingInfo as E,getRenderingInfoAsync as C}from\"../../../../renderers/support/renderingInfoUtils.js\";import x from\"../../../../rest/support/Query.js\";import{DrapeSourceType as v}from\"../interfaces.js\";import{SUSPEND_RESUME_EXTENT_OPTIMISM as w}from\"./constants.js\";import{Graphics3DCore as V}from\"./Graphics3DCore.js\";import j from\"./Graphics3DElevationAlignment.js\";import S from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as R}from\"./Graphics3DObjectStates.js\";import O from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as I}from\"./graphicUtils.js\";import{attributeLookup as G}from\"../support/attributeUtils.js\";import{FeatureVisibilityFilter as _}from\"../support/FeatureVisibilityFilter.js\";import{Object3DState as A}from\"../../webgl-engine/lib/basicInterfaces.js\";import{UpdatePolicy as P}from\"../../webgl-engine/lib/UpdatePolicy.js\";let U=class extends r{constructor(e){super(e),this.type=\"graphics-3d\",this._randomRotationRenderers=null,this.elevationFeatureExpressionEnabled=!1,this.scaleVisibilityEnabled=!1,this.filterVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this.elevationAlignmentEnabled=!1,this.timeExtentEnabled=!1,this.setUidToIdOnAdd=!0,this.dataExtent=null,this.drapeSourceType=v.Features,this.preferredUpdatePolicy=P.ASYNC,this._suspendResumeExtent=null}initialize(){const e=this.owner,t=(this.filterVisibilityEnabled||this.timeExtentEnabled)&&\"multipatch\"!==e.layer.geometryType,i=new V({owner:this,layer:this.layer,preferredUpdatePolicy:this.preferredUpdatePolicy,elevationFeatureExpressionEnabled:this.elevationFeatureExpressionEnabled,graphicSymbolSupported:!1,hasZ:e.hasZ,hasM:e.hasM,setUidToIdOnAdd:this.setUidToIdOnAdd,componentFactories:{deconflictor:t=>e.view.deconflictor.addGraphicsOwner(t),labeler:(t,i)=>e.view.labeler.addGraphicsOwner(t,i),elevationAlignment:this.elevationAlignmentEnabled?(t,i)=>new j({graphicsCoreOwner:this,graphicsCore:t,queryGraphicUIDsInExtent:i,elevationProvider:e.view.elevationProvider}):null,scaleVisibility:this.scaleVisibilityEnabled?(t,i)=>new O({graphicsCoreOwner:this,layer:this.layer,queryGraphicUIDsInExtent:i,graphicsCore:t,basemapTerrain:e.view.basemapTerrain}):null,filterVisibility:t?t=>new _({context:{layerView:e,...t}}):null,objectStates:e=>new R(e)}});this._set(\"graphicsCore\",i),this.frustumVisibilityEnabled&&this._set(\"frustumVisibility\",new S({graphicsCoreOwner:this})),this.elevationAlignment&&this.updatingHandles.add((()=>this.layer.elevationInfo),((e,t)=>{y(e,t)&&this.updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})),this.updatingHandles.add((()=>this.layer.labelsVisible),(()=>this.graphicsCore.updateVisibilityInfo())),this.updatingHandles.add((()=>this.layer.labelingInfo),((e,t)=>{y(e,t)&&this.graphicsCore.updateLabelingInfo()})),this.updatingHandles.add((()=>this.preferredUpdatePolicy),(e=>this.graphicsCore.preferredUpdatePolicy=e)),this._set(\"initializePromise\",this._initializeAsync()),this.updatingHandles.addPromise(this.initializePromise)}async _initializeAsync(){await p(this.graphicsCore.initializePromise);const e=this.owner;this.updatingHandles.add((()=>this.renderer),(e=>this.updatingHandles.addPromise(this.graphicsCore.rendererChange(e)))),this.updatingHandles.add((()=>e.fullOpacity),(()=>this.graphicsCore.opacityChange())),this._setupSuspendResumeExtent(),this.updateClippingExtent&&(this.updatingHandles.add((()=>e.view.clippingArea),(()=>this._updateClippingExtent())),this._updateClippingExtent()),this.graphicsCore.startCreateGraphics(),this.graphicsCore.labelsEnabled&&await p(this.graphicsCore.updateLabelingInfo())}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set(\"frustumVisibility\",n(this.frustumVisibility)),this._set(\"graphicsCore\",n(this.graphicsCore)),this._set(\"owner\",null)}get layer(){return this.owner.layer}get renderer(){const{renderer:e,objectIdField:t}=this.layer;if(!e||!t||\"heatmap\"===e.type||!e.visualVariables)return e;const i=e.visualVariables.findIndex((e=>\"rotation\"===e.type&&null!=e.valueExpression&&f(e.valueExpression)===t&&(null==e.axis||\"heading\"===e.axis)&&\"geographic\"===e.rotationType));if(i<0)return e;const s=e.clone();return s.visualVariables.splice(i,1),this._randomRotationRenderers||(this._randomRotationRenderers=new WeakMap),this._randomRotationRenderers.set(s,t),s}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get filterVisibility(){return this.graphicsCore?.filterVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get objectStates(){return this.graphicsCore?.objectStates}get suspendResumeExtentMode(){return\"suspendResumeExtentMode\"in this.owner?this.owner.suspendResumeExtentMode:\"computed\"}get scaleVisibilitySuspended(){return a(this.scaleVisibility)&&this.scaleVisibility.suspended}get suspended(){return this.owner.suspended}get legendEnabled(){return o(this.frustumVisibility)||!this.frustumVisibility.suspended}get suspendInfo(){const e={};return this.scaleVisibilitySuspended&&(e.outsideScaleRange=!0),a(this.frustumVisibility)&&this.frustumVisibility.suspended&&(e.outsideOfView=!0),e}get updating(){return!!(this.graphicsCore?.updating||a(this.frustumVisibility)&&this.frustumVisibility.updating||this.updatingHandles?.updating)}get updatingRemaining(){return this.graphicsCore?.updatingRemaining??0}get featureStore(){return this.graphicsCore?.featureStore}get view(){return this.owner.view}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner?.fullOpacity}get filter(){return\"filter\"in this.owner?this.owner.filter:null}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}get featureSpatialReference(){return\"featureSpatialReference\"in this.owner?this.owner.featureSpatialReference:this.owner.view.spatialReference}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get symbolUpdateType(){return this.graphicsCore?.symbolUpdateType}get displayFeatureLimit(){const e=this.view.resourceController.memoryController.memoryFactor,t=this.graphicsCore?.displayFeatureLimit;if(1===e)return t;const i=Math.ceil(t.maximumNumberOfFeatures*e),s=Math.ceil(t.maximumTotalNumberOfFeatures*e),r=Math.ceil(t.minimumTotalNumberOfFeatures*e);return{...t,maximumNumberOfFeatures:i,maximumTotalNumberOfFeatures:s,minimumTotalNumberOfFeatures:r}}get usedMemory(){return this.graphicsCore?.usedMemory??0}get loadedFeatures(){return this.graphicsCore?.numberOfGraphics??0}get usedMemoryPerFeature(){return this.graphicsCore?.usedMemoryPerGraphic??0}get unprocessedMemoryEstimate(){return this.graphicsCore?.unprocessedMemoryEstimate??0}get performanceInfo(){return{core:this.graphicsCore.performanceInfo,elevationUpdating:this.elevationAlignment.updating,visibilityFrustum:o(this.frustumVisibility)||!this.frustumVisibility.suspended,visibilityScale:!this.scaleVisibilitySuspended}}maskOccludee(e){const{set:t,handle:i}=this.objectStates.acquireSet(A.MaskOccludee,null);return this.objectStates.setUid(t,e.uid),i}highlight(e,i){if(e instanceof x){const{set:t,handle:s}=this.objectStates.acquireSet(A.Highlight,i);return this.owner.queryObjectIds(e).then((e=>this.objectStates.setObjectIds(t,e))),s}if(\"number\"==typeof e||\"string\"==typeof e)return this.highlight([e],i);if(e instanceof t)return this.highlight([e],i);if(\"toArray\"in e&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof t){const t=e;if(null==G(this.layer.fieldsIndex,t[0].attributes,i)){const e=t.map((e=>e.uid)),{set:i,handle:s}=this.objectStates.acquireSet(A.Highlight,null);return this.objectStates.setUids(i,e),s}e=t.map((e=>G(this.layer.fieldsIndex,e.attributes,i)))}if(\"number\"==typeof e[0]||\"string\"==typeof e[0]){const t=e,{set:s,handle:r}=this.objectStates.acquireSet(A.Highlight,i);return this.objectStates.setObjectIds(s,t),r}}return T}resetObjectStates(){this.objectStates.reset()}whenGraphicBounds(e,t){return this.graphicsCore?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphicsCore?.computeAttachmentOrigin(e,t)}notifyGraphicGeometryChanged(e){this.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphicsCore.notifyGraphicVisibilityChanged(e)}getRenderingInfo(e,t,s){const r=E(e,{renderer:t,arcade:s});if(a(r)&&r.color){const e=r.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}if(a(r)&&a(t)&&this._randomRotationRenderers?.has(t)){const s=this._randomRotationRenderers.get(t),n=e.attributes[s],a=new i(0);a.updateFloatArray([n]),a.updateUint8Array([173]),r.heading=8.381e-8*a.digest()}return r}getRenderingInfoAsync(e,t,i,s){return C(e,{renderer:t,arcade:i,...s})}getSymbolLayerSize(e,t){return this.graphicsCore?.getSymbolLayerSize(e,t)}setObjectIdVisibility(e,t){this.graphicsCore?.setObjectIdVisibility(e,t)}refreshFilter(){a(this.filterVisibility)&&this.filterVisibility.reapply()}getGraphics3DGraphicByObjectId(e){return this.graphicsCore?.getGraphics3DGraphicByObjectId(e)}_updateClippingExtent(){const e=this.owner.view.clippingArea;this.graphicsCore.setClippingExtent(e,this.owner.view.spatialReference)&&(this.updateClippingExtent(e)||this.graphicsCore.recreateAllGraphics())}_setupSuspendResumeExtent(){(this.frustumVisibility||this.scaleVisibility)&&this.handles.add(u((()=>this.suspendResumeExtentMode),(()=>{switch(this.handles.remove(M),this.suspendResumeExtentMode){case\"computed\":this.handles.add([u((()=>this.graphicsCore.computedExtent),(e=>this._updateSuspendResumeExtent(e)),d),u((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.graphicsCore.computedExtent)))],M);break;case\"data\":this.handles.add([h((()=>this.dataExtent),(e=>this._updateSuspendResumeExtent(e)),d),u((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(l(this.dataExtent))))],M);break;default:s(this.suspendResumeExtentMode)}}),d))}_updateSuspendResumeExtent(e){e?this._suspendResumeExtentChanged(this._extentToSuspendResumeRect(e,this._suspendResumeExtent)):this._suspendResumeExtentChanged(null)}_extentToSuspendResumeRect(e,t){const i=this.owner.view.spatialReference;if(!e.spatialReference.equals(i)){if(!g(e,i))return;e=b(e,i)}return I(e,t,w,this.graphicsCore.extentPadding)}_suspendResumeExtentChanged(e){a(this.frustumVisibility)&&this.frustumVisibility.setExtent(e),a(this.scaleVisibility)&&this.scaleVisibility.setExtent(e)}};e([c()],U.prototype,\"type\",void 0),e([c({constructOnly:!0})],U.prototype,\"owner\",void 0),e([c()],U.prototype,\"layer\",null),e([c()],U.prototype,\"renderer\",null),e([c({constructOnly:!0})],U.prototype,\"updateClippingExtent\",void 0),e([c({constructOnly:!0})],U.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"graphicsCore\",void 0),e([c({constructOnly:!0})],U.prototype,\"scaleVisibilityEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"filterVisibilityEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"frustumVisibilityEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"elevationAlignmentEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"timeExtentEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"setUidToIdOnAdd\",void 0),e([c()],U.prototype,\"scaleVisibility\",null),e([c()],U.prototype,\"filterVisibility\",null),e([c()],U.prototype,\"elevationAlignment\",null),e([c({constructOnly:!0})],U.prototype,\"frustumVisibility\",void 0),e([c()],U.prototype,\"objectStates\",null),e([c()],U.prototype,\"initializePromise\",void 0),e([c()],U.prototype,\"suspendResumeExtentMode\",null),e([c()],U.prototype,\"dataExtent\",void 0),e([c()],U.prototype,\"scaleVisibilitySuspended\",null),e([c()],U.prototype,\"suspended\",null),e([c()],U.prototype,\"legendEnabled\",null),e([c()],U.prototype,\"suspendInfo\",null),e([c()],U.prototype,\"updating\",null),e([c()],U.prototype,\"updatingRemaining\",null),e([c()],U.prototype,\"featureStore\",null),e([c()],U.prototype,\"view\",null),e([c()],U.prototype,\"loadedGraphics\",null),e([c()],U.prototype,\"fullOpacity\",null),e([c()],U.prototype,\"filter\",null),e([c()],U.prototype,\"slicePlaneEnabled\",null),e([c()],U.prototype,\"drapeSourceType\",void 0),e([c()],U.prototype,\"updatePolicy\",null),e([c()],U.prototype,\"preferredUpdatePolicy\",void 0),e([c()],U.prototype,\"displayFeatureLimit\",null),U=e([m(\"esri.views.3d.layers.graphics.Graphics3DFeatureProcessor\")],U);const F=U,M=\"suspendResumeExtentMode\",T={remove(){},pause(){},resume(){}};export{F as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}