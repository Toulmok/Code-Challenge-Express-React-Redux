{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"./Analysis.js\";\nimport r from \"./LineOfSightAnalysisObserver.js\";\nimport o from \"./LineOfSightAnalysisTarget.js\";\nimport s from \"../core/Collection.js\";\nimport { referenceSetter as i, castForReferenceSetter as n } from \"../core/collectionUtils.js\";\nimport { isNone as p, isSome as l, applySome as a, unwrap as c } from \"../core/maybe.js\";\nimport { watch as m, syncAndInitial as u } from \"../core/reactiveUtils.js\";\nimport { property as g } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport \"../core/arrayUtils.js\";\nimport { subclass as y } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { projectOrLoad as f } from \"../geometry/projection.js\";\nimport { fromValues as h, expandWithVec3 as d, toExtent as v } from \"../geometry/support/aaBoundingBox.js\";\nimport { getGeometryEffectiveElevationMode as j } from \"../support/elevationInfoUtils.js\";\nvar b = s.ofType(o);\nvar x = /*#__PURE__*/function (_t) {\n  _inherits(x, _t);\n  var _super = _createSuper(x);\n  function x(e) {\n    var _this;\n    _classCallCheck(this, x);\n    _this = _super.call(this, e), _this.type = \"line-of-sight\", _this.observer = null, _this.extent = null;\n    return _this;\n  }\n  _createClass(x, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n      this.addHandles(m(function () {\n        return _this2._computeExtent();\n      }, function (e) {\n        (p(e) || p(e.pending)) && _this2._set(\"extent\", l(e) ? e.extent : null);\n      }, u));\n    }\n  }, {\n    key: \"targets\",\n    get: function get() {\n      return this._get(\"targets\") || new b();\n    },\n    set: function set(e) {\n      this._set(\"targets\", i(e, this.targets, b));\n    }\n  }, {\n    key: \"spatialReference\",\n    get: function get() {\n      return l(this.observer) && l(this.observer.position) ? this.observer.position.spatialReference : null;\n    }\n  }, {\n    key: \"requiredPropertiesForEditing\",\n    get: function get() {\n      return [a(this.observer, function (e) {\n        return e.position;\n      })];\n    }\n  }, {\n    key: \"waitComputeExtent\",\n    value: function () {\n      var _waitComputeExtent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var e;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              e = this._computeExtent();\n              return _context.abrupt(\"return\", l(e) ? c(e.pending) : Promise.resolve());\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function waitComputeExtent() {\n        return _waitComputeExtent.apply(this, arguments);\n      }\n      return waitComputeExtent;\n    }()\n  }, {\n    key: \"_computeExtent\",\n    value: function _computeExtent() {\n      var e = this.spatialReference;\n      if (p(this.observer) || p(this.observer.position) || p(e)) return null;\n      var t = function t(e) {\n          return \"absolute-height\" === j(e.position, e.elevationInfo);\n        },\n        r = this.observer.position,\n        o = h(r.x, r.y, r.z, r.x, r.y, r.z);\n      var _iterator = _createForOfIteratorHelper(this.targets),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _i = _step.value;\n          if (l(_i.position)) {\n            var _t2 = f(_i.position, e);\n            if (l(_t2.pending)) return {\n              pending: _t2.pending,\n              extent: null\n            };\n            if (l(_t2.geometry)) {\n              var _t2$geometry = _t2.geometry,\n                _e = _t2$geometry.x,\n                _r = _t2$geometry.y,\n                _s = _t2$geometry.z;\n              d(o, [_e, _r, _s]);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      var s = v(o, e);\n      return t(this.observer) && this.targets.every(t) || (s.zmin = void 0, s.zmax = void 0), {\n        pending: null,\n        extent: s\n      };\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.observer = null, this.targets.removeAll();\n    }\n  }]);\n  return x;\n}(t);\ne([g({\n  type: [\"line-of-sight\"]\n})], x.prototype, \"type\", void 0), e([g({\n  type: r,\n  json: {\n    read: !0,\n    write: !0\n  }\n})], x.prototype, \"observer\", void 0), e([g({\n  cast: n,\n  type: b,\n  nonNullable: !0,\n  json: {\n    read: !0,\n    write: !0\n  }\n})], x.prototype, \"targets\", null), e([g({\n  value: null,\n  readOnly: !0\n})], x.prototype, \"extent\", void 0), e([g({\n  readOnly: !0\n})], x.prototype, \"spatialReference\", null), e([g({\n  readOnly: !0\n})], x.prototype, \"requiredPropertiesForEditing\", null), x = e([y(\"esri.analysis.LineOfSightAnalysis\")], x);\nvar O = x;\nexport { O as default };","map":{"version":3,"names":["_","e","t","r","o","s","referenceSetter","i","castForReferenceSetter","n","isNone","p","isSome","l","applySome","a","unwrap","c","watch","m","syncAndInitial","u","property","g","subclass","y","projectOrLoad","f","fromValues","h","expandWithVec3","d","toExtent","v","getGeometryEffectiveElevationMode","j","b","ofType","x","_t","_inherits","_super","_createSuper","_this","_classCallCheck","call","type","observer","extent","_createClass","key","value","initialize","_this2","addHandles","_computeExtent","pending","_set","get","_get","set","targets","position","spatialReference","_waitComputeExtent","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","Promise","resolve","stop","waitComputeExtent","apply","arguments","elevationInfo","z","_iterator","_createForOfIteratorHelper","_step","done","geometry","_t2$geometry","err","every","zmin","zmax","clear","removeAll","prototype","json","read","write","cast","nonNullable","readOnly","O","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/analysis/LineOfSightAnalysis.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"./Analysis.js\";import r from\"./LineOfSightAnalysisObserver.js\";import o from\"./LineOfSightAnalysisTarget.js\";import s from\"../core/Collection.js\";import{referenceSetter as i,castForReferenceSetter as n}from\"../core/collectionUtils.js\";import{isNone as p,isSome as l,applySome as a,unwrap as c}from\"../core/maybe.js\";import{watch as m,syncAndInitial as u}from\"../core/reactiveUtils.js\";import{property as g}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import{subclass as y}from\"../core/accessorSupport/decorators/subclass.js\";import{projectOrLoad as f}from\"../geometry/projection.js\";import{fromValues as h,expandWithVec3 as d,toExtent as v}from\"../geometry/support/aaBoundingBox.js\";import{getGeometryEffectiveElevationMode as j}from\"../support/elevationInfoUtils.js\";const b=s.ofType(o);let x=class extends t{constructor(e){super(e),this.type=\"line-of-sight\",this.observer=null,this.extent=null}initialize(){this.addHandles(m((()=>this._computeExtent()),(e=>{(p(e)||p(e.pending))&&this._set(\"extent\",l(e)?e.extent:null)}),u))}get targets(){return this._get(\"targets\")||new b}set targets(e){this._set(\"targets\",i(e,this.targets,b))}get spatialReference(){return l(this.observer)&&l(this.observer.position)?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[a(this.observer,(e=>e.position))]}async waitComputeExtent(){const e=this._computeExtent();return l(e)?c(e.pending):Promise.resolve()}_computeExtent(){const e=this.spatialReference;if(p(this.observer)||p(this.observer.position)||p(e))return null;const t=e=>\"absolute-height\"===j(e.position,e.elevationInfo),r=this.observer.position,o=h(r.x,r.y,r.z,r.x,r.y,r.z);for(const i of this.targets)if(l(i.position)){const t=f(i.position,e);if(l(t.pending))return{pending:t.pending,extent:null};if(l(t.geometry)){const{x:e,y:r,z:s}=t.geometry;d(o,[e,r,s])}}const s=v(o,e);return t(this.observer)&&this.targets.every(t)||(s.zmin=void 0,s.zmax=void 0),{pending:null,extent:s}}clear(){this.observer=null,this.targets.removeAll()}};e([g({type:[\"line-of-sight\"]})],x.prototype,\"type\",void 0),e([g({type:r,json:{read:!0,write:!0}})],x.prototype,\"observer\",void 0),e([g({cast:n,type:b,nonNullable:!0,json:{read:!0,write:!0}})],x.prototype,\"targets\",null),e([g({value:null,readOnly:!0})],x.prototype,\"extent\",void 0),e([g({readOnly:!0})],x.prototype,\"spatialReference\",null),e([g({readOnly:!0})],x.prototype,\"requiredPropertiesForEditing\",null),x=e([y(\"esri.analysis.LineOfSightAnalysis\")],x);const O=x;export{O as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}