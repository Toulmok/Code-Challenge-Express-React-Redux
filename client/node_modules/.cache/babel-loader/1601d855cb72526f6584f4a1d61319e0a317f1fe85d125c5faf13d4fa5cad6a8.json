{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { adjustStaticAGOUrl as e } from \"../../../../core/devEnvironmentUtils.js\";\nimport { get as t, isSome as r, isNone as o } from \"../../../../core/maybe.js\";\nimport { b as s } from \"../../../../chunks/mat3.js\";\nimport { c as i } from \"../../../../chunks/mat3f64.js\";\nimport { a as n } from \"../../../../chunks/mat4.js\";\nimport { c as a } from \"../../../../chunks/mat4f64.js\";\nimport { m as u, b as l, C as c, l as m, n as f, h as d } from \"../../../../chunks/vec3.js\";\nimport { c as p } from \"../../../../chunks/vec3f64.js\";\nimport { empty as g, expandWithVec3 as b } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { BufferViewVec3f as x, BufferViewVec4f as h, BufferViewVec2f as T, BufferViewVec4u8 as R, BufferViewVec4u16 as w, BufferViewVec3u8 as j, BufferViewVec3u16 as M } from \"../../../../geometry/support/buffer/BufferView.js\";\nimport { t as v, a as y, s as B } from \"../../../../chunks/vec32.js\";\nimport { t as L, s as C } from \"../../../../chunks/vec42.js\";\nimport { createBuffer as I } from \"../../../../geometry/support/buffer/utils.js\";\nimport { DefaultLoadingContext as A } from \"../../glTF/DefaultLoadingContext.js\";\nimport { loadGLTF as O } from \"../../glTF/loader.js\";\nimport { triangleFanToTriangles as S, triangleStripToTriangles as E, trianglesToTriangles as N } from \"../../glTF/internal/indexUtils.js\";\nimport { isEncodedMeshTexture as k } from \"../../glTF/internal/resourceUtils.js\";\nimport { getTransformMatrix as F } from \"../../glTF/internal/TextureTransformUtils.js\";\nimport { ProcessedObjectResource as P } from \"./ProcessedObjectResource.js\";\nimport { load as V, processLoadResult as _ } from \"./wosrLoader.js\";\nimport { NormalAttributeType as G } from \"../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";\nimport { Attribute as D } from \"../../webgl-engine/lib/Attribute.js\";\nimport { AlphaDiscardMode as U, DepthTestFunction as H, CullFaceOptions as q } from \"../../webgl-engine/lib/basicInterfaces.js\";\nimport { Geometry as W } from \"../../webgl-engine/lib/Geometry.js\";\nimport { Texture as $ } from \"../../webgl-engine/lib/Texture.js\";\nimport { VertexAttribute as z } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { DefaultMaterial as K } from \"../../webgl-engine/materials/DefaultMaterial.js\";\nimport { COLOR_GAMMA as Q } from \"../../webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js\";\nimport { PrimitiveType as J } from \"../../../webgl/enums.js\";\nimport { n as X } from \"../../../../chunks/vec22.js\";\nimport { c as Y, f as Z } from \"../../../../chunks/vec43.js\";\nimport { c as ee } from \"../../../../chunks/vec33.js\";\nasync function te(o, s) {\n  const i = re(e(o));\n  if (\"wosr\" === i.fileType) {\n    const e = await (s.cache ? s.cache.loadWOSR(i.url, s) : V(i.url, s)),\n      {\n        engineResources: t,\n        referenceBoundingBox: r\n      } = _(e, s);\n    return {\n      lods: t,\n      referenceBoundingBox: r,\n      isEsriSymbolResource: !1,\n      isWosr: !0\n    };\n  }\n  const n = await (s.cache ? s.cache.loadGLTF(i.url, s, !!s.usePBR) : O(new A(s.streamDataRequester), i.url, s, s.usePBR)),\n    a = t(n.model.meta, \"ESRI_proxyEllipsoid\"),\n    u = n.meta.isEsriSymbolResource && r(a) && n.meta.uri.includes(\"/RealisticTrees/\");\n  u && !n.customMeta.esriTreeRendering && (n.customMeta.esriTreeRendering = !0, le(n, a));\n  const l = !!s.usePBR,\n    c = n.meta.isEsriSymbolResource ? {\n      usePBR: l,\n      isSchematic: !1,\n      treeRendering: u,\n      mrrFactors: [0, 1, .2]\n    } : {\n      usePBR: l,\n      isSchematic: !1,\n      treeRendering: !1,\n      mrrFactors: [0, 1, .5]\n    },\n    m = {\n      ...s.materialParamsMixin,\n      treeRendering: u\n    },\n    {\n      engineResources: f,\n      referenceBoundingBox: d\n    } = oe(n, c, m, s.skipHighLods && null == i.specifiedLodIndex ? {\n      skipHighLods: !0\n    } : {\n      skipHighLods: !1,\n      singleLodIndex: i.specifiedLodIndex\n    });\n  return {\n    lods: f,\n    referenceBoundingBox: d,\n    isEsriSymbolResource: n.meta.isEsriSymbolResource,\n    isWosr: !1\n  };\n}\nfunction re(e) {\n  const t = e.match(/(.*\\.(gltf|glb))(\\?lod=([0-9]+))?$/);\n  if (t) return {\n    fileType: \"gltf\",\n    url: t[1],\n    specifiedLodIndex: null != t[4] ? Number(t[4]) : null\n  };\n  return e.match(/(.*\\.(json|json\\.gz))$/) ? {\n    fileType: \"wosr\",\n    url: e,\n    specifiedLodIndex: null\n  } : {\n    fileType: \"unknown\",\n    url: e,\n    specifiedLodIndex: null\n  };\n}\nfunction oe(e, t, o, s) {\n  const i = e.model,\n    n = new Array(),\n    a = new Map(),\n    u = new Map(),\n    l = i.lods.length,\n    c = g();\n  return i.lods.forEach((e, m) => {\n    const f = !0 === s.skipHighLods && (l > 1 && 0 === m || l > 3 && 1 === m) || !1 === s.skipHighLods && null != s.singleLodIndex && m !== s.singleLodIndex;\n    if (f && 0 !== m) return;\n    const d = new P(e.name, e.lodThreshold, [0, 0, 0]);\n    e.parts.forEach(e => {\n      const s = f ? new K({}) : se(i, e, d, t, o, a, u),\n        {\n          geometry: n,\n          vertexCount: l\n        } = ie(e, r(s) ? s : new K({})),\n        p = n.boundingInfo;\n      r(p) && 0 === m && (b(c, p.bbMin), b(c, p.bbMax)), r(s) && (d.stageResources.geometries.push(n), d.numberOfVertices += l);\n    }), f || n.push(d);\n  }), {\n    engineResources: n,\n    referenceBoundingBox: c\n  };\n}\nfunction se(e, t, s, i, n, a, u) {\n  const l = t.material + (t.attributes.normal ? \"_normal\" : \"\") + (t.attributes.color ? \"_color\" : \"\") + (t.attributes.texCoord0 ? \"_texCoord0\" : \"\") + (t.attributes.tangent ? \"_tangent\" : \"\"),\n    c = e.materials.get(t.material),\n    m = r(t.attributes.texCoord0),\n    f = r(t.attributes.normal);\n  if (o(c)) return null;\n  const d = ae(c.alphaMode);\n  if (!a.has(l)) {\n    if (m) {\n      const t = function (t) {\n        let o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n        if (r(t) && !u.has(t)) {\n          const s = e.textures.get(t);\n          if (r(s)) {\n            const e = s.data;\n            u.set(t, new $(k(e) ? e.data : e, {\n              ...s.parameters,\n              preMultiplyAlpha: !k(e) && o,\n              encoding: k(e) && r(e.encoding) ? e.encoding : void 0\n            }));\n          }\n        }\n      };\n      t(c.textureColor, d !== U.Opaque), t(c.textureNormal), t(c.textureOcclusion), t(c.textureEmissive), t(c.textureMetallicRoughness);\n    }\n    const o = c.color[0] ** (1 / Q),\n      s = c.color[1] ** (1 / Q),\n      p = c.color[2] ** (1 / Q),\n      g = c.emissiveFactor[0] ** (1 / Q),\n      b = c.emissiveFactor[1] ** (1 / Q),\n      x = c.emissiveFactor[2] ** (1 / Q),\n      h = r(c.textureColor) && m ? u.get(c.textureColor) : null;\n    a.set(l, new K({\n      ...i,\n      transparent: d === U.Blend,\n      customDepthTest: H.Lequal,\n      textureAlphaMode: d,\n      textureAlphaCutoff: c.alphaCutoff,\n      diffuse: [o, s, p],\n      ambient: [o, s, p],\n      opacity: c.opacity,\n      doubleSided: c.doubleSided,\n      doubleSidedType: \"winding-order\",\n      cullFace: c.doubleSided ? q.None : q.Back,\n      hasVertexColors: !!t.attributes.color,\n      hasVertexTangents: !!t.attributes.tangent,\n      normalType: f ? G.Attribute : G.ScreenDerivative,\n      castShadows: !0,\n      receiveSSAO: !0,\n      textureId: r(h) ? h.id : void 0,\n      colorMixMode: c.colorMixMode,\n      normalTextureId: r(c.textureNormal) && m ? u.get(c.textureNormal).id : void 0,\n      textureAlphaPremultiplied: r(h) && !!h.params.preMultiplyAlpha,\n      occlusionTextureId: r(c.textureOcclusion) && m ? u.get(c.textureOcclusion).id : void 0,\n      emissiveTextureId: r(c.textureEmissive) && m ? u.get(c.textureEmissive).id : void 0,\n      metallicRoughnessTextureId: r(c.textureMetallicRoughness) && m ? u.get(c.textureMetallicRoughness).id : void 0,\n      emissiveFactor: [g, b, x],\n      mrrFactors: [c.metallicFactor, c.roughnessFactor, i.mrrFactors[2]],\n      isSchematic: !1,\n      colorTextureTransformMatrix: F(c.colorTextureTransform),\n      normalTextureTransformMatrix: F(c.normalTextureTransform),\n      occlusionTextureTransformMatrix: F(c.occlusionTextureTransform),\n      emissiveTextureTransformMatrix: F(c.emissiveTextureTransform),\n      metallicRoughnessTextureTransformMatrix: F(c.metallicRoughnessTextureTransform),\n      ...n\n    }));\n  }\n  const p = a.get(l);\n  if (s.stageResources.materials.push(p), m) {\n    const e = e => {\n      r(e) && s.stageResources.textures.push(u.get(e));\n    };\n    e(c.textureColor), e(c.textureNormal), e(c.textureOcclusion), e(c.textureEmissive), e(c.textureMetallicRoughness);\n  }\n  return p;\n}\nfunction ie(e, t) {\n  const o = e.attributes.position.count,\n    i = ue(e.indices || o, e.primitiveType),\n    n = I(x, o);\n  v(n, e.attributes.position, e.transform);\n  const a = [[z.POSITION, new D(n.typedBuffer, n.elementCount, !0)]],\n    u = [[z.POSITION, i]];\n  if (r(e.attributes.normal)) {\n    const t = I(x, o);\n    s(ne, e.transform), y(t, e.attributes.normal, ne), a.push([z.NORMAL, new D(t.typedBuffer, t.elementCount, !0)]), u.push([z.NORMAL, i]);\n  }\n  if (r(e.attributes.tangent)) {\n    const t = I(h, o);\n    s(ne, e.transform), L(t, e.attributes.tangent, ne), a.push([z.TANGENT, new D(t.typedBuffer, t.elementCount, !0)]), u.push([z.TANGENT, i]);\n  }\n  if (r(e.attributes.texCoord0)) {\n    const t = I(T, o);\n    X(t, e.attributes.texCoord0), a.push([z.UV0, new D(t.typedBuffer, t.elementCount, !0)]), u.push([z.UV0, i]);\n  }\n  if (r(e.attributes.color)) {\n    const t = I(R, o);\n    if (4 === e.attributes.color.elementCount) e.attributes.color instanceof h ? C(t, e.attributes.color, 255) : e.attributes.color instanceof R ? Y(t, e.attributes.color) : e.attributes.color instanceof w && C(t, e.attributes.color, 1 / 256);else {\n      Z(t, 255, 255, 255, 255);\n      const r = new j(t.buffer, 0, 4);\n      e.attributes.color instanceof x ? B(r, e.attributes.color, 255) : e.attributes.color instanceof j ? ee(r, e.attributes.color) : e.attributes.color instanceof M && B(r, e.attributes.color, 1 / 256);\n    }\n    a.push([z.COLOR, new D(t.typedBuffer, t.elementCount, !0)]), u.push([z.COLOR, i]);\n  }\n  return {\n    geometry: new W(t, a, u),\n    vertexCount: o\n  };\n}\nconst ne = i();\nfunction ae(e) {\n  switch (e) {\n    case \"BLEND\":\n      return U.Blend;\n    case \"MASK\":\n      return U.Mask;\n    case \"OPAQUE\":\n    case null:\n    case void 0:\n      return U.Opaque;\n  }\n}\nfunction ue(e, t) {\n  switch (t) {\n    case J.TRIANGLES:\n      return N(e);\n    case J.TRIANGLE_STRIP:\n      return E(e);\n    case J.TRIANGLE_FAN:\n      return S(e);\n  }\n}\nfunction le(e, t) {\n  for (let r = 0; r < e.model.lods.length; ++r) {\n    const s = e.model.lods[r];\n    for (const i of s.parts) {\n      const s = i.attributes.normal;\n      if (o(s)) return;\n      const g = i.attributes.position,\n        b = g.count,\n        h = p(),\n        T = p(),\n        w = p(),\n        j = I(R, b),\n        M = I(x, b),\n        v = n(a(), i.transform);\n      for (let o = 0; o < b; o++) {\n        g.getVec(o, T), s.getVec(o, h), u(T, T, i.transform), l(w, T, t.center), c(w, w, t.radius);\n        const n = w[2],\n          a = m(w),\n          p = Math.min(.45 + .55 * a * a, 1);\n        c(w, w, t.radius), null !== v && u(w, w, v), f(w, w), r + 1 !== e.model.lods.length && e.model.lods.length > 1 && d(w, w, h, n > -1 ? .2 : Math.min(-4 * n - 3.8, 1)), M.setVec(o, w), j.set(o, 0, 255 * p), j.set(o, 1, 255 * p), j.set(o, 2, 255 * p), j.set(o, 3, 255);\n      }\n      i.attributes.normal = M, i.attributes.color = j;\n    }\n  }\n}\nexport { te as fetch, oe as gltfToEngineResources, re as parseUrl };","map":{"version":3,"names":["adjustStaticAGOUrl","e","get","t","isSome","r","isNone","o","b","s","c","i","a","n","m","u","l","C","f","h","d","p","empty","g","expandWithVec3","BufferViewVec3f","x","BufferViewVec4f","BufferViewVec2f","T","BufferViewVec4u8","R","BufferViewVec4u16","w","BufferViewVec3u8","j","BufferViewVec3u16","M","v","y","B","L","createBuffer","I","DefaultLoadingContext","A","loadGLTF","O","triangleFanToTriangles","S","triangleStripToTriangles","E","trianglesToTriangles","N","isEncodedMeshTexture","k","getTransformMatrix","F","ProcessedObjectResource","P","load","V","processLoadResult","_","NormalAttributeType","G","Attribute","D","AlphaDiscardMode","U","DepthTestFunction","H","CullFaceOptions","q","Geometry","W","Texture","$","VertexAttribute","z","DefaultMaterial","K","COLOR_GAMMA","Q","PrimitiveType","J","X","Y","Z","ee","te","re","fileType","cache","loadWOSR","url","engineResources","referenceBoundingBox","lods","isEsriSymbolResource","isWosr","usePBR","streamDataRequester","model","meta","uri","includes","customMeta","esriTreeRendering","le","isSchematic","treeRendering","mrrFactors","materialParamsMixin","oe","skipHighLods","specifiedLodIndex","singleLodIndex","match","Number","Array","Map","length","forEach","name","lodThreshold","parts","se","geometry","vertexCount","ie","boundingInfo","bbMin","bbMax","stageResources","geometries","push","numberOfVertices","material","attributes","normal","color","texCoord0","tangent","materials","ae","alphaMode","has","arguments","undefined","textures","data","set","parameters","preMultiplyAlpha","encoding","textureColor","Opaque","textureNormal","textureOcclusion","textureEmissive","textureMetallicRoughness","emissiveFactor","transparent","Blend","customDepthTest","Lequal","textureAlphaMode","textureAlphaCutoff","alphaCutoff","diffuse","ambient","opacity","doubleSided","doubleSidedType","cullFace","None","Back","hasVertexColors","hasVertexTangents","normalType","ScreenDerivative","castShadows","receiveSSAO","textureId","id","colorMixMode","normalTextureId","textureAlphaPremultiplied","params","occlusionTextureId","emissiveTextureId","metallicRoughnessTextureId","metallicFactor","roughnessFactor","colorTextureTransformMatrix","colorTextureTransform","normalTextureTransformMatrix","normalTextureTransform","occlusionTextureTransformMatrix","occlusionTextureTransform","emissiveTextureTransformMatrix","emissiveTextureTransform","metallicRoughnessTextureTransformMatrix","metallicRoughnessTextureTransform","position","count","ue","indices","primitiveType","transform","POSITION","typedBuffer","elementCount","ne","NORMAL","TANGENT","UV0","buffer","COLOR","Mask","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","getVec","center","radius","Math","min","setVec","fetch","gltfToEngineResources","parseUrl"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/3d/layers/graphics/objectResourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{adjustStaticAGOUrl as e}from\"../../../../core/devEnvironmentUtils.js\";import{get as t,isSome as r,isNone as o}from\"../../../../core/maybe.js\";import{b as s}from\"../../../../chunks/mat3.js\";import{c as i}from\"../../../../chunks/mat3f64.js\";import{a as n}from\"../../../../chunks/mat4.js\";import{c as a}from\"../../../../chunks/mat4f64.js\";import{m as u,b as l,C as c,l as m,n as f,h as d}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{empty as g,expandWithVec3 as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as x,BufferViewVec4f as h,BufferViewVec2f as T,BufferViewVec4u8 as R,BufferViewVec4u16 as w,BufferViewVec3u8 as j,BufferViewVec3u16 as M}from\"../../../../geometry/support/buffer/BufferView.js\";import{t as v,a as y,s as B}from\"../../../../chunks/vec32.js\";import{t as L,s as C}from\"../../../../chunks/vec42.js\";import{createBuffer as I}from\"../../../../geometry/support/buffer/utils.js\";import{DefaultLoadingContext as A}from\"../../glTF/DefaultLoadingContext.js\";import{loadGLTF as O}from\"../../glTF/loader.js\";import{triangleFanToTriangles as S,triangleStripToTriangles as E,trianglesToTriangles as N}from\"../../glTF/internal/indexUtils.js\";import{isEncodedMeshTexture as k}from\"../../glTF/internal/resourceUtils.js\";import{getTransformMatrix as F}from\"../../glTF/internal/TextureTransformUtils.js\";import{ProcessedObjectResource as P}from\"./ProcessedObjectResource.js\";import{load as V,processLoadResult as _}from\"./wosrLoader.js\";import{NormalAttributeType as G}from\"../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{Attribute as D}from\"../../webgl-engine/lib/Attribute.js\";import{AlphaDiscardMode as U,DepthTestFunction as H,CullFaceOptions as q}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as W}from\"../../webgl-engine/lib/Geometry.js\";import{Texture as $}from\"../../webgl-engine/lib/Texture.js\";import{VertexAttribute as z}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as K}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{COLOR_GAMMA as Q}from\"../../webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js\";import{PrimitiveType as J}from\"../../../webgl/enums.js\";import{n as X}from\"../../../../chunks/vec22.js\";import{c as Y,f as Z}from\"../../../../chunks/vec43.js\";import{c as ee}from\"../../../../chunks/vec33.js\";async function te(o,s){const i=re(e(o));if(\"wosr\"===i.fileType){const e=await(s.cache?s.cache.loadWOSR(i.url,s):V(i.url,s)),{engineResources:t,referenceBoundingBox:r}=_(e,s);return{lods:t,referenceBoundingBox:r,isEsriSymbolResource:!1,isWosr:!0}}const n=await(s.cache?s.cache.loadGLTF(i.url,s,!!s.usePBR):O(new A(s.streamDataRequester),i.url,s,s.usePBR)),a=t(n.model.meta,\"ESRI_proxyEllipsoid\"),u=n.meta.isEsriSymbolResource&&r(a)&&n.meta.uri.includes(\"/RealisticTrees/\");u&&!n.customMeta.esriTreeRendering&&(n.customMeta.esriTreeRendering=!0,le(n,a));const l=!!s.usePBR,c=n.meta.isEsriSymbolResource?{usePBR:l,isSchematic:!1,treeRendering:u,mrrFactors:[0,1,.2]}:{usePBR:l,isSchematic:!1,treeRendering:!1,mrrFactors:[0,1,.5]},m={...s.materialParamsMixin,treeRendering:u},{engineResources:f,referenceBoundingBox:d}=oe(n,c,m,s.skipHighLods&&null==i.specifiedLodIndex?{skipHighLods:!0}:{skipHighLods:!1,singleLodIndex:i.specifiedLodIndex});return{lods:f,referenceBoundingBox:d,isEsriSymbolResource:n.meta.isEsriSymbolResource,isWosr:!1}}function re(e){const t=e.match(/(.*\\.(gltf|glb))(\\?lod=([0-9]+))?$/);if(t)return{fileType:\"gltf\",url:t[1],specifiedLodIndex:null!=t[4]?Number(t[4]):null};return e.match(/(.*\\.(json|json\\.gz))$/)?{fileType:\"wosr\",url:e,specifiedLodIndex:null}:{fileType:\"unknown\",url:e,specifiedLodIndex:null}}function oe(e,t,o,s){const i=e.model,n=new Array,a=new Map,u=new Map,l=i.lods.length,c=g();return i.lods.forEach(((e,m)=>{const f=!0===s.skipHighLods&&(l>1&&0===m||l>3&&1===m)||!1===s.skipHighLods&&null!=s.singleLodIndex&&m!==s.singleLodIndex;if(f&&0!==m)return;const d=new P(e.name,e.lodThreshold,[0,0,0]);e.parts.forEach((e=>{const s=f?new K({}):se(i,e,d,t,o,a,u),{geometry:n,vertexCount:l}=ie(e,r(s)?s:new K({})),p=n.boundingInfo;r(p)&&0===m&&(b(c,p.bbMin),b(c,p.bbMax)),r(s)&&(d.stageResources.geometries.push(n),d.numberOfVertices+=l)})),f||n.push(d)})),{engineResources:n,referenceBoundingBox:c}}function se(e,t,s,i,n,a,u){const l=t.material+(t.attributes.normal?\"_normal\":\"\")+(t.attributes.color?\"_color\":\"\")+(t.attributes.texCoord0?\"_texCoord0\":\"\")+(t.attributes.tangent?\"_tangent\":\"\"),c=e.materials.get(t.material),m=r(t.attributes.texCoord0),f=r(t.attributes.normal);if(o(c))return null;const d=ae(c.alphaMode);if(!a.has(l)){if(m){const t=(t,o=!1)=>{if(r(t)&&!u.has(t)){const s=e.textures.get(t);if(r(s)){const e=s.data;u.set(t,new $(k(e)?e.data:e,{...s.parameters,preMultiplyAlpha:!k(e)&&o,encoding:k(e)&&r(e.encoding)?e.encoding:void 0}))}}};t(c.textureColor,d!==U.Opaque),t(c.textureNormal),t(c.textureOcclusion),t(c.textureEmissive),t(c.textureMetallicRoughness)}const o=c.color[0]**(1/Q),s=c.color[1]**(1/Q),p=c.color[2]**(1/Q),g=c.emissiveFactor[0]**(1/Q),b=c.emissiveFactor[1]**(1/Q),x=c.emissiveFactor[2]**(1/Q),h=r(c.textureColor)&&m?u.get(c.textureColor):null;a.set(l,new K({...i,transparent:d===U.Blend,customDepthTest:H.Lequal,textureAlphaMode:d,textureAlphaCutoff:c.alphaCutoff,diffuse:[o,s,p],ambient:[o,s,p],opacity:c.opacity,doubleSided:c.doubleSided,doubleSidedType:\"winding-order\",cullFace:c.doubleSided?q.None:q.Back,hasVertexColors:!!t.attributes.color,hasVertexTangents:!!t.attributes.tangent,normalType:f?G.Attribute:G.ScreenDerivative,castShadows:!0,receiveSSAO:!0,textureId:r(h)?h.id:void 0,colorMixMode:c.colorMixMode,normalTextureId:r(c.textureNormal)&&m?u.get(c.textureNormal).id:void 0,textureAlphaPremultiplied:r(h)&&!!h.params.preMultiplyAlpha,occlusionTextureId:r(c.textureOcclusion)&&m?u.get(c.textureOcclusion).id:void 0,emissiveTextureId:r(c.textureEmissive)&&m?u.get(c.textureEmissive).id:void 0,metallicRoughnessTextureId:r(c.textureMetallicRoughness)&&m?u.get(c.textureMetallicRoughness).id:void 0,emissiveFactor:[g,b,x],mrrFactors:[c.metallicFactor,c.roughnessFactor,i.mrrFactors[2]],isSchematic:!1,colorTextureTransformMatrix:F(c.colorTextureTransform),normalTextureTransformMatrix:F(c.normalTextureTransform),occlusionTextureTransformMatrix:F(c.occlusionTextureTransform),emissiveTextureTransformMatrix:F(c.emissiveTextureTransform),metallicRoughnessTextureTransformMatrix:F(c.metallicRoughnessTextureTransform),...n}))}const p=a.get(l);if(s.stageResources.materials.push(p),m){const e=e=>{r(e)&&s.stageResources.textures.push(u.get(e))};e(c.textureColor),e(c.textureNormal),e(c.textureOcclusion),e(c.textureEmissive),e(c.textureMetallicRoughness)}return p}function ie(e,t){const o=e.attributes.position.count,i=ue(e.indices||o,e.primitiveType),n=I(x,o);v(n,e.attributes.position,e.transform);const a=[[z.POSITION,new D(n.typedBuffer,n.elementCount,!0)]],u=[[z.POSITION,i]];if(r(e.attributes.normal)){const t=I(x,o);s(ne,e.transform),y(t,e.attributes.normal,ne),a.push([z.NORMAL,new D(t.typedBuffer,t.elementCount,!0)]),u.push([z.NORMAL,i])}if(r(e.attributes.tangent)){const t=I(h,o);s(ne,e.transform),L(t,e.attributes.tangent,ne),a.push([z.TANGENT,new D(t.typedBuffer,t.elementCount,!0)]),u.push([z.TANGENT,i])}if(r(e.attributes.texCoord0)){const t=I(T,o);X(t,e.attributes.texCoord0),a.push([z.UV0,new D(t.typedBuffer,t.elementCount,!0)]),u.push([z.UV0,i])}if(r(e.attributes.color)){const t=I(R,o);if(4===e.attributes.color.elementCount)e.attributes.color instanceof h?C(t,e.attributes.color,255):e.attributes.color instanceof R?Y(t,e.attributes.color):e.attributes.color instanceof w&&C(t,e.attributes.color,1/256);else{Z(t,255,255,255,255);const r=new j(t.buffer,0,4);e.attributes.color instanceof x?B(r,e.attributes.color,255):e.attributes.color instanceof j?ee(r,e.attributes.color):e.attributes.color instanceof M&&B(r,e.attributes.color,1/256)}a.push([z.COLOR,new D(t.typedBuffer,t.elementCount,!0)]),u.push([z.COLOR,i])}return{geometry:new W(t,a,u),vertexCount:o}}const ne=i();function ae(e){switch(e){case\"BLEND\":return U.Blend;case\"MASK\":return U.Mask;case\"OPAQUE\":case null:case void 0:return U.Opaque}}function ue(e,t){switch(t){case J.TRIANGLES:return N(e);case J.TRIANGLE_STRIP:return E(e);case J.TRIANGLE_FAN:return S(e)}}function le(e,t){for(let r=0;r<e.model.lods.length;++r){const s=e.model.lods[r];for(const i of s.parts){const s=i.attributes.normal;if(o(s))return;const g=i.attributes.position,b=g.count,h=p(),T=p(),w=p(),j=I(R,b),M=I(x,b),v=n(a(),i.transform);for(let o=0;o<b;o++){g.getVec(o,T),s.getVec(o,h),u(T,T,i.transform),l(w,T,t.center),c(w,w,t.radius);const n=w[2],a=m(w),p=Math.min(.45+.55*a*a,1);c(w,w,t.radius),null!==v&&u(w,w,v),f(w,w),r+1!==e.model.lods.length&&e.model.lods.length>1&&d(w,w,h,n>-1?.2:Math.min(-4*n-3.8,1)),M.setVec(o,w),j.set(o,0,255*p),j.set(o,1,255*p),j.set(o,2,255*p),j.set(o,3,255)}i.attributes.normal=M,i.attributes.color=j}}}export{te as fetch,oe as gltfToEngineResources,re as parseUrl};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}