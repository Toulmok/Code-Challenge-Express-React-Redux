{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../request.js\";\nimport i from \"../../core/Accessor.js\";\nimport { ByteSizeUnit as r } from \"../../core/byteSizeEstimations.js\";\nimport l from \"../../core/Error.js\";\nimport { HandleOwnerMixin as s } from \"../../core/HandleOwner.js\";\nimport a from \"../../core/Logger.js\";\nimport o from \"../../core/LRUCache.js\";\nimport n from \"../../core/PooledArray.js\";\nimport { onAbort as c, isAbortError as h, isAborted as p, createAbortError as m } from \"../../core/promiseUtils.js\";\nimport { watch as f, syncAndInitial as u } from \"../../core/reactiveUtils.js\";\nimport { waitTicks as v } from \"../../core/scheduling.js\";\nimport { objectToQuery as y } from \"../../core/urlUtils.js\";\nimport { property as b } from \"../../core/accessorSupport/decorators/property.js\";\nimport { cast as d } from \"../../core/accessorSupport/decorators/cast.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as _ } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { TileKey as g } from \"./TileKey.js\";\nimport { tilemapDefinitionId as w, Tilemap as T } from \"./Tilemap.js\";\nvar j;\nlet z = j = class extends s(i) {\n  constructor(e) {\n    super(e), this._pendingTilemapRequests = {}, this._availableLevels = {}, this.levels = 5, this.cacheByteSize = 2 * r.MEGABYTES, this.request = t, this._prefetchingEnabled = !0;\n  }\n  initialize() {\n    this._tilemapCache = new o(this.cacheByteSize), this.addHandles([f(() => {\n      const {\n        layer: e\n      } = this;\n      return [e?.parsedUrl, e?.tileServers, e?.apiKey, e?.customParameters];\n    }, () => this._initializeTilemapDefinition()), f(() => this.layer?.tileInfo?.lods, e => this._initializeAvailableLevels(e), u)]), this._initializeTilemapDefinition();\n  }\n  castLevels(e) {\n    return e <= 2 ? (a.getLogger(this.declaredClass).error(\"Minimum levels for Tilemap is 3, but got \", e), 3) : e;\n  }\n  get size() {\n    return 1 << this.levels;\n  }\n  fetchTilemap(e, t, i, r) {\n    if (!this._availableLevels[e]) return Promise.reject(new l(\"tilemap-cache:level-unavailable\", `Level ${e} is unavailable in the service`));\n    const s = this._tmpTilemapDefinition,\n      a = this._tilemapFromCache(e, t, i, s);\n    if (a) return Promise.resolve(a);\n    const o = r && r.signal;\n    return r = {\n      ...r,\n      signal: null\n    }, new Promise((e, t) => {\n      c(o, () => t(m()));\n      const i = w(s);\n      let l = this._pendingTilemapRequests[i];\n      if (!l) {\n        l = T.fromDefinition(s, r).then(e => (this._tilemapCache.put(i, e, e.byteSize), e));\n        const e = () => delete this._pendingTilemapRequests[i];\n        this._pendingTilemapRequests[i] = l, l.then(e, e);\n      }\n      l.then(e, t);\n    });\n  }\n  getAvailability(e, t, i) {\n    if (!this._availableLevels[e]) return \"unavailable\";\n    const r = this._tilemapFromCache(e, t, i, this._tmpTilemapDefinition);\n    return r ? r.getAvailability(t, i) : \"unknown\";\n  }\n  fetchAvailability(e, t, i, r) {\n    return this._availableLevels[e] ? this.fetchTilemap(e, t, i, r).catch(e => e).then(r => {\n      if (r instanceof T) {\n        const s = r.getAvailability(t, i);\n        if (\"unavailable\" === s) throw new l(\"tile-map:tile-unavailable\", \"Tile is not available\", {\n          level: e,\n          row: t,\n          col: i\n        });\n        return s;\n      }\n      if (h(r)) throw r;\n      return \"unknown\";\n    }) : Promise.reject(new l(\"tilemap-cache:level-unavailable\", `Level ${e} is unavailable in the service`));\n  }\n  fetchAvailabilityUpsample(e, t, i, r, l) {\n    r.level = e, r.row = t, r.col = i;\n    const s = this.layer.tileInfo;\n    s.updateTileInfo(r);\n    const a = this.fetchAvailability(e, t, i, l).catch(e => {\n      if (h(e)) throw e;\n      if (s.upsampleTile(r)) return this.fetchAvailabilityUpsample(r.level, r.row, r.col, r);\n      throw e;\n    });\n    return this._fetchAvailabilityUpsamplePrefetch(r.id, e, t, i, l, a), a;\n  }\n  async _fetchAvailabilityUpsamplePrefetch(e, t, i, r, l, s) {\n    if (!this._prefetchingEnabled || null == e) return;\n    const a = `prefetch-${e}`;\n    if (this.handles.has(a)) return;\n    const o = new AbortController();\n    s.then(() => o.abort(), () => o.abort());\n    let n = !1;\n    const c = {\n      remove() {\n        n || (n = !0, o.abort());\n      }\n    };\n    if (this.handles.add(c, a), await v(10, o.signal).catch(() => {}), n || (n = !0, this.handles.remove(a)), p(o)) return;\n    const h = new g(e, t, i, r),\n      m = {\n        ...l,\n        signal: o.signal\n      },\n      f = this.layer.tileInfo;\n    for (let p = 0; j._prefetches.length < j._maxPrefetch && f.upsampleTile(h); ++p) {\n      const e = this.fetchAvailability(h.level, h.row, h.col, m);\n      j._prefetches.push(e);\n      const t = () => {\n        j._prefetches.removeUnordered(e);\n      };\n      e.then(t, t);\n    }\n  }\n  _initializeTilemapDefinition() {\n    if (!this.layer.parsedUrl) return;\n    const {\n      parsedUrl: e,\n      apiKey: t,\n      customParameters: i\n    } = this.layer;\n    this._tilemapCache.clear(), this._tmpTilemapDefinition = {\n      service: {\n        url: e.path,\n        query: y({\n          ...e.query,\n          ...i,\n          token: t ?? e.query?.token\n        }),\n        tileServers: this.layer.tileServers,\n        request: this.request,\n        type: this.layer.type\n      },\n      width: this.size,\n      height: this.size,\n      level: 0,\n      row: 0,\n      col: 0\n    };\n  }\n  _tilemapFromCache(e, t, i, r) {\n    r.level = e, r.row = t - t % this.size, r.col = i - i % this.size;\n    const l = w(r);\n    return this._tilemapCache.get(l);\n  }\n  _initializeAvailableLevels(e) {\n    this._availableLevels = {}, e && e.forEach(e => this._availableLevels[e.level] = !0);\n  }\n  get test() {\n    const e = this;\n    return {\n      get prefetchingEnabled() {\n        return e._prefetchingEnabled;\n      },\n      set prefetchingEnabled(t) {\n        e._prefetchingEnabled = t;\n      },\n      hasTilemap: (t, i, r) => !!e._tilemapFromCache(t, i, r, e._tmpTilemapDefinition)\n    };\n  }\n};\nz._maxPrefetch = 4, z._prefetches = new n({\n  initialSize: j._maxPrefetch\n}), e([b({\n  constructOnly: !0,\n  type: Number\n})], z.prototype, \"levels\", void 0), e([d(\"levels\")], z.prototype, \"castLevels\", null), e([b({\n  readOnly: !0,\n  type: Number\n})], z.prototype, \"size\", null), e([b({\n  constructOnly: !0,\n  type: Number\n})], z.prototype, \"cacheByteSize\", void 0), e([b({\n  constructOnly: !0\n})], z.prototype, \"layer\", void 0), e([b({\n  constructOnly: !0\n})], z.prototype, \"request\", void 0), z = j = e([_(\"esri.layers.support.TilemapCache\")], z);\nexport { z as TilemapCache };","map":{"version":3,"names":["_","e","t","i","ByteSizeUnit","r","l","HandleOwnerMixin","s","a","o","n","onAbort","c","isAbortError","h","isAborted","p","createAbortError","m","watch","f","syncAndInitial","u","waitTicks","v","objectToQuery","y","property","b","cast","d","subclass","TileKey","g","tilemapDefinitionId","w","Tilemap","T","j","z","constructor","_pendingTilemapRequests","_availableLevels","levels","cacheByteSize","MEGABYTES","request","_prefetchingEnabled","initialize","_tilemapCache","addHandles","layer","parsedUrl","tileServers","apiKey","customParameters","_initializeTilemapDefinition","tileInfo","lods","_initializeAvailableLevels","castLevels","getLogger","declaredClass","error","size","fetchTilemap","Promise","reject","_tmpTilemapDefinition","_tilemapFromCache","resolve","signal","fromDefinition","then","put","byteSize","getAvailability","fetchAvailability","catch","level","row","col","fetchAvailabilityUpsample","updateTileInfo","upsampleTile","_fetchAvailabilityUpsamplePrefetch","id","handles","has","AbortController","abort","remove","add","_prefetches","length","_maxPrefetch","push","removeUnordered","clear","service","url","path","query","token","type","width","height","get","forEach","test","prefetchingEnabled","hasTilemap","initialSize","constructOnly","Number","prototype","readOnly","TilemapCache"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/support/TilemapCache.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import{ByteSizeUnit as r}from\"../../core/byteSizeEstimations.js\";import l from\"../../core/Error.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import a from\"../../core/Logger.js\";import o from\"../../core/LRUCache.js\";import n from\"../../core/PooledArray.js\";import{onAbort as c,isAbortError as h,isAborted as p,createAbortError as m}from\"../../core/promiseUtils.js\";import{watch as f,syncAndInitial as u}from\"../../core/reactiveUtils.js\";import{waitTicks as v}from\"../../core/scheduling.js\";import{objectToQuery as y}from\"../../core/urlUtils.js\";import{property as b}from\"../../core/accessorSupport/decorators/property.js\";import{cast as d}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/arrayUtils.js\";import{subclass as _}from\"../../core/accessorSupport/decorators/subclass.js\";import{TileKey as g}from\"./TileKey.js\";import{tilemapDefinitionId as w,Tilemap as T}from\"./Tilemap.js\";var j;let z=j=class extends(s(i)){constructor(e){super(e),this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2*r.MEGABYTES,this.request=t,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new o(this.cacheByteSize),this.addHandles([f((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition())),f((()=>this.layer?.tileInfo?.lods),(e=>this._initializeAvailableLevels(e)),u)]),this._initializeTilemapDefinition()}castLevels(e){return e<=2?(a.getLogger(this.declaredClass).error(\"Minimum levels for Tilemap is 3, but got \",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,i,r){if(!this._availableLevels[e])return Promise.reject(new l(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const s=this._tmpTilemapDefinition,a=this._tilemapFromCache(e,t,i,s);if(a)return Promise.resolve(a);const o=r&&r.signal;return r={...r,signal:null},new Promise(((e,t)=>{c(o,(()=>t(m())));const i=w(s);let l=this._pendingTilemapRequests[i];if(!l){l=T.fromDefinition(s,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=l,l.then(e,e)}l.then(e,t)}))}getAvailability(e,t,i){if(!this._availableLevels[e])return\"unavailable\";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):\"unknown\"}fetchAvailability(e,t,i,r){return this._availableLevels[e]?this.fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof T){const s=r.getAvailability(t,i);if(\"unavailable\"===s)throw new l(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i});return s}if(h(r))throw r;return\"unknown\"})):Promise.reject(new l(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,i,r,l){r.level=e,r.row=t,r.col=i;const s=this.layer.tileInfo;s.updateTileInfo(r);const a=this.fetchAvailability(e,t,i,l).catch((e=>{if(h(e))throw e;if(s.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,l,a),a}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,l,s){if(!this._prefetchingEnabled||null==e)return;const a=`prefetch-${e}`;if(this.handles.has(a))return;const o=new AbortController;s.then((()=>o.abort()),(()=>o.abort()));let n=!1;const c={remove(){n||(n=!0,o.abort())}};if(this.handles.add(c,a),await v(10,o.signal).catch((()=>{})),n||(n=!0,this.handles.remove(a)),p(o))return;const h=new g(e,t,i,r),m={...l,signal:o.signal},f=this.layer.tileInfo;for(let p=0;j._prefetches.length<j._maxPrefetch&&f.upsampleTile(h);++p){const e=this.fetchAvailability(h.level,h.row,h.col,m);j._prefetches.push(e);const t=()=>{j._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:y({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const l=w(r);return this._tilemapCache.get(l)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach((e=>this._availableLevels[e.level]=!0))}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,r)=>!!e._tilemapFromCache(t,i,r,e._tmpTilemapDefinition)}}};z._maxPrefetch=4,z._prefetches=new n({initialSize:j._maxPrefetch}),e([b({constructOnly:!0,type:Number})],z.prototype,\"levels\",void 0),e([d(\"levels\")],z.prototype,\"castLevels\",null),e([b({readOnly:!0,type:Number})],z.prototype,\"size\",null),e([b({constructOnly:!0,type:Number})],z.prototype,\"cacheByteSize\",void 0),e([b({constructOnly:!0})],z.prototype,\"layer\",void 0),e([b({constructOnly:!0})],z.prototype,\"request\",void 0),z=j=e([_(\"esri.layers.support.TilemapCache\")],z);export{z as TilemapCache};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}