{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from \"../../Color.js\";\nimport { isSome as r } from \"../../core/maybe.js\";\nasync function n(r) {\n  await r.whenReady();\n  const n = r.basemapView?.baseLayerViews.map(t => t.layer).toArray() ?? [];\n  if (!n.length) {\n    const n = getComputedStyle(r.container).backgroundColor,\n      a = n && new t(n);\n    return r.get(\"background.color\") || (a && 0 !== a.a ? a : null) || null;\n  }\n  const a = (await r.takeScreenshot({\n      format: \"png\",\n      layers: n\n    })).data.data,\n    o = a.length;\n  let e = 0,\n    u = 0,\n    l = 0,\n    c = 0,\n    s = 0,\n    i = 0;\n  for (let t = 0; t < o; t += 4) {\n    const r = a[t],\n      n = a[t + 1],\n      o = a[t + 2],\n      h = a[t + 3],\n      d = h / 255;\n    e += r * r * d, u += n * n * d, l += o * o * d, s += d, h && (c += h, i++);\n  }\n  e = Math.round(Math.sqrt(e / s)), u = Math.round(Math.sqrt(u / s)), l = Math.round(Math.sqrt(l / s));\n  return new t([e, u, l, c / i / 255]);\n}\nasync function a(t) {\n  if (!t) return null;\n  const a = await n(t);\n  return r(a) ? o(a) : null;\n}\nfunction o(t) {\n  return e(t).isBright ? \"light\" : \"dark\";\n}\nfunction e(r) {\n  let {\n    r: n,\n    g: a,\n    b: o,\n    a: e\n  } = r;\n  return e < 1 && (n = Math.round(e * n + 255 * (1 - e)), a = Math.round(e * a + 255 * (1 - e)), o = Math.round(e * o + 255 * (1 - e))), new t({\n    r: n,\n    g: a,\n    b: o\n  });\n}\nfunction u(t) {\n  const {\n    r,\n    g: n,\n    b: a\n  } = e(t);\n  return .2126 * r + .7152 * n + .0722 * a;\n}\nexport { n as getBackgroundColor, a as getBackgroundColorTheme, u as getColorLuminance, o as getColorTheme };","map":{"version":3,"names":["t","isSome","r","n","whenReady","basemapView","baseLayerViews","map","layer","toArray","length","getComputedStyle","container","backgroundColor","a","get","takeScreenshot","format","layers","data","o","e","u","l","c","s","i","h","d","Math","round","sqrt","isBright","g","b","getBackgroundColor","getBackgroundColorTheme","getColorLuminance","getColorTheme"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/support/colorUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(r){await r.whenReady();const n=r.basemapView?.baseLayerViews.map((t=>t.layer)).toArray()??[];if(!n.length){const n=getComputedStyle(r.container).backgroundColor,a=n&&new t(n);return r.get(\"background.color\")||(a&&0!==a.a?a:null)||null}const a=(await r.takeScreenshot({format:\"png\",layers:n})).data.data,o=a.length;let e=0,u=0,l=0,c=0,s=0,i=0;for(let t=0;t<o;t+=4){const r=a[t],n=a[t+1],o=a[t+2],h=a[t+3],d=h/255;e+=r*r*d,u+=n*n*d,l+=o*o*d,s+=d,h&&(c+=h,i++)}e=Math.round(Math.sqrt(e/s)),u=Math.round(Math.sqrt(u/s)),l=Math.round(Math.sqrt(l/s));return new t([e,u,l,c/i/255])}async function a(t){if(!t)return null;const a=await n(t);return r(a)?o(a):null}function o(t){return e(t).isBright?\"light\":\"dark\"}function e(r){let{r:n,g:a,b:o,a:e}=r;return e<1&&(n=Math.round(e*n+255*(1-e)),a=Math.round(e*a+255*(1-e)),o=Math.round(e*o+255*(1-e))),new t({r:n,g:a,b:o})}function u(t){const{r,g:n,b:a}=e(t);return.2126*r+.7152*n+.0722*a}export{n as getBackgroundColor,a as getBackgroundColorTheme,u as getColorLuminance,o as getColorTheme};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}