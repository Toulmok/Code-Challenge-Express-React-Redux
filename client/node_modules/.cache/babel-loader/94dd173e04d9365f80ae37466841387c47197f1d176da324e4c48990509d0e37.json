{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport has from \"../../../../core/has.js\";\nimport e from \"../../../../core/Logger.js\";\nimport { clamp as t } from \"../../../../core/mathUtils.js\";\nimport { isSome as r } from \"../../../../core/maybe.js\";\nimport { createRenderScreenPointArray3 as i } from \"../../../../core/screenUtils.js\";\nimport { c as s } from \"../../../../chunks/vec2.js\";\nimport { s as a, b as n, e as o, g as l, a as c, c as h, l as u, i as p, m } from \"../../../../chunks/vec3.js\";\nimport { c as f } from \"../../../../chunks/vec3f64.js\";\nimport { O as T } from \"../../../../chunks/vec4f64.js\";\nimport { PlaneIndex as d } from \"../../../../geometry/support/frustum.js\";\nimport { create as _, distance2 as E, fromPoints as A, closestLineSegmentPoint as v } from \"../../../../geometry/support/lineSegment.js\";\nimport { create as R, fromPoints as S, signedDistance as I, normal as g } from \"../../../../geometry/support/plane.js\";\nimport { newLayout as O } from \"../../support/buffer/InterleavedLayout.js\";\nimport { ShaderOutput as b } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport L from \"../lib/GLMaterial.js\";\nimport { Material as P, RenderOccludedFlag as N } from \"../lib/Material.js\";\nimport { RenderSlot as C } from \"../lib/RenderSlot.js\";\nimport { isTranslationMatrix as y } from \"../lib/Util.js\";\nimport { VertexAttribute as j } from \"../lib/VertexAttribute.js\";\nimport { VisualVariablePassParameters as D } from \"./VisualVariablePassParameters.js\";\nimport { LineMarkerAnchor as U } from \"../shaders/LineMarkerTechniqueConfiguration.js\";\nimport { R as F } from \"../../../../chunks/RibbonLine.glsl.js\";\nimport { vertexAttributeLocations as x, RibbonLineTechnique as w } from \"../shaders/RibbonLineTechnique.js\";\nimport { RibbonLineTechniqueConfiguration as M, CapType as J } from \"../shaders/RibbonLineTechniqueConfiguration.js\";\nvar B;\n!function (e) {\n  e[e.LEFT_JOIN_START = -2] = \"LEFT_JOIN_START\", e[e.LEFT_JOIN_END = -1] = \"LEFT_JOIN_END\", e[e.LEFT_CAP_START = -4] = \"LEFT_CAP_START\", e[e.LEFT_CAP_END = -5] = \"LEFT_CAP_END\", e[e.RIGHT_JOIN_START = 2] = \"RIGHT_JOIN_START\", e[e.RIGHT_JOIN_END = 1] = \"RIGHT_JOIN_END\", e[e.RIGHT_CAP_START = 4] = \"RIGHT_CAP_START\", e[e.RIGHT_CAP_END = 5] = \"RIGHT_CAP_END\";\n}(B || (B = {}));\nclass z extends P {\n  constructor(e) {\n    super(e, new H()), this._configuration = new M(), this._vertexAttributeLocations = x, this._layout = this.createLayout();\n  }\n  isClosed(e, t) {\n    return Z(this.parameters, e, t);\n  }\n  getConfiguration(e, t) {\n    this._configuration.output = e, this._configuration.draped = t.slot === C.DRAPED_MATERIAL;\n    const i = r(this.parameters.stipplePattern) && e !== b.Highlight;\n    return this._configuration.stippleEnabled = i, this._configuration.stippleOffColorEnabled = i && r(this.parameters.stippleOffColor), this._configuration.stippleScaleWithLineWidth = i && this.parameters.stippleScaleWithLineWidth, this._configuration.stipplePreferContinuous = i && this.parameters.stipplePreferContinuous, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.hasOccludees = this.parameters.hasOccludees, this._configuration.roundJoins = \"round\" === this.parameters.join, this._configuration.capType = this.parameters.cap, this._configuration.applyMarkerOffset = !!r(this.parameters.markerParameters) && q(this.parameters.markerParameters), this._configuration.hasPolygonOffset = this.parameters.hasPolygonOffset, this._configuration.writeDepth = this.parameters.writeDepth, this._configuration.vvColor = this.parameters.vvColorEnabled, this._configuration.vvOpacity = this.parameters.vvOpacityEnabled, this._configuration.vvSize = this.parameters.vvSizeEnabled, this._configuration.innerColorEnabled = this.parameters.innerWidth > 0 && r(this.parameters.innerColor), this._configuration.falloffEnabled = this.parameters.falloff > 0, this._configuration.occluder = this.parameters.renderOccluded === N.OccludeAndTransparentStencil, this._configuration.transparencyPassType = t.transparencyPassType, this._configuration.hasMultipassTerrain = t.multipassTerrain.enabled, this._configuration.cullAboveGround = t.multipassTerrain.cullAboveGround, this._configuration.wireframe = this.parameters.wireframe, this._configuration;\n  }\n  intersectDraped(e, r, i, s, a, n) {\n    if (!i.options.selectionMode) return;\n    const o = e.vertexAttributes.get(j.POSITION).data,\n      l = e.vertexAttributes.get(j.SIZE);\n    let c = this.parameters.width;\n    if (this.parameters.vvSizeEnabled) {\n      const r = e.vertexAttributes.get(j.SIZEFEATUREATTRIBUTE).data[0];\n      c *= t(this.parameters.vvSizeOffset[0] + r * this.parameters.vvSizeFactor[0], this.parameters.vvSizeMinSize[0], this.parameters.vvSizeMaxSize[0]);\n    } else l && (c *= l.data[0]);\n    const h = s[0],\n      u = s[1],\n      p = (c / 2 + 4) * e.screenToWorldRatio;\n    let m = Number.MAX_VALUE,\n      f = 0;\n    for (let T = 0; T < o.length - 5; T += 3) {\n      const e = o[T],\n        r = o[T + 1],\n        i = h - e,\n        s = u - r,\n        a = o[T + 3] - e,\n        n = o[T + 4] - r,\n        l = t((a * i + n * s) / (a * a + n * n), 0, 1),\n        c = a * l - i,\n        p = n * l - s,\n        d = c * c + p * p;\n      d < m && (m = d, f = T / 3);\n    }\n    m < p * p && a(n.dist, n.normal, f, !1);\n  }\n  intersect(r, i, m, f, T, _) {\n    if (!m.options.selectionMode || !r.visible) return;\n    if (!y(i)) return void e.getLogger(\"esri.views.3d.webgl-engine.materials.RibbonLineMaterial\").error(\"intersection assumes a translation-only matrix\");\n    const R = r.vertexAttributes,\n      O = R.get(j.POSITION).data;\n    let b = this.parameters.width;\n    if (this.parameters.vvSizeEnabled) {\n      const e = R.get(j.SIZEFEATUREATTRIBUTE).data[0];\n      b *= t(this.parameters.vvSizeOffset[0] + e * this.parameters.vvSizeFactor[0], this.parameters.vvSizeMinSize[0], this.parameters.vvSizeMaxSize[0]);\n    } else R.has(j.SIZE) && (b *= R.get(j.SIZE).data[0]);\n    const L = m.camera,\n      P = $;\n    s(P, m.point);\n    const N = b * L.pixelRatio / 2 + 4 * L.pixelRatio;\n    a(ce[0], P[0] - N, P[1] + N, 0), a(ce[1], P[0] + N, P[1] + N, 0), a(ce[2], P[0] + N, P[1] - N, 0), a(ce[3], P[0] - N, P[1] - N, 0);\n    for (let e = 0; e < 4; e++) if (!L.unprojectFromRenderScreen(ce[e], he[e])) return;\n    S(L.eye, he[0], he[1], ue), S(L.eye, he[1], he[2], pe), S(L.eye, he[2], he[3], me), S(L.eye, he[3], he[0], fe);\n    let C = Number.MAX_VALUE,\n      D = 0;\n    const U = V(this.parameters, R, r.indices) ? O.length - 2 : O.length - 5;\n    for (let e = 0; e < U; e += 3) {\n      X[0] = O[e] + i[12], X[1] = O[e + 1] + i[13], X[2] = O[e + 2] + i[14];\n      const t = (e + 3) % O.length;\n      if (Y[0] = O[t] + i[12], Y[1] = O[t + 1] + i[13], Y[2] = O[t + 2] + i[14], I(ue, X) < 0 && I(ue, Y) < 0 || I(pe, X) < 0 && I(pe, Y) < 0 || I(me, X) < 0 && I(me, Y) < 0 || I(fe, X) < 0 && I(fe, Y) < 0) continue;\n      if (L.projectToRenderScreen(X, ee), L.projectToRenderScreen(Y, te), ee[2] < 0 && te[2] > 0) {\n        n(Q, X, Y);\n        const e = L.frustum,\n          t = -I(e[d.NEAR], X) / o(Q, g(e[d.NEAR]));\n        l(Q, Q, t), c(X, X, Q), L.projectToRenderScreen(X, ee);\n      } else if (ee[2] > 0 && te[2] < 0) {\n        n(Q, Y, X);\n        const e = L.frustum,\n          t = -I(e[d.NEAR], Y) / o(Q, g(e[d.NEAR]));\n        l(Q, Q, t), c(Y, Y, Q), L.projectToRenderScreen(Y, te);\n      } else if (ee[2] < 0 && te[2] < 0) continue;\n      ee[2] = 0, te[2] = 0;\n      const r = E(A(ee, te, se), P);\n      r < C && (C = r, h(re, X), h(ie, Y), D = e / 3);\n    }\n    const F = m.rayBegin,\n      x = m.rayEnd;\n    if (C < N * N) {\n      let e = Number.MAX_VALUE;\n      if (v(A(re, ie, se), A(F, x, ae), K)) {\n        n(K, K, F);\n        const t = u(K);\n        l(K, K, 1 / t), e = t / p(F, x);\n      }\n      _(e, K, D, !1);\n    }\n  }\n  createLayout() {\n    const e = O().vec3f(j.POSITION).f32(j.SUBDIVISIONFACTOR).vec2f(j.UV0).vec3f(j.AUXPOS1).vec3f(j.AUXPOS2);\n    return this.parameters.vvSizeEnabled ? e.f32(j.SIZEFEATUREATTRIBUTE) : e.f32(j.SIZE), this.parameters.vvColorEnabled ? e.f32(j.COLORFEATUREATTRIBUTE) : e.vec4f(j.COLOR), this.parameters.vvOpacityEnabled && e.f32(j.OPACITYFEATUREATTRIBUTE), has(\"enable-feature:objectAndLayerId-rendering\") && e.vec4u8(j.OBJECTANDLAYERIDCOLOR), e;\n  }\n  createBufferWriter() {\n    return new k(this._layout, this.parameters);\n  }\n  requiresSlot(e, t) {\n    if (t === b.Color || t === b.Alpha || t === b.Highlight || t === b.Depth || t === b.ObjectAndLayerIdColor) {\n      if (e === C.DRAPED_MATERIAL) return !0;\n      if (this.parameters.renderOccluded === N.OccludeAndTransparentStencil) return e === C.OPAQUE_MATERIAL || e === C.OCCLUDER_MATERIAL || e === C.TRANSPARENT_OCCLUDER_MATERIAL;\n      if (t === b.Color || t === b.Alpha) {\n        return e === (this.parameters.writeDepth ? C.TRANSPARENT_MATERIAL : C.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL);\n      }\n      return e === C.OPAQUE_MATERIAL;\n    }\n    return !1;\n  }\n  createGLMaterial(e) {\n    return new G(e);\n  }\n  validateParameters(e) {\n    \"miter\" !== e.join && (e.miterLimit = 0), r(e.markerParameters) && (e.markerScale = e.markerParameters.width / e.width);\n  }\n}\nclass G extends L {\n  constructor() {\n    super(...arguments), this._stipplePattern = null;\n  }\n  dispose() {\n    super.dispose(), this._stippleTextureRepository.release(this._stipplePattern), this._stipplePattern = null;\n  }\n  _updateOccludeeState(e) {\n    e.hasOccludees !== this._material.parameters.hasOccludees && this._material.setParameters({\n      hasOccludees: e.hasOccludees\n    });\n  }\n  beginSlot(e) {\n    this._output !== b.Color && this._output !== b.Alpha || this._updateOccludeeState(e);\n    const t = this._material.parameters.stipplePattern;\n    return this._stipplePattern !== t && (this._material.setParameters(this._stippleTextureRepository.swap(this._stipplePattern, t)), this._stipplePattern = t), this.ensureTechnique(w, e);\n  }\n}\nclass H extends D {\n  constructor() {\n    super(...arguments), this.width = 0, this.color = T, this.join = \"miter\", this.cap = J.BUTT, this.miterLimit = 5, this.writeDepth = !0, this.hasPolygonOffset = !1, this.stippleTexture = null, this.stippleScaleWithLineWidth = !1, this.stipplePreferContinuous = !0, this.markerParameters = null, this.markerScale = 1, this.hasSlicePlane = !1, this.vvFastUpdate = !1, this.isClosed = !1, this.falloff = 0, this.innerWidth = 0, this.hasOccludees = !1, this.wireframe = !1;\n  }\n}\nclass k {\n  constructor(e, t) {\n    this._parameters = t, this.numJoinSubdivisions = 0, this.vertexBufferLayout = e;\n    const r = t.stipplePattern ? 1 : 0;\n    switch (this._parameters.join) {\n      case \"miter\":\n      case \"bevel\":\n        this.numJoinSubdivisions = r;\n        break;\n      case \"round\":\n        this.numJoinSubdivisions = F + r;\n    }\n  }\n  _isClosed(e) {\n    return V(this._parameters, e.vertexAttributes, e.indices);\n  }\n  allocate(e) {\n    return this.vertexBufferLayout.createBuffer(e);\n  }\n  elementCount(e) {\n    const t = 2,\n      r = e.indices.get(j.POSITION).length / 2 + 1,\n      i = this._isClosed(e);\n    let s = i ? 2 : 2 * t;\n    return s += ((i ? r : r - 1) - (i ? 0 : 1)) * (2 * this.numJoinSubdivisions + 4), s += 2, this._parameters.wireframe && (s = 2 + 4 * (s - 2)), s;\n  }\n  write(e, t, i, s, n) {\n    const o = ne,\n      l = oe,\n      c = le,\n      u = i.vertexAttributes.get(j.POSITION).data,\n      f = i.indices && i.indices.get(j.POSITION),\n      T = i.vertexAttributes.get(j.DISTANCETOSTART)?.data;\n    f && f.length !== 2 * (u.length / 3 - 1) && console.warn(\"RibbonLineMaterial does not support indices\");\n    let d = 1,\n      _ = 0;\n    this._parameters.vvSizeEnabled ? _ = i.vertexAttributes.get(j.SIZEFEATUREATTRIBUTE).data[0] : i.vertexAttributes.has(j.SIZE) && (d = i.vertexAttributes.get(j.SIZE).data[0]);\n    let E = [1, 1, 1, 1],\n      A = 0;\n    this._parameters.vvColorEnabled ? A = i.vertexAttributes.get(j.COLORFEATUREATTRIBUTE).data[0] : i.vertexAttributes.has(j.COLOR) && (E = i.vertexAttributes.get(j.COLOR).data);\n    const v = has(\"enable-feature:objectAndLayerId-rendering\") ? i.objectAndLayerIdColor : null;\n    let R = 0;\n    this._parameters.vvOpacityEnabled && (R = i.vertexAttributes.get(j.OPACITYFEATUREATTRIBUTE).data[0]);\n    const S = u.length / 3,\n      I = new Float32Array(s.buffer),\n      g = has(\"enable-feature:objectAndLayerId-rendering\") ? new Uint8Array(s.buffer) : null,\n      O = this.vertexBufferLayout.stride / 4;\n    let b = n * O;\n    const L = b;\n    let P = 0;\n    const N = T ? (e, t, r) => P = T[r] : (e, t, r) => P += p(e, t),\n      C = has(\"enable-feature:objectAndLayerId-rendering\"),\n      y = (e, t, i, s, a, n, o) => {\n        if (I[b++] = t[0], I[b++] = t[1], I[b++] = t[2], I[b++] = s, I[b++] = o, I[b++] = a, I[b++] = e[0], I[b++] = e[1], I[b++] = e[2], I[b++] = i[0], I[b++] = i[1], I[b++] = i[2], this._parameters.vvSizeEnabled ? I[b++] = _ : I[b++] = d, this._parameters.vvColorEnabled) I[b++] = A;else {\n          const e = Math.min(4 * n, E.length - 4);\n          I[b++] = E[e], I[b++] = E[e + 1], I[b++] = E[e + 2], I[b++] = E[e + 3];\n        }\n        this._parameters.vvOpacityEnabled && (I[b++] = R), C && (r(v) && (g[4 * b] = v[0], g[4 * b + 1] = v[1], g[4 * b + 2] = v[2], g[4 * b + 3] = v[3]), b++);\n      };\n    b += O, a(l, u[0], u[1], u[2]), e && m(l, l, e);\n    const D = this._isClosed(i);\n    if (D) {\n      const t = u.length - 3;\n      a(o, u[t], u[t + 1], u[t + 2]), e && m(o, o, e);\n    } else a(c, u[3], u[4], u[5]), e && m(c, c, e), y(l, l, c, 1, B.LEFT_CAP_START, 0, 0), y(l, l, c, 1, B.RIGHT_CAP_START, 0, 0), h(o, l), h(l, c);\n    const U = D ? 0 : 1,\n      F = D ? S : S - 1;\n    for (let r = U; r < F; r++) {\n      const t = (r + 1) % S * 3;\n      a(c, u[t], u[t + 1], u[t + 2]), e && m(c, c, e), N(o, l, r), y(o, l, c, 0, B.LEFT_JOIN_END, r, P), y(o, l, c, 0, B.RIGHT_JOIN_END, r, P);\n      const i = this.numJoinSubdivisions;\n      for (let e = 0; e < i; ++e) {\n        const t = (e + 1) / (i + 1);\n        y(o, l, c, t, B.LEFT_JOIN_END, r, P), y(o, l, c, t, B.RIGHT_JOIN_END, r, P);\n      }\n      y(o, l, c, 1, B.LEFT_JOIN_START, r, P), y(o, l, c, 1, B.RIGHT_JOIN_START, r, P), h(o, l), h(l, c);\n    }\n    D ? (a(c, u[3], u[4], u[5]), e && m(c, c, e), P = N(o, l, F), y(o, l, c, 0, B.LEFT_JOIN_END, U, P), y(o, l, c, 0, B.RIGHT_JOIN_END, U, P)) : (P = N(o, l, F), y(o, l, l, 0, B.LEFT_CAP_END, F, P), y(o, l, l, 0, B.RIGHT_CAP_END, F, P)), W(I, L + O, I, L, O);\n    b = W(I, b - O, I, b, O), this._parameters.wireframe && this._addWireframeVertices(s, L, b, O);\n  }\n  _addWireframeVertices(e, t, r, i) {\n    const s = new Float32Array(e.buffer, r * Float32Array.BYTES_PER_ELEMENT),\n      a = new Float32Array(e.buffer, t * Float32Array.BYTES_PER_ELEMENT, r - t);\n    let n = 0;\n    const o = e => n = W(a, e, s, n, i);\n    for (let l = 0; l < a.length - 1; l += 2 * i) o(l), o(l + 2 * i), o(l + 1 * i), o(l + 2 * i), o(l + 1 * i), o(l + 3 * i);\n  }\n}\nfunction W(e, t, r, i, s) {\n  for (let a = 0; a < s; a++) r[i++] = e[t++];\n  return i;\n}\nfunction V(e, t, r) {\n  return Z(e, t.get(j.POSITION).data, r ? r.get(j.POSITION) : null);\n}\nfunction Z(e, t, r) {\n  return !!e.isClosed && (r ? r.length > 2 : t.length > 6);\n}\nfunction q(e) {\n  return e.anchor === U.Tip && e.hideOnShortSegments && \"begin-end\" === e.placement && e.worldSpace;\n}\nconst X = f(),\n  Y = f(),\n  Q = f(),\n  K = f(),\n  $ = f(),\n  ee = i(),\n  te = i(),\n  re = f(),\n  ie = f(),\n  se = _(),\n  ae = _(),\n  ne = f(),\n  oe = f(),\n  le = f(),\n  ce = [i(), i(), i(), i()],\n  he = [f(), f(), f(), f()],\n  ue = R(),\n  pe = R(),\n  me = R(),\n  fe = R();\nexport { H as Parameters, z as RibbonLineMaterial };","map":{"version":3,"names":["has","e","clamp","t","isSome","r","createRenderScreenPointArray3","i","c","s","a","b","n","o","g","l","h","u","p","m","f","O","T","PlaneIndex","d","create","_","distance2","E","fromPoints","A","closestLineSegmentPoint","v","R","S","signedDistance","I","normal","newLayout","ShaderOutput","L","Material","P","RenderOccludedFlag","N","RenderSlot","C","isTranslationMatrix","y","VertexAttribute","j","VisualVariablePassParameters","D","LineMarkerAnchor","U","F","vertexAttributeLocations","x","RibbonLineTechnique","w","RibbonLineTechniqueConfiguration","M","CapType","J","B","LEFT_JOIN_START","LEFT_JOIN_END","LEFT_CAP_START","LEFT_CAP_END","RIGHT_JOIN_START","RIGHT_JOIN_END","RIGHT_CAP_START","RIGHT_CAP_END","z","constructor","H","_configuration","_vertexAttributeLocations","_layout","createLayout","isClosed","Z","parameters","getConfiguration","output","draped","slot","DRAPED_MATERIAL","stipplePattern","Highlight","stippleEnabled","stippleOffColorEnabled","stippleOffColor","stippleScaleWithLineWidth","stipplePreferContinuous","hasSlicePlane","hasOccludees","roundJoins","join","capType","cap","applyMarkerOffset","markerParameters","q","hasPolygonOffset","writeDepth","vvColor","vvColorEnabled","vvOpacity","vvOpacityEnabled","vvSize","vvSizeEnabled","innerColorEnabled","innerWidth","innerColor","falloffEnabled","falloff","occluder","renderOccluded","OccludeAndTransparentStencil","transparencyPassType","hasMultipassTerrain","multipassTerrain","enabled","cullAboveGround","wireframe","intersectDraped","options","selectionMode","vertexAttributes","get","POSITION","data","SIZE","width","SIZEFEATUREATTRIBUTE","vvSizeOffset","vvSizeFactor","vvSizeMinSize","vvSizeMaxSize","screenToWorldRatio","Number","MAX_VALUE","length","dist","intersect","visible","getLogger","error","camera","$","point","pixelRatio","ce","unprojectFromRenderScreen","he","eye","ue","pe","me","fe","V","indices","X","Y","projectToRenderScreen","ee","te","Q","frustum","NEAR","se","re","ie","rayBegin","rayEnd","ae","K","vec3f","f32","SUBDIVISIONFACTOR","vec2f","UV0","AUXPOS1","AUXPOS2","COLORFEATUREATTRIBUTE","vec4f","COLOR","OPACITYFEATUREATTRIBUTE","vec4u8","OBJECTANDLAYERIDCOLOR","createBufferWriter","k","requiresSlot","Color","Alpha","Depth","ObjectAndLayerIdColor","OPAQUE_MATERIAL","OCCLUDER_MATERIAL","TRANSPARENT_OCCLUDER_MATERIAL","TRANSPARENT_MATERIAL","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","createGLMaterial","G","validateParameters","miterLimit","markerScale","arguments","_stipplePattern","dispose","_stippleTextureRepository","release","_updateOccludeeState","_material","setParameters","beginSlot","_output","swap","ensureTechnique","color","BUTT","stippleTexture","vvFastUpdate","_parameters","numJoinSubdivisions","vertexBufferLayout","_isClosed","allocate","createBuffer","elementCount","write","ne","oe","le","DISTANCETOSTART","console","warn","objectAndLayerIdColor","Float32Array","buffer","Uint8Array","stride","Math","min","W","_addWireframeVertices","BYTES_PER_ELEMENT","anchor","Tip","hideOnShortSegments","placement","worldSpace","Parameters","RibbonLineMaterial"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import e from\"../../../../core/Logger.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{createRenderScreenPointArray3 as i}from\"../../../../core/screenUtils.js\";import{c as s}from\"../../../../chunks/vec2.js\";import{s as a,b as n,e as o,g as l,a as c,c as h,l as u,i as p,m}from\"../../../../chunks/vec3.js\";import{c as f}from\"../../../../chunks/vec3f64.js\";import{O as T}from\"../../../../chunks/vec4f64.js\";import{PlaneIndex as d}from\"../../../../geometry/support/frustum.js\";import{create as _,distance2 as E,fromPoints as A,closestLineSegmentPoint as v}from\"../../../../geometry/support/lineSegment.js\";import{create as R,fromPoints as S,signedDistance as I,normal as g}from\"../../../../geometry/support/plane.js\";import{newLayout as O}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as b}from\"../core/shaderLibrary/ShaderOutput.js\";import L from\"../lib/GLMaterial.js\";import{Material as P,RenderOccludedFlag as N}from\"../lib/Material.js\";import{RenderSlot as C}from\"../lib/RenderSlot.js\";import{isTranslationMatrix as y}from\"../lib/Util.js\";import{VertexAttribute as j}from\"../lib/VertexAttribute.js\";import{VisualVariablePassParameters as D}from\"./VisualVariablePassParameters.js\";import{LineMarkerAnchor as U}from\"../shaders/LineMarkerTechniqueConfiguration.js\";import{R as F}from\"../../../../chunks/RibbonLine.glsl.js\";import{vertexAttributeLocations as x,RibbonLineTechnique as w}from\"../shaders/RibbonLineTechnique.js\";import{RibbonLineTechniqueConfiguration as M,CapType as J}from\"../shaders/RibbonLineTechniqueConfiguration.js\";var B;!function(e){e[e.LEFT_JOIN_START=-2]=\"LEFT_JOIN_START\",e[e.LEFT_JOIN_END=-1]=\"LEFT_JOIN_END\",e[e.LEFT_CAP_START=-4]=\"LEFT_CAP_START\",e[e.LEFT_CAP_END=-5]=\"LEFT_CAP_END\",e[e.RIGHT_JOIN_START=2]=\"RIGHT_JOIN_START\",e[e.RIGHT_JOIN_END=1]=\"RIGHT_JOIN_END\",e[e.RIGHT_CAP_START=4]=\"RIGHT_CAP_START\",e[e.RIGHT_CAP_END=5]=\"RIGHT_CAP_END\"}(B||(B={}));class z extends P{constructor(e){super(e,new H),this._configuration=new M,this._vertexAttributeLocations=x,this._layout=this.createLayout()}isClosed(e,t){return Z(this.parameters,e,t)}getConfiguration(e,t){this._configuration.output=e,this._configuration.draped=t.slot===C.DRAPED_MATERIAL;const i=r(this.parameters.stipplePattern)&&e!==b.Highlight;return this._configuration.stippleEnabled=i,this._configuration.stippleOffColorEnabled=i&&r(this.parameters.stippleOffColor),this._configuration.stippleScaleWithLineWidth=i&&this.parameters.stippleScaleWithLineWidth,this._configuration.stipplePreferContinuous=i&&this.parameters.stipplePreferContinuous,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.roundJoins=\"round\"===this.parameters.join,this._configuration.capType=this.parameters.cap,this._configuration.applyMarkerOffset=!!r(this.parameters.markerParameters)&&q(this.parameters.markerParameters),this._configuration.hasPolygonOffset=this.parameters.hasPolygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.vvColor=this.parameters.vvColorEnabled,this._configuration.vvOpacity=this.parameters.vvOpacityEnabled,this._configuration.vvSize=this.parameters.vvSizeEnabled,this._configuration.innerColorEnabled=this.parameters.innerWidth>0&&r(this.parameters.innerColor),this._configuration.falloffEnabled=this.parameters.falloff>0,this._configuration.occluder=this.parameters.renderOccluded===N.OccludeAndTransparentStencil,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration.wireframe=this.parameters.wireframe,this._configuration}intersectDraped(e,r,i,s,a,n){if(!i.options.selectionMode)return;const o=e.vertexAttributes.get(j.POSITION).data,l=e.vertexAttributes.get(j.SIZE);let c=this.parameters.width;if(this.parameters.vvSizeEnabled){const r=e.vertexAttributes.get(j.SIZEFEATUREATTRIBUTE).data[0];c*=t(this.parameters.vvSizeOffset[0]+r*this.parameters.vvSizeFactor[0],this.parameters.vvSizeMinSize[0],this.parameters.vvSizeMaxSize[0])}else l&&(c*=l.data[0]);const h=s[0],u=s[1],p=(c/2+4)*e.screenToWorldRatio;let m=Number.MAX_VALUE,f=0;for(let T=0;T<o.length-5;T+=3){const e=o[T],r=o[T+1],i=h-e,s=u-r,a=o[T+3]-e,n=o[T+4]-r,l=t((a*i+n*s)/(a*a+n*n),0,1),c=a*l-i,p=n*l-s,d=c*c+p*p;d<m&&(m=d,f=T/3)}m<p*p&&a(n.dist,n.normal,f,!1)}intersect(r,i,m,f,T,_){if(!m.options.selectionMode||!r.visible)return;if(!y(i))return void e.getLogger(\"esri.views.3d.webgl-engine.materials.RibbonLineMaterial\").error(\"intersection assumes a translation-only matrix\");const R=r.vertexAttributes,O=R.get(j.POSITION).data;let b=this.parameters.width;if(this.parameters.vvSizeEnabled){const e=R.get(j.SIZEFEATUREATTRIBUTE).data[0];b*=t(this.parameters.vvSizeOffset[0]+e*this.parameters.vvSizeFactor[0],this.parameters.vvSizeMinSize[0],this.parameters.vvSizeMaxSize[0])}else R.has(j.SIZE)&&(b*=R.get(j.SIZE).data[0]);const L=m.camera,P=$;s(P,m.point);const N=b*L.pixelRatio/2+4*L.pixelRatio;a(ce[0],P[0]-N,P[1]+N,0),a(ce[1],P[0]+N,P[1]+N,0),a(ce[2],P[0]+N,P[1]-N,0),a(ce[3],P[0]-N,P[1]-N,0);for(let e=0;e<4;e++)if(!L.unprojectFromRenderScreen(ce[e],he[e]))return;S(L.eye,he[0],he[1],ue),S(L.eye,he[1],he[2],pe),S(L.eye,he[2],he[3],me),S(L.eye,he[3],he[0],fe);let C=Number.MAX_VALUE,D=0;const U=V(this.parameters,R,r.indices)?O.length-2:O.length-5;for(let e=0;e<U;e+=3){X[0]=O[e]+i[12],X[1]=O[e+1]+i[13],X[2]=O[e+2]+i[14];const t=(e+3)%O.length;if(Y[0]=O[t]+i[12],Y[1]=O[t+1]+i[13],Y[2]=O[t+2]+i[14],I(ue,X)<0&&I(ue,Y)<0||I(pe,X)<0&&I(pe,Y)<0||I(me,X)<0&&I(me,Y)<0||I(fe,X)<0&&I(fe,Y)<0)continue;if(L.projectToRenderScreen(X,ee),L.projectToRenderScreen(Y,te),ee[2]<0&&te[2]>0){n(Q,X,Y);const e=L.frustum,t=-I(e[d.NEAR],X)/o(Q,g(e[d.NEAR]));l(Q,Q,t),c(X,X,Q),L.projectToRenderScreen(X,ee)}else if(ee[2]>0&&te[2]<0){n(Q,Y,X);const e=L.frustum,t=-I(e[d.NEAR],Y)/o(Q,g(e[d.NEAR]));l(Q,Q,t),c(Y,Y,Q),L.projectToRenderScreen(Y,te)}else if(ee[2]<0&&te[2]<0)continue;ee[2]=0,te[2]=0;const r=E(A(ee,te,se),P);r<C&&(C=r,h(re,X),h(ie,Y),D=e/3)}const F=m.rayBegin,x=m.rayEnd;if(C<N*N){let e=Number.MAX_VALUE;if(v(A(re,ie,se),A(F,x,ae),K)){n(K,K,F);const t=u(K);l(K,K,1/t),e=t/p(F,x)}_(e,K,D,!1)}}createLayout(){const e=O().vec3f(j.POSITION).f32(j.SUBDIVISIONFACTOR).vec2f(j.UV0).vec3f(j.AUXPOS1).vec3f(j.AUXPOS2);return this.parameters.vvSizeEnabled?e.f32(j.SIZEFEATUREATTRIBUTE):e.f32(j.SIZE),this.parameters.vvColorEnabled?e.f32(j.COLORFEATUREATTRIBUTE):e.vec4f(j.COLOR),this.parameters.vvOpacityEnabled&&e.f32(j.OPACITYFEATUREATTRIBUTE),has(\"enable-feature:objectAndLayerId-rendering\")&&e.vec4u8(j.OBJECTANDLAYERIDCOLOR),e}createBufferWriter(){return new k(this._layout,this.parameters)}requiresSlot(e,t){if(t===b.Color||t===b.Alpha||t===b.Highlight||t===b.Depth||t===b.ObjectAndLayerIdColor){if(e===C.DRAPED_MATERIAL)return!0;if(this.parameters.renderOccluded===N.OccludeAndTransparentStencil)return e===C.OPAQUE_MATERIAL||e===C.OCCLUDER_MATERIAL||e===C.TRANSPARENT_OCCLUDER_MATERIAL;if(t===b.Color||t===b.Alpha){return e===(this.parameters.writeDepth?C.TRANSPARENT_MATERIAL:C.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL)}return e===C.OPAQUE_MATERIAL}return!1}createGLMaterial(e){return new G(e)}validateParameters(e){\"miter\"!==e.join&&(e.miterLimit=0),r(e.markerParameters)&&(e.markerScale=e.markerParameters.width/e.width)}}class G extends L{constructor(){super(...arguments),this._stipplePattern=null}dispose(){super.dispose(),this._stippleTextureRepository.release(this._stipplePattern),this._stipplePattern=null}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:e.hasOccludees})}beginSlot(e){this._output!==b.Color&&this._output!==b.Alpha||this._updateOccludeeState(e);const t=this._material.parameters.stipplePattern;return this._stipplePattern!==t&&(this._material.setParameters(this._stippleTextureRepository.swap(this._stipplePattern,t)),this._stipplePattern=t),this.ensureTechnique(w,e)}}class H extends D{constructor(){super(...arguments),this.width=0,this.color=T,this.join=\"miter\",this.cap=J.BUTT,this.miterLimit=5,this.writeDepth=!0,this.hasPolygonOffset=!1,this.stippleTexture=null,this.stippleScaleWithLineWidth=!1,this.stipplePreferContinuous=!0,this.markerParameters=null,this.markerScale=1,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.isClosed=!1,this.falloff=0,this.innerWidth=0,this.hasOccludees=!1,this.wireframe=!1}}class k{constructor(e,t){this._parameters=t,this.numJoinSubdivisions=0,this.vertexBufferLayout=e;const r=t.stipplePattern?1:0;switch(this._parameters.join){case\"miter\":case\"bevel\":this.numJoinSubdivisions=r;break;case\"round\":this.numJoinSubdivisions=F+r}}_isClosed(e){return V(this._parameters,e.vertexAttributes,e.indices)}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){const t=2,r=e.indices.get(j.POSITION).length/2+1,i=this._isClosed(e);let s=i?2:2*t;return s+=((i?r:r-1)-(i?0:1))*(2*this.numJoinSubdivisions+4),s+=2,this._parameters.wireframe&&(s=2+4*(s-2)),s}write(e,t,i,s,n){const o=ne,l=oe,c=le,u=i.vertexAttributes.get(j.POSITION).data,f=i.indices&&i.indices.get(j.POSITION),T=i.vertexAttributes.get(j.DISTANCETOSTART)?.data;f&&f.length!==2*(u.length/3-1)&&console.warn(\"RibbonLineMaterial does not support indices\");let d=1,_=0;this._parameters.vvSizeEnabled?_=i.vertexAttributes.get(j.SIZEFEATUREATTRIBUTE).data[0]:i.vertexAttributes.has(j.SIZE)&&(d=i.vertexAttributes.get(j.SIZE).data[0]);let E=[1,1,1,1],A=0;this._parameters.vvColorEnabled?A=i.vertexAttributes.get(j.COLORFEATUREATTRIBUTE).data[0]:i.vertexAttributes.has(j.COLOR)&&(E=i.vertexAttributes.get(j.COLOR).data);const v=has(\"enable-feature:objectAndLayerId-rendering\")?i.objectAndLayerIdColor:null;let R=0;this._parameters.vvOpacityEnabled&&(R=i.vertexAttributes.get(j.OPACITYFEATUREATTRIBUTE).data[0]);const S=u.length/3,I=new Float32Array(s.buffer),g=has(\"enable-feature:objectAndLayerId-rendering\")?new Uint8Array(s.buffer):null,O=this.vertexBufferLayout.stride/4;let b=n*O;const L=b;let P=0;const N=T?(e,t,r)=>P=T[r]:(e,t,r)=>P+=p(e,t),C=has(\"enable-feature:objectAndLayerId-rendering\"),y=(e,t,i,s,a,n,o)=>{if(I[b++]=t[0],I[b++]=t[1],I[b++]=t[2],I[b++]=s,I[b++]=o,I[b++]=a,I[b++]=e[0],I[b++]=e[1],I[b++]=e[2],I[b++]=i[0],I[b++]=i[1],I[b++]=i[2],this._parameters.vvSizeEnabled?I[b++]=_:I[b++]=d,this._parameters.vvColorEnabled)I[b++]=A;else{const e=Math.min(4*n,E.length-4);I[b++]=E[e],I[b++]=E[e+1],I[b++]=E[e+2],I[b++]=E[e+3]}this._parameters.vvOpacityEnabled&&(I[b++]=R),C&&(r(v)&&(g[4*b]=v[0],g[4*b+1]=v[1],g[4*b+2]=v[2],g[4*b+3]=v[3]),b++)};b+=O,a(l,u[0],u[1],u[2]),e&&m(l,l,e);const D=this._isClosed(i);if(D){const t=u.length-3;a(o,u[t],u[t+1],u[t+2]),e&&m(o,o,e)}else a(c,u[3],u[4],u[5]),e&&m(c,c,e),y(l,l,c,1,B.LEFT_CAP_START,0,0),y(l,l,c,1,B.RIGHT_CAP_START,0,0),h(o,l),h(l,c);const U=D?0:1,F=D?S:S-1;for(let r=U;r<F;r++){const t=(r+1)%S*3;a(c,u[t],u[t+1],u[t+2]),e&&m(c,c,e),N(o,l,r),y(o,l,c,0,B.LEFT_JOIN_END,r,P),y(o,l,c,0,B.RIGHT_JOIN_END,r,P);const i=this.numJoinSubdivisions;for(let e=0;e<i;++e){const t=(e+1)/(i+1);y(o,l,c,t,B.LEFT_JOIN_END,r,P),y(o,l,c,t,B.RIGHT_JOIN_END,r,P)}y(o,l,c,1,B.LEFT_JOIN_START,r,P),y(o,l,c,1,B.RIGHT_JOIN_START,r,P),h(o,l),h(l,c)}D?(a(c,u[3],u[4],u[5]),e&&m(c,c,e),P=N(o,l,F),y(o,l,c,0,B.LEFT_JOIN_END,U,P),y(o,l,c,0,B.RIGHT_JOIN_END,U,P)):(P=N(o,l,F),y(o,l,l,0,B.LEFT_CAP_END,F,P),y(o,l,l,0,B.RIGHT_CAP_END,F,P)),W(I,L+O,I,L,O);b=W(I,b-O,I,b,O),this._parameters.wireframe&&this._addWireframeVertices(s,L,b,O)}_addWireframeVertices(e,t,r,i){const s=new Float32Array(e.buffer,r*Float32Array.BYTES_PER_ELEMENT),a=new Float32Array(e.buffer,t*Float32Array.BYTES_PER_ELEMENT,r-t);let n=0;const o=e=>n=W(a,e,s,n,i);for(let l=0;l<a.length-1;l+=2*i)o(l),o(l+2*i),o(l+1*i),o(l+2*i),o(l+1*i),o(l+3*i)}}function W(e,t,r,i,s){for(let a=0;a<s;a++)r[i++]=e[t++];return i}function V(e,t,r){return Z(e,t.get(j.POSITION).data,r?r.get(j.POSITION):null)}function Z(e,t,r){return!!e.isClosed&&(r?r.length>2:t.length>6)}function q(e){return e.anchor===U.Tip&&e.hideOnShortSegments&&\"begin-end\"===e.placement&&e.worldSpace}const X=f(),Y=f(),Q=f(),K=f(),$=f(),ee=i(),te=i(),re=f(),ie=f(),se=_(),ae=_(),ne=f(),oe=f(),le=f(),ce=[i(),i(),i(),i()],he=[f(),f(),f(),f()],ue=R(),pe=R(),me=R(),fe=R();export{H as Parameters,z as RibbonLineMaterial};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,GAAG,MAAK,yBAAyB;AAAC,OAAOC,CAAC,MAAK,4BAA4B;AAAC,SAAOC,KAAK,IAAIC,CAAC,QAAK,+BAA+B;AAAC,SAAOC,MAAM,IAAIC,CAAC,QAAK,2BAA2B;AAAC,SAAOC,6BAA6B,IAAIC,CAAC,QAAK,iCAAiC;AAAC,SAAOC,CAAC,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOA,CAAC,IAAIC,CAAC,EAACC,CAAC,IAAIC,CAAC,EAACX,CAAC,IAAIY,CAAC,EAACC,CAAC,IAAIC,CAAC,EAACL,CAAC,IAAIF,CAAC,EAACA,CAAC,IAAIQ,CAAC,EAACD,CAAC,IAAIE,CAAC,EAACV,CAAC,IAAIW,CAAC,EAACC,CAAC,QAAK,4BAA4B;AAAC,SAAOX,CAAC,IAAIY,CAAC,QAAK,+BAA+B;AAAC,SAAOC,CAAC,IAAIC,CAAC,QAAK,+BAA+B;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,yCAAyC;AAAC,SAAOC,MAAM,IAAIC,CAAC,EAACC,SAAS,IAAIC,CAAC,EAACC,UAAU,IAAIC,CAAC,EAACC,uBAAuB,IAAIC,CAAC,QAAK,6CAA6C;AAAC,SAAOP,MAAM,IAAIQ,CAAC,EAACJ,UAAU,IAAIK,CAAC,EAACC,cAAc,IAAIC,CAAC,EAACC,MAAM,IAAIvB,CAAC,QAAK,uCAAuC;AAAC,SAAOwB,SAAS,IAAIjB,CAAC,QAAK,2CAA2C;AAAC,SAAOkB,YAAY,IAAI5B,CAAC,QAAK,uCAAuC;AAAC,OAAO6B,CAAC,MAAK,sBAAsB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,EAACC,kBAAkB,IAAIC,CAAC,QAAK,oBAAoB;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,sBAAsB;AAAC,SAAOC,mBAAmB,IAAIC,CAAC,QAAK,gBAAgB;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,2BAA2B;AAAC,SAAOC,4BAA4B,IAAIC,CAAC,QAAK,mCAAmC;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,gDAAgD;AAAC,SAAOrB,CAAC,IAAIsB,CAAC,QAAK,uCAAuC;AAAC,SAAOC,wBAAwB,IAAIC,CAAC,EAACC,mBAAmB,IAAIC,CAAC,QAAK,mCAAmC;AAAC,SAAOC,gCAAgC,IAAIC,CAAC,EAACC,OAAO,IAAIC,CAAC,QAAK,gDAAgD;AAAC,IAAIC,CAAC;AAAC,CAAC,UAAS/D,CAAC,EAAC;EAACA,CAAC,CAACA,CAAC,CAACgE,eAAe,GAAC,CAAC,CAAC,CAAC,GAAC,iBAAiB,EAAChE,CAAC,CAACA,CAAC,CAACiE,aAAa,GAAC,CAAC,CAAC,CAAC,GAAC,eAAe,EAACjE,CAAC,CAACA,CAAC,CAACkE,cAAc,GAAC,CAAC,CAAC,CAAC,GAAC,gBAAgB,EAAClE,CAAC,CAACA,CAAC,CAACmE,YAAY,GAAC,CAAC,CAAC,CAAC,GAAC,cAAc,EAACnE,CAAC,CAACA,CAAC,CAACoE,gBAAgB,GAAC,CAAC,CAAC,GAAC,kBAAkB,EAACpE,CAAC,CAACA,CAAC,CAACqE,cAAc,GAAC,CAAC,CAAC,GAAC,gBAAgB,EAACrE,CAAC,CAACA,CAAC,CAACsE,eAAe,GAAC,CAAC,CAAC,GAAC,iBAAiB,EAACtE,CAAC,CAACA,CAAC,CAACuE,aAAa,GAAC,CAAC,CAAC,GAAC,eAAe;AAAA,CAAC,CAACR,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC;AAAC,MAAMS,CAAC,SAAS/B,CAAC;EAACgC,WAAWA,CAACzE,CAAC,EAAC;IAAC,KAAK,CAACA,CAAC,EAAC,IAAI0E,CAAC,GAAC,EAAC,IAAI,CAACC,cAAc,GAAC,IAAIf,CAAC,IAAC,IAAI,CAACgB,yBAAyB,GAACpB,CAAC,EAAC,IAAI,CAACqB,OAAO,GAAC,IAAI,CAACC,YAAY,EAAE;EAAA;EAACC,QAAQA,CAAC/E,CAAC,EAACE,CAAC,EAAC;IAAC,OAAO8E,CAAC,CAAC,IAAI,CAACC,UAAU,EAACjF,CAAC,EAACE,CAAC,CAAC;EAAA;EAACgF,gBAAgBA,CAAClF,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACyE,cAAc,CAACQ,MAAM,GAACnF,CAAC,EAAC,IAAI,CAAC2E,cAAc,CAACS,MAAM,GAAClF,CAAC,CAACmF,IAAI,KAAGxC,CAAC,CAACyC,eAAe;IAAC,MAAMhF,CAAC,GAACF,CAAC,CAAC,IAAI,CAAC6E,UAAU,CAACM,cAAc,CAAC,IAAEvF,CAAC,KAAGU,CAAC,CAAC8E,SAAS;IAAC,OAAO,IAAI,CAACb,cAAc,CAACc,cAAc,GAACnF,CAAC,EAAC,IAAI,CAACqE,cAAc,CAACe,sBAAsB,GAACpF,CAAC,IAAEF,CAAC,CAAC,IAAI,CAAC6E,UAAU,CAACU,eAAe,CAAC,EAAC,IAAI,CAAChB,cAAc,CAACiB,yBAAyB,GAACtF,CAAC,IAAE,IAAI,CAAC2E,UAAU,CAACW,yBAAyB,EAAC,IAAI,CAACjB,cAAc,CAACkB,uBAAuB,GAACvF,CAAC,IAAE,IAAI,CAAC2E,UAAU,CAACY,uBAAuB,EAAC,IAAI,CAAClB,cAAc,CAACmB,aAAa,GAAC,IAAI,CAACb,UAAU,CAACa,aAAa,EAAC,IAAI,CAACnB,cAAc,CAACoB,YAAY,GAAC,IAAI,CAACd,UAAU,CAACc,YAAY,EAAC,IAAI,CAACpB,cAAc,CAACqB,UAAU,GAAC,OAAO,KAAG,IAAI,CAACf,UAAU,CAACgB,IAAI,EAAC,IAAI,CAACtB,cAAc,CAACuB,OAAO,GAAC,IAAI,CAACjB,UAAU,CAACkB,GAAG,EAAC,IAAI,CAACxB,cAAc,CAACyB,iBAAiB,GAAC,CAAC,CAAChG,CAAC,CAAC,IAAI,CAAC6E,UAAU,CAACoB,gBAAgB,CAAC,IAAEC,CAAC,CAAC,IAAI,CAACrB,UAAU,CAACoB,gBAAgB,CAAC,EAAC,IAAI,CAAC1B,cAAc,CAAC4B,gBAAgB,GAAC,IAAI,CAACtB,UAAU,CAACsB,gBAAgB,EAAC,IAAI,CAAC5B,cAAc,CAAC6B,UAAU,GAAC,IAAI,CAACvB,UAAU,CAACuB,UAAU,EAAC,IAAI,CAAC7B,cAAc,CAAC8B,OAAO,GAAC,IAAI,CAACxB,UAAU,CAACyB,cAAc,EAAC,IAAI,CAAC/B,cAAc,CAACgC,SAAS,GAAC,IAAI,CAAC1B,UAAU,CAAC2B,gBAAgB,EAAC,IAAI,CAACjC,cAAc,CAACkC,MAAM,GAAC,IAAI,CAAC5B,UAAU,CAAC6B,aAAa,EAAC,IAAI,CAACnC,cAAc,CAACoC,iBAAiB,GAAC,IAAI,CAAC9B,UAAU,CAAC+B,UAAU,GAAC,CAAC,IAAE5G,CAAC,CAAC,IAAI,CAAC6E,UAAU,CAACgC,UAAU,CAAC,EAAC,IAAI,CAACtC,cAAc,CAACuC,cAAc,GAAC,IAAI,CAACjC,UAAU,CAACkC,OAAO,GAAC,CAAC,EAAC,IAAI,CAACxC,cAAc,CAACyC,QAAQ,GAAC,IAAI,CAACnC,UAAU,CAACoC,cAAc,KAAG1E,CAAC,CAAC2E,4BAA4B,EAAC,IAAI,CAAC3C,cAAc,CAAC4C,oBAAoB,GAACrH,CAAC,CAACqH,oBAAoB,EAAC,IAAI,CAAC5C,cAAc,CAAC6C,mBAAmB,GAACtH,CAAC,CAACuH,gBAAgB,CAACC,OAAO,EAAC,IAAI,CAAC/C,cAAc,CAACgD,eAAe,GAACzH,CAAC,CAACuH,gBAAgB,CAACE,eAAe,EAAC,IAAI,CAAChD,cAAc,CAACiD,SAAS,GAAC,IAAI,CAAC3C,UAAU,CAAC2C,SAAS,EAAC,IAAI,CAACjD,cAAc;EAAA;EAACkD,eAAeA,CAAC7H,CAAC,EAACI,CAAC,EAACE,CAAC,EAACE,CAAC,EAACC,CAAC,EAACE,CAAC,EAAC;IAAC,IAAG,CAACL,CAAC,CAACwH,OAAO,CAACC,aAAa,EAAC;IAAO,MAAMnH,CAAC,GAACZ,CAAC,CAACgI,gBAAgB,CAACC,GAAG,CAAChF,CAAC,CAACiF,QAAQ,CAAC,CAACC,IAAI;MAACrH,CAAC,GAACd,CAAC,CAACgI,gBAAgB,CAACC,GAAG,CAAChF,CAAC,CAACmF,IAAI,CAAC;IAAC,IAAI7H,CAAC,GAAC,IAAI,CAAC0E,UAAU,CAACoD,KAAK;IAAC,IAAG,IAAI,CAACpD,UAAU,CAAC6B,aAAa,EAAC;MAAC,MAAM1G,CAAC,GAACJ,CAAC,CAACgI,gBAAgB,CAACC,GAAG,CAAChF,CAAC,CAACqF,oBAAoB,CAAC,CAACH,IAAI,CAAC,CAAC,CAAC;MAAC5H,CAAC,IAAEL,CAAC,CAAC,IAAI,CAAC+E,UAAU,CAACsD,YAAY,CAAC,CAAC,CAAC,GAACnI,CAAC,GAAC,IAAI,CAAC6E,UAAU,CAACuD,YAAY,CAAC,CAAC,CAAC,EAAC,IAAI,CAACvD,UAAU,CAACwD,aAAa,CAAC,CAAC,CAAC,EAAC,IAAI,CAACxD,UAAU,CAACyD,aAAa,CAAC,CAAC,CAAC,CAAC;IAAA,CAAC,MAAK5H,CAAC,KAAGP,CAAC,IAAEO,CAAC,CAACqH,IAAI,CAAC,CAAC,CAAC,CAAC;IAAC,MAAMpH,CAAC,GAACP,CAAC,CAAC,CAAC,CAAC;MAACQ,CAAC,GAACR,CAAC,CAAC,CAAC,CAAC;MAACS,CAAC,GAAC,CAACV,CAAC,GAAC,CAAC,GAAC,CAAC,IAAEP,CAAC,CAAC2I,kBAAkB;IAAC,IAAIzH,CAAC,GAAC0H,MAAM,CAACC,SAAS;MAAC1H,CAAC,GAAC,CAAC;IAAC,KAAI,IAAIE,CAAC,GAAC,CAAC,EAACA,CAAC,GAACT,CAAC,CAACkI,MAAM,GAAC,CAAC,EAACzH,CAAC,IAAE,CAAC,EAAC;MAAC,MAAMrB,CAAC,GAACY,CAAC,CAACS,CAAC,CAAC;QAACjB,CAAC,GAACQ,CAAC,CAACS,CAAC,GAAC,CAAC,CAAC;QAACf,CAAC,GAACS,CAAC,GAACf,CAAC;QAACQ,CAAC,GAACQ,CAAC,GAACZ,CAAC;QAACK,CAAC,GAACG,CAAC,CAACS,CAAC,GAAC,CAAC,CAAC,GAACrB,CAAC;QAACW,CAAC,GAACC,CAAC,CAACS,CAAC,GAAC,CAAC,CAAC,GAACjB,CAAC;QAACU,CAAC,GAACZ,CAAC,CAAC,CAACO,CAAC,GAACH,CAAC,GAACK,CAAC,GAACH,CAAC,KAAGC,CAAC,GAACA,CAAC,GAACE,CAAC,GAACA,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;QAACJ,CAAC,GAACE,CAAC,GAACK,CAAC,GAACR,CAAC;QAACW,CAAC,GAACN,CAAC,GAACG,CAAC,GAACN,CAAC;QAACe,CAAC,GAAChB,CAAC,GAACA,CAAC,GAACU,CAAC,GAACA,CAAC;MAACM,CAAC,GAACL,CAAC,KAAGA,CAAC,GAACK,CAAC,EAACJ,CAAC,GAACE,CAAC,GAAC,CAAC,CAAC;IAAA;IAACH,CAAC,GAACD,CAAC,GAACA,CAAC,IAAER,CAAC,CAACE,CAAC,CAACoI,IAAI,EAACpI,CAAC,CAACyB,MAAM,EAACjB,CAAC,EAAC,CAAC,CAAC,CAAC;EAAA;EAAC6H,SAASA,CAAC5I,CAAC,EAACE,CAAC,EAACY,CAAC,EAACC,CAAC,EAACE,CAAC,EAACI,CAAC,EAAC;IAAC,IAAG,CAACP,CAAC,CAAC4G,OAAO,CAACC,aAAa,IAAE,CAAC3H,CAAC,CAAC6I,OAAO,EAAC;IAAO,IAAG,CAAClG,CAAC,CAACzC,CAAC,CAAC,EAAC,OAAO,KAAKN,CAAC,CAACkJ,SAAS,CAAC,yDAAyD,CAAC,CAACC,KAAK,CAAC,gDAAgD,CAAC;IAAC,MAAMnH,CAAC,GAAC5B,CAAC,CAAC4H,gBAAgB;MAAC5G,CAAC,GAACY,CAAC,CAACiG,GAAG,CAAChF,CAAC,CAACiF,QAAQ,CAAC,CAACC,IAAI;IAAC,IAAIzH,CAAC,GAAC,IAAI,CAACuE,UAAU,CAACoD,KAAK;IAAC,IAAG,IAAI,CAACpD,UAAU,CAAC6B,aAAa,EAAC;MAAC,MAAM9G,CAAC,GAACgC,CAAC,CAACiG,GAAG,CAAChF,CAAC,CAACqF,oBAAoB,CAAC,CAACH,IAAI,CAAC,CAAC,CAAC;MAACzH,CAAC,IAAER,CAAC,CAAC,IAAI,CAAC+E,UAAU,CAACsD,YAAY,CAAC,CAAC,CAAC,GAACvI,CAAC,GAAC,IAAI,CAACiF,UAAU,CAACuD,YAAY,CAAC,CAAC,CAAC,EAAC,IAAI,CAACvD,UAAU,CAACwD,aAAa,CAAC,CAAC,CAAC,EAAC,IAAI,CAACxD,UAAU,CAACyD,aAAa,CAAC,CAAC,CAAC,CAAC;IAAA,CAAC,MAAK1G,CAAC,CAACjC,GAAG,CAACkD,CAAC,CAACmF,IAAI,CAAC,KAAG1H,CAAC,IAAEsB,CAAC,CAACiG,GAAG,CAAChF,CAAC,CAACmF,IAAI,CAAC,CAACD,IAAI,CAAC,CAAC,CAAC,CAAC;IAAC,MAAM5F,CAAC,GAACrB,CAAC,CAACkI,MAAM;MAAC3G,CAAC,GAAC4G,CAAC;IAAC7I,CAAC,CAACiC,CAAC,EAACvB,CAAC,CAACoI,KAAK,CAAC;IAAC,MAAM3G,CAAC,GAACjC,CAAC,GAAC6B,CAAC,CAACgH,UAAU,GAAC,CAAC,GAAC,CAAC,GAAChH,CAAC,CAACgH,UAAU;IAAC9I,CAAC,CAAC+I,EAAE,CAAC,CAAC,CAAC,EAAC/G,CAAC,CAAC,CAAC,CAAC,GAACE,CAAC,EAACF,CAAC,CAAC,CAAC,CAAC,GAACE,CAAC,EAAC,CAAC,CAAC,EAAClC,CAAC,CAAC+I,EAAE,CAAC,CAAC,CAAC,EAAC/G,CAAC,CAAC,CAAC,CAAC,GAACE,CAAC,EAACF,CAAC,CAAC,CAAC,CAAC,GAACE,CAAC,EAAC,CAAC,CAAC,EAAClC,CAAC,CAAC+I,EAAE,CAAC,CAAC,CAAC,EAAC/G,CAAC,CAAC,CAAC,CAAC,GAACE,CAAC,EAACF,CAAC,CAAC,CAAC,CAAC,GAACE,CAAC,EAAC,CAAC,CAAC,EAAClC,CAAC,CAAC+I,EAAE,CAAC,CAAC,CAAC,EAAC/G,CAAC,CAAC,CAAC,CAAC,GAACE,CAAC,EAACF,CAAC,CAAC,CAAC,CAAC,GAACE,CAAC,EAAC,CAAC,CAAC;IAAC,KAAI,IAAI3C,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAAC,IAAG,CAACuC,CAAC,CAACkH,yBAAyB,CAACD,EAAE,CAACxJ,CAAC,CAAC,EAAC0J,EAAE,CAAC1J,CAAC,CAAC,CAAC,EAAC;IAAOiC,CAAC,CAACM,CAAC,CAACoH,GAAG,EAACD,EAAE,CAAC,CAAC,CAAC,EAACA,EAAE,CAAC,CAAC,CAAC,EAACE,EAAE,CAAC,EAAC3H,CAAC,CAACM,CAAC,CAACoH,GAAG,EAACD,EAAE,CAAC,CAAC,CAAC,EAACA,EAAE,CAAC,CAAC,CAAC,EAACG,EAAE,CAAC,EAAC5H,CAAC,CAACM,CAAC,CAACoH,GAAG,EAACD,EAAE,CAAC,CAAC,CAAC,EAACA,EAAE,CAAC,CAAC,CAAC,EAACI,EAAE,CAAC,EAAC7H,CAAC,CAACM,CAAC,CAACoH,GAAG,EAACD,EAAE,CAAC,CAAC,CAAC,EAACA,EAAE,CAAC,CAAC,CAAC,EAACK,EAAE,CAAC;IAAC,IAAIlH,CAAC,GAAC+F,MAAM,CAACC,SAAS;MAAC1F,CAAC,GAAC,CAAC;IAAC,MAAME,CAAC,GAAC2G,CAAC,CAAC,IAAI,CAAC/E,UAAU,EAACjD,CAAC,EAAC5B,CAAC,CAAC6J,OAAO,CAAC,GAAC7I,CAAC,CAAC0H,MAAM,GAAC,CAAC,GAAC1H,CAAC,CAAC0H,MAAM,GAAC,CAAC;IAAC,KAAI,IAAI9I,CAAC,GAAC,CAAC,EAACA,CAAC,GAACqD,CAAC,EAACrD,CAAC,IAAE,CAAC,EAAC;MAACkK,CAAC,CAAC,CAAC,CAAC,GAAC9I,CAAC,CAACpB,CAAC,CAAC,GAACM,CAAC,CAAC,EAAE,CAAC,EAAC4J,CAAC,CAAC,CAAC,CAAC,GAAC9I,CAAC,CAACpB,CAAC,GAAC,CAAC,CAAC,GAACM,CAAC,CAAC,EAAE,CAAC,EAAC4J,CAAC,CAAC,CAAC,CAAC,GAAC9I,CAAC,CAACpB,CAAC,GAAC,CAAC,CAAC,GAACM,CAAC,CAAC,EAAE,CAAC;MAAC,MAAMJ,CAAC,GAAC,CAACF,CAAC,GAAC,CAAC,IAAEoB,CAAC,CAAC0H,MAAM;MAAC,IAAGqB,CAAC,CAAC,CAAC,CAAC,GAAC/I,CAAC,CAAClB,CAAC,CAAC,GAACI,CAAC,CAAC,EAAE,CAAC,EAAC6J,CAAC,CAAC,CAAC,CAAC,GAAC/I,CAAC,CAAClB,CAAC,GAAC,CAAC,CAAC,GAACI,CAAC,CAAC,EAAE,CAAC,EAAC6J,CAAC,CAAC,CAAC,CAAC,GAAC/I,CAAC,CAAClB,CAAC,GAAC,CAAC,CAAC,GAACI,CAAC,CAAC,EAAE,CAAC,EAAC6B,CAAC,CAACyH,EAAE,EAACM,CAAC,CAAC,GAAC,CAAC,IAAE/H,CAAC,CAACyH,EAAE,EAACO,CAAC,CAAC,GAAC,CAAC,IAAEhI,CAAC,CAAC0H,EAAE,EAACK,CAAC,CAAC,GAAC,CAAC,IAAE/H,CAAC,CAAC0H,EAAE,EAACM,CAAC,CAAC,GAAC,CAAC,IAAEhI,CAAC,CAAC2H,EAAE,EAACI,CAAC,CAAC,GAAC,CAAC,IAAE/H,CAAC,CAAC2H,EAAE,EAACK,CAAC,CAAC,GAAC,CAAC,IAAEhI,CAAC,CAAC4H,EAAE,EAACG,CAAC,CAAC,GAAC,CAAC,IAAE/H,CAAC,CAAC4H,EAAE,EAACI,CAAC,CAAC,GAAC,CAAC,EAAC;MAAS,IAAG5H,CAAC,CAAC6H,qBAAqB,CAACF,CAAC,EAACG,EAAE,CAAC,EAAC9H,CAAC,CAAC6H,qBAAqB,CAACD,CAAC,EAACG,EAAE,CAAC,EAACD,EAAE,CAAC,CAAC,CAAC,GAAC,CAAC,IAAEC,EAAE,CAAC,CAAC,CAAC,GAAC,CAAC,EAAC;QAAC3J,CAAC,CAAC4J,CAAC,EAACL,CAAC,EAACC,CAAC,CAAC;QAAC,MAAMnK,CAAC,GAACuC,CAAC,CAACiI,OAAO;UAACtK,CAAC,GAAC,CAACiC,CAAC,CAACnC,CAAC,CAACuB,CAAC,CAACkJ,IAAI,CAAC,EAACP,CAAC,CAAC,GAACtJ,CAAC,CAAC2J,CAAC,EAAC1J,CAAC,CAACb,CAAC,CAACuB,CAAC,CAACkJ,IAAI,CAAC,CAAC,CAAC;QAAC3J,CAAC,CAACyJ,CAAC,EAACA,CAAC,EAACrK,CAAC,CAAC,EAACK,CAAC,CAAC2J,CAAC,EAACA,CAAC,EAACK,CAAC,CAAC,EAAChI,CAAC,CAAC6H,qBAAqB,CAACF,CAAC,EAACG,EAAE,CAAC;MAAA,CAAC,MAAK,IAAGA,EAAE,CAAC,CAAC,CAAC,GAAC,CAAC,IAAEC,EAAE,CAAC,CAAC,CAAC,GAAC,CAAC,EAAC;QAAC3J,CAAC,CAAC4J,CAAC,EAACJ,CAAC,EAACD,CAAC,CAAC;QAAC,MAAMlK,CAAC,GAACuC,CAAC,CAACiI,OAAO;UAACtK,CAAC,GAAC,CAACiC,CAAC,CAACnC,CAAC,CAACuB,CAAC,CAACkJ,IAAI,CAAC,EAACN,CAAC,CAAC,GAACvJ,CAAC,CAAC2J,CAAC,EAAC1J,CAAC,CAACb,CAAC,CAACuB,CAAC,CAACkJ,IAAI,CAAC,CAAC,CAAC;QAAC3J,CAAC,CAACyJ,CAAC,EAACA,CAAC,EAACrK,CAAC,CAAC,EAACK,CAAC,CAAC4J,CAAC,EAACA,CAAC,EAACI,CAAC,CAAC,EAAChI,CAAC,CAAC6H,qBAAqB,CAACD,CAAC,EAACG,EAAE,CAAC;MAAA,CAAC,MAAK,IAAGD,EAAE,CAAC,CAAC,CAAC,GAAC,CAAC,IAAEC,EAAE,CAAC,CAAC,CAAC,GAAC,CAAC,EAAC;MAASD,EAAE,CAAC,CAAC,CAAC,GAAC,CAAC,EAACC,EAAE,CAAC,CAAC,CAAC,GAAC,CAAC;MAAC,MAAMlK,CAAC,GAACuB,CAAC,CAACE,CAAC,CAACwI,EAAE,EAACC,EAAE,EAACI,EAAE,CAAC,EAACjI,CAAC,CAAC;MAACrC,CAAC,GAACyC,CAAC,KAAGA,CAAC,GAACzC,CAAC,EAACW,CAAC,CAAC4J,EAAE,EAACT,CAAC,CAAC,EAACnJ,CAAC,CAAC6J,EAAE,EAACT,CAAC,CAAC,EAAChH,CAAC,GAACnD,CAAC,GAAC,CAAC,CAAC;IAAA;IAAC,MAAMsD,CAAC,GAACpC,CAAC,CAAC2J,QAAQ;MAACrH,CAAC,GAACtC,CAAC,CAAC4J,MAAM;IAAC,IAAGjI,CAAC,GAACF,CAAC,GAACA,CAAC,EAAC;MAAC,IAAI3C,CAAC,GAAC4I,MAAM,CAACC,SAAS;MAAC,IAAG9G,CAAC,CAACF,CAAC,CAAC8I,EAAE,EAACC,EAAE,EAACF,EAAE,CAAC,EAAC7I,CAAC,CAACyB,CAAC,EAACE,CAAC,EAACuH,EAAE,CAAC,EAACC,CAAC,CAAC,EAAC;QAACrK,CAAC,CAACqK,CAAC,EAACA,CAAC,EAAC1H,CAAC,CAAC;QAAC,MAAMpD,CAAC,GAACc,CAAC,CAACgK,CAAC,CAAC;QAAClK,CAAC,CAACkK,CAAC,EAACA,CAAC,EAAC,CAAC,GAAC9K,CAAC,CAAC,EAACF,CAAC,GAACE,CAAC,GAACe,CAAC,CAACqC,CAAC,EAACE,CAAC,CAAC;MAAA;MAAC/B,CAAC,CAACzB,CAAC,EAACgL,CAAC,EAAC7H,CAAC,EAAC,CAAC,CAAC,CAAC;IAAA;EAAC;EAAC2B,YAAYA,CAAA,EAAE;IAAC,MAAM9E,CAAC,GAACoB,CAAC,EAAE,CAAC6J,KAAK,CAAChI,CAAC,CAACiF,QAAQ,CAAC,CAACgD,GAAG,CAACjI,CAAC,CAACkI,iBAAiB,CAAC,CAACC,KAAK,CAACnI,CAAC,CAACoI,GAAG,CAAC,CAACJ,KAAK,CAAChI,CAAC,CAACqI,OAAO,CAAC,CAACL,KAAK,CAAChI,CAAC,CAACsI,OAAO,CAAC;IAAC,OAAO,IAAI,CAACtG,UAAU,CAAC6B,aAAa,GAAC9G,CAAC,CAACkL,GAAG,CAACjI,CAAC,CAACqF,oBAAoB,CAAC,GAACtI,CAAC,CAACkL,GAAG,CAACjI,CAAC,CAACmF,IAAI,CAAC,EAAC,IAAI,CAACnD,UAAU,CAACyB,cAAc,GAAC1G,CAAC,CAACkL,GAAG,CAACjI,CAAC,CAACuI,qBAAqB,CAAC,GAACxL,CAAC,CAACyL,KAAK,CAACxI,CAAC,CAACyI,KAAK,CAAC,EAAC,IAAI,CAACzG,UAAU,CAAC2B,gBAAgB,IAAE5G,CAAC,CAACkL,GAAG,CAACjI,CAAC,CAAC0I,uBAAuB,CAAC,EAAC5L,GAAG,CAAC,2CAA2C,CAAC,IAAEC,CAAC,CAAC4L,MAAM,CAAC3I,CAAC,CAAC4I,qBAAqB,CAAC,EAAC7L,CAAC;EAAA;EAAC8L,kBAAkBA,CAAA,EAAE;IAAC,OAAO,IAAIC,CAAC,CAAC,IAAI,CAAClH,OAAO,EAAC,IAAI,CAACI,UAAU,CAAC;EAAA;EAAC+G,YAAYA,CAAChM,CAAC,EAACE,CAAC,EAAC;IAAC,IAAGA,CAAC,KAAGQ,CAAC,CAACuL,KAAK,IAAE/L,CAAC,KAAGQ,CAAC,CAACwL,KAAK,IAAEhM,CAAC,KAAGQ,CAAC,CAAC8E,SAAS,IAAEtF,CAAC,KAAGQ,CAAC,CAACyL,KAAK,IAAEjM,CAAC,KAAGQ,CAAC,CAAC0L,qBAAqB,EAAC;MAAC,IAAGpM,CAAC,KAAG6C,CAAC,CAACyC,eAAe,EAAC,OAAM,CAAC,CAAC;MAAC,IAAG,IAAI,CAACL,UAAU,CAACoC,cAAc,KAAG1E,CAAC,CAAC2E,4BAA4B,EAAC,OAAOtH,CAAC,KAAG6C,CAAC,CAACwJ,eAAe,IAAErM,CAAC,KAAG6C,CAAC,CAACyJ,iBAAiB,IAAEtM,CAAC,KAAG6C,CAAC,CAAC0J,6BAA6B;MAAC,IAAGrM,CAAC,KAAGQ,CAAC,CAACuL,KAAK,IAAE/L,CAAC,KAAGQ,CAAC,CAACwL,KAAK,EAAC;QAAC,OAAOlM,CAAC,MAAI,IAAI,CAACiF,UAAU,CAACuB,UAAU,GAAC3D,CAAC,CAAC2J,oBAAoB,GAAC3J,CAAC,CAAC4J,yCAAyC,CAAC;MAAA;MAAC,OAAOzM,CAAC,KAAG6C,CAAC,CAACwJ,eAAe;IAAA;IAAC,OAAM,CAAC,CAAC;EAAA;EAACK,gBAAgBA,CAAC1M,CAAC,EAAC;IAAC,OAAO,IAAI2M,CAAC,CAAC3M,CAAC,CAAC;EAAA;EAAC4M,kBAAkBA,CAAC5M,CAAC,EAAC;IAAC,OAAO,KAAGA,CAAC,CAACiG,IAAI,KAAGjG,CAAC,CAAC6M,UAAU,GAAC,CAAC,CAAC,EAACzM,CAAC,CAACJ,CAAC,CAACqG,gBAAgB,CAAC,KAAGrG,CAAC,CAAC8M,WAAW,GAAC9M,CAAC,CAACqG,gBAAgB,CAACgC,KAAK,GAACrI,CAAC,CAACqI,KAAK,CAAC;EAAA;AAAC;AAAC,MAAMsE,CAAC,SAASpK,CAAC;EAACkC,WAAWA,CAAA,EAAE;IAAC,KAAK,CAAC,GAAGsI,SAAS,CAAC,EAAC,IAAI,CAACC,eAAe,GAAC,IAAI;EAAA;EAACC,OAAOA,CAAA,EAAE;IAAC,KAAK,CAACA,OAAO,EAAE,EAAC,IAAI,CAACC,yBAAyB,CAACC,OAAO,CAAC,IAAI,CAACH,eAAe,CAAC,EAAC,IAAI,CAACA,eAAe,GAAC,IAAI;EAAA;EAACI,oBAAoBA,CAACpN,CAAC,EAAC;IAACA,CAAC,CAAC+F,YAAY,KAAG,IAAI,CAACsH,SAAS,CAACpI,UAAU,CAACc,YAAY,IAAE,IAAI,CAACsH,SAAS,CAACC,aAAa,CAAC;MAACvH,YAAY,EAAC/F,CAAC,CAAC+F;IAAY,CAAC,CAAC;EAAA;EAACwH,SAASA,CAACvN,CAAC,EAAC;IAAC,IAAI,CAACwN,OAAO,KAAG9M,CAAC,CAACuL,KAAK,IAAE,IAAI,CAACuB,OAAO,KAAG9M,CAAC,CAACwL,KAAK,IAAE,IAAI,CAACkB,oBAAoB,CAACpN,CAAC,CAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACmN,SAAS,CAACpI,UAAU,CAACM,cAAc;IAAC,OAAO,IAAI,CAACyH,eAAe,KAAG9M,CAAC,KAAG,IAAI,CAACmN,SAAS,CAACC,aAAa,CAAC,IAAI,CAACJ,yBAAyB,CAACO,IAAI,CAAC,IAAI,CAACT,eAAe,EAAC9M,CAAC,CAAC,CAAC,EAAC,IAAI,CAAC8M,eAAe,GAAC9M,CAAC,CAAC,EAAC,IAAI,CAACwN,eAAe,CAAChK,CAAC,EAAC1D,CAAC,CAAC;EAAA;AAAC;AAAC,MAAM0E,CAAC,SAASvB,CAAC;EAACsB,WAAWA,CAAA,EAAE;IAAC,KAAK,CAAC,GAAGsI,SAAS,CAAC,EAAC,IAAI,CAAC1E,KAAK,GAAC,CAAC,EAAC,IAAI,CAACsF,KAAK,GAACtM,CAAC,EAAC,IAAI,CAAC4E,IAAI,GAAC,OAAO,EAAC,IAAI,CAACE,GAAG,GAACrC,CAAC,CAAC8J,IAAI,EAAC,IAAI,CAACf,UAAU,GAAC,CAAC,EAAC,IAAI,CAACrG,UAAU,GAAC,CAAC,CAAC,EAAC,IAAI,CAACD,gBAAgB,GAAC,CAAC,CAAC,EAAC,IAAI,CAACsH,cAAc,GAAC,IAAI,EAAC,IAAI,CAACjI,yBAAyB,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,uBAAuB,GAAC,CAAC,CAAC,EAAC,IAAI,CAACQ,gBAAgB,GAAC,IAAI,EAAC,IAAI,CAACyG,WAAW,GAAC,CAAC,EAAC,IAAI,CAAChH,aAAa,GAAC,CAAC,CAAC,EAAC,IAAI,CAACgI,YAAY,GAAC,CAAC,CAAC,EAAC,IAAI,CAAC/I,QAAQ,GAAC,CAAC,CAAC,EAAC,IAAI,CAACoC,OAAO,GAAC,CAAC,EAAC,IAAI,CAACH,UAAU,GAAC,CAAC,EAAC,IAAI,CAACjB,YAAY,GAAC,CAAC,CAAC,EAAC,IAAI,CAAC6B,SAAS,GAAC,CAAC,CAAC;EAAA;AAAC;AAAC,MAAMmE,CAAC;EAACtH,WAAWA,CAACzE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAAC6N,WAAW,GAAC7N,CAAC,EAAC,IAAI,CAAC8N,mBAAmB,GAAC,CAAC,EAAC,IAAI,CAACC,kBAAkB,GAACjO,CAAC;IAAC,MAAMI,CAAC,GAACF,CAAC,CAACqF,cAAc,GAAC,CAAC,GAAC,CAAC;IAAC,QAAO,IAAI,CAACwI,WAAW,CAAC9H,IAAI;MAAE,KAAI,OAAO;MAAC,KAAI,OAAO;QAAC,IAAI,CAAC+H,mBAAmB,GAAC5N,CAAC;QAAC;MAAM,KAAI,OAAO;QAAC,IAAI,CAAC4N,mBAAmB,GAAC1K,CAAC,GAAClD,CAAC;IAAA;EAAC;EAAC8N,SAASA,CAAClO,CAAC,EAAC;IAAC,OAAOgK,CAAC,CAAC,IAAI,CAAC+D,WAAW,EAAC/N,CAAC,CAACgI,gBAAgB,EAAChI,CAAC,CAACiK,OAAO,CAAC;EAAA;EAACkE,QAAQA,CAACnO,CAAC,EAAC;IAAC,OAAO,IAAI,CAACiO,kBAAkB,CAACG,YAAY,CAACpO,CAAC,CAAC;EAAA;EAACqO,YAAYA,CAACrO,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,CAAC;MAACE,CAAC,GAACJ,CAAC,CAACiK,OAAO,CAAChC,GAAG,CAAChF,CAAC,CAACiF,QAAQ,CAAC,CAACY,MAAM,GAAC,CAAC,GAAC,CAAC;MAACxI,CAAC,GAAC,IAAI,CAAC4N,SAAS,CAAClO,CAAC,CAAC;IAAC,IAAIQ,CAAC,GAACF,CAAC,GAAC,CAAC,GAAC,CAAC,GAACJ,CAAC;IAAC,OAAOM,CAAC,IAAE,CAAC,CAACF,CAAC,GAACF,CAAC,GAACA,CAAC,GAAC,CAAC,KAAGE,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC,KAAG,CAAC,GAAC,IAAI,CAAC0N,mBAAmB,GAAC,CAAC,CAAC,EAACxN,CAAC,IAAE,CAAC,EAAC,IAAI,CAACuN,WAAW,CAACnG,SAAS,KAAGpH,CAAC,GAAC,CAAC,GAAC,CAAC,IAAEA,CAAC,GAAC,CAAC,CAAC,CAAC,EAACA,CAAC;EAAA;EAAC8N,KAAKA,CAACtO,CAAC,EAACE,CAAC,EAACI,CAAC,EAACE,CAAC,EAACG,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC2N,EAAE;MAACzN,CAAC,GAAC0N,EAAE;MAACjO,CAAC,GAACkO,EAAE;MAACzN,CAAC,GAACV,CAAC,CAAC0H,gBAAgB,CAACC,GAAG,CAAChF,CAAC,CAACiF,QAAQ,CAAC,CAACC,IAAI;MAAChH,CAAC,GAACb,CAAC,CAAC2J,OAAO,IAAE3J,CAAC,CAAC2J,OAAO,CAAChC,GAAG,CAAChF,CAAC,CAACiF,QAAQ,CAAC;MAAC7G,CAAC,GAACf,CAAC,CAAC0H,gBAAgB,CAACC,GAAG,CAAChF,CAAC,CAACyL,eAAe,CAAC,EAAEvG,IAAI;IAAChH,CAAC,IAAEA,CAAC,CAAC2H,MAAM,KAAG,CAAC,IAAE9H,CAAC,CAAC8H,MAAM,GAAC,CAAC,GAAC,CAAC,CAAC,IAAE6F,OAAO,CAACC,IAAI,CAAC,6CAA6C,CAAC;IAAC,IAAIrN,CAAC,GAAC,CAAC;MAACE,CAAC,GAAC,CAAC;IAAC,IAAI,CAACsM,WAAW,CAACjH,aAAa,GAACrF,CAAC,GAACnB,CAAC,CAAC0H,gBAAgB,CAACC,GAAG,CAAChF,CAAC,CAACqF,oBAAoB,CAAC,CAACH,IAAI,CAAC,CAAC,CAAC,GAAC7H,CAAC,CAAC0H,gBAAgB,CAACjI,GAAG,CAACkD,CAAC,CAACmF,IAAI,CAAC,KAAG7G,CAAC,GAACjB,CAAC,CAAC0H,gBAAgB,CAACC,GAAG,CAAChF,CAAC,CAACmF,IAAI,CAAC,CAACD,IAAI,CAAC,CAAC,CAAC,CAAC;IAAC,IAAIxG,CAAC,GAAC,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;MAACE,CAAC,GAAC,CAAC;IAAC,IAAI,CAACkM,WAAW,CAACrH,cAAc,GAAC7E,CAAC,GAACvB,CAAC,CAAC0H,gBAAgB,CAACC,GAAG,CAAChF,CAAC,CAACuI,qBAAqB,CAAC,CAACrD,IAAI,CAAC,CAAC,CAAC,GAAC7H,CAAC,CAAC0H,gBAAgB,CAACjI,GAAG,CAACkD,CAAC,CAACyI,KAAK,CAAC,KAAG/J,CAAC,GAACrB,CAAC,CAAC0H,gBAAgB,CAACC,GAAG,CAAChF,CAAC,CAACyI,KAAK,CAAC,CAACvD,IAAI,CAAC;IAAC,MAAMpG,CAAC,GAAChC,GAAG,CAAC,2CAA2C,CAAC,GAACO,CAAC,CAACuO,qBAAqB,GAAC,IAAI;IAAC,IAAI7M,CAAC,GAAC,CAAC;IAAC,IAAI,CAAC+L,WAAW,CAACnH,gBAAgB,KAAG5E,CAAC,GAAC1B,CAAC,CAAC0H,gBAAgB,CAACC,GAAG,CAAChF,CAAC,CAAC0I,uBAAuB,CAAC,CAACxD,IAAI,CAAC,CAAC,CAAC,CAAC;IAAC,MAAMlG,CAAC,GAACjB,CAAC,CAAC8H,MAAM,GAAC,CAAC;MAAC3G,CAAC,GAAC,IAAI2M,YAAY,CAACtO,CAAC,CAACuO,MAAM,CAAC;MAAClO,CAAC,GAACd,GAAG,CAAC,2CAA2C,CAAC,GAAC,IAAIiP,UAAU,CAACxO,CAAC,CAACuO,MAAM,CAAC,GAAC,IAAI;MAAC3N,CAAC,GAAC,IAAI,CAAC6M,kBAAkB,CAACgB,MAAM,GAAC,CAAC;IAAC,IAAIvO,CAAC,GAACC,CAAC,GAACS,CAAC;IAAC,MAAMmB,CAAC,GAAC7B,CAAC;IAAC,IAAI+B,CAAC,GAAC,CAAC;IAAC,MAAME,CAAC,GAACtB,CAAC,GAAC,CAACrB,CAAC,EAACE,CAAC,EAACE,CAAC,KAAGqC,CAAC,GAACpB,CAAC,CAACjB,CAAC,CAAC,GAAC,CAACJ,CAAC,EAACE,CAAC,EAACE,CAAC,KAAGqC,CAAC,IAAExB,CAAC,CAACjB,CAAC,EAACE,CAAC,CAAC;MAAC2C,CAAC,GAAC9C,GAAG,CAAC,2CAA2C,CAAC;MAACgD,CAAC,GAACA,CAAC/C,CAAC,EAACE,CAAC,EAACI,CAAC,EAACE,CAAC,EAACC,CAAC,EAACE,CAAC,EAACC,CAAC,KAAG;QAAC,IAAGuB,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACR,CAAC,CAAC,CAAC,CAAC,EAACiC,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACR,CAAC,CAAC,CAAC,CAAC,EAACiC,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACR,CAAC,CAAC,CAAC,CAAC,EAACiC,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACF,CAAC,EAAC2B,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACE,CAAC,EAACuB,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACD,CAAC,EAAC0B,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACV,CAAC,CAAC,CAAC,CAAC,EAACmC,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACV,CAAC,CAAC,CAAC,CAAC,EAACmC,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACV,CAAC,CAAC,CAAC,CAAC,EAACmC,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACJ,CAAC,CAAC,CAAC,CAAC,EAAC6B,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACJ,CAAC,CAAC,CAAC,CAAC,EAAC6B,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACJ,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACyN,WAAW,CAACjH,aAAa,GAAC3E,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACe,CAAC,GAACU,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACa,CAAC,EAAC,IAAI,CAACwM,WAAW,CAACrH,cAAc,EAACvE,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACmB,CAAC,CAAC,KAAI;UAAC,MAAM7B,CAAC,GAACkP,IAAI,CAACC,GAAG,CAAC,CAAC,GAACxO,CAAC,EAACgB,CAAC,CAACmH,MAAM,GAAC,CAAC,CAAC;UAAC3G,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACiB,CAAC,CAAC3B,CAAC,CAAC,EAACmC,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACiB,CAAC,CAAC3B,CAAC,GAAC,CAAC,CAAC,EAACmC,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACiB,CAAC,CAAC3B,CAAC,GAAC,CAAC,CAAC,EAACmC,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACiB,CAAC,CAAC3B,CAAC,GAAC,CAAC,CAAC;QAAA;QAAC,IAAI,CAAC+N,WAAW,CAACnH,gBAAgB,KAAGzE,CAAC,CAACzB,CAAC,EAAE,CAAC,GAACsB,CAAC,CAAC,EAACa,CAAC,KAAGzC,CAAC,CAAC2B,CAAC,CAAC,KAAGlB,CAAC,CAAC,CAAC,GAACH,CAAC,CAAC,GAACqB,CAAC,CAAC,CAAC,CAAC,EAAClB,CAAC,CAAC,CAAC,GAACH,CAAC,GAAC,CAAC,CAAC,GAACqB,CAAC,CAAC,CAAC,CAAC,EAAClB,CAAC,CAAC,CAAC,GAACH,CAAC,GAAC,CAAC,CAAC,GAACqB,CAAC,CAAC,CAAC,CAAC,EAAClB,CAAC,CAAC,CAAC,GAACH,CAAC,GAAC,CAAC,CAAC,GAACqB,CAAC,CAAC,CAAC,CAAC,CAAC,EAACrB,CAAC,EAAE,CAAC;MAAA,CAAC;IAACA,CAAC,IAAEU,CAAC,EAACX,CAAC,CAACK,CAAC,EAACE,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAChB,CAAC,IAAEkB,CAAC,CAACJ,CAAC,EAACA,CAAC,EAACd,CAAC,CAAC;IAAC,MAAMmD,CAAC,GAAC,IAAI,CAAC+K,SAAS,CAAC5N,CAAC,CAAC;IAAC,IAAG6C,CAAC,EAAC;MAAC,MAAMjD,CAAC,GAACc,CAAC,CAAC8H,MAAM,GAAC,CAAC;MAACrI,CAAC,CAACG,CAAC,EAACI,CAAC,CAACd,CAAC,CAAC,EAACc,CAAC,CAACd,CAAC,GAAC,CAAC,CAAC,EAACc,CAAC,CAACd,CAAC,GAAC,CAAC,CAAC,CAAC,EAACF,CAAC,IAAEkB,CAAC,CAACN,CAAC,EAACA,CAAC,EAACZ,CAAC,CAAC;IAAA,CAAC,MAAKS,CAAC,CAACF,CAAC,EAACS,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAChB,CAAC,IAAEkB,CAAC,CAACX,CAAC,EAACA,CAAC,EAACP,CAAC,CAAC,EAAC+C,CAAC,CAACjC,CAAC,EAACA,CAAC,EAACP,CAAC,EAAC,CAAC,EAACwD,CAAC,CAACG,cAAc,EAAC,CAAC,EAAC,CAAC,CAAC,EAACnB,CAAC,CAACjC,CAAC,EAACA,CAAC,EAACP,CAAC,EAAC,CAAC,EAACwD,CAAC,CAACO,eAAe,EAAC,CAAC,EAAC,CAAC,CAAC,EAACvD,CAAC,CAACH,CAAC,EAACE,CAAC,CAAC,EAACC,CAAC,CAACD,CAAC,EAACP,CAAC,CAAC;IAAC,MAAM8C,CAAC,GAACF,CAAC,GAAC,CAAC,GAAC,CAAC;MAACG,CAAC,GAACH,CAAC,GAAClB,CAAC,GAACA,CAAC,GAAC,CAAC;IAAC,KAAI,IAAI7B,CAAC,GAACiD,CAAC,EAACjD,CAAC,GAACkD,CAAC,EAAClD,CAAC,EAAE,EAAC;MAAC,MAAMF,CAAC,GAAC,CAACE,CAAC,GAAC,CAAC,IAAE6B,CAAC,GAAC,CAAC;MAACxB,CAAC,CAACF,CAAC,EAACS,CAAC,CAACd,CAAC,CAAC,EAACc,CAAC,CAACd,CAAC,GAAC,CAAC,CAAC,EAACc,CAAC,CAACd,CAAC,GAAC,CAAC,CAAC,CAAC,EAACF,CAAC,IAAEkB,CAAC,CAACX,CAAC,EAACA,CAAC,EAACP,CAAC,CAAC,EAAC2C,CAAC,CAAC/B,CAAC,EAACE,CAAC,EAACV,CAAC,CAAC,EAAC2C,CAAC,CAACnC,CAAC,EAACE,CAAC,EAACP,CAAC,EAAC,CAAC,EAACwD,CAAC,CAACE,aAAa,EAAC7D,CAAC,EAACqC,CAAC,CAAC,EAACM,CAAC,CAACnC,CAAC,EAACE,CAAC,EAACP,CAAC,EAAC,CAAC,EAACwD,CAAC,CAACM,cAAc,EAACjE,CAAC,EAACqC,CAAC,CAAC;MAAC,MAAMnC,CAAC,GAAC,IAAI,CAAC0N,mBAAmB;MAAC,KAAI,IAAIhO,CAAC,GAAC,CAAC,EAACA,CAAC,GAACM,CAAC,EAAC,EAAEN,CAAC,EAAC;QAAC,MAAME,CAAC,GAAC,CAACF,CAAC,GAAC,CAAC,KAAGM,CAAC,GAAC,CAAC,CAAC;QAACyC,CAAC,CAACnC,CAAC,EAACE,CAAC,EAACP,CAAC,EAACL,CAAC,EAAC6D,CAAC,CAACE,aAAa,EAAC7D,CAAC,EAACqC,CAAC,CAAC,EAACM,CAAC,CAACnC,CAAC,EAACE,CAAC,EAACP,CAAC,EAACL,CAAC,EAAC6D,CAAC,CAACM,cAAc,EAACjE,CAAC,EAACqC,CAAC,CAAC;MAAA;MAACM,CAAC,CAACnC,CAAC,EAACE,CAAC,EAACP,CAAC,EAAC,CAAC,EAACwD,CAAC,CAACC,eAAe,EAAC5D,CAAC,EAACqC,CAAC,CAAC,EAACM,CAAC,CAACnC,CAAC,EAACE,CAAC,EAACP,CAAC,EAAC,CAAC,EAACwD,CAAC,CAACK,gBAAgB,EAAChE,CAAC,EAACqC,CAAC,CAAC,EAAC1B,CAAC,CAACH,CAAC,EAACE,CAAC,CAAC,EAACC,CAAC,CAACD,CAAC,EAACP,CAAC,CAAC;IAAA;IAAC4C,CAAC,IAAE1C,CAAC,CAACF,CAAC,EAACS,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAChB,CAAC,IAAEkB,CAAC,CAACX,CAAC,EAACA,CAAC,EAACP,CAAC,CAAC,EAACyC,CAAC,GAACE,CAAC,CAAC/B,CAAC,EAACE,CAAC,EAACwC,CAAC,CAAC,EAACP,CAAC,CAACnC,CAAC,EAACE,CAAC,EAACP,CAAC,EAAC,CAAC,EAACwD,CAAC,CAACE,aAAa,EAACZ,CAAC,EAACZ,CAAC,CAAC,EAACM,CAAC,CAACnC,CAAC,EAACE,CAAC,EAACP,CAAC,EAAC,CAAC,EAACwD,CAAC,CAACM,cAAc,EAAChB,CAAC,EAACZ,CAAC,CAAC,KAAGA,CAAC,GAACE,CAAC,CAAC/B,CAAC,EAACE,CAAC,EAACwC,CAAC,CAAC,EAACP,CAAC,CAACnC,CAAC,EAACE,CAAC,EAACA,CAAC,EAAC,CAAC,EAACiD,CAAC,CAACI,YAAY,EAACb,CAAC,EAACb,CAAC,CAAC,EAACM,CAAC,CAACnC,CAAC,EAACE,CAAC,EAACA,CAAC,EAAC,CAAC,EAACiD,CAAC,CAACQ,aAAa,EAACjB,CAAC,EAACb,CAAC,CAAC,CAAC,EAAC2M,CAAC,CAACjN,CAAC,EAACI,CAAC,GAACnB,CAAC,EAACe,CAAC,EAACI,CAAC,EAACnB,CAAC,CAAC;IAACV,CAAC,GAAC0O,CAAC,CAACjN,CAAC,EAACzB,CAAC,GAACU,CAAC,EAACe,CAAC,EAACzB,CAAC,EAACU,CAAC,CAAC,EAAC,IAAI,CAAC2M,WAAW,CAACnG,SAAS,IAAE,IAAI,CAACyH,qBAAqB,CAAC7O,CAAC,EAAC+B,CAAC,EAAC7B,CAAC,EAACU,CAAC,CAAC;EAAA;EAACiO,qBAAqBA,CAACrP,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAIsO,YAAY,CAAC9O,CAAC,CAAC+O,MAAM,EAAC3O,CAAC,GAAC0O,YAAY,CAACQ,iBAAiB,CAAC;MAAC7O,CAAC,GAAC,IAAIqO,YAAY,CAAC9O,CAAC,CAAC+O,MAAM,EAAC7O,CAAC,GAAC4O,YAAY,CAACQ,iBAAiB,EAAClP,CAAC,GAACF,CAAC,CAAC;IAAC,IAAIS,CAAC,GAAC,CAAC;IAAC,MAAMC,CAAC,GAACZ,CAAC,IAAEW,CAAC,GAACyO,CAAC,CAAC3O,CAAC,EAACT,CAAC,EAACQ,CAAC,EAACG,CAAC,EAACL,CAAC,CAAC;IAAC,KAAI,IAAIQ,CAAC,GAAC,CAAC,EAACA,CAAC,GAACL,CAAC,CAACqI,MAAM,GAAC,CAAC,EAAChI,CAAC,IAAE,CAAC,GAACR,CAAC,EAACM,CAAC,CAACE,CAAC,CAAC,EAACF,CAAC,CAACE,CAAC,GAAC,CAAC,GAACR,CAAC,CAAC,EAACM,CAAC,CAACE,CAAC,GAAC,CAAC,GAACR,CAAC,CAAC,EAACM,CAAC,CAACE,CAAC,GAAC,CAAC,GAACR,CAAC,CAAC,EAACM,CAAC,CAACE,CAAC,GAAC,CAAC,GAACR,CAAC,CAAC,EAACM,CAAC,CAACE,CAAC,GAAC,CAAC,GAACR,CAAC,CAAC;EAAA;AAAC;AAAC,SAAS8O,CAACA,CAACpP,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;EAAC,KAAI,IAAIC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACD,CAAC,EAACC,CAAC,EAAE,EAACL,CAAC,CAACE,CAAC,EAAE,CAAC,GAACN,CAAC,CAACE,CAAC,EAAE,CAAC;EAAC,OAAOI,CAAC;AAAA;AAAC,SAAS0J,CAACA,CAAChK,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;EAAC,OAAO4E,CAAC,CAAChF,CAAC,EAACE,CAAC,CAAC+H,GAAG,CAAChF,CAAC,CAACiF,QAAQ,CAAC,CAACC,IAAI,EAAC/H,CAAC,GAACA,CAAC,CAAC6H,GAAG,CAAChF,CAAC,CAACiF,QAAQ,CAAC,GAAC,IAAI,CAAC;AAAA;AAAC,SAASlD,CAACA,CAAChF,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;EAAC,OAAM,CAAC,CAACJ,CAAC,CAAC+E,QAAQ,KAAG3E,CAAC,GAACA,CAAC,CAAC0I,MAAM,GAAC,CAAC,GAAC5I,CAAC,CAAC4I,MAAM,GAAC,CAAC,CAAC;AAAA;AAAC,SAASxC,CAACA,CAACtG,CAAC,EAAC;EAAC,OAAOA,CAAC,CAACuP,MAAM,KAAGlM,CAAC,CAACmM,GAAG,IAAExP,CAAC,CAACyP,mBAAmB,IAAE,WAAW,KAAGzP,CAAC,CAAC0P,SAAS,IAAE1P,CAAC,CAAC2P,UAAU;AAAA;AAAC,MAAMzF,CAAC,GAAC/I,CAAC,EAAE;EAACgJ,CAAC,GAAChJ,CAAC,EAAE;EAACoJ,CAAC,GAACpJ,CAAC,EAAE;EAAC6J,CAAC,GAAC7J,CAAC,EAAE;EAACkI,CAAC,GAAClI,CAAC,EAAE;EAACkJ,EAAE,GAAC/J,CAAC,EAAE;EAACgK,EAAE,GAAChK,CAAC,EAAE;EAACqK,EAAE,GAACxJ,CAAC,EAAE;EAACyJ,EAAE,GAACzJ,CAAC,EAAE;EAACuJ,EAAE,GAACjJ,CAAC,EAAE;EAACsJ,EAAE,GAACtJ,CAAC,EAAE;EAAC8M,EAAE,GAACpN,CAAC,EAAE;EAACqN,EAAE,GAACrN,CAAC,EAAE;EAACsN,EAAE,GAACtN,CAAC,EAAE;EAACqI,EAAE,GAAC,CAAClJ,CAAC,EAAE,EAACA,CAAC,EAAE,EAACA,CAAC,EAAE,EAACA,CAAC,EAAE,CAAC;EAACoJ,EAAE,GAAC,CAACvI,CAAC,EAAE,EAACA,CAAC,EAAE,EAACA,CAAC,EAAE,EAACA,CAAC,EAAE,CAAC;EAACyI,EAAE,GAAC5H,CAAC,EAAE;EAAC6H,EAAE,GAAC7H,CAAC,EAAE;EAAC8H,EAAE,GAAC9H,CAAC,EAAE;EAAC+H,EAAE,GAAC/H,CAAC,EAAE;AAAC,SAAO0C,CAAC,IAAIkL,UAAU,EAACpL,CAAC,IAAIqL,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}