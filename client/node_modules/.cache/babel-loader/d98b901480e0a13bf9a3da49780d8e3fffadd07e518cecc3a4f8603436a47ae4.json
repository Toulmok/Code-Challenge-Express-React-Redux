{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isNone as e, isSome as o } from \"../../../../core/maybe.js\";\nimport r from \"../../../../renderers/PointCloudClassBreaksRenderer.js\";\nimport t from \"../../../../renderers/PointCloudStretchRenderer.js\";\nimport l from \"../../../../renderers/PointCloudUniqueValueRenderer.js\";\nimport { createGeometryIndexFromSchema as n, createTypedView as s, readBinaryAttribute as i } from \"./I3SBinaryReader.js\";\nimport { decodeXYZ as u } from \"./LEPCC.js\";\nfunction f(e, o, n, s) {\n  const {\n    rendererJSON: i,\n    isRGBRenderer: u\n  } = e;\n  let f = null,\n    c = null;\n  if (o && u) f = o;else if (o && \"pointCloudUniqueValueRenderer\" === i?.type) {\n    c = l.fromJSON(i);\n    const e = c.colorUniqueValueInfos;\n    f = new Uint8Array(3 * s);\n    const r = b(c.fieldTransformType);\n    for (let t = 0; t < s; t++) {\n      const l = (r ? r(o[t]) : o[t]) + \"\";\n      for (let o = 0; o < e.length; o++) if (e[o].values.includes(l)) {\n        f[3 * t] = e[o].color.r, f[3 * t + 1] = e[o].color.g, f[3 * t + 2] = e[o].color.b;\n        break;\n      }\n    }\n  } else if (o && \"pointCloudStretchRenderer\" === i?.type) {\n    c = t.fromJSON(i);\n    const e = c.stops;\n    f = new Uint8Array(3 * s);\n    const r = b(c.fieldTransformType);\n    for (let t = 0; t < s; t++) {\n      const l = r ? r(o[t]) : o[t],\n        n = e.length - 1;\n      if (l < e[0].value) f[3 * t] = e[0].color.r, f[3 * t + 1] = e[0].color.g, f[3 * t + 2] = e[0].color.b;else if (l >= e[n].value) f[3 * t] = e[n].color.r, f[3 * t + 1] = e[n].color.g, f[3 * t + 2] = e[n].color.b;else for (let o = 1; o < e.length; o++) if (l < e[o].value) {\n        const r = (l - e[o - 1].value) / (e[o].value - e[o - 1].value);\n        f[3 * t] = e[o].color.r * r + e[o - 1].color.r * (1 - r), f[3 * t + 1] = e[o].color.g * r + e[o - 1].color.g * (1 - r), f[3 * t + 2] = e[o].color.b * r + e[o - 1].color.b * (1 - r);\n        break;\n      }\n    }\n  } else if (o && \"pointCloudClassBreaksRenderer\" === i?.type) {\n    c = r.fromJSON(i);\n    const e = c.colorClassBreakInfos;\n    f = new Uint8Array(3 * s);\n    const t = b(c.fieldTransformType);\n    for (let r = 0; r < s; r++) {\n      const l = t ? t(o[r]) : o[r];\n      for (let o = 0; o < e.length; o++) if (l >= e[o].minValue && l <= e[o].maxValue) {\n        f[3 * r] = e[o].color.r, f[3 * r + 1] = e[o].color.g, f[3 * r + 2] = e[o].color.b;\n        break;\n      }\n    }\n  } else {\n    f = new Uint8Array(3 * s);\n    for (let e = 0; e < f.length; e++) f[e] = 255;\n  }\n  if (n && c && c.colorModulation) {\n    const e = c.colorModulation.minValue,\n      o = c.colorModulation.maxValue,\n      r = .3;\n    for (let t = 0; t < s; t++) {\n      const l = n[t],\n        s = l >= o ? 1 : l <= e ? r : r + (1 - r) * (l - e) / (o - e);\n      f[3 * t] = s * f[3 * t], f[3 * t + 1] = s * f[3 * t + 1], f[3 * t + 2] = s * f[3 * t + 2];\n    }\n  }\n  return f;\n}\nfunction c(o, r) {\n  if (null == o.encoding || \"\" === o.encoding) {\n    const t = n(r, o);\n    if (e(t.vertexAttributes.position)) return;\n    const l = s(r, t.vertexAttributes.position),\n      i = t.header.fields,\n      u = [i.offsetX, i.offsetY, i.offsetZ],\n      f = [i.scaleX, i.scaleY, i.scaleZ],\n      c = l.length / 3,\n      a = new Float64Array(3 * c);\n    for (let e = 0; e < c; e++) a[3 * e] = l[3 * e] * f[0] + u[0], a[3 * e + 1] = l[3 * e + 1] * f[1] + u[1], a[3 * e + 2] = l[3 * e + 2] * f[2] + u[2];\n    return a;\n  }\n  if (\"lepcc-xyz\" === o.encoding) return u(r).result;\n}\nfunction a(e, r, t) {\n  return o(e) && e.attributeInfo.useElevation ? r ? d(r, t) : null : o(e) && e.attributeInfo.storageInfo ? i(e.attributeInfo.storageInfo, e.buffer, t) : null;\n}\nfunction d(e, o) {\n  const r = new Float64Array(o);\n  for (let t = 0; t < o; t++) r[t] = e[3 * t + 2];\n  return r;\n}\nfunction m(e, o, r, t, l) {\n  const n = e.length / 3;\n  let s = 0;\n  for (let i = 0; i < n; i++) {\n    let n = !0;\n    for (let e = 0; e < t.length && n; e++) {\n      const {\n          filterJSON: o\n        } = t[e],\n        r = l[e].values[i];\n      switch (o.type) {\n        case \"pointCloudValueFilter\":\n          {\n            const e = \"exclude\" === o.mode;\n            o.values.includes(r) === e && (n = !1);\n            break;\n          }\n        case \"pointCloudBitfieldFilter\":\n          {\n            const e = p(o.requiredSetBits),\n              t = p(o.requiredClearBits);\n            (r & e) === e && 0 == (r & t) || (n = !1);\n            break;\n          }\n        case \"pointCloudReturnFilter\":\n          {\n            const e = 15 & r,\n              t = r >>> 4 & 15,\n              l = t > 1,\n              s = 1 === e,\n              i = e === t;\n            let u = !1;\n            for (const r of o.includedReturns) if (\"last\" === r && i || \"firstOfMany\" === r && s && l || \"lastOfMany\" === r && i && l || \"single\" === r && !l) {\n              u = !0;\n              break;\n            }\n            u || (n = !1);\n            break;\n          }\n      }\n    }\n    n && (r[s] = i, e[3 * s] = e[3 * i], e[3 * s + 1] = e[3 * i + 1], e[3 * s + 2] = e[3 * i + 2], o[3 * s] = o[3 * i], o[3 * s + 1] = o[3 * i + 1], o[3 * s + 2] = o[3 * i + 2], s++);\n  }\n  return s;\n}\nfunction b(e) {\n  return null == e || \"none\" === e ? null : \"low-four-bit\" === e ? e => 15 & e : \"high-four-bit\" === e ? e => (240 & e) >> 4 : \"absolute-value\" === e ? e => Math.abs(e) : \"modulo-ten\" === e ? e => e % 10 : null;\n}\nfunction p(e) {\n  let o = 0;\n  for (const r of e || []) o |= 1 << r;\n  return o;\n}\nexport { d as elevationFromPositions, f as evaluateRenderer, m as filterInPlace, a as getAttributeValues, c as readGeometry };","map":{"version":3,"names":["isNone","e","isSome","o","r","t","l","createGeometryIndexFromSchema","n","createTypedView","s","readBinaryAttribute","i","decodeXYZ","u","f","rendererJSON","isRGBRenderer","c","type","fromJSON","colorUniqueValueInfos","Uint8Array","b","fieldTransformType","length","values","includes","color","g","stops","value","colorClassBreakInfos","minValue","maxValue","colorModulation","encoding","vertexAttributes","position","header","fields","offsetX","offsetY","offsetZ","scaleX","scaleY","scaleZ","a","Float64Array","result","attributeInfo","useElevation","d","storageInfo","buffer","m","filterJSON","mode","p","requiredSetBits","requiredClearBits","includedReturns","Math","abs","elevationFromPositions","evaluateRenderer","filterInPlace","getAttributeValues","readGeometry"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import r from\"../../../../renderers/PointCloudClassBreaksRenderer.js\";import t from\"../../../../renderers/PointCloudStretchRenderer.js\";import l from\"../../../../renderers/PointCloudUniqueValueRenderer.js\";import{createGeometryIndexFromSchema as n,createTypedView as s,readBinaryAttribute as i}from\"./I3SBinaryReader.js\";import{decodeXYZ as u}from\"./LEPCC.js\";function f(e,o,n,s){const{rendererJSON:i,isRGBRenderer:u}=e;let f=null,c=null;if(o&&u)f=o;else if(o&&\"pointCloudUniqueValueRenderer\"===i?.type){c=l.fromJSON(i);const e=c.colorUniqueValueInfos;f=new Uint8Array(3*s);const r=b(c.fieldTransformType);for(let t=0;t<s;t++){const l=(r?r(o[t]):o[t])+\"\";for(let o=0;o<e.length;o++)if(e[o].values.includes(l)){f[3*t]=e[o].color.r,f[3*t+1]=e[o].color.g,f[3*t+2]=e[o].color.b;break}}}else if(o&&\"pointCloudStretchRenderer\"===i?.type){c=t.fromJSON(i);const e=c.stops;f=new Uint8Array(3*s);const r=b(c.fieldTransformType);for(let t=0;t<s;t++){const l=r?r(o[t]):o[t],n=e.length-1;if(l<e[0].value)f[3*t]=e[0].color.r,f[3*t+1]=e[0].color.g,f[3*t+2]=e[0].color.b;else if(l>=e[n].value)f[3*t]=e[n].color.r,f[3*t+1]=e[n].color.g,f[3*t+2]=e[n].color.b;else for(let o=1;o<e.length;o++)if(l<e[o].value){const r=(l-e[o-1].value)/(e[o].value-e[o-1].value);f[3*t]=e[o].color.r*r+e[o-1].color.r*(1-r),f[3*t+1]=e[o].color.g*r+e[o-1].color.g*(1-r),f[3*t+2]=e[o].color.b*r+e[o-1].color.b*(1-r);break}}}else if(o&&\"pointCloudClassBreaksRenderer\"===i?.type){c=r.fromJSON(i);const e=c.colorClassBreakInfos;f=new Uint8Array(3*s);const t=b(c.fieldTransformType);for(let r=0;r<s;r++){const l=t?t(o[r]):o[r];for(let o=0;o<e.length;o++)if(l>=e[o].minValue&&l<=e[o].maxValue){f[3*r]=e[o].color.r,f[3*r+1]=e[o].color.g,f[3*r+2]=e[o].color.b;break}}}else{f=new Uint8Array(3*s);for(let e=0;e<f.length;e++)f[e]=255}if(n&&c&&c.colorModulation){const e=c.colorModulation.minValue,o=c.colorModulation.maxValue,r=.3;for(let t=0;t<s;t++){const l=n[t],s=l>=o?1:l<=e?r:r+(1-r)*(l-e)/(o-e);f[3*t]=s*f[3*t],f[3*t+1]=s*f[3*t+1],f[3*t+2]=s*f[3*t+2]}}return f}function c(o,r){if(null==o.encoding||\"\"===o.encoding){const t=n(r,o);if(e(t.vertexAttributes.position))return;const l=s(r,t.vertexAttributes.position),i=t.header.fields,u=[i.offsetX,i.offsetY,i.offsetZ],f=[i.scaleX,i.scaleY,i.scaleZ],c=l.length/3,a=new Float64Array(3*c);for(let e=0;e<c;e++)a[3*e]=l[3*e]*f[0]+u[0],a[3*e+1]=l[3*e+1]*f[1]+u[1],a[3*e+2]=l[3*e+2]*f[2]+u[2];return a}if(\"lepcc-xyz\"===o.encoding)return u(r).result}function a(e,r,t){return o(e)&&e.attributeInfo.useElevation?r?d(r,t):null:o(e)&&e.attributeInfo.storageInfo?i(e.attributeInfo.storageInfo,e.buffer,t):null}function d(e,o){const r=new Float64Array(o);for(let t=0;t<o;t++)r[t]=e[3*t+2];return r}function m(e,o,r,t,l){const n=e.length/3;let s=0;for(let i=0;i<n;i++){let n=!0;for(let e=0;e<t.length&&n;e++){const{filterJSON:o}=t[e],r=l[e].values[i];switch(o.type){case\"pointCloudValueFilter\":{const e=\"exclude\"===o.mode;o.values.includes(r)===e&&(n=!1);break}case\"pointCloudBitfieldFilter\":{const e=p(o.requiredSetBits),t=p(o.requiredClearBits);(r&e)===e&&0==(r&t)||(n=!1);break}case\"pointCloudReturnFilter\":{const e=15&r,t=r>>>4&15,l=t>1,s=1===e,i=e===t;let u=!1;for(const r of o.includedReturns)if(\"last\"===r&&i||\"firstOfMany\"===r&&s&&l||\"lastOfMany\"===r&&i&&l||\"single\"===r&&!l){u=!0;break}u||(n=!1);break}}}n&&(r[s]=i,e[3*s]=e[3*i],e[3*s+1]=e[3*i+1],e[3*s+2]=e[3*i+2],o[3*s]=o[3*i],o[3*s+1]=o[3*i+1],o[3*s+2]=o[3*i+2],s++)}return s}function b(e){return null==e||\"none\"===e?null:\"low-four-bit\"===e?e=>15&e:\"high-four-bit\"===e?e=>(240&e)>>4:\"absolute-value\"===e?e=>Math.abs(e):\"modulo-ten\"===e?e=>e%10:null}function p(e){let o=0;for(const r of e||[])o|=1<<r;return o}export{d as elevationFromPositions,f as evaluateRenderer,m as filterInPlace,a as getAttributeValues,c as readGeometry};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}