{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isNone as t } from \"../../../../../core/maybe.js\";\nimport e from \"../MemoryBuffer.js\";\nimport { EncodingType as n, AttributeStatus as o } from \"./enums.js\";\nimport { DataType as s } from \"../../../../webgl/enums.js\";\nimport { VertexElementDescriptor as r } from \"../../../../webgl/VertexElementDescriptor.js\";\nclass i {\n  constructor(t) {\n    this._locations = new Map(), this._key = t;\n  }\n  get key() {\n    return this._key;\n  }\n  get type() {\n    return 7 & this._key;\n  }\n  defines() {\n    return [];\n  }\n  getStride() {\n    return this._layoutInfo || this._buildAttributesInfo(), this._stride;\n  }\n  getAttributeLocations() {\n    return 0 === this._locations.size && this._buildAttributesInfo(), this._locations;\n  }\n  getLayoutInfo() {\n    return this._layoutInfo || this._buildAttributesInfo(), this._layoutInfo;\n  }\n  getEncodingInfos() {\n    return this._propertyEncodingInfo || this._buildAttributesInfo(), this._propertyEncodingInfo;\n  }\n  getUniforms() {\n    return this._uniforms || this._buildAttributesInfo(), this._uniforms;\n  }\n  getShaderHeader() {\n    return this._shaderHeader || this._buildAttributesInfo(), this._shaderHeader;\n  }\n  getShaderMain() {\n    return this._shaderMain || this._buildAttributesInfo(), this._shaderMain;\n  }\n  setDataUniforms(t, e, n, o, s) {\n    const r = this.getUniforms();\n    for (const i of r) {\n      const {\n          name: r,\n          type: a,\n          getValue: c\n        } = i,\n        u = c(n, e, o, s);\n      if (null !== u) switch (a) {\n        case \"float\":\n          t.setUniform1f(r, u);\n          break;\n        case \"vec2\":\n          t.setUniform2fv(r, u);\n          break;\n        case \"vec4\":\n          t.setUniform4fv(r, u);\n      }\n    }\n  }\n  encodeAttributes(t, e, o, s) {\n    const r = this.attributesInfo(),\n      i = this.getEncodingInfos(),\n      a = [];\n    let c = 0,\n      u = 0;\n    for (const f of Object.keys(i)) {\n      const _ = i[f],\n        {\n          type: h,\n          precisionFactor: d,\n          isLayout: l\n        } = r[f],\n        y = l ? o.getLayoutProperty(f) : o.getPaintProperty(f),\n        m = y.interpolator?.getInterpolationRange(e);\n      let I = 0;\n      for (const o of _) {\n        const {\n          offset: r,\n          bufferElementsToAdd: i\n        } = o;\n        if (i > 0) {\n          for (let t = 0; t < i; t++) a.push(0);\n          c += u, u = o.bufferElementsToAdd;\n        }\n        const f = s ?? y.getValue(m ? m[I] : e, t);\n        switch (h) {\n          case n.R8_SIGNED:\n          case n.R8_UNSIGNED:\n            a[c] |= this._encodeByte(f * (d || 1), 8 * r);\n            break;\n          case n.R16_SIGNED:\n          case n.R16_UNSIGNED:\n            a[c] |= this._encodeShort(f * (d || 1), 8 * r);\n            break;\n          case n.R8G8_SIGNED:\n          case n.R8G8_UNSIGNED:\n            a[c] |= this._encodeByte(f * (d || 1), 8 * r), a[c] |= this._encodeByte(f * (d || 1), 8 * r + 8);\n            break;\n          case n.R16G16_SIGNED:\n          case n.R16G16_UNSIGNED:\n            a[c] |= this._encodeShort(f * (d || 1), 8 * r), a[c] |= this._encodeShort(f * (d || 1), 8 * r + 16);\n            break;\n          case n.R8G8B8A8_SIGNED:\n          case n.R8G8B8A8_UNSIGNED:\n            a[c] |= this._encodeByte(f * (d || 1), 8 * r), a[c] |= this._encodeByte(f * (d || 1), 8 * r + 8), a[c] |= this._encodeByte(f * (d || 1), 8 * r + 16), a[c] |= this._encodeByte(f * (d || 1), 8 * r + 24);\n            break;\n          case n.R8G8B8A8_COLOR:\n            a[c] = this._encodeColor(f);\n            break;\n          case n.R16G16B16A16_DASHARRAY:\n          case n.R16G16B16A16_PATTERN:\n            this._encodePattern(c, a, f);\n            break;\n          default:\n            throw new Error(\"Unsupported encoding type\");\n        }\n        I++;\n      }\n    }\n    return a;\n  }\n  getAtributeState(t) {\n    let e = 0;\n    const n = 3 + 2 * t;\n    return e |= this._bit(n), e |= this._bit(n + 1) << 1, e;\n  }\n  _buildAttributesInfo() {\n    const t = [],\n      e = {},\n      n = {};\n    let r = -1;\n    const a = this.attributesInfo(),\n      c = this.attributes();\n    let u = -1;\n    for (const s of c) {\n      u++;\n      const c = this.getAtributeState(u);\n      if (c === o.UNIFORM || c === o.UNUSED) continue;\n      const f = a[s],\n        _ = [];\n      e[s] = _;\n      const h = f.type;\n      for (let e = 0; e < c; e++) {\n        const {\n            dataType: e,\n            bytesPerElement: o,\n            count: s,\n            normalized: a\n          } = i._encodingInfo[h],\n          c = o * s,\n          u = `${e}-${!0 === a}`;\n        let f = n[u],\n          d = 0;\n        if (!f || f.count + s > 4) r++, f = {\n          dataIndex: r,\n          count: 0,\n          offset: 0\n        }, 4 !== s && (n[u] = f), t.push({\n          location: -1,\n          name: \"a_data_\" + r,\n          count: s,\n          type: e,\n          normalized: a\n        }), d = Math.ceil(Math.max(c / 4, 1));else {\n          const e = t[f.dataIndex];\n          e.count += s;\n          d = Math.ceil(Math.max(e.count * o / 4, 1)) - Math.ceil(Math.max(f.offset / 4, 1));\n        }\n        _.push({\n          dataIndex: f.dataIndex,\n          offset: f.offset,\n          bufferElementsToAdd: d\n        }), f.offset += c, f.count += s;\n      }\n    }\n    for (const o of t) switch (o.type) {\n      case s.BYTE:\n      case s.UNSIGNED_BYTE:\n        o.count = 4;\n        break;\n      case s.SHORT:\n      case s.UNSIGNED_SHORT:\n        o.count += o.count % 2;\n    }\n    this._buildVertexBufferLayout(t);\n    let f = 0;\n    const _ = this._layoutInfo.geometry;\n    for (const o of _) this._locations.set(o.name, f++);\n    const h = this._layoutInfo.opacity;\n    if (h) for (const o of h) this._locations.set(o.name, f++);\n    this._buildShaderInfo(t, e), this._propertyEncodingInfo = e;\n  }\n  _buildVertexBufferLayout(t) {\n    const e = {},\n      n = this.geometryInfo();\n    let o = n[0].stride;\n    if (0 === t.length) e.geometry = n;else {\n      const s = [];\n      let i = o;\n      for (const e of t) o += a(e.type) * e.count;\n      for (const t of n) s.push(new r(t.name, t.count, t.type, t.offset, o, t.normalized));\n      for (const e of t) s.push(new r(e.name, e.count, e.type, i, o, e.normalized)), i += a(e.type) * e.count;\n      e.geometry = s;\n    }\n    this.opacityInfo() && (e.opacity = this.opacityInfo()), this._layoutInfo = e, this._stride = o;\n  }\n  _buildShaderInfo(e, s) {\n    let r = \"\\n\",\n      a = \"\\n\";\n    const u = [];\n    for (const t of e) r += `attribute ${this._getType(t.count)} ${t.name};\\n`;\n    const f = this.attributes(),\n      _ = this.attributesInfo();\n    let h = -1;\n    for (const d of f) {\n      h++;\n      const {\n          name: e,\n          type: f,\n          precisionFactor: l,\n          isLayout: y\n        } = _[d],\n        m = l && 1 !== l ? \" * \" + 1 / l : \"\",\n        {\n          bytesPerElement: I,\n          count: E\n        } = i._encodingInfo[f],\n        p = t => `a_data_${t.dataIndex}${c(E, t.offset, I)}`;\n      switch (this.getAtributeState(h)) {\n        case o.UNIFORM:\n          {\n            const o = this._getType(E),\n              s = `u_${e}`;\n            u.push({\n              name: s,\n              type: o,\n              getValue: (e, o, s, r) => {\n                const i = y ? e.getLayoutValue(d, o) : e.getPaintValue(d, o);\n                if (f === n.R16G16B16A16_DASHARRAY) {\n                  const n = e.getDashKey(i, e.getLayoutValue(\"line-cap\", o)),\n                    s = r.getMosaicItemPosition(n, !1);\n                  if (t(s)) return null;\n                  const {\n                    tl: a,\n                    br: c\n                  } = s;\n                  return [a[0], c[1], c[0], a[1]];\n                }\n                if (f === n.R16G16B16A16_PATTERN) {\n                  const e = r.getMosaicItemPosition(i, !d.includes(\"line-\"));\n                  if (t(e)) return null;\n                  const {\n                    tl: n,\n                    br: o\n                  } = e;\n                  return [n[0], o[1], o[0], n[1]];\n                }\n                if (f === n.R8G8B8A8_COLOR) {\n                  const t = i[3];\n                  return [t * i[0], t * i[1], t * i[2], t];\n                }\n                return i;\n              }\n            }), r += `uniform ${o} ${s};\\n`, a += `${o} ${e} = ${s};\\n`;\n          }\n          break;\n        case o.DATA_DRIVEN:\n          {\n            const t = p(s[d][0]);\n            a += `${this._getType(E)} ${e} = ${t}${m};\\n`;\n          }\n          break;\n        case o.INTERPOLATED_DATA_DRIVEN:\n          {\n            const t = `u_t_${e}`;\n            u.push({\n              name: t,\n              type: \"float\",\n              getValue: (t, e, n, o) => (y ? t.getLayoutProperty(d) : t.getPaintProperty(d)).interpolator.interpolationUniformValue(n, e)\n            }), r += `uniform float ${t};\\n`;\n            const n = p(s[d][0]),\n              o = p(s[d][1]);\n            a += `${this._getType(E)} ${e} = mix(${n}${m}, ${o}${m}, ${t});\\n`;\n          }\n      }\n    }\n    this._shaderHeader = r, this._shaderMain = a, this._uniforms = u;\n  }\n  _bit(t) {\n    return (this._key & 1 << t) >> t;\n  }\n  _getType(t) {\n    switch (t) {\n      case 1:\n        return \"float\";\n      case 2:\n        return \"vec2\";\n      case 3:\n        return \"vec3\";\n      case 4:\n        return \"vec4\";\n    }\n    throw new Error(\"Invalid count\");\n  }\n  _encodeColor(t) {\n    const n = 255 * t[3];\n    return e.i8888to32(t[0] * n, t[1] * n, t[2] * n, n);\n  }\n  _encodePattern(t, e, n) {\n    if (!n || !n.rect) return;\n    const o = 2,\n      s = n.rect,\n      r = n.width,\n      i = n.height;\n    e[t] = this._encodeShort(s.x + o, 0), e[t] |= this._encodeShort(s.y + o + i, 16), e[t + 1] = this._encodeShort(s.x + o + r, 0), e[t + 1] |= this._encodeShort(s.y + o, 16);\n  }\n  _encodeByte(t, e) {\n    return (255 & t) << e;\n  }\n  _encodeShort(t, e) {\n    return (65535 & t) << e;\n  }\n}\ni._encodingInfo = {\n  [n.R8_SIGNED]: {\n    dataType: s.BYTE,\n    bytesPerElement: 1,\n    count: 1,\n    normalized: !1\n  },\n  [n.R8_UNSIGNED]: {\n    dataType: s.UNSIGNED_BYTE,\n    bytesPerElement: 1,\n    count: 1,\n    normalized: !1\n  },\n  [n.R16_SIGNED]: {\n    dataType: s.SHORT,\n    bytesPerElement: 2,\n    count: 1,\n    normalized: !1\n  },\n  [n.R16_UNSIGNED]: {\n    dataType: s.UNSIGNED_SHORT,\n    bytesPerElement: 2,\n    count: 1,\n    normalized: !1\n  },\n  [n.R8G8_SIGNED]: {\n    dataType: s.BYTE,\n    bytesPerElement: 1,\n    count: 2,\n    normalized: !1\n  },\n  [n.R8G8_UNSIGNED]: {\n    dataType: s.UNSIGNED_BYTE,\n    bytesPerElement: 1,\n    count: 2,\n    normalized: !1\n  },\n  [n.R16G16_SIGNED]: {\n    dataType: s.SHORT,\n    bytesPerElement: 2,\n    count: 2,\n    normalized: !1\n  },\n  [n.R16G16_UNSIGNED]: {\n    dataType: s.UNSIGNED_SHORT,\n    bytesPerElement: 2,\n    count: 2,\n    normalized: !1\n  },\n  [n.R8G8B8A8_SIGNED]: {\n    dataType: s.BYTE,\n    bytesPerElement: 1,\n    count: 4,\n    normalized: !1\n  },\n  [n.R8G8B8A8_UNSIGNED]: {\n    dataType: s.UNSIGNED_BYTE,\n    bytesPerElement: 1,\n    count: 4,\n    normalized: !1\n  },\n  [n.R8G8B8A8_COLOR]: {\n    dataType: s.UNSIGNED_BYTE,\n    bytesPerElement: 1,\n    count: 4,\n    normalized: !0\n  },\n  [n.R16G16B16A16_DASHARRAY]: {\n    dataType: s.UNSIGNED_SHORT,\n    bytesPerElement: 2,\n    count: 4,\n    normalized: !1\n  },\n  [n.R16G16B16A16_PATTERN]: {\n    dataType: s.UNSIGNED_SHORT,\n    bytesPerElement: 2,\n    count: 4,\n    normalized: !1\n  }\n};\nconst a = t => {\n    switch (t) {\n      case s.FLOAT:\n      case s.INT:\n      case s.UNSIGNED_INT:\n        return 4;\n      case s.SHORT:\n      case s.UNSIGNED_SHORT:\n        return 2;\n      case s.BYTE:\n      case s.UNSIGNED_BYTE:\n        return 1;\n    }\n  },\n  c = (t, e, n) => {\n    const o = e / n;\n    if (1 === t) switch (o) {\n      case 0:\n        return \".x\";\n      case 1:\n        return \".y\";\n      case 2:\n        return \".z\";\n      case 3:\n        return \".w\";\n    } else if (2 === t) switch (o) {\n      case 0:\n        return \".xy\";\n      case 1:\n        return \".yz\";\n      case 2:\n        return \".zw\";\n    } else if (3 === t) switch (o) {\n      case 0:\n        return \".xyz\";\n      case 1:\n        return \".yzw\";\n    }\n    return \"\";\n  };\nexport { i as VTLMaterial };","map":{"version":3,"names":["isNone","t","e","EncodingType","n","AttributeStatus","o","DataType","s","VertexElementDescriptor","r","i","constructor","_locations","Map","_key","key","type","defines","getStride","_layoutInfo","_buildAttributesInfo","_stride","getAttributeLocations","size","getLayoutInfo","getEncodingInfos","_propertyEncodingInfo","getUniforms","_uniforms","getShaderHeader","_shaderHeader","getShaderMain","_shaderMain","setDataUniforms","name","a","getValue","c","u","setUniform1f","setUniform2fv","setUniform4fv","encodeAttributes","attributesInfo","f","Object","keys","_","h","precisionFactor","d","isLayout","l","y","getLayoutProperty","getPaintProperty","m","interpolator","getInterpolationRange","I","offset","bufferElementsToAdd","push","R8_SIGNED","R8_UNSIGNED","_encodeByte","R16_SIGNED","R16_UNSIGNED","_encodeShort","R8G8_SIGNED","R8G8_UNSIGNED","R16G16_SIGNED","R16G16_UNSIGNED","R8G8B8A8_SIGNED","R8G8B8A8_UNSIGNED","R8G8B8A8_COLOR","_encodeColor","R16G16B16A16_DASHARRAY","R16G16B16A16_PATTERN","_encodePattern","Error","getAtributeState","_bit","attributes","UNIFORM","UNUSED","dataType","bytesPerElement","count","normalized","_encodingInfo","dataIndex","location","Math","ceil","max","BYTE","UNSIGNED_BYTE","SHORT","UNSIGNED_SHORT","_buildVertexBufferLayout","geometry","set","opacity","_buildShaderInfo","geometryInfo","stride","length","opacityInfo","_getType","E","p","getLayoutValue","getPaintValue","getDashKey","getMosaicItemPosition","tl","br","includes","DATA_DRIVEN","INTERPOLATED_DATA_DRIVEN","interpolationUniformValue","i8888to32","rect","width","height","x","FLOAT","INT","UNSIGNED_INT","VTLMaterial"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/2d/engine/vectorTiles/shaders/VTLMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import e from\"../MemoryBuffer.js\";import{EncodingType as n,AttributeStatus as o}from\"./enums.js\";import{DataType as s}from\"../../../../webgl/enums.js\";import{VertexElementDescriptor as r}from\"../../../../webgl/VertexElementDescriptor.js\";class i{constructor(t){this._locations=new Map,this._key=t}get key(){return this._key}get type(){return 7&this._key}defines(){return[]}getStride(){return this._layoutInfo||this._buildAttributesInfo(),this._stride}getAttributeLocations(){return 0===this._locations.size&&this._buildAttributesInfo(),this._locations}getLayoutInfo(){return this._layoutInfo||this._buildAttributesInfo(),this._layoutInfo}getEncodingInfos(){return this._propertyEncodingInfo||this._buildAttributesInfo(),this._propertyEncodingInfo}getUniforms(){return this._uniforms||this._buildAttributesInfo(),this._uniforms}getShaderHeader(){return this._shaderHeader||this._buildAttributesInfo(),this._shaderHeader}getShaderMain(){return this._shaderMain||this._buildAttributesInfo(),this._shaderMain}setDataUniforms(t,e,n,o,s){const r=this.getUniforms();for(const i of r){const{name:r,type:a,getValue:c}=i,u=c(n,e,o,s);if(null!==u)switch(a){case\"float\":t.setUniform1f(r,u);break;case\"vec2\":t.setUniform2fv(r,u);break;case\"vec4\":t.setUniform4fv(r,u)}}}encodeAttributes(t,e,o,s){const r=this.attributesInfo(),i=this.getEncodingInfos(),a=[];let c=0,u=0;for(const f of Object.keys(i)){const _=i[f],{type:h,precisionFactor:d,isLayout:l}=r[f],y=l?o.getLayoutProperty(f):o.getPaintProperty(f),m=y.interpolator?.getInterpolationRange(e);let I=0;for(const o of _){const{offset:r,bufferElementsToAdd:i}=o;if(i>0){for(let t=0;t<i;t++)a.push(0);c+=u,u=o.bufferElementsToAdd}const f=s??y.getValue(m?m[I]:e,t);switch(h){case n.R8_SIGNED:case n.R8_UNSIGNED:a[c]|=this._encodeByte(f*(d||1),8*r);break;case n.R16_SIGNED:case n.R16_UNSIGNED:a[c]|=this._encodeShort(f*(d||1),8*r);break;case n.R8G8_SIGNED:case n.R8G8_UNSIGNED:a[c]|=this._encodeByte(f*(d||1),8*r),a[c]|=this._encodeByte(f*(d||1),8*r+8);break;case n.R16G16_SIGNED:case n.R16G16_UNSIGNED:a[c]|=this._encodeShort(f*(d||1),8*r),a[c]|=this._encodeShort(f*(d||1),8*r+16);break;case n.R8G8B8A8_SIGNED:case n.R8G8B8A8_UNSIGNED:a[c]|=this._encodeByte(f*(d||1),8*r),a[c]|=this._encodeByte(f*(d||1),8*r+8),a[c]|=this._encodeByte(f*(d||1),8*r+16),a[c]|=this._encodeByte(f*(d||1),8*r+24);break;case n.R8G8B8A8_COLOR:a[c]=this._encodeColor(f);break;case n.R16G16B16A16_DASHARRAY:case n.R16G16B16A16_PATTERN:this._encodePattern(c,a,f);break;default:throw new Error(\"Unsupported encoding type\")}I++}}return a}getAtributeState(t){let e=0;const n=3+2*t;return e|=this._bit(n),e|=this._bit(n+1)<<1,e}_buildAttributesInfo(){const t=[],e={},n={};let r=-1;const a=this.attributesInfo(),c=this.attributes();let u=-1;for(const s of c){u++;const c=this.getAtributeState(u);if(c===o.UNIFORM||c===o.UNUSED)continue;const f=a[s],_=[];e[s]=_;const h=f.type;for(let e=0;e<c;e++){const{dataType:e,bytesPerElement:o,count:s,normalized:a}=i._encodingInfo[h],c=o*s,u=`${e}-${!0===a}`;let f=n[u],d=0;if(!f||f.count+s>4)r++,f={dataIndex:r,count:0,offset:0},4!==s&&(n[u]=f),t.push({location:-1,name:\"a_data_\"+r,count:s,type:e,normalized:a}),d=Math.ceil(Math.max(c/4,1));else{const e=t[f.dataIndex];e.count+=s;d=Math.ceil(Math.max(e.count*o/4,1))-Math.ceil(Math.max(f.offset/4,1))}_.push({dataIndex:f.dataIndex,offset:f.offset,bufferElementsToAdd:d}),f.offset+=c,f.count+=s}}for(const o of t)switch(o.type){case s.BYTE:case s.UNSIGNED_BYTE:o.count=4;break;case s.SHORT:case s.UNSIGNED_SHORT:o.count+=o.count%2}this._buildVertexBufferLayout(t);let f=0;const _=this._layoutInfo.geometry;for(const o of _)this._locations.set(o.name,f++);const h=this._layoutInfo.opacity;if(h)for(const o of h)this._locations.set(o.name,f++);this._buildShaderInfo(t,e),this._propertyEncodingInfo=e}_buildVertexBufferLayout(t){const e={},n=this.geometryInfo();let o=n[0].stride;if(0===t.length)e.geometry=n;else{const s=[];let i=o;for(const e of t)o+=a(e.type)*e.count;for(const t of n)s.push(new r(t.name,t.count,t.type,t.offset,o,t.normalized));for(const e of t)s.push(new r(e.name,e.count,e.type,i,o,e.normalized)),i+=a(e.type)*e.count;e.geometry=s}this.opacityInfo()&&(e.opacity=this.opacityInfo()),this._layoutInfo=e,this._stride=o}_buildShaderInfo(e,s){let r=\"\\n\",a=\"\\n\";const u=[];for(const t of e)r+=`attribute ${this._getType(t.count)} ${t.name};\\n`;const f=this.attributes(),_=this.attributesInfo();let h=-1;for(const d of f){h++;const{name:e,type:f,precisionFactor:l,isLayout:y}=_[d],m=l&&1!==l?\" * \"+1/l:\"\",{bytesPerElement:I,count:E}=i._encodingInfo[f],p=t=>`a_data_${t.dataIndex}${c(E,t.offset,I)}`;switch(this.getAtributeState(h)){case o.UNIFORM:{const o=this._getType(E),s=`u_${e}`;u.push({name:s,type:o,getValue:(e,o,s,r)=>{const i=y?e.getLayoutValue(d,o):e.getPaintValue(d,o);if(f===n.R16G16B16A16_DASHARRAY){const n=e.getDashKey(i,e.getLayoutValue(\"line-cap\",o)),s=r.getMosaicItemPosition(n,!1);if(t(s))return null;const{tl:a,br:c}=s;return[a[0],c[1],c[0],a[1]]}if(f===n.R16G16B16A16_PATTERN){const e=r.getMosaicItemPosition(i,!d.includes(\"line-\"));if(t(e))return null;const{tl:n,br:o}=e;return[n[0],o[1],o[0],n[1]]}if(f===n.R8G8B8A8_COLOR){const t=i[3];return[t*i[0],t*i[1],t*i[2],t]}return i}}),r+=`uniform ${o} ${s};\\n`,a+=`${o} ${e} = ${s};\\n`}break;case o.DATA_DRIVEN:{const t=p(s[d][0]);a+=`${this._getType(E)} ${e} = ${t}${m};\\n`}break;case o.INTERPOLATED_DATA_DRIVEN:{const t=`u_t_${e}`;u.push({name:t,type:\"float\",getValue:(t,e,n,o)=>(y?t.getLayoutProperty(d):t.getPaintProperty(d)).interpolator.interpolationUniformValue(n,e)}),r+=`uniform float ${t};\\n`;const n=p(s[d][0]),o=p(s[d][1]);a+=`${this._getType(E)} ${e} = mix(${n}${m}, ${o}${m}, ${t});\\n`}}}this._shaderHeader=r,this._shaderMain=a,this._uniforms=u}_bit(t){return(this._key&1<<t)>>t}_getType(t){switch(t){case 1:return\"float\";case 2:return\"vec2\";case 3:return\"vec3\";case 4:return\"vec4\"}throw new Error(\"Invalid count\")}_encodeColor(t){const n=255*t[3];return e.i8888to32(t[0]*n,t[1]*n,t[2]*n,n)}_encodePattern(t,e,n){if(!n||!n.rect)return;const o=2,s=n.rect,r=n.width,i=n.height;e[t]=this._encodeShort(s.x+o,0),e[t]|=this._encodeShort(s.y+o+i,16),e[t+1]=this._encodeShort(s.x+o+r,0),e[t+1]|=this._encodeShort(s.y+o,16)}_encodeByte(t,e){return(255&t)<<e}_encodeShort(t,e){return(65535&t)<<e}}i._encodingInfo={[n.R8_SIGNED]:{dataType:s.BYTE,bytesPerElement:1,count:1,normalized:!1},[n.R8_UNSIGNED]:{dataType:s.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1},[n.R16_SIGNED]:{dataType:s.SHORT,bytesPerElement:2,count:1,normalized:!1},[n.R16_UNSIGNED]:{dataType:s.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1},[n.R8G8_SIGNED]:{dataType:s.BYTE,bytesPerElement:1,count:2,normalized:!1},[n.R8G8_UNSIGNED]:{dataType:s.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1},[n.R16G16_SIGNED]:{dataType:s.SHORT,bytesPerElement:2,count:2,normalized:!1},[n.R16G16_UNSIGNED]:{dataType:s.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1},[n.R8G8B8A8_SIGNED]:{dataType:s.BYTE,bytesPerElement:1,count:4,normalized:!1},[n.R8G8B8A8_UNSIGNED]:{dataType:s.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!1},[n.R8G8B8A8_COLOR]:{dataType:s.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!0},[n.R16G16B16A16_DASHARRAY]:{dataType:s.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1},[n.R16G16B16A16_PATTERN]:{dataType:s.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}};const a=t=>{switch(t){case s.FLOAT:case s.INT:case s.UNSIGNED_INT:return 4;case s.SHORT:case s.UNSIGNED_SHORT:return 2;case s.BYTE:case s.UNSIGNED_BYTE:return 1}},c=(t,e,n)=>{const o=e/n;if(1===t)switch(o){case 0:return\".x\";case 1:return\".y\";case 2:return\".z\";case 3:return\".w\"}else if(2===t)switch(o){case 0:return\".xy\";case 1:return\".yz\";case 2:return\".zw\"}else if(3===t)switch(o){case 0:return\".xyz\";case 1:return\".yzw\"}return\"\"};export{i as VTLMaterial};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAC,QAAK,8BAA8B;AAAC,OAAOC,CAAC,MAAK,oBAAoB;AAAC,SAAOC,YAAY,IAAIC,CAAC,EAACC,eAAe,IAAIC,CAAC,QAAK,YAAY;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOC,uBAAuB,IAAIC,CAAC,QAAK,8CAA8C;AAAC,MAAMC,CAAC;EAACC,WAAWA,CAACX,CAAC,EAAC;IAAC,IAAI,CAACY,UAAU,GAAC,IAAIC,GAAG,IAAC,IAAI,CAACC,IAAI,GAACd,CAAC;EAAA;EAAC,IAAIe,GAAGA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACD,IAAI;EAAA;EAAC,IAAIE,IAAIA,CAAA,EAAE;IAAC,OAAO,CAAC,GAAC,IAAI,CAACF,IAAI;EAAA;EAACG,OAAOA,CAAA,EAAE;IAAC,OAAM,EAAE;EAAA;EAACC,SAASA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACC,WAAW,IAAE,IAAI,CAACC,oBAAoB,EAAE,EAAC,IAAI,CAACC,OAAO;EAAA;EAACC,qBAAqBA,CAAA,EAAE;IAAC,OAAO,CAAC,KAAG,IAAI,CAACV,UAAU,CAACW,IAAI,IAAE,IAAI,CAACH,oBAAoB,EAAE,EAAC,IAAI,CAACR,UAAU;EAAA;EAACY,aAAaA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACL,WAAW,IAAE,IAAI,CAACC,oBAAoB,EAAE,EAAC,IAAI,CAACD,WAAW;EAAA;EAACM,gBAAgBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACC,qBAAqB,IAAE,IAAI,CAACN,oBAAoB,EAAE,EAAC,IAAI,CAACM,qBAAqB;EAAA;EAACC,WAAWA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACC,SAAS,IAAE,IAAI,CAACR,oBAAoB,EAAE,EAAC,IAAI,CAACQ,SAAS;EAAA;EAACC,eAAeA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACC,aAAa,IAAE,IAAI,CAACV,oBAAoB,EAAE,EAAC,IAAI,CAACU,aAAa;EAAA;EAACC,aAAaA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACC,WAAW,IAAE,IAAI,CAACZ,oBAAoB,EAAE,EAAC,IAAI,CAACY,WAAW;EAAA;EAACC,eAAeA,CAACjC,CAAC,EAACC,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACkB,WAAW,EAAE;IAAC,KAAI,MAAMjB,CAAC,IAAID,CAAC,EAAC;MAAC,MAAK;UAACyB,IAAI,EAACzB,CAAC;UAACO,IAAI,EAACmB,CAAC;UAACC,QAAQ,EAACC;QAAC,CAAC,GAAC3B,CAAC;QAAC4B,CAAC,GAACD,CAAC,CAAClC,CAAC,EAACF,CAAC,EAACI,CAAC,EAACE,CAAC,CAAC;MAAC,IAAG,IAAI,KAAG+B,CAAC,EAAC,QAAOH,CAAC;QAAE,KAAI,OAAO;UAACnC,CAAC,CAACuC,YAAY,CAAC9B,CAAC,EAAC6B,CAAC,CAAC;UAAC;QAAM,KAAI,MAAM;UAACtC,CAAC,CAACwC,aAAa,CAAC/B,CAAC,EAAC6B,CAAC,CAAC;UAAC;QAAM,KAAI,MAAM;UAACtC,CAAC,CAACyC,aAAa,CAAChC,CAAC,EAAC6B,CAAC,CAAC;MAAA;IAAC;EAAC;EAACI,gBAAgBA,CAAC1C,CAAC,EAACC,CAAC,EAACI,CAAC,EAACE,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACkC,cAAc,EAAE;MAACjC,CAAC,GAAC,IAAI,CAACe,gBAAgB,EAAE;MAACU,CAAC,GAAC,EAAE;IAAC,IAAIE,CAAC,GAAC,CAAC;MAACC,CAAC,GAAC,CAAC;IAAC,KAAI,MAAMM,CAAC,IAAIC,MAAM,CAACC,IAAI,CAACpC,CAAC,CAAC,EAAC;MAAC,MAAMqC,CAAC,GAACrC,CAAC,CAACkC,CAAC,CAAC;QAAC;UAAC5B,IAAI,EAACgC,CAAC;UAACC,eAAe,EAACC,CAAC;UAACC,QAAQ,EAACC;QAAC,CAAC,GAAC3C,CAAC,CAACmC,CAAC,CAAC;QAACS,CAAC,GAACD,CAAC,GAAC/C,CAAC,CAACiD,iBAAiB,CAACV,CAAC,CAAC,GAACvC,CAAC,CAACkD,gBAAgB,CAACX,CAAC,CAAC;QAACY,CAAC,GAACH,CAAC,CAACI,YAAY,EAAEC,qBAAqB,CAACzD,CAAC,CAAC;MAAC,IAAI0D,CAAC,GAAC,CAAC;MAAC,KAAI,MAAMtD,CAAC,IAAI0C,CAAC,EAAC;QAAC,MAAK;UAACa,MAAM,EAACnD,CAAC;UAACoD,mBAAmB,EAACnD;QAAC,CAAC,GAACL,CAAC;QAAC,IAAGK,CAAC,GAAC,CAAC,EAAC;UAAC,KAAI,IAAIV,CAAC,GAAC,CAAC,EAACA,CAAC,GAACU,CAAC,EAACV,CAAC,EAAE,EAACmC,CAAC,CAAC2B,IAAI,CAAC,CAAC,CAAC;UAACzB,CAAC,IAAEC,CAAC,EAACA,CAAC,GAACjC,CAAC,CAACwD,mBAAmB;QAAA;QAAC,MAAMjB,CAAC,GAACrC,CAAC,IAAE8C,CAAC,CAACjB,QAAQ,CAACoB,CAAC,GAACA,CAAC,CAACG,CAAC,CAAC,GAAC1D,CAAC,EAACD,CAAC,CAAC;QAAC,QAAOgD,CAAC;UAAE,KAAK7C,CAAC,CAAC4D,SAAS;UAAC,KAAK5D,CAAC,CAAC6D,WAAW;YAAC7B,CAAC,CAACE,CAAC,CAAC,IAAE,IAAI,CAAC4B,WAAW,CAACrB,CAAC,IAAEM,CAAC,IAAE,CAAC,CAAC,EAAC,CAAC,GAACzC,CAAC,CAAC;YAAC;UAAM,KAAKN,CAAC,CAAC+D,UAAU;UAAC,KAAK/D,CAAC,CAACgE,YAAY;YAAChC,CAAC,CAACE,CAAC,CAAC,IAAE,IAAI,CAAC+B,YAAY,CAACxB,CAAC,IAAEM,CAAC,IAAE,CAAC,CAAC,EAAC,CAAC,GAACzC,CAAC,CAAC;YAAC;UAAM,KAAKN,CAAC,CAACkE,WAAW;UAAC,KAAKlE,CAAC,CAACmE,aAAa;YAACnC,CAAC,CAACE,CAAC,CAAC,IAAE,IAAI,CAAC4B,WAAW,CAACrB,CAAC,IAAEM,CAAC,IAAE,CAAC,CAAC,EAAC,CAAC,GAACzC,CAAC,CAAC,EAAC0B,CAAC,CAACE,CAAC,CAAC,IAAE,IAAI,CAAC4B,WAAW,CAACrB,CAAC,IAAEM,CAAC,IAAE,CAAC,CAAC,EAAC,CAAC,GAACzC,CAAC,GAAC,CAAC,CAAC;YAAC;UAAM,KAAKN,CAAC,CAACoE,aAAa;UAAC,KAAKpE,CAAC,CAACqE,eAAe;YAACrC,CAAC,CAACE,CAAC,CAAC,IAAE,IAAI,CAAC+B,YAAY,CAACxB,CAAC,IAAEM,CAAC,IAAE,CAAC,CAAC,EAAC,CAAC,GAACzC,CAAC,CAAC,EAAC0B,CAAC,CAACE,CAAC,CAAC,IAAE,IAAI,CAAC+B,YAAY,CAACxB,CAAC,IAAEM,CAAC,IAAE,CAAC,CAAC,EAAC,CAAC,GAACzC,CAAC,GAAC,EAAE,CAAC;YAAC;UAAM,KAAKN,CAAC,CAACsE,eAAe;UAAC,KAAKtE,CAAC,CAACuE,iBAAiB;YAACvC,CAAC,CAACE,CAAC,CAAC,IAAE,IAAI,CAAC4B,WAAW,CAACrB,CAAC,IAAEM,CAAC,IAAE,CAAC,CAAC,EAAC,CAAC,GAACzC,CAAC,CAAC,EAAC0B,CAAC,CAACE,CAAC,CAAC,IAAE,IAAI,CAAC4B,WAAW,CAACrB,CAAC,IAAEM,CAAC,IAAE,CAAC,CAAC,EAAC,CAAC,GAACzC,CAAC,GAAC,CAAC,CAAC,EAAC0B,CAAC,CAACE,CAAC,CAAC,IAAE,IAAI,CAAC4B,WAAW,CAACrB,CAAC,IAAEM,CAAC,IAAE,CAAC,CAAC,EAAC,CAAC,GAACzC,CAAC,GAAC,EAAE,CAAC,EAAC0B,CAAC,CAACE,CAAC,CAAC,IAAE,IAAI,CAAC4B,WAAW,CAACrB,CAAC,IAAEM,CAAC,IAAE,CAAC,CAAC,EAAC,CAAC,GAACzC,CAAC,GAAC,EAAE,CAAC;YAAC;UAAM,KAAKN,CAAC,CAACwE,cAAc;YAACxC,CAAC,CAACE,CAAC,CAAC,GAAC,IAAI,CAACuC,YAAY,CAAChC,CAAC,CAAC;YAAC;UAAM,KAAKzC,CAAC,CAAC0E,sBAAsB;UAAC,KAAK1E,CAAC,CAAC2E,oBAAoB;YAAC,IAAI,CAACC,cAAc,CAAC1C,CAAC,EAACF,CAAC,EAACS,CAAC,CAAC;YAAC;UAAM;YAAQ,MAAM,IAAIoC,KAAK,CAAC,2BAA2B,CAAC;QAAA;QAACrB,CAAC,EAAE;MAAA;IAAC;IAAC,OAAOxB,CAAC;EAAA;EAAC8C,gBAAgBA,CAACjF,CAAC,EAAC;IAAC,IAAIC,CAAC,GAAC,CAAC;IAAC,MAAME,CAAC,GAAC,CAAC,GAAC,CAAC,GAACH,CAAC;IAAC,OAAOC,CAAC,IAAE,IAAI,CAACiF,IAAI,CAAC/E,CAAC,CAAC,EAACF,CAAC,IAAE,IAAI,CAACiF,IAAI,CAAC/E,CAAC,GAAC,CAAC,CAAC,IAAE,CAAC,EAACF,CAAC;EAAA;EAACmB,oBAAoBA,CAAA,EAAE;IAAC,MAAMpB,CAAC,GAAC,EAAE;MAACC,CAAC,GAAC,CAAC,CAAC;MAACE,CAAC,GAAC,CAAC,CAAC;IAAC,IAAIM,CAAC,GAAC,CAAC,CAAC;IAAC,MAAM0B,CAAC,GAAC,IAAI,CAACQ,cAAc,EAAE;MAACN,CAAC,GAAC,IAAI,CAAC8C,UAAU,EAAE;IAAC,IAAI7C,CAAC,GAAC,CAAC,CAAC;IAAC,KAAI,MAAM/B,CAAC,IAAI8B,CAAC,EAAC;MAACC,CAAC,EAAE;MAAC,MAAMD,CAAC,GAAC,IAAI,CAAC4C,gBAAgB,CAAC3C,CAAC,CAAC;MAAC,IAAGD,CAAC,KAAGhC,CAAC,CAAC+E,OAAO,IAAE/C,CAAC,KAAGhC,CAAC,CAACgF,MAAM,EAAC;MAAS,MAAMzC,CAAC,GAACT,CAAC,CAAC5B,CAAC,CAAC;QAACwC,CAAC,GAAC,EAAE;MAAC9C,CAAC,CAACM,CAAC,CAAC,GAACwC,CAAC;MAAC,MAAMC,CAAC,GAACJ,CAAC,CAAC5B,IAAI;MAAC,KAAI,IAAIf,CAAC,GAAC,CAAC,EAACA,CAAC,GAACoC,CAAC,EAACpC,CAAC,EAAE,EAAC;QAAC,MAAK;YAACqF,QAAQ,EAACrF,CAAC;YAACsF,eAAe,EAAClF,CAAC;YAACmF,KAAK,EAACjF,CAAC;YAACkF,UAAU,EAACtD;UAAC,CAAC,GAACzB,CAAC,CAACgF,aAAa,CAAC1C,CAAC,CAAC;UAACX,CAAC,GAAChC,CAAC,GAACE,CAAC;UAAC+B,CAAC,GAAE,GAAErC,CAAE,IAAG,CAAC,CAAC,KAAGkC,CAAE,EAAC;QAAC,IAAIS,CAAC,GAACzC,CAAC,CAACmC,CAAC,CAAC;UAACY,CAAC,GAAC,CAAC;QAAC,IAAG,CAACN,CAAC,IAAEA,CAAC,CAAC4C,KAAK,GAACjF,CAAC,GAAC,CAAC,EAACE,CAAC,EAAE,EAACmC,CAAC,GAAC;UAAC+C,SAAS,EAAClF,CAAC;UAAC+E,KAAK,EAAC,CAAC;UAAC5B,MAAM,EAAC;QAAC,CAAC,EAAC,CAAC,KAAGrD,CAAC,KAAGJ,CAAC,CAACmC,CAAC,CAAC,GAACM,CAAC,CAAC,EAAC5C,CAAC,CAAC8D,IAAI,CAAC;UAAC8B,QAAQ,EAAC,CAAC,CAAC;UAAC1D,IAAI,EAAC,SAAS,GAACzB,CAAC;UAAC+E,KAAK,EAACjF,CAAC;UAACS,IAAI,EAACf,CAAC;UAACwF,UAAU,EAACtD;QAAC,CAAC,CAAC,EAACe,CAAC,GAAC2C,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,GAAG,CAAC1D,CAAC,GAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,KAAI;UAAC,MAAMpC,CAAC,GAACD,CAAC,CAAC4C,CAAC,CAAC+C,SAAS,CAAC;UAAC1F,CAAC,CAACuF,KAAK,IAAEjF,CAAC;UAAC2C,CAAC,GAAC2C,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,GAAG,CAAC9F,CAAC,CAACuF,KAAK,GAACnF,CAAC,GAAC,CAAC,EAAC,CAAC,CAAC,CAAC,GAACwF,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,GAAG,CAACnD,CAAC,CAACgB,MAAM,GAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QAAA;QAACb,CAAC,CAACe,IAAI,CAAC;UAAC6B,SAAS,EAAC/C,CAAC,CAAC+C,SAAS;UAAC/B,MAAM,EAAChB,CAAC,CAACgB,MAAM;UAACC,mBAAmB,EAACX;QAAC,CAAC,CAAC,EAACN,CAAC,CAACgB,MAAM,IAAEvB,CAAC,EAACO,CAAC,CAAC4C,KAAK,IAAEjF,CAAC;MAAA;IAAC;IAAC,KAAI,MAAMF,CAAC,IAAIL,CAAC,EAAC,QAAOK,CAAC,CAACW,IAAI;MAAE,KAAKT,CAAC,CAACyF,IAAI;MAAC,KAAKzF,CAAC,CAAC0F,aAAa;QAAC5F,CAAC,CAACmF,KAAK,GAAC,CAAC;QAAC;MAAM,KAAKjF,CAAC,CAAC2F,KAAK;MAAC,KAAK3F,CAAC,CAAC4F,cAAc;QAAC9F,CAAC,CAACmF,KAAK,IAAEnF,CAAC,CAACmF,KAAK,GAAC,CAAC;IAAA;IAAC,IAAI,CAACY,wBAAwB,CAACpG,CAAC,CAAC;IAAC,IAAI4C,CAAC,GAAC,CAAC;IAAC,MAAMG,CAAC,GAAC,IAAI,CAAC5B,WAAW,CAACkF,QAAQ;IAAC,KAAI,MAAMhG,CAAC,IAAI0C,CAAC,EAAC,IAAI,CAACnC,UAAU,CAAC0F,GAAG,CAACjG,CAAC,CAAC6B,IAAI,EAACU,CAAC,EAAE,CAAC;IAAC,MAAMI,CAAC,GAAC,IAAI,CAAC7B,WAAW,CAACoF,OAAO;IAAC,IAAGvD,CAAC,EAAC,KAAI,MAAM3C,CAAC,IAAI2C,CAAC,EAAC,IAAI,CAACpC,UAAU,CAAC0F,GAAG,CAACjG,CAAC,CAAC6B,IAAI,EAACU,CAAC,EAAE,CAAC;IAAC,IAAI,CAAC4D,gBAAgB,CAACxG,CAAC,EAACC,CAAC,CAAC,EAAC,IAAI,CAACyB,qBAAqB,GAACzB,CAAC;EAAA;EAACmG,wBAAwBA,CAACpG,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,CAAC,CAAC;MAACE,CAAC,GAAC,IAAI,CAACsG,YAAY,EAAE;IAAC,IAAIpG,CAAC,GAACF,CAAC,CAAC,CAAC,CAAC,CAACuG,MAAM;IAAC,IAAG,CAAC,KAAG1G,CAAC,CAAC2G,MAAM,EAAC1G,CAAC,CAACoG,QAAQ,GAAClG,CAAC,CAAC,KAAI;MAAC,MAAMI,CAAC,GAAC,EAAE;MAAC,IAAIG,CAAC,GAACL,CAAC;MAAC,KAAI,MAAMJ,CAAC,IAAID,CAAC,EAACK,CAAC,IAAE8B,CAAC,CAAClC,CAAC,CAACe,IAAI,CAAC,GAACf,CAAC,CAACuF,KAAK;MAAC,KAAI,MAAMxF,CAAC,IAAIG,CAAC,EAACI,CAAC,CAACuD,IAAI,CAAC,IAAIrD,CAAC,CAACT,CAAC,CAACkC,IAAI,EAAClC,CAAC,CAACwF,KAAK,EAACxF,CAAC,CAACgB,IAAI,EAAChB,CAAC,CAAC4D,MAAM,EAACvD,CAAC,EAACL,CAAC,CAACyF,UAAU,CAAC,CAAC;MAAC,KAAI,MAAMxF,CAAC,IAAID,CAAC,EAACO,CAAC,CAACuD,IAAI,CAAC,IAAIrD,CAAC,CAACR,CAAC,CAACiC,IAAI,EAACjC,CAAC,CAACuF,KAAK,EAACvF,CAAC,CAACe,IAAI,EAACN,CAAC,EAACL,CAAC,EAACJ,CAAC,CAACwF,UAAU,CAAC,CAAC,EAAC/E,CAAC,IAAEyB,CAAC,CAAClC,CAAC,CAACe,IAAI,CAAC,GAACf,CAAC,CAACuF,KAAK;MAACvF,CAAC,CAACoG,QAAQ,GAAC9F,CAAC;IAAA;IAAC,IAAI,CAACqG,WAAW,EAAE,KAAG3G,CAAC,CAACsG,OAAO,GAAC,IAAI,CAACK,WAAW,EAAE,CAAC,EAAC,IAAI,CAACzF,WAAW,GAAClB,CAAC,EAAC,IAAI,CAACoB,OAAO,GAAChB,CAAC;EAAA;EAACmG,gBAAgBA,CAACvG,CAAC,EAACM,CAAC,EAAC;IAAC,IAAIE,CAAC,GAAC,IAAI;MAAC0B,CAAC,GAAC,IAAI;IAAC,MAAMG,CAAC,GAAC,EAAE;IAAC,KAAI,MAAMtC,CAAC,IAAIC,CAAC,EAACQ,CAAC,IAAG,aAAY,IAAI,CAACoG,QAAQ,CAAC7G,CAAC,CAACwF,KAAK,CAAE,IAAGxF,CAAC,CAACkC,IAAK,KAAI;IAAC,MAAMU,CAAC,GAAC,IAAI,CAACuC,UAAU,EAAE;MAACpC,CAAC,GAAC,IAAI,CAACJ,cAAc,EAAE;IAAC,IAAIK,CAAC,GAAC,CAAC,CAAC;IAAC,KAAI,MAAME,CAAC,IAAIN,CAAC,EAAC;MAACI,CAAC,EAAE;MAAC,MAAK;UAACd,IAAI,EAACjC,CAAC;UAACe,IAAI,EAAC4B,CAAC;UAACK,eAAe,EAACG,CAAC;UAACD,QAAQ,EAACE;QAAC,CAAC,GAACN,CAAC,CAACG,CAAC,CAAC;QAACM,CAAC,GAACJ,CAAC,IAAE,CAAC,KAAGA,CAAC,GAAC,KAAK,GAAC,CAAC,GAACA,CAAC,GAAC,EAAE;QAAC;UAACmC,eAAe,EAAC5B,CAAC;UAAC6B,KAAK,EAACsB;QAAC,CAAC,GAACpG,CAAC,CAACgF,aAAa,CAAC9C,CAAC,CAAC;QAACmE,CAAC,GAAC/G,CAAC,IAAG,UAASA,CAAC,CAAC2F,SAAU,GAAEtD,CAAC,CAACyE,CAAC,EAAC9G,CAAC,CAAC4D,MAAM,EAACD,CAAC,CAAE,EAAC;MAAC,QAAO,IAAI,CAACsB,gBAAgB,CAACjC,CAAC,CAAC;QAAE,KAAK3C,CAAC,CAAC+E,OAAO;UAAC;YAAC,MAAM/E,CAAC,GAAC,IAAI,CAACwG,QAAQ,CAACC,CAAC,CAAC;cAACvG,CAAC,GAAE,KAAIN,CAAE,EAAC;YAACqC,CAAC,CAACwB,IAAI,CAAC;cAAC5B,IAAI,EAAC3B,CAAC;cAACS,IAAI,EAACX,CAAC;cAAC+B,QAAQ,EAACA,CAACnC,CAAC,EAACI,CAAC,EAACE,CAAC,EAACE,CAAC,KAAG;gBAAC,MAAMC,CAAC,GAAC2C,CAAC,GAACpD,CAAC,CAAC+G,cAAc,CAAC9D,CAAC,EAAC7C,CAAC,CAAC,GAACJ,CAAC,CAACgH,aAAa,CAAC/D,CAAC,EAAC7C,CAAC,CAAC;gBAAC,IAAGuC,CAAC,KAAGzC,CAAC,CAAC0E,sBAAsB,EAAC;kBAAC,MAAM1E,CAAC,GAACF,CAAC,CAACiH,UAAU,CAACxG,CAAC,EAACT,CAAC,CAAC+G,cAAc,CAAC,UAAU,EAAC3G,CAAC,CAAC,CAAC;oBAACE,CAAC,GAACE,CAAC,CAAC0G,qBAAqB,CAAChH,CAAC,EAAC,CAAC,CAAC,CAAC;kBAAC,IAAGH,CAAC,CAACO,CAAC,CAAC,EAAC,OAAO,IAAI;kBAAC,MAAK;oBAAC6G,EAAE,EAACjF,CAAC;oBAACkF,EAAE,EAAChF;kBAAC,CAAC,GAAC9B,CAAC;kBAAC,OAAM,CAAC4B,CAAC,CAAC,CAAC,CAAC,EAACE,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,EAACF,CAAC,CAAC,CAAC,CAAC,CAAC;gBAAA;gBAAC,IAAGS,CAAC,KAAGzC,CAAC,CAAC2E,oBAAoB,EAAC;kBAAC,MAAM7E,CAAC,GAACQ,CAAC,CAAC0G,qBAAqB,CAACzG,CAAC,EAAC,CAACwC,CAAC,CAACoE,QAAQ,CAAC,OAAO,CAAC,CAAC;kBAAC,IAAGtH,CAAC,CAACC,CAAC,CAAC,EAAC,OAAO,IAAI;kBAAC,MAAK;oBAACmH,EAAE,EAACjH,CAAC;oBAACkH,EAAE,EAAChH;kBAAC,CAAC,GAACJ,CAAC;kBAAC,OAAM,CAACE,CAAC,CAAC,CAAC,CAAC,EAACE,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,EAACF,CAAC,CAAC,CAAC,CAAC,CAAC;gBAAA;gBAAC,IAAGyC,CAAC,KAAGzC,CAAC,CAACwE,cAAc,EAAC;kBAAC,MAAM3E,CAAC,GAACU,CAAC,CAAC,CAAC,CAAC;kBAAC,OAAM,CAACV,CAAC,GAACU,CAAC,CAAC,CAAC,CAAC,EAACV,CAAC,GAACU,CAAC,CAAC,CAAC,CAAC,EAACV,CAAC,GAACU,CAAC,CAAC,CAAC,CAAC,EAACV,CAAC,CAAC;gBAAA;gBAAC,OAAOU,CAAC;cAAA;YAAC,CAAC,CAAC,EAACD,CAAC,IAAG,WAAUJ,CAAE,IAAGE,CAAE,KAAI,EAAC4B,CAAC,IAAG,GAAE9B,CAAE,IAAGJ,CAAE,MAAKM,CAAE,KAAI;UAAA;UAAC;QAAM,KAAKF,CAAC,CAACkH,WAAW;UAAC;YAAC,MAAMvH,CAAC,GAAC+G,CAAC,CAACxG,CAAC,CAAC2C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAACf,CAAC,IAAG,GAAE,IAAI,CAAC0E,QAAQ,CAACC,CAAC,CAAE,IAAG7G,CAAE,MAAKD,CAAE,GAAEwD,CAAE,KAAI;UAAA;UAAC;QAAM,KAAKnD,CAAC,CAACmH,wBAAwB;UAAC;YAAC,MAAMxH,CAAC,GAAE,OAAMC,CAAE,EAAC;YAACqC,CAAC,CAACwB,IAAI,CAAC;cAAC5B,IAAI,EAAClC,CAAC;cAACgB,IAAI,EAAC,OAAO;cAACoB,QAAQ,EAACA,CAACpC,CAAC,EAACC,CAAC,EAACE,CAAC,EAACE,CAAC,KAAG,CAACgD,CAAC,GAACrD,CAAC,CAACsD,iBAAiB,CAACJ,CAAC,CAAC,GAAClD,CAAC,CAACuD,gBAAgB,CAACL,CAAC,CAAC,EAAEO,YAAY,CAACgE,yBAAyB,CAACtH,CAAC,EAACF,CAAC;YAAC,CAAC,CAAC,EAACQ,CAAC,IAAG,iBAAgBT,CAAE,KAAI;YAAC,MAAMG,CAAC,GAAC4G,CAAC,CAACxG,CAAC,CAAC2C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cAAC7C,CAAC,GAAC0G,CAAC,CAACxG,CAAC,CAAC2C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAACf,CAAC,IAAG,GAAE,IAAI,CAAC0E,QAAQ,CAACC,CAAC,CAAE,IAAG7G,CAAE,UAASE,CAAE,GAAEqD,CAAE,KAAInD,CAAE,GAAEmD,CAAE,KAAIxD,CAAE,MAAK;UAAA;MAAC;IAAC;IAAC,IAAI,CAAC8B,aAAa,GAACrB,CAAC,EAAC,IAAI,CAACuB,WAAW,GAACG,CAAC,EAAC,IAAI,CAACP,SAAS,GAACU,CAAC;EAAA;EAAC4C,IAAIA,CAAClF,CAAC,EAAC;IAAC,OAAM,CAAC,IAAI,CAACc,IAAI,GAAC,CAAC,IAAEd,CAAC,KAAGA,CAAC;EAAA;EAAC6G,QAAQA,CAAC7G,CAAC,EAAC;IAAC,QAAOA,CAAC;MAAE,KAAK,CAAC;QAAC,OAAM,OAAO;MAAC,KAAK,CAAC;QAAC,OAAM,MAAM;MAAC,KAAK,CAAC;QAAC,OAAM,MAAM;MAAC,KAAK,CAAC;QAAC,OAAM,MAAM;IAAA;IAAC,MAAM,IAAIgF,KAAK,CAAC,eAAe,CAAC;EAAA;EAACJ,YAAYA,CAAC5E,CAAC,EAAC;IAAC,MAAMG,CAAC,GAAC,GAAG,GAACH,CAAC,CAAC,CAAC,CAAC;IAAC,OAAOC,CAAC,CAACyH,SAAS,CAAC1H,CAAC,CAAC,CAAC,CAAC,GAACG,CAAC,EAACH,CAAC,CAAC,CAAC,CAAC,GAACG,CAAC,EAACH,CAAC,CAAC,CAAC,CAAC,GAACG,CAAC,EAACA,CAAC,CAAC;EAAA;EAAC4E,cAAcA,CAAC/E,CAAC,EAACC,CAAC,EAACE,CAAC,EAAC;IAAC,IAAG,CAACA,CAAC,IAAE,CAACA,CAAC,CAACwH,IAAI,EAAC;IAAO,MAAMtH,CAAC,GAAC,CAAC;MAACE,CAAC,GAACJ,CAAC,CAACwH,IAAI;MAAClH,CAAC,GAACN,CAAC,CAACyH,KAAK;MAAClH,CAAC,GAACP,CAAC,CAAC0H,MAAM;IAAC5H,CAAC,CAACD,CAAC,CAAC,GAAC,IAAI,CAACoE,YAAY,CAAC7D,CAAC,CAACuH,CAAC,GAACzH,CAAC,EAAC,CAAC,CAAC,EAACJ,CAAC,CAACD,CAAC,CAAC,IAAE,IAAI,CAACoE,YAAY,CAAC7D,CAAC,CAAC8C,CAAC,GAAChD,CAAC,GAACK,CAAC,EAAC,EAAE,CAAC,EAACT,CAAC,CAACD,CAAC,GAAC,CAAC,CAAC,GAAC,IAAI,CAACoE,YAAY,CAAC7D,CAAC,CAACuH,CAAC,GAACzH,CAAC,GAACI,CAAC,EAAC,CAAC,CAAC,EAACR,CAAC,CAACD,CAAC,GAAC,CAAC,CAAC,IAAE,IAAI,CAACoE,YAAY,CAAC7D,CAAC,CAAC8C,CAAC,GAAChD,CAAC,EAAC,EAAE,CAAC;EAAA;EAAC4D,WAAWA,CAACjE,CAAC,EAACC,CAAC,EAAC;IAAC,OAAM,CAAC,GAAG,GAACD,CAAC,KAAGC,CAAC;EAAA;EAACmE,YAAYA,CAACpE,CAAC,EAACC,CAAC,EAAC;IAAC,OAAM,CAAC,KAAK,GAACD,CAAC,KAAGC,CAAC;EAAA;AAAC;AAACS,CAAC,CAACgF,aAAa,GAAC;EAAC,CAACvF,CAAC,CAAC4D,SAAS,GAAE;IAACuB,QAAQ,EAAC/E,CAAC,CAACyF,IAAI;IAACT,eAAe,EAAC,CAAC;IAACC,KAAK,EAAC,CAAC;IAACC,UAAU,EAAC,CAAC;EAAC,CAAC;EAAC,CAACtF,CAAC,CAAC6D,WAAW,GAAE;IAACsB,QAAQ,EAAC/E,CAAC,CAAC0F,aAAa;IAACV,eAAe,EAAC,CAAC;IAACC,KAAK,EAAC,CAAC;IAACC,UAAU,EAAC,CAAC;EAAC,CAAC;EAAC,CAACtF,CAAC,CAAC+D,UAAU,GAAE;IAACoB,QAAQ,EAAC/E,CAAC,CAAC2F,KAAK;IAACX,eAAe,EAAC,CAAC;IAACC,KAAK,EAAC,CAAC;IAACC,UAAU,EAAC,CAAC;EAAC,CAAC;EAAC,CAACtF,CAAC,CAACgE,YAAY,GAAE;IAACmB,QAAQ,EAAC/E,CAAC,CAAC4F,cAAc;IAACZ,eAAe,EAAC,CAAC;IAACC,KAAK,EAAC,CAAC;IAACC,UAAU,EAAC,CAAC;EAAC,CAAC;EAAC,CAACtF,CAAC,CAACkE,WAAW,GAAE;IAACiB,QAAQ,EAAC/E,CAAC,CAACyF,IAAI;IAACT,eAAe,EAAC,CAAC;IAACC,KAAK,EAAC,CAAC;IAACC,UAAU,EAAC,CAAC;EAAC,CAAC;EAAC,CAACtF,CAAC,CAACmE,aAAa,GAAE;IAACgB,QAAQ,EAAC/E,CAAC,CAAC0F,aAAa;IAACV,eAAe,EAAC,CAAC;IAACC,KAAK,EAAC,CAAC;IAACC,UAAU,EAAC,CAAC;EAAC,CAAC;EAAC,CAACtF,CAAC,CAACoE,aAAa,GAAE;IAACe,QAAQ,EAAC/E,CAAC,CAAC2F,KAAK;IAACX,eAAe,EAAC,CAAC;IAACC,KAAK,EAAC,CAAC;IAACC,UAAU,EAAC,CAAC;EAAC,CAAC;EAAC,CAACtF,CAAC,CAACqE,eAAe,GAAE;IAACc,QAAQ,EAAC/E,CAAC,CAAC4F,cAAc;IAACZ,eAAe,EAAC,CAAC;IAACC,KAAK,EAAC,CAAC;IAACC,UAAU,EAAC,CAAC;EAAC,CAAC;EAAC,CAACtF,CAAC,CAACsE,eAAe,GAAE;IAACa,QAAQ,EAAC/E,CAAC,CAACyF,IAAI;IAACT,eAAe,EAAC,CAAC;IAACC,KAAK,EAAC,CAAC;IAACC,UAAU,EAAC,CAAC;EAAC,CAAC;EAAC,CAACtF,CAAC,CAACuE,iBAAiB,GAAE;IAACY,QAAQ,EAAC/E,CAAC,CAAC0F,aAAa;IAACV,eAAe,EAAC,CAAC;IAACC,KAAK,EAAC,CAAC;IAACC,UAAU,EAAC,CAAC;EAAC,CAAC;EAAC,CAACtF,CAAC,CAACwE,cAAc,GAAE;IAACW,QAAQ,EAAC/E,CAAC,CAAC0F,aAAa;IAACV,eAAe,EAAC,CAAC;IAACC,KAAK,EAAC,CAAC;IAACC,UAAU,EAAC,CAAC;EAAC,CAAC;EAAC,CAACtF,CAAC,CAAC0E,sBAAsB,GAAE;IAACS,QAAQ,EAAC/E,CAAC,CAAC4F,cAAc;IAACZ,eAAe,EAAC,CAAC;IAACC,KAAK,EAAC,CAAC;IAACC,UAAU,EAAC,CAAC;EAAC,CAAC;EAAC,CAACtF,CAAC,CAAC2E,oBAAoB,GAAE;IAACQ,QAAQ,EAAC/E,CAAC,CAAC4F,cAAc;IAACZ,eAAe,EAAC,CAAC;IAACC,KAAK,EAAC,CAAC;IAACC,UAAU,EAAC,CAAC;EAAC;AAAC,CAAC;AAAC,MAAMtD,CAAC,GAACnC,CAAC,IAAE;IAAC,QAAOA,CAAC;MAAE,KAAKO,CAAC,CAACwH,KAAK;MAAC,KAAKxH,CAAC,CAACyH,GAAG;MAAC,KAAKzH,CAAC,CAAC0H,YAAY;QAAC,OAAO,CAAC;MAAC,KAAK1H,CAAC,CAAC2F,KAAK;MAAC,KAAK3F,CAAC,CAAC4F,cAAc;QAAC,OAAO,CAAC;MAAC,KAAK5F,CAAC,CAACyF,IAAI;MAAC,KAAKzF,CAAC,CAAC0F,aAAa;QAAC,OAAO,CAAC;IAAA;EAAC,CAAC;EAAC5D,CAAC,GAACA,CAACrC,CAAC,EAACC,CAAC,EAACE,CAAC,KAAG;IAAC,MAAME,CAAC,GAACJ,CAAC,GAACE,CAAC;IAAC,IAAG,CAAC,KAAGH,CAAC,EAAC,QAAOK,CAAC;MAAE,KAAK,CAAC;QAAC,OAAM,IAAI;MAAC,KAAK,CAAC;QAAC,OAAM,IAAI;MAAC,KAAK,CAAC;QAAC,OAAM,IAAI;MAAC,KAAK,CAAC;QAAC,OAAM,IAAI;IAAA,CAAC,MAAK,IAAG,CAAC,KAAGL,CAAC,EAAC,QAAOK,CAAC;MAAE,KAAK,CAAC;QAAC,OAAM,KAAK;MAAC,KAAK,CAAC;QAAC,OAAM,KAAK;MAAC,KAAK,CAAC;QAAC,OAAM,KAAK;IAAA,CAAC,MAAK,IAAG,CAAC,KAAGL,CAAC,EAAC,QAAOK,CAAC;MAAE,KAAK,CAAC;QAAC,OAAM,MAAM;MAAC,KAAK,CAAC;QAAC,OAAM,MAAM;IAAA;IAAC,OAAM,EAAE;EAAA,CAAC;AAAC,SAAOK,CAAC,IAAIwH,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}