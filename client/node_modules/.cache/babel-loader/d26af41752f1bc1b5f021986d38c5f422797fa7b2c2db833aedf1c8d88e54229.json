{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { clamp as t } from \"../../../../core/mathUtils.js\";\nimport { o as n, s as o, c as r } from \"../../../../chunks/vec3.js\";\nimport { c as e } from \"../../../../chunks/vec3f64.js\";\nimport { elementwiseProduct as s, scalarProduct as i, add as c } from \"../lib/LongVectorMath.js\";\nimport { MainLight as f, FillLight as h, AmbientLight as a, SphericalHarmonicsAmbientLight as g } from \"./Lightsources.js\";\nfunction u(t) {\n  return (t + 1) * (t + 1);\n}\nfunction l(n) {\n  return t(Math.floor(Math.sqrt(n) - 1), 0, 2);\n}\nfunction m(t, n, o) {\n  var r = t[0],\n    e = t[1],\n    s = t[2],\n    i = o || [];\n  return i.length = u(n), n >= 0 && (i[0] = .28209479177), n >= 1 && (i[1] = .4886025119 * r, i[2] = .4886025119 * s, i[3] = .4886025119 * e), n >= 2 && (i[4] = 1.09254843059 * r * e, i[5] = 1.09254843059 * e * s, i[6] = .31539156525 * (3 * s * s - 1), i[7] = 1.09254843059 * r * s, i[8] = .54627421529 * (r * r - e * e)), i;\n}\nfunction p(t, n) {\n  var o = u(t),\n    r = n || {\n      r: [],\n      g: [],\n      b: []\n    };\n  r.r.length = r.g.length = r.b.length = o;\n  for (var _e = 0; _e < o; _e++) r.r[_e] = r.g[_e] = r.b[_e] = 0;\n  return r;\n}\nfunction y(t, o) {\n  var r = l(o.r.length);\n  var _iterator = _createForOfIteratorHelper(t),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _e2 = _step.value;\n      n(P, _e2.direction), m(P, r, v), s(v, k), i(v, _e2.intensity[0], I), c(o.r, I), i(v, _e2.intensity[1], I), c(o.g, I), i(v, _e2.intensity[2], I), c(o.b, I);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return o;\n}\nfunction b(t, n) {\n  m(P, 0, v);\n  var _iterator2 = _createForOfIteratorHelper(t),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _o = _step2.value;\n      n.r[0] += v[0] * k[0] * _o.intensity[0] * 4 * Math.PI, n.g[0] += v[0] * k[0] * _o.intensity[1] * 4 * Math.PI, n.b[0] += v[0] * k[0] * _o.intensity[2] * 4 * Math.PI;\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  return n;\n}\nfunction M(t, n, e, s) {\n  p(n, s), o(e.intensity, 0, 0, 0);\n  var i = !1;\n  var u = S,\n    l = d,\n    m = j;\n  u.length = 0, l.length = 0, m.length = 0;\n  var _iterator3 = _createForOfIteratorHelper(t),\n    _step3;\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var _o2 = _step3.value;\n      _o2 instanceof f && !i ? (r(e.direction, _o2.direction), r(e.intensity, _o2.intensity), e.specularStrength = _o2.specularStrength, e.environmentStrength = _o2.environmentStrength, e.castShadows = _o2.castShadows, i = !0) : _o2 instanceof f || _o2 instanceof h ? u.push(_o2) : _o2 instanceof a ? l.push(_o2) : _o2 instanceof g && m.push(_o2);\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n  y(u, s), b(l, s);\n  var _iterator4 = _createForOfIteratorHelper(m),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var _o3 = _step4.value;\n      c(s.r, _o3.r), c(s.g, _o3.g), c(s.b, _o3.b);\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n}\nvar S = [],\n  d = [],\n  j = [],\n  v = [0],\n  I = [0],\n  P = e(),\n  k = [3.141593, 2.094395, 2.094395, 2.094395, .785398, .785398, .785398, .785398, .785398];\nexport { M as combineLights, m as computeCoefficients, p as initSHCoefficients, u as numberOfCoefficients, l as orderFromNumberOfCoefficients, b as projectAmbientLights, y as projectFillLights };","map":{"version":3,"names":["clamp","t","o","n","s","c","r","e","elementwiseProduct","scalarProduct","i","add","MainLight","f","FillLight","h","AmbientLight","a","SphericalHarmonicsAmbientLight","g","u","l","Math","floor","sqrt","m","length","p","b","y","_iterator","_createForOfIteratorHelper","_step","done","value","P","direction","v","k","intensity","I","err","_iterator2","_step2","PI","M","S","d","j","_iterator3","_step3","specularStrength","environmentStrength","castShadows","push","_iterator4","_step4","combineLights","computeCoefficients","initSHCoefficients","numberOfCoefficients","orderFromNumberOfCoefficients","projectAmbientLights","projectFillLights"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{o as n,s as o,c as r}from\"../../../../chunks/vec3.js\";import{c as e}from\"../../../../chunks/vec3f64.js\";import{elementwiseProduct as s,scalarProduct as i,add as c}from\"../lib/LongVectorMath.js\";import{MainLight as f,FillLight as h,AmbientLight as a,SphericalHarmonicsAmbientLight as g}from\"./Lightsources.js\";function u(t){return(t+1)*(t+1)}function l(n){return t(Math.floor(Math.sqrt(n)-1),0,2)}function m(t,n,o){const r=t[0],e=t[1],s=t[2],i=o||[];return i.length=u(n),n>=0&&(i[0]=.28209479177),n>=1&&(i[1]=.4886025119*r,i[2]=.4886025119*s,i[3]=.4886025119*e),n>=2&&(i[4]=1.09254843059*r*e,i[5]=1.09254843059*e*s,i[6]=.31539156525*(3*s*s-1),i[7]=1.09254843059*r*s,i[8]=.54627421529*(r*r-e*e)),i}function p(t,n){const o=u(t),r=n||{r:[],g:[],b:[]};r.r.length=r.g.length=r.b.length=o;for(let e=0;e<o;e++)r.r[e]=r.g[e]=r.b[e]=0;return r}function y(t,o){const r=l(o.r.length);for(const e of t)n(P,e.direction),m(P,r,v),s(v,k),i(v,e.intensity[0],I),c(o.r,I),i(v,e.intensity[1],I),c(o.g,I),i(v,e.intensity[2],I),c(o.b,I);return o}function b(t,n){m(P,0,v);for(const o of t)n.r[0]+=v[0]*k[0]*o.intensity[0]*4*Math.PI,n.g[0]+=v[0]*k[0]*o.intensity[1]*4*Math.PI,n.b[0]+=v[0]*k[0]*o.intensity[2]*4*Math.PI;return n}function M(t,n,e,s){p(n,s),o(e.intensity,0,0,0);let i=!1;const u=S,l=d,m=j;u.length=0,l.length=0,m.length=0;for(const o of t)o instanceof f&&!i?(r(e.direction,o.direction),r(e.intensity,o.intensity),e.specularStrength=o.specularStrength,e.environmentStrength=o.environmentStrength,e.castShadows=o.castShadows,i=!0):o instanceof f||o instanceof h?u.push(o):o instanceof a?l.push(o):o instanceof g&&m.push(o);y(u,s),b(l,s);for(const o of m)c(s.r,o.r),c(s.g,o.g),c(s.b,o.b)}const S=[],d=[],j=[],v=[0],I=[0],P=e(),k=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,m as computeCoefficients,p as initSHCoefficients,u as numberOfCoefficients,l as orderFromNumberOfCoefficients,b as projectAmbientLights,y as projectFillLights};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}