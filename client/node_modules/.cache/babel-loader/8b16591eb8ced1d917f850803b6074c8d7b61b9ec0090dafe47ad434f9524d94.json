{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nimport { clone as t } from \"../../core/lang.js\";\nimport { isSome as i } from \"../../core/maybe.js\";\nimport { getDeepValue as n } from \"../../core/object.js\";\nimport { numberToJSON as r } from \"../../core/accessorSupport/extensions/serializableProperty/writer.js\";\nimport { isFeatureCollectionLayer as o } from \"../../layers/support/layerUtils.js\";\nvar l = new Set([\"bing-maps\", \"imagery\", \"imagery-tile\", \"map-image\", \"open-street-map\", \"tile\", \"unknown\", \"unsupported\", \"vector-tile\", \"web-tile\", \"wms\", \"wmts\"]),\n  a = new Set([\"csv\", \"feature\", \"geo-rss\", \"geojson\", \"group\", \"imagery\", \"imagery-tile\", \"kml\", \"map-image\", \"map-notes\", \"media\", \"ogc-feature\", \"route\", \"subtype-group\", \"tile\", \"unknown\", \"unsupported\", \"vector-tile\", \"web-tile\", \"wfs\", \"wms\", \"wmts\"]);\nfunction s(e) {\n  l.delete(e), a.delete(e);\n}\nfunction m(e) {\n  l.add(e), a.add(e);\n}\nfunction p(e) {\n  return \"basemap\" === e.layerContainerType ? l : \"operational-layers\" === e.layerContainerType ? a : null;\n}\nfunction c(e, t) {\n  if (t.restrictedWebMapWriting) {\n    var _n = p(t);\n    return !i(_n) || _n.has(e.type) && !o(e);\n  }\n  return !0;\n}\nfunction d(e, t) {\n  if (t) if (o(e)) {\n    var _i = n(\"featureCollection.layers\", t),\n      _r = _i && _i[0] && _i[0].layerDefinition;\n    _r && u(e, _r);\n  } else if (\"stream\" === e.type) {\n    u(e, t.layerDefinition = t.layerDefinition || {});\n  } else \"group\" !== e.type && u(e, t);\n}\nfunction u(e, t) {\n  var _r2, _r3;\n  \"maxScale\" in e && (t.maxScale = (_r2 = r(e.maxScale)) !== null && _r2 !== void 0 ? _r2 : void 0), \"minScale\" in e && (t.minScale = (_r3 = r(e.minScale)) !== null && _r3 !== void 0 ? _r3 : void 0);\n}\nfunction f(e, t) {\n  var _r4;\n  if (d(e, t), t && (\"blendMode\" in e && (t.blendMode = e.blendMode, \"normal\" === t.blendMode && delete t.blendMode), t.opacity = (_r4 = r(e.opacity)) !== null && _r4 !== void 0 ? _r4 : void 0, t.title = e.title || \"Layer\", t.visibility = e.visible, \"legendEnabled\" in e && \"wmts\" !== e.type)) if (o(e)) {\n    var _i2 = t.featureCollection;\n    _i2 && (_i2.showLegend = e.legendEnabled);\n  } else t.showLegend = e.legendEnabled;\n}\nfunction y(n, r, o) {\n  if (!(\"write\" in n) || !n.write) return o && o.messages && o.messages.push(new e(\"layer:unsupported\", \"Layers (\".concat(n.title, \", \").concat(n.id, \") of type '\").concat(n.declaredClass, \"' cannot be persisted\"), {\n    layer: n\n  })), null;\n  if (c(n, o)) {\n    var _e = {};\n    return n.write(_e, o) ? _e : null;\n  }\n  return i(r) && f(n, r = t(r)), r;\n}\nexport { m as disableRestrictedWriting, s as enableRestrictedWriting, y as getLayerJSON };","map":{"version":3,"names":["e","clone","t","isSome","i","getDeepValue","n","numberToJSON","r","isFeatureCollectionLayer","o","l","Set","a","s","delete","m","add","p","layerContainerType","c","restrictedWebMapWriting","has","type","d","layerDefinition","u","_r2","_r3","maxScale","minScale","f","_r4","blendMode","opacity","title","visibility","visible","featureCollection","showLegend","legendEnabled","y","write","messages","push","concat","id","declaredClass","layer","disableRestrictedWriting","enableRestrictedWriting","getLayerJSON"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/webdoc/support/writeUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{clone as t}from\"../../core/lang.js\";import{isSome as i}from\"../../core/maybe.js\";import{getDeepValue as n}from\"../../core/object.js\";import{numberToJSON as r}from\"../../core/accessorSupport/extensions/serializableProperty/writer.js\";import{isFeatureCollectionLayer as o}from\"../../layers/support/layerUtils.js\";const l=new Set([\"bing-maps\",\"imagery\",\"imagery-tile\",\"map-image\",\"open-street-map\",\"tile\",\"unknown\",\"unsupported\",\"vector-tile\",\"web-tile\",\"wms\",\"wmts\"]),a=new Set([\"csv\",\"feature\",\"geo-rss\",\"geojson\",\"group\",\"imagery\",\"imagery-tile\",\"kml\",\"map-image\",\"map-notes\",\"media\",\"ogc-feature\",\"route\",\"subtype-group\",\"tile\",\"unknown\",\"unsupported\",\"vector-tile\",\"web-tile\",\"wfs\",\"wms\",\"wmts\"]);function s(e){l.delete(e),a.delete(e)}function m(e){l.add(e),a.add(e)}function p(e){return\"basemap\"===e.layerContainerType?l:\"operational-layers\"===e.layerContainerType?a:null}function c(e,t){if(t.restrictedWebMapWriting){const n=p(t);return!i(n)||n.has(e.type)&&!o(e)}return!0}function d(e,t){if(t)if(o(e)){const i=n(\"featureCollection.layers\",t),r=i&&i[0]&&i[0].layerDefinition;r&&u(e,r)}else if(\"stream\"===e.type){u(e,t.layerDefinition=t.layerDefinition||{})}else\"group\"!==e.type&&u(e,t)}function u(e,t){\"maxScale\"in e&&(t.maxScale=r(e.maxScale)??void 0),\"minScale\"in e&&(t.minScale=r(e.minScale)??void 0)}function f(e,t){if(d(e,t),t&&(\"blendMode\"in e&&(t.blendMode=e.blendMode,\"normal\"===t.blendMode&&delete t.blendMode),t.opacity=r(e.opacity)??void 0,t.title=e.title||\"Layer\",t.visibility=e.visible,\"legendEnabled\"in e&&\"wmts\"!==e.type))if(o(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function y(n,r,o){if(!(\"write\"in n)||!n.write)return o&&o.messages&&o.messages.push(new e(\"layer:unsupported\",`Layers (${n.title}, ${n.id}) of type '${n.declaredClass}' cannot be persisted`,{layer:n})),null;if(c(n,o)){const e={};return n.write(e,o)?e:null}return i(r)&&f(n,r=t(r)),r}export{m as disableRestrictedWriting,s as enableRestrictedWriting,y as getLayerJSON};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}