{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport { isNone as e } from \"../../../core/maybe.js\";\nimport { isExtent as i, isPolygon as t, isPolyline as s } from \"../../../geometry/support/jsonUtils.js\";\nimport { clipPolygonToTileExtent as r, clipPolylineToTileExtent as n } from \"../CIMEffects.js\";\nimport { CurveHelper as m, PIXEL_TOLERANCE as o } from \"../CurveHelper.js\";\nimport { GeometricEffectOffsetMethod as a } from \"../enums.js\";\nimport h from \"../../../geometry/SpatialReference.js\";\nclass l {\n  static local() {\n    return null === l.instance && (l.instance = new l()), l.instance;\n  }\n  execute(e, i, t, s, r) {\n    return new f(e, i, t, s, r);\n  }\n}\nl.instance = null;\nclass f {\n  constructor(e, i, t, s, r) {\n    this._inputGeometries = e, this._tileKey = s, this._geometryEngine = r, this._curveHelper = new m(), this._size = (void 0 !== i.size ? i.size : 1) * t, this._offsetFlattenError = o * t;\n  }\n  next() {\n    let m;\n    for (; m = this._inputGeometries.next();) {\n      if (0 === this._size) return m;\n      if (i(m)) if (this._size > 0) {\n        const e = [[m.xmin, m.ymin], [m.xmin, m.ymax], [m.xmax, m.ymax], [m.xmax, m.ymin], [m.xmin, m.ymin]],\n          i = this._curveHelper.offset(e, this._size, a.Rounded, 4, this._offsetFlattenError);\n        if (i) return {\n          rings: [i]\n        };\n      } else if (this._size < 0 && Math.min(m.xmax - m.xmin, m.ymax - m.ymin) + 2 * this._size > 0) return {\n        xmin: m.xmin - this._size,\n        xmax: m.xmax + this._size,\n        ymin: m.ymin - this._size,\n        ymax: m.ymax + this._size\n      };\n      const o = this._geometryEngine;\n      if (e(o)) return null;\n      let l = m;\n      if ((!t(m) || !this._tileKey || (l = r(m, Math.abs(this._size) + 1), l && l.rings && 0 !== l.rings.length)) && (!s(m) || !this._tileKey || (l = n(m, Math.abs(this._size) + 1), l && l.paths && 0 !== l.paths.length))) return o.buffer(h.WebMercator, l, this._size, 1);\n    }\n    return null;\n  }\n}\nexport { l as EffectBuffer };","map":{"version":3,"names":["isNone","e","isExtent","i","isPolygon","t","isPolyline","s","clipPolygonToTileExtent","r","clipPolylineToTileExtent","n","CurveHelper","m","PIXEL_TOLERANCE","o","GeometricEffectOffsetMethod","a","h","l","local","instance","execute","f","constructor","_inputGeometries","_tileKey","_geometryEngine","_curveHelper","_size","size","_offsetFlattenError","next","xmin","ymin","ymax","xmax","offset","Rounded","rings","Math","min","abs","length","paths","buffer","WebMercator","EffectBuffer"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/symbols/cim/effects/EffectBuffer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isNone as e}from\"../../../core/maybe.js\";import{isExtent as i,isPolygon as t,isPolyline as s}from\"../../../geometry/support/jsonUtils.js\";import{clipPolygonToTileExtent as r,clipPolylineToTileExtent as n}from\"../CIMEffects.js\";import{CurveHelper as m,PIXEL_TOLERANCE as o}from\"../CurveHelper.js\";import{GeometricEffectOffsetMethod as a}from\"../enums.js\";import h from\"../../../geometry/SpatialReference.js\";class l{static local(){return null===l.instance&&(l.instance=new l),l.instance}execute(e,i,t,s,r){return new f(e,i,t,s,r)}}l.instance=null;class f{constructor(e,i,t,s,r){this._inputGeometries=e,this._tileKey=s,this._geometryEngine=r,this._curveHelper=new m,this._size=(void 0!==i.size?i.size:1)*t,this._offsetFlattenError=o*t}next(){let m;for(;m=this._inputGeometries.next();){if(0===this._size)return m;if(i(m))if(this._size>0){const e=[[m.xmin,m.ymin],[m.xmin,m.ymax],[m.xmax,m.ymax],[m.xmax,m.ymin],[m.xmin,m.ymin]],i=this._curveHelper.offset(e,this._size,a.Rounded,4,this._offsetFlattenError);if(i)return{rings:[i]}}else if(this._size<0&&Math.min(m.xmax-m.xmin,m.ymax-m.ymin)+2*this._size>0)return{xmin:m.xmin-this._size,xmax:m.xmax+this._size,ymin:m.ymin-this._size,ymax:m.ymax+this._size};const o=this._geometryEngine;if(e(o))return null;let l=m;if((!t(m)||!this._tileKey||(l=r(m,Math.abs(this._size)+1),l&&l.rings&&0!==l.rings.length))&&(!s(m)||!this._tileKey||(l=n(m,Math.abs(this._size)+1),l&&l.paths&&0!==l.paths.length)))return o.buffer(h.WebMercator,l,this._size,1)}return null}}export{l as EffectBuffer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}