{"ast":null,"code":"import _toConsumableArray from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _regeneratorRuntime from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _createForOfIteratorHelper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../TimeExtent.js\";\nimport { unwrap as t, isSome as n, isNone as i } from \"../core/maybe.js\";\nimport { eachAlways as r } from \"../core/promiseUtils.js\";\nimport { offsetDate as o } from \"../core/timeUtils.js\";\nfunction m(e) {\n  return void 0 !== e.timeInfo;\n}\nfunction s(_x, _x2) {\n  return _s.apply(this, arguments);\n}\nfunction _s() {\n  _s = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(o, s) {\n    var f, a, u, _iterator, _step, _e$timeInfo3, _e, l, c, p, T;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          if (!(0 === o.length)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", e.allTime);\n        case 2:\n          f = o.filter(m);\n          _context2.next = 5;\n          return Promise.all(f.map(function (e) {\n            return e.load({\n              signal: s\n            });\n          }));\n        case 5:\n          a = [], u = [];\n          _iterator = _createForOfIteratorHelper(f);\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              _e = _step.value;\n              \"feature\" !== (_e === null || _e === void 0 ? void 0 : _e.type) && \"map-image\" !== (_e === null || _e === void 0 ? void 0 : _e.type) || !((_e$timeInfo3 = _e.timeInfo) !== null && _e$timeInfo3 !== void 0 && _e$timeInfo3.hasLiveData) ? u.push(_e) : a.push(_e);\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n          l = function l(e) {\n            return i(e) || e.isAllTime;\n          }, c = u.map(function (e) {\n            var _e$timeInfo;\n            return (_e$timeInfo = e.timeInfo) === null || _e$timeInfo === void 0 ? void 0 : _e$timeInfo.fullTimeExtent;\n          });\n          if (!c.some(l)) {\n            _context2.next = 11;\n            break;\n          }\n          return _context2.abrupt(\"return\", e.allTime);\n        case 11:\n          p = a.map( /*#__PURE__*/function () {\n            var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n              var _e$timeInfo2;\n              var _yield$e$fetchRecompu, n;\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return e.fetchRecomputedExtents({\n                      signal: s\n                    });\n                  case 2:\n                    _yield$e$fetchRecompu = _context.sent;\n                    n = _yield$e$fetchRecompu.timeExtent;\n                    return _context.abrupt(\"return\", n || t((_e$timeInfo2 = e.timeInfo) === null || _e$timeInfo2 === void 0 ? void 0 : _e$timeInfo2.fullTimeExtent));\n                  case 5:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            }));\n            return function (_x3) {\n              return _ref.apply(this, arguments);\n            };\n          }());\n          _context2.next = 14;\n          return r(p);\n        case 14:\n          T = _context2.sent.map(function (e) {\n            return e.value;\n          });\n          if (!T.some(l)) {\n            _context2.next = 17;\n            break;\n          }\n          return _context2.abrupt(\"return\", e.allTime);\n        case 17:\n          return _context2.abrupt(\"return\", [].concat(_toConsumableArray(T), _toConsumableArray(c)).filter(n).reduce(function (e, t) {\n            return e.union(t);\n          }));\n        case 18:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _s.apply(this, arguments);\n}\nfunction f(t) {\n  if (!t) return t;\n  var i = t.start,\n    r = t.end;\n  return new e({\n    start: n(i) ? o(i, -i.getTimezoneOffset(), \"minutes\") : i,\n    end: n(r) ? o(r, -r.getTimezoneOffset(), \"minutes\") : r\n  });\n}\nfunction a(t) {\n  if (!t) return t;\n  var i = t.start,\n    r = t.end;\n  return new e({\n    start: n(i) ? o(i, i.getTimezoneOffset(), \"minutes\") : i,\n    end: n(r) ? o(r, r.getTimezoneOffset(), \"minutes\") : r\n  });\n}\nexport { s as getTimeExtentFromLayers, a as toLocalTimeExtent, f as toUTCTimeExtent };","map":{"version":3,"names":["e","unwrap","t","isSome","n","isNone","i","eachAlways","r","offsetDate","o","m","timeInfo","s","_x","_x2","_s","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","f","a","u","_iterator","_step","_e$timeInfo3","_e","l","c","p","T","wrap","_callee2$","_context2","prev","next","length","abrupt","allTime","filter","Promise","all","map","load","signal","_createForOfIteratorHelper","done","value","type","hasLiveData","push","err","isAllTime","_e$timeInfo","fullTimeExtent","some","_ref","_callee","_e$timeInfo2","_yield$e$fetchRecompu","_callee$","_context","fetchRecomputedExtents","sent","timeExtent","stop","_x3","concat","_toConsumableArray","reduce","union","start","end","getTimezoneOffset","getTimeExtentFromLayers","toLocalTimeExtent","toUTCTimeExtent"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/support/timeUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../TimeExtent.js\";import{unwrap as t,isSome as n,isNone as i}from\"../core/maybe.js\";import{eachAlways as r}from\"../core/promiseUtils.js\";import{offsetDate as o}from\"../core/timeUtils.js\";function m(e){return void 0!==e.timeInfo}async function s(o,s){if(0===o.length)return e.allTime;const f=o.filter(m);await Promise.all(f.map((e=>e.load({signal:s}))));const a=[],u=[];for(const e of f)\"feature\"!==e?.type&&\"map-image\"!==e?.type||!e.timeInfo?.hasLiveData?u.push(e):a.push(e);const l=e=>i(e)||e.isAllTime,c=u.map((e=>e.timeInfo?.fullTimeExtent));if(c.some(l))return e.allTime;const p=a.map((async e=>{const{timeExtent:n}=await e.fetchRecomputedExtents({signal:s});return n||t(e.timeInfo?.fullTimeExtent)})),T=(await r(p)).map((e=>e.value));if(T.some(l))return e.allTime;return[...T,...c].filter(n).reduce(((e,t)=>e.union(t)))}function f(t){if(!t)return t;const{start:i,end:r}=t;return new e({start:n(i)?o(i,-i.getTimezoneOffset(),\"minutes\"):i,end:n(r)?o(r,-r.getTimezoneOffset(),\"minutes\"):r})}function a(t){if(!t)return t;const{start:i,end:r}=t;return new e({start:n(i)?o(i,i.getTimezoneOffset(),\"minutes\"):i,end:n(r)?o(r,r.getTimezoneOffset(),\"minutes\"):r})}export{s as getTimeExtentFromLayers,a as toLocalTimeExtent,f as toUTCTimeExtent};\n"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAC,MAAK,kBAAkB;AAAC,SAAOC,MAAM,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,QAAK,kBAAkB;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,yBAAyB;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,sBAAsB;AAAC,SAASC,CAACA,CAACX,CAAC,EAAC;EAAC,OAAO,KAAK,CAAC,KAAGA,CAAC,CAACY,QAAQ;AAAA;AAAC,SAAeC,CAACA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,EAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,GAAA;EAAAA,EAAA,GAAAG,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAhB,SAAAC,SAAiBZ,CAAC,EAACG,CAAC;IAAA,IAAAU,CAAA,EAAAC,CAAA,EAAAC,CAAA,EAAAC,SAAA,EAAAC,KAAA,EAAAC,YAAA,EAAAC,EAAA,EAAAC,CAAA,EAAAC,CAAA,EAAAC,CAAA,EAAAC,CAAA;IAAA,OAAAb,mBAAA,GAAAc,IAAA,UAAAC,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAC,IAAA,GAAAD,SAAA,CAAAE,IAAA;QAAA;UAAA,MAAK,CAAC,KAAG5B,CAAC,CAAC6B,MAAM;YAAAH,SAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,SAAA,CAAAI,MAAA,WAAQxC,CAAC,CAACyC,OAAO;QAAA;UAAOlB,CAAC,GAACb,CAAC,CAACgC,MAAM,CAAC/B,CAAC,CAAC;UAAAyB,SAAA,CAAAE,IAAA;UAAA,OAAOK,OAAO,CAACC,GAAG,CAACrB,CAAC,CAACsB,GAAG,CAAE,UAAA7C,CAAC;YAAA,OAAEA,CAAC,CAAC8C,IAAI,CAAC;cAACC,MAAM,EAAClC;YAAC,CAAC,CAAC;UAAA,EAAE,CAAC;QAAA;UAAOW,CAAC,GAAC,EAAE,EAACC,CAAC,GAAC,EAAE;UAAAC,SAAA,GAAAsB,0BAAA,CAAgBzB,CAAC;UAAA;YAAhB,KAAAG,SAAA,CAAAb,CAAA,MAAAc,KAAA,GAAAD,SAAA,CAAAtB,CAAA,IAAA6C,IAAA,GAAiB;cAAPjD,EAAC,GAAA2B,KAAA,CAAAuB,KAAA;cAAM,SAAS,MAAGlD,EAAC,aAADA,EAAC,uBAADA,EAAC,CAAEmD,IAAI,KAAE,WAAW,MAAGnD,EAAC,aAADA,EAAC,uBAADA,EAAC,CAAEmD,IAAI,KAAE,GAAAvB,YAAA,GAAC5B,EAAC,CAACY,QAAQ,cAAAgB,YAAA,eAAVA,YAAA,CAAYwB,WAAW,IAAC3B,CAAC,CAAC4B,IAAI,CAACrD,EAAC,CAAC,GAACwB,CAAC,CAAC6B,IAAI,CAACrD,EAAC,CAAC;YAAA;UAAC,SAAAsD,GAAA;YAAA5B,SAAA,CAAA1B,CAAA,CAAAsD,GAAA;UAAA;YAAA5B,SAAA,CAAAH,CAAA;UAAA;UAAMO,CAAC,GAAC,SAAFA,CAACA,CAAC9B,CAAC;YAAA,OAAEM,CAAC,CAACN,CAAC,CAAC,IAAEA,CAAC,CAACuD,SAAS;UAAA,GAACxB,CAAC,GAACN,CAAC,CAACoB,GAAG,CAAE,UAAA7C,CAAC;YAAA,IAAAwD,WAAA;YAAA,QAAAA,WAAA,GAAExD,CAAC,CAACY,QAAQ,cAAA4C,WAAA,uBAAVA,WAAA,CAAYC,cAAc;UAAA,EAAE;UAAA,KAAI1B,CAAC,CAAC2B,IAAI,CAAC5B,CAAC,CAAC;YAAAM,SAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,SAAA,CAAAI,MAAA,WAAQxC,CAAC,CAACyC,OAAO;QAAA;UAAOT,CAAC,GAACR,CAAC,CAACqB,GAAG;YAAA,IAAAc,IAAA,GAAAxC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAE,SAAAuC,QAAM5D,CAAC;cAAA,IAAA6D,YAAA;cAAA,IAAAC,qBAAA,EAAA1D,CAAA;cAAA,OAAAgB,mBAAA,GAAAc,IAAA,UAAA6B,SAAAC,QAAA;gBAAA,kBAAAA,QAAA,CAAA3B,IAAA,GAAA2B,QAAA,CAAA1B,IAAA;kBAAA;oBAAA0B,QAAA,CAAA1B,IAAA;oBAAA,OAA6BtC,CAAC,CAACiE,sBAAsB,CAAC;sBAAClB,MAAM,EAAClC;oBAAC,CAAC,CAAC;kBAAA;oBAAAiD,qBAAA,GAAAE,QAAA,CAAAE,IAAA;oBAA7C9D,CAAC,GAAA0D,qBAAA,CAAZK,UAAU;oBAAA,OAAAH,QAAA,CAAAxB,MAAA,WAAsDpC,CAAC,IAAEF,CAAC,EAAA2D,YAAA,GAAC7D,CAAC,CAACY,QAAQ,cAAAiD,YAAA,uBAAVA,YAAA,CAAYJ,cAAc,CAAC;kBAAA;kBAAA;oBAAA,OAAAO,QAAA,CAAAI,IAAA;gBAAA;cAAA,GAAAR,OAAA;YAAA,CAAC;YAAA,iBAAAS,GAAA;cAAA,OAAAV,IAAA,CAAA1C,KAAA,OAAAC,SAAA;YAAA;UAAA,IAAE;UAAAkB,SAAA,CAAAE,IAAA;UAAA,OAAU9B,CAAC,CAACwB,CAAC,CAAC;QAAA;UAAbC,CAAC,GAAAG,SAAA,CAAA8B,IAAA,CAAcrB,GAAG,CAAE,UAAA7C,CAAC;YAAA,OAAEA,CAAC,CAACkD,KAAK;UAAA;UAAA,KAAMjB,CAAC,CAACyB,IAAI,CAAC5B,CAAC,CAAC;YAAAM,SAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,SAAA,CAAAI,MAAA,WAAQxC,CAAC,CAACyC,OAAO;QAAA;UAAA,OAAAL,SAAA,CAAAI,MAAA,WAAO,GAAA8B,MAAA,CAAAC,kBAAA,CAAItC,CAAC,GAAAsC,kBAAA,CAAIxC,CAAC,GAAEW,MAAM,CAACtC,CAAC,CAAC,CAACoE,MAAM,CAAE,UAACxE,CAAC,EAACE,CAAC;YAAA,OAAGF,CAAC,CAACyE,KAAK,CAACvE,CAAC,CAAC;UAAA,EAAE;QAAA;QAAA;UAAA,OAAAkC,SAAA,CAAAgC,IAAA;MAAA;IAAA,GAAA9C,QAAA;EAAA,CAAC;EAAA,OAAAN,EAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAASK,CAACA,CAACrB,CAAC,EAAC;EAAC,IAAG,CAACA,CAAC,EAAC,OAAOA,CAAC;EAAC,IAAYI,CAAC,GAAQJ,CAAC,CAAhBwE,KAAK;IAAOlE,CAAC,GAAEN,CAAC,CAARyE,GAAG;EAAM,OAAO,IAAI3E,CAAC,CAAC;IAAC0E,KAAK,EAACtE,CAAC,CAACE,CAAC,CAAC,GAACI,CAAC,CAACJ,CAAC,EAAC,CAACA,CAAC,CAACsE,iBAAiB,EAAE,EAAC,SAAS,CAAC,GAACtE,CAAC;IAACqE,GAAG,EAACvE,CAAC,CAACI,CAAC,CAAC,GAACE,CAAC,CAACF,CAAC,EAAC,CAACA,CAAC,CAACoE,iBAAiB,EAAE,EAAC,SAAS,CAAC,GAACpE;EAAC,CAAC,CAAC;AAAA;AAAC,SAASgB,CAACA,CAACtB,CAAC,EAAC;EAAC,IAAG,CAACA,CAAC,EAAC,OAAOA,CAAC;EAAC,IAAYI,CAAC,GAAQJ,CAAC,CAAhBwE,KAAK;IAAOlE,CAAC,GAAEN,CAAC,CAARyE,GAAG;EAAM,OAAO,IAAI3E,CAAC,CAAC;IAAC0E,KAAK,EAACtE,CAAC,CAACE,CAAC,CAAC,GAACI,CAAC,CAACJ,CAAC,EAACA,CAAC,CAACsE,iBAAiB,EAAE,EAAC,SAAS,CAAC,GAACtE,CAAC;IAACqE,GAAG,EAACvE,CAAC,CAACI,CAAC,CAAC,GAACE,CAAC,CAACF,CAAC,EAACA,CAAC,CAACoE,iBAAiB,EAAE,EAAC,SAAS,CAAC,GAACpE;EAAC,CAAC,CAAC;AAAA;AAAC,SAAOK,CAAC,IAAIgE,uBAAuB,EAACrD,CAAC,IAAIsD,iBAAiB,EAACvD,CAAC,IAAIwD,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}