{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport a from \"../../../../core/Handles.js\";\nimport { watch as e, initial as t } from \"../../../../core/reactiveUtils.js\";\nimport { GamepadKeyboardController as r } from \"../../state/controllers/GamepadKeyboardController.js\";\nimport { InputHandler as i } from \"../../../input/InputHandler.js\";\nclass l extends i {\n  constructor(e) {\n    super(!0), this._view = e, this._watchHandles = new a(), this._handle = this.registerIncoming(\"gamepad\", a => this._handleEventGamepad(a)), this._handle.pause();\n  }\n  onInstall(a) {\n    super.onInstall(a), this._watchHandles.add([e(() => this._view.navigation.gamepad.enabled, a => {\n      a ? this._handle.resume() : (this._handle.pause(), this._cameraControllerGamepad && (this._cameraControllerGamepad.finishController(), this._cameraControllerGamepad = null));\n    }, t), e(() => this._view.navigation.gamepad.device, a => {\n      this._cameraControllerGamepad && a && this._cameraControllerGamepad.gamepadDevice !== a && (this._cameraControllerGamepad.finishController(), this._cameraControllerGamepad = null);\n    })]);\n  }\n  onUninstall() {\n    this._watchHandles.removeAll(), super.onUninstall();\n  }\n  _handleEventGamepad(a) {\n    const e = this._view.navigation.gamepad.device;\n    if (e && a.data.device !== e) return;\n    const t = this._cameraControllerGamepad && this._cameraControllerGamepad.active;\n    if (t || r.activatesFor(this._view, a.data)) {\n      if (!t) {\n        const e = new r({\n          view: this._view,\n          gamepadDevice: a.data.device\n        });\n        this._view.state.switchCameraController(e) && (this._cameraControllerGamepad = e);\n      }\n      this._cameraControllerGamepad && this._cameraControllerGamepad.active && this._cameraControllerGamepad.gamepadDevice === a.data.device && this._cameraControllerGamepad.handleEventGamepad(a.data);\n    }\n  }\n}\nexport { l as GamepadNavigation };","map":{"version":3,"names":["a","watch","e","initial","t","GamepadKeyboardController","r","InputHandler","i","l","constructor","_view","_watchHandles","_handle","registerIncoming","_handleEventGamepad","pause","onInstall","add","navigation","gamepad","enabled","resume","_cameraControllerGamepad","finishController","device","gamepadDevice","onUninstall","removeAll","data","active","activatesFor","view","state","switchCameraController","handleEventGamepad","GamepadNavigation"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/input/handlers/GamepadNavigation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport a from\"../../../../core/Handles.js\";import{watch as e,initial as t}from\"../../../../core/reactiveUtils.js\";import{GamepadKeyboardController as r}from\"../../state/controllers/GamepadKeyboardController.js\";import{InputHandler as i}from\"../../../input/InputHandler.js\";class l extends i{constructor(e){super(!0),this._view=e,this._watchHandles=new a,this._handle=this.registerIncoming(\"gamepad\",(a=>this._handleEventGamepad(a))),this._handle.pause()}onInstall(a){super.onInstall(a),this._watchHandles.add([e((()=>this._view.navigation.gamepad.enabled),(a=>{a?this._handle.resume():(this._handle.pause(),this._cameraControllerGamepad&&(this._cameraControllerGamepad.finishController(),this._cameraControllerGamepad=null))}),t),e((()=>this._view.navigation.gamepad.device),(a=>{this._cameraControllerGamepad&&a&&this._cameraControllerGamepad.gamepadDevice!==a&&(this._cameraControllerGamepad.finishController(),this._cameraControllerGamepad=null)}))])}onUninstall(){this._watchHandles.removeAll(),super.onUninstall()}_handleEventGamepad(a){const e=this._view.navigation.gamepad.device;if(e&&a.data.device!==e)return;const t=this._cameraControllerGamepad&&this._cameraControllerGamepad.active;if(t||r.activatesFor(this._view,a.data)){if(!t){const e=new r({view:this._view,gamepadDevice:a.data.device});this._view.state.switchCameraController(e)&&(this._cameraControllerGamepad=e)}this._cameraControllerGamepad&&this._cameraControllerGamepad.active&&this._cameraControllerGamepad.gamepadDevice===a.data.device&&this._cameraControllerGamepad.handleEventGamepad(a.data)}}}export{l as GamepadNavigation};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}