{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Evented.js\";\nimport t from \"../../../../core/Handles.js\";\nimport { isSome as s, isNone as r, destroyMaybe as i } from \"../../../../core/maybe.js\";\nimport o from \"../../../../core/PooledArray.js\";\nimport { ContentObject as a } from \"./ContentObject.js\";\nimport { ContentObjectType as d } from \"./ContentObjectType.js\";\nimport { DirtyEventNames as h } from \"./DirtyEvents.js\";\nimport c from \"./Octree.js\";\nimport { UpdatePolicy as n } from \"./UpdatePolicy.js\";\nclass l extends a {\n  get objects() {\n    return this._objects;\n  }\n  constructor(s) {\n    let r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    super(), this.apiLayerUid = r, this.type = d.Layer, this.events = new e(), this.sliceable = !1, this._objects = new o(), this._objectsAdded = new o(), this._stageHandles = new t(), this.apiLayerUid = r, this.visible = s?.visible ?? !0, this.pickable = s?.pickable ?? !0, this.updatePolicy = s?.updatePolicy ?? n.ASYNC, this._disableOctree = s?.disableOctree ?? !1;\n  }\n  destroy() {\n    this.detachStage(), this._stage = null;\n  }\n  attachStage(e) {\n    this.detachStage(), this._stage = e;\n    for (const t of h) this._stageHandles.add(this.events.on(t, s => e.handleEvent(t, s)));\n  }\n  detachStage() {\n    this._stageHandles.removeAll(), this.invalidateSpatialQueryAccelerator();\n  }\n  add(e) {\n    this._objects.push(e), e.parentLayer = this, this.events.emit(\"layerObjectAdded\", {\n      layer: this,\n      object: e\n    }), s(this._octree) && this._objectsAdded.push(e);\n  }\n  remove(e) {\n    this._objects.removeUnordered(e) && (e.parentLayer = null, this.events.emit(\"layerObjectRemoved\", {\n      layer: this,\n      object: e\n    }), s(this._octree) && (this._objectsAdded.removeUnordered(e) || this._octree.remove([e])));\n  }\n  addMany(e) {\n    this._objects.pushArray(e);\n    for (const t of e) t.parentLayer = this;\n    this.events.emit(\"layerObjectsAdded\", {\n      layer: this,\n      objects: e\n    }), s(this._octree) && this._objectsAdded.pushArray(e);\n  }\n  removeMany(e) {\n    const t = new Array();\n    if (this._objects.removeUnorderedMany(e, e.length, t), 0 !== t.length) {\n      for (const e of t) e.parentLayer = null;\n      if (this.events.emit(\"layerObjectsRemoved\", {\n        layer: this,\n        objects: t\n      }), s(this._octree)) {\n        for (let e = 0; e < t.length;) this._objectsAdded.removeUnordered(t[e]) ? (t[e] = t[t.length - 1], t.length -= 1) : ++e;\n        this._octree.remove(t);\n      }\n    }\n  }\n  sync() {\n    s(this._stage) && this.updatePolicy !== n.SYNC && this._stage.syncLayer(this.id);\n  }\n  notifyObjectBBChanged(e, t) {\n    s(this._octree) && !this._objectsAdded.includes(e) && this._octree.update(e, t);\n  }\n  getSpatialQueryAccelerator() {\n    return r(this._octree) && this._objects.length > 50 && !this._disableOctree ? (this._octree = new c(e => e.boundingVolumeWorldSpace.bounds), this._octree.add(this._objects.data, this._objects.length)) : s(this._octree) && this._objectsAdded.length > 0 && (this._octree.add(this._objectsAdded.data, this._objectsAdded.length), this._objectsAdded.clear()), this._octree;\n  }\n  shaderTransformationChanged() {\n    this.invalidateSpatialQueryAccelerator(), this.events.emit(\"shaderTransformationChanged\", this);\n  }\n  invalidateSpatialQueryAccelerator() {\n    this._octree = i(this._octree), this._objectsAdded.clear();\n  }\n}\nfunction _(e) {\n  return s(e) && e.type === d.Layer;\n}\nexport { l as WebGLLayer, _ as isWebGLLayer };","map":{"version":3,"names":["e","t","isSome","s","isNone","r","destroyMaybe","i","o","ContentObject","a","ContentObjectType","d","DirtyEventNames","h","c","UpdatePolicy","n","l","objects","_objects","constructor","arguments","length","undefined","apiLayerUid","type","Layer","events","sliceable","_objectsAdded","_stageHandles","visible","pickable","updatePolicy","ASYNC","_disableOctree","disableOctree","destroy","detachStage","_stage","attachStage","add","on","handleEvent","removeAll","invalidateSpatialQueryAccelerator","push","parentLayer","emit","layer","object","_octree","remove","removeUnordered","addMany","pushArray","removeMany","Array","removeUnorderedMany","sync","SYNC","syncLayer","id","notifyObjectBBChanged","includes","update","getSpatialQueryAccelerator","boundingVolumeWorldSpace","bounds","data","clear","shaderTransformationChanged","_","WebGLLayer","isWebGLLayer"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import t from\"../../../../core/Handles.js\";import{isSome as s,isNone as r,destroyMaybe as i}from\"../../../../core/maybe.js\";import o from\"../../../../core/PooledArray.js\";import{ContentObject as a}from\"./ContentObject.js\";import{ContentObjectType as d}from\"./ContentObjectType.js\";import{DirtyEventNames as h}from\"./DirtyEvents.js\";import c from\"./Octree.js\";import{UpdatePolicy as n}from\"./UpdatePolicy.js\";class l extends a{get objects(){return this._objects}constructor(s,r=\"\"){super(),this.apiLayerUid=r,this.type=d.Layer,this.events=new e,this.sliceable=!1,this._objects=new o,this._objectsAdded=new o,this._stageHandles=new t,this.apiLayerUid=r,this.visible=s?.visible??!0,this.pickable=s?.pickable??!0,this.updatePolicy=s?.updatePolicy??n.ASYNC,this._disableOctree=s?.disableOctree??!1}destroy(){this.detachStage(),this._stage=null}attachStage(e){this.detachStage(),this._stage=e;for(const t of h)this._stageHandles.add(this.events.on(t,(s=>e.handleEvent(t,s))))}detachStage(){this._stageHandles.removeAll(),this.invalidateSpatialQueryAccelerator()}add(e){this._objects.push(e),e.parentLayer=this,this.events.emit(\"layerObjectAdded\",{layer:this,object:e}),s(this._octree)&&this._objectsAdded.push(e)}remove(e){this._objects.removeUnordered(e)&&(e.parentLayer=null,this.events.emit(\"layerObjectRemoved\",{layer:this,object:e}),s(this._octree)&&(this._objectsAdded.removeUnordered(e)||this._octree.remove([e])))}addMany(e){this._objects.pushArray(e);for(const t of e)t.parentLayer=this;this.events.emit(\"layerObjectsAdded\",{layer:this,objects:e}),s(this._octree)&&this._objectsAdded.pushArray(e)}removeMany(e){const t=new Array;if(this._objects.removeUnorderedMany(e,e.length,t),0!==t.length){for(const e of t)e.parentLayer=null;if(this.events.emit(\"layerObjectsRemoved\",{layer:this,objects:t}),s(this._octree)){for(let e=0;e<t.length;)this._objectsAdded.removeUnordered(t[e])?(t[e]=t[t.length-1],t.length-=1):++e;this._octree.remove(t)}}}sync(){s(this._stage)&&this.updatePolicy!==n.SYNC&&this._stage.syncLayer(this.id)}notifyObjectBBChanged(e,t){s(this._octree)&&!this._objectsAdded.includes(e)&&this._octree.update(e,t)}getSpatialQueryAccelerator(){return r(this._octree)&&this._objects.length>50&&!this._disableOctree?(this._octree=new c((e=>e.boundingVolumeWorldSpace.bounds)),this._octree.add(this._objects.data,this._objects.length)):s(this._octree)&&this._objectsAdded.length>0&&(this._octree.add(this._objectsAdded.data,this._objectsAdded.length),this._objectsAdded.clear()),this._octree}shaderTransformationChanged(){this.invalidateSpatialQueryAccelerator(),this.events.emit(\"shaderTransformationChanged\",this)}invalidateSpatialQueryAccelerator(){this._octree=i(this._octree),this._objectsAdded.clear()}}function _(e){return s(e)&&e.type===d.Layer}export{l as WebGLLayer,_ as isWebGLLayer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}