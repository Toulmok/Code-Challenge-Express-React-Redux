{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { clone as t } from \"../../../../../core/lang.js\";\nimport { urlToObject as e, isAbsolute as i, join as r, addQueryParameters as l } from \"../../../../../core/urlUtils.js\";\nimport s from \"../../../../../geometry/Extent.js\";\nimport { readServiceTileInfo as o } from \"../../../../../layers/support/serviceTileInfoProperty.js\";\nimport { TilemapCache as a } from \"../../../../../layers/support/TilemapCache.js\";\nimport n from \"../TilemapIndex.js\";\nimport p from \"../TilemapRequest.js\";\nimport { request as u } from \"./VectorTilesRequestManager.js\";\nclass h {\n  constructor(u, h, m) {\n    this.tilemap = null, this.tileInfo = null, this.capabilities = null, this.fullExtent = null, this.name = u, this.sourceUrl = h;\n    const f = e(this.sourceUrl),\n      c = t(m),\n      x = c.tiles;\n    if (f) for (let t = 0; t < x.length; t++) {\n      const s = e(x[t]);\n      s && (i(s.path) || (s.path = r(f.path, s.path)), x[t] = l(s.path, {\n        ...f.query,\n        ...s.query\n      }));\n    }\n    this.tileServers = x;\n    const d = m.capabilities && m.capabilities.split(\",\").map(t => t.toLowerCase().trim()),\n      y = !0 === m?.exportTilesAllowed,\n      T = !0 === d?.includes(\"tilemap\"),\n      g = y && m.hasOwnProperty(\"maxExportTilesCount\") ? m.maxExportTilesCount : 0;\n    this.capabilities = {\n      operations: {\n        supportsExportTiles: y,\n        supportsTileMap: T\n      },\n      exportTiles: y ? {\n        maxExportTilesCount: +g\n      } : null\n    }, this.tileInfo = o(c.tileInfo, c, null, {\n      ignoreMinMaxLOD: !0\n    });\n    const M = m.tileMap ? l(r(f.path, m.tileMap), f.query ?? {}) : null;\n    T ? (this.type = \"vector-tile\", this.tilemap = new p(new a({\n      layer: {\n        parsedUrl: f,\n        tileInfo: this.tileInfo,\n        type: \"vector-tile\",\n        tileServers: this.tileServers\n      }\n    }), M)) : M && (this.tilemap = new n(M)), this.fullExtent = s.fromJSON(m.fullExtent);\n  }\n  destroy() {}\n  async getRefKey(t, e) {\n    return (await this.tilemap?.dataKey(t, e)) ?? t;\n  }\n  requestTile(t, e, i, r) {\n    const l = this.tileServers[e % this.tileServers.length];\n    return u(l, t, e, i, r);\n  }\n  isCompatibleWith(t) {\n    const e = this.tileInfo,\n      i = t.tileInfo;\n    if (!e.spatialReference.equals(i.spatialReference)) return !1;\n    if (!e.origin.equals(i.origin)) return !1;\n    if (Math.round(e.dpi) !== Math.round(i.dpi)) return !1;\n    const r = e.lods,\n      l = i.lods,\n      s = Math.min(r.length, l.length);\n    for (let o = 0; o < s; o++) {\n      const t = r[o],\n        e = l[o];\n      if (t.level !== e.level || Math.round(t.scale) !== Math.round(e.scale)) return !1;\n    }\n    return !0;\n  }\n}\nexport { h as default };","map":{"version":3,"names":["clone","t","urlToObject","e","isAbsolute","i","join","r","addQueryParameters","l","s","readServiceTileInfo","o","TilemapCache","a","n","p","request","u","h","constructor","m","tilemap","tileInfo","capabilities","fullExtent","name","sourceUrl","f","c","x","tiles","length","path","query","tileServers","d","split","map","toLowerCase","trim","y","exportTilesAllowed","T","includes","g","hasOwnProperty","maxExportTilesCount","operations","supportsExportTiles","supportsTileMap","exportTiles","ignoreMinMaxLOD","M","tileMap","type","layer","parsedUrl","fromJSON","destroy","getRefKey","dataKey","requestTile","isCompatibleWith","spatialReference","equals","origin","Math","round","dpi","lods","min","level","scale","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/VectorTileSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../../../core/lang.js\";import{urlToObject as e,isAbsolute as i,join as r,addQueryParameters as l}from\"../../../../../core/urlUtils.js\";import s from\"../../../../../geometry/Extent.js\";import{readServiceTileInfo as o}from\"../../../../../layers/support/serviceTileInfoProperty.js\";import{TilemapCache as a}from\"../../../../../layers/support/TilemapCache.js\";import n from\"../TilemapIndex.js\";import p from\"../TilemapRequest.js\";import{request as u}from\"./VectorTilesRequestManager.js\";class h{constructor(u,h,m){this.tilemap=null,this.tileInfo=null,this.capabilities=null,this.fullExtent=null,this.name=u,this.sourceUrl=h;const f=e(this.sourceUrl),c=t(m),x=c.tiles;if(f)for(let t=0;t<x.length;t++){const s=e(x[t]);s&&(i(s.path)||(s.path=r(f.path,s.path)),x[t]=l(s.path,{...f.query,...s.query}))}this.tileServers=x;const d=m.capabilities&&m.capabilities.split(\",\").map((t=>t.toLowerCase().trim())),y=!0===m?.exportTilesAllowed,T=!0===d?.includes(\"tilemap\"),g=y&&m.hasOwnProperty(\"maxExportTilesCount\")?m.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:y,supportsTileMap:T},exportTiles:y?{maxExportTilesCount:+g}:null},this.tileInfo=o(c.tileInfo,c,null,{ignoreMinMaxLOD:!0});const M=m.tileMap?l(r(f.path,m.tileMap),f.query??{}):null;T?(this.type=\"vector-tile\",this.tilemap=new p(new a({layer:{parsedUrl:f,tileInfo:this.tileInfo,type:\"vector-tile\",tileServers:this.tileServers}}),M)):M&&(this.tilemap=new n(M)),this.fullExtent=s.fromJSON(m.fullExtent)}destroy(){}async getRefKey(t,e){return await(this.tilemap?.dataKey(t,e))??t}requestTile(t,e,i,r){const l=this.tileServers[e%this.tileServers.length];return u(l,t,e,i,r)}isCompatibleWith(t){const e=this.tileInfo,i=t.tileInfo;if(!e.spatialReference.equals(i.spatialReference))return!1;if(!e.origin.equals(i.origin))return!1;if(Math.round(e.dpi)!==Math.round(i.dpi))return!1;const r=e.lods,l=i.lods,s=Math.min(r.length,l.length);for(let o=0;o<s;o++){const t=r[o],e=l[o];if(t.level!==e.level||Math.round(t.scale)!==Math.round(e.scale))return!1}return!0}}export{h as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}