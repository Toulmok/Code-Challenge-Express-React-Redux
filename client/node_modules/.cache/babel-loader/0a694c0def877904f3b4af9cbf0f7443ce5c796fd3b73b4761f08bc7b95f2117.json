{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { unwrapOr as t, isNone as e, isSome as n } from \"../../../../core/maybe.js\";\nimport { getMetersPerUnit as s, supportsUnit as i } from \"../../../../symbols/support/unitConversionUtils.js\";\nimport { execute as r, clone as o, setContextFeature as f, createFeature as u } from \"./featureExpressionInfoUtils.js\";\nclass h {\n  constructor() {\n    this._meterUnitOffset = 0, this._renderUnitOffset = 0, this._unit = \"meters\", this._metersPerElevationInfoUnit = 1, this._featureExpressionInfoContext = null, this.centerPointInElevationSR = null, this.mode = null;\n  }\n  get featureExpressionInfoContext() {\n    return this._featureExpressionInfoContext;\n  }\n  get meterUnitOffset() {\n    return this._meterUnitOffset;\n  }\n  get unit() {\n    return this._unit;\n  }\n  set unit(t) {\n    this._unit = t, this._metersPerElevationInfoUnit = s(t);\n  }\n  get requiresSampledElevationInfo() {\n    return \"absolute-height\" !== this.mode;\n  }\n  reset() {\n    this.mode = null, this._meterUnitOffset = 0, this._renderUnitOffset = 0, this._featureExpressionInfoContext = null, this.unit = \"meters\";\n  }\n  set offsetMeters(t) {\n    this._meterUnitOffset = t, this._renderUnitOffset = 0;\n  }\n  set offsetElevationInfoUnits(t) {\n    this._meterUnitOffset = t * this._metersPerElevationInfoUnit, this._renderUnitOffset = 0;\n  }\n  addOffsetRenderUnits(t) {\n    this._renderUnitOffset += t;\n  }\n  geometryZWithOffset(t, e) {\n    const n = this.calculateOffsetRenderUnits(e);\n    return null != this.featureExpressionInfoContext ? n : t + n;\n  }\n  calculateOffsetRenderUnits(t) {\n    let e = this._meterUnitOffset;\n    const n = this.featureExpressionInfoContext;\n    return null != n && (e += r(n) * this._metersPerElevationInfoUnit), e / t.unitInMeters + this._renderUnitOffset;\n  }\n  setFromElevationInfo(e) {\n    this.mode = e.mode, this.unit = i(e.unit) ? e.unit : \"meters\", this.offsetElevationInfoUnits = t(e.offset, 0);\n  }\n  updateFeatureExpressionInfoContext(t, s, i) {\n    if (e(t)) return void (this._featureExpressionInfoContext = null);\n    const r = t && t.arcade;\n    r && n(s) && n(i) ? (this._featureExpressionInfoContext = o(t), f(this._featureExpressionInfoContext, u(r.modules, s, i))) : this._featureExpressionInfoContext = t;\n  }\n  static fromElevationInfo(t) {\n    const e = new h();\n    return n(t) && e.setFromElevationInfo(t), e;\n  }\n}\nexport { h as ElevationContext };","map":{"version":3,"names":["unwrapOr","t","isNone","e","isSome","n","getMetersPerUnit","s","supportsUnit","i","execute","r","clone","o","setContextFeature","f","createFeature","u","h","constructor","_meterUnitOffset","_renderUnitOffset","_unit","_metersPerElevationInfoUnit","_featureExpressionInfoContext","centerPointInElevationSR","mode","featureExpressionInfoContext","meterUnitOffset","unit","requiresSampledElevationInfo","reset","offsetMeters","offsetElevationInfoUnits","addOffsetRenderUnits","geometryZWithOffset","calculateOffsetRenderUnits","unitInMeters","setFromElevationInfo","offset","updateFeatureExpressionInfoContext","arcade","modules","fromElevationInfo","ElevationContext"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{unwrapOr as t,isNone as e,isSome as n}from\"../../../../core/maybe.js\";import{getMetersPerUnit as s,supportsUnit as i}from\"../../../../symbols/support/unitConversionUtils.js\";import{execute as r,clone as o,setContextFeature as f,createFeature as u}from\"./featureExpressionInfoUtils.js\";class h{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit=\"meters\",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.centerPointInElevationSR=null,this.mode=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(t){this._unit=t,this._metersPerElevationInfoUnit=s(t)}get requiresSampledElevationInfo(){return\"absolute-height\"!==this.mode}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit=\"meters\"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const n=this.featureExpressionInfoContext;return null!=n&&(e+=r(n)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(e){this.mode=e.mode,this.unit=i(e.unit)?e.unit:\"meters\",this.offsetElevationInfoUnits=t(e.offset,0)}updateFeatureExpressionInfoContext(t,s,i){if(e(t))return void(this._featureExpressionInfoContext=null);const r=t&&t.arcade;r&&n(s)&&n(i)?(this._featureExpressionInfoContext=o(t),f(this._featureExpressionInfoContext,u(r.modules,s,i))):this._featureExpressionInfoContext=t}static fromElevationInfo(t){const e=new h;return n(t)&&e.setFromElevationInfo(t),e}}export{h as ElevationContext};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}