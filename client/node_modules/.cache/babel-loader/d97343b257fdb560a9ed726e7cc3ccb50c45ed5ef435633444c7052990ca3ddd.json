{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { clone as s } from \"../../../core/lang.js\";\nimport { isPolygon as t, isPolyline as e, isExtent as i } from \"../../../geometry/support/jsonUtils.js\";\nimport { setId as n } from \"../CIMCursor.js\";\nvar o = /*#__PURE__*/function () {\n  function o() {\n    _classCallCheck(this, o);\n  }\n  _createClass(o, [{\n    key: \"execute\",\n    value: function execute(s, t, e, i, n) {\n      return new r(s, t, e);\n    }\n  }], [{\n    key: \"local\",\n    value: function local() {\n      return null === o.instance && (o.instance = new o()), o.instance;\n    }\n  }]);\n  return o;\n}();\no.instance = null;\nvar r = /*#__PURE__*/function () {\n  function r(s, t, e) {\n    _classCallCheck(this, r);\n    this._inputGeometries = s, this._angleTolerance = void 0 !== t.angleTolerance ? t.angleTolerance : 120, this._maxCosAngle = Math.cos((1 - Math.abs(this._angleTolerance) / 180) * Math.PI);\n  }\n  _createClass(r, [{\n    key: \"next\",\n    value: function next() {\n      var n = this._inputGeometries.next();\n      for (; n;) {\n        if (t(n)) {\n          this._isClosed = !0;\n          var _t = s(n);\n          return this._processMultipath(_t.rings), _t;\n        }\n        if (e(n)) {\n          this._isClosed = !1;\n          var _t2 = s(n);\n          return this._processMultipath(_t2.paths), _t2;\n        }\n        if (i(n)) {\n          if (this._maxCosAngle) return n;\n          this._isClosed = !0;\n          var _s = [[n.xmin, n.ymin], [n.xmin, n.ymax], [n.xmax, n.ymax], [n.xmax, n.ymin], [n.xmin, n.ymin]];\n          return this._processPath(_s), {\n            rings: [_s]\n          };\n        }\n        n = this._inputGeometries.next();\n      }\n      return null;\n    }\n  }, {\n    key: \"_processMultipath\",\n    value: function _processMultipath(s) {\n      if (s) {\n        var _iterator = _createForOfIteratorHelper(s),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _t3 = _step.value;\n            this._processPath(_t3);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    }\n  }, {\n    key: \"_processPath\",\n    value: function _processPath(s) {\n      if (s) {\n        var _t4,\n          _e,\n          _i,\n          _o,\n          _r,\n          l,\n          a = s.length,\n          h = s[0];\n        this._isClosed && ++a;\n        for (var c = 1; c < a; ++c) {\n          var m = void 0;\n          m = this._isClosed && c === a - 1 ? s[0] : s[c];\n          var _ = m[0] - h[0],\n            u = m[1] - h[1],\n            p = Math.sqrt(_ * _ + u * u);\n          if (c > 1 && p > 0 && _i > 0) {\n            (_t4 * _ + _e * u) / p / _i <= this._maxCosAngle && n(h, 1);\n          }\n          1 === c && (_o = _, _r = u, l = p), p > 0 && (h = m, _t4 = _, _e = u, _i = p);\n        }\n        if (this._isClosed && _i > 0 && l > 0) {\n          (_t4 * _o + _e * _r) / l / _i <= this._maxCosAngle && n(s[0], 1);\n        }\n      }\n    }\n  }]);\n  return r;\n}();\nexport { o as EffectAddControlPoints };","map":{"version":3,"names":["clone","s","isPolygon","t","isPolyline","e","isExtent","i","setId","n","o","_classCallCheck","_createClass","key","value","execute","r","local","instance","_inputGeometries","_angleTolerance","angleTolerance","_maxCosAngle","Math","cos","abs","PI","next","_isClosed","_processMultipath","rings","paths","xmin","ymin","ymax","xmax","_processPath","_iterator","_createForOfIteratorHelper","_step","done","err","f","l","a","length","h","c","m","_","u","p","sqrt","EffectAddControlPoints"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/symbols/cim/effects/EffectAddControlPoints.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{clone as s}from\"../../../core/lang.js\";import{isPolygon as t,isPolyline as e,isExtent as i}from\"../../../geometry/support/jsonUtils.js\";import{setId as n}from\"../CIMCursor.js\";class o{static local(){return null===o.instance&&(o.instance=new o),o.instance}execute(s,t,e,i,n){return new r(s,t,e)}}o.instance=null;class r{constructor(s,t,e){this._inputGeometries=s,this._angleTolerance=void 0!==t.angleTolerance?t.angleTolerance:120,this._maxCosAngle=Math.cos((1-Math.abs(this._angleTolerance)/180)*Math.PI)}next(){let n=this._inputGeometries.next();for(;n;){if(t(n)){this._isClosed=!0;const t=s(n);return this._processMultipath(t.rings),t}if(e(n)){this._isClosed=!1;const t=s(n);return this._processMultipath(t.paths),t}if(i(n)){if(this._maxCosAngle)return n;this._isClosed=!0;const s=[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]];return this._processPath(s),{rings:[s]}}n=this._inputGeometries.next()}return null}_processMultipath(s){if(s)for(const t of s)this._processPath(t)}_processPath(s){if(s){let t,e,i,o,r,l,a=s.length,h=s[0];this._isClosed&&++a;for(let c=1;c<a;++c){let m;m=this._isClosed&&c===a-1?s[0]:s[c];const _=m[0]-h[0],u=m[1]-h[1],p=Math.sqrt(_*_+u*u);if(c>1&&p>0&&i>0){(t*_+e*u)/p/i<=this._maxCosAngle&&n(h,1)}1===c&&(o=_,r=u,l=p),p>0&&(h=m,t=_,e=u,i=p)}if(this._isClosed&&i>0&&l>0){(t*o+e*r)/l/i<=this._maxCosAngle&&n(s[0],1)}}}}export{o as EffectAddControlPoints};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}