{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport s from \"../../../core/ObjectPool.js\";\nimport r from \"../../../core/PooledArray.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as o } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as u } from \"../../../chunks/vec4.js\";\nimport { c as n } from \"../../../chunks/vec4f64.js\";\nclass l {\n  constructor() {\n    this.extent = n(), this.minLevel = 0, this.maxLevel = 0, this.callback = null;\n  }\n}\nlet c = class extends t {\n  constructor() {\n    super(...arguments), this._queries = new r({\n      initialSize: 10\n    }), this._queriesInvPtr = 0, this._queryQueue = new r({\n      initialSize: 30\n    }), this._queryPool = new s(l);\n  }\n  queryVisibleLevelRange(e, t, s, r) {\n    const i = this._queryPool.acquire();\n    u(i.extent, e), i.minLevel = t ?? -Number.MAX_VALUE, i.maxLevel = s ?? Number.MAX_VALUE, i.callback = r, this._queryQueue.push(i), this.notifyChange(\"updating\");\n  }\n  get updating() {\n    return 0 !== this._queryQueue.length;\n  }\n  prepare() {\n    for (; this._queries.length < this._queries.data.length && this._queryQueue.length > 0;) {\n      const e = this._queryQueue.pop();\n      this._queries.push(e);\n    }\n    this._queriesInvPtr = this._queries.length;\n  }\n  process() {\n    for (let e = 0; e < this._queries.length; e++) {\n      const t = this._queries.data[e];\n      this._queryPool.release(t), t.callback(e >= this._queriesInvPtr), t.callback = null;\n    }\n    this._queries.clear(), this.notifyChange(\"updating\");\n  }\n  queriesForTile(e) {\n    const t = e.level;\n    let s = 0;\n    for (; s < this._queriesInvPtr;) {\n      const r = this._queries.data[s],\n        i = r.extent;\n      t >= r.minLevel && t <= r.maxLevel && i[0] <= e.extent[2] && i[2] >= e.extent[0] && i[1] <= e.extent[3] && i[3] >= e.extent[1] ? (this._queries.swapElements(s, this._queriesInvPtr - 1), this._queriesInvPtr--) : s++;\n    }\n  }\n};\ne([i()], c.prototype, \"updating\", null), c = e([o(\"esri.views.3d.terrain.ScaleRangeQueries\")], c);\nexport { c as ScaleRangeQueries };","map":{"version":3,"names":["_","e","t","s","r","property","i","subclass","o","c","u","n","l","constructor","extent","minLevel","maxLevel","callback","arguments","_queries","initialSize","_queriesInvPtr","_queryQueue","_queryPool","queryVisibleLevelRange","acquire","Number","MAX_VALUE","push","notifyChange","updating","length","prepare","data","pop","process","release","clear","queriesForTile","level","swapElements","prototype","ScaleRangeQueries"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/terrain/ScaleRangeQueries.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import s from\"../../../core/ObjectPool.js\";import r from\"../../../core/PooledArray.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as u}from\"../../../chunks/vec4.js\";import{c as n}from\"../../../chunks/vec4f64.js\";class l{constructor(){this.extent=n(),this.minLevel=0,this.maxLevel=0,this.callback=null}}let c=class extends t{constructor(){super(...arguments),this._queries=new r({initialSize:10}),this._queriesInvPtr=0,this._queryQueue=new r({initialSize:30}),this._queryPool=new s(l)}queryVisibleLevelRange(e,t,s,r){const i=this._queryPool.acquire();u(i.extent,e),i.minLevel=t??-Number.MAX_VALUE,i.maxLevel=s??Number.MAX_VALUE,i.callback=r,this._queryQueue.push(i),this.notifyChange(\"updating\")}get updating(){return 0!==this._queryQueue.length}prepare(){for(;this._queries.length<this._queries.data.length&&this._queryQueue.length>0;){const e=this._queryQueue.pop();this._queries.push(e)}this._queriesInvPtr=this._queries.length}process(){for(let e=0;e<this._queries.length;e++){const t=this._queries.data[e];this._queryPool.release(t),t.callback(e>=this._queriesInvPtr),t.callback=null}this._queries.clear(),this.notifyChange(\"updating\")}queriesForTile(e){const t=e.level;let s=0;for(;s<this._queriesInvPtr;){const r=this._queries.data[s],i=r.extent;t>=r.minLevel&&t<=r.maxLevel&&i[0]<=e.extent[2]&&i[2]>=e.extent[0]&&i[1]<=e.extent[3]&&i[3]>=e.extent[1]?(this._queries.swapElements(s,this._queriesInvPtr-1),this._queriesInvPtr--):s++}}};e([i()],c.prototype,\"updating\",null),c=e([o(\"esri.views.3d.terrain.ScaleRangeQueries\")],c);export{c as ScaleRangeQueries};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}