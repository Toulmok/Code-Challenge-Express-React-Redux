{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { PathTransformationCursor as e, getCoord2D as t, reversePath as n } from \"../CIMCursor.js\";\nimport { CurveHelper as i } from \"../CurveHelper.js\";\nimport { PlacementOnLineRelativeTo as s } from \"../enums.js\";\nconst r = .001;\nclass l {\n  static local() {\n    return null === l.instance && (l.instance = new l()), l.instance;\n  }\n  execute(e, t, n, i, s) {\n    return new o(e, t, n);\n  }\n}\nl.instance = null;\nclass o extends e {\n  constructor(e, t, n) {\n    super(e, !0, !0), this._curveHelper = new i(), this._angleToLine = void 0 === t.angleToLine || t.angleToLine, this._offset = void 0 !== t.offset ? t.offset * n : 0, this._relativeTo = t.relativeTo, this._position = void 0 !== t.startPointOffset ? t.startPointOffset * n : 0, this._epsilon = r * n;\n  }\n  processPath(e) {\n    const i = this._position;\n    if (this._relativeTo === s.SegmentMidpoint) {\n      for (this.iteratePath || (this._segmentCount = e.length, this._curSegment = 1, this.iteratePath = !0); this._curSegment < this._segmentCount;) {\n        const n = this._curSegment;\n        this._curSegment++;\n        const i = e[n - 1],\n          s = e[n],\n          r = this._curveHelper.calculateLength(i, s);\n        if (r < this._epsilon) continue;\n        const l = .5 + this._position / r,\n          [o, a] = this._curveHelper.getAngleCS(i, s, l),\n          h = t(i, s, l);\n        return this.internalPlacement.setTranslate(h[0] - this._offset * a, h[1] + this._offset * o), this._angleToLine && this.internalPlacement.setRotateCS(o, a), this.internalPlacement;\n      }\n      return this.iteratePath = !1, null;\n    }\n    this._relativeTo === s.LineEnd && n(e);\n    const r = this.onLine(e, i);\n    return this._relativeTo === s.LineEnd && n(e), r;\n  }\n  onLine(e, n) {\n    let i,\n      r = !1;\n    switch (this._relativeTo) {\n      case s.LineMiddle:\n      default:\n        i = this._curveHelper.calculatePathLength(e) / 2 + n;\n        break;\n      case s.LineBeginning:\n        i = n;\n        break;\n      case s.LineEnd:\n        i = n, r = !0;\n    }\n    const l = e.length;\n    let o,\n      a = 0,\n      h = e[0];\n    for (let s = 1; s < l; ++s) {\n      o = h, h = e[s];\n      const n = this._curveHelper.calculateLength(o, h);\n      if (a + n > i) {\n        const e = (i - a) / n,\n          [s, l] = this._curveHelper.getAngleCS(o, h, e),\n          c = t(o, h, e),\n          u = r ? -this._offset : this._offset;\n        return this.internalPlacement.setTranslate(c[0] - u * l, c[1] + u * s), this._angleToLine && (r ? this.internalPlacement.setRotateCS(-s, -l) : this.internalPlacement.setRotateCS(s, l)), this.internalPlacement;\n      }\n      a += n;\n    }\n    return null;\n  }\n}\nexport { l as PlacementOnLine };","map":{"version":3,"names":["PathTransformationCursor","e","getCoord2D","t","reversePath","n","CurveHelper","i","PlacementOnLineRelativeTo","s","r","l","local","instance","execute","o","constructor","_curveHelper","_angleToLine","angleToLine","_offset","offset","_relativeTo","relativeTo","_position","startPointOffset","_epsilon","processPath","SegmentMidpoint","iteratePath","_segmentCount","length","_curSegment","calculateLength","a","getAngleCS","h","internalPlacement","setTranslate","setRotateCS","LineEnd","onLine","LineMiddle","calculatePathLength","LineBeginning","c","u","PlacementOnLine"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/symbols/cim/placements/PlacementOnLine.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{PathTransformationCursor as e,getCoord2D as t,reversePath as n}from\"../CIMCursor.js\";import{CurveHelper as i}from\"../CurveHelper.js\";import{PlacementOnLineRelativeTo as s}from\"../enums.js\";const r=.001;class l{static local(){return null===l.instance&&(l.instance=new l),l.instance}execute(e,t,n,i,s){return new o(e,t,n)}}l.instance=null;class o extends e{constructor(e,t,n){super(e,!0,!0),this._curveHelper=new i,this._angleToLine=void 0===t.angleToLine||t.angleToLine,this._offset=void 0!==t.offset?t.offset*n:0,this._relativeTo=t.relativeTo,this._position=void 0!==t.startPointOffset?t.startPointOffset*n:0,this._epsilon=r*n}processPath(e){const i=this._position;if(this._relativeTo===s.SegmentMidpoint){for(this.iteratePath||(this._segmentCount=e.length,this._curSegment=1,this.iteratePath=!0);this._curSegment<this._segmentCount;){const n=this._curSegment;this._curSegment++;const i=e[n-1],s=e[n],r=this._curveHelper.calculateLength(i,s);if(r<this._epsilon)continue;const l=.5+this._position/r,[o,a]=this._curveHelper.getAngleCS(i,s,l),h=t(i,s,l);return this.internalPlacement.setTranslate(h[0]-this._offset*a,h[1]+this._offset*o),this._angleToLine&&this.internalPlacement.setRotateCS(o,a),this.internalPlacement}return this.iteratePath=!1,null}this._relativeTo===s.LineEnd&&n(e);const r=this.onLine(e,i);return this._relativeTo===s.LineEnd&&n(e),r}onLine(e,n){let i,r=!1;switch(this._relativeTo){case s.LineMiddle:default:i=this._curveHelper.calculatePathLength(e)/2+n;break;case s.LineBeginning:i=n;break;case s.LineEnd:i=n,r=!0}const l=e.length;let o,a=0,h=e[0];for(let s=1;s<l;++s){o=h,h=e[s];const n=this._curveHelper.calculateLength(o,h);if(a+n>i){const e=(i-a)/n,[s,l]=this._curveHelper.getAngleCS(o,h,e),c=t(o,h,e),u=r?-this._offset:this._offset;return this.internalPlacement.setTranslate(c[0]-u*l,c[1]+u*s),this._angleToLine&&(r?this.internalPlacement.setRotateCS(-s,-l):this.internalPlacement.setRotateCS(s,l)),this.internalPlacement}a+=n}return null}}export{l as PlacementOnLine};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}