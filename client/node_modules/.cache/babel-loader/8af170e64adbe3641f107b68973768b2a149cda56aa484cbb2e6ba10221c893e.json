{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isNone as t } from \"../../../../core/maybe.js\";\nimport { t as e, a as o } from \"../../../../chunks/vec3.js\";\nimport { c as r } from \"../../../../chunks/vec3f64.js\";\nimport { projectBuffer as n } from \"../../../../geometry/projection.js\";\nimport { create as a, set as m, NEGATIVE_INFINITY as s, expandWithBuffer as i, ZERO as f } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { newDoubleArray as c } from \"../../webgl-engine/lib/DoubleArray.js\";\nfunction u(t, r, n, a) {\n  const m = r.getComponentAabb(n, t, p),\n    s = r.getObjectTransform(n);\n  for (let i = 0; i < 8; ++i) g[0] = 1 & i ? m[0] : m[3], g[1] = 2 & i ? m[1] : m[4], g[2] = 4 & i ? m[2] : m[5], e(g, g, s.rotationScale), o(g, g, s.position), a[3 * i] = g[0], a[3 * i + 1] = g[1], a[3 * i + 2] = g[2];\n  return a;\n}\nfunction l(e, o, r) {\n  const a = c(24);\n  return c => {\n    let l = c.meta.featureExtents;\n    if (t(l)) {\n      l = new Float64Array(6 * c.meta.featureIds.length), c.meta.featureExtents = l;\n      for (let t = 0; t < l.length; t += 6) l[t] = Number.POSITIVE_INFINITY;\n    }\n    const b = new Float64Array(l.buffer, 6 * c.index * Float64Array.BYTES_PER_ELEMENT, 6);\n    return b[0] === Number.POSITIVE_INFINITY && (u(c.index, r, c.meta.objectHandle, a), n(a, o, 0, a, e, 0, 8) ? (m(b, s), i(b, a, 0, 8)) : m(b, f)), b;\n  };\n}\nfunction b(t, r, n, a) {\n  const m = r.getComponentAabb(n, t, p),\n    s = r.getObjectTransform(n);\n  a[0] = 0, a[1] = 0, a[2] = 0;\n  for (let i = 0; i < 8; ++i) g[0] = 1 & i ? m[0] : m[3], g[1] = 2 & i ? m[1] : m[4], g[2] = m[5], e(g, g, s.rotationScale), o(g, g, s.position), a[0] += g[0], a[1] += g[1], a[2] += g[2];\n  return a[0] /= 8, a[1] /= 8, a[2] /= 8, a;\n}\nconst p = a(),\n  g = r();\nexport { u as boundingBoxCornerPoints, b as boundingBoxTop, l as createGetFeatureExtent };","map":{"version":3,"names":["isNone","t","e","a","o","c","r","projectBuffer","n","create","set","m","NEGATIVE_INFINITY","s","expandWithBuffer","i","ZERO","f","newDoubleArray","u","getComponentAabb","p","getObjectTransform","g","rotationScale","position","l","meta","featureExtents","Float64Array","featureIds","length","Number","POSITIVE_INFINITY","b","buffer","index","BYTES_PER_ELEMENT","objectHandle","boundingBoxCornerPoints","boundingBoxTop","createGetFeatureExtent"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{t as e,a as o}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as n}from\"../../../../geometry/projection.js\";import{create as a,set as m,NEGATIVE_INFINITY as s,expandWithBuffer as i,ZERO as f}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as c}from\"../../webgl-engine/lib/DoubleArray.js\";function u(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);for(let i=0;i<8;++i)g[0]=1&i?m[0]:m[3],g[1]=2&i?m[1]:m[4],g[2]=4&i?m[2]:m[5],e(g,g,s.rotationScale),o(g,g,s.position),a[3*i]=g[0],a[3*i+1]=g[1],a[3*i+2]=g[2];return a}function l(e,o,r){const a=c(24);return c=>{let l=c.meta.featureExtents;if(t(l)){l=new Float64Array(6*c.meta.featureIds.length),c.meta.featureExtents=l;for(let t=0;t<l.length;t+=6)l[t]=Number.POSITIVE_INFINITY}const b=new Float64Array(l.buffer,6*c.index*Float64Array.BYTES_PER_ELEMENT,6);return b[0]===Number.POSITIVE_INFINITY&&(u(c.index,r,c.meta.objectHandle,a),n(a,o,0,a,e,0,8)?(m(b,s),i(b,a,0,8)):m(b,f)),b}}function b(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);a[0]=0,a[1]=0,a[2]=0;for(let i=0;i<8;++i)g[0]=1&i?m[0]:m[3],g[1]=2&i?m[1]:m[4],g[2]=m[5],e(g,g,s.rotationScale),o(g,g,s.position),a[0]+=g[0],a[1]+=g[1],a[2]+=g[2];return a[0]/=8,a[1]/=8,a[2]/=8,a}const p=a(),g=r();export{u as boundingBoxCornerPoints,b as boundingBoxTop,l as createGetFeatureExtent};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAC,QAAK,2BAA2B;AAAC,SAAOA,CAAC,IAAIC,CAAC,EAACC,CAAC,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOC,CAAC,IAAIC,CAAC,QAAK,+BAA+B;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,oCAAoC;AAAC,SAAOC,MAAM,IAAIN,CAAC,EAACO,GAAG,IAAIC,CAAC,EAACC,iBAAiB,IAAIC,CAAC,EAACC,gBAAgB,IAAIC,CAAC,EAACC,IAAI,IAAIC,CAAC,QAAK,+CAA+C;AAAC,SAAOC,cAAc,IAAIb,CAAC,QAAK,uCAAuC;AAAC,SAASc,CAACA,CAAClB,CAAC,EAACK,CAAC,EAACE,CAAC,EAACL,CAAC,EAAC;EAAC,MAAMQ,CAAC,GAACL,CAAC,CAACc,gBAAgB,CAACZ,CAAC,EAACP,CAAC,EAACoB,CAAC,CAAC;IAACR,CAAC,GAACP,CAAC,CAACgB,kBAAkB,CAACd,CAAC,CAAC;EAAC,KAAI,IAAIO,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAAC,EAAEA,CAAC,EAACQ,CAAC,CAAC,CAAC,CAAC,GAAC,CAAC,GAACR,CAAC,GAACJ,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,EAACY,CAAC,CAAC,CAAC,CAAC,GAAC,CAAC,GAACR,CAAC,GAACJ,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,EAACY,CAAC,CAAC,CAAC,CAAC,GAAC,CAAC,GAACR,CAAC,GAACJ,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,EAACT,CAAC,CAACqB,CAAC,EAACA,CAAC,EAACV,CAAC,CAACW,aAAa,CAAC,EAACpB,CAAC,CAACmB,CAAC,EAACA,CAAC,EAACV,CAAC,CAACY,QAAQ,CAAC,EAACtB,CAAC,CAAC,CAAC,GAACY,CAAC,CAAC,GAACQ,CAAC,CAAC,CAAC,CAAC,EAACpB,CAAC,CAAC,CAAC,GAACY,CAAC,GAAC,CAAC,CAAC,GAACQ,CAAC,CAAC,CAAC,CAAC,EAACpB,CAAC,CAAC,CAAC,GAACY,CAAC,GAAC,CAAC,CAAC,GAACQ,CAAC,CAAC,CAAC,CAAC;EAAC,OAAOpB,CAAC;AAAA;AAAC,SAASuB,CAACA,CAACxB,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;EAAC,MAAMH,CAAC,GAACE,CAAC,CAAC,EAAE,CAAC;EAAC,OAAOA,CAAC,IAAE;IAAC,IAAIqB,CAAC,GAACrB,CAAC,CAACsB,IAAI,CAACC,cAAc;IAAC,IAAG3B,CAAC,CAACyB,CAAC,CAAC,EAAC;MAACA,CAAC,GAAC,IAAIG,YAAY,CAAC,CAAC,GAACxB,CAAC,CAACsB,IAAI,CAACG,UAAU,CAACC,MAAM,CAAC,EAAC1B,CAAC,CAACsB,IAAI,CAACC,cAAc,GAACF,CAAC;MAAC,KAAI,IAAIzB,CAAC,GAAC,CAAC,EAACA,CAAC,GAACyB,CAAC,CAACK,MAAM,EAAC9B,CAAC,IAAE,CAAC,EAACyB,CAAC,CAACzB,CAAC,CAAC,GAAC+B,MAAM,CAACC,iBAAiB;IAAA;IAAC,MAAMC,CAAC,GAAC,IAAIL,YAAY,CAACH,CAAC,CAACS,MAAM,EAAC,CAAC,GAAC9B,CAAC,CAAC+B,KAAK,GAACP,YAAY,CAACQ,iBAAiB,EAAC,CAAC,CAAC;IAAC,OAAOH,CAAC,CAAC,CAAC,CAAC,KAAGF,MAAM,CAACC,iBAAiB,KAAGd,CAAC,CAACd,CAAC,CAAC+B,KAAK,EAAC9B,CAAC,EAACD,CAAC,CAACsB,IAAI,CAACW,YAAY,EAACnC,CAAC,CAAC,EAACK,CAAC,CAACL,CAAC,EAACC,CAAC,EAAC,CAAC,EAACD,CAAC,EAACD,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,IAAES,CAAC,CAACuB,CAAC,EAACrB,CAAC,CAAC,EAACE,CAAC,CAACmB,CAAC,EAAC/B,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,IAAEQ,CAAC,CAACuB,CAAC,EAACjB,CAAC,CAAC,CAAC,EAACiB,CAAC;EAAA,CAAC;AAAA;AAAC,SAASA,CAACA,CAACjC,CAAC,EAACK,CAAC,EAACE,CAAC,EAACL,CAAC,EAAC;EAAC,MAAMQ,CAAC,GAACL,CAAC,CAACc,gBAAgB,CAACZ,CAAC,EAACP,CAAC,EAACoB,CAAC,CAAC;IAACR,CAAC,GAACP,CAAC,CAACgB,kBAAkB,CAACd,CAAC,CAAC;EAACL,CAAC,CAAC,CAAC,CAAC,GAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,GAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,GAAC,CAAC;EAAC,KAAI,IAAIY,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAAC,EAAEA,CAAC,EAACQ,CAAC,CAAC,CAAC,CAAC,GAAC,CAAC,GAACR,CAAC,GAACJ,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,EAACY,CAAC,CAAC,CAAC,CAAC,GAAC,CAAC,GAACR,CAAC,GAACJ,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,EAACY,CAAC,CAAC,CAAC,CAAC,GAACZ,CAAC,CAAC,CAAC,CAAC,EAACT,CAAC,CAACqB,CAAC,EAACA,CAAC,EAACV,CAAC,CAACW,aAAa,CAAC,EAACpB,CAAC,CAACmB,CAAC,EAACA,CAAC,EAACV,CAAC,CAACY,QAAQ,CAAC,EAACtB,CAAC,CAAC,CAAC,CAAC,IAAEoB,CAAC,CAAC,CAAC,CAAC,EAACpB,CAAC,CAAC,CAAC,CAAC,IAAEoB,CAAC,CAAC,CAAC,CAAC,EAACpB,CAAC,CAAC,CAAC,CAAC,IAAEoB,CAAC,CAAC,CAAC,CAAC;EAAC,OAAOpB,CAAC,CAAC,CAAC,CAAC,IAAE,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,IAAE,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,IAAE,CAAC,EAACA,CAAC;AAAA;AAAC,MAAMkB,CAAC,GAAClB,CAAC,EAAE;EAACoB,CAAC,GAACjB,CAAC,EAAE;AAAC,SAAOa,CAAC,IAAIoB,uBAAuB,EAACL,CAAC,IAAIM,cAAc,EAACd,CAAC,IAAIe,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}