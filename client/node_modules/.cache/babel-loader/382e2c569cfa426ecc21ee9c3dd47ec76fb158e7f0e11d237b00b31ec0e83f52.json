{"ast":null,"code":"import _classCallCheck from\"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{connect}from'react-redux';import{bindActionCreators}from'redux';import*as qActions from'../../reducer/portal/query/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var QueryTable=/*#__PURE__*/function(_React$Component){_inherits(QueryTable,_React$Component);var _super=_createSuper(QueryTable);function QueryTable(props){var _this;_classCallCheck(this,QueryTable);_this=_super.call(this,props);_this.deleteTags=function(id){console.log(\"'delete tag(s)' button clicked\");document.getElementById(id).className='deleteMe';_this.props.deleteItemTags();};return _this;}_createClass(QueryTable,[{key:\"addTags\",value:function addTags(){console.log(\"'add tag(s)' button clicked\");this.props.addItemTags();}},{key:\"render\",value:function render(){var _this2=this;console.log(\"component: query-table\");return/*#__PURE__*/_jsxs(\"table\",{className:\"center\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"created\"}),/*#__PURE__*/_jsx(\"th\",{children:\"tags\"}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"addTagButton\",onClick:function onClick(){return _this2.addTags();},children:\"add tag(s)\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.props.userItems.map(function(userItems,index){return/*#__PURE__*/_jsxs(\"tr\",{id:userItems.id,children:[/*#__PURE__*/_jsx(\"td\",{children:userItems.title}),/*#__PURE__*/_jsxs(\"td\",{children:[new Date(userItems.created).toDateString(),\",\",/*#__PURE__*/_jsx(\"br\",{}),\"Unix:\",userItems.created]}),/*#__PURE__*/_jsx(\"td\",{children:userItems.tags.map(function(tag,index){return/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"tagButton\",children:[tag,/*#__PURE__*/_jsx(\"button\",{className:\"xButton\",value:tag,id:'delete'+tag+userItems.id,onClick:function onClick(){return _this2.deleteTags('delete'+tag+userItems.id);},children:\"x\"})]})},index);})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"select\",{className:\"selectTags\",name:'select'+userItems.id,id:'select'+userItems.id,children:[/*#__PURE__*/_jsx(\"option\",{}),_this2.props.userTags.filter(function(e){return!userItems.tags.includes(e);}).map(function(tag){return/*#__PURE__*/_jsx(\"option\",{value:tag,id:tag+userItems.id,children:tag},tag);})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"inputTags\",name:'input'+userItems.id,id:'input'+userItems.id,placeholder:\"Custom Tag\"})]})]},index);})})]});}}]);return QueryTable;}(React.Component);QueryTable.defaultProps={userItems:[{id:''}],userTags:['']};var mapStateToProps=function mapStateToProps(_ref){var _ref$query=_ref.query,userItems=_ref$query.userItems,userTags=_ref$query.userTags;return{userItems:userItems,userTags:userTags};};function mapDispatchToProps(dispatch){return{addItemTags:bindActionCreators(qActions.addItemTags,dispatch),deleteItemTags:bindActionCreators(qActions.deleteItemTags,dispatch)};}export default connect(mapStateToProps,mapDispatchToProps)(QueryTable);","map":{"version":3,"names":["React","connect","bindActionCreators","qActions","jsx","_jsx","jsxs","_jsxs","QueryTable","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","deleteTags","id","console","log","document","getElementById","className","deleteItemTags","_createClass","key","value","addTags","addItemTags","render","_this2","children","onClick","userItems","map","index","title","Date","created","toDateString","tags","tag","name","userTags","filter","e","includes","type","placeholder","Component","defaultProps","mapStateToProps","_ref","_ref$query","query","mapDispatchToProps","dispatch"],"sources":["C:/code-challenge-react/client/src/components/main/query-table.tsx"],"sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport * as qActions from '../../reducer/portal/query/actions'\r\n\r\ninterface Item {\r\n  id: string,\r\n  title?: string,\r\n  created?: EpochTimeStamp,\r\n  tags?: string[],\r\n}\r\n\r\ninterface ItemProps {\r\n  userItems: Item[],\r\n  userTags: string[],\r\n  addItemTags: Function,\r\n  deleteItemTags: Function,\r\n}\r\n\r\nexport class QueryTable extends React.Component <ItemProps, any> {\r\n  constructor(props:any) {\r\n    super(props)\r\n  }\r\n  public static defaultProps = { userItems: [{id:'',}], userTags: ['',]}\r\n  addTags() { console.log(\"'add tag(s)' button clicked\")\r\n    this.props.addItemTags()\r\n  }\r\n  deleteTags = (id:string) => { console.log(\"'delete tag(s)' button clicked\")\r\n    document.getElementById(id)!.className = 'deleteMe'\r\n    this.props.deleteItemTags()\r\n  }\r\n\r\n  render() { console.log(\"component: query-table\")\r\n    return (\r\n        <table className=\"center\">\r\n          <thead>\r\n            <tr>\r\n              <th>title</th><th>created</th><th>tags</th>\r\n              <th><button className=\"addTagButton\" onClick={() => this.addTags()}>add tag(s)</button></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.props.userItems.map((userItems,index) => (\r\n            <tr key={index} id={userItems.id}>\r\n              <td>{userItems.title}</td>\r\n              <td>{(new Date(userItems.created!)).toDateString()},<br/>Unix:{userItems.created!}</td> \r\n              <td> \r\n                {userItems.tags!.map((tag,index) => (\r\n                  <span key={index}>\r\n                    <span className=\"tagButton\">\r\n                      {tag}\r\n                      <button className=\"xButton\" value={tag} id={'delete'+tag+userItems.id} onClick={() => this.deleteTags('delete'+tag+userItems.id)}>x</button>\r\n                    </span>\r\n                  </span>\r\n                ))}\r\n              </td>\r\n              <td>\r\n                <select className=\"selectTags\" name={'select'+userItems.id} id={'select'+userItems.id} >\r\n                  <option></option>\r\n                  {(this.props.userTags!\r\n                    .filter(e => !userItems.tags!.includes(e)))\r\n                    .map((tag) => (\r\n                      <option key={tag} value={tag} id={tag+userItems.id}>{tag}</option>  \r\n                    )\r\n                  )}\r\n                </select>\r\n                <input type=\"text\" className=\"inputTags\" name={'input'+userItems.id} id={'input'+userItems.id} placeholder=\"Custom Tag\"/>\r\n              </td>\r\n            </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ query: { userItems, userTags }}:any) => ({\r\n  userItems,\r\n  userTags,\r\n})\r\nfunction mapDispatchToProps(dispatch:any) {\r\n  return {\r\n    addItemTags: bindActionCreators(qActions.addItemTags, dispatch),\r\n    deleteItemTags: bindActionCreators(qActions.deleteItemTags, dispatch)\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(QueryTable)"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}