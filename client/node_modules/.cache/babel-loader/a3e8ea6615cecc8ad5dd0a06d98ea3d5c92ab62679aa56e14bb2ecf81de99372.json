{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport o from \"../../core/Error.js\";\nimport { isSome as r } from \"../../core/maybe.js\";\nasync function n(n, t, s, a, i, d) {\n  let l = null;\n  if (r(s)) {\n    const o = `${n}/nodepages/`,\n      t = o + Math.floor(s.rootIndex / s.nodesPerPage);\n    try {\n      return {\n        type: \"page\",\n        rootPage: (await e(t, {\n          query: {\n            f: \"json\",\n            token: a\n          },\n          responseType: \"json\",\n          signal: d\n        })).data,\n        rootIndex: s.rootIndex,\n        pageSize: s.nodesPerPage,\n        lodMetric: s.lodSelectionMetricType,\n        urlPrefix: o\n      };\n    } catch (f) {\n      r(i) && i.warn(\"#fetchIndexInfo()\", \"Failed to load root node page. Falling back to node documents.\", t, f), l = f;\n    }\n  }\n  if (!t) return null;\n  const p = `${n}/nodes/`,\n    c = p + (t && t.split(\"/\").pop());\n  try {\n    return {\n      type: \"node\",\n      rootNode: (await e(c, {\n        query: {\n          f: \"json\",\n          token: a\n        },\n        responseType: \"json\",\n        signal: d\n      })).data,\n      urlPrefix: p\n    };\n  } catch (f) {\n    throw new o(\"sceneservice:root-node-missing\", \"Root node missing.\", {\n      pageError: l,\n      nodeError: f,\n      url: c\n    });\n  }\n}\nexport { n as fetchIndexInfo };","map":{"version":3,"names":["e","o","isSome","r","n","t","s","a","i","d","l","Math","floor","rootIndex","nodesPerPage","type","rootPage","query","f","token","responseType","signal","data","pageSize","lodMetric","lodSelectionMetricType","urlPrefix","warn","p","c","split","pop","rootNode","pageError","nodeError","url","fetchIndexInfo"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/support/I3SIndexInfo.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAC,MAAK,kBAAkB;AAAC,OAAOC,CAAC,MAAK,qBAAqB;AAAC,SAAOC,MAAM,IAAIC,CAAC,QAAK,qBAAqB;AAAC,eAAeC,CAACA,CAACA,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;EAAC,IAAIC,CAAC,GAAC,IAAI;EAAC,IAAGP,CAAC,CAACG,CAAC,CAAC,EAAC;IAAC,MAAML,CAAC,GAAE,GAAEG,CAAE,aAAY;MAACC,CAAC,GAACJ,CAAC,GAACU,IAAI,CAACC,KAAK,CAACN,CAAC,CAACO,SAAS,GAACP,CAAC,CAACQ,YAAY,CAAC;IAAC,IAAG;MAAC,OAAM;QAACC,IAAI,EAAC,MAAM;QAACC,QAAQ,EAAC,CAAC,MAAMhB,CAAC,CAACK,CAAC,EAAC;UAACY,KAAK,EAAC;YAACC,CAAC,EAAC,MAAM;YAACC,KAAK,EAACZ;UAAC,CAAC;UAACa,YAAY,EAAC,MAAM;UAACC,MAAM,EAACZ;QAAC,CAAC,CAAC,EAAEa,IAAI;QAACT,SAAS,EAACP,CAAC,CAACO,SAAS;QAACU,QAAQ,EAACjB,CAAC,CAACQ,YAAY;QAACU,SAAS,EAAClB,CAAC,CAACmB,sBAAsB;QAACC,SAAS,EAACzB;MAAC,CAAC;IAAA,CAAC,QAAMiB,CAAC,EAAC;MAACf,CAAC,CAACK,CAAC,CAAC,IAAEA,CAAC,CAACmB,IAAI,CAAC,mBAAmB,EAAC,gEAAgE,EAACtB,CAAC,EAACa,CAAC,CAAC,EAACR,CAAC,GAACQ,CAAC;IAAA;EAAC;EAAC,IAAG,CAACb,CAAC,EAAC,OAAO,IAAI;EAAC,MAAMuB,CAAC,GAAE,GAAExB,CAAE,SAAQ;IAACyB,CAAC,GAACD,CAAC,IAAEvB,CAAC,IAAEA,CAAC,CAACyB,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,EAAE,CAAC;EAAC,IAAG;IAAC,OAAM;MAAChB,IAAI,EAAC,MAAM;MAACiB,QAAQ,EAAC,CAAC,MAAMhC,CAAC,CAAC6B,CAAC,EAAC;QAACZ,KAAK,EAAC;UAACC,CAAC,EAAC,MAAM;UAACC,KAAK,EAACZ;QAAC,CAAC;QAACa,YAAY,EAAC,MAAM;QAACC,MAAM,EAACZ;MAAC,CAAC,CAAC,EAAEa,IAAI;MAACI,SAAS,EAACE;IAAC,CAAC;EAAA,CAAC,QAAMV,CAAC,EAAC;IAAC,MAAM,IAAIjB,CAAC,CAAC,gCAAgC,EAAC,oBAAoB,EAAC;MAACgC,SAAS,EAACvB,CAAC;MAACwB,SAAS,EAAChB,CAAC;MAACiB,GAAG,EAACN;IAAC,CAAC,CAAC;EAAA;AAAC;AAAC,SAAOzB,CAAC,IAAIgC,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}