{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../Graphic.js\";\nimport r from \"../../../core/Logger.js\";\nimport { isNone as i, isSome as s, destroyMaybe as o } from \"../../../core/maybe.js\";\nimport { initial as l } from \"../../../core/reactiveUtils.js\";\nimport { property as n } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as a } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { WhereClause as u } from \"../../../core/sql/WhereClause.js\";\nimport d from \"../../../layers/support/FeatureFilter.js\";\nimport { getFloorFilterClause as h } from \"../../../layers/support/floorFilterUtils.js\";\nimport p from \"../../../rest/support/Query.js\";\nimport { sceneLayerEditingEnabled as c } from \"../../../support/featureFlags.js\";\nimport { I3SMeshView3D as y } from \"./I3SMeshView3D.js\";\nimport { ForAllFeaturesVisibilityMode as g } from \"./II3SMeshView3D.js\";\nimport { LayerView3D as f } from \"./LayerView3D.js\";\nimport { createInteractiveEditSession as m, processGeometryEdits as _, processAttributeEdits as F } from \"./i3s/attributeEditing.js\";\nimport { createGetFeatureExtent as v } from \"./i3s/I3SGeometryUtil.js\";\nimport { I3SMeshViewFilter as j } from \"./i3s/I3SMeshViewFilter.js\";\nimport { NodeFilterImpact as w } from \"./i3s/I3SNode.js\";\nimport { I3SOverrides as I } from \"./i3s/I3SOverrides.js\";\nimport { I3SQueryEngine as S } from \"./i3s/I3SQueryEngine.js\";\nimport { I3SQueryFeatureAdapter as b } from \"./i3s/I3SQueryFeatureAdapter.js\";\nimport { I3SQueryFeatureStore as E } from \"./i3s/I3SQueryFeatureStore.js\";\nimport { checkRecyclable as C, getIndexCrs as x, objectIdFilter as Q } from \"./i3s/I3SUtil.js\";\nimport { DefinitionExpressionSceneLayerView as O } from \"./support/DefinitionExpressionSceneLayerView.js\";\nimport { defineFieldProperties as q } from \"./support/fieldProperties.js\";\nimport { PopupSceneLayerView as D } from \"./support/PopupSceneLayerView.js\";\nimport { SceneLayerViewRequiredFields as R } from \"./support/SceneLayerViewRequiredFields.js\";\nimport { updatingProgress as H } from \"../support/updatingProperties.js\";\nimport L from \"../../layers/SceneLayerView.js\";\nimport { TaskPriority as A } from \"../../support/Scheduler.js\";\nconst V = q();\nlet U = class extends y(O(D(f(L)))) {\n  constructor() {\n    super(...arguments), this.type = \"scene-layer-3d\", this.progressiveLoadFactor = 1, this._elevationContext = \"scene\", this._isIntegratedMesh = !1, this._supportsLabeling = !0, this._interactiveEditingSessions = new Map(), this._queryEngine = null;\n  }\n  get i3slayer() {\n    return this.layer;\n  }\n  tryRecycleWith(e, t) {\n    return e.url === this.layer.url && this.i3sOverrides.isEmpty ? e.load(t).then(() => {\n      C(this.layer, e, this.i3sOverrides), this.layer = e, this.i3sOverrides.destroy();\n      const t = this.view.resourceController?.memoryController;\n      this.i3sOverrides = new I({\n        view: this.view,\n        layer: e,\n        memoryController: t\n      }), this.resetHighlights();\n    }) : null;\n  }\n  get layerPopupEnabled() {\n    return this.layer.popupEnabled;\n  }\n  get filter() {\n    return this._get(\"filter\");\n  }\n  set filter(e) {\n    this._set(\"filter\", j.checkSupport(e) ? e : null);\n  }\n  get viewFilter() {\n    const e = this.filter,\n      t = this.layerFilter;\n    if (i(e) && i(t)) return null;\n    const r = this._get(\"viewFilter\");\n    return i(r) ? new j({\n      layerFilter: t,\n      viewFilter: e,\n      layerFieldsIndex: this.layer.fieldsIndex,\n      loadAsyncModule: e => this._loadAsyncModule(e),\n      addSqlFilter: (e, t) => this.addSqlFilter(e, t, this.logError)\n    }) : (r.viewFilter = e, r.layerFilter = t, r);\n  }\n  get requiredFields() {\n    return this._fieldsHelper?.requiredFields ?? [];\n  }\n  get _floorFilterClause() {\n    const e = h(this);\n    return s(e) ? u.create(e, this.layer.fieldsIndex) : null;\n  }\n  get _excludeObjectIdsSorted() {\n    let e = this.layer.excludeObjectIds.toArray();\n    return c() && this.i3sOverrides.is3DOFL && this.i3sOverrides.geometryChangedObjectIds.length > 0 && (e = e.concat(this.i3sOverrides.geometryChangedObjectIds)), e.length ? e.sort((e, t) => e - t) : null;\n  }\n  get _objectQualitySettings() {\n    return this.view?.qualitySettings?.sceneService?.object;\n  }\n  get lodFactor() {\n    return this._objectQualitySettings?.lodFactor ?? 1;\n  }\n  get lodCrossfadeinDuration() {\n    return this._objectQualitySettings.lodCrossfadeinDuration ?? 0;\n  }\n  get lodCrossfadeoutDuration() {\n    return this._objectQualitySettings.lodCrossfadeoutDuration ?? 0;\n  }\n  get lodCrossfadeUncoveredDuration() {\n    return this._objectQualitySettings.lodCrossfadeUncoveredDuration ?? 0;\n  }\n  get updatingProgressValue() {\n    return this._controller?.updatingProgress ?? 0;\n  }\n  initialize() {\n    this._fieldsHelper = new R({\n      layerView: this\n    }), this.updatingHandles.add(() => this.layer.rangeInfos, e => this._rangeInfosChanged(e), l), this.updatingHandles.add(() => this.layer.renderer, e => this.updatingHandles.addPromise(this._rendererChange(e)), l);\n    const e = () => this._filterChange();\n    this.updatingHandles.add(() => this.parsedDefinitionExpression, e), this.updatingHandles.add(() => this.filter, e), this.updatingHandles.add(() => this._floorFilterClause, e), this.updatingHandles.add(() => this._excludeObjectIdsSorted, e), this.updatingHandles.add(() => s(this.viewFilter) ? this.viewFilter.sortedObjectIds : null, e), this.updatingHandles.add(() => s(this.viewFilter) ? this.viewFilter.parsedWhereClause : null, e), this.updatingHandles.add(() => [s(this.viewFilter) ? this.viewFilter.parsedGeometry : null, s(this.filter) ? this.filter.spatialRelationship : null, s(this.layer.filter) ? this.layer.filter.spatialRelationship : null], () => this._geometryFilterChange()), this.handles.add(this.layer.on(\"apply-edits\", e => this.updatingHandles.addPromise(e.result))), this.handles.add(this.layer.on(\"edits\", e => this._handleEdits(e)));\n  }\n  destroy() {\n    this._fieldsHelper = o(this._fieldsHelper);\n  }\n  _rangeInfosChanged(e) {\n    null != e && e.length > 0 && r.getLogger(this.declaredClass).warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\");\n  }\n  createQuery() {\n    const e = {\n      outFields: [\"*\"],\n      returnGeometry: !1,\n      outSpatialReference: this.view.spatialReference\n    };\n    return s(this.filter) ? this.filter.createQuery(e) : new p(e);\n  }\n  queryExtent(e, t) {\n    return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e), t?.signal);\n  }\n  queryFeatureCount(e, t) {\n    return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e), t?.signal);\n  }\n  queryFeatures(e, t) {\n    return this._ensureQueryEngine().executeQuery(this._ensureQuery(e), t?.signal).then(e => {\n      if (!e?.features) return e;\n      const t = this.layer;\n      for (const r of e.features) r.layer = t, r.sourceLayer = t;\n      return e;\n    });\n  }\n  queryObjectIds(e, t) {\n    return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e), t?.signal);\n  }\n  _ensureQueryEngine() {\n    return this._queryEngine || (this._queryEngine = this._createQueryEngine()), this._queryEngine;\n  }\n  _createQueryEngine() {\n    const e = v(this.view.spatialReference, this.view.renderSpatialReference, this._collection);\n    return new S({\n      layerView: this,\n      priority: A.FEATURE_QUERY_ENGINE,\n      spatialIndex: new E({\n        featureAdapter: new b({\n          objectIdField: this.layer.objectIdField,\n          attributeStorageInfo: this.layer.attributeStorageInfo ?? [],\n          getFeatureExtent: e\n        }),\n        forAllFeatures: (e, t) => this._forAllFeatures((t, r, i) => e({\n          id: t,\n          index: r,\n          meta: i\n        }), t, g.ALL_IN_CLIPPING_AREA),\n        getFeatureExtent: e,\n        sourceSpatialReference: x(this.layer),\n        viewSpatialReference: this.view.spatialReference\n      })\n    });\n  }\n  highlight(e) {\n    const t = this._highlights;\n    if (e instanceof p) {\n      const {\n        set: r,\n        handle: i\n      } = t.acquireSet();\n      return this.queryObjectIds(e).then(e => t.setFeatureIds(r, e)), i;\n    }\n    return super.highlight(e);\n  }\n  createInteractiveEditSession(e) {\n    return m(this._attributeEditingContext, e);\n  }\n  _createLayerGraphic(e) {\n    const r = new t(null, null, e);\n    return r.layer = this.layer, r.sourceLayer = this.layer, r;\n  }\n  canResume() {\n    return super.canResume() && (!this._controller || this._controller.rootNodeVisible);\n  }\n  getFilters() {\n    const e = super.getFilters(),\n      t = this._excludeObjectIdsSorted;\n    return s(t) && e.push(e => Q(t, !1, e)), this._floorFilterClause && this.addSqlFilter(e, this._floorFilterClause, this.logError), this.addSqlFilter(e, this.parsedDefinitionExpression, this.logError), s(this.viewFilter) && this.viewFilter.addFilters(e, this.view, this._controller.crsIndex, this._collection), e;\n  }\n  isUpdating() {\n    return super.isUpdating() || this.layerFilterUpdating || s(this.viewFilter) && this.viewFilter.updating || s(this.i3sOverrides) && this.i3sOverrides.updating;\n  }\n  _ensureQuery(e) {\n    return this._addDefinitionExpressionToQuery(i(e) ? this.createQuery() : p.from(e));\n  }\n  get _attributeEditingContext() {\n    return {\n      sessions: this._interactiveEditingSessions,\n      fieldsIndex: this.layer.fieldsIndex,\n      objectIdField: this._getObjectIdField(),\n      forEachNode: e => this._forAllNodes(t => s(t) ? e(t.node, t.featureIds) : null),\n      attributeStorageInfo: this.i3slayer.attributeStorageInfo ?? [],\n      i3sOverrides: this.i3sOverrides,\n      getAttributeData: e => this.getAttributeData(e),\n      setAttributeData: (e, t) => this.setAttributeData(e, t),\n      clearMemCache: () => this.clearMemCache()\n    };\n  }\n  _handleEdits(e) {\n    c() && _(this._attributeEditingContext, e), F(this._attributeEditingContext, e);\n  }\n  get hasGeometryFilter() {\n    const e = this.viewFilter;\n    return s(e) && s(e.parsedGeometry);\n  }\n  computeNodeFiltering(e) {\n    const t = this.viewFilter;\n    return i(t) || !this.view.spatialReference || t.isMBSGeometryVisible(e, this.view.spatialReference, this._controller.crsIndex) ? w.Unmodified : w.Culled;\n  }\n};\ne([n()], U.prototype, \"i3slayer\", null), e([n(H)], U.prototype, \"updatingProgress\", void 0), e([n({\n  type: d\n})], U.prototype, \"filter\", null), e([n({\n  readOnly: !0\n})], U.prototype, \"viewFilter\", null), e([n(V.requiredFields)], U.prototype, \"requiredFields\", null), e([n(V.availableFields)], U.prototype, \"availableFields\", void 0), e([n()], U.prototype, \"_fieldsHelper\", void 0), e([n()], U.prototype, \"_floorFilterClause\", null), e([n()], U.prototype, \"_excludeObjectIdsSorted\", null), e([n()], U.prototype, \"_objectQualitySettings\", null), e([n()], U.prototype, \"lodFactor\", null), e([n()], U.prototype, \"updatingProgressValue\", null), U = e([a(\"esri.views.3d.layers.SceneLayerView3D\")], U);\nconst P = U;\nexport { P as default };","map":{"version":3,"names":["_","e","t","r","isNone","i","isSome","s","destroyMaybe","o","initial","l","property","n","subclass","a","WhereClause","u","d","getFloorFilterClause","h","p","sceneLayerEditingEnabled","c","I3SMeshView3D","y","ForAllFeaturesVisibilityMode","g","LayerView3D","f","createInteractiveEditSession","m","processGeometryEdits","processAttributeEdits","F","createGetFeatureExtent","v","I3SMeshViewFilter","j","NodeFilterImpact","w","I3SOverrides","I","I3SQueryEngine","S","I3SQueryFeatureAdapter","b","I3SQueryFeatureStore","E","checkRecyclable","C","getIndexCrs","x","objectIdFilter","Q","DefinitionExpressionSceneLayerView","O","defineFieldProperties","q","PopupSceneLayerView","D","SceneLayerViewRequiredFields","R","updatingProgress","H","L","TaskPriority","A","V","U","constructor","arguments","type","progressiveLoadFactor","_elevationContext","_isIntegratedMesh","_supportsLabeling","_interactiveEditingSessions","Map","_queryEngine","i3slayer","layer","tryRecycleWith","url","i3sOverrides","isEmpty","load","then","destroy","view","resourceController","memoryController","resetHighlights","layerPopupEnabled","popupEnabled","filter","_get","_set","checkSupport","viewFilter","layerFilter","layerFieldsIndex","fieldsIndex","loadAsyncModule","_loadAsyncModule","addSqlFilter","logError","requiredFields","_fieldsHelper","_floorFilterClause","create","_excludeObjectIdsSorted","excludeObjectIds","toArray","is3DOFL","geometryChangedObjectIds","length","concat","sort","_objectQualitySettings","qualitySettings","sceneService","object","lodFactor","lodCrossfadeinDuration","lodCrossfadeoutDuration","lodCrossfadeUncoveredDuration","updatingProgressValue","_controller","initialize","layerView","updatingHandles","add","rangeInfos","_rangeInfosChanged","renderer","addPromise","_rendererChange","_filterChange","parsedDefinitionExpression","sortedObjectIds","parsedWhereClause","parsedGeometry","spatialRelationship","_geometryFilterChange","handles","on","result","_handleEdits","getLogger","declaredClass","warn","createQuery","outFields","returnGeometry","outSpatialReference","spatialReference","queryExtent","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","signal","queryFeatureCount","executeQueryForCount","queryFeatures","executeQuery","features","sourceLayer","queryObjectIds","executeQueryForIds","_createQueryEngine","renderSpatialReference","_collection","priority","FEATURE_QUERY_ENGINE","spatialIndex","featureAdapter","objectIdField","attributeStorageInfo","getFeatureExtent","forAllFeatures","_forAllFeatures","id","index","meta","ALL_IN_CLIPPING_AREA","sourceSpatialReference","viewSpatialReference","highlight","_highlights","set","handle","acquireSet","setFeatureIds","_attributeEditingContext","_createLayerGraphic","canResume","rootNodeVisible","getFilters","push","addFilters","crsIndex","isUpdating","layerFilterUpdating","updating","_addDefinitionExpressionToQuery","from","sessions","_getObjectIdField","forEachNode","_forAllNodes","node","featureIds","getAttributeData","setAttributeData","clearMemCache","hasGeometryFilter","computeNodeFiltering","isMBSGeometryVisible","Unmodified","Culled","prototype","readOnly","availableFields","P","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/SceneLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Logger.js\";import{isNone as i,isSome as s,destroyMaybe as o}from\"../../../core/maybe.js\";import{initial as l}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as u}from\"../../../core/sql/WhereClause.js\";import d from\"../../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as h}from\"../../../layers/support/floorFilterUtils.js\";import p from\"../../../rest/support/Query.js\";import{sceneLayerEditingEnabled as c}from\"../../../support/featureFlags.js\";import{I3SMeshView3D as y}from\"./I3SMeshView3D.js\";import{ForAllFeaturesVisibilityMode as g}from\"./II3SMeshView3D.js\";import{LayerView3D as f}from\"./LayerView3D.js\";import{createInteractiveEditSession as m,processGeometryEdits as _,processAttributeEdits as F}from\"./i3s/attributeEditing.js\";import{createGetFeatureExtent as v}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as j}from\"./i3s/I3SMeshViewFilter.js\";import{NodeFilterImpact as w}from\"./i3s/I3SNode.js\";import{I3SOverrides as I}from\"./i3s/I3SOverrides.js\";import{I3SQueryEngine as S}from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as b}from\"./i3s/I3SQueryFeatureAdapter.js\";import{I3SQueryFeatureStore as E}from\"./i3s/I3SQueryFeatureStore.js\";import{checkRecyclable as C,getIndexCrs as x,objectIdFilter as Q}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as O}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as q}from\"./support/fieldProperties.js\";import{PopupSceneLayerView as D}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as R}from\"./support/SceneLayerViewRequiredFields.js\";import{updatingProgress as H}from\"../support/updatingProperties.js\";import L from\"../../layers/SceneLayerView.js\";import{TaskPriority as A}from\"../../support/Scheduler.js\";const V=q();let U=class extends(y(O(D(f(L))))){constructor(){super(...arguments),this.type=\"scene-layer-3d\",this.progressiveLoadFactor=1,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!0,this._interactiveEditingSessions=new Map,this._queryEngine=null}get i3slayer(){return this.layer}tryRecycleWith(e,t){return e.url===this.layer.url&&this.i3sOverrides.isEmpty?e.load(t).then((()=>{C(this.layer,e,this.i3sOverrides),this.layer=e,this.i3sOverrides.destroy();const t=this.view.resourceController?.memoryController;this.i3sOverrides=new I({view:this.view,layer:e,memoryController:t}),this.resetHighlights()})):null}get layerPopupEnabled(){return this.layer.popupEnabled}get filter(){return this._get(\"filter\")}set filter(e){this._set(\"filter\",j.checkSupport(e)?e:null)}get viewFilter(){const e=this.filter,t=this.layerFilter;if(i(e)&&i(t))return null;const r=this._get(\"viewFilter\");return i(r)?new j({layerFilter:t,viewFilter:e,layerFieldsIndex:this.layer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),addSqlFilter:(e,t)=>this.addSqlFilter(e,t,this.logError)}):(r.viewFilter=e,r.layerFilter=t,r)}get requiredFields(){return this._fieldsHelper?.requiredFields??[]}get _floorFilterClause(){const e=h(this);return s(e)?u.create(e,this.layer.fieldsIndex):null}get _excludeObjectIdsSorted(){let e=this.layer.excludeObjectIds.toArray();return c()&&this.i3sOverrides.is3DOFL&&this.i3sOverrides.geometryChangedObjectIds.length>0&&(e=e.concat(this.i3sOverrides.geometryChangedObjectIds)),e.length?e.sort(((e,t)=>e-t)):null}get _objectQualitySettings(){return this.view?.qualitySettings?.sceneService?.object}get lodFactor(){return this._objectQualitySettings?.lodFactor??1}get lodCrossfadeinDuration(){return this._objectQualitySettings.lodCrossfadeinDuration??0}get lodCrossfadeoutDuration(){return this._objectQualitySettings.lodCrossfadeoutDuration??0}get lodCrossfadeUncoveredDuration(){return this._objectQualitySettings.lodCrossfadeUncoveredDuration??0}get updatingProgressValue(){return this._controller?.updatingProgress??0}initialize(){this._fieldsHelper=new R({layerView:this}),this.updatingHandles.add((()=>this.layer.rangeInfos),(e=>this._rangeInfosChanged(e)),l),this.updatingHandles.add((()=>this.layer.renderer),(e=>this.updatingHandles.addPromise(this._rendererChange(e))),l);const e=()=>this._filterChange();this.updatingHandles.add((()=>this.parsedDefinitionExpression),e),this.updatingHandles.add((()=>this.filter),e),this.updatingHandles.add((()=>this._floorFilterClause),e),this.updatingHandles.add((()=>this._excludeObjectIdsSorted),e),this.updatingHandles.add((()=>s(this.viewFilter)?this.viewFilter.sortedObjectIds:null),e),this.updatingHandles.add((()=>s(this.viewFilter)?this.viewFilter.parsedWhereClause:null),e),this.updatingHandles.add((()=>[s(this.viewFilter)?this.viewFilter.parsedGeometry:null,s(this.filter)?this.filter.spatialRelationship:null,s(this.layer.filter)?this.layer.filter.spatialRelationship:null]),(()=>this._geometryFilterChange())),this.handles.add(this.layer.on(\"apply-edits\",(e=>this.updatingHandles.addPromise(e.result)))),this.handles.add(this.layer.on(\"edits\",(e=>this._handleEdits(e))))}destroy(){this._fieldsHelper=o(this._fieldsHelper)}_rangeInfosChanged(e){null!=e&&e.length>0&&r.getLogger(this.declaredClass).warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return s(this.filter)?this.filter.createQuery(e):new p(e)}queryExtent(e,t){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),t?.signal)}queryFeatureCount(e,t){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),t?.signal)}queryFeatures(e,t){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),t?.signal).then((e=>{if(!e?.features)return e;const t=this.layer;for(const r of e.features)r.layer=t,r.sourceLayer=t;return e}))}queryObjectIds(e,t){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),t?.signal)}_ensureQueryEngine(){return this._queryEngine||(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=v(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new S({layerView:this,priority:A.FEATURE_QUERY_ENGINE,spatialIndex:new E({featureAdapter:new b({objectIdField:this.layer.objectIdField,attributeStorageInfo:this.layer.attributeStorageInfo??[],getFeatureExtent:e}),forAllFeatures:(e,t)=>this._forAllFeatures(((t,r,i)=>e({id:t,index:r,meta:i})),t,g.ALL_IN_CLIPPING_AREA),getFeatureExtent:e,sourceSpatialReference:x(this.layer),viewSpatialReference:this.view.spatialReference})})}highlight(e){const t=this._highlights;if(e instanceof p){const{set:r,handle:i}=t.acquireSet();return this.queryObjectIds(e).then((e=>t.setFeatureIds(r,e))),i}return super.highlight(e)}createInteractiveEditSession(e){return m(this._attributeEditingContext,e)}_createLayerGraphic(e){const r=new t(null,null,e);return r.layer=this.layer,r.sourceLayer=this.layer,r}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}getFilters(){const e=super.getFilters(),t=this._excludeObjectIdsSorted;return s(t)&&e.push((e=>Q(t,!1,e))),this._floorFilterClause&&this.addSqlFilter(e,this._floorFilterClause,this.logError),this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),s(this.viewFilter)&&this.viewFilter.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}isUpdating(){return super.isUpdating()||this.layerFilterUpdating||s(this.viewFilter)&&this.viewFilter.updating||s(this.i3sOverrides)&&this.i3sOverrides.updating}_ensureQuery(e){return this._addDefinitionExpressionToQuery(i(e)?this.createQuery():p.from(e))}get _attributeEditingContext(){return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:this._getObjectIdField(),forEachNode:e=>this._forAllNodes((t=>s(t)?e(t.node,t.featureIds):null)),attributeStorageInfo:this.i3slayer.attributeStorageInfo??[],i3sOverrides:this.i3sOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(e,t)=>this.setAttributeData(e,t),clearMemCache:()=>this.clearMemCache()}}_handleEdits(e){c()&&_(this._attributeEditingContext,e),F(this._attributeEditingContext,e)}get hasGeometryFilter(){const e=this.viewFilter;return s(e)&&s(e.parsedGeometry)}computeNodeFiltering(e){const t=this.viewFilter;return i(t)||!this.view.spatialReference||t.isMBSGeometryVisible(e,this.view.spatialReference,this._controller.crsIndex)?w.Unmodified:w.Culled}};e([n()],U.prototype,\"i3slayer\",null),e([n(H)],U.prototype,\"updatingProgress\",void 0),e([n({type:d})],U.prototype,\"filter\",null),e([n({readOnly:!0})],U.prototype,\"viewFilter\",null),e([n(V.requiredFields)],U.prototype,\"requiredFields\",null),e([n(V.availableFields)],U.prototype,\"availableFields\",void 0),e([n()],U.prototype,\"_fieldsHelper\",void 0),e([n()],U.prototype,\"_floorFilterClause\",null),e([n()],U.prototype,\"_excludeObjectIdsSorted\",null),e([n()],U.prototype,\"_objectQualitySettings\",null),e([n()],U.prototype,\"lodFactor\",null),e([n()],U.prototype,\"updatingProgressValue\",null),U=e([a(\"esri.views.3d.layers.SceneLayerView3D\")],U);const P=U;export{P as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}