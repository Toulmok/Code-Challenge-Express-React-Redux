{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { id as e } from \"../../kernel.js\";\nimport t from \"../../request.js\";\nimport { isSome as n } from \"../../core/maybe.js\";\nfunction r(e) {\n  const t = e?.type;\n  return \"imagery-tile\" === t || \"tile\" === t || \"open-street-map\" === t || \"vector-tile\" === t || \"web-tile\" === t || \"wmts\" === t;\n}\nfunction i(e) {\n  const t = e?.type;\n  return \"base-tile\" === t || \"tile\" === t || \"elevation\" === t || \"imagery-tile\" === t || \"base-elevation\" === t || \"open-street-map\" === t || \"wcs\" === t || \"web-tile\" === t || \"wmts\" === t || \"vector-tile\" === t;\n}\nfunction s(e) {\n  return null != e && \"type\" in e && \"group\" === e.type;\n}\nconst a = {\n  Point: \"SceneLayer\",\n  \"3DObject\": \"SceneLayer\",\n  IntegratedMesh: \"IntegratedMeshLayer\",\n  PointCloud: \"PointCloudLayer\",\n  Building: \"BuildingSceneLayer\"\n};\nfunction u(e) {\n  const t = e?.type;\n  return \"building-scene\" === t || \"integrated-mesh\" === t || \"point-cloud\" === t || \"scene\" === t;\n}\nfunction c(e) {\n  return \"voxel\" === e?.type;\n}\nfunction o(e) {\n  return \"imagery-tile\" === e?.type;\n}\nfunction l(e) {\n  return null != e && null != e.parent && \"declaredClass\" in e.parent && \"esri.Basemap\" === e.parent.declaredClass && e.parent.baseLayers.includes(e);\n}\nfunction f(e) {\n  return \"feature\" === e?.type && !e.url && \"memory\" === e.source?.type;\n}\nfunction y(e) {\n  return \"feature\" === e?.type && \"feature-layer\" === e.source?.type;\n}\nfunction p(e) {\n  const t = /[:;]/,\n    n = [];\n  let r = !1;\n  if (e && (e.forEach((e, i) => {\n    n.push([i, e]), !r && t.test(e) && (r = !0);\n  }), n.length > 0)) {\n    let e;\n    if (r) {\n      const t = {};\n      n.forEach(e => {\n        t[e[0]] = e[1];\n      }), e = JSON.stringify(t);\n    } else {\n      const t = [];\n      n.forEach(e => {\n        t.push(e[0] + \":\" + e[1]);\n      }), e = t.join(\";\");\n    }\n    return e;\n  }\n  return null;\n}\nfunction g(e) {\n  if (!e) return;\n  const t = [];\n  return e.forEach((e, n) => {\n    t.push('\"' + n + '\":' + JSON.stringify(e));\n  }), t.length ? \"{\" + t.join(\",\") + \"}\" : void 0;\n}\nfunction d(e) {\n  if (e.activeLayer) {\n    const t = e.activeLayer.tileMatrixSet;\n    if (t) return t;\n    const n = e.activeLayer.tileMatrixSets;\n    if (n) return n;\n  }\n  return null;\n}\nasync function b(r, i) {\n  const s = e?.findServerInfo(r);\n  if (null != s?.currentVersion) return s.owningSystemUrl || null;\n  const a = r.toLowerCase().indexOf(\"/rest/services\");\n  if (-1 === a) return null;\n  const u = `${r.substring(0, a)}/rest/info`,\n    c = n(i) ? i.signal : null,\n    {\n      data: o\n    } = await t(u, {\n      query: {\n        f: \"json\"\n      },\n      responseType: \"json\",\n      signal: c\n    });\n  return o?.owningSystemUrl || null;\n}\nfunction m(e) {\n  if (!(\"capabilities\" in e)) return !1;\n  switch (e.type) {\n    case \"csv\":\n    case \"feature\":\n    case \"geojson\":\n    case \"imagery\":\n    case \"knowledge-graph-sublayer\":\n    case \"ogc-feature\":\n    case \"oriented-imagery\":\n    case \"scene\":\n    case \"subtype-group\":\n    case \"subtype-sublayer\":\n    case \"wfs\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction v(e) {\n  return m(e) ? \"effectiveCapabilities\" in e ? e.effectiveCapabilities : e.capabilities : null;\n}\nfunction h(e) {\n  if (!(\"editingEnabled\" in e)) return !1;\n  switch (e.type) {\n    case \"csv\":\n    case \"feature\":\n    case \"geojson\":\n    case \"oriented-imagery\":\n    case \"scene\":\n    case \"subtype-group\":\n    case \"subtype-sublayer\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction w(e) {\n  return !!h(e) && (\"effectiveEditingEnabled\" in e ? e.effectiveEditingEnabled : e.editingEnabled);\n}\nexport { w as getEffectiveEditingEnabled, v as getEffectiveLayerCapabilities, b as getOwningPortalUrl, d as getTileMaxtrixSetFromActiveLayer, l as isBaseLayer, r as isBasemapSupportedLayer, f as isFeatureCollectionLayer, y as isFeatureServiceLayer, s as isGroupLayer, o as isImageryTileLayer, u as isSceneServiceLayer, i as isTiledLayer, c as isVoxelLayer, a as sceneServiceLayerTypeToClassName, p as serializeLayerDefinitions, g as serializeTimeOptions };","map":{"version":3,"names":["id","e","t","isSome","n","r","type","i","s","a","Point","IntegratedMesh","PointCloud","Building","u","c","o","l","parent","declaredClass","baseLayers","includes","f","url","source","y","p","forEach","push","test","length","JSON","stringify","join","g","d","activeLayer","tileMatrixSet","tileMatrixSets","b","findServerInfo","currentVersion","owningSystemUrl","toLowerCase","indexOf","substring","signal","data","query","responseType","m","v","effectiveCapabilities","capabilities","h","w","effectiveEditingEnabled","editingEnabled","getEffectiveEditingEnabled","getEffectiveLayerCapabilities","getOwningPortalUrl","getTileMaxtrixSetFromActiveLayer","isBaseLayer","isBasemapSupportedLayer","isFeatureCollectionLayer","isFeatureServiceLayer","isGroupLayer","isImageryTileLayer","isSceneServiceLayer","isTiledLayer","isVoxelLayer","sceneServiceLayerTypeToClassName","serializeLayerDefinitions","serializeTimeOptions"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/support/layerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{id as e}from\"../../kernel.js\";import t from\"../../request.js\";import{isSome as n}from\"../../core/maybe.js\";function r(e){const t=e?.type;return\"imagery-tile\"===t||\"tile\"===t||\"open-street-map\"===t||\"vector-tile\"===t||\"web-tile\"===t||\"wmts\"===t}function i(e){const t=e?.type;return\"base-tile\"===t||\"tile\"===t||\"elevation\"===t||\"imagery-tile\"===t||\"base-elevation\"===t||\"open-street-map\"===t||\"wcs\"===t||\"web-tile\"===t||\"wmts\"===t||\"vector-tile\"===t}function s(e){return null!=e&&\"type\"in e&&\"group\"===e.type}const a={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};function u(e){const t=e?.type;return\"building-scene\"===t||\"integrated-mesh\"===t||\"point-cloud\"===t||\"scene\"===t}function c(e){return\"voxel\"===e?.type}function o(e){return\"imagery-tile\"===e?.type}function l(e){return null!=e&&null!=e.parent&&\"declaredClass\"in e.parent&&\"esri.Basemap\"===e.parent.declaredClass&&e.parent.baseLayers.includes(e)}function f(e){return\"feature\"===e?.type&&!e.url&&\"memory\"===e.source?.type}function y(e){return\"feature\"===e?.type&&\"feature-layer\"===e.source?.type}function p(e){const t=/[:;]/,n=[];let r=!1;if(e&&(e.forEach(((e,i)=>{n.push([i,e]),!r&&t.test(e)&&(r=!0)})),n.length>0)){let e;if(r){const t={};n.forEach((e=>{t[e[0]]=e[1]})),e=JSON.stringify(t)}else{const t=[];n.forEach((e=>{t.push(e[0]+\":\"+e[1])})),e=t.join(\";\")}return e}return null}function g(e){if(!e)return;const t=[];return e.forEach(((e,n)=>{t.push('\"'+n+'\":'+JSON.stringify(e))})),t.length?\"{\"+t.join(\",\")+\"}\":void 0}function d(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet;if(t)return t;const n=e.activeLayer.tileMatrixSets;if(n)return n}return null}async function b(r,i){const s=e?.findServerInfo(r);if(null!=s?.currentVersion)return s.owningSystemUrl||null;const a=r.toLowerCase().indexOf(\"/rest/services\");if(-1===a)return null;const u=`${r.substring(0,a)}/rest/info`,c=n(i)?i.signal:null,{data:o}=await t(u,{query:{f:\"json\"},responseType:\"json\",signal:c});return o?.owningSystemUrl||null}function m(e){if(!(\"capabilities\"in e))return!1;switch(e.type){case\"csv\":case\"feature\":case\"geojson\":case\"imagery\":case\"knowledge-graph-sublayer\":case\"ogc-feature\":case\"oriented-imagery\":case\"scene\":case\"subtype-group\":case\"subtype-sublayer\":case\"wfs\":return!0;default:return!1}}function v(e){return m(e)?\"effectiveCapabilities\"in e?e.effectiveCapabilities:e.capabilities:null}function h(e){if(!(\"editingEnabled\"in e))return!1;switch(e.type){case\"csv\":case\"feature\":case\"geojson\":case\"oriented-imagery\":case\"scene\":case\"subtype-group\":case\"subtype-sublayer\":return!0;default:return!1}}function w(e){return!!h(e)&&(\"effectiveEditingEnabled\"in e?e.effectiveEditingEnabled:e.editingEnabled)}export{w as getEffectiveEditingEnabled,v as getEffectiveLayerCapabilities,b as getOwningPortalUrl,d as getTileMaxtrixSetFromActiveLayer,l as isBaseLayer,r as isBasemapSupportedLayer,f as isFeatureCollectionLayer,y as isFeatureServiceLayer,s as isGroupLayer,o as isImageryTileLayer,u as isSceneServiceLayer,i as isTiledLayer,c as isVoxelLayer,a as sceneServiceLayerTypeToClassName,p as serializeLayerDefinitions,g as serializeTimeOptions};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}