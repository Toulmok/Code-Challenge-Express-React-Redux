{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { OverlayIndex as e } from \"../../../../terrain/interfaces.js\";\nimport { BackgroundGrid as t } from \"./BackgroundGrid.glsl.js\";\nimport { overlay as r } from \"./Overlay.glsl.js\";\nimport { TileBlendInput as o } from \"./TileBlendInput.js\";\nimport { FloatPassUniform as c } from \"../../shaderModules/FloatPassUniform.js\";\nimport { NoParameters as s, glsl as n } from \"../../shaderModules/interfaces.js\";\nimport { Texture2DPassUniform as a } from \"../../shaderModules/Texture2DPassUniform.js\";\nimport { Uniform as d } from \"../../shaderModules/Uniform.js\";\nclass i extends s {\n  constructor() {\n    super(...arguments), this.overlayOpacity = 1;\n  }\n}\nfunction l(t, o) {\n  t.vertex.uniforms.add([new v(\"overlayTexOffset\"), new v(\"overlayTexScale\")]), t.fragment.uniforms.add([new c(\"overlayOpacity\", e => e.overlayOpacity), new a(\"ovColorTex\", (t, r) => 0 === r.overlays.length ? null : r.overlays[e.INNER].getColorTexture(t.overlaySource))]), r(t, o);\n}\nfunction u(e, r) {\n  const {\n    vertex: c,\n    fragment: s,\n    varyings: a\n  } = e;\n  a.add(\"vtc\", \"vec2\"), c.uniforms.add(new v(\"texOffsetAndScale\")), s.uniforms.add(new m(\"tex\")), s.uniforms.add(new x(\"textureOpacities\"));\n  const d = r.textureFadingEnabled && !r.renderOccluded;\n  d && (c.uniforms.add(new v(\"nextTexOffsetAndScale\")), a.add(\"nvtc\", \"vec2\"), s.uniforms.add(new m(\"texNext\")), s.uniforms.add(new x(\"nextTexOpacities\")), s.uniforms.add(new f(\"fadeFactor\")));\n  const i = r.tileBlendInput === o.ColorComposite,\n    l = r.tileBlendInput === o.GridComposite;\n  l && s.include(t), i && s.uniforms.add(new x(\"backgroundColor\")), c.code.add(n`\n  void forwardTextureCoordinatesWithTransform(in vec2 uv) {\n    vtc = uv * texOffsetAndScale.zw + texOffsetAndScale.xy;\n    ${d ? n`nvtc = uv * nextTexOffsetAndScale.zw + nextTexOffsetAndScale.xy;` : n``}\n  }`), s.code.add(n`\n    vec4 getColor(vec4 color, vec2 uv, vec3 opacities) {\n      ${l || i ? n`\n              if (opacities.y <= 0.0) {\n                return color * opacities.z * opacities.x;\n              }\n              vec4 bg = vec4(${i ? n`backgroundColor` : n`gridColor(uv)`} * opacities.y, opacities.y);\n              vec4 layer = color * opacities.z;\n              return (bg * (1.0 - layer.a) + layer) * opacities.x;` : n`return color;`}\n    }`), d ? s.code.add(n`vec4 getTileColor() {\nvec4 color = getColor(texture2D(tex, vtc), vtc, textureOpacities);\nif (fadeFactor >= 1.0) {\nreturn color;\n}\nvec4 nextColor = getColor(texture2D(texNext, nvtc), nvtc, nextTexOpacities);\nreturn mix(nextColor, color, fadeFactor);\n}`) : s.code.add(n`vec4 getTileColor() {\nreturn getColor(texture2D(tex, vtc), vtc, textureOpacities);\n}`);\n}\nclass f extends d {\n  constructor(e) {\n    super(e, \"float\");\n  }\n}\nclass x extends d {\n  constructor(e) {\n    super(e, \"vec3\");\n  }\n}\nclass v extends d {\n  constructor(e) {\n    super(e, \"vec4\");\n  }\n}\nclass m extends d {\n  constructor(e) {\n    super(e, \"sampler2D\");\n  }\n}\nexport { x as Float3Uniform, l as OverlayTerrain, i as OverlayTerrainPassParameters, u as TerrainTexture, m as Texture2DUniform };","map":{"version":3,"names":["OverlayIndex","e","BackgroundGrid","t","overlay","r","TileBlendInput","o","FloatPassUniform","c","NoParameters","s","glsl","n","Texture2DPassUniform","a","Uniform","d","i","constructor","arguments","overlayOpacity","l","vertex","uniforms","add","v","fragment","overlays","length","INNER","getColorTexture","overlaySource","u","varyings","m","x","textureFadingEnabled","renderOccluded","f","tileBlendInput","ColorComposite","GridComposite","include","code","Float3Uniform","OverlayTerrain","OverlayTerrainPassParameters","TerrainTexture","Texture2DUniform"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/TerrainTexture.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{OverlayIndex as e}from\"../../../../terrain/interfaces.js\";import{BackgroundGrid as t}from\"./BackgroundGrid.glsl.js\";import{overlay as r}from\"./Overlay.glsl.js\";import{TileBlendInput as o}from\"./TileBlendInput.js\";import{FloatPassUniform as c}from\"../../shaderModules/FloatPassUniform.js\";import{NoParameters as s,glsl as n}from\"../../shaderModules/interfaces.js\";import{Texture2DPassUniform as a}from\"../../shaderModules/Texture2DPassUniform.js\";import{Uniform as d}from\"../../shaderModules/Uniform.js\";class i extends s{constructor(){super(...arguments),this.overlayOpacity=1}}function l(t,o){t.vertex.uniforms.add([new v(\"overlayTexOffset\"),new v(\"overlayTexScale\")]),t.fragment.uniforms.add([new c(\"overlayOpacity\",(e=>e.overlayOpacity)),new a(\"ovColorTex\",((t,r)=>0===r.overlays.length?null:r.overlays[e.INNER].getColorTexture(t.overlaySource)))]),r(t,o)}function u(e,r){const{vertex:c,fragment:s,varyings:a}=e;a.add(\"vtc\",\"vec2\"),c.uniforms.add(new v(\"texOffsetAndScale\")),s.uniforms.add(new m(\"tex\")),s.uniforms.add(new x(\"textureOpacities\"));const d=r.textureFadingEnabled&&!r.renderOccluded;d&&(c.uniforms.add(new v(\"nextTexOffsetAndScale\")),a.add(\"nvtc\",\"vec2\"),s.uniforms.add(new m(\"texNext\")),s.uniforms.add(new x(\"nextTexOpacities\")),s.uniforms.add(new f(\"fadeFactor\")));const i=r.tileBlendInput===o.ColorComposite,l=r.tileBlendInput===o.GridComposite;l&&s.include(t),i&&s.uniforms.add(new x(\"backgroundColor\")),c.code.add(n`\n  void forwardTextureCoordinatesWithTransform(in vec2 uv) {\n    vtc = uv * texOffsetAndScale.zw + texOffsetAndScale.xy;\n    ${d?n`nvtc = uv * nextTexOffsetAndScale.zw + nextTexOffsetAndScale.xy;`:n``}\n  }`),s.code.add(n`\n    vec4 getColor(vec4 color, vec2 uv, vec3 opacities) {\n      ${l||i?n`\n              if (opacities.y <= 0.0) {\n                return color * opacities.z * opacities.x;\n              }\n              vec4 bg = vec4(${i?n`backgroundColor`:n`gridColor(uv)`} * opacities.y, opacities.y);\n              vec4 layer = color * opacities.z;\n              return (bg * (1.0 - layer.a) + layer) * opacities.x;`:n`return color;`}\n    }`),d?s.code.add(n`vec4 getTileColor() {\nvec4 color = getColor(texture2D(tex, vtc), vtc, textureOpacities);\nif (fadeFactor >= 1.0) {\nreturn color;\n}\nvec4 nextColor = getColor(texture2D(texNext, nvtc), nvtc, nextTexOpacities);\nreturn mix(nextColor, color, fadeFactor);\n}`):s.code.add(n`vec4 getTileColor() {\nreturn getColor(texture2D(tex, vtc), vtc, textureOpacities);\n}`)}class f extends d{constructor(e){super(e,\"float\")}}class x extends d{constructor(e){super(e,\"vec3\")}}class v extends d{constructor(e){super(e,\"vec4\")}}class m extends d{constructor(e){super(e,\"sampler2D\")}}export{x as Float3Uniform,l as OverlayTerrain,i as OverlayTerrainPassParameters,u as TerrainTexture,m as Texture2DUniform};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}