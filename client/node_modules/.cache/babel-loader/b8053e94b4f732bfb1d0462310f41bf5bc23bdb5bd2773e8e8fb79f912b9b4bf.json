{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isNone as e, isSome as t } from \"../../core/maybe.js\";\nimport { hasRunningElapsedTimer as r } from \"./capabilities/DisjointTimerQuery.js\";\nfunction s(t, r) {\n  const s = t.capabilities.disjointTimerQuery;\n  return e(s) ? null : new i(s, r);\n}\nclass i {\n  constructor(e, t) {\n    this._timer = e, this._queryPool = new Array(), this._queryResults = new Map(), this._currentQuery = null, t.forEach(e => {\n      const t = this._timer.createQuery(),\n        r = this._timer.createQuery();\n      this._queryPool.push(t, r), this._queryResults.set(e, null);\n    });\n  }\n  start() {\n    r || (this._currentQuery = this._queryPool.pop(), e(this._currentQuery) || (this._timer.disjoint(), this._timer.beginTimeElapsed(this._currentQuery)));\n  }\n  stop(t) {\n    if (this._timer.disjoint() || e(this._currentQuery) || !this._queryResults.has(t)) return this.abort(), null;\n    this._timer.endTimeElapsed();\n    const r = this._queryResults.get(t);\n    if (e(r)) return this._queryResults.set(t, this._currentQuery), this._currentQuery = null, null;\n    if (!this._timer.resultAvailable(r)) return this._queryPool.unshift(this._currentQuery), this._currentQuery = null, null;\n    const s = this._timer.getResult(r) / 1e6;\n    return this._queryPool.unshift(r), this._queryResults.set(t, this._currentQuery), this._currentQuery = null, s;\n  }\n  abort() {\n    t(this._currentQuery) && (this._timer.deleteQuery(this._currentQuery), this._queryPool.unshift(this._timer.createQuery()), this._currentQuery = null);\n  }\n  dispose() {\n    t(this._currentQuery) && this._timer.deleteQuery(this._currentQuery), this._queryPool.forEach(e => {\n      this._timer.deleteQuery(e);\n    }), this._queryResults.forEach(t => {\n      e(t) || this._timer.deleteQuery(t);\n    });\n  }\n}\nexport { s as createElapsedTimerPool };","map":{"version":3,"names":["isNone","e","isSome","t","hasRunningElapsedTimer","r","s","capabilities","disjointTimerQuery","i","constructor","_timer","_queryPool","Array","_queryResults","Map","_currentQuery","forEach","createQuery","push","set","start","pop","disjoint","beginTimeElapsed","stop","has","abort","endTimeElapsed","get","resultAvailable","unshift","getResult","deleteQuery","dispose","createElapsedTimerPool"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/webgl/TimerPool.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../core/maybe.js\";import{hasRunningElapsedTimer as r}from\"./capabilities/DisjointTimerQuery.js\";function s(t,r){const s=t.capabilities.disjointTimerQuery;return e(s)?null:new i(s,r)}class i{constructor(e,t){this._timer=e,this._queryPool=new Array,this._queryResults=new Map,this._currentQuery=null,t.forEach((e=>{const t=this._timer.createQuery(),r=this._timer.createQuery();this._queryPool.push(t,r),this._queryResults.set(e,null)}))}start(){r||(this._currentQuery=this._queryPool.pop(),e(this._currentQuery)||(this._timer.disjoint(),this._timer.beginTimeElapsed(this._currentQuery)))}stop(t){if(this._timer.disjoint()||e(this._currentQuery)||!this._queryResults.has(t))return this.abort(),null;this._timer.endTimeElapsed();const r=this._queryResults.get(t);if(e(r))return this._queryResults.set(t,this._currentQuery),this._currentQuery=null,null;if(!this._timer.resultAvailable(r))return this._queryPool.unshift(this._currentQuery),this._currentQuery=null,null;const s=this._timer.getResult(r)/1e6;return this._queryPool.unshift(r),this._queryResults.set(t,this._currentQuery),this._currentQuery=null,s}abort(){t(this._currentQuery)&&(this._timer.deleteQuery(this._currentQuery),this._queryPool.unshift(this._timer.createQuery()),this._currentQuery=null)}dispose(){t(this._currentQuery)&&this._timer.deleteQuery(this._currentQuery),this._queryPool.forEach((e=>{this._timer.deleteQuery(e)})),this._queryResults.forEach((t=>{e(t)||this._timer.deleteQuery(t)}))}}export{s as createElapsedTimerPool};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,QAAK,qBAAqB;AAAC,SAAOC,sBAAsB,IAAIC,CAAC,QAAK,sCAAsC;AAAC,SAASC,CAACA,CAACH,CAAC,EAACE,CAAC,EAAC;EAAC,MAAMC,CAAC,GAACH,CAAC,CAACI,YAAY,CAACC,kBAAkB;EAAC,OAAOP,CAAC,CAACK,CAAC,CAAC,GAAC,IAAI,GAAC,IAAIG,CAAC,CAACH,CAAC,EAACD,CAAC,CAAC;AAAA;AAAC,MAAMI,CAAC;EAACC,WAAWA,CAACT,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACQ,MAAM,GAACV,CAAC,EAAC,IAAI,CAACW,UAAU,GAAC,IAAIC,KAAK,IAAC,IAAI,CAACC,aAAa,GAAC,IAAIC,GAAG,IAAC,IAAI,CAACC,aAAa,GAAC,IAAI,EAACb,CAAC,CAACc,OAAO,CAAEhB,CAAC,IAAE;MAAC,MAAME,CAAC,GAAC,IAAI,CAACQ,MAAM,CAACO,WAAW,EAAE;QAACb,CAAC,GAAC,IAAI,CAACM,MAAM,CAACO,WAAW,EAAE;MAAC,IAAI,CAACN,UAAU,CAACO,IAAI,CAAChB,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACS,aAAa,CAACM,GAAG,CAACnB,CAAC,EAAC,IAAI,CAAC;IAAA,CAAC,CAAE;EAAA;EAACoB,KAAKA,CAAA,EAAE;IAAChB,CAAC,KAAG,IAAI,CAACW,aAAa,GAAC,IAAI,CAACJ,UAAU,CAACU,GAAG,EAAE,EAACrB,CAAC,CAAC,IAAI,CAACe,aAAa,CAAC,KAAG,IAAI,CAACL,MAAM,CAACY,QAAQ,EAAE,EAAC,IAAI,CAACZ,MAAM,CAACa,gBAAgB,CAAC,IAAI,CAACR,aAAa,CAAC,CAAC,CAAC;EAAA;EAACS,IAAIA,CAACtB,CAAC,EAAC;IAAC,IAAG,IAAI,CAACQ,MAAM,CAACY,QAAQ,EAAE,IAAEtB,CAAC,CAAC,IAAI,CAACe,aAAa,CAAC,IAAE,CAAC,IAAI,CAACF,aAAa,CAACY,GAAG,CAACvB,CAAC,CAAC,EAAC,OAAO,IAAI,CAACwB,KAAK,EAAE,EAAC,IAAI;IAAC,IAAI,CAAChB,MAAM,CAACiB,cAAc,EAAE;IAAC,MAAMvB,CAAC,GAAC,IAAI,CAACS,aAAa,CAACe,GAAG,CAAC1B,CAAC,CAAC;IAAC,IAAGF,CAAC,CAACI,CAAC,CAAC,EAAC,OAAO,IAAI,CAACS,aAAa,CAACM,GAAG,CAACjB,CAAC,EAAC,IAAI,CAACa,aAAa,CAAC,EAAC,IAAI,CAACA,aAAa,GAAC,IAAI,EAAC,IAAI;IAAC,IAAG,CAAC,IAAI,CAACL,MAAM,CAACmB,eAAe,CAACzB,CAAC,CAAC,EAAC,OAAO,IAAI,CAACO,UAAU,CAACmB,OAAO,CAAC,IAAI,CAACf,aAAa,CAAC,EAAC,IAAI,CAACA,aAAa,GAAC,IAAI,EAAC,IAAI;IAAC,MAAMV,CAAC,GAAC,IAAI,CAACK,MAAM,CAACqB,SAAS,CAAC3B,CAAC,CAAC,GAAC,GAAG;IAAC,OAAO,IAAI,CAACO,UAAU,CAACmB,OAAO,CAAC1B,CAAC,CAAC,EAAC,IAAI,CAACS,aAAa,CAACM,GAAG,CAACjB,CAAC,EAAC,IAAI,CAACa,aAAa,CAAC,EAAC,IAAI,CAACA,aAAa,GAAC,IAAI,EAACV,CAAC;EAAA;EAACqB,KAAKA,CAAA,EAAE;IAACxB,CAAC,CAAC,IAAI,CAACa,aAAa,CAAC,KAAG,IAAI,CAACL,MAAM,CAACsB,WAAW,CAAC,IAAI,CAACjB,aAAa,CAAC,EAAC,IAAI,CAACJ,UAAU,CAACmB,OAAO,CAAC,IAAI,CAACpB,MAAM,CAACO,WAAW,EAAE,CAAC,EAAC,IAAI,CAACF,aAAa,GAAC,IAAI,CAAC;EAAA;EAACkB,OAAOA,CAAA,EAAE;IAAC/B,CAAC,CAAC,IAAI,CAACa,aAAa,CAAC,IAAE,IAAI,CAACL,MAAM,CAACsB,WAAW,CAAC,IAAI,CAACjB,aAAa,CAAC,EAAC,IAAI,CAACJ,UAAU,CAACK,OAAO,CAAEhB,CAAC,IAAE;MAAC,IAAI,CAACU,MAAM,CAACsB,WAAW,CAAChC,CAAC,CAAC;IAAA,CAAC,CAAE,EAAC,IAAI,CAACa,aAAa,CAACG,OAAO,CAAEd,CAAC,IAAE;MAACF,CAAC,CAACE,CAAC,CAAC,IAAE,IAAI,CAACQ,MAAM,CAACsB,WAAW,CAAC9B,CAAC,CAAC;IAAA,CAAC,CAAE;EAAA;AAAC;AAAC,SAAOG,CAAC,IAAI6B,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}