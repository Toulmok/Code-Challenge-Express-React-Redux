{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../core/maybe.js\";\nimport { O as r } from \"./vec2f64.js\";\nimport { ShaderOutput as o } from \"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";\nimport { SliceDraw as i } from \"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";\nimport { Transform as a } from \"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";\nimport { multipassTerrainTest as t } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";\nimport { defaultMaskAlphaCutoff as s } from \"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";\nimport { ColorConversion as d } from \"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";\nimport { addProjViewLocalOrigin as l } from \"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";\nimport { Float2PassUniform as n } from \"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";\nimport { FloatPassUniform as g } from \"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";\nimport { glsl as p } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { ShaderBuilder as c } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { Texture2DPassUniform as u } from \"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";\nimport { TransparencyPassType as m } from \"../views/3d/webgl-engine/lib/TransparencyPassType.js\";\nimport { VertexAttribute as v } from \"../views/3d/webgl-engine/lib/VertexAttribute.js\";\nfunction f(f) {\n  const w = new c(),\n    {\n      vertex: h,\n      fragment: b\n    } = w;\n  return l(h, f), w.include(a, f), w.attributes.add(v.POSITION, \"vec3\"), w.attributes.add(v.UV0, \"vec2\"), w.varyings.add(\"vpos\", \"vec3\"), f.hasMultipassTerrain && w.varyings.add(\"depth\", \"float\"), h.uniforms.add(new n(\"textureCoordinateScaleFactor\", o => e(o.texture) && e(o.texture.descriptor.textureCoordinateScaleFactor) ? o.texture.descriptor.textureCoordinateScaleFactor : r)), h.code.add(p`\n    void main(void) {\n      vpos = position;\n      ${f.hasMultipassTerrain ? \"depth = (view * vec4(vpos, 1.0)).z;\" : \"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `), w.include(i, f), w.include(t, f), b.uniforms.add([new u(\"tex\", e => e.texture), new g(\"opacity\", e => e.opacity)]), w.varyings.add(\"vTexCoord\", \"vec2\"), f.output === o.Alpha ? b.code.add(p`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain ? \"terrainDepthTest(gl_FragCoord, depth);\" : \"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${p.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `) : (b.include(d), b.code.add(p`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain ? \"terrainDepthTest(gl_FragCoord, depth);\" : \"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${p.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${f.transparencyPassType === m.Color ? \"gl_FragColor = premultiplyAlpha(gl_FragColor);\" : \"\"}\n    }\n    `)), w;\n}\nconst w = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  build: f\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { w as I, f as b };","map":{"version":3,"names":["isSome","e","O","r","ShaderOutput","o","SliceDraw","i","Transform","a","multipassTerrainTest","t","defaultMaskAlphaCutoff","s","ColorConversion","d","addProjViewLocalOrigin","l","Float2PassUniform","n","FloatPassUniform","g","glsl","p","ShaderBuilder","c","Texture2DPassUniform","u","TransparencyPassType","m","VertexAttribute","v","f","w","vertex","h","fragment","b","include","attributes","add","POSITION","UV0","varyings","hasMultipassTerrain","uniforms","texture","descriptor","textureCoordinateScaleFactor","code","opacity","output","Alpha","float","transparencyPassType","Color","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","I"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../core/maybe.js\";import{O as r}from\"./vec2f64.js\";import{ShaderOutput as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as t}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{FloatPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as p}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as c}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as m}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as v}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function f(f){const w=new c,{vertex:h,fragment:b}=w;return l(h,f),w.include(a,f),w.attributes.add(v.POSITION,\"vec3\"),w.attributes.add(v.UV0,\"vec2\"),w.varyings.add(\"vpos\",\"vec3\"),f.hasMultipassTerrain&&w.varyings.add(\"depth\",\"float\"),h.uniforms.add(new n(\"textureCoordinateScaleFactor\",(o=>e(o.texture)&&e(o.texture.descriptor.textureCoordinateScaleFactor)?o.texture.descriptor.textureCoordinateScaleFactor:r))),h.code.add(p`\n    void main(void) {\n      vpos = position;\n      ${f.hasMultipassTerrain?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `),w.include(i,f),w.include(t,f),b.uniforms.add([new u(\"tex\",(e=>e.texture)),new g(\"opacity\",(e=>e.opacity))]),w.varyings.add(\"vTexCoord\",\"vec2\"),f.output===o.Alpha?b.code.add(p`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${p.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `):(b.include(d),b.code.add(p`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${p.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${f.transparencyPassType===m.Color?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n    `)),w}const w=Object.freeze(Object.defineProperty({__proto__:null,build:f},Symbol.toStringTag,{value:\"Module\"}));export{w as I,f as b};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}