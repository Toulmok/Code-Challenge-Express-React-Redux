{"ast":null,"code":"import _regeneratorRuntime from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../request.js\";\nimport i from \"../../core/Accessor.js\";\nimport { ByteSizeUnit as r } from \"../../core/byteSizeEstimations.js\";\nimport l from \"../../core/Error.js\";\nimport { HandleOwnerMixin as s } from \"../../core/HandleOwner.js\";\nimport a from \"../../core/Logger.js\";\nimport o from \"../../core/LRUCache.js\";\nimport n from \"../../core/PooledArray.js\";\nimport { onAbort as c, isAbortError as h, isAborted as p, createAbortError as m } from \"../../core/promiseUtils.js\";\nimport { watch as f, syncAndInitial as u } from \"../../core/reactiveUtils.js\";\nimport { waitTicks as v } from \"../../core/scheduling.js\";\nimport { objectToQuery as y } from \"../../core/urlUtils.js\";\nimport { property as b } from \"../../core/accessorSupport/decorators/property.js\";\nimport { cast as d } from \"../../core/accessorSupport/decorators/cast.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as _ } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { TileKey as g } from \"./TileKey.js\";\nimport { tilemapDefinitionId as w, Tilemap as T } from \"./Tilemap.js\";\nvar _j;\nvar z = _j = /*#__PURE__*/function (_s) {\n  _inherits(j, _s);\n  var _super = _createSuper(j);\n  function j(e) {\n    var _this;\n    _classCallCheck(this, j);\n    _this = _super.call(this, e), _this._pendingTilemapRequests = {}, _this._availableLevels = {}, _this.levels = 5, _this.cacheByteSize = 2 * r.MEGABYTES, _this.request = t, _this._prefetchingEnabled = !0;\n    return _this;\n  }\n  _createClass(j, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n      this._tilemapCache = new o(this.cacheByteSize), this.addHandles([f(function () {\n        var e = _this2.layer;\n        return [e === null || e === void 0 ? void 0 : e.parsedUrl, e === null || e === void 0 ? void 0 : e.tileServers, e === null || e === void 0 ? void 0 : e.apiKey, e === null || e === void 0 ? void 0 : e.customParameters];\n      }, function () {\n        return _this2._initializeTilemapDefinition();\n      }), f(function () {\n        var _this2$layer, _this2$layer$tileInfo;\n        return (_this2$layer = _this2.layer) === null || _this2$layer === void 0 ? void 0 : (_this2$layer$tileInfo = _this2$layer.tileInfo) === null || _this2$layer$tileInfo === void 0 ? void 0 : _this2$layer$tileInfo.lods;\n      }, function (e) {\n        return _this2._initializeAvailableLevels(e);\n      }, u)]), this._initializeTilemapDefinition();\n    }\n  }, {\n    key: \"castLevels\",\n    value: function castLevels(e) {\n      return e <= 2 ? (a.getLogger(this.declaredClass).error(\"Minimum levels for Tilemap is 3, but got \", e), 3) : e;\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return 1 << this.levels;\n    }\n  }, {\n    key: \"fetchTilemap\",\n    value: function fetchTilemap(e, t, i, r) {\n      var _this3 = this;\n      if (!this._availableLevels[e]) return Promise.reject(new l(\"tilemap-cache:level-unavailable\", \"Level \".concat(e, \" is unavailable in the service\")));\n      var s = this._tmpTilemapDefinition,\n        a = this._tilemapFromCache(e, t, i, s);\n      if (a) return Promise.resolve(a);\n      var o = r && r.signal;\n      return r = _objectSpread(_objectSpread({}, r), {}, {\n        signal: null\n      }), new Promise(function (e, t) {\n        c(o, function () {\n          return t(m());\n        });\n        var i = w(s);\n        var l = _this3._pendingTilemapRequests[i];\n        if (!l) {\n          l = T.fromDefinition(s, r).then(function (e) {\n            return _this3._tilemapCache.put(i, e, e.byteSize), e;\n          });\n          var _e = function _e() {\n            return delete _this3._pendingTilemapRequests[i];\n          };\n          _this3._pendingTilemapRequests[i] = l, l.then(_e, _e);\n        }\n        l.then(e, t);\n      });\n    }\n  }, {\n    key: \"getAvailability\",\n    value: function getAvailability(e, t, i) {\n      if (!this._availableLevels[e]) return \"unavailable\";\n      var r = this._tilemapFromCache(e, t, i, this._tmpTilemapDefinition);\n      return r ? r.getAvailability(t, i) : \"unknown\";\n    }\n  }, {\n    key: \"fetchAvailability\",\n    value: function fetchAvailability(e, t, i, r) {\n      return this._availableLevels[e] ? this.fetchTilemap(e, t, i, r).catch(function (e) {\n        return e;\n      }).then(function (r) {\n        if (r instanceof T) {\n          var _s2 = r.getAvailability(t, i);\n          if (\"unavailable\" === _s2) throw new l(\"tile-map:tile-unavailable\", \"Tile is not available\", {\n            level: e,\n            row: t,\n            col: i\n          });\n          return _s2;\n        }\n        if (h(r)) throw r;\n        return \"unknown\";\n      }) : Promise.reject(new l(\"tilemap-cache:level-unavailable\", \"Level \".concat(e, \" is unavailable in the service\")));\n    }\n  }, {\n    key: \"fetchAvailabilityUpsample\",\n    value: function fetchAvailabilityUpsample(e, t, i, r, l) {\n      var _this4 = this;\n      r.level = e, r.row = t, r.col = i;\n      var s = this.layer.tileInfo;\n      s.updateTileInfo(r);\n      var a = this.fetchAvailability(e, t, i, l).catch(function (e) {\n        if (h(e)) throw e;\n        if (s.upsampleTile(r)) return _this4.fetchAvailabilityUpsample(r.level, r.row, r.col, r);\n        throw e;\n      });\n      return this._fetchAvailabilityUpsamplePrefetch(r.id, e, t, i, l, a), a;\n    }\n  }, {\n    key: \"_fetchAvailabilityUpsamplePrefetch\",\n    value: function () {\n      var _fetchAvailabilityUpsamplePrefetch2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e, t, i, r, l, s) {\n        var _this5 = this;\n        var a, o, n, c, h, m, f, _loop, _p;\n        return _regeneratorRuntime().wrap(function _callee$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(!this._prefetchingEnabled || null == e)) {\n                _context2.next = 2;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 2:\n              a = \"prefetch-\".concat(e);\n              if (!this.handles.has(a)) {\n                _context2.next = 5;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 5:\n              o = new AbortController();\n              s.then(function () {\n                return o.abort();\n              }, function () {\n                return o.abort();\n              });\n              n = !1;\n              c = {\n                remove: function remove() {\n                  n || (n = !0, o.abort());\n                }\n              };\n              this.handles.add(c, a);\n              _context2.next = 12;\n              return v(10, o.signal).catch(function () {});\n            case 12:\n              n || (n = !0, this.handles.remove(a));\n              if (!p(o)) {\n                _context2.next = 15;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 15:\n              h = new g(e, t, i, r), m = _objectSpread(_objectSpread({}, l), {}, {\n                signal: o.signal\n              }), f = this.layer.tileInfo;\n              _loop = /*#__PURE__*/_regeneratorRuntime().mark(function _loop() {\n                var e, t;\n                return _regeneratorRuntime().wrap(function _loop$(_context) {\n                  while (1) switch (_context.prev = _context.next) {\n                    case 0:\n                      e = _this5.fetchAvailability(h.level, h.row, h.col, m);\n                      _j._prefetches.push(e);\n                      t = function t() {\n                        _j._prefetches.removeUnordered(e);\n                      };\n                      e.then(t, t);\n                    case 4:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }, _loop);\n              });\n              _p = 0;\n            case 18:\n              if (!(_j._prefetches.length < _j._maxPrefetch && f.upsampleTile(h))) {\n                _context2.next = 23;\n                break;\n              }\n              return _context2.delegateYield(_loop(), \"t0\", 20);\n            case 20:\n              ++_p;\n              _context2.next = 18;\n              break;\n            case 23:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee, this);\n      }));\n      function _fetchAvailabilityUpsamplePrefetch(_x, _x2, _x3, _x4, _x5, _x6) {\n        return _fetchAvailabilityUpsamplePrefetch2.apply(this, arguments);\n      }\n      return _fetchAvailabilityUpsamplePrefetch;\n    }()\n  }, {\n    key: \"_initializeTilemapDefinition\",\n    value: function _initializeTilemapDefinition() {\n      var _e$query;\n      if (!this.layer.parsedUrl) return;\n      var _this$layer = this.layer,\n        e = _this$layer.parsedUrl,\n        t = _this$layer.apiKey,\n        i = _this$layer.customParameters;\n      this._tilemapCache.clear(), this._tmpTilemapDefinition = {\n        service: {\n          url: e.path,\n          query: y(_objectSpread(_objectSpread(_objectSpread({}, e.query), i), {}, {\n            token: t !== null && t !== void 0 ? t : (_e$query = e.query) === null || _e$query === void 0 ? void 0 : _e$query.token\n          })),\n          tileServers: this.layer.tileServers,\n          request: this.request,\n          type: this.layer.type\n        },\n        width: this.size,\n        height: this.size,\n        level: 0,\n        row: 0,\n        col: 0\n      };\n    }\n  }, {\n    key: \"_tilemapFromCache\",\n    value: function _tilemapFromCache(e, t, i, r) {\n      r.level = e, r.row = t - t % this.size, r.col = i - i % this.size;\n      var l = w(r);\n      return this._tilemapCache.get(l);\n    }\n  }, {\n    key: \"_initializeAvailableLevels\",\n    value: function _initializeAvailableLevels(e) {\n      var _this6 = this;\n      this._availableLevels = {}, e && e.forEach(function (e) {\n        return _this6._availableLevels[e.level] = !0;\n      });\n    }\n  }, {\n    key: \"test\",\n    get: function get() {\n      var e = this;\n      return {\n        get prefetchingEnabled() {\n          return e._prefetchingEnabled;\n        },\n        set prefetchingEnabled(t) {\n          e._prefetchingEnabled = t;\n        },\n        hasTilemap: function hasTilemap(t, i, r) {\n          return !!e._tilemapFromCache(t, i, r, e._tmpTilemapDefinition);\n        }\n      };\n    }\n  }]);\n  return j;\n}(s(i));\nz._maxPrefetch = 4, z._prefetches = new n({\n  initialSize: _j._maxPrefetch\n}), e([b({\n  constructOnly: !0,\n  type: Number\n})], z.prototype, \"levels\", void 0), e([d(\"levels\")], z.prototype, \"castLevels\", null), e([b({\n  readOnly: !0,\n  type: Number\n})], z.prototype, \"size\", null), e([b({\n  constructOnly: !0,\n  type: Number\n})], z.prototype, \"cacheByteSize\", void 0), e([b({\n  constructOnly: !0\n})], z.prototype, \"layer\", void 0), e([b({\n  constructOnly: !0\n})], z.prototype, \"request\", void 0), z = _j = e([_(\"esri.layers.support.TilemapCache\")], z);\nexport { z as TilemapCache };","map":{"version":3,"names":["_","e","t","i","ByteSizeUnit","r","l","HandleOwnerMixin","s","a","o","n","onAbort","c","isAbortError","h","isAborted","p","createAbortError","m","watch","f","syncAndInitial","u","waitTicks","v","objectToQuery","y","property","b","cast","d","subclass","TileKey","g","tilemapDefinitionId","w","Tilemap","T","j","z","_s","_inherits","_super","_createSuper","_this","_classCallCheck","call","_pendingTilemapRequests","_availableLevels","levels","cacheByteSize","MEGABYTES","request","_prefetchingEnabled","_createClass","key","value","initialize","_this2","_tilemapCache","addHandles","layer","parsedUrl","tileServers","apiKey","customParameters","_initializeTilemapDefinition","_this2$layer","_this2$layer$tileInfo","tileInfo","lods","_initializeAvailableLevels","castLevels","getLogger","declaredClass","error","get","fetchTilemap","_this3","Promise","reject","concat","_tmpTilemapDefinition","_tilemapFromCache","resolve","signal","_objectSpread","fromDefinition","then","put","byteSize","getAvailability","fetchAvailability","catch","level","row","col","fetchAvailabilityUpsample","_this4","updateTileInfo","upsampleTile","_fetchAvailabilityUpsamplePrefetch","id","_fetchAvailabilityUpsamplePrefetch2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this5","_loop","_p","wrap","_callee$","_context2","prev","next","abrupt","handles","has","AbortController","abort","remove","add","_loop$","_context","_prefetches","push","removeUnordered","stop","length","_maxPrefetch","delegateYield","_x","_x2","_x3","_x4","_x5","_x6","apply","arguments","_e$query","_this$layer","clear","service","url","path","query","token","type","width","size","height","_this6","forEach","prefetchingEnabled","hasTilemap","initialSize","constructOnly","Number","prototype","readOnly","TilemapCache"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/support/TilemapCache.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import{ByteSizeUnit as r}from\"../../core/byteSizeEstimations.js\";import l from\"../../core/Error.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import a from\"../../core/Logger.js\";import o from\"../../core/LRUCache.js\";import n from\"../../core/PooledArray.js\";import{onAbort as c,isAbortError as h,isAborted as p,createAbortError as m}from\"../../core/promiseUtils.js\";import{watch as f,syncAndInitial as u}from\"../../core/reactiveUtils.js\";import{waitTicks as v}from\"../../core/scheduling.js\";import{objectToQuery as y}from\"../../core/urlUtils.js\";import{property as b}from\"../../core/accessorSupport/decorators/property.js\";import{cast as d}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/arrayUtils.js\";import{subclass as _}from\"../../core/accessorSupport/decorators/subclass.js\";import{TileKey as g}from\"./TileKey.js\";import{tilemapDefinitionId as w,Tilemap as T}from\"./Tilemap.js\";var j;let z=j=class extends(s(i)){constructor(e){super(e),this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2*r.MEGABYTES,this.request=t,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new o(this.cacheByteSize),this.addHandles([f((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition())),f((()=>this.layer?.tileInfo?.lods),(e=>this._initializeAvailableLevels(e)),u)]),this._initializeTilemapDefinition()}castLevels(e){return e<=2?(a.getLogger(this.declaredClass).error(\"Minimum levels for Tilemap is 3, but got \",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,i,r){if(!this._availableLevels[e])return Promise.reject(new l(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const s=this._tmpTilemapDefinition,a=this._tilemapFromCache(e,t,i,s);if(a)return Promise.resolve(a);const o=r&&r.signal;return r={...r,signal:null},new Promise(((e,t)=>{c(o,(()=>t(m())));const i=w(s);let l=this._pendingTilemapRequests[i];if(!l){l=T.fromDefinition(s,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=l,l.then(e,e)}l.then(e,t)}))}getAvailability(e,t,i){if(!this._availableLevels[e])return\"unavailable\";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):\"unknown\"}fetchAvailability(e,t,i,r){return this._availableLevels[e]?this.fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof T){const s=r.getAvailability(t,i);if(\"unavailable\"===s)throw new l(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i});return s}if(h(r))throw r;return\"unknown\"})):Promise.reject(new l(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,i,r,l){r.level=e,r.row=t,r.col=i;const s=this.layer.tileInfo;s.updateTileInfo(r);const a=this.fetchAvailability(e,t,i,l).catch((e=>{if(h(e))throw e;if(s.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,l,a),a}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,l,s){if(!this._prefetchingEnabled||null==e)return;const a=`prefetch-${e}`;if(this.handles.has(a))return;const o=new AbortController;s.then((()=>o.abort()),(()=>o.abort()));let n=!1;const c={remove(){n||(n=!0,o.abort())}};if(this.handles.add(c,a),await v(10,o.signal).catch((()=>{})),n||(n=!0,this.handles.remove(a)),p(o))return;const h=new g(e,t,i,r),m={...l,signal:o.signal},f=this.layer.tileInfo;for(let p=0;j._prefetches.length<j._maxPrefetch&&f.upsampleTile(h);++p){const e=this.fetchAvailability(h.level,h.row,h.col,m);j._prefetches.push(e);const t=()=>{j._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:y({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const l=w(r);return this._tilemapCache.get(l)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach((e=>this._availableLevels[e.level]=!0))}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,r)=>!!e._tilemapFromCache(t,i,r,e._tmpTilemapDefinition)}}};z._maxPrefetch=4,z._prefetches=new n({initialSize:j._maxPrefetch}),e([b({constructOnly:!0,type:Number})],z.prototype,\"levels\",void 0),e([d(\"levels\")],z.prototype,\"castLevels\",null),e([b({readOnly:!0,type:Number})],z.prototype,\"size\",null),e([b({constructOnly:!0,type:Number})],z.prototype,\"cacheByteSize\",void 0),e([b({constructOnly:!0})],z.prototype,\"layer\",void 0),e([b({constructOnly:!0})],z.prototype,\"request\",void 0),z=j=e([_(\"esri.layers.support.TilemapCache\")],z);export{z as TilemapCache};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}