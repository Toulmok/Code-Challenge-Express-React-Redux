{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../geometry.js\";\nimport e from \"../../request.js\";\nimport t from \"../../core/Error.js\";\nimport { cache as r, find as n } from \"../../core/iteratorUtils.js\";\nimport { isNone as a, isSome as o } from \"../../core/maybe.js\";\nimport { eachAlways as s } from \"../../core/promiseUtils.js\";\nimport { isHTTPSProtocol as i, hasSameOrigin as p, toHTTPS as u } from \"../../core/urlUtils.js\";\nimport { initializeProjection as c, project as l } from \"../../geometry/projection.js\";\nimport { WGS84 as m, equals as y } from \"../../geometry/support/spatialReferenceUtils.js\";\nimport { featureGeometryTypeKebabDictionary as f } from \"../../geometry/support/typeUtils.js\";\nimport { getGeometryType as d } from \"../graphics/sources/geojson/geojson.js\";\nimport { parseDate as g } from \"./dateUtils.js\";\nimport { visitXML as w, iterateXML as b } from \"./xmlUtils.js\";\nimport h from \"../support/Field.js\";\nimport T from \"../../geometry/SpatialReference.js\";\nimport F from \"../../geometry/Extent.js\";\nconst S = \"xlink:href\",\n  x = \"2.0.0\",\n  C = \"__esri_wfs_id__\",\n  E = \"wfs-layer:getWFSLayerTypeInfo-error\",\n  N = \"wfs-layer:empty-service\",\n  P = \"wfs-layer:feature-type-not-found\",\n  R = \"wfs-layer:geojson-not-supported\",\n  j = \"wfs-layer:kvp-encoding-not-supported\",\n  A = \"wfs-layer:malformed-json\",\n  G = \"wfs-layer:unknown-geometry-type\",\n  k = \"wfs-layer:unknown-field-type\",\n  v = \"wfs-layer:unsupported-spatial-reference\",\n  U = \"wfs-layer:unsupported-wfs-version\";\nasync function D(t, r) {\n  const n = I((await e(t, {\n    responseType: \"text\",\n    query: {\n      SERVICE: \"WFS\",\n      REQUEST: \"GetCapabilities\",\n      VERSION: x,\n      ...r?.customParameters\n    },\n    signal: r?.signal\n  })).data);\n  return $(t, n), n;\n}\nfunction I(e) {\n  const t = te(e);\n  ne(t), ae(t);\n  const n = t.firstElementChild,\n    a = r(M(n));\n  return {\n    operations: L(n),\n    get featureTypes() {\n      return Array.from(a());\n    },\n    readFeatureTypes: a\n  };\n}\nconst O = new Set([\"json\", \"application/json\", \"geojson\", \"application/json; subtype=geojson\"]);\nfunction L(e) {\n  let r = !1;\n  const n = {\n    GetCapabilities: {\n      url: \"\"\n    },\n    DescribeFeatureType: {\n      url: \"\"\n    },\n    GetFeature: {\n      url: \"\",\n      outputFormat: null,\n      supportsPagination: !1\n    }\n  };\n  if (w(e, {\n    OperationsMetadata: {\n      Operation: e => {\n        switch (e.getAttribute(\"name\")) {\n          case \"GetCapabilities\":\n            return {\n              DCP: {\n                HTTP: {\n                  Get: e => {\n                    n.GetCapabilities.url = e.getAttribute(S);\n                  }\n                }\n              }\n            };\n          case \"DescribeFeatureType\":\n            return {\n              DCP: {\n                HTTP: {\n                  Get: e => {\n                    n.DescribeFeatureType.url = e.getAttribute(S);\n                  }\n                }\n              }\n            };\n          case \"GetFeature\":\n            return {\n              DCP: {\n                HTTP: {\n                  Get: e => {\n                    n.GetFeature.url = e.getAttribute(S);\n                  }\n                }\n              },\n              Parameter: e => {\n                if (\"outputFormat\" === e.getAttribute(\"name\")) return {\n                  AllowedValues: {\n                    Value: e => {\n                      const t = e.textContent;\n                      t && O.has(t.toLowerCase()) && (n.GetFeature.outputFormat = t);\n                    }\n                  }\n                };\n              }\n            };\n        }\n      },\n      Constraint: e => {\n        switch (e.getAttribute(\"name\")) {\n          case \"KVPEncoding\":\n            return {\n              DefaultValue: e => {\n                r = \"true\" === e.textContent.toLowerCase();\n              }\n            };\n          case \"ImplementsResultPaging\":\n            return {\n              DefaultValue: e => {\n                n.GetFeature.supportsPagination = \"true\" === e.textContent.toLowerCase();\n              }\n            };\n        }\n      }\n    }\n  }), !r) throw new t(j, \"WFS service doesn't support key/value pair (KVP) encoding\");\n  if (a(n.GetFeature.outputFormat)) throw new t(R, \"WFS service doesn't support GeoJSON output format\");\n  return n;\n}\nfunction $(e, t) {\n  i(e) && (p(e, t.operations.DescribeFeatureType.url, !0) && (t.operations.DescribeFeatureType.url = u(t.operations.DescribeFeatureType.url)), p(e, t.operations.GetFeature.url, !0) && (t.operations.GetFeature.url = u(t.operations.GetFeature.url)));\n}\nfunction M(e) {\n  return b(e, {\n    FeatureTypeList: {\n      FeatureType: e => {\n        const t = {\n            typeName: \"undefined:undefined\",\n            name: \"\",\n            title: \"\",\n            description: \"\",\n            extent: null,\n            namespacePrefix: \"\",\n            namespaceUri: \"\",\n            supportedSpatialReferences: []\n          },\n          r = new Set([4326]),\n          n = e => {\n            const t = parseInt(e.textContent?.match(/(?<wkid>\\d+$)/i)?.groups?.wkid ?? \"\", 10);\n            Number.isNaN(t) || r.add(t);\n          };\n        return w(e, {\n          Name: e => {\n            const {\n              name: r,\n              prefix: n\n            } = re(e.textContent);\n            t.typeName = `${n}:${r}`, t.name = r, t.namespacePrefix = n, t.namespaceUri = e.lookupNamespaceURI(n);\n          },\n          Abstract: e => {\n            t.description = e.textContent;\n          },\n          Title: e => {\n            t.title = e.textContent;\n          },\n          WGS84BoundingBox: e => {\n            t.extent = V(e);\n          },\n          DefaultSRS: n,\n          DefaultCRS: n,\n          OtherSRS: n,\n          OtherCRS: n\n        }), t.title || (t.title = t.name), t.supportedSpatialReferences.push(...r), t;\n      }\n    }\n  });\n}\nfunction V(e) {\n  let t, r, n, a;\n  for (const o of e.children) switch (o.localName) {\n    case \"LowerCorner\":\n      [t, r] = o.textContent.split(\" \").map(e => Number.parseFloat(e));\n      break;\n    case \"UpperCorner\":\n      [n, a] = o.textContent.split(\" \").map(e => Number.parseFloat(e));\n  }\n  return {\n    xmin: t,\n    ymin: r,\n    xmax: n,\n    ymax: a,\n    spatialReference: m\n  };\n}\nfunction W(e, t, r) {\n  return n(e, e => r ? e.name === t && e.namespaceUri === r : e.typeName === t || e.name === t);\n}\nasync function X(e, t, r) {\n  let n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const {\n      featureType: a,\n      extent: o\n    } = await Y(e, t, r, n),\n    {\n      fields: s,\n      geometryType: i,\n      swapXY: p,\n      objectIdField: u,\n      geometryField: c\n    } = await q(e, a.typeName, n);\n  return {\n    url: e.operations.GetCapabilities.url,\n    name: a.name,\n    namespaceUri: a.namespaceUri,\n    fields: s,\n    geometryField: c,\n    geometryType: i,\n    objectIdField: u,\n    spatialReference: n.spatialReference ?? T.WGS84,\n    extent: o,\n    swapXY: p,\n    wfsCapabilities: e,\n    customParameters: n.customParameters\n  };\n}\nasync function Y(e, r, n) {\n  let o = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const {\n      spatialReference: s = T.WGS84\n    } = o,\n    i = e.readFeatureTypes(),\n    p = r ? W(i, r, n) : i.next().value;\n  if (a(p)) throw r ? new t(P, `The type '${r}' could not be found in the service`) : new t(N, \"The service is empty\");\n  let u = new F({\n    ...p.extent,\n    spatialReference: s\n  });\n  if (!y(s, m)) try {\n    await c(m, s, void 0, o), u = l(u, m);\n  } catch {\n    throw new t(v, \"Projection not supported\");\n  }\n  return {\n    extent: u,\n    spatialReference: s,\n    featureType: p\n  };\n}\nasync function q(e, r) {\n  let n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const [o, i] = await s([J(e.operations.DescribeFeatureType.url, r, n), _(e, r, n)]);\n  if (o.error || i.error) throw new t(E, `An error occurred while getting info about the feature type '${r}'`, {\n    error: o.error || i.error\n  });\n  const {\n      fields: p,\n      errors: u\n    } = o.value ?? {},\n    c = o.value?.geometryType || i.value?.geometryType,\n    l = i.value?.swapXY ?? !1;\n  if (a(c)) throw new t(G, `The geometry type could not be determined for type '${r}`, {\n    typeName: r,\n    geometryType: c,\n    fields: p,\n    errors: u\n  });\n  return {\n    ...z(p ?? []),\n    geometryType: c,\n    swapXY: l\n  };\n}\nfunction z(e) {\n  const t = e.find(e => \"geometry\" === e.type);\n  let r = e.find(e => \"oid\" === e.type);\n  return e = e.filter(e => \"geometry\" !== e.type), r || (r = new h({\n    name: C,\n    type: \"oid\",\n    alias: C\n  }), e.unshift(r)), {\n    geometryField: t?.name ?? null,\n    objectIdField: r.name,\n    fields: e\n  };\n}\nasync function _(t, r) {\n  let n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let a,\n    o = !1;\n  const [s, i] = await Promise.all([K(t.operations.GetFeature.url, r, t.operations.GetFeature.outputFormat, {\n      ...n,\n      count: 1\n    }), e(t.operations.GetFeature.url, {\n      responseType: \"text\",\n      query: Z(r, void 0, {\n        ...n,\n        count: 1\n      }),\n      signal: n?.signal\n    })]),\n    p = \"FeatureCollection\" === s.type && s.features[0]?.geometry;\n  if (p) {\n    let e;\n    switch (a = f.fromJSON(d(p.type)), p.type) {\n      case \"Point\":\n        e = p.coordinates;\n        break;\n      case \"LineString\":\n      case \"MultiPoint\":\n        e = p.coordinates[0];\n        break;\n      case \"MultiLineString\":\n      case \"Polygon\":\n        e = p.coordinates[0][0];\n        break;\n      case \"MultiPolygon\":\n        e = p.coordinates[0][0][0];\n    }\n    const t = /<[^>]*pos[^>]*> *(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)/.exec(i.data);\n    if (t) {\n      const r = e[0].toFixed(3),\n        n = e[1].toFixed(3),\n        a = parseFloat(t[1]).toFixed(3);\n      r === parseFloat(t[2]).toFixed(3) && n === a && (o = !0);\n    }\n  }\n  return {\n    geometryType: a,\n    swapXY: o\n  };\n}\nasync function J(t, r, n) {\n  return Q(r, (await e(t, {\n    responseType: \"text\",\n    query: {\n      SERVICE: \"WFS\",\n      REQUEST: \"DescribeFeatureType\",\n      VERSION: x,\n      TYPENAME: r,\n      ...n?.customParameters\n    },\n    signal: n?.signal\n  })).data);\n}\nfunction Q(e, r) {\n  const {\n      name: a\n    } = re(e),\n    s = te(r);\n  ae(s);\n  const i = n(b(s.firstElementChild, {\n    element: e => ({\n      name: e.getAttribute(\"name\"),\n      typeName: re(e.getAttribute(\"type\")).name\n    })\n  }), _ref => {\n    let {\n      name: e\n    } = _ref;\n    return e === a;\n  });\n  if (o(i)) {\n    const e = n(b(s.firstElementChild, {\n      complexType: e => e\n    }), e => e.getAttribute(\"name\") === i.typeName);\n    if (o(e)) return B(e);\n  }\n  throw new t(P, `Type '${e}' not found in document`, {\n    document: new XMLSerializer().serializeToString(s)\n  });\n}\nconst H = new Set([\"objectid\", \"fid\"]);\nfunction B(e) {\n  const r = [],\n    n = [];\n  let a;\n  const o = b(e, {\n    complexContent: {\n      extension: {\n        sequence: {\n          element: e => e\n        }\n      }\n    }\n  });\n  for (const s of o) {\n    const o = s.getAttribute(\"name\");\n    if (!o) continue;\n    let i, p;\n    if (s.hasAttribute(\"type\") ? i = re(s.getAttribute(\"type\")).name : w(s, {\n      simpleType: {\n        restriction: e => (i = re(e.getAttribute(\"base\")).name, {\n          maxLength: e => {\n            p = +e.getAttribute(\"value\");\n          }\n        })\n      }\n    }), !i) continue;\n    const u = \"true\" === s.getAttribute(\"nillable\");\n    let c = !1;\n    switch (i.toLowerCase()) {\n      case \"integer\":\n      case \"nonpositiveinteger\":\n      case \"negativeinteger\":\n      case \"long\":\n      case \"int\":\n      case \"short\":\n      case \"byte\":\n      case \"nonnegativeinteger\":\n      case \"unsignedlong\":\n      case \"unsignedint\":\n      case \"unsignedshort\":\n      case \"unsignedbyte\":\n      case \"positiveinteger\":\n        n.push(new h({\n          name: o,\n          alias: o,\n          type: \"integer\",\n          nullable: u\n        }));\n        break;\n      case \"float\":\n      case \"double\":\n      case \"decimal\":\n        n.push(new h({\n          name: o,\n          alias: o,\n          type: \"double\",\n          nullable: u\n        }));\n        break;\n      case \"boolean\":\n      case \"string\":\n      case \"gyearmonth\":\n      case \"gyear\":\n      case \"gmonthday\":\n      case \"gday\":\n      case \"gmonth\":\n      case \"anyuri\":\n      case \"qname\":\n      case \"notation\":\n      case \"normalizedstring\":\n      case \"token\":\n      case \"language\":\n      case \"idrefs\":\n      case \"entities\":\n      case \"nmtoken\":\n      case \"nmtokens\":\n      case \"name\":\n      case \"ncname\":\n      case \"id\":\n      case \"idref\":\n      case \"entity\":\n      case \"duration\":\n      case \"time\":\n        n.push(new h({\n          name: o,\n          alias: o,\n          type: \"string\",\n          nullable: u,\n          length: p ?? 255\n        }));\n        break;\n      case \"datetime\":\n      case \"date\":\n        n.push(new h({\n          name: o,\n          alias: o,\n          type: \"date\",\n          nullable: u,\n          length: p ?? 36\n        }));\n        break;\n      case \"pointpropertytype\":\n        a = \"point\", c = !0;\n        break;\n      case \"multipointpropertytype\":\n        a = \"multipoint\", c = !0;\n        break;\n      case \"curvepropertytype\":\n      case \"multicurvepropertytype\":\n      case \"multilinestringpropertytype\":\n        a = \"polyline\", c = !0;\n        break;\n      case \"surfacepropertytype\":\n      case \"multisurfacepropertytype\":\n      case \"multipolygonpropertytype\":\n        a = \"polygon\", c = !0;\n        break;\n      case \"geometrypropertytype\":\n      case \"multigeometrypropertytype\":\n        c = !0, r.push(new t(G, `geometry type '${i}' is not supported`, {\n          type: new XMLSerializer().serializeToString(e)\n        }));\n        break;\n      default:\n        r.push(new t(k, `Unknown field type '${i}'`, {\n          type: new XMLSerializer().serializeToString(e)\n        }));\n    }\n    c && n.push(new h({\n      name: o,\n      alias: o,\n      type: \"geometry\",\n      nullable: u\n    }));\n  }\n  for (const t of n) if (\"integer\" === t.type && !t.nullable && H.has(t.name.toLowerCase())) {\n    t.type = \"oid\";\n    break;\n  }\n  return {\n    geometryType: a,\n    fields: n,\n    errors: r\n  };\n}\nasync function K(r, n, a, o) {\n  let {\n    data: s\n  } = await e(r, {\n    responseType: \"text\",\n    query: Z(n, a, o),\n    signal: o?.signal\n  });\n  s = s.replace(/\": +(-?\\d+),(\\d+)(,)?/g, '\": $1.$2$3');\n  try {\n    if (o?.dateFields?.length) {\n      const e = new Set(o.dateFields);\n      return JSON.parse(s, (t, r) => e.has(t) ? g(r) : r);\n    }\n    return JSON.parse(s);\n  } catch (i) {\n    throw new t(A, \"Error while parsing the response\", {\n      response: s,\n      error: i\n    });\n  }\n}\nfunction Z(e, t, r) {\n  return {\n    SERVICE: \"WFS\",\n    REQUEST: \"GetFeature\",\n    VERSION: x,\n    TYPENAMES: e,\n    OUTPUTFORMAT: t,\n    SRSNAME: \"EPSG:4326\",\n    STARTINDEX: r?.startIndex,\n    COUNT: r?.count,\n    ...r?.customParameters\n  };\n}\nasync function ee(t, r, n) {\n  const a = te((await e(t, {\n    responseType: \"text\",\n    query: {\n      SERVICE: \"WFS\",\n      REQUEST: \"GetFeature\",\n      VERSION: x,\n      TYPENAMES: r,\n      RESULTTYPE: \"hits\",\n      ...n?.customParameters\n    },\n    signal: n?.signal\n  })).data);\n  ae(a);\n  const o = Number.parseFloat(a.firstElementChild.getAttribute(\"numberMatched\"));\n  return Number.isNaN(o) ? 0 : o;\n}\nfunction te(e) {\n  return new DOMParser().parseFromString(e.trim(), \"text/xml\");\n}\nfunction re(e) {\n  const [t, r] = e.split(\":\");\n  return {\n    prefix: r ? t : \"\",\n    name: r ?? t\n  };\n}\nfunction ne(e) {\n  const r = e.firstElementChild?.getAttribute(\"version\");\n  if (r && r !== x) throw new t(U, `Unsupported WFS version ${r}. Supported version: ${x}`);\n}\nfunction ae(e) {\n  let r = \"\",\n    n = \"\";\n  if (w(e.firstElementChild, {\n    Exception: e => (r = e.getAttribute(\"exceptionCode\"), {\n      ExceptionText: e => {\n        n = e.textContent;\n      }\n    })\n  }), r) throw new t(`wfs-layer:${r}`, n);\n}\nexport { C as WFS_OID_FIELD_NAME, J as describeFeatureType, W as findFeatureType, D as getCapabilities, K as getFeature, ee as getFeatureCount, Y as getFeatureTypeInfo, X as getWFSLayerInfo, Q as parseDescribeFeatureTypeResponse, I as parseGetCapabilitiesResponse, z as prepareWFSLayerFields };","map":{"version":3,"names":["e","t","cache","r","find","n","isNone","a","isSome","o","eachAlways","s","isHTTPSProtocol","i","hasSameOrigin","p","toHTTPS","u","initializeProjection","c","project","l","WGS84","m","equals","y","featureGeometryTypeKebabDictionary","f","getGeometryType","d","parseDate","g","visitXML","w","iterateXML","b","h","T","F","S","x","C","E","N","P","R","j","A","G","k","v","U","D","I","responseType","query","SERVICE","REQUEST","VERSION","customParameters","signal","data","$","te","ne","ae","firstElementChild","M","operations","L","featureTypes","Array","from","readFeatureTypes","O","Set","GetCapabilities","url","DescribeFeatureType","GetFeature","outputFormat","supportsPagination","OperationsMetadata","Operation","getAttribute","DCP","HTTP","Get","Parameter","AllowedValues","Value","textContent","has","toLowerCase","Constraint","DefaultValue","FeatureTypeList","FeatureType","typeName","name","title","description","extent","namespacePrefix","namespaceUri","supportedSpatialReferences","parseInt","match","groups","wkid","Number","isNaN","add","Name","prefix","re","lookupNamespaceURI","Abstract","Title","WGS84BoundingBox","V","DefaultSRS","DefaultCRS","OtherSRS","OtherCRS","push","children","localName","split","map","parseFloat","xmin","ymin","xmax","ymax","spatialReference","W","X","arguments","length","undefined","featureType","Y","fields","geometryType","swapXY","objectIdField","geometryField","q","wfsCapabilities","next","value","J","_","error","errors","z","type","filter","alias","unshift","Promise","all","K","count","Z","features","geometry","fromJSON","coordinates","exec","toFixed","Q","TYPENAME","element","_ref","complexType","B","document","XMLSerializer","serializeToString","H","complexContent","extension","sequence","hasAttribute","simpleType","restriction","maxLength","nullable","replace","dateFields","JSON","parse","response","TYPENAMES","OUTPUTFORMAT","SRSNAME","STARTINDEX","startIndex","COUNT","ee","RESULTTYPE","DOMParser","parseFromString","trim","Exception","ExceptionText","WFS_OID_FIELD_NAME","describeFeatureType","findFeatureType","getCapabilities","getFeature","getFeatureCount","getFeatureTypeInfo","getWFSLayerInfo","parseDescribeFeatureTypeResponse","parseGetCapabilitiesResponse","prepareWFSLayerFields"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/ogc/wfsUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import{cache as r,find as n}from\"../../core/iteratorUtils.js\";import{isNone as a,isSome as o}from\"../../core/maybe.js\";import{eachAlways as s}from\"../../core/promiseUtils.js\";import{isHTTPSProtocol as i,hasSameOrigin as p,toHTTPS as u}from\"../../core/urlUtils.js\";import{initializeProjection as c,project as l}from\"../../geometry/projection.js\";import{WGS84 as m,equals as y}from\"../../geometry/support/spatialReferenceUtils.js\";import{featureGeometryTypeKebabDictionary as f}from\"../../geometry/support/typeUtils.js\";import{getGeometryType as d}from\"../graphics/sources/geojson/geojson.js\";import{parseDate as g}from\"./dateUtils.js\";import{visitXML as w,iterateXML as b}from\"./xmlUtils.js\";import h from\"../support/Field.js\";import T from\"../../geometry/SpatialReference.js\";import F from\"../../geometry/Extent.js\";const S=\"xlink:href\",x=\"2.0.0\",C=\"__esri_wfs_id__\",E=\"wfs-layer:getWFSLayerTypeInfo-error\",N=\"wfs-layer:empty-service\",P=\"wfs-layer:feature-type-not-found\",R=\"wfs-layer:geojson-not-supported\",j=\"wfs-layer:kvp-encoding-not-supported\",A=\"wfs-layer:malformed-json\",G=\"wfs-layer:unknown-geometry-type\",k=\"wfs-layer:unknown-field-type\",v=\"wfs-layer:unsupported-spatial-reference\",U=\"wfs-layer:unsupported-wfs-version\";async function D(t,r){const n=I((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetCapabilities\",VERSION:x,...r?.customParameters},signal:r?.signal})).data);return $(t,n),n}function I(e){const t=te(e);ne(t),ae(t);const n=t.firstElementChild,a=r(M(n));return{operations:L(n),get featureTypes(){return Array.from(a())},readFeatureTypes:a}}const O=new Set([\"json\",\"application/json\",\"geojson\",\"application/json; subtype=geojson\"]);function L(e){let r=!1;const n={GetCapabilities:{url:\"\"},DescribeFeatureType:{url:\"\"},GetFeature:{url:\"\",outputFormat:null,supportsPagination:!1}};if(w(e,{OperationsMetadata:{Operation:e=>{switch(e.getAttribute(\"name\")){case\"GetCapabilities\":return{DCP:{HTTP:{Get:e=>{n.GetCapabilities.url=e.getAttribute(S)}}}};case\"DescribeFeatureType\":return{DCP:{HTTP:{Get:e=>{n.DescribeFeatureType.url=e.getAttribute(S)}}}};case\"GetFeature\":return{DCP:{HTTP:{Get:e=>{n.GetFeature.url=e.getAttribute(S)}}},Parameter:e=>{if(\"outputFormat\"===e.getAttribute(\"name\"))return{AllowedValues:{Value:e=>{const t=e.textContent;t&&O.has(t.toLowerCase())&&(n.GetFeature.outputFormat=t)}}}}}}},Constraint:e=>{switch(e.getAttribute(\"name\")){case\"KVPEncoding\":return{DefaultValue:e=>{r=\"true\"===e.textContent.toLowerCase()}};case\"ImplementsResultPaging\":return{DefaultValue:e=>{n.GetFeature.supportsPagination=\"true\"===e.textContent.toLowerCase()}}}}}}),!r)throw new t(j,\"WFS service doesn't support key/value pair (KVP) encoding\");if(a(n.GetFeature.outputFormat))throw new t(R,\"WFS service doesn't support GeoJSON output format\");return n}function $(e,t){i(e)&&(p(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=u(t.operations.DescribeFeatureType.url)),p(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=u(t.operations.GetFeature.url)))}function M(e){return b(e,{FeatureTypeList:{FeatureType:e=>{const t={typeName:\"undefined:undefined\",name:\"\",title:\"\",description:\"\",extent:null,namespacePrefix:\"\",namespaceUri:\"\",supportedSpatialReferences:[]},r=new Set([4326]),n=e=>{const t=parseInt(e.textContent?.match(/(?<wkid>\\d+$)/i)?.groups?.wkid??\"\",10);Number.isNaN(t)||r.add(t)};return w(e,{Name:e=>{const{name:r,prefix:n}=re(e.textContent);t.typeName=`${n}:${r}`,t.name=r,t.namespacePrefix=n,t.namespaceUri=e.lookupNamespaceURI(n)},Abstract:e=>{t.description=e.textContent},Title:e=>{t.title=e.textContent},WGS84BoundingBox:e=>{t.extent=V(e)},DefaultSRS:n,DefaultCRS:n,OtherSRS:n,OtherCRS:n}),t.title||(t.title=t.name),t.supportedSpatialReferences.push(...r),t}}})}function V(e){let t,r,n,a;for(const o of e.children)switch(o.localName){case\"LowerCorner\":[t,r]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)));break;case\"UpperCorner\":[n,a]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)))}return{xmin:t,ymin:r,xmax:n,ymax:a,spatialReference:m}}function W(e,t,r){return n(e,(e=>r?e.name===t&&e.namespaceUri===r:e.typeName===t||e.name===t))}async function X(e,t,r,n={}){const{featureType:a,extent:o}=await Y(e,t,r,n),{fields:s,geometryType:i,swapXY:p,objectIdField:u,geometryField:c}=await q(e,a.typeName,n);return{url:e.operations.GetCapabilities.url,name:a.name,namespaceUri:a.namespaceUri,fields:s,geometryField:c,geometryType:i,objectIdField:u,spatialReference:n.spatialReference??T.WGS84,extent:o,swapXY:p,wfsCapabilities:e,customParameters:n.customParameters}}async function Y(e,r,n,o={}){const{spatialReference:s=T.WGS84}=o,i=e.readFeatureTypes(),p=r?W(i,r,n):i.next().value;if(a(p))throw r?new t(P,`The type '${r}' could not be found in the service`):new t(N,\"The service is empty\");let u=new F({...p.extent,spatialReference:s});if(!y(s,m))try{await c(m,s,void 0,o),u=l(u,m)}catch{throw new t(v,\"Projection not supported\")}return{extent:u,spatialReference:s,featureType:p}}async function q(e,r,n={}){const[o,i]=await s([J(e.operations.DescribeFeatureType.url,r,n),_(e,r,n)]);if(o.error||i.error)throw new t(E,`An error occurred while getting info about the feature type '${r}'`,{error:o.error||i.error});const{fields:p,errors:u}=o.value??{},c=o.value?.geometryType||i.value?.geometryType,l=i.value?.swapXY??!1;if(a(c))throw new t(G,`The geometry type could not be determined for type '${r}`,{typeName:r,geometryType:c,fields:p,errors:u});return{...z(p??[]),geometryType:c,swapXY:l}}function z(e){const t=e.find((e=>\"geometry\"===e.type));let r=e.find((e=>\"oid\"===e.type));return e=e.filter((e=>\"geometry\"!==e.type)),r||(r=new h({name:C,type:\"oid\",alias:C}),e.unshift(r)),{geometryField:t?.name??null,objectIdField:r.name,fields:e}}async function _(t,r,n={}){let a,o=!1;const[s,i]=await Promise.all([K(t.operations.GetFeature.url,r,t.operations.GetFeature.outputFormat,{...n,count:1}),e(t.operations.GetFeature.url,{responseType:\"text\",query:Z(r,void 0,{...n,count:1}),signal:n?.signal})]),p=\"FeatureCollection\"===s.type&&s.features[0]?.geometry;if(p){let e;switch(a=f.fromJSON(d(p.type)),p.type){case\"Point\":e=p.coordinates;break;case\"LineString\":case\"MultiPoint\":e=p.coordinates[0];break;case\"MultiLineString\":case\"Polygon\":e=p.coordinates[0][0];break;case\"MultiPolygon\":e=p.coordinates[0][0][0]}const t=/<[^>]*pos[^>]*> *(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)/.exec(i.data);if(t){const r=e[0].toFixed(3),n=e[1].toFixed(3),a=parseFloat(t[1]).toFixed(3);r===parseFloat(t[2]).toFixed(3)&&n===a&&(o=!0)}}return{geometryType:a,swapXY:o}}async function J(t,r,n){return Q(r,(await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"DescribeFeatureType\",VERSION:x,TYPENAME:r,...n?.customParameters},signal:n?.signal})).data)}function Q(e,r){const{name:a}=re(e),s=te(r);ae(s);const i=n(b(s.firstElementChild,{element:e=>({name:e.getAttribute(\"name\"),typeName:re(e.getAttribute(\"type\")).name})}),(({name:e})=>e===a));if(o(i)){const e=n(b(s.firstElementChild,{complexType:e=>e}),(e=>e.getAttribute(\"name\")===i.typeName));if(o(e))return B(e)}throw new t(P,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(s)})}const H=new Set([\"objectid\",\"fid\"]);function B(e){const r=[],n=[];let a;const o=b(e,{complexContent:{extension:{sequence:{element:e=>e}}}});for(const s of o){const o=s.getAttribute(\"name\");if(!o)continue;let i,p;if(s.hasAttribute(\"type\")?i=re(s.getAttribute(\"type\")).name:w(s,{simpleType:{restriction:e=>(i=re(e.getAttribute(\"base\")).name,{maxLength:e=>{p=+e.getAttribute(\"value\")}})}}),!i)continue;const u=\"true\"===s.getAttribute(\"nillable\");let c=!1;switch(i.toLowerCase()){case\"integer\":case\"nonpositiveinteger\":case\"negativeinteger\":case\"long\":case\"int\":case\"short\":case\"byte\":case\"nonnegativeinteger\":case\"unsignedlong\":case\"unsignedint\":case\"unsignedshort\":case\"unsignedbyte\":case\"positiveinteger\":n.push(new h({name:o,alias:o,type:\"integer\",nullable:u}));break;case\"float\":case\"double\":case\"decimal\":n.push(new h({name:o,alias:o,type:\"double\",nullable:u}));break;case\"boolean\":case\"string\":case\"gyearmonth\":case\"gyear\":case\"gmonthday\":case\"gday\":case\"gmonth\":case\"anyuri\":case\"qname\":case\"notation\":case\"normalizedstring\":case\"token\":case\"language\":case\"idrefs\":case\"entities\":case\"nmtoken\":case\"nmtokens\":case\"name\":case\"ncname\":case\"id\":case\"idref\":case\"entity\":case\"duration\":case\"time\":n.push(new h({name:o,alias:o,type:\"string\",nullable:u,length:p??255}));break;case\"datetime\":case\"date\":n.push(new h({name:o,alias:o,type:\"date\",nullable:u,length:p??36}));break;case\"pointpropertytype\":a=\"point\",c=!0;break;case\"multipointpropertytype\":a=\"multipoint\",c=!0;break;case\"curvepropertytype\":case\"multicurvepropertytype\":case\"multilinestringpropertytype\":a=\"polyline\",c=!0;break;case\"surfacepropertytype\":case\"multisurfacepropertytype\":case\"multipolygonpropertytype\":a=\"polygon\",c=!0;break;case\"geometrypropertytype\":case\"multigeometrypropertytype\":c=!0,r.push(new t(G,`geometry type '${i}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:r.push(new t(k,`Unknown field type '${i}'`,{type:(new XMLSerializer).serializeToString(e)}))}c&&n.push(new h({name:o,alias:o,type:\"geometry\",nullable:u}))}for(const t of n)if(\"integer\"===t.type&&!t.nullable&&H.has(t.name.toLowerCase())){t.type=\"oid\";break}return{geometryType:a,fields:n,errors:r}}async function K(r,n,a,o){let{data:s}=await e(r,{responseType:\"text\",query:Z(n,a,o),signal:o?.signal});s=s.replace(/\": +(-?\\d+),(\\d+)(,)?/g,'\": $1.$2$3');try{if(o?.dateFields?.length){const e=new Set(o.dateFields);return JSON.parse(s,((t,r)=>e.has(t)?g(r):r))}return JSON.parse(s)}catch(i){throw new t(A,\"Error while parsing the response\",{response:s,error:i})}}function Z(e,t,r){return{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:x,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:\"EPSG:4326\",STARTINDEX:r?.startIndex,COUNT:r?.count,...r?.customParameters}}async function ee(t,r,n){const a=te((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:x,TYPENAMES:r,RESULTTYPE:\"hits\",...n?.customParameters},signal:n?.signal})).data);ae(a);const o=Number.parseFloat(a.firstElementChild.getAttribute(\"numberMatched\"));return Number.isNaN(o)?0:o}function te(e){return(new DOMParser).parseFromString(e.trim(),\"text/xml\")}function re(e){const[t,r]=e.split(\":\");return{prefix:r?t:\"\",name:r??t}}function ne(e){const r=e.firstElementChild?.getAttribute(\"version\");if(r&&r!==x)throw new t(U,`Unsupported WFS version ${r}. Supported version: ${x}`)}function ae(e){let r=\"\",n=\"\";if(w(e.firstElementChild,{Exception:e=>(r=e.getAttribute(\"exceptionCode\"),{ExceptionText:e=>{n=e.textContent}})}),r)throw new t(`wfs-layer:${r}`,n)}export{C as WFS_OID_FIELD_NAME,J as describeFeatureType,W as findFeatureType,D as getCapabilities,K as getFeature,ee as getFeatureCount,Y as getFeatureTypeInfo,X as getWFSLayerInfo,Q as parseDescribeFeatureTypeResponse,I as parseGetCapabilitiesResponse,z as prepareWFSLayerFields};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}