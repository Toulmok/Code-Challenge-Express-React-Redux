{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { ScreenSpacePass as e } from \"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";\nimport { DiscardOrAdjustAlphaBlend as r } from \"../views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlphaBlend.glsl.js\";\nimport { FloatPassUniform as s } from \"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";\nimport { glsl as i } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { ShaderBuilder as o } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { Texture2DPassUniform as n } from \"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";\nfunction t(t) {\n  const a = new o();\n  a.include(e), a.include(r);\n  const {\n    usesHalfFloat: d\n  } = t;\n  return a.fragment.uniforms.add([new n(\"densityMap\", e => e.densityMap), new n(\"tex\", e => e.colorRamp), new s(\"densityNormalizer\", e => 1 / (e.maxDensity - e.minDensity)), new s(\"minDensity\", e => e.minDensity)]), a.fragment.uniforms.add(new s(\"densityMultiplier\", e => 3 / (e.searchRadius * e.searchRadius * Math.PI))), d && a.constants.add(\"compressionFactor\", \"float\", 4), a.fragment.code.add(i`\n    void main() {\n      float density = texture2D(densityMap, uv).r * densityMultiplier${d ? i` * compressionFactor` : \"\"};\n      float densityRatio = (density - minDensity) * densityNormalizer;\n\n      vec4 color = texture2D(tex, vec2(clamp(densityRatio, 0.0, 1.0), 0.5));\n\n      discardOrAdjustAlpha(color);\n      gl_FragColor = color;\n    }\n  `), a;\n}\nconst a = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  build: t\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { a as H, t as b };","map":{"version":3,"names":["ScreenSpacePass","e","DiscardOrAdjustAlphaBlend","r","FloatPassUniform","s","glsl","i","ShaderBuilder","o","Texture2DPassUniform","n","t","a","include","usesHalfFloat","d","fragment","uniforms","add","densityMap","colorRamp","maxDensity","minDensity","searchRadius","Math","PI","constants","code","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","H","b"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/chunks/Heatmap.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{DiscardOrAdjustAlphaBlend as r}from\"../views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlphaBlend.glsl.js\";import{FloatPassUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";function t(t){const a=new o;a.include(e),a.include(r);const{usesHalfFloat:d}=t;return a.fragment.uniforms.add([new n(\"densityMap\",(e=>e.densityMap)),new n(\"tex\",(e=>e.colorRamp)),new s(\"densityNormalizer\",(e=>1/(e.maxDensity-e.minDensity))),new s(\"minDensity\",(e=>e.minDensity))]),a.fragment.uniforms.add(new s(\"densityMultiplier\",(e=>3/(e.searchRadius*e.searchRadius*Math.PI)))),d&&a.constants.add(\"compressionFactor\",\"float\",4),a.fragment.code.add(i`\n    void main() {\n      float density = texture2D(densityMap, uv).r * densityMultiplier${d?i` * compressionFactor`:\"\"};\n      float densityRatio = (density - minDensity) * densityNormalizer;\n\n      vec4 color = texture2D(tex, vec2(clamp(densityRatio, 0.0, 1.0), 0.5));\n\n      discardOrAdjustAlpha(color);\n      gl_FragColor = color;\n    }\n  `),a}const a=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:\"Module\"}));export{a as H,t as b};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,eAAe,IAAIC,CAAC,QAAK,qEAAqE;AAAC,SAAOC,yBAAyB,IAAIC,CAAC,QAAK,oFAAoF;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,iEAAiE;AAAC,SAAOC,IAAI,IAAIC,CAAC,QAAK,2DAA2D;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,8DAA8D;AAAC,SAAOC,oBAAoB,IAAIC,CAAC,QAAK,qEAAqE;AAAC,SAASC,CAACA,CAACA,CAAC,EAAC;EAAC,MAAMC,CAAC,GAAC,IAAIJ,CAAC;EAACI,CAAC,CAACC,OAAO,CAACb,CAAC,CAAC,EAACY,CAAC,CAACC,OAAO,CAACX,CAAC,CAAC;EAAC,MAAK;IAACY,aAAa,EAACC;EAAC,CAAC,GAACJ,CAAC;EAAC,OAAOC,CAAC,CAACI,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,CAAC,IAAIR,CAAC,CAAC,YAAY,EAAEV,CAAC,IAAEA,CAAC,CAACmB,UAAU,CAAE,EAAC,IAAIT,CAAC,CAAC,KAAK,EAAEV,CAAC,IAAEA,CAAC,CAACoB,SAAS,CAAE,EAAC,IAAIhB,CAAC,CAAC,mBAAmB,EAAEJ,CAAC,IAAE,CAAC,IAAEA,CAAC,CAACqB,UAAU,GAACrB,CAAC,CAACsB,UAAU,CAAC,CAAE,EAAC,IAAIlB,CAAC,CAAC,YAAY,EAAEJ,CAAC,IAAEA,CAAC,CAACsB,UAAU,CAAE,CAAC,CAAC,EAACV,CAAC,CAACI,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAId,CAAC,CAAC,mBAAmB,EAAEJ,CAAC,IAAE,CAAC,IAAEA,CAAC,CAACuB,YAAY,GAACvB,CAAC,CAACuB,YAAY,GAACC,IAAI,CAACC,EAAE,CAAC,CAAE,CAAC,EAACV,CAAC,IAAEH,CAAC,CAACc,SAAS,CAACR,GAAG,CAAC,mBAAmB,EAAC,OAAO,EAAC,CAAC,CAAC,EAACN,CAAC,CAACI,QAAQ,CAACW,IAAI,CAACT,GAAG,CAACZ,CAAE;AACriC;AACA,uEAAuES,CAAC,GAACT,CAAE,sBAAqB,GAAC,EAAG;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,EAACM,CAAC;AAAA;AAAC,MAAMA,CAAC,GAACgB,MAAM,CAACC,MAAM,CAACD,MAAM,CAACE,cAAc,CAAC;EAACC,SAAS,EAAC,IAAI;EAACC,KAAK,EAACrB;AAAC,CAAC,EAACsB,MAAM,CAACC,WAAW,EAAC;EAACC,KAAK,EAAC;AAAQ,CAAC,CAAC,CAAC;AAAC,SAAOvB,CAAC,IAAIwB,CAAC,EAACzB,CAAC,IAAI0B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}