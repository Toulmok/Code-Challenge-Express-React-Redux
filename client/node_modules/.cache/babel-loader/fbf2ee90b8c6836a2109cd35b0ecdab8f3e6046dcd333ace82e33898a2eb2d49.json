{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport e from \"../../config.js\";\nimport { id as r } from \"../../kernel.js\";\nimport s from \"../../request.js\";\nimport { result as i } from \"../../core/asyncUtils.js\";\nimport o from \"../../core/Error.js\";\nimport a from \"../../core/Logger.js\";\nimport { destroyMaybe as l, isSome as p, isNone as n } from \"../../core/maybe.js\";\nimport { throwIfAborted as u, isAbortError as c, throwIfAbortError as d } from \"../../core/promiseUtils.js\";\nimport { hasSameCanonicalPortal as m, normalize as h, hasSamePortal as f } from \"../../core/urlUtils.js\";\nimport { property as y } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { reader as g } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as I } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as v } from \"../../core/accessorSupport/decorators/writer.js\";\nimport { getOwningPortalUrl as P } from \"../support/layerUtils.js\";\nimport U from \"../../portal/Portal.js\";\nimport w from \"../../portal/PortalItem.js\";\nimport j from \"../../portal/PortalUser.js\";\nimport { getUserPrivileges as E } from \"../../portal/support/portalItemUtils.js\";\nconst _ = _ => {\n    let H = class extends _ {\n      constructor() {\n        super(...arguments), this.resourceReferences = {\n          portalItem: null,\n          paths: []\n        }, this.userHasEditingPrivileges = !0, this.userHasFullEditingPrivileges = !1, this.userHasUpdateItemPrivileges = !1;\n      }\n      destroy() {\n        this.portalItem = l(this.portalItem);\n      }\n      set portalItem(t) {\n        t !== this._get(\"portalItem\") && (this.removeOrigin(\"portal-item\"), this._set(\"portalItem\", t));\n      }\n      readPortalItem(t, e, r) {\n        if (e.itemId) return new w({\n          id: e.itemId,\n          portal: r && r.portal\n        });\n      }\n      writePortalItem(t, e) {\n        t && t.id && (e.itemId = t.id);\n      }\n      async loadFromPortal(t, e) {\n        if (this.portalItem && this.portalItem.id) try {\n          const r = await import(\"../../portal/support/layersLoader.js\");\n          return u(e), await r.load({\n            instance: this,\n            supportedTypes: t.supportedTypes,\n            validateItem: t.validateItem,\n            supportsData: t.supportsData,\n            layerModuleTypeMap: t.layerModuleTypeMap\n          }, e);\n        } catch (r) {\n          throw c(r) || a.getLogger(this.declaredClass).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${r}`), r;\n        }\n      }\n      async finishLoadEditablePortalLayer(t) {\n        this._set(\"userHasEditingPrivileges\", await this._fetchUserHasEditingPrivileges(t).catch(t => (d(t), !0)));\n      }\n      async _setUserPrivileges(t, r) {\n        if (!e.userPrivilegesApplied) return this.finishLoadEditablePortalLayer(r);\n        if (this.url) try {\n          const {\n            features: {\n              edit: e,\n              fullEdit: s\n            },\n            content: {\n              updateItem: i\n            }\n          } = await this._fetchUserPrivileges(t, r);\n          this._set(\"userHasEditingPrivileges\", e), this._set(\"userHasFullEditingPrivileges\", s), this._set(\"userHasUpdateItemPrivileges\", i);\n        } catch (s) {\n          d(s);\n        }\n      }\n      async _fetchUserPrivileges(t, e) {\n        let s = this.portalItem;\n        if (!t || !s || !s.loaded || s.sourceUrl) return this._fetchFallbackUserPrivileges(e);\n        const i = t === s.id;\n        if (i && s.portal.user) return E(s);\n        let o, a;\n        if (i) o = s.portal.url;else try {\n          o = await P(this.url, e);\n        } catch (c) {\n          d(c);\n        }\n        if (!o || !m(o, s.portal.url)) return this._fetchFallbackUserPrivileges(e);\n        try {\n          const t = p(e) ? e.signal : null;\n          a = await r?.getCredential(`${o}/sharing`, {\n            prompt: !1,\n            signal: t\n          });\n        } catch (c) {\n          d(c);\n        }\n        const l = !0,\n          n = !1,\n          u = !1;\n        if (!a) return {\n          features: {\n            edit: l,\n            fullEdit: n\n          },\n          content: {\n            updateItem: u\n          }\n        };\n        try {\n          if (i ? await s.reload() : (s = new w({\n            id: t,\n            portal: {\n              url: o\n            }\n          }), await s.load(e)), s.portal.user) return E(s);\n        } catch (c) {\n          d(c);\n        }\n        return {\n          features: {\n            edit: l,\n            fullEdit: n\n          },\n          content: {\n            updateItem: u\n          }\n        };\n      }\n      async _fetchFallbackUserPrivileges(t) {\n        let e = !0;\n        try {\n          e = await this._fetchUserHasEditingPrivileges(t);\n        } catch (r) {\n          d(r);\n        }\n        return {\n          features: {\n            edit: e,\n            fullEdit: !1\n          },\n          content: {\n            updateItem: !1\n          }\n        };\n      }\n      async _fetchUserHasEditingPrivileges(t) {\n        const e = this.url ? r?.findCredential(this.url) : null;\n        if (!e) return !0;\n        const s = b.credential === e ? b.user : await this._fetchEditingUser(t);\n        return b.credential = e, b.user = s, n(s) || null == s.privileges || s.privileges.includes(\"features:user:edit\");\n      }\n      async _fetchEditingUser(t) {\n        const e = this.portalItem?.portal?.user;\n        if (e) return e;\n        const o = r.findServerInfo(this.url ?? \"\");\n        if (!o?.owningSystemUrl) return null;\n        const a = `${o.owningSystemUrl}/sharing/rest`,\n          l = U.getDefault();\n        if (l && l.loaded && h(l.restUrl) === h(a)) return l.user;\n        const n = `${a}/community/self`,\n          u = p(t) ? t.signal : null,\n          c = await i(s(n, {\n            authMode: \"no-prompt\",\n            query: {\n              f: \"json\"\n            },\n            signal: u\n          }));\n        return c.ok ? j.fromJSON(c.value.data) : null;\n      }\n      read(t, e) {\n        e && (e.layer = this), super.read(t, e);\n      }\n      write(t, e) {\n        const r = e && e.portal,\n          s = this.portalItem && this.portalItem.id && (this.portalItem.portal || U.getDefault());\n        return r && s && !f(s.restUrl, r.restUrl) ? (e.messages && e.messages.push(new o(\"layer:cross-portal\", `The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`, {\n          layer: this\n        })), null) : super.write(t, {\n          ...e,\n          layer: this\n        });\n      }\n    };\n    return t([y({\n      type: w\n    })], H.prototype, \"portalItem\", null), t([g(\"web-document\", \"portalItem\", [\"itemId\"])], H.prototype, \"readPortalItem\", null), t([v(\"web-document\", \"portalItem\", {\n      itemId: {\n        type: String\n      }\n    })], H.prototype, \"writePortalItem\", null), t([y({\n      clonable: !1\n    })], H.prototype, \"resourceReferences\", void 0), t([y({\n      type: Boolean,\n      readOnly: !0\n    })], H.prototype, \"userHasEditingPrivileges\", void 0), t([y({\n      type: Boolean,\n      readOnly: !0\n    })], H.prototype, \"userHasFullEditingPrivileges\", void 0), t([y({\n      type: Boolean,\n      readOnly: !0\n    })], H.prototype, \"userHasUpdateItemPrivileges\", void 0), H = t([I(\"esri.layers.mixins.PortalLayer\")], H), H;\n  },\n  b = {\n    credential: null,\n    user: null\n  };\nexport { _ as PortalLayer };","map":{"version":3,"names":["_","t","e","id","r","s","result","i","o","a","destroyMaybe","l","isSome","p","isNone","n","throwIfAborted","u","isAbortError","c","throwIfAbortError","d","hasSameCanonicalPortal","m","normalize","h","hasSamePortal","f","property","y","reader","g","subclass","I","writer","v","getOwningPortalUrl","P","U","w","j","getUserPrivileges","E","H","constructor","arguments","resourceReferences","portalItem","paths","userHasEditingPrivileges","userHasFullEditingPrivileges","userHasUpdateItemPrivileges","destroy","_get","removeOrigin","_set","readPortalItem","itemId","portal","writePortalItem","loadFromPortal","load","instance","supportedTypes","validateItem","supportsData","layerModuleTypeMap","getLogger","declaredClass","warn","title","finishLoadEditablePortalLayer","_fetchUserHasEditingPrivileges","catch","_setUserPrivileges","userPrivilegesApplied","url","features","edit","fullEdit","content","updateItem","_fetchUserPrivileges","loaded","sourceUrl","_fetchFallbackUserPrivileges","user","signal","getCredential","prompt","reload","findCredential","b","credential","_fetchEditingUser","privileges","includes","findServerInfo","owningSystemUrl","getDefault","restUrl","authMode","query","ok","fromJSON","value","data","read","layer","write","messages","push","type","prototype","String","clonable","Boolean","readOnly","PortalLayer"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/mixins/PortalLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../config.js\";import{id as r}from\"../../kernel.js\";import s from\"../../request.js\";import{result as i}from\"../../core/asyncUtils.js\";import o from\"../../core/Error.js\";import a from\"../../core/Logger.js\";import{destroyMaybe as l,isSome as p,isNone as n}from\"../../core/maybe.js\";import{throwIfAborted as u,isAbortError as c,throwIfAbortError as d}from\"../../core/promiseUtils.js\";import{hasSameCanonicalPortal as m,normalize as h,hasSamePortal as f}from\"../../core/urlUtils.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{reader as g}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as I}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as v}from\"../../core/accessorSupport/decorators/writer.js\";import{getOwningPortalUrl as P}from\"../support/layerUtils.js\";import U from\"../../portal/Portal.js\";import w from\"../../portal/PortalItem.js\";import j from\"../../portal/PortalUser.js\";import{getUserPrivileges as E}from\"../../portal/support/portalItemUtils.js\";const _=_=>{let H=class extends _{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=l(this.portalItem)}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,e,r){if(e.itemId)return new w({id:e.itemId,portal:r&&r.portal})}writePortalItem(t,e){t&&t.id&&(e.itemId=t.id)}async loadFromPortal(t,e){if(this.portalItem&&this.portalItem.id)try{const r=await import(\"../../portal/support/layersLoader.js\");return u(e),await r.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData,layerModuleTypeMap:t.layerModuleTypeMap},e)}catch(r){throw c(r)||a.getLogger(this.declaredClass).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${r}`),r}}async finishLoadEditablePortalLayer(t){this._set(\"userHasEditingPrivileges\",await this._fetchUserHasEditingPrivileges(t).catch((t=>(d(t),!0))))}async _setUserPrivileges(t,r){if(!e.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:e,fullEdit:s},content:{updateItem:i}}=await this._fetchUserPrivileges(t,r);this._set(\"userHasEditingPrivileges\",e),this._set(\"userHasFullEditingPrivileges\",s),this._set(\"userHasUpdateItemPrivileges\",i)}catch(s){d(s)}}async _fetchUserPrivileges(t,e){let s=this.portalItem;if(!t||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(e);const i=t===s.id;if(i&&s.portal.user)return E(s);let o,a;if(i)o=s.portal.url;else try{o=await P(this.url,e)}catch(c){d(c)}if(!o||!m(o,s.portal.url))return this._fetchFallbackUserPrivileges(e);try{const t=p(e)?e.signal:null;a=await(r?.getCredential(`${o}/sharing`,{prompt:!1,signal:t}))}catch(c){d(c)}const l=!0,n=!1,u=!1;if(!a)return{features:{edit:l,fullEdit:n},content:{updateItem:u}};try{if(i?await s.reload():(s=new w({id:t,portal:{url:o}}),await s.load(e)),s.portal.user)return E(s)}catch(c){d(c)}return{features:{edit:l,fullEdit:n},content:{updateItem:u}}}async _fetchFallbackUserPrivileges(t){let e=!0;try{e=await this._fetchUserHasEditingPrivileges(t)}catch(r){d(r)}return{features:{edit:e,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(t){const e=this.url?r?.findCredential(this.url):null;if(!e)return!0;const s=b.credential===e?b.user:await this._fetchEditingUser(t);return b.credential=e,b.user=s,n(s)||null==s.privileges||s.privileges.includes(\"features:user:edit\")}async _fetchEditingUser(t){const e=this.portalItem?.portal?.user;if(e)return e;const o=r.findServerInfo(this.url??\"\");if(!o?.owningSystemUrl)return null;const a=`${o.owningSystemUrl}/sharing/rest`,l=U.getDefault();if(l&&l.loaded&&h(l.restUrl)===h(a))return l.user;const n=`${a}/community/self`,u=p(t)?t.signal:null,c=await i(s(n,{authMode:\"no-prompt\",query:{f:\"json\"},signal:u}));return c.ok?j.fromJSON(c.value.data):null}read(t,e){e&&(e.layer=this),super.read(t,e)}write(t,e){const r=e&&e.portal,s=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||U.getDefault());return r&&s&&!f(s.restUrl,r.restUrl)?(e.messages&&e.messages.push(new o(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...e,layer:this})}};return t([y({type:w})],H.prototype,\"portalItem\",null),t([g(\"web-document\",\"portalItem\",[\"itemId\"])],H.prototype,\"readPortalItem\",null),t([v(\"web-document\",\"portalItem\",{itemId:{type:String}})],H.prototype,\"writePortalItem\",null),t([y({clonable:!1})],H.prototype,\"resourceReferences\",void 0),t([y({type:Boolean,readOnly:!0})],H.prototype,\"userHasEditingPrivileges\",void 0),t([y({type:Boolean,readOnly:!0})],H.prototype,\"userHasFullEditingPrivileges\",void 0),t([y({type:Boolean,readOnly:!0})],H.prototype,\"userHasUpdateItemPrivileges\",void 0),H=t([I(\"esri.layers.mixins.PortalLayer\")],H),H},b={credential:null,user:null};export{_ as PortalLayer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}