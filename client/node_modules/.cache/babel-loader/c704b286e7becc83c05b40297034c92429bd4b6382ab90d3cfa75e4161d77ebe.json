{"ast":null,"code":"/* Copyright 2017 Esri\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { SELECTION_SET, SELECTION_ADD, SELECTION_REMOVE, SELECTION_RESET } from '../../constants/action-types';\nexport const getSelectionType = (shiftKey, altKey) => {\n  if (shiftKey) return SELECTION_ADD;\n  if (altKey) return SELECTION_REMOVE;\n  return SELECTION_SET;\n};\nexport const registerClickEvent = (view, store) => view.on('click', event => view.hitTest(event.screenPoint).then(response => {\n  const graphic = response.results && response.results[0] && response.results[0].graphic;\n  if (graphic) {\n    store.dispatch({\n      type: getSelectionType(event.native.shiftKey, event.native.altKey),\n      layer: graphic.layer.id,\n      OID: graphic.attributes[graphic.layer.objectIdField]\n    });\n    return;\n  }\n  if (!event.native.shiftKey && !event.native.altKey) {\n    store.dispatch({\n      type: SELECTION_RESET\n    });\n  }\n}));\nexport default registerClickEvent;","map":{"version":3,"names":["SELECTION_SET","SELECTION_ADD","SELECTION_REMOVE","SELECTION_RESET","getSelectionType","shiftKey","altKey","registerClickEvent","view","store","on","event","hitTest","screenPoint","then","response","graphic","results","dispatch","type","native","layer","id","OID","attributes","objectIdField"],"sources":["C:/code-challenge-react/frontend/src/middleware/arcgis-sceneview/interaction.js"],"sourcesContent":["/* Copyright 2017 Esri\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport {\n  SELECTION_SET,\n  SELECTION_ADD,\n  SELECTION_REMOVE,\n  SELECTION_RESET,\n} from '../../constants/action-types';\n\n\nexport const getSelectionType = (shiftKey, altKey) => {\n  if (shiftKey) return SELECTION_ADD;\n  if (altKey) return SELECTION_REMOVE;\n  return SELECTION_SET;\n};\n\n\nexport const registerClickEvent = (view, store) =>\n  view.on('click', event =>\n    view.hitTest(event.screenPoint)\n      .then((response) => {\n        const graphic = response.results && response.results[0] && response.results[0].graphic;\n\n        if (graphic) {\n          store.dispatch({\n            type: getSelectionType(event.native.shiftKey, event.native.altKey),\n            layer: graphic.layer.id,\n            OID: graphic.attributes[graphic.layer.objectIdField],\n          });\n\n          return;\n        }\n\n        if (!event.native.shiftKey && !event.native.altKey) {\n          store.dispatch({ type: SELECTION_RESET });\n        }\n      }));\n\n\nexport default registerClickEvent;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SACEA,aAAa,EACbC,aAAa,EACbC,gBAAgB,EAChBC,eAAe,QACV,8BAA8B;AAGrC,OAAO,MAAMC,gBAAgB,GAAGA,CAACC,QAAQ,EAAEC,MAAM,KAAK;EACpD,IAAID,QAAQ,EAAE,OAAOJ,aAAa;EAClC,IAAIK,MAAM,EAAE,OAAOJ,gBAAgB;EACnC,OAAOF,aAAa;AACtB,CAAC;AAGD,OAAO,MAAMO,kBAAkB,GAAGA,CAACC,IAAI,EAAEC,KAAK,KAC5CD,IAAI,CAACE,EAAE,CAAC,OAAO,EAAEC,KAAK,IACpBH,IAAI,CAACI,OAAO,CAACD,KAAK,CAACE,WAAW,CAAC,CAC5BC,IAAI,CAAEC,QAAQ,IAAK;EAClB,MAAMC,OAAO,GAAGD,QAAQ,CAACE,OAAO,IAAIF,QAAQ,CAACE,OAAO,CAAC,CAAC,CAAC,IAAIF,QAAQ,CAACE,OAAO,CAAC,CAAC,CAAC,CAACD,OAAO;EAEtF,IAAIA,OAAO,EAAE;IACXP,KAAK,CAACS,QAAQ,CAAC;MACbC,IAAI,EAAEf,gBAAgB,CAACO,KAAK,CAACS,MAAM,CAACf,QAAQ,EAAEM,KAAK,CAACS,MAAM,CAACd,MAAM,CAAC;MAClEe,KAAK,EAAEL,OAAO,CAACK,KAAK,CAACC,EAAE;MACvBC,GAAG,EAAEP,OAAO,CAACQ,UAAU,CAACR,OAAO,CAACK,KAAK,CAACI,aAAa;IACrD,CAAC,CAAC;IAEF;EACF;EAEA,IAAI,CAACd,KAAK,CAACS,MAAM,CAACf,QAAQ,IAAI,CAACM,KAAK,CAACS,MAAM,CAACd,MAAM,EAAE;IAClDG,KAAK,CAACS,QAAQ,CAAC;MAAEC,IAAI,EAAEhB;IAAgB,CAAC,CAAC;EAC3C;AACF,CAAC,CAAC,CAAC;AAGT,eAAeI,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}