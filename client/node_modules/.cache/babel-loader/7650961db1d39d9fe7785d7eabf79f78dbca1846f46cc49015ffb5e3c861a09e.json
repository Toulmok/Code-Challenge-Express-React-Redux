{"ast":null,"code":"import _slicedToArray from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _inherits from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { PathTransformationCursor as t, getCoord2D as e } from \"../CIMCursor.js\";\nimport { CurveHelper as s } from \"../CurveHelper.js\";\nimport { ExtremityPlacement as i } from \"../enums.js\";\nvar n = /*#__PURE__*/function () {\n  function n() {\n    _classCallCheck(this, n);\n  }\n  _createClass(n, [{\n    key: \"execute\",\n    value: function execute(t, e, s, i, _n) {\n      return new r(t, e, s);\n    }\n  }], [{\n    key: \"local\",\n    value: function local() {\n      return null === n.instance && (n.instance = new n()), n.instance;\n    }\n  }]);\n  return n;\n}();\nn.instance = null;\nvar r = /*#__PURE__*/function (_t) {\n  _inherits(r, _t);\n  var _super = _createSuper(r);\n  function r(t, e, i) {\n    var _this;\n    _classCallCheck(this, r);\n    _this = _super.call(this, t, !1, !0), _this._curveHelper = new s(), _this._angleToLine = void 0 === e.angleToLine || e.angleToLine, _this._offset = void 0 !== e.offset ? e.offset * i : 0, _this._type = e.extremityPlacement, _this._position = void 0 !== e.offsetAlongLine ? e.offsetAlongLine * i : 0, _this._beginProcessed = !1;\n    return _this;\n  }\n  _createClass(r, [{\n    key: \"processPath\",\n    value: function processPath(t) {\n      var e;\n      switch (this._type) {\n        case i.Both:\n        default:\n          this._beginProcessed ? (e = this._atExtremities(t, this._position, !1), this._beginProcessed = !1, this.iteratePath = !1) : (e = this._atExtremities(t, this._position, !0), this._beginProcessed = !0, this.iteratePath = !0);\n          break;\n        case i.JustBegin:\n          e = this._atExtremities(t, this._position, !0);\n          break;\n        case i.JustEnd:\n          e = this._atExtremities(t, this._position, !1);\n        case i.None:\n      }\n      return e;\n    }\n  }, {\n    key: \"_atExtremities\",\n    value: function _atExtremities(t, s, i) {\n      var n = t.length;\n      if (n < 2) return null;\n      var _r = i ? 1 : n - 2,\n        o = i ? n : -1,\n        a = i ? 1 : -1;\n      var l,\n        h = 0,\n        c = i ? t[0] : t[n - 1];\n      for (var _ = _r; _ !== o; _ += a) {\n        l = c, c = t[_];\n        var _i = this._curveHelper.calculateLength(l, c);\n        if (h + _i > s) {\n          var _t2 = (s - h) / _i,\n            _this$_curveHelper$ge = this._curveHelper.getAngleCS(l, c, _t2),\n            _this$_curveHelper$ge2 = _slicedToArray(_this$_curveHelper$ge, 2),\n            _n2 = _this$_curveHelper$ge2[0],\n            _r2 = _this$_curveHelper$ge2[1],\n            _o = e(l, c, _t2);\n          return this.internalPlacement.setTranslate(_o[0] - this._offset * _r2, _o[1] + this._offset * _n2), this._angleToLine && this.internalPlacement.setRotateCS(-_n2, -_r2), this.internalPlacement;\n        }\n        h += _i;\n      }\n      return null;\n    }\n  }]);\n  return r;\n}(t);\nexport { n as PlacementAtExtremities };","map":{"version":3,"names":["PathTransformationCursor","t","getCoord2D","e","CurveHelper","s","ExtremityPlacement","i","n","_classCallCheck","_createClass","key","value","execute","r","local","instance","_t","_inherits","_super","_createSuper","_this","call","_curveHelper","_angleToLine","angleToLine","_offset","offset","_type","extremityPlacement","_position","offsetAlongLine","_beginProcessed","processPath","Both","_atExtremities","iteratePath","JustBegin","JustEnd","None","length","o","a","l","h","c","_","calculateLength","_this$_curveHelper$ge","getAngleCS","_this$_curveHelper$ge2","_slicedToArray","internalPlacement","setTranslate","setRotateCS","PlacementAtExtremities"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/symbols/cim/placements/PlacementAtExtremities.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{PathTransformationCursor as t,getCoord2D as e}from\"../CIMCursor.js\";import{CurveHelper as s}from\"../CurveHelper.js\";import{ExtremityPlacement as i}from\"../enums.js\";class n{static local(){return null===n.instance&&(n.instance=new n),n.instance}execute(t,e,s,i,n){return new r(t,e,s)}}n.instance=null;class r extends t{constructor(t,e,i){super(t,!1,!0),this._curveHelper=new s,this._angleToLine=void 0===e.angleToLine||e.angleToLine,this._offset=void 0!==e.offset?e.offset*i:0,this._type=e.extremityPlacement,this._position=void 0!==e.offsetAlongLine?e.offsetAlongLine*i:0,this._beginProcessed=!1}processPath(t){let e;switch(this._type){case i.Both:default:this._beginProcessed?(e=this._atExtremities(t,this._position,!1),this._beginProcessed=!1,this.iteratePath=!1):(e=this._atExtremities(t,this._position,!0),this._beginProcessed=!0,this.iteratePath=!0);break;case i.JustBegin:e=this._atExtremities(t,this._position,!0);break;case i.JustEnd:e=this._atExtremities(t,this._position,!1);case i.None:}return e}_atExtremities(t,s,i){const n=t.length;if(n<2)return null;const r=i?1:n-2,o=i?n:-1,a=i?1:-1;let l,h=0,c=i?t[0]:t[n-1];for(let _=r;_!==o;_+=a){l=c,c=t[_];const i=this._curveHelper.calculateLength(l,c);if(h+i>s){const t=(s-h)/i,[n,r]=this._curveHelper.getAngleCS(l,c,t),o=e(l,c,t);return this.internalPlacement.setTranslate(o[0]-this._offset*r,o[1]+this._offset*n),this._angleToLine&&this.internalPlacement.setRotateCS(-n,-r),this.internalPlacement}h+=i}return null}}export{n as PlacementAtExtremities};\n"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA,SAAOA,wBAAwB,IAAIC,CAAC,EAACC,UAAU,IAAIC,CAAC,QAAK,iBAAiB;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,kBAAkB,IAAIC,CAAC,QAAK,aAAa;AAAC,IAAMC,CAAC;EAAA,SAAAA,EAAA;IAAAC,eAAA,OAAAD,CAAA;EAAA;EAAAE,YAAA,CAAAF,CAAA;IAAAG,GAAA;IAAAC,KAAA,EAAwE,SAAAC,QAAQZ,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACC,EAAC,EAAC;MAAC,OAAO,IAAIM,CAAC,CAACb,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC;IAAA;EAAC;IAAAM,GAAA;IAAAC,KAAA,EAA9G,SAAAG,MAAA,EAAc;MAAC,OAAO,IAAI,KAAGP,CAAC,CAACQ,QAAQ,KAAGR,CAAC,CAACQ,QAAQ,GAAC,IAAIR,CAAC,GAAC,EAACA,CAAC,CAACQ,QAAQ;IAAA;EAAC;EAAA,OAAAR,CAAA;AAAA;AAAwCA,CAAC,CAACQ,QAAQ,GAAC,IAAI;AAAC,IAAMF,CAAC,0BAAAG,EAAA;EAAAC,SAAA,CAAAJ,CAAA,EAAAG,EAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAN,CAAA;EAAW,SAAAA,EAAYb,CAAC,EAACE,CAAC,EAACI,CAAC,EAAC;IAAA,IAAAc,KAAA;IAAAZ,eAAA,OAAAK,CAAA;IAACO,KAAA,GAAAF,MAAA,CAAAG,IAAA,OAAMrB,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,GAAEoB,KAAA,CAAKE,YAAY,GAAC,IAAIlB,CAAC,IAACgB,KAAA,CAAKG,YAAY,GAAC,KAAK,CAAC,KAAGrB,CAAC,CAACsB,WAAW,IAAEtB,CAAC,CAACsB,WAAW,EAACJ,KAAA,CAAKK,OAAO,GAAC,KAAK,CAAC,KAAGvB,CAAC,CAACwB,MAAM,GAACxB,CAAC,CAACwB,MAAM,GAACpB,CAAC,GAAC,CAAC,EAACc,KAAA,CAAKO,KAAK,GAACzB,CAAC,CAAC0B,kBAAkB,EAACR,KAAA,CAAKS,SAAS,GAAC,KAAK,CAAC,KAAG3B,CAAC,CAAC4B,eAAe,GAAC5B,CAAC,CAAC4B,eAAe,GAACxB,CAAC,GAAC,CAAC,EAACc,KAAA,CAAKW,eAAe,GAAC,CAAC,CAAC;IAAA,OAAAX,KAAA;EAAA;EAACX,YAAA,CAAAI,CAAA;IAAAH,GAAA;IAAAC,KAAA,WAAAqB,YAAYhC,CAAC,EAAC;MAAC,IAAIE,CAAC;MAAC,QAAO,IAAI,CAACyB,KAAK;QAAE,KAAKrB,CAAC,CAAC2B,IAAI;QAAC;UAAQ,IAAI,CAACF,eAAe,IAAE7B,CAAC,GAAC,IAAI,CAACgC,cAAc,CAAClC,CAAC,EAAC,IAAI,CAAC6B,SAAS,EAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACE,eAAe,GAAC,CAAC,CAAC,EAAC,IAAI,CAACI,WAAW,GAAC,CAAC,CAAC,KAAGjC,CAAC,GAAC,IAAI,CAACgC,cAAc,CAAClC,CAAC,EAAC,IAAI,CAAC6B,SAAS,EAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACE,eAAe,GAAC,CAAC,CAAC,EAAC,IAAI,CAACI,WAAW,GAAC,CAAC,CAAC,CAAC;UAAC;QAAM,KAAK7B,CAAC,CAAC8B,SAAS;UAAClC,CAAC,GAAC,IAAI,CAACgC,cAAc,CAAClC,CAAC,EAAC,IAAI,CAAC6B,SAAS,EAAC,CAAC,CAAC,CAAC;UAAC;QAAM,KAAKvB,CAAC,CAAC+B,OAAO;UAACnC,CAAC,GAAC,IAAI,CAACgC,cAAc,CAAClC,CAAC,EAAC,IAAI,CAAC6B,SAAS,EAAC,CAAC,CAAC,CAAC;QAAC,KAAKvB,CAAC,CAACgC,IAAI;MAAC;MAAC,OAAOpC,CAAC;IAAA;EAAC;IAAAQ,GAAA;IAAAC,KAAA,WAAAuB,eAAelC,CAAC,EAACI,CAAC,EAACE,CAAC,EAAC;MAAC,IAAMC,CAAC,GAACP,CAAC,CAACuC,MAAM;MAAC,IAAGhC,CAAC,GAAC,CAAC,EAAC,OAAO,IAAI;MAAC,IAAMM,EAAC,GAACP,CAAC,GAAC,CAAC,GAACC,CAAC,GAAC,CAAC;QAACiC,CAAC,GAAClC,CAAC,GAACC,CAAC,GAAC,CAAC,CAAC;QAACkC,CAAC,GAACnC,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC;MAAC,IAAIoC,CAAC;QAACC,CAAC,GAAC,CAAC;QAACC,CAAC,GAACtC,CAAC,GAACN,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,CAACO,CAAC,GAAC,CAAC,CAAC;MAAC,KAAI,IAAIsC,CAAC,GAAChC,EAAC,EAACgC,CAAC,KAAGL,CAAC,EAACK,CAAC,IAAEJ,CAAC,EAAC;QAACC,CAAC,GAACE,CAAC,EAACA,CAAC,GAAC5C,CAAC,CAAC6C,CAAC,CAAC;QAAC,IAAMvC,EAAC,GAAC,IAAI,CAACgB,YAAY,CAACwB,eAAe,CAACJ,CAAC,EAACE,CAAC,CAAC;QAAC,IAAGD,CAAC,GAACrC,EAAC,GAACF,CAAC,EAAC;UAAO,IAAAJ,GAAC,GAAC,CAACI,CAAC,GAACuC,CAAC,IAAErC,EAAC;YAAAyC,qBAAA,GAAO,IAAI,CAACzB,YAAY,CAAC0B,UAAU,CAACN,CAAC,EAACE,CAAC,EAAC5C,GAAC,CAAC;YAAAiD,sBAAA,GAAAC,cAAA,CAAAH,qBAAA;YAAxCxC,GAAC,GAAA0C,sBAAA;YAACpC,GAAC,GAAAoC,sBAAA;YAAsCT,EAAC,GAACtC,CAAC,CAACwC,CAAC,EAACE,CAAC,EAAC5C,GAAC,CAAC;UAAC,OAAO,IAAI,CAACmD,iBAAiB,CAACC,YAAY,CAACZ,EAAC,CAAC,CAAC,CAAC,GAAC,IAAI,CAACf,OAAO,GAACZ,GAAC,EAAC2B,EAAC,CAAC,CAAC,CAAC,GAAC,IAAI,CAACf,OAAO,GAAClB,GAAC,CAAC,EAAC,IAAI,CAACgB,YAAY,IAAE,IAAI,CAAC4B,iBAAiB,CAACE,WAAW,CAAC,CAAC9C,GAAC,EAAC,CAACM,GAAC,CAAC,EAAC,IAAI,CAACsC,iBAAiB;QAAA;QAACR,CAAC,IAAErC,EAAC;MAAA;MAAC,OAAO,IAAI;IAAA;EAAC;EAAA,OAAAO,CAAA;AAAA,EAAnoCb,CAAC;AAAmoC,SAAOO,CAAC,IAAI+C,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}