{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _createClass from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { Point as e } from \"../../../../geometry/support/TileClipper.js\";\nimport { C_DEG_TO_RAD as t, C_PI as i, C_INFINITY as n, radToByte as s, positiveMod as o, C_2PI as a } from \"./GeometryUtils.js\";\nimport { SDF_GLYPH_SIZE as l, TextShaping as h, SDF_GLYPH_BASELINE as r } from \"./TextShaping.js\";\nimport { DECLUTTER_TILES as c } from \"./decluttering/config.js\";\nimport { RotationAlignment as g, SymbolAnchor as m } from \"./style/StyleDefinition.js\";\nvar x = 4096,\n  d = 512,\n  p = 8,\n  w = .5,\n  T = 2;\nvar y = /*#__PURE__*/_createClass(function y(e, t) {\n  var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : -1;\n  var s = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : w;\n  _classCallCheck(this, y);\n  this.x = e, this.y = t, this.angle = i, this.segment = n, this.minzoom = s;\n});\nvar f = /*#__PURE__*/_createClass(function f(e, t, i, s, o) {\n  var a = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : w;\n  var l = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : n;\n  _classCallCheck(this, f);\n  this.anchor = e, this.labelAngle = t, this.glyphAngle = i, this.page = s, this.alternateVerticalGlyph = o, this.minzoom = a, this.maxzoom = l;\n});\nvar I = /*#__PURE__*/_createClass(function I(e, t, i, n, s, o, a, l, h, r, c, g) {\n  _classCallCheck(this, I);\n  this.tl = e, this.tr = t, this.bl = i, this.br = n, this.mosaicRect = s, this.labelAngle = o, this.minAngle = a, this.maxAngle = l, this.anchor = h, this.minzoom = r, this.maxzoom = c, this.page = g;\n});\nvar u = /*#__PURE__*/_createClass(function u(e) {\n  _classCallCheck(this, u);\n  this.shapes = e;\n});\nvar b = /*#__PURE__*/function () {\n  function b() {\n    _classCallCheck(this, b);\n  }\n  _createClass(b, [{\n    key: \"getIconPlacement\",\n    value: function getIconPlacement(n, s, o) {\n      var a = new e(n.x, n.y),\n        l = o.rotationAlignment === g.MAP,\n        h = o.keepUpright;\n      var r = o.rotate * t;\n      l && (r += n.angle);\n      var m = new u([]);\n      return o.allowOverlap && o.ignorePlacement || !c || (m.iconColliders = []), this._addIconPlacement(m, a, s, o, r), l && h && this._addIconPlacement(m, a, s, o, r + i), m;\n    }\n  }, {\n    key: \"_addIconPlacement\",\n    value: function _addIconPlacement(t, i, s, o, a) {\n      var l = s.pixelRatio,\n        h = s.width / l,\n        r = s.height / l,\n        g = o.offset;\n      var x = g[0],\n        d = g[1];\n      switch (o.anchor) {\n        case m.CENTER:\n          x -= h / 2, d -= r / 2;\n          break;\n        case m.LEFT:\n          d -= r / 2;\n          break;\n        case m.RIGHT:\n          x -= h, d -= r / 2;\n          break;\n        case m.TOP:\n          x -= h / 2;\n          break;\n        case m.BOTTOM:\n          x -= h / 2, d -= r;\n          break;\n        case m.TOP_LEFT:\n          break;\n        case m.BOTTOM_LEFT:\n          d -= r;\n          break;\n        case m.TOP_RIGHT:\n          x -= h;\n          break;\n        case m.BOTTOM_RIGHT:\n          x -= h, d -= r;\n      }\n      var p = s.rect,\n        T = 2 / l,\n        y = x - T,\n        f = d - T,\n        u = y + p.width / l,\n        _b = f + p.height / l,\n        P = new e(y, f),\n        O = new e(u, _b),\n        _ = new e(y, _b),\n        k = new e(u, f);\n      if (0 !== a) {\n        var _e = Math.cos(a),\n          _t = Math.sin(a);\n        P.rotate(_e, _t), O.rotate(_e, _t), _.rotate(_e, _t), k.rotate(_e, _t);\n      }\n      var M = new I(P, k, _, O, p, a, 0, 256, i, w, n, 0);\n      if (t.shapes.push(M), (!o.allowOverlap || !o.ignorePlacement) && c) {\n        var _e2 = o.size,\n          _s = o.padding,\n          _l = {\n            xTile: i.x,\n            yTile: i.y,\n            dxPixels: x * _e2 - _s,\n            dyPixels: d * _e2 - _s,\n            hard: !o.optional,\n            partIndex: 0,\n            width: h * _e2 + 2 * _s,\n            height: r * _e2 + 2 * _s,\n            angle: a,\n            minLod: w,\n            maxLod: n\n          };\n        t.iconColliders.push(_l);\n      }\n    }\n  }, {\n    key: \"getTextPlacement\",\n    value: function getTextPlacement(s, o, a, c) {\n      var x = new e(s.x, s.y),\n        d = c.rotate * t,\n        y = c.rotationAlignment === g.MAP,\n        _b2 = c.keepUpright,\n        P = c.padding;\n      var O = w;\n      var _ = !y ? 0 : s.angle,\n        k = s.segment >= 0 && y,\n        M = c.allowOverlap && c.ignorePlacement ? null : [],\n        E = [],\n        G = 4,\n        N = !k;\n      var A = Number.POSITIVE_INFINITY,\n        L = Number.NEGATIVE_INFINITY,\n        z = A,\n        F = L;\n      var v = (k || y) && _b2,\n        R = c.size / l;\n      var B = !1;\n      var _iterator = _createForOfIteratorHelper(o),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _e5 = _step.value;\n          if (_e5.vertical) {\n            B = !0;\n            break;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      var H,\n        V = 0,\n        j = 0;\n      if (!k && B) {\n        var _e3 = h.getTextBox(o, c.lineHeight * l);\n        switch (c.anchor) {\n          case m.LEFT:\n            V = _e3.height / 2, j = -_e3.width / 2;\n            break;\n          case m.RIGHT:\n            V = -_e3.height / 2, j = _e3.width / 2;\n            break;\n          case m.TOP:\n            V = _e3.height / 2, j = _e3.width / 2;\n            break;\n          case m.BOTTOM:\n            V = -_e3.height / 2, j = -_e3.width / 2;\n            break;\n          case m.TOP_LEFT:\n            V = _e3.height;\n            break;\n          case m.BOTTOM_LEFT:\n            j = -_e3.width;\n            break;\n          case m.TOP_RIGHT:\n            j = _e3.width;\n            break;\n          case m.BOTTOM_RIGHT:\n            V = -_e3.height;\n        }\n      }\n      V += c.offset[0] * l, j += c.offset[1] * l;\n      var _iterator2 = _createForOfIteratorHelper(o),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _t3 = _step2.value;\n          var _o2 = _t3.glyphMosaicItem;\n          if (!_o2 || _o2.rect.isEmpty) continue;\n          var _l2 = _o2.rect,\n            _h = _o2.metrics,\n            _g = _o2.page;\n          if (M && N) {\n            if (void 0 !== H && H !== _t3.y) {\n              var _e6 = void 0,\n                _t4 = void 0,\n                _i2 = void 0,\n                _o3 = void 0;\n              B ? (_e6 = -F + V, _t4 = A + j, _i2 = F - z, _o3 = L - A) : (_e6 = A + V, _t4 = z + j, _i2 = L - A, _o3 = F - z);\n              var _a2 = {\n                xTile: s.x,\n                yTile: s.y,\n                dxPixels: _e6 * R - P,\n                dyPixels: _t4 * R - P,\n                hard: !c.optional,\n                partIndex: 1,\n                width: _i2 * R + 2 * P,\n                height: _o3 * R + 2 * P,\n                angle: d,\n                minLod: w,\n                maxLod: n\n              };\n              M.push(_a2), A = Number.POSITIVE_INFINITY, L = Number.NEGATIVE_INFINITY, z = A, F = L;\n            }\n            H = _t3.y;\n          }\n          var _m = [];\n          if (k) {\n            var _e7 = .5 * _o2.metrics.width,\n              _i3 = (_t3.x + _h.left - G + _e7) * R * p;\n            if (O = this._placeGlyph(s, O, _i3, a, s.segment, 1, _t3.vertical, _g, _m), _b2 && (O = this._placeGlyph(s, O, _i3, a, s.segment, -1, _t3.vertical, _g, _m)), O >= T) break;\n          } else _m.push(new f(x, _, _, _g, !1)), y && _b2 && _m.push(new f(x, _ + i, _ + i, _g, !1));\n          var _u = _t3.x + _h.left,\n            _C = _t3.y - r - _h.top,\n            S = _u + _h.width,\n            Y = _C + _h.height;\n          var q = void 0,\n            U = void 0,\n            D = void 0,\n            J = void 0,\n            K = void 0,\n            Q = void 0,\n            W = void 0,\n            X = void 0;\n          if (!k && B) {\n            if (_t3.vertical) {\n              var _t5 = (_u + S) / 2 - _h.height / 2,\n                _i4 = (_C + Y) / 2 + _h.width / 2;\n              q = new e(-_i4 - G + V, _t5 - G + j), U = new e(q.x + _l2.width, q.y + _l2.height), D = new e(q.x, U.y), J = new e(U.x, q.y);\n            } else q = new e(-_C + G + V, _u - G + j), U = new e(q.x - _l2.height, q.y + _l2.width), D = new e(U.x, q.y), J = new e(q.x, U.y);\n          } else q = new e(_u - G + V, _C - G + j), U = new e(q.x + _l2.width, q.y + _l2.height), D = new e(q.x, U.y), J = new e(U.x, q.y);\n          for (var _i5 = 0, _m2 = _m; _i5 < _m2.length; _i5++) {\n            var _i6 = _m2[_i5];\n            var _n = void 0,\n              _o4 = void 0,\n              _a3 = void 0,\n              _r = void 0;\n            if (_i6.alternateVerticalGlyph) {\n              if (!K) {\n                var _t6 = (_C + Y) / 2 + j;\n                K = new e((_u + S) / 2 + V - _h.height / 2 - G, _t6 + _h.width / 2 + G), Q = new e(K.x + _l2.height, K.y - _l2.width), W = new e(Q.x, K.y), X = new e(K.x, Q.y);\n              }\n              _n = K, _o4 = W, _a3 = X, _r = Q;\n            } else _n = q, _o4 = D, _a3 = J, _r = U;\n            var _g2 = _C,\n              _m3 = Y,\n              _x = _i6.glyphAngle + d;\n            if (0 !== _x) {\n              var _o5, _a4, _r2, _r3, _o6, _a5;\n              var _e8 = Math.cos(_x),\n                _t7 = Math.sin(_x);\n              _n = _n.clone(), _o4 = (_o5 = _o4) === null || _o5 === void 0 ? void 0 : _o5.clone(), _a3 = (_a4 = _a3) === null || _a4 === void 0 ? void 0 : _a4.clone(), _r = (_r2 = _r) === null || _r2 === void 0 ? void 0 : _r2.clone(), _n.rotate(_e8, _t7), (_r3 = _r) !== null && _r3 !== void 0 && _r3.rotate(_e8, _t7), (_o6 = _o4) !== null && _o6 !== void 0 && _o6.rotate(_e8, _t7), (_a5 = _a3) === null || _a5 === void 0 ? void 0 : _a5.rotate(_e8, _t7);\n            }\n            var _p = 0,\n              _w = 256;\n            if (k && B ? _t3.vertical ? _i6.alternateVerticalGlyph ? (_p = 32, _w = 96) : (_p = 224, _w = 32) : (_p = 224, _w = 96) : (_p = 192, _w = 64), E.push(new I(_n, _a3, _o4, _r, _l2, _i6.labelAngle, _p, _w, _i6.anchor, _i6.minzoom, _i6.maxzoom, _i6.page)), M && (!v || this._legible(_i6.labelAngle))) if (N) _u < A && (A = _u), _g2 < z && (z = _g2), S > L && (L = S), _m3 > F && (F = _m3);else if (_i6.minzoom < T) {\n              var _e9 = {\n                xTile: s.x,\n                yTile: s.y,\n                dxPixels: (_u + V) * R - P,\n                dyPixels: (_g2 + V) * R - P,\n                hard: !c.optional,\n                partIndex: 1,\n                width: (S - _u) * R + 2 * P,\n                height: (_m3 - _g2) * R + 2 * P,\n                angle: _x,\n                minLod: _i6.minzoom,\n                maxLod: _i6.maxzoom\n              };\n              M.push(_e9);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      if (O >= T) return null;\n      if (M && N) {\n        var _e4, _t2, _i, _o;\n        B ? (_e4 = -F + V, _t2 = A + j, _i = F - z, _o = L - A) : (_e4 = A + V, _t2 = z + j, _i = L - A, _o = F - z);\n        var _a = {\n          xTile: s.x,\n          yTile: s.y,\n          dxPixels: _e4 * R - P,\n          dyPixels: _t2 * R - P,\n          hard: !c.optional,\n          partIndex: 1,\n          width: _i * R + 2 * P,\n          height: _o * R + 2 * P,\n          angle: d,\n          minLod: w,\n          maxLod: n\n        };\n        M.push(_a);\n      }\n      var C = new u(E);\n      return M && M.length > 0 && (C.textColliders = M), C;\n    }\n  }, {\n    key: \"_legible\",\n    value: function _legible(e) {\n      var t = s(e);\n      return t < 65 || t >= 193;\n    }\n  }, {\n    key: \"_placeGlyph\",\n    value: function _placeGlyph(t, s, l, h, r, c, g, m, x) {\n      var d = c;\n      var p = d < 0 ? o(t.angle + i, a) : t.angle;\n      var w = 0;\n      l < 0 && (d *= -1, l *= -1, w = i), d > 0 && ++r;\n      var T = new e(t.x, t.y),\n        y = h[r],\n        I = n;\n      if (h.length <= r) return I;\n      for (;;) {\n        var _e10 = y.x - T.x,\n          _t8 = y.y - T.y,\n          _i7 = Math.sqrt(_e10 * _e10 + _t8 * _t8),\n          _n2 = Math.max(l / _i7, s),\n          _c = _e10 / _i7,\n          _u2 = _t8 / _i7,\n          _b3 = o(Math.atan2(_u2, _c) + w, a);\n        if (x.push(new f(T, p, _b3, m, !1, _n2, I)), g && x.push(new f(T, p, _b3, m, !0, _n2, I)), _n2 <= s) return _n2;\n        T = y.clone();\n        do {\n          if (r += d, h.length <= r || r < 0) return _n2;\n          y = h[r];\n        } while (T.isEqual(y));\n        var P = y.x - T.x,\n          O = y.y - T.y;\n        var _ = Math.sqrt(P * P + O * O);\n        P *= _i7 / _, O *= _i7 / _, T.x -= P, T.y -= O, I = _n2;\n      }\n    }\n  }]);\n  return b;\n}();\nexport { y as Anchor, I as PlacedSymbol, u as Placement, b as PlacementEngine, x as TILE_COORD_SIZE, p as TILE_PIXEL_RATIO, d as TILE_PIXEL_SIZE };","map":{"version":3,"names":["Point","e","C_DEG_TO_RAD","t","C_PI","i","C_INFINITY","n","radToByte","s","positiveMod","o","C_2PI","a","SDF_GLYPH_SIZE","l","TextShaping","h","SDF_GLYPH_BASELINE","r","DECLUTTER_TILES","c","RotationAlignment","g","SymbolAnchor","m","x","d","p","w","T","y","_createClass","arguments","length","undefined","_classCallCheck","angle","segment","minzoom","f","anchor","labelAngle","glyphAngle","page","alternateVerticalGlyph","maxzoom","I","tl","tr","bl","br","mosaicRect","minAngle","maxAngle","u","shapes","b","key","value","getIconPlacement","rotationAlignment","MAP","keepUpright","rotate","allowOverlap","ignorePlacement","iconColliders","_addIconPlacement","pixelRatio","width","height","offset","CENTER","LEFT","RIGHT","TOP","BOTTOM","TOP_LEFT","BOTTOM_LEFT","TOP_RIGHT","BOTTOM_RIGHT","rect","P","O","_","k","Math","cos","sin","M","push","size","padding","xTile","yTile","dxPixels","dyPixels","hard","optional","partIndex","minLod","maxLod","getTextPlacement","E","G","N","A","Number","POSITIVE_INFINITY","L","NEGATIVE_INFINITY","z","F","v","R","B","_iterator","_createForOfIteratorHelper","_step","done","vertical","err","H","V","j","getTextBox","lineHeight","_iterator2","_step2","glyphMosaicItem","isEmpty","metrics","left","_placeGlyph","C","top","S","Y","q","U","D","J","K","Q","W","X","_i5","_m2","_o5","_a4","_r2","_r3","_o6","_a5","clone","_legible","textColliders","sqrt","max","atan2","isEqual","Anchor","PlacedSymbol","Placement","PlacementEngine","TILE_COORD_SIZE","TILE_PIXEL_RATIO","TILE_PIXEL_SIZE"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/2d/engine/vectorTiles/Placement.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{Point as e}from\"../../../../geometry/support/TileClipper.js\";import{C_DEG_TO_RAD as t,C_PI as i,C_INFINITY as n,radToByte as s,positiveMod as o,C_2PI as a}from\"./GeometryUtils.js\";import{SDF_GLYPH_SIZE as l,TextShaping as h,SDF_GLYPH_BASELINE as r}from\"./TextShaping.js\";import{DECLUTTER_TILES as c}from\"./decluttering/config.js\";import{RotationAlignment as g,SymbolAnchor as m}from\"./style/StyleDefinition.js\";const x=4096,d=512,p=8,w=.5,T=2;class y{constructor(e,t,i=0,n=-1,s=w){this.x=e,this.y=t,this.angle=i,this.segment=n,this.minzoom=s}}class f{constructor(e,t,i,s,o,a=w,l=n){this.anchor=e,this.labelAngle=t,this.glyphAngle=i,this.page=s,this.alternateVerticalGlyph=o,this.minzoom=a,this.maxzoom=l}}class I{constructor(e,t,i,n,s,o,a,l,h,r,c,g){this.tl=e,this.tr=t,this.bl=i,this.br=n,this.mosaicRect=s,this.labelAngle=o,this.minAngle=a,this.maxAngle=l,this.anchor=h,this.minzoom=r,this.maxzoom=c,this.page=g}}class u{constructor(e){this.shapes=e}}class b{getIconPlacement(n,s,o){const a=new e(n.x,n.y),l=o.rotationAlignment===g.MAP,h=o.keepUpright;let r=o.rotate*t;l&&(r+=n.angle);const m=new u([]);return o.allowOverlap&&o.ignorePlacement||!c||(m.iconColliders=[]),this._addIconPlacement(m,a,s,o,r),l&&h&&this._addIconPlacement(m,a,s,o,r+i),m}_addIconPlacement(t,i,s,o,a){const l=s.pixelRatio,h=s.width/l,r=s.height/l,g=o.offset;let x=g[0],d=g[1];switch(o.anchor){case m.CENTER:x-=h/2,d-=r/2;break;case m.LEFT:d-=r/2;break;case m.RIGHT:x-=h,d-=r/2;break;case m.TOP:x-=h/2;break;case m.BOTTOM:x-=h/2,d-=r;break;case m.TOP_LEFT:break;case m.BOTTOM_LEFT:d-=r;break;case m.TOP_RIGHT:x-=h;break;case m.BOTTOM_RIGHT:x-=h,d-=r}const p=s.rect,T=2/l,y=x-T,f=d-T,u=y+p.width/l,b=f+p.height/l,P=new e(y,f),O=new e(u,b),_=new e(y,b),k=new e(u,f);if(0!==a){const e=Math.cos(a),t=Math.sin(a);P.rotate(e,t),O.rotate(e,t),_.rotate(e,t),k.rotate(e,t)}const M=new I(P,k,_,O,p,a,0,256,i,w,n,0);if(t.shapes.push(M),(!o.allowOverlap||!o.ignorePlacement)&&c){const e=o.size,s=o.padding,l={xTile:i.x,yTile:i.y,dxPixels:x*e-s,dyPixels:d*e-s,hard:!o.optional,partIndex:0,width:h*e+2*s,height:r*e+2*s,angle:a,minLod:w,maxLod:n};t.iconColliders.push(l)}}getTextPlacement(s,o,a,c){const x=new e(s.x,s.y),d=c.rotate*t,y=c.rotationAlignment===g.MAP,b=c.keepUpright,P=c.padding;let O=w;const _=!y?0:s.angle,k=s.segment>=0&&y,M=c.allowOverlap&&c.ignorePlacement?null:[],E=[],G=4,N=!k;let A=Number.POSITIVE_INFINITY,L=Number.NEGATIVE_INFINITY,z=A,F=L;const v=(k||y)&&b,R=c.size/l;let B=!1;for(const e of o)if(e.vertical){B=!0;break}let H,V=0,j=0;if(!k&&B){const e=h.getTextBox(o,c.lineHeight*l);switch(c.anchor){case m.LEFT:V=e.height/2,j=-e.width/2;break;case m.RIGHT:V=-e.height/2,j=e.width/2;break;case m.TOP:V=e.height/2,j=e.width/2;break;case m.BOTTOM:V=-e.height/2,j=-e.width/2;break;case m.TOP_LEFT:V=e.height;break;case m.BOTTOM_LEFT:j=-e.width;break;case m.TOP_RIGHT:j=e.width;break;case m.BOTTOM_RIGHT:V=-e.height}}V+=c.offset[0]*l,j+=c.offset[1]*l;for(const t of o){const o=t.glyphMosaicItem;if(!o||o.rect.isEmpty)continue;const l=o.rect,h=o.metrics,g=o.page;if(M&&N){if(void 0!==H&&H!==t.y){let e,t,i,o;B?(e=-F+V,t=A+j,i=F-z,o=L-A):(e=A+V,t=z+j,i=L-A,o=F-z);const a={xTile:s.x,yTile:s.y,dxPixels:e*R-P,dyPixels:t*R-P,hard:!c.optional,partIndex:1,width:i*R+2*P,height:o*R+2*P,angle:d,minLod:w,maxLod:n};M.push(a),A=Number.POSITIVE_INFINITY,L=Number.NEGATIVE_INFINITY,z=A,F=L}H=t.y}const m=[];if(k){const e=.5*o.metrics.width,i=(t.x+h.left-G+e)*R*p;if(O=this._placeGlyph(s,O,i,a,s.segment,1,t.vertical,g,m),b&&(O=this._placeGlyph(s,O,i,a,s.segment,-1,t.vertical,g,m)),O>=T)break}else m.push(new f(x,_,_,g,!1)),y&&b&&m.push(new f(x,_+i,_+i,g,!1));const u=t.x+h.left,C=t.y-r-h.top,S=u+h.width,Y=C+h.height;let q,U,D,J,K,Q,W,X;if(!k&&B)if(t.vertical){const t=(u+S)/2-h.height/2,i=(C+Y)/2+h.width/2;q=new e(-i-G+V,t-G+j),U=new e(q.x+l.width,q.y+l.height),D=new e(q.x,U.y),J=new e(U.x,q.y)}else q=new e(-C+G+V,u-G+j),U=new e(q.x-l.height,q.y+l.width),D=new e(U.x,q.y),J=new e(q.x,U.y);else q=new e(u-G+V,C-G+j),U=new e(q.x+l.width,q.y+l.height),D=new e(q.x,U.y),J=new e(U.x,q.y);for(const i of m){let n,o,a,r;if(i.alternateVerticalGlyph){if(!K){const t=(C+Y)/2+j;K=new e((u+S)/2+V-h.height/2-G,t+h.width/2+G),Q=new e(K.x+l.height,K.y-l.width),W=new e(Q.x,K.y),X=new e(K.x,Q.y)}n=K,o=W,a=X,r=Q}else n=q,o=D,a=J,r=U;const g=C,m=Y,x=i.glyphAngle+d;if(0!==x){const e=Math.cos(x),t=Math.sin(x);n=n.clone(),o=o?.clone(),a=a?.clone(),r=r?.clone(),n.rotate(e,t),r?.rotate(e,t),o?.rotate(e,t),a?.rotate(e,t)}let p=0,w=256;if(k&&B?t.vertical?i.alternateVerticalGlyph?(p=32,w=96):(p=224,w=32):(p=224,w=96):(p=192,w=64),E.push(new I(n,a,o,r,l,i.labelAngle,p,w,i.anchor,i.minzoom,i.maxzoom,i.page)),M&&(!v||this._legible(i.labelAngle)))if(N)u<A&&(A=u),g<z&&(z=g),S>L&&(L=S),m>F&&(F=m);else if(i.minzoom<T){const e={xTile:s.x,yTile:s.y,dxPixels:(u+V)*R-P,dyPixels:(g+V)*R-P,hard:!c.optional,partIndex:1,width:(S-u)*R+2*P,height:(m-g)*R+2*P,angle:x,minLod:i.minzoom,maxLod:i.maxzoom};M.push(e)}}}if(O>=T)return null;if(M&&N){let e,t,i,o;B?(e=-F+V,t=A+j,i=F-z,o=L-A):(e=A+V,t=z+j,i=L-A,o=F-z);const a={xTile:s.x,yTile:s.y,dxPixels:e*R-P,dyPixels:t*R-P,hard:!c.optional,partIndex:1,width:i*R+2*P,height:o*R+2*P,angle:d,minLod:w,maxLod:n};M.push(a)}const C=new u(E);return M&&M.length>0&&(C.textColliders=M),C}_legible(e){const t=s(e);return t<65||t>=193}_placeGlyph(t,s,l,h,r,c,g,m,x){let d=c;const p=d<0?o(t.angle+i,a):t.angle;let w=0;l<0&&(d*=-1,l*=-1,w=i),d>0&&++r;let T=new e(t.x,t.y),y=h[r],I=n;if(h.length<=r)return I;for(;;){const e=y.x-T.x,t=y.y-T.y,i=Math.sqrt(e*e+t*t),n=Math.max(l/i,s),c=e/i,u=t/i,b=o(Math.atan2(u,c)+w,a);if(x.push(new f(T,p,b,m,!1,n,I)),g&&x.push(new f(T,p,b,m,!0,n,I)),n<=s)return n;T=y.clone();do{if(r+=d,h.length<=r||r<0)return n;y=h[r]}while(T.isEqual(y));let P=y.x-T.x,O=y.y-T.y;const _=Math.sqrt(P*P+O*O);P*=i/_,O*=i/_,T.x-=P,T.y-=O,I=n}}}export{y as Anchor,I as PlacedSymbol,u as Placement,b as PlacementEngine,x as TILE_COORD_SIZE,p as TILE_PIXEL_RATIO,d as TILE_PIXEL_SIZE};\n"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA,SAAOA,KAAK,IAAIC,CAAC,QAAK,6CAA6C;AAAC,SAAOC,YAAY,IAAIC,CAAC,EAACC,IAAI,IAAIC,CAAC,EAACC,UAAU,IAAIC,CAAC,EAACC,SAAS,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,EAACC,KAAK,IAAIC,CAAC,QAAK,oBAAoB;AAAC,SAAOC,cAAc,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,EAACC,kBAAkB,IAAIC,CAAC,QAAK,kBAAkB;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,0BAA0B;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,EAACC,YAAY,IAAIC,CAAC,QAAK,4BAA4B;AAAC,IAAMC,CAAC,GAAC,IAAI;EAACC,CAAC,GAAC,GAAG;EAACC,CAAC,GAAC,CAAC;EAACC,CAAC,GAAC,EAAE;EAACC,CAAC,GAAC,CAAC;AAAC,IAAMC,CAAC,gBAAAC,YAAA,CAAC,SAAAD,EAAY9B,CAAC,EAACE,CAAC,EAAc;EAAA,IAAbE,CAAC,GAAA4B,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAC,CAAC;EAAA,IAAC1B,CAAC,GAAA0B,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAC,CAAC,CAAC;EAAA,IAACxB,CAAC,GAAAwB,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAACJ,CAAC;EAAAO,eAAA,OAAAL,CAAA;EAAE,IAAI,CAACL,CAAC,GAACzB,CAAC,EAAC,IAAI,CAAC8B,CAAC,GAAC5B,CAAC,EAAC,IAAI,CAACkC,KAAK,GAAChC,CAAC,EAAC,IAAI,CAACiC,OAAO,GAAC/B,CAAC,EAAC,IAAI,CAACgC,OAAO,GAAC9B,CAAC;AAAA,CAAC;AAAA,IAAO+B,CAAC,gBAAAR,YAAA,CAAC,SAAAQ,EAAYvC,CAAC,EAACE,CAAC,EAACE,CAAC,EAACI,CAAC,EAACE,CAAC,EAAS;EAAA,IAARE,CAAC,GAAAoB,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAACJ,CAAC;EAAA,IAACd,CAAC,GAAAkB,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAC1B,CAAC;EAAA6B,eAAA,OAAAI,CAAA;EAAE,IAAI,CAACC,MAAM,GAACxC,CAAC,EAAC,IAAI,CAACyC,UAAU,GAACvC,CAAC,EAAC,IAAI,CAACwC,UAAU,GAACtC,CAAC,EAAC,IAAI,CAACuC,IAAI,GAACnC,CAAC,EAAC,IAAI,CAACoC,sBAAsB,GAAClC,CAAC,EAAC,IAAI,CAAC4B,OAAO,GAAC1B,CAAC,EAAC,IAAI,CAACiC,OAAO,GAAC/B,CAAC;AAAA,CAAC;AAAA,IAAOgC,CAAC,gBAAAf,YAAA,CAAC,SAAAe,EAAY9C,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;EAAAa,eAAA,OAAAW,CAAA;EAAC,IAAI,CAACC,EAAE,GAAC/C,CAAC,EAAC,IAAI,CAACgD,EAAE,GAAC9C,CAAC,EAAC,IAAI,CAAC+C,EAAE,GAAC7C,CAAC,EAAC,IAAI,CAAC8C,EAAE,GAAC5C,CAAC,EAAC,IAAI,CAAC6C,UAAU,GAAC3C,CAAC,EAAC,IAAI,CAACiC,UAAU,GAAC/B,CAAC,EAAC,IAAI,CAAC0C,QAAQ,GAACxC,CAAC,EAAC,IAAI,CAACyC,QAAQ,GAACvC,CAAC,EAAC,IAAI,CAAC0B,MAAM,GAACxB,CAAC,EAAC,IAAI,CAACsB,OAAO,GAACpB,CAAC,EAAC,IAAI,CAAC2B,OAAO,GAACzB,CAAC,EAAC,IAAI,CAACuB,IAAI,GAACrB,CAAC;AAAA,CAAC;AAAA,IAAOgC,CAAC,gBAAAvB,YAAA,CAAC,SAAAuB,EAAYtD,CAAC,EAAC;EAAAmC,eAAA,OAAAmB,CAAA;EAAC,IAAI,CAACC,MAAM,GAACvD,CAAC;AAAA,CAAC;AAAA,IAAOwD,CAAC;EAAA,SAAAA,EAAA;IAAArB,eAAA,OAAAqB,CAAA;EAAA;EAAAzB,YAAA,CAAAyB,CAAA;IAAAC,GAAA;IAAAC,KAAA,EAAC,SAAAC,iBAAiBrD,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;MAAC,IAAME,CAAC,GAAC,IAAIZ,CAAC,CAACM,CAAC,CAACmB,CAAC,EAACnB,CAAC,CAACwB,CAAC,CAAC;QAAChB,CAAC,GAACJ,CAAC,CAACkD,iBAAiB,KAAGtC,CAAC,CAACuC,GAAG;QAAC7C,CAAC,GAACN,CAAC,CAACoD,WAAW;MAAC,IAAI5C,CAAC,GAACR,CAAC,CAACqD,MAAM,GAAC7D,CAAC;MAACY,CAAC,KAAGI,CAAC,IAAEZ,CAAC,CAAC8B,KAAK,CAAC;MAAC,IAAMZ,CAAC,GAAC,IAAI8B,CAAC,CAAC,EAAE,CAAC;MAAC,OAAO5C,CAAC,CAACsD,YAAY,IAAEtD,CAAC,CAACuD,eAAe,IAAE,CAAC7C,CAAC,KAAGI,CAAC,CAAC0C,aAAa,GAAC,EAAE,CAAC,EAAC,IAAI,CAACC,iBAAiB,CAAC3C,CAAC,EAACZ,CAAC,EAACJ,CAAC,EAACE,CAAC,EAACQ,CAAC,CAAC,EAACJ,CAAC,IAAEE,CAAC,IAAE,IAAI,CAACmD,iBAAiB,CAAC3C,CAAC,EAACZ,CAAC,EAACJ,CAAC,EAACE,CAAC,EAACQ,CAAC,GAACd,CAAC,CAAC,EAACoB,CAAC;IAAA;EAAC;IAAAiC,GAAA;IAAAC,KAAA,WAAAS,kBAAkBjE,CAAC,EAACE,CAAC,EAACI,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;MAAC,IAAME,CAAC,GAACN,CAAC,CAAC4D,UAAU;QAACpD,CAAC,GAACR,CAAC,CAAC6D,KAAK,GAACvD,CAAC;QAACI,CAAC,GAACV,CAAC,CAAC8D,MAAM,GAACxD,CAAC;QAACQ,CAAC,GAACZ,CAAC,CAAC6D,MAAM;MAAC,IAAI9C,CAAC,GAACH,CAAC,CAAC,CAAC,CAAC;QAACI,CAAC,GAACJ,CAAC,CAAC,CAAC,CAAC;MAAC,QAAOZ,CAAC,CAAC8B,MAAM;QAAE,KAAKhB,CAAC,CAACgD,MAAM;UAAC/C,CAAC,IAAET,CAAC,GAAC,CAAC,EAACU,CAAC,IAAER,CAAC,GAAC,CAAC;UAAC;QAAM,KAAKM,CAAC,CAACiD,IAAI;UAAC/C,CAAC,IAAER,CAAC,GAAC,CAAC;UAAC;QAAM,KAAKM,CAAC,CAACkD,KAAK;UAACjD,CAAC,IAAET,CAAC,EAACU,CAAC,IAAER,CAAC,GAAC,CAAC;UAAC;QAAM,KAAKM,CAAC,CAACmD,GAAG;UAAClD,CAAC,IAAET,CAAC,GAAC,CAAC;UAAC;QAAM,KAAKQ,CAAC,CAACoD,MAAM;UAACnD,CAAC,IAAET,CAAC,GAAC,CAAC,EAACU,CAAC,IAAER,CAAC;UAAC;QAAM,KAAKM,CAAC,CAACqD,QAAQ;UAAC;QAAM,KAAKrD,CAAC,CAACsD,WAAW;UAACpD,CAAC,IAAER,CAAC;UAAC;QAAM,KAAKM,CAAC,CAACuD,SAAS;UAACtD,CAAC,IAAET,CAAC;UAAC;QAAM,KAAKQ,CAAC,CAACwD,YAAY;UAACvD,CAAC,IAAET,CAAC,EAACU,CAAC,IAAER,CAAC;MAAA;MAAC,IAAMS,CAAC,GAACnB,CAAC,CAACyE,IAAI;QAACpD,CAAC,GAAC,CAAC,GAACf,CAAC;QAACgB,CAAC,GAACL,CAAC,GAACI,CAAC;QAACU,CAAC,GAACb,CAAC,GAACG,CAAC;QAACyB,CAAC,GAACxB,CAAC,GAACH,CAAC,CAAC0C,KAAK,GAACvD,CAAC;QAAC0C,EAAC,GAACjB,CAAC,GAACZ,CAAC,CAAC2C,MAAM,GAACxD,CAAC;QAACoE,CAAC,GAAC,IAAIlF,CAAC,CAAC8B,CAAC,EAACS,CAAC,CAAC;QAAC4C,CAAC,GAAC,IAAInF,CAAC,CAACsD,CAAC,EAACE,EAAC,CAAC;QAAC4B,CAAC,GAAC,IAAIpF,CAAC,CAAC8B,CAAC,EAAC0B,EAAC,CAAC;QAAC6B,CAAC,GAAC,IAAIrF,CAAC,CAACsD,CAAC,EAACf,CAAC,CAAC;MAAC,IAAG,CAAC,KAAG3B,CAAC,EAAC;QAAC,IAAMZ,EAAC,GAACsF,IAAI,CAACC,GAAG,CAAC3E,CAAC,CAAC;UAACV,EAAC,GAACoF,IAAI,CAACE,GAAG,CAAC5E,CAAC,CAAC;QAACsE,CAAC,CAACnB,MAAM,CAAC/D,EAAC,EAACE,EAAC,CAAC,EAACiF,CAAC,CAACpB,MAAM,CAAC/D,EAAC,EAACE,EAAC,CAAC,EAACkF,CAAC,CAACrB,MAAM,CAAC/D,EAAC,EAACE,EAAC,CAAC,EAACmF,CAAC,CAACtB,MAAM,CAAC/D,EAAC,EAACE,EAAC,CAAC;MAAA;MAAC,IAAMuF,CAAC,GAAC,IAAI3C,CAAC,CAACoC,CAAC,EAACG,CAAC,EAACD,CAAC,EAACD,CAAC,EAACxD,CAAC,EAACf,CAAC,EAAC,CAAC,EAAC,GAAG,EAACR,CAAC,EAACwB,CAAC,EAACtB,CAAC,EAAC,CAAC,CAAC;MAAC,IAAGJ,CAAC,CAACqD,MAAM,CAACmC,IAAI,CAACD,CAAC,CAAC,EAAC,CAAC,CAAC/E,CAAC,CAACsD,YAAY,IAAE,CAACtD,CAAC,CAACuD,eAAe,KAAG7C,CAAC,EAAC;QAAC,IAAMpB,GAAC,GAACU,CAAC,CAACiF,IAAI;UAACnF,EAAC,GAACE,CAAC,CAACkF,OAAO;UAAC9E,EAAC,GAAC;YAAC+E,KAAK,EAACzF,CAAC,CAACqB,CAAC;YAACqE,KAAK,EAAC1F,CAAC,CAAC0B,CAAC;YAACiE,QAAQ,EAACtE,CAAC,GAACzB,GAAC,GAACQ,EAAC;YAACwF,QAAQ,EAACtE,CAAC,GAAC1B,GAAC,GAACQ,EAAC;YAACyF,IAAI,EAAC,CAACvF,CAAC,CAACwF,QAAQ;YAACC,SAAS,EAAC,CAAC;YAAC9B,KAAK,EAACrD,CAAC,GAAChB,GAAC,GAAC,CAAC,GAACQ,EAAC;YAAC8D,MAAM,EAACpD,CAAC,GAAClB,GAAC,GAAC,CAAC,GAACQ,EAAC;YAAC4B,KAAK,EAACxB,CAAC;YAACwF,MAAM,EAACxE,CAAC;YAACyE,MAAM,EAAC/F;UAAC,CAAC;QAACJ,CAAC,CAACgE,aAAa,CAACwB,IAAI,CAAC5E,EAAC,CAAC;MAAA;IAAC;EAAC;IAAA2C,GAAA;IAAAC,KAAA,WAAA4C,iBAAiB9F,CAAC,EAACE,CAAC,EAACE,CAAC,EAACQ,CAAC,EAAC;MAAC,IAAMK,CAAC,GAAC,IAAIzB,CAAC,CAACQ,CAAC,CAACiB,CAAC,EAACjB,CAAC,CAACsB,CAAC,CAAC;QAACJ,CAAC,GAACN,CAAC,CAAC2C,MAAM,GAAC7D,CAAC;QAAC4B,CAAC,GAACV,CAAC,CAACwC,iBAAiB,KAAGtC,CAAC,CAACuC,GAAG;QAACL,GAAC,GAACpC,CAAC,CAAC0C,WAAW;QAACoB,CAAC,GAAC9D,CAAC,CAACwE,OAAO;MAAC,IAAIT,CAAC,GAACvD,CAAC;MAAC,IAAMwD,CAAC,GAAC,CAACtD,CAAC,GAAC,CAAC,GAACtB,CAAC,CAAC4B,KAAK;QAACiD,CAAC,GAAC7E,CAAC,CAAC6B,OAAO,IAAE,CAAC,IAAEP,CAAC;QAAC2D,CAAC,GAACrE,CAAC,CAAC4C,YAAY,IAAE5C,CAAC,CAAC6C,eAAe,GAAC,IAAI,GAAC,EAAE;QAACsC,CAAC,GAAC,EAAE;QAACC,CAAC,GAAC,CAAC;QAACC,CAAC,GAAC,CAACpB,CAAC;MAAC,IAAIqB,CAAC,GAACC,MAAM,CAACC,iBAAiB;QAACC,CAAC,GAACF,MAAM,CAACG,iBAAiB;QAACC,CAAC,GAACL,CAAC;QAACM,CAAC,GAACH,CAAC;MAAC,IAAMI,CAAC,GAAC,CAAC5B,CAAC,IAAEvD,CAAC,KAAG0B,GAAC;QAAC0D,CAAC,GAAC9F,CAAC,CAACuE,IAAI,GAAC7E,CAAC;MAAC,IAAIqG,CAAC,GAAC,CAAC,CAAC;MAAC,IAAAC,SAAA,GAAAC,0BAAA,CAAe3G,CAAC;QAAA4G,KAAA;MAAA;QAAhB,KAAAF,SAAA,CAAA5G,CAAA,MAAA8G,KAAA,GAAAF,SAAA,CAAA9G,CAAA,IAAAiH,IAAA,GAAiB;UAAA,IAAPvH,GAAC,GAAAsH,KAAA,CAAA5D,KAAA;UAAM,IAAG1D,GAAC,CAACwH,QAAQ,EAAC;YAACL,CAAC,GAAC,CAAC,CAAC;YAAC;UAAK;QAAA;MAAC,SAAAM,GAAA;QAAAL,SAAA,CAAApH,CAAA,CAAAyH,GAAA;MAAA;QAAAL,SAAA,CAAA7E,CAAA;MAAA;MAAA,IAAImF,CAAC;QAACC,CAAC,GAAC,CAAC;QAACC,CAAC,GAAC,CAAC;MAAC,IAAG,CAACvC,CAAC,IAAE8B,CAAC,EAAC;QAAC,IAAMnH,GAAC,GAACgB,CAAC,CAAC6G,UAAU,CAACnH,CAAC,EAACU,CAAC,CAAC0G,UAAU,GAAChH,CAAC,CAAC;QAAC,QAAOM,CAAC,CAACoB,MAAM;UAAE,KAAKhB,CAAC,CAACiD,IAAI;YAACkD,CAAC,GAAC3H,GAAC,CAACsE,MAAM,GAAC,CAAC,EAACsD,CAAC,GAAC,CAAC5H,GAAC,CAACqE,KAAK,GAAC,CAAC;YAAC;UAAM,KAAK7C,CAAC,CAACkD,KAAK;YAACiD,CAAC,GAAC,CAAC3H,GAAC,CAACsE,MAAM,GAAC,CAAC,EAACsD,CAAC,GAAC5H,GAAC,CAACqE,KAAK,GAAC,CAAC;YAAC;UAAM,KAAK7C,CAAC,CAACmD,GAAG;YAACgD,CAAC,GAAC3H,GAAC,CAACsE,MAAM,GAAC,CAAC,EAACsD,CAAC,GAAC5H,GAAC,CAACqE,KAAK,GAAC,CAAC;YAAC;UAAM,KAAK7C,CAAC,CAACoD,MAAM;YAAC+C,CAAC,GAAC,CAAC3H,GAAC,CAACsE,MAAM,GAAC,CAAC,EAACsD,CAAC,GAAC,CAAC5H,GAAC,CAACqE,KAAK,GAAC,CAAC;YAAC;UAAM,KAAK7C,CAAC,CAACqD,QAAQ;YAAC8C,CAAC,GAAC3H,GAAC,CAACsE,MAAM;YAAC;UAAM,KAAK9C,CAAC,CAACsD,WAAW;YAAC8C,CAAC,GAAC,CAAC5H,GAAC,CAACqE,KAAK;YAAC;UAAM,KAAK7C,CAAC,CAACuD,SAAS;YAAC6C,CAAC,GAAC5H,GAAC,CAACqE,KAAK;YAAC;UAAM,KAAK7C,CAAC,CAACwD,YAAY;YAAC2C,CAAC,GAAC,CAAC3H,GAAC,CAACsE,MAAM;QAAA;MAAC;MAACqD,CAAC,IAAEvG,CAAC,CAACmD,MAAM,CAAC,CAAC,CAAC,GAACzD,CAAC,EAAC8G,CAAC,IAAExG,CAAC,CAACmD,MAAM,CAAC,CAAC,CAAC,GAACzD,CAAC;MAAC,IAAAiH,UAAA,GAAAV,0BAAA,CAAe3G,CAAC;QAAAsH,MAAA;MAAA;QAAhB,KAAAD,UAAA,CAAAvH,CAAA,MAAAwH,MAAA,GAAAD,UAAA,CAAAzH,CAAA,IAAAiH,IAAA,GAAiB;UAAA,IAAPrH,GAAC,GAAA8H,MAAA,CAAAtE,KAAA;UAAO,IAAMhD,GAAC,GAACR,GAAC,CAAC+H,eAAe;UAAC,IAAG,CAACvH,GAAC,IAAEA,GAAC,CAACuE,IAAI,CAACiD,OAAO,EAAC;UAAS,IAAMpH,GAAC,GAACJ,GAAC,CAACuE,IAAI;YAACjE,EAAC,GAACN,GAAC,CAACyH,OAAO;YAAC7G,EAAC,GAACZ,GAAC,CAACiC,IAAI;UAAC,IAAG8C,CAAC,IAAEgB,CAAC,EAAC;YAAC,IAAG,KAAK,CAAC,KAAGiB,CAAC,IAAEA,CAAC,KAAGxH,GAAC,CAAC4B,CAAC,EAAC;cAAC,IAAI9B,GAAC;gBAACE,GAAC;gBAACE,GAAC;gBAACM,GAAC;cAACyG,CAAC,IAAEnH,GAAC,GAAC,CAACgH,CAAC,GAACW,CAAC,EAACzH,GAAC,GAACwG,CAAC,GAACkB,CAAC,EAACxH,GAAC,GAAC4G,CAAC,GAACD,CAAC,EAACrG,GAAC,GAACmG,CAAC,GAACH,CAAC,KAAG1G,GAAC,GAAC0G,CAAC,GAACiB,CAAC,EAACzH,GAAC,GAAC6G,CAAC,GAACa,CAAC,EAACxH,GAAC,GAACyG,CAAC,GAACH,CAAC,EAAChG,GAAC,GAACsG,CAAC,GAACD,CAAC,CAAC;cAAC,IAAMnG,GAAC,GAAC;gBAACiF,KAAK,EAACrF,CAAC,CAACiB,CAAC;gBAACqE,KAAK,EAACtF,CAAC,CAACsB,CAAC;gBAACiE,QAAQ,EAAC/F,GAAC,GAACkH,CAAC,GAAChC,CAAC;gBAACc,QAAQ,EAAC9F,GAAC,GAACgH,CAAC,GAAChC,CAAC;gBAACe,IAAI,EAAC,CAAC7E,CAAC,CAAC8E,QAAQ;gBAACC,SAAS,EAAC,CAAC;gBAAC9B,KAAK,EAACjE,GAAC,GAAC8G,CAAC,GAAC,CAAC,GAAChC,CAAC;gBAACZ,MAAM,EAAC5D,GAAC,GAACwG,CAAC,GAAC,CAAC,GAAChC,CAAC;gBAAC9C,KAAK,EAACV,CAAC;gBAAC0E,MAAM,EAACxE,CAAC;gBAACyE,MAAM,EAAC/F;cAAC,CAAC;cAACmF,CAAC,CAACC,IAAI,CAAC9E,GAAC,CAAC,EAAC8F,CAAC,GAACC,MAAM,CAACC,iBAAiB,EAACC,CAAC,GAACF,MAAM,CAACG,iBAAiB,EAACC,CAAC,GAACL,CAAC,EAACM,CAAC,GAACH,CAAC;YAAA;YAACa,CAAC,GAACxH,GAAC,CAAC4B,CAAC;UAAA;UAAC,IAAMN,EAAC,GAAC,EAAE;UAAC,IAAG6D,CAAC,EAAC;YAAC,IAAMrF,GAAC,GAAC,EAAE,GAACU,GAAC,CAACyH,OAAO,CAAC9D,KAAK;cAACjE,GAAC,GAAC,CAACF,GAAC,CAACuB,CAAC,GAACT,EAAC,CAACoH,IAAI,GAAC5B,CAAC,GAACxG,GAAC,IAAEkH,CAAC,GAACvF,CAAC;YAAC,IAAGwD,CAAC,GAAC,IAAI,CAACkD,WAAW,CAAC7H,CAAC,EAAC2E,CAAC,EAAC/E,GAAC,EAACQ,CAAC,EAACJ,CAAC,CAAC6B,OAAO,EAAC,CAAC,EAACnC,GAAC,CAACsH,QAAQ,EAAClG,EAAC,EAACE,EAAC,CAAC,EAACgC,GAAC,KAAG2B,CAAC,GAAC,IAAI,CAACkD,WAAW,CAAC7H,CAAC,EAAC2E,CAAC,EAAC/E,GAAC,EAACQ,CAAC,EAACJ,CAAC,CAAC6B,OAAO,EAAC,CAAC,CAAC,EAACnC,GAAC,CAACsH,QAAQ,EAAClG,EAAC,EAACE,EAAC,CAAC,CAAC,EAAC2D,CAAC,IAAEtD,CAAC,EAAC;UAAK,CAAC,MAAKL,EAAC,CAACkE,IAAI,CAAC,IAAInD,CAAC,CAACd,CAAC,EAAC2D,CAAC,EAACA,CAAC,EAAC9D,EAAC,EAAC,CAAC,CAAC,CAAC,CAAC,EAACQ,CAAC,IAAE0B,GAAC,IAAEhC,EAAC,CAACkE,IAAI,CAAC,IAAInD,CAAC,CAACd,CAAC,EAAC2D,CAAC,GAAChF,CAAC,EAACgF,CAAC,GAAChF,CAAC,EAACkB,EAAC,EAAC,CAAC,CAAC,CAAC,CAAC;UAAC,IAAMgC,EAAC,GAACpD,GAAC,CAACuB,CAAC,GAACT,EAAC,CAACoH,IAAI;YAACE,EAAC,GAACpI,GAAC,CAAC4B,CAAC,GAACZ,CAAC,GAACF,EAAC,CAACuH,GAAG;YAACC,CAAC,GAAClF,EAAC,GAACtC,EAAC,CAACqD,KAAK;YAACoE,CAAC,GAACH,EAAC,GAACtH,EAAC,CAACsD,MAAM;UAAC,IAAIoE,CAAC;YAACC,CAAC;YAACC,CAAC;YAACC,CAAC;YAACC,CAAC;YAACC,CAAC;YAACC,CAAC;YAACC,CAAC;UAAC,IAAG,CAAC5D,CAAC,IAAE8B,CAAC;YAAC,IAAGjH,GAAC,CAACsH,QAAQ,EAAC;cAAC,IAAMtH,GAAC,GAAC,CAACoD,EAAC,GAACkF,CAAC,IAAE,CAAC,GAACxH,EAAC,CAACsD,MAAM,GAAC,CAAC;gBAAClE,GAAC,GAAC,CAACkI,EAAC,GAACG,CAAC,IAAE,CAAC,GAACzH,EAAC,CAACqD,KAAK,GAAC,CAAC;cAACqE,CAAC,GAAC,IAAI1I,CAAC,CAAC,CAACI,GAAC,GAACoG,CAAC,GAACmB,CAAC,EAACzH,GAAC,GAACsG,CAAC,GAACoB,CAAC,CAAC,EAACe,CAAC,GAAC,IAAI3I,CAAC,CAAC0I,CAAC,CAACjH,CAAC,GAACX,GAAC,CAACuD,KAAK,EAACqE,CAAC,CAAC5G,CAAC,GAAChB,GAAC,CAACwD,MAAM,CAAC,EAACsE,CAAC,GAAC,IAAI5I,CAAC,CAAC0I,CAAC,CAACjH,CAAC,EAACkH,CAAC,CAAC7G,CAAC,CAAC,EAAC+G,CAAC,GAAC,IAAI7I,CAAC,CAAC2I,CAAC,CAAClH,CAAC,EAACiH,CAAC,CAAC5G,CAAC,CAAC;YAAA,CAAC,MAAK4G,CAAC,GAAC,IAAI1I,CAAC,CAAC,CAACsI,EAAC,GAAC9B,CAAC,GAACmB,CAAC,EAACrE,EAAC,GAACkD,CAAC,GAACoB,CAAC,CAAC,EAACe,CAAC,GAAC,IAAI3I,CAAC,CAAC0I,CAAC,CAACjH,CAAC,GAACX,GAAC,CAACwD,MAAM,EAACoE,CAAC,CAAC5G,CAAC,GAAChB,GAAC,CAACuD,KAAK,CAAC,EAACuE,CAAC,GAAC,IAAI5I,CAAC,CAAC2I,CAAC,CAAClH,CAAC,EAACiH,CAAC,CAAC5G,CAAC,CAAC,EAAC+G,CAAC,GAAC,IAAI7I,CAAC,CAAC0I,CAAC,CAACjH,CAAC,EAACkH,CAAC,CAAC7G,CAAC,CAAC;UAAC,OAAK4G,CAAC,GAAC,IAAI1I,CAAC,CAACsD,EAAC,GAACkD,CAAC,GAACmB,CAAC,EAACW,EAAC,GAAC9B,CAAC,GAACoB,CAAC,CAAC,EAACe,CAAC,GAAC,IAAI3I,CAAC,CAAC0I,CAAC,CAACjH,CAAC,GAACX,GAAC,CAACuD,KAAK,EAACqE,CAAC,CAAC5G,CAAC,GAAChB,GAAC,CAACwD,MAAM,CAAC,EAACsE,CAAC,GAAC,IAAI5I,CAAC,CAAC0I,CAAC,CAACjH,CAAC,EAACkH,CAAC,CAAC7G,CAAC,CAAC,EAAC+G,CAAC,GAAC,IAAI7I,CAAC,CAAC2I,CAAC,CAAClH,CAAC,EAACiH,CAAC,CAAC5G,CAAC,CAAC;UAAC,SAAAoH,GAAA,MAAAC,GAAA,GAAe3H,EAAC,EAAA0H,GAAA,GAAAC,GAAA,CAAAlH,MAAA,EAAAiH,GAAA,IAAC;YAAb,IAAM9I,GAAC,GAAA+I,GAAA,CAAAD,GAAA;YAAO,IAAI5I,EAAC;cAACI,GAAC;cAACE,GAAC;cAACM,EAAC;YAAC,IAAGd,GAAC,CAACwC,sBAAsB,EAAC;cAAC,IAAG,CAACkG,CAAC,EAAC;gBAAC,IAAM5I,GAAC,GAAC,CAACoI,EAAC,GAACG,CAAC,IAAE,CAAC,GAACb,CAAC;gBAACkB,CAAC,GAAC,IAAI9I,CAAC,CAAC,CAACsD,EAAC,GAACkF,CAAC,IAAE,CAAC,GAACb,CAAC,GAAC3G,EAAC,CAACsD,MAAM,GAAC,CAAC,GAACkC,CAAC,EAACtG,GAAC,GAACc,EAAC,CAACqD,KAAK,GAAC,CAAC,GAACmC,CAAC,CAAC,EAACuC,CAAC,GAAC,IAAI/I,CAAC,CAAC8I,CAAC,CAACrH,CAAC,GAACX,GAAC,CAACwD,MAAM,EAACwE,CAAC,CAAChH,CAAC,GAAChB,GAAC,CAACuD,KAAK,CAAC,EAAC2E,CAAC,GAAC,IAAIhJ,CAAC,CAAC+I,CAAC,CAACtH,CAAC,EAACqH,CAAC,CAAChH,CAAC,CAAC,EAACmH,CAAC,GAAC,IAAIjJ,CAAC,CAAC8I,CAAC,CAACrH,CAAC,EAACsH,CAAC,CAACjH,CAAC,CAAC;cAAA;cAACxB,EAAC,GAACwI,CAAC,EAACpI,GAAC,GAACsI,CAAC,EAACpI,GAAC,GAACqI,CAAC,EAAC/H,EAAC,GAAC6H,CAAC;YAAA,CAAC,MAAKzI,EAAC,GAACoI,CAAC,EAAChI,GAAC,GAACkI,CAAC,EAAChI,GAAC,GAACiI,CAAC,EAAC3H,EAAC,GAACyH,CAAC;YAAC,IAAMrH,GAAC,GAACgH,EAAC;cAAC9G,GAAC,GAACiH,CAAC;cAAChH,EAAC,GAACrB,GAAC,CAACsC,UAAU,GAAChB,CAAC;YAAC,IAAG,CAAC,KAAGD,EAAC,EAAC;cAAA,IAAA2H,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA;cAAC,IAAMzJ,GAAC,GAACsF,IAAI,CAACC,GAAG,CAAC9D,EAAC,CAAC;gBAACvB,GAAC,GAACoF,IAAI,CAACE,GAAG,CAAC/D,EAAC,CAAC;cAACnB,EAAC,GAACA,EAAC,CAACoJ,KAAK,EAAE,EAAChJ,GAAC,IAAA0I,GAAA,GAAC1I,GAAC,cAAA0I,GAAA,uBAADA,GAAA,CAAGM,KAAK,EAAE,EAAC9I,GAAC,IAAAyI,GAAA,GAACzI,GAAC,cAAAyI,GAAA,uBAADA,GAAA,CAAGK,KAAK,EAAE,EAACxI,EAAC,IAAAoI,GAAA,GAACpI,EAAC,cAAAoI,GAAA,uBAADA,GAAA,CAAGI,KAAK,EAAE,EAACpJ,EAAC,CAACyD,MAAM,CAAC/D,GAAC,EAACE,GAAC,CAAC,GAAAqJ,GAAA,GAACrI,EAAC,cAAAqI,GAAA,eAADA,GAAA,CAAGxF,MAAM,CAAC/D,GAAC,EAACE,GAAC,CAAC,GAAAsJ,GAAA,GAAC9I,GAAC,cAAA8I,GAAA,eAADA,GAAA,CAAGzF,MAAM,CAAC/D,GAAC,EAACE,GAAC,CAAC,GAAAuJ,GAAA,GAAC7I,GAAC,cAAA6I,GAAA,uBAADA,GAAA,CAAG1F,MAAM,CAAC/D,GAAC,EAACE,GAAC,CAAC;YAAA;YAAC,IAAIyB,EAAC,GAAC,CAAC;cAACC,EAAC,GAAC,GAAG;YAAC,IAAGyD,CAAC,IAAE8B,CAAC,GAACjH,GAAC,CAACsH,QAAQ,GAACpH,GAAC,CAACwC,sBAAsB,IAAEjB,EAAC,GAAC,EAAE,EAACC,EAAC,GAAC,EAAE,KAAGD,EAAC,GAAC,GAAG,EAACC,EAAC,GAAC,EAAE,CAAC,IAAED,EAAC,GAAC,GAAG,EAACC,EAAC,GAAC,EAAE,CAAC,IAAED,EAAC,GAAC,GAAG,EAACC,EAAC,GAAC,EAAE,CAAC,EAAC2E,CAAC,CAACb,IAAI,CAAC,IAAI5C,CAAC,CAACxC,EAAC,EAACM,GAAC,EAACF,GAAC,EAACQ,EAAC,EAACJ,GAAC,EAACV,GAAC,CAACqC,UAAU,EAACd,EAAC,EAACC,EAAC,EAACxB,GAAC,CAACoC,MAAM,EAACpC,GAAC,CAACkC,OAAO,EAAClC,GAAC,CAACyC,OAAO,EAACzC,GAAC,CAACuC,IAAI,CAAC,CAAC,EAAC8C,CAAC,KAAG,CAACwB,CAAC,IAAE,IAAI,CAAC0C,QAAQ,CAACvJ,GAAC,CAACqC,UAAU,CAAC,CAAC,EAAC,IAAGgE,CAAC,EAACnD,EAAC,GAACoD,CAAC,KAAGA,CAAC,GAACpD,EAAC,CAAC,EAAChC,GAAC,GAACyF,CAAC,KAAGA,CAAC,GAACzF,GAAC,CAAC,EAACkH,CAAC,GAAC3B,CAAC,KAAGA,CAAC,GAAC2B,CAAC,CAAC,EAAChH,GAAC,GAACwF,CAAC,KAAGA,CAAC,GAACxF,GAAC,CAAC,CAAC,KAAK,IAAGpB,GAAC,CAACkC,OAAO,GAACT,CAAC,EAAC;cAAC,IAAM7B,GAAC,GAAC;gBAAC6F,KAAK,EAACrF,CAAC,CAACiB,CAAC;gBAACqE,KAAK,EAACtF,CAAC,CAACsB,CAAC;gBAACiE,QAAQ,EAAC,CAACzC,EAAC,GAACqE,CAAC,IAAET,CAAC,GAAChC,CAAC;gBAACc,QAAQ,EAAC,CAAC1E,GAAC,GAACqG,CAAC,IAAET,CAAC,GAAChC,CAAC;gBAACe,IAAI,EAAC,CAAC7E,CAAC,CAAC8E,QAAQ;gBAACC,SAAS,EAAC,CAAC;gBAAC9B,KAAK,EAAC,CAACmE,CAAC,GAAClF,EAAC,IAAE4D,CAAC,GAAC,CAAC,GAAChC,CAAC;gBAACZ,MAAM,EAAC,CAAC9C,GAAC,GAACF,GAAC,IAAE4F,CAAC,GAAC,CAAC,GAAChC,CAAC;gBAAC9C,KAAK,EAACX,EAAC;gBAAC2E,MAAM,EAAChG,GAAC,CAACkC,OAAO;gBAAC+D,MAAM,EAACjG,GAAC,CAACyC;cAAO,CAAC;cAAC4C,CAAC,CAACC,IAAI,CAAC1F,GAAC,CAAC;YAAA;UAAC;QAAC;MAAC,SAAAyH,GAAA;QAAAM,UAAA,CAAA/H,CAAA,CAAAyH,GAAA;MAAA;QAAAM,UAAA,CAAAxF,CAAA;MAAA;MAAA,IAAG4C,CAAC,IAAEtD,CAAC,EAAC,OAAO,IAAI;MAAC,IAAG4D,CAAC,IAAEgB,CAAC,EAAC;QAAC,IAAIzG,GAAC,EAACE,GAAC,EAACE,EAAC,EAACM,EAAC;QAACyG,CAAC,IAAEnH,GAAC,GAAC,CAACgH,CAAC,GAACW,CAAC,EAACzH,GAAC,GAACwG,CAAC,GAACkB,CAAC,EAACxH,EAAC,GAAC4G,CAAC,GAACD,CAAC,EAACrG,EAAC,GAACmG,CAAC,GAACH,CAAC,KAAG1G,GAAC,GAAC0G,CAAC,GAACiB,CAAC,EAACzH,GAAC,GAAC6G,CAAC,GAACa,CAAC,EAACxH,EAAC,GAACyG,CAAC,GAACH,CAAC,EAAChG,EAAC,GAACsG,CAAC,GAACD,CAAC,CAAC;QAAC,IAAMnG,EAAC,GAAC;UAACiF,KAAK,EAACrF,CAAC,CAACiB,CAAC;UAACqE,KAAK,EAACtF,CAAC,CAACsB,CAAC;UAACiE,QAAQ,EAAC/F,GAAC,GAACkH,CAAC,GAAChC,CAAC;UAACc,QAAQ,EAAC9F,GAAC,GAACgH,CAAC,GAAChC,CAAC;UAACe,IAAI,EAAC,CAAC7E,CAAC,CAAC8E,QAAQ;UAACC,SAAS,EAAC,CAAC;UAAC9B,KAAK,EAACjE,EAAC,GAAC8G,CAAC,GAAC,CAAC,GAAChC,CAAC;UAACZ,MAAM,EAAC5D,EAAC,GAACwG,CAAC,GAAC,CAAC,GAAChC,CAAC;UAAC9C,KAAK,EAACV,CAAC;UAAC0E,MAAM,EAACxE,CAAC;UAACyE,MAAM,EAAC/F;QAAC,CAAC;QAACmF,CAAC,CAACC,IAAI,CAAC9E,EAAC,CAAC;MAAA;MAAC,IAAM0H,CAAC,GAAC,IAAIhF,CAAC,CAACiD,CAAC,CAAC;MAAC,OAAOd,CAAC,IAAEA,CAAC,CAACxD,MAAM,GAAC,CAAC,KAAGqG,CAAC,CAACsB,aAAa,GAACnE,CAAC,CAAC,EAAC6C,CAAC;IAAA;EAAC;IAAA7E,GAAA;IAAAC,KAAA,WAAAiG,SAAS3J,CAAC,EAAC;MAAC,IAAME,CAAC,GAACM,CAAC,CAACR,CAAC,CAAC;MAAC,OAAOE,CAAC,GAAC,EAAE,IAAEA,CAAC,IAAE,GAAG;IAAA;EAAC;IAAAuD,GAAA;IAAAC,KAAA,WAAA2E,YAAYnI,CAAC,EAACM,CAAC,EAACM,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACC,CAAC,EAAC;MAAC,IAAIC,CAAC,GAACN,CAAC;MAAC,IAAMO,CAAC,GAACD,CAAC,GAAC,CAAC,GAAChB,CAAC,CAACR,CAAC,CAACkC,KAAK,GAAChC,CAAC,EAACQ,CAAC,CAAC,GAACV,CAAC,CAACkC,KAAK;MAAC,IAAIR,CAAC,GAAC,CAAC;MAACd,CAAC,GAAC,CAAC,KAAGY,CAAC,IAAE,CAAC,CAAC,EAACZ,CAAC,IAAE,CAAC,CAAC,EAACc,CAAC,GAACxB,CAAC,CAAC,EAACsB,CAAC,GAAC,CAAC,IAAE,EAAER,CAAC;MAAC,IAAIW,CAAC,GAAC,IAAI7B,CAAC,CAACE,CAAC,CAACuB,CAAC,EAACvB,CAAC,CAAC4B,CAAC,CAAC;QAACA,CAAC,GAACd,CAAC,CAACE,CAAC,CAAC;QAAC4B,CAAC,GAACxC,CAAC;MAAC,IAAGU,CAAC,CAACiB,MAAM,IAAEf,CAAC,EAAC,OAAO4B,CAAC;MAAC,SAAO;QAAC,IAAM9C,IAAC,GAAC8B,CAAC,CAACL,CAAC,GAACI,CAAC,CAACJ,CAAC;UAACvB,GAAC,GAAC4B,CAAC,CAACA,CAAC,GAACD,CAAC,CAACC,CAAC;UAAC1B,GAAC,GAACkF,IAAI,CAACuE,IAAI,CAAC7J,IAAC,GAACA,IAAC,GAACE,GAAC,GAACA,GAAC,CAAC;UAACI,GAAC,GAACgF,IAAI,CAACwE,GAAG,CAAChJ,CAAC,GAACV,GAAC,EAACI,CAAC,CAAC;UAACY,EAAC,GAACpB,IAAC,GAACI,GAAC;UAACkD,GAAC,GAACpD,GAAC,GAACE,GAAC;UAACoD,GAAC,GAAC9C,CAAC,CAAC4E,IAAI,CAACyE,KAAK,CAACzG,GAAC,EAAClC,EAAC,CAAC,GAACQ,CAAC,EAAChB,CAAC,CAAC;QAAC,IAAGa,CAAC,CAACiE,IAAI,CAAC,IAAInD,CAAC,CAACV,CAAC,EAACF,CAAC,EAAC6B,GAAC,EAAChC,CAAC,EAAC,CAAC,CAAC,EAAClB,GAAC,EAACwC,CAAC,CAAC,CAAC,EAACxB,CAAC,IAAEG,CAAC,CAACiE,IAAI,CAAC,IAAInD,CAAC,CAACV,CAAC,EAACF,CAAC,EAAC6B,GAAC,EAAChC,CAAC,EAAC,CAAC,CAAC,EAAClB,GAAC,EAACwC,CAAC,CAAC,CAAC,EAACxC,GAAC,IAAEE,CAAC,EAAC,OAAOF,GAAC;QAACuB,CAAC,GAACC,CAAC,CAAC4H,KAAK,EAAE;QAAC,GAAE;UAAC,IAAGxI,CAAC,IAAEQ,CAAC,EAACV,CAAC,CAACiB,MAAM,IAAEf,CAAC,IAAEA,CAAC,GAAC,CAAC,EAAC,OAAOZ,GAAC;UAACwB,CAAC,GAACd,CAAC,CAACE,CAAC,CAAC;QAAA,CAAC,QAAMW,CAAC,CAACmI,OAAO,CAAClI,CAAC,CAAC;QAAE,IAAIoD,CAAC,GAACpD,CAAC,CAACL,CAAC,GAACI,CAAC,CAACJ,CAAC;UAAC0D,CAAC,GAACrD,CAAC,CAACA,CAAC,GAACD,CAAC,CAACC,CAAC;QAAC,IAAMsD,CAAC,GAACE,IAAI,CAACuE,IAAI,CAAC3E,CAAC,GAACA,CAAC,GAACC,CAAC,GAACA,CAAC,CAAC;QAACD,CAAC,IAAE9E,GAAC,GAACgF,CAAC,EAACD,CAAC,IAAE/E,GAAC,GAACgF,CAAC,EAACvD,CAAC,CAACJ,CAAC,IAAEyD,CAAC,EAACrD,CAAC,CAACC,CAAC,IAAEqD,CAAC,EAACrC,CAAC,GAACxC,GAAC;MAAA;IAAC;EAAC;EAAA,OAAAkD,CAAA;AAAA;AAAC,SAAO1B,CAAC,IAAImI,MAAM,EAACnH,CAAC,IAAIoH,YAAY,EAAC5G,CAAC,IAAI6G,SAAS,EAAC3G,CAAC,IAAI4G,eAAe,EAAC3I,CAAC,IAAI4I,eAAe,EAAC1I,CAAC,IAAI2I,gBAAgB,EAAC5I,CAAC,IAAI6I,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}