{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { Pos2us as e } from \"../2d/engine/webgl/DefaultVertexAttributeLayouts.js\";\nimport { BufferObject as t } from \"./BufferObject.js\";\nimport { TargetType as r, DepthStencilTargetType as i, TextureType as s, TextureWrapMode as o, PixelFormat as a, PixelType as n, TextureSamplingMode as p, Usage as m, ClearBufferBit as g, PrimitiveType as d } from \"./enums.js\";\nimport { FramebufferObject as _ } from \"./FramebufferObject.js\";\nimport { Texture as u } from \"./Texture.js\";\nimport { VertexArrayObject as c } from \"./VertexArrayObject.js\";\nimport { WebGLDriverTestModule as h } from \"./WebGLDriverTestModule.js\";\nclass l extends h {\n  constructor(e) {\n    super(), this._rctx = e, this._image = new Image(), this._image.src = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='5' height='5' version='1.1' viewBox='0 0 5 5' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='5' height='5' fill='%23f00' fill-opacity='.5'/%3E%3C/svg%3E%0A\", this._image.width = 5, this._image.height = 5, this._image.decode();\n    const t = \"\\n    precision highp float;\\n\\n    attribute vec2 a_pos;\\n    varying vec2 v_uv;\\n\\n    void main() {\\n      v_uv = a_pos;\\n      gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n    }\\n    \",\n      r = \"\\n    precision highp float;\\n\\n    varying vec2 v_uv;\\n    uniform sampler2D u_texture;\\n\\n    void main() {\\n      gl_FragColor = texture2D(u_texture, v_uv);\\n    }\\n    \";\n    this._program = e.programCache.acquire(t, r, new Map([[\"a_pos\", 0]]));\n  }\n  dispose() {\n    super.dispose(), this._image.src = \"\";\n  }\n  _test(h) {\n    const l = this._rctx;\n    if (!l.gl) return h.dispose(), !0;\n    const f = new _(l, {\n        colorTarget: r.TEXTURE,\n        depthStencilTarget: i.NONE\n      }, {\n        target: s.TEXTURE_2D,\n        wrapMode: o.CLAMP_TO_EDGE,\n        pixelFormat: a.RGBA,\n        dataType: n.UNSIGNED_BYTE,\n        samplingMode: p.NEAREST,\n        width: 1,\n        height: 1\n      }),\n      w = t.createVertex(l, m.STATIC_DRAW, new Uint16Array([0, 0, 1, 0, 0, 1, 1, 1])),\n      E = new c(l, new Map([[\"a_pos\", 0]]), e, {\n        geometry: w\n      }),\n      v = new u(l, {\n        dataType: n.UNSIGNED_BYTE,\n        pixelFormat: a.RGBA,\n        preMultiplyAlpha: !1,\n        wrapMode: o.CLAMP_TO_EDGE,\n        samplingMode: p.LINEAR\n      }, this._image);\n    l.useProgram(h), l.bindTexture(v, 0), h.setUniform1i(\"u_texture\", 0);\n    const T = l.getBoundFramebufferObject(),\n      {\n        x,\n        y: A,\n        width: b,\n        height: y\n      } = l.getViewport();\n    l.bindFramebuffer(f), l.setViewport(0, 0, 1, 1), l.setClearColor(0, 0, 0, 0), l.setBlendingEnabled(!1), l.clearSafe(g.COLOR_BUFFER_BIT), l.bindVAO(E), l.drawArrays(d.TRIANGLE_STRIP, 0, 4);\n    const j = new Uint8Array(4);\n    return f.readPixels(0, 0, 1, 1, a.RGBA, n.UNSIGNED_BYTE, j), E.dispose(!1), w.dispose(), f.dispose(), v.dispose(), l.setViewport(x, A, b, y), l.bindFramebuffer(T), 255 !== j[0];\n  }\n}\nexport { l as SVGPremultipliedAlpha };","map":{"version":3,"names":["Pos2us","e","BufferObject","t","TargetType","r","DepthStencilTargetType","i","TextureType","s","TextureWrapMode","o","PixelFormat","a","PixelType","n","TextureSamplingMode","p","Usage","m","ClearBufferBit","g","PrimitiveType","d","FramebufferObject","_","Texture","u","VertexArrayObject","c","WebGLDriverTestModule","h","l","constructor","_rctx","_image","Image","src","width","height","decode","_program","programCache","acquire","Map","dispose","_test","gl","f","colorTarget","TEXTURE","depthStencilTarget","NONE","target","TEXTURE_2D","wrapMode","CLAMP_TO_EDGE","pixelFormat","RGBA","dataType","UNSIGNED_BYTE","samplingMode","NEAREST","w","createVertex","STATIC_DRAW","Uint16Array","E","geometry","v","preMultiplyAlpha","LINEAR","useProgram","bindTexture","setUniform1i","T","getBoundFramebufferObject","x","y","A","b","getViewport","bindFramebuffer","setViewport","setClearColor","setBlendingEnabled","clearSafe","COLOR_BUFFER_BIT","bindVAO","drawArrays","TRIANGLE_STRIP","j","Uint8Array","readPixels","SVGPremultipliedAlpha"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/webgl/testSVGPremultipliedAlpha.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{Pos2us as e}from\"../2d/engine/webgl/DefaultVertexAttributeLayouts.js\";import{BufferObject as t}from\"./BufferObject.js\";import{TargetType as r,DepthStencilTargetType as i,TextureType as s,TextureWrapMode as o,PixelFormat as a,PixelType as n,TextureSamplingMode as p,Usage as m,ClearBufferBit as g,PrimitiveType as d}from\"./enums.js\";import{FramebufferObject as _}from\"./FramebufferObject.js\";import{Texture as u}from\"./Texture.js\";import{VertexArrayObject as c}from\"./VertexArrayObject.js\";import{WebGLDriverTestModule as h}from\"./WebGLDriverTestModule.js\";class l extends h{constructor(e){super(),this._rctx=e,this._image=new Image,this._image.src=\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='5' height='5' version='1.1' viewBox='0 0 5 5' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='5' height='5' fill='%23f00' fill-opacity='.5'/%3E%3C/svg%3E%0A\",this._image.width=5,this._image.height=5,this._image.decode();const t=\"\\n    precision highp float;\\n\\n    attribute vec2 a_pos;\\n    varying vec2 v_uv;\\n\\n    void main() {\\n      v_uv = a_pos;\\n      gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n    }\\n    \",r=\"\\n    precision highp float;\\n\\n    varying vec2 v_uv;\\n    uniform sampler2D u_texture;\\n\\n    void main() {\\n      gl_FragColor = texture2D(u_texture, v_uv);\\n    }\\n    \";this._program=e.programCache.acquire(t,r,new Map([[\"a_pos\",0]]))}dispose(){super.dispose(),this._image.src=\"\"}_test(h){const l=this._rctx;if(!l.gl)return h.dispose(),!0;const f=new _(l,{colorTarget:r.TEXTURE,depthStencilTarget:i.NONE},{target:s.TEXTURE_2D,wrapMode:o.CLAMP_TO_EDGE,pixelFormat:a.RGBA,dataType:n.UNSIGNED_BYTE,samplingMode:p.NEAREST,width:1,height:1}),w=t.createVertex(l,m.STATIC_DRAW,new Uint16Array([0,0,1,0,0,1,1,1])),E=new c(l,new Map([[\"a_pos\",0]]),e,{geometry:w}),v=new u(l,{dataType:n.UNSIGNED_BYTE,pixelFormat:a.RGBA,preMultiplyAlpha:!1,wrapMode:o.CLAMP_TO_EDGE,samplingMode:p.LINEAR},this._image);l.useProgram(h),l.bindTexture(v,0),h.setUniform1i(\"u_texture\",0);const T=l.getBoundFramebufferObject(),{x,y:A,width:b,height:y}=l.getViewport();l.bindFramebuffer(f),l.setViewport(0,0,1,1),l.setClearColor(0,0,0,0),l.setBlendingEnabled(!1),l.clearSafe(g.COLOR_BUFFER_BIT),l.bindVAO(E),l.drawArrays(d.TRIANGLE_STRIP,0,4);const j=new Uint8Array(4);return f.readPixels(0,0,1,1,a.RGBA,n.UNSIGNED_BYTE,j),E.dispose(!1),w.dispose(),f.dispose(),v.dispose(),l.setViewport(x,A,b,y),l.bindFramebuffer(T),255!==j[0]}}export{l as SVGPremultipliedAlpha};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}