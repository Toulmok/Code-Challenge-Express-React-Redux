{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport { getAssetUrl as r } from \"../../../../../assets.js\";\nimport t from \"../../../../../core/Accessor.js\";\nimport s from \"../../../../../core/Logger.js\";\nimport { disposeMaybe as a, isSome as o } from \"../../../../../core/maybe.js\";\nimport { property as i } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../../core/arrayUtils.js\";\nimport { subclass as m } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { requestImage as p } from \"../../../../../support/requestImageUtils.js\";\nimport { NoParameters as l } from \"../../core/shaderModules/interfaces.js\";\nimport { ResourceState as n } from \"../../lib/basicInterfaces.js\";\nimport { TextureType as h, PixelFormat as c, PixelType as d, TextureWrapMode as g, TextureSamplingMode as u } from \"../../../../webgl/enums.js\";\nimport { Texture as w } from \"../../../../webgl/Texture.js\";\nlet _ = class extends t {\n  constructor() {\n    super(...arguments), this._passParameters = new f(), this._loading = 0;\n  }\n  get passParameters() {\n    return this._passParameters;\n  }\n  destroy() {\n    this._passParameters.waveNormal = a(this._passParameters.waveNormal), this._passParameters.wavePertubation = a(this._passParameters.wavePertubation);\n  }\n  get updating() {\n    return this._loading > 0;\n  }\n  ensureResources(e) {\n    if (this._loading > 0) return n.LOADING;\n    if (o(this._passParameters.waveNormal) && o(this._passParameters.wavePertubation)) return n.LOADED;\n    const t = {\n      target: h.TEXTURE_2D,\n      pixelFormat: c.RGBA,\n      dataType: d.UNSIGNED_BYTE,\n      wrapMode: g.REPEAT,\n      samplingMode: u.LINEAR_MIPMAP_LINEAR,\n      hasMipmap: !0,\n      maxAnisotropy: 8\n    };\n    return ++this._loading, p(r(\"esri/images/materials/water/normals.jpg\")).then(r => this._passParameters.waveNormal = new w(e, {\n      ...t,\n      width: r.width,\n      height: r.height\n    }, r)).catch(e => s.getLogger(this.declaredClass).error(\"Failed to load water material normal texture.\", e)).finally(() => --this._loading), ++this._loading, p(r(\"esri/images/materials/water/perturbation.jpg\")).then(r => this._passParameters.wavePertubation = new w(e, {\n      ...t,\n      width: r.width,\n      height: r.height\n    }, r)).catch(e => s.getLogger(this.declaredClass).error(\"Failed to load water material pertubation texture.\", e)).finally(() => --this._loading), n.LOADING;\n  }\n};\ne([i()], _.prototype, \"_loading\", void 0), e([i({\n  type: Boolean,\n  readOnly: !0\n})], _.prototype, \"updating\", null), _ = e([m(\"esri.views.3d.webgl-engine.materials.internal.WaterTextureRepository\")], _);\nclass f extends l {}\nexport { f as WaterTexturePassParameters, _ as WaterTextureRepository };","map":{"version":3,"names":["_","e","getAssetUrl","r","t","s","disposeMaybe","a","isSome","o","property","i","subclass","m","requestImage","p","NoParameters","l","ResourceState","n","TextureType","h","PixelFormat","c","PixelType","d","TextureWrapMode","g","TextureSamplingMode","u","Texture","w","constructor","arguments","_passParameters","f","_loading","passParameters","destroy","waveNormal","wavePertubation","updating","ensureResources","LOADING","LOADED","target","TEXTURE_2D","pixelFormat","RGBA","dataType","UNSIGNED_BYTE","wrapMode","REPEAT","samplingMode","LINEAR_MIPMAP_LINEAR","hasMipmap","maxAnisotropy","then","width","height","catch","getLogger","declaredClass","error","finally","prototype","type","Boolean","readOnly","WaterTexturePassParameters","WaterTextureRepository"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/WaterTextureRepository.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{getAssetUrl as r}from\"../../../../../assets.js\";import t from\"../../../../../core/Accessor.js\";import s from\"../../../../../core/Logger.js\";import{disposeMaybe as a,isSome as o}from\"../../../../../core/maybe.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import{subclass as m}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{requestImage as p}from\"../../../../../support/requestImageUtils.js\";import{NoParameters as l}from\"../../core/shaderModules/interfaces.js\";import{ResourceState as n}from\"../../lib/basicInterfaces.js\";import{TextureType as h,PixelFormat as c,PixelType as d,TextureWrapMode as g,TextureSamplingMode as u}from\"../../../../webgl/enums.js\";import{Texture as w}from\"../../../../webgl/Texture.js\";let _=class extends t{constructor(){super(...arguments),this._passParameters=new f,this._loading=0}get passParameters(){return this._passParameters}destroy(){this._passParameters.waveNormal=a(this._passParameters.waveNormal),this._passParameters.wavePertubation=a(this._passParameters.wavePertubation)}get updating(){return this._loading>0}ensureResources(e){if(this._loading>0)return n.LOADING;if(o(this._passParameters.waveNormal)&&o(this._passParameters.wavePertubation))return n.LOADED;const t={target:h.TEXTURE_2D,pixelFormat:c.RGBA,dataType:d.UNSIGNED_BYTE,wrapMode:g.REPEAT,samplingMode:u.LINEAR_MIPMAP_LINEAR,hasMipmap:!0,maxAnisotropy:8};return++this._loading,p(r(\"esri/images/materials/water/normals.jpg\")).then((r=>this._passParameters.waveNormal=new w(e,{...t,width:r.width,height:r.height},r))).catch((e=>s.getLogger(this.declaredClass).error(\"Failed to load water material normal texture.\",e))).finally((()=>--this._loading)),++this._loading,p(r(\"esri/images/materials/water/perturbation.jpg\")).then((r=>this._passParameters.wavePertubation=new w(e,{...t,width:r.width,height:r.height},r))).catch((e=>s.getLogger(this.declaredClass).error(\"Failed to load water material pertubation texture.\",e))).finally((()=>--this._loading)),n.LOADING}};e([i()],_.prototype,\"_loading\",void 0),e([i({type:Boolean,readOnly:!0})],_.prototype,\"updating\",null),_=e([m(\"esri.views.3d.webgl-engine.materials.internal.WaterTextureRepository\")],_);class f extends l{}export{f as WaterTexturePassParameters,_ as WaterTextureRepository};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}