{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport r from \"../../core/Logger.js\";\nimport { debounce as s, ignoreAbortErrors as t } from \"../../core/promiseUtils.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as a } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { registerLayer as i, unregisterLayer as h } from \"./refresh.js\";\nfunction n(e) {\n  return null != e && \"object\" == typeof e && \"refreshTimestamp\" in e && \"refresh\" in e;\n}\nconst p = n => {\n  let p = class extends n {\n    constructor() {\n      super(...arguments), this.refreshInterval = 0, this.refreshTimestamp = 0, this._debounceHasDataChanged = s(() => this.hasDataChanged()), this.when().then(() => {\n        i(this);\n      }, () => {});\n    }\n    destroy() {\n      h(this);\n    }\n    get refreshParameters() {\n      return {\n        _ts: this.refreshTimestamp || null\n      };\n    }\n    refresh() {\n      let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Date.now();\n      t(this._debounceHasDataChanged()).then(r => {\n        r && this._set(\"refreshTimestamp\", e), this.emit(\"refresh\", {\n          dataChanged: r\n        });\n      }, e => {\n        r.getLogger(this.declaredClass).error(e), this.emit(\"refresh\", {\n          dataChanged: !1,\n          error: e\n        });\n      });\n    }\n    async hasDataChanged() {\n      return !0;\n    }\n  };\n  return e([o({\n    type: Number,\n    cast: e => e >= .1 ? e : e <= 0 ? 0 : .1,\n    json: {\n      write: !0\n    }\n  })], p.prototype, \"refreshInterval\", void 0), e([o({\n    readOnly: !0\n  })], p.prototype, \"refreshTimestamp\", void 0), e([o()], p.prototype, \"refreshParameters\", null), p = e([a(\"esri.layers.mixins.RefreshableLayer\")], p), p;\n};\nexport { p as RefreshableLayer, n as isRefreshableLayer };","map":{"version":3,"names":["_","e","r","debounce","s","ignoreAbortErrors","t","property","o","subclass","a","registerLayer","i","unregisterLayer","h","n","p","constructor","arguments","refreshInterval","refreshTimestamp","_debounceHasDataChanged","hasDataChanged","when","then","destroy","refreshParameters","_ts","refresh","length","undefined","Date","now","_set","emit","dataChanged","getLogger","declaredClass","error","type","Number","cast","json","write","prototype","readOnly","RefreshableLayer","isRefreshableLayer"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Logger.js\";import{debounce as s,ignoreAbortErrors as t}from\"../../core/promiseUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{registerLayer as i,unregisterLayer as h}from\"./refresh.js\";function n(e){return null!=e&&\"object\"==typeof e&&\"refreshTimestamp\"in e&&\"refresh\"in e}const p=n=>{let p=class extends n{constructor(...e){super(...e),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=s((()=>this.hasDataChanged())),this.when().then((()=>{i(this)}),(()=>{}))}destroy(){h(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(e=Date.now()){t(this._debounceHasDataChanged()).then((r=>{r&&this._set(\"refreshTimestamp\",e),this.emit(\"refresh\",{dataChanged:r})}),(e=>{r.getLogger(this.declaredClass).error(e),this.emit(\"refresh\",{dataChanged:!1,error:e})}))}async hasDataChanged(){return!0}};return e([o({type:Number,cast:e=>e>=.1?e:e<=0?0:.1,json:{write:!0}})],p.prototype,\"refreshInterval\",void 0),e([o({readOnly:!0})],p.prototype,\"refreshTimestamp\",void 0),e([o()],p.prototype,\"refreshParameters\",null),p=e([a(\"esri.layers.mixins.RefreshableLayer\")],p),p};export{p as RefreshableLayer,n as isRefreshableLayer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}