{"ast":null,"code":"import _classCallCheck from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport { isNone as t } from \"../../../core/maybe.js\";\nimport { isExtent as e, isPolygon as s, isPolyline as i } from \"../../../geometry/support/jsonUtils.js\";\nimport { clipPolygonToTileExtent as n, clipPolylineToTileExtent as o } from \"../CIMEffects.js\";\nimport { CurveHelper as r, PIXEL_TOLERANCE as f } from \"../CurveHelper.js\";\nimport { GeometricEffectOffsetMethod as m } from \"../enums.js\";\nimport h from \"../../../geometry/SpatialReference.js\";\nvar a = /*#__PURE__*/function () {\n  function a() {\n    _classCallCheck(this, a);\n  }\n  _createClass(a, [{\n    key: \"execute\",\n    value: function execute(t, e, s, i, n) {\n      return new l(t, e, s, i, n);\n    }\n  }], [{\n    key: \"local\",\n    value: function local() {\n      return null === a.instance && (a.instance = new a()), a.instance;\n    }\n  }]);\n  return a;\n}();\na.instance = null;\nvar l = /*#__PURE__*/function () {\n  function l(t, e, s, i, n) {\n    var _e$offset;\n    _classCallCheck(this, l);\n    this._inputGeometries = t, this._tileKey = i, this._geometryEngine = n, this._curveHelper = new r(), this._offset = ((_e$offset = e.offset) !== null && _e$offset !== void 0 ? _e$offset : 1) * s, this._method = e.method, this._option = e.option, this._offsetFlattenError = f * s;\n  }\n  _createClass(l, [{\n    key: \"next\",\n    value: function next() {\n      var r;\n      for (; r = this._inputGeometries.next();) {\n        if (0 === this._offset) return r;\n        if (e(r)) {\n          if (this._method === m.Rounded && this._offset > 0) {\n            var _t = [[r.xmin, r.ymin], [r.xmin, r.ymax], [r.xmax, r.ymax], [r.xmax, r.ymin], [r.xmin, r.ymin]],\n              _e = this._curveHelper.offset(_t, -this._offset, this._method, 4, this._offsetFlattenError);\n            return _e ? {\n              rings: [_e]\n            } : null;\n          }\n          if (Math.min(r.xmax - r.xmin, r.ymax - r.ymin) + 2 * this._offset > 0) return {\n            xmin: r.xmin - this._offset,\n            xmax: r.xmax + this._offset,\n            ymin: r.ymin - this._offset,\n            ymax: r.ymax + this._offset\n          };\n        }\n        var _f = this._geometryEngine;\n        if (t(_f)) return null;\n        var _a = r;\n        if (s(r)) {\n          if (this._tileKey && (_a = n(r, Math.abs(this._offset) + 1), !_a || !_a.rings || 0 === _a.rings.length)) continue;\n        } else if (i(r) && this._tileKey && (_a = o(r, Math.abs(this._offset) + 1), !_a || !_a.paths || 0 === _a.paths.length)) continue;\n        return _f.offset(h.WebMercator, _a, -this._offset, 1, this._method, 4, this._offsetFlattenError);\n      }\n      return null;\n    }\n  }]);\n  return l;\n}();\nexport { a as EffectOffset };","map":{"version":3,"names":["isNone","t","isExtent","e","isPolygon","s","isPolyline","i","clipPolygonToTileExtent","n","clipPolylineToTileExtent","o","CurveHelper","r","PIXEL_TOLERANCE","f","GeometricEffectOffsetMethod","m","h","a","_classCallCheck","_createClass","key","value","execute","l","local","instance","_e$offset","_inputGeometries","_tileKey","_geometryEngine","_curveHelper","_offset","offset","_method","method","_option","option","_offsetFlattenError","next","Rounded","xmin","ymin","ymax","xmax","rings","Math","min","abs","length","paths","WebMercator","EffectOffset"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/symbols/cim/effects/EffectOffset.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isNone as t}from\"../../../core/maybe.js\";import{isExtent as e,isPolygon as s,isPolyline as i}from\"../../../geometry/support/jsonUtils.js\";import{clipPolygonToTileExtent as n,clipPolylineToTileExtent as o}from\"../CIMEffects.js\";import{CurveHelper as r,PIXEL_TOLERANCE as f}from\"../CurveHelper.js\";import{GeometricEffectOffsetMethod as m}from\"../enums.js\";import h from\"../../../geometry/SpatialReference.js\";class a{static local(){return null===a.instance&&(a.instance=new a),a.instance}execute(t,e,s,i,n){return new l(t,e,s,i,n)}}a.instance=null;class l{constructor(t,e,s,i,n){this._inputGeometries=t,this._tileKey=i,this._geometryEngine=n,this._curveHelper=new r,this._offset=(e.offset??1)*s,this._method=e.method,this._option=e.option,this._offsetFlattenError=f*s}next(){let r;for(;r=this._inputGeometries.next();){if(0===this._offset)return r;if(e(r)){if(this._method===m.Rounded&&this._offset>0){const t=[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]],e=this._curveHelper.offset(t,-this._offset,this._method,4,this._offsetFlattenError);return e?{rings:[e]}:null}if(Math.min(r.xmax-r.xmin,r.ymax-r.ymin)+2*this._offset>0)return{xmin:r.xmin-this._offset,xmax:r.xmax+this._offset,ymin:r.ymin-this._offset,ymax:r.ymax+this._offset}}const f=this._geometryEngine;if(t(f))return null;let a=r;if(s(r)){if(this._tileKey&&(a=n(r,Math.abs(this._offset)+1),!a||!a.rings||0===a.rings.length))continue}else if(i(r)&&this._tileKey&&(a=o(r,Math.abs(this._offset)+1),!a||!a.paths||0===a.paths.length))continue;return f.offset(h.WebMercator,a,-this._offset,1,this._method,4,this._offsetFlattenError)}return null}}export{a as EffectOffset};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}