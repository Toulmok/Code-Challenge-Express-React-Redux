{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { width as t, height as e, intersects as n } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { Attribute as r } from \"../../webgl-engine/lib/Attribute.js\";\nimport { newDoubleArray as i } from \"../../webgl-engine/lib/DoubleArray.js\";\nimport { newFloatArray as o } from \"../../webgl-engine/lib/FloatArray.js\";\nimport { Geometry as m } from \"../../webgl-engine/lib/Geometry.js\";\nimport { createSquareGeometry as l } from \"../../webgl-engine/lib/GeometryUtil.js\";\nimport { VertexAttribute as g } from \"../../webgl-engine/lib/VertexAttribute.js\";\nfunction h(n, r, i) {\n  const o = t(n) / e(n),\n    m = {\n      width: i,\n      height: i\n    };\n  return o > 1.0001 ? m.height = i / o : o < .9999 && (m.width = i * o), m.width = Math.round(m.width / (t(n) / t(r))), m.height = Math.round(m.height / (e(n) / e(r))), m;\n}\nfunction w(t, e) {\n  return l(t, [[e[0], e[1], -1], [e[2], e[1], -1], [e[2], e[3], -1], [e[0], e[3], -1]]);\n}\nfunction a(t, e, l) {\n  if (!n(e, l)) return w(t, l);\n  const h = [e[1] - l[1], Math.min(e[3], l[3]) - Math.max(e[1], l[1]), l[3] - e[3], 123456],\n    a = [e[0] - l[0], Math.min(e[2], l[2]) - Math.max(e[0], l[0]), l[2] - e[2], 123456],\n    u = l[2] - l[0],\n    f = l[3] - l[1],\n    s = a[0] > 0 && a[2] > 0 ? 3 : 2,\n    c = h[0] > 0 && h[2] > 0 ? 3 : 2,\n    p = (c + 1) * (s + 1),\n    A = i(3 * p),\n    M = o(2 * p),\n    d = new Array(6 * (c * s - 1));\n  let j = 0,\n    y = 0,\n    O = 0,\n    x = 0,\n    I = 0;\n  for (let n = 0; n < 4; n++) {\n    const t = h[n];\n    if (t <= 0) continue;\n    let e = 0;\n    for (let r = 0; r < 4; r++) {\n      const t = a[r];\n      t <= 0 || (A[y++] = l[0] + e, A[y++] = l[1] + j, A[y++] = -1, M[O++] = e / u, M[O++] = j / f, r < 3 && n < 3 && (1 !== r || 1 !== n) && (d[I++] = x, d[I++] = x + 1, d[I++] = x + s + 1, d[I++] = x + 1, d[I++] = x + s + 2, d[I++] = x + s + 1), x++, e += t);\n    }\n    j += t;\n  }\n  const N = new Array(d.length);\n  return new m(t, [[g.POSITION, new r(A, 3, !0)], [g.NORMAL, new r(b, 3, !0)], [g.UV0, new r(M, 2, !0)]], [[g.POSITION, d], [g.NORMAL, N], [g.UV0, d]]);\n}\nconst b = [0, 0, 1];\nexport { h as computeImageExportSize, w as createGeometryForExtent, a as createOuterImageGeometry };","map":{"version":3,"names":["width","t","height","e","intersects","n","Attribute","r","newDoubleArray","i","newFloatArray","o","Geometry","m","createSquareGeometry","l","VertexAttribute","g","h","Math","round","w","a","min","max","u","f","s","c","p","A","M","d","Array","j","y","O","x","I","N","length","POSITION","NORMAL","b","UV0","computeImageExportSize","createGeometryForExtent","createOuterImageGeometry"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{width as t,height as e,intersects as n}from\"../../../../geometry/support/aaBoundingRect.js\";import{Attribute as r}from\"../../webgl-engine/lib/Attribute.js\";import{newDoubleArray as i}from\"../../webgl-engine/lib/DoubleArray.js\";import{newFloatArray as o}from\"../../webgl-engine/lib/FloatArray.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{createSquareGeometry as l}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as g}from\"../../webgl-engine/lib/VertexAttribute.js\";function h(n,r,i){const o=t(n)/e(n),m={width:i,height:i};return o>1.0001?m.height=i/o:o<.9999&&(m.width=i*o),m.width=Math.round(m.width/(t(n)/t(r))),m.height=Math.round(m.height/(e(n)/e(r))),m}function w(t,e){return l(t,[[e[0],e[1],-1],[e[2],e[1],-1],[e[2],e[3],-1],[e[0],e[3],-1]])}function a(t,e,l){if(!n(e,l))return w(t,l);const h=[e[1]-l[1],Math.min(e[3],l[3])-Math.max(e[1],l[1]),l[3]-e[3],123456],a=[e[0]-l[0],Math.min(e[2],l[2])-Math.max(e[0],l[0]),l[2]-e[2],123456],u=l[2]-l[0],f=l[3]-l[1],s=a[0]>0&&a[2]>0?3:2,c=h[0]>0&&h[2]>0?3:2,p=(c+1)*(s+1),A=i(3*p),M=o(2*p),d=new Array(6*(c*s-1));let j=0,y=0,O=0,x=0,I=0;for(let n=0;n<4;n++){const t=h[n];if(t<=0)continue;let e=0;for(let r=0;r<4;r++){const t=a[r];t<=0||(A[y++]=l[0]+e,A[y++]=l[1]+j,A[y++]=-1,M[O++]=e/u,M[O++]=j/f,r<3&&n<3&&(1!==r||1!==n)&&(d[I++]=x,d[I++]=x+1,d[I++]=x+s+1,d[I++]=x+1,d[I++]=x+s+2,d[I++]=x+s+1),x++,e+=t)}j+=t}const N=new Array(d.length);return new m(t,[[g.POSITION,new r(A,3,!0)],[g.NORMAL,new r(b,3,!0)],[g.UV0,new r(M,2,!0)]],[[g.POSITION,d],[g.NORMAL,N],[g.UV0,d]])}const b=[0,0,1];export{h as computeImageExportSize,w as createGeometryForExtent,a as createOuterImageGeometry};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}