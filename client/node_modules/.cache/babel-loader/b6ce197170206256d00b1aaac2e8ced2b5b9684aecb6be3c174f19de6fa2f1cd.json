{"ast":null,"code":"import _classCallCheck from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { SqlError as e, SqlErrorCodes as t } from \"./errorsupport.js\";\nimport { FeatureServiceDatabaseType as r } from \"./shared.js\";\nimport { toWhereClauseFromTree as n } from \"./sqlUtils.js\";\nimport { WhereClause as i } from \"../../../core/sql/WhereClause.js\";\nfunction s(s) {\n  if (\"function\" === s.parseTree.type) {\n    if (0 === s.parseTree.args.value.length) return {\n      name: s.parseTree.name,\n      expr: null\n    };\n    if (s.parseTree.args.value.length > 1) throw new e(t.MissingStatisticParameters);\n    var _a = i.create(n(s.parseTree.args.value[0], r.Standardised, s.parameters), s.fieldsIndex);\n    return {\n      name: s.parseTree.name,\n      expr: _a\n    };\n  }\n  return null;\n}\nvar a = /*#__PURE__*/function () {\n  function a() {\n    _classCallCheck(this, a);\n    this.field = \"\", this.tofieldname = \"\", this.typeofstat = \"MIN\", this.workingexpr = null;\n  }\n  _createClass(a, [{\n    key: \"clone\",\n    value: function clone() {\n      var e = new a();\n      return e.field = this.field, e.tofieldname = this.tofieldname, e.typeofstat = this.typeofstat, e.workingexpr = this.workingexpr, e;\n    }\n  }, {\n    key: \"toStatisticsName\",\n    value: function toStatisticsName() {\n      switch (this.typeofstat.toUpperCase()) {\n        case \"MIN\":\n          return \"min\";\n        case \"MAX\":\n          return \"max\";\n        case \"SUM\":\n          return \"sum\";\n        case \"COUNT\":\n        default:\n          return \"count\";\n        case \"VAR\":\n          return \"var\";\n        case \"STDDEV\":\n          return \"stddev\";\n        case \"AVG\":\n          return \"avg\";\n      }\n    }\n  }], [{\n    key: \"parseStatField\",\n    value: function parseStatField(r, n, o) {\n      var l = new a();\n      l.field = r;\n      var p = i.create(n, o),\n        f = s(p);\n      if (null === f) throw new e(t.UnsupportedSqlFunction, {\n        function: \"\"\n      });\n      var u = f.name.toUpperCase().trim();\n      if (\"MIN\" === u) {\n        if (l.typeofstat = \"MIN\", l.workingexpr = f.expr, null === p) throw new e(t.InvalidFunctionParameters, {\n          function: \"min\"\n        });\n      } else if (\"MAX\" === u) {\n        if (l.typeofstat = \"MAX\", l.workingexpr = f.expr, null === p) throw new e(t.InvalidFunctionParameters, {\n          function: \"max\"\n        });\n      } else if (\"COUNT\" === u) l.typeofstat = \"COUNT\", l.workingexpr = f.expr;else if (\"STDEV\" === u) {\n        if (l.typeofstat = \"STDDEV\", l.workingexpr = f.expr, null === p) throw new e(t.InvalidFunctionParameters, {\n          function: \"stdev\"\n        });\n      } else if (\"SUM\" === u) {\n        if (l.typeofstat = \"SUM\", l.workingexpr = f.expr, null === p) throw new e(t.InvalidFunctionParameters, {\n          function: \"sum\"\n        });\n      } else if (\"MEAN\" === u) {\n        if (l.typeofstat = \"AVG\", l.workingexpr = f.expr, null === p) throw new e(t.InvalidFunctionParameters, {\n          function: u\n        });\n      } else if (\"AVG\" === u) {\n        if (l.typeofstat = \"AVG\", l.workingexpr = f.expr, null === p) throw new e(t.InvalidFunctionParameters, {\n          function: \"avg\"\n        });\n      } else {\n        if (\"VAR\" !== u) throw new e(t.UnsupportedSqlFunction, {\n          function: u\n        });\n        if (l.typeofstat = \"VAR\", l.workingexpr = f.expr, null === p) throw new e(t.InvalidFunctionParameters, {\n          function: \"var\"\n        });\n      }\n      return l;\n    }\n  }]);\n  return a;\n}();\nexport { a as default };","map":{"version":3,"names":["SqlError","e","SqlErrorCodes","t","FeatureServiceDatabaseType","r","toWhereClauseFromTree","n","WhereClause","i","s","parseTree","type","args","value","length","name","expr","MissingStatisticParameters","a","create","Standardised","parameters","fieldsIndex","_classCallCheck","field","tofieldname","typeofstat","workingexpr","_createClass","key","clone","toStatisticsName","toUpperCase","parseStatField","o","l","p","f","UnsupportedSqlFunction","function","u","trim","InvalidFunctionParameters","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/arcade/featureset/support/StatsField.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{SqlError as e,SqlErrorCodes as t}from\"./errorsupport.js\";import{FeatureServiceDatabaseType as r}from\"./shared.js\";import{toWhereClauseFromTree as n}from\"./sqlUtils.js\";import{WhereClause as i}from\"../../../core/sql/WhereClause.js\";function s(s){if(\"function\"===s.parseTree.type){if(0===s.parseTree.args.value.length)return{name:s.parseTree.name,expr:null};if(s.parseTree.args.value.length>1)throw new e(t.MissingStatisticParameters);const a=i.create(n(s.parseTree.args.value[0],r.Standardised,s.parameters),s.fieldsIndex);return{name:s.parseTree.name,expr:a}}return null}class a{constructor(){this.field=\"\",this.tofieldname=\"\",this.typeofstat=\"MIN\",this.workingexpr=null}clone(){const e=new a;return e.field=this.field,e.tofieldname=this.tofieldname,e.typeofstat=this.typeofstat,e.workingexpr=this.workingexpr,e}static parseStatField(r,n,o){const l=new a;l.field=r;const p=i.create(n,o),f=s(p);if(null===f)throw new e(t.UnsupportedSqlFunction,{function:\"\"});const u=f.name.toUpperCase().trim();if(\"MIN\"===u){if(l.typeofstat=\"MIN\",l.workingexpr=f.expr,null===p)throw new e(t.InvalidFunctionParameters,{function:\"min\"})}else if(\"MAX\"===u){if(l.typeofstat=\"MAX\",l.workingexpr=f.expr,null===p)throw new e(t.InvalidFunctionParameters,{function:\"max\"})}else if(\"COUNT\"===u)l.typeofstat=\"COUNT\",l.workingexpr=f.expr;else if(\"STDEV\"===u){if(l.typeofstat=\"STDDEV\",l.workingexpr=f.expr,null===p)throw new e(t.InvalidFunctionParameters,{function:\"stdev\"})}else if(\"SUM\"===u){if(l.typeofstat=\"SUM\",l.workingexpr=f.expr,null===p)throw new e(t.InvalidFunctionParameters,{function:\"sum\"})}else if(\"MEAN\"===u){if(l.typeofstat=\"AVG\",l.workingexpr=f.expr,null===p)throw new e(t.InvalidFunctionParameters,{function:u})}else if(\"AVG\"===u){if(l.typeofstat=\"AVG\",l.workingexpr=f.expr,null===p)throw new e(t.InvalidFunctionParameters,{function:\"avg\"})}else{if(\"VAR\"!==u)throw new e(t.UnsupportedSqlFunction,{function:u});if(l.typeofstat=\"VAR\",l.workingexpr=f.expr,null===p)throw new e(t.InvalidFunctionParameters,{function:\"var\"})}return l}toStatisticsName(){switch(this.typeofstat.toUpperCase()){case\"MIN\":return\"min\";case\"MAX\":return\"max\";case\"SUM\":return\"sum\";case\"COUNT\":default:return\"count\";case\"VAR\":return\"var\";case\"STDDEV\":return\"stddev\";case\"AVG\":return\"avg\"}}}export{a as default};\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA,SAAOA,QAAQ,IAAIC,CAAC,EAACC,aAAa,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,0BAA0B,IAAIC,CAAC,QAAK,aAAa;AAAC,SAAOC,qBAAqB,IAAIC,CAAC,QAAK,eAAe;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,kCAAkC;AAAC,SAASC,CAACA,CAACA,CAAC,EAAC;EAAC,IAAG,UAAU,KAAGA,CAAC,CAACC,SAAS,CAACC,IAAI,EAAC;IAAC,IAAG,CAAC,KAAGF,CAAC,CAACC,SAAS,CAACE,IAAI,CAACC,KAAK,CAACC,MAAM,EAAC,OAAM;MAACC,IAAI,EAACN,CAAC,CAACC,SAAS,CAACK,IAAI;MAACC,IAAI,EAAC;IAAI,CAAC;IAAC,IAAGP,CAAC,CAACC,SAAS,CAACE,IAAI,CAACC,KAAK,CAACC,MAAM,GAAC,CAAC,EAAC,MAAM,IAAId,CAAC,CAACE,CAAC,CAACe,0BAA0B,CAAC;IAAC,IAAMC,EAAC,GAACV,CAAC,CAACW,MAAM,CAACb,CAAC,CAACG,CAAC,CAACC,SAAS,CAACE,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,EAACT,CAAC,CAACgB,YAAY,EAACX,CAAC,CAACY,UAAU,CAAC,EAACZ,CAAC,CAACa,WAAW,CAAC;IAAC,OAAM;MAACP,IAAI,EAACN,CAAC,CAACC,SAAS,CAACK,IAAI;MAACC,IAAI,EAACE;IAAC,CAAC;EAAA;EAAC,OAAO,IAAI;AAAA;AAAC,IAAMA,CAAC;EAAC,SAAAA,EAAA,EAAa;IAAAK,eAAA,OAAAL,CAAA;IAAC,IAAI,CAACM,KAAK,GAAC,EAAE,EAAC,IAAI,CAACC,WAAW,GAAC,EAAE,EAAC,IAAI,CAACC,UAAU,GAAC,KAAK,EAAC,IAAI,CAACC,WAAW,GAAC,IAAI;EAAA;EAACC,YAAA,CAAAV,CAAA;IAAAW,GAAA;IAAAhB,KAAA,WAAAiB,MAAA,EAAO;MAAC,IAAM9B,CAAC,GAAC,IAAIkB,CAAC;MAAC,OAAOlB,CAAC,CAACwB,KAAK,GAAC,IAAI,CAACA,KAAK,EAACxB,CAAC,CAACyB,WAAW,GAAC,IAAI,CAACA,WAAW,EAACzB,CAAC,CAAC0B,UAAU,GAAC,IAAI,CAACA,UAAU,EAAC1B,CAAC,CAAC2B,WAAW,GAAC,IAAI,CAACA,WAAW,EAAC3B,CAAC;IAAA;EAAC;IAAA6B,GAAA;IAAAhB,KAAA,EAAqrC,SAAAkB,iBAAA,EAAkB;MAAC,QAAO,IAAI,CAACL,UAAU,CAACM,WAAW,EAAE;QAAE,KAAI,KAAK;UAAC,OAAM,KAAK;QAAC,KAAI,KAAK;UAAC,OAAM,KAAK;QAAC,KAAI,KAAK;UAAC,OAAM,KAAK;QAAC,KAAI,OAAO;QAAC;UAAQ,OAAM,OAAO;QAAC,KAAI,KAAK;UAAC,OAAM,KAAK;QAAC,KAAI,QAAQ;UAAC,OAAM,QAAQ;QAAC,KAAI,KAAK;UAAC,OAAM,KAAK;MAAA;IAAC;EAAC;IAAAH,GAAA;IAAAhB,KAAA,EAA35C,SAAAoB,eAAsB7B,CAAC,EAACE,CAAC,EAAC4B,CAAC,EAAC;MAAC,IAAMC,CAAC,GAAC,IAAIjB,CAAC;MAACiB,CAAC,CAACX,KAAK,GAACpB,CAAC;MAAC,IAAMgC,CAAC,GAAC5B,CAAC,CAACW,MAAM,CAACb,CAAC,EAAC4B,CAAC,CAAC;QAACG,CAAC,GAAC5B,CAAC,CAAC2B,CAAC,CAAC;MAAC,IAAG,IAAI,KAAGC,CAAC,EAAC,MAAM,IAAIrC,CAAC,CAACE,CAAC,CAACoC,sBAAsB,EAAC;QAACC,QAAQ,EAAC;MAAE,CAAC,CAAC;MAAC,IAAMC,CAAC,GAACH,CAAC,CAACtB,IAAI,CAACiB,WAAW,EAAE,CAACS,IAAI,EAAE;MAAC,IAAG,KAAK,KAAGD,CAAC,EAAC;QAAC,IAAGL,CAAC,CAACT,UAAU,GAAC,KAAK,EAACS,CAAC,CAACR,WAAW,GAACU,CAAC,CAACrB,IAAI,EAAC,IAAI,KAAGoB,CAAC,EAAC,MAAM,IAAIpC,CAAC,CAACE,CAAC,CAACwC,yBAAyB,EAAC;UAACH,QAAQ,EAAC;QAAK,CAAC,CAAC;MAAA,CAAC,MAAK,IAAG,KAAK,KAAGC,CAAC,EAAC;QAAC,IAAGL,CAAC,CAACT,UAAU,GAAC,KAAK,EAACS,CAAC,CAACR,WAAW,GAACU,CAAC,CAACrB,IAAI,EAAC,IAAI,KAAGoB,CAAC,EAAC,MAAM,IAAIpC,CAAC,CAACE,CAAC,CAACwC,yBAAyB,EAAC;UAACH,QAAQ,EAAC;QAAK,CAAC,CAAC;MAAA,CAAC,MAAK,IAAG,OAAO,KAAGC,CAAC,EAACL,CAAC,CAACT,UAAU,GAAC,OAAO,EAACS,CAAC,CAACR,WAAW,GAACU,CAAC,CAACrB,IAAI,CAAC,KAAK,IAAG,OAAO,KAAGwB,CAAC,EAAC;QAAC,IAAGL,CAAC,CAACT,UAAU,GAAC,QAAQ,EAACS,CAAC,CAACR,WAAW,GAACU,CAAC,CAACrB,IAAI,EAAC,IAAI,KAAGoB,CAAC,EAAC,MAAM,IAAIpC,CAAC,CAACE,CAAC,CAACwC,yBAAyB,EAAC;UAACH,QAAQ,EAAC;QAAO,CAAC,CAAC;MAAA,CAAC,MAAK,IAAG,KAAK,KAAGC,CAAC,EAAC;QAAC,IAAGL,CAAC,CAACT,UAAU,GAAC,KAAK,EAACS,CAAC,CAACR,WAAW,GAACU,CAAC,CAACrB,IAAI,EAAC,IAAI,KAAGoB,CAAC,EAAC,MAAM,IAAIpC,CAAC,CAACE,CAAC,CAACwC,yBAAyB,EAAC;UAACH,QAAQ,EAAC;QAAK,CAAC,CAAC;MAAA,CAAC,MAAK,IAAG,MAAM,KAAGC,CAAC,EAAC;QAAC,IAAGL,CAAC,CAACT,UAAU,GAAC,KAAK,EAACS,CAAC,CAACR,WAAW,GAACU,CAAC,CAACrB,IAAI,EAAC,IAAI,KAAGoB,CAAC,EAAC,MAAM,IAAIpC,CAAC,CAACE,CAAC,CAACwC,yBAAyB,EAAC;UAACH,QAAQ,EAACC;QAAC,CAAC,CAAC;MAAA,CAAC,MAAK,IAAG,KAAK,KAAGA,CAAC,EAAC;QAAC,IAAGL,CAAC,CAACT,UAAU,GAAC,KAAK,EAACS,CAAC,CAACR,WAAW,GAACU,CAAC,CAACrB,IAAI,EAAC,IAAI,KAAGoB,CAAC,EAAC,MAAM,IAAIpC,CAAC,CAACE,CAAC,CAACwC,yBAAyB,EAAC;UAACH,QAAQ,EAAC;QAAK,CAAC,CAAC;MAAA,CAAC,MAAI;QAAC,IAAG,KAAK,KAAGC,CAAC,EAAC,MAAM,IAAIxC,CAAC,CAACE,CAAC,CAACoC,sBAAsB,EAAC;UAACC,QAAQ,EAACC;QAAC,CAAC,CAAC;QAAC,IAAGL,CAAC,CAACT,UAAU,GAAC,KAAK,EAACS,CAAC,CAACR,WAAW,GAACU,CAAC,CAACrB,IAAI,EAAC,IAAI,KAAGoB,CAAC,EAAC,MAAM,IAAIpC,CAAC,CAACE,CAAC,CAACwC,yBAAyB,EAAC;UAACH,QAAQ,EAAC;QAAK,CAAC,CAAC;MAAA;MAAC,OAAOJ,CAAC;IAAA;EAAC;EAAA,OAAAjB,CAAA;AAAA;AAAuO,SAAOA,CAAC,IAAIyB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}