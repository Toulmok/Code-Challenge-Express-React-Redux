{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../request.js\";\nimport { mapParameters as t } from \"../../operations/urlUtils.js\";\nfunction o(e, t) {\n  const o = e.toJSON();\n  return o.objectIds && (o.objectIds = o.objectIds.join(\",\")), o.orderByFields && (o.orderByFields = o.orderByFields.join(\",\")), o.outFields && !t?.returnCountOnly ? o.outFields.includes(\"*\") ? o.outFields = \"*\" : o.outFields = o.outFields.join(\",\") : delete o.outFields, o.outSpatialReference && (o.outSR = o.outSR.wkid || JSON.stringify(o.outSR.toJSON()), delete o.outSpatialReference), o.dynamicDataSource && (o.layer = JSON.stringify({\n    source: o.dynamicDataSource\n  }), delete o.dynamicDataSource), o;\n}\nasync function r(e, t, o) {\n  const r = await s(e, t, o),\n    n = r.data,\n    a = n.geometryType,\n    d = n.spatialReference,\n    c = {};\n  for (const s of n.relatedRecordGroups) {\n    const e = {\n      fields: void 0,\n      objectIdFieldName: void 0,\n      geometryType: a,\n      spatialReference: d,\n      hasZ: !!n.hasZ,\n      hasM: !!n.hasM,\n      features: s.relatedRecords\n    };\n    if (null != s.objectId) c[s.objectId] = e;else for (const t in s) s.hasOwnProperty(t) && \"relatedRecords\" !== t && (c[s[t]] = e);\n  }\n  return {\n    ...r,\n    data: c\n  };\n}\nasync function n(e, t, o) {\n  const r = await s(e, t, o, {\n      returnCountOnly: !0\n    }),\n    n = r.data,\n    a = {};\n  for (const s of n.relatedRecordGroups) null != s.objectId && (a[s.objectId] = s.count);\n  return {\n    ...r,\n    data: a\n  };\n}\nasync function s(r, n) {\n  let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let a = arguments.length > 3 ? arguments[3] : undefined;\n  const d = t({\n    ...r.query,\n    f: \"json\",\n    ...a,\n    ...o(n, a)\n  });\n  return e(r.path + \"/queryRelatedRecords\", {\n    ...s,\n    query: {\n      ...s.query,\n      ...d\n    }\n  });\n}\nexport { r as executeRelationshipQuery, n as executeRelationshipQueryForCount, o as toQueryStringParameters };","map":{"version":3,"names":["e","mapParameters","t","o","toJSON","objectIds","join","orderByFields","outFields","returnCountOnly","includes","outSpatialReference","outSR","wkid","JSON","stringify","dynamicDataSource","layer","source","r","s","n","data","a","geometryType","d","spatialReference","c","relatedRecordGroups","fields","objectIdFieldName","hasZ","hasM","features","relatedRecords","objectId","hasOwnProperty","count","arguments","length","undefined","query","f","path","executeRelationshipQuery","executeRelationshipQueryForCount","toQueryStringParameters"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/rest/query/operations/queryRelatedRecords.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{mapParameters as t}from\"../../operations/urlUtils.js\";function o(e,t){const o=e.toJSON();return o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(o.orderByFields=o.orderByFields.join(\",\")),o.outFields&&!t?.returnCountOnly?o.outFields.includes(\"*\")?o.outFields=\"*\":o.outFields=o.outFields.join(\",\"):delete o.outFields,o.outSpatialReference&&(o.outSR=o.outSR.wkid||JSON.stringify(o.outSR.toJSON()),delete o.outSpatialReference),o.dynamicDataSource&&(o.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o}async function r(e,t,o){const r=await s(e,t,o),n=r.data,a=n.geometryType,d=n.spatialReference,c={};for(const s of n.relatedRecordGroups){const e={fields:void 0,objectIdFieldName:void 0,geometryType:a,spatialReference:d,hasZ:!!n.hasZ,hasM:!!n.hasM,features:s.relatedRecords};if(null!=s.objectId)c[s.objectId]=e;else for(const t in s)s.hasOwnProperty(t)&&\"relatedRecords\"!==t&&(c[s[t]]=e)}return{...r,data:c}}async function n(e,t,o){const r=await s(e,t,o,{returnCountOnly:!0}),n=r.data,a={};for(const s of n.relatedRecordGroups)null!=s.objectId&&(a[s.objectId]=s.count);return{...r,data:a}}async function s(r,n,s={},a){const d=t({...r.query,f:\"json\",...a,...o(n,a)});return e(r.path+\"/queryRelatedRecords\",{...s,query:{...s.query,...d}})}export{r as executeRelationshipQuery,n as executeRelationshipQueryForCount,o as toQueryStringParameters};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAC,MAAK,qBAAqB;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAASC,CAACA,CAACH,CAAC,EAACE,CAAC,EAAC;EAAC,MAAMC,CAAC,GAACH,CAAC,CAACI,MAAM,EAAE;EAAC,OAAOD,CAAC,CAACE,SAAS,KAAGF,CAAC,CAACE,SAAS,GAACF,CAAC,CAACE,SAAS,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,EAACH,CAAC,CAACI,aAAa,KAAGJ,CAAC,CAACI,aAAa,GAACJ,CAAC,CAACI,aAAa,CAACD,IAAI,CAAC,GAAG,CAAC,CAAC,EAACH,CAAC,CAACK,SAAS,IAAE,CAACN,CAAC,EAAEO,eAAe,GAACN,CAAC,CAACK,SAAS,CAACE,QAAQ,CAAC,GAAG,CAAC,GAACP,CAAC,CAACK,SAAS,GAAC,GAAG,GAACL,CAAC,CAACK,SAAS,GAACL,CAAC,CAACK,SAAS,CAACF,IAAI,CAAC,GAAG,CAAC,GAAC,OAAOH,CAAC,CAACK,SAAS,EAACL,CAAC,CAACQ,mBAAmB,KAAGR,CAAC,CAACS,KAAK,GAACT,CAAC,CAACS,KAAK,CAACC,IAAI,IAAEC,IAAI,CAACC,SAAS,CAACZ,CAAC,CAACS,KAAK,CAACR,MAAM,EAAE,CAAC,EAAC,OAAOD,CAAC,CAACQ,mBAAmB,CAAC,EAACR,CAAC,CAACa,iBAAiB,KAAGb,CAAC,CAACc,KAAK,GAACH,IAAI,CAACC,SAAS,CAAC;IAACG,MAAM,EAACf,CAAC,CAACa;EAAiB,CAAC,CAAC,EAAC,OAAOb,CAAC,CAACa,iBAAiB,CAAC,EAACb,CAAC;AAAA;AAAC,eAAegB,CAACA,CAACnB,CAAC,EAACE,CAAC,EAACC,CAAC,EAAC;EAAC,MAAMgB,CAAC,GAAC,MAAMC,CAAC,CAACpB,CAAC,EAACE,CAAC,EAACC,CAAC,CAAC;IAACkB,CAAC,GAACF,CAAC,CAACG,IAAI;IAACC,CAAC,GAACF,CAAC,CAACG,YAAY;IAACC,CAAC,GAACJ,CAAC,CAACK,gBAAgB;IAACC,CAAC,GAAC,CAAC,CAAC;EAAC,KAAI,MAAMP,CAAC,IAAIC,CAAC,CAACO,mBAAmB,EAAC;IAAC,MAAM5B,CAAC,GAAC;MAAC6B,MAAM,EAAC,KAAK,CAAC;MAACC,iBAAiB,EAAC,KAAK,CAAC;MAACN,YAAY,EAACD,CAAC;MAACG,gBAAgB,EAACD,CAAC;MAACM,IAAI,EAAC,CAAC,CAACV,CAAC,CAACU,IAAI;MAACC,IAAI,EAAC,CAAC,CAACX,CAAC,CAACW,IAAI;MAACC,QAAQ,EAACb,CAAC,CAACc;IAAc,CAAC;IAAC,IAAG,IAAI,IAAEd,CAAC,CAACe,QAAQ,EAACR,CAAC,CAACP,CAAC,CAACe,QAAQ,CAAC,GAACnC,CAAC,CAAC,KAAK,KAAI,MAAME,CAAC,IAAIkB,CAAC,EAACA,CAAC,CAACgB,cAAc,CAAClC,CAAC,CAAC,IAAE,gBAAgB,KAAGA,CAAC,KAAGyB,CAAC,CAACP,CAAC,CAAClB,CAAC,CAAC,CAAC,GAACF,CAAC,CAAC;EAAA;EAAC,OAAM;IAAC,GAAGmB,CAAC;IAACG,IAAI,EAACK;EAAC,CAAC;AAAA;AAAC,eAAeN,CAACA,CAACrB,CAAC,EAACE,CAAC,EAACC,CAAC,EAAC;EAAC,MAAMgB,CAAC,GAAC,MAAMC,CAAC,CAACpB,CAAC,EAACE,CAAC,EAACC,CAAC,EAAC;MAACM,eAAe,EAAC,CAAC;IAAC,CAAC,CAAC;IAACY,CAAC,GAACF,CAAC,CAACG,IAAI;IAACC,CAAC,GAAC,CAAC,CAAC;EAAC,KAAI,MAAMH,CAAC,IAAIC,CAAC,CAACO,mBAAmB,EAAC,IAAI,IAAER,CAAC,CAACe,QAAQ,KAAGZ,CAAC,CAACH,CAAC,CAACe,QAAQ,CAAC,GAACf,CAAC,CAACiB,KAAK,CAAC;EAAC,OAAM;IAAC,GAAGlB,CAAC;IAACG,IAAI,EAACC;EAAC,CAAC;AAAA;AAAC,eAAeH,CAACA,CAACD,CAAC,EAACE,CAAC,EAAQ;EAAA,IAAPD,CAAC,GAAAkB,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAC,CAAC,CAAC;EAAA,IAACf,CAAC,GAAAe,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAAE,MAAMf,CAAC,GAACvB,CAAC,CAAC;IAAC,GAAGiB,CAAC,CAACsB,KAAK;IAACC,CAAC,EAAC,MAAM;IAAC,GAAGnB,CAAC;IAAC,GAAGpB,CAAC,CAACkB,CAAC,EAACE,CAAC;EAAC,CAAC,CAAC;EAAC,OAAOvB,CAAC,CAACmB,CAAC,CAACwB,IAAI,GAAC,sBAAsB,EAAC;IAAC,GAAGvB,CAAC;IAACqB,KAAK,EAAC;MAAC,GAAGrB,CAAC,CAACqB,KAAK;MAAC,GAAGhB;IAAC;EAAC,CAAC,CAAC;AAAA;AAAC,SAAON,CAAC,IAAIyB,wBAAwB,EAACvB,CAAC,IAAIwB,gCAAgC,EAAC1C,CAAC,IAAI2C,uBAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}