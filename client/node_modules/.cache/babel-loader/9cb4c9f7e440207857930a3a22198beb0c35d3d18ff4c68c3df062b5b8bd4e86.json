{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../core/Accessor.js\";\nimport has from \"../../../../core/has.js\";\nimport { destroyMaybe as s, isNone as i } from \"../../../../core/maybe.js\";\nimport { property as r } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport { subclass as n } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { PooledRBush as o } from \"../../../../core/libs/rbush/PooledRBush.js\";\nimport { fromRect as a } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { getObjectId as d } from \"../../../../layers/graphics/dehydratedFeatures.js\";\nlet c = class extends e {\n  constructor(t) {\n    super(t), this._index = new o(9, has(\"esri-csp-restrictions\") ? t => ({\n      minX: t.extent[0],\n      minY: t.extent[1],\n      maxX: t.extent[2],\n      maxY: t.extent[3]\n    }) : [\".extent[0]\", \".extent[1]\", \".extent[2]\", \".extent[3]\"]), this._missing = new Set(), this._boundsByFeature = new Map(), this.spatialReference = null, this.hasZ = null, this.hasM = null, this.objectIdField = null, this.updating = !1;\n  }\n  setup(t) {\n    this._addMany(t);\n  }\n  destroy() {\n    this._missing.clear(), this._index = s(this._index), this._boundsByFeature.clear(), this._boundsByFeature = null;\n  }\n  update() {\n    this._missing.size > 0 && (this._addMany(Array.from(this._missing.values())), this.updating = !1, this._missing.clear());\n  }\n  get updatingRemaining() {\n    return this._missing.size;\n  }\n  queryGraphicUIDsInExtent(t, e, s) {\n    !i(e) && e.equals(this.spatialReference) && (u.minX = t[0], u.minY = t[1], u.maxX = t[2], u.maxY = t[3], this.update(), this._index.search(u, t => s(t.graphic.uid)));\n  }\n  add(t) {\n    this._missing.add(t), this.updating = !0;\n  }\n  remove(t) {\n    if (this._missing.delete(t)) return void (this.updating = this._missing.size > 0);\n    this._index.remove(t);\n    const e = d(t.graphic, this._get(\"objectIdField\"));\n    null != e && this._boundsByFeature.delete(e);\n  }\n  _addMany(t) {\n    if (0 === t.length) return;\n    const e = this._get(\"objectIdField\");\n    for (const s of t) {\n      s.computeExtent(this.spatialReference);\n      const t = d(s.graphic, e);\n      null != t && this._boundsByFeature.set(t, s.extent);\n    }\n    this._index.load(t);\n  }\n  clear() {\n    this._index.clear(), this._missing.clear(), this._boundsByFeature.clear(), this.updating = !1;\n  }\n  forEachInBounds(t, e) {\n    u.minX = t[0], u.minY = t[1], u.maxX = t[2], u.maxY = t[3], this.update(), this._index.search(u, t => {\n      e(t);\n    });\n  }\n  getBounds(t, e) {\n    this.update();\n    const s = this._boundsByFeature.get(t);\n    return s ? a(e, s) : null;\n  }\n};\nt([r({\n  constructOnly: !0\n})], c.prototype, \"spatialReference\", void 0), t([r({\n  constructOnly: !0\n})], c.prototype, \"hasZ\", void 0), t([r({\n  constructOnly: !0\n})], c.prototype, \"hasM\", void 0), t([r({\n  constructOnly: !0\n})], c.prototype, \"objectIdField\", void 0), t([r()], c.prototype, \"updating\", void 0), t([r({\n  readOnly: !0\n})], c.prototype, \"updatingRemaining\", null), c = t([n(\"esri.views.3d.layers.graphics.SpatialIndex2D\")], c);\nconst u = {\n  minX: 0,\n  minY: 0,\n  maxX: 0,\n  maxY: 0\n};\nexport { c as SpatialIndex2D };","map":{"version":3,"names":["_","t","e","has","destroyMaybe","s","isNone","i","property","r","subclass","n","PooledRBush","o","fromRect","a","getObjectId","d","c","constructor","_index","minX","extent","minY","maxX","maxY","_missing","Set","_boundsByFeature","Map","spatialReference","hasZ","hasM","objectIdField","updating","setup","_addMany","destroy","clear","update","size","Array","from","values","updatingRemaining","queryGraphicUIDsInExtent","equals","u","search","graphic","uid","add","remove","delete","_get","length","computeExtent","set","load","forEachInBounds","getBounds","get","constructOnly","prototype","readOnly","SpatialIndex2D"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import has from\"../../../../core/has.js\";import{destroyMaybe as s,isNone as i}from\"../../../../core/maybe.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{PooledRBush as o}from\"../../../../core/libs/rbush/PooledRBush.js\";import{fromRect as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as d}from\"../../../../layers/graphics/dehydratedFeatures.js\";let c=class extends e{constructor(t){super(t),this._index=new o(9,has(\"esri-csp-restrictions\")?t=>({minX:t.extent[0],minY:t.extent[1],maxX:t.extent[2],maxY:t.extent[3]}):[\".extent[0]\",\".extent[1]\",\".extent[2]\",\".extent[3]\"]),this._missing=new Set,this._boundsByFeature=new Map,this.spatialReference=null,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.updating=!1}setup(t){this._addMany(t)}destroy(){this._missing.clear(),this._index=s(this._index),this._boundsByFeature.clear(),this._boundsByFeature=null}update(){this._missing.size>0&&(this._addMany(Array.from(this._missing.values())),this.updating=!1,this._missing.clear())}get updatingRemaining(){return this._missing.size}queryGraphicUIDsInExtent(t,e,s){!i(e)&&e.equals(this.spatialReference)&&(u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>s(t.graphic.uid))))}add(t){this._missing.add(t),this.updating=!0}remove(t){if(this._missing.delete(t))return void(this.updating=this._missing.size>0);this._index.remove(t);const e=d(t.graphic,this._get(\"objectIdField\"));null!=e&&this._boundsByFeature.delete(e)}_addMany(t){if(0===t.length)return;const e=this._get(\"objectIdField\");for(const s of t){s.computeExtent(this.spatialReference);const t=d(s.graphic,e);null!=t&&this._boundsByFeature.set(t,s.extent)}this._index.load(t)}clear(){this._index.clear(),this._missing.clear(),this._boundsByFeature.clear(),this.updating=!1}forEachInBounds(t,e){u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>{e(t)}))}getBounds(t,e){this.update();const s=this._boundsByFeature.get(t);return s?a(e,s):null}};t([r({constructOnly:!0})],c.prototype,\"spatialReference\",void 0),t([r({constructOnly:!0})],c.prototype,\"hasZ\",void 0),t([r({constructOnly:!0})],c.prototype,\"hasM\",void 0),t([r({constructOnly:!0})],c.prototype,\"objectIdField\",void 0),t([r()],c.prototype,\"updating\",void 0),t([r({readOnly:!0})],c.prototype,\"updatingRemaining\",null),c=t([n(\"esri.views.3d.layers.graphics.SpatialIndex2D\")],c);const u={minX:0,minY:0,maxX:0,maxY:0};export{c as SpatialIndex2D};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}