{"ast":null,"code":"import _slicedToArray from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isNone as e, isSome as r } from \"../../core/maybe.js\";\nimport { urlToObject as t, removeTrailingSlash as s, removeQueryParameters as n, join as l, Url as u, makeAbsolute as i } from \"../../core/urlUtils.js\";\nimport { w as o } from \"../../chunks/persistableUrlUtils.js\";\nvar c = {\n    mapserver: \"MapServer\",\n    imageserver: \"ImageServer\",\n    featureserver: \"FeatureServer\",\n    sceneserver: \"SceneServer\",\n    streamserver: \"StreamServer\",\n    vectortileserver: \"VectorTileServer\"\n  },\n  a = Object.values(c),\n  f = new RegExp(\"^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(\".concat(a.join(\"|\"), \"))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?\"), \"i\"),\n  v = new RegExp(\"^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(\".concat(a.join(\"|\"), \"))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?\"), \"i\"),\n  p = /(.*?)\\/(?:layers\\/)?(\\d+)\\/?$/i;\nfunction m(e) {\n  return !!f.test(e);\n}\nfunction d(r) {\n  if (e(r)) return null;\n  var s = t(r),\n    n = s.path.match(f) || s.path.match(v);\n  if (!n) return null;\n  var _n = _slicedToArray(n, 5),\n    l = _n[1],\n    u = _n[2],\n    i = _n[3],\n    o = _n[4],\n    a = u.indexOf(\"/\");\n  return {\n    title: w(-1 !== a ? u.slice(a + 1) : u),\n    serverType: c[i.toLowerCase()],\n    sublayer: null != o && \"\" !== o ? parseInt(o, 10) : null,\n    url: {\n      path: l\n    }\n  };\n}\nfunction h(e) {\n  var r = t(e).path.match(p);\n  return r ? {\n    serviceUrl: r[1],\n    sublayerId: Number(r[2])\n  } : null;\n}\nfunction w(e) {\n  return (e = e.replace(/\\s*[/_]+\\s*/g, \" \"))[0].toUpperCase() + e.slice(1);\n}\nfunction y(e, t) {\n  var s = [];\n  if (e) {\n    var _t = d(e);\n    r(_t) && _t.title && s.push(_t.title);\n  }\n  if (t) {\n    var _e = w(t);\n    s.push(_e);\n  }\n  if (2 === s.length) {\n    if (s[0].toLowerCase().includes(s[1].toLowerCase())) return s[0];\n    if (s[1].toLowerCase().includes(s[0].toLowerCase())) return s[1];\n  }\n  return s.join(\" - \");\n}\nfunction g(e) {\n  if (!e) return !1;\n  var r = \".arcgis.com/\",\n    t = \"//services\",\n    s = \"//tiles\",\n    n = \"//features\",\n    l = (e = e.toLowerCase()).includes(r),\n    u = e.includes(t) || e.includes(s) || e.includes(n);\n  return l && u;\n}\nfunction S(e, r) {\n  return e ? s(n(e, r)) : e;\n}\nfunction b(e) {\n  var l = e.url;\n  if (!l) return {\n    url: l\n  };\n  l = n(l, e.logger);\n  var u = t(l),\n    i = d(u.path);\n  var o;\n  if (r(i)) null != i.sublayer && null == e.layer.layerId && (o = i.sublayer), l = i.url.path;else if (e.nonStandardUrlAllowed) {\n    var _e2 = h(u.path);\n    r(_e2) && (l = _e2.serviceUrl, o = _e2.sublayerId);\n  }\n  return {\n    url: s(l),\n    layerId: o\n  };\n}\nfunction C(e, r, t, s, n) {\n  o(r, s, \"url\", n), s.url && null != e.layerId && (s.url = l(s.url, t, e.layerId.toString()));\n}\nfunction I(e) {\n  if (!e) return !1;\n  var r = e.toLowerCase(),\n    t = r.includes(\"/services/\"),\n    s = r.includes(\"/mapserver/wmsserver\"),\n    n = r.includes(\"/imageserver/wmsserver\"),\n    l = r.includes(\"/wmsserver\");\n  return t && (s || n || l);\n}\nfunction L(e) {\n  var _u$authority;\n  if (!e) return !1;\n  var r = (_u$authority = new u(i(e)).authority) === null || _u$authority === void 0 ? void 0 : _u$authority.toLowerCase();\n  return \"server.arcgisonline.com\" === r || \"services.arcgisonline.com\" === r;\n}\nexport { w as cleanTitle, m as isArcGISUrl, g as isHostedAgolService, L as isServerOrServicesAGOLUrl, I as isWmsServer, d as parse, h as parseNonStandardSublayerUrl, S as sanitizeUrl, b as sanitizeUrlWithLayerId, a as serverTypes, y as titleFromUrlAndName, C as writeUrlWithLayerId };","map":{"version":3,"names":["isNone","e","isSome","r","urlToObject","t","removeTrailingSlash","s","removeQueryParameters","n","join","l","Url","u","makeAbsolute","i","w","o","c","mapserver","imageserver","featureserver","sceneserver","streamserver","vectortileserver","a","Object","values","f","RegExp","concat","v","p","m","test","d","path","match","_n","_slicedToArray","indexOf","title","slice","serverType","toLowerCase","sublayer","parseInt","url","h","serviceUrl","sublayerId","Number","replace","toUpperCase","y","push","length","includes","g","S","b","logger","layer","layerId","nonStandardUrlAllowed","C","toString","I","L","_u$authority","authority","cleanTitle","isArcGISUrl","isHostedAgolService","isServerOrServicesAGOLUrl","isWmsServer","parse","parseNonStandardSublayerUrl","sanitizeUrl","sanitizeUrlWithLayerId","serverTypes","titleFromUrlAndName","writeUrlWithLayerId"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../core/maybe.js\";import{urlToObject as t,removeTrailingSlash as s,removeQueryParameters as n,join as l,Url as u,makeAbsolute as i}from\"../../core/urlUtils.js\";import{w as o}from\"../../chunks/persistableUrlUtils.js\";const c={mapserver:\"MapServer\",imageserver:\"ImageServer\",featureserver:\"FeatureServer\",sceneserver:\"SceneServer\",streamserver:\"StreamServer\",vectortileserver:\"VectorTileServer\"},a=Object.values(c),f=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),v=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),p=/(.*?)\\/(?:layers\\/)?(\\d+)\\/?$/i;function m(e){return!!f.test(e)}function d(r){if(e(r))return null;const s=t(r),n=s.path.match(f)||s.path.match(v);if(!n)return null;const[,l,u,i,o]=n,a=u.indexOf(\"/\");return{title:w(-1!==a?u.slice(a+1):u),serverType:c[i.toLowerCase()],sublayer:null!=o&&\"\"!==o?parseInt(o,10):null,url:{path:l}}}function h(e){const r=t(e).path.match(p);return r?{serviceUrl:r[1],sublayerId:Number(r[2])}:null}function w(e){return(e=e.replace(/\\s*[/_]+\\s*/g,\" \"))[0].toUpperCase()+e.slice(1)}function y(e,t){const s=[];if(e){const t=d(e);r(t)&&t.title&&s.push(t.title)}if(t){const e=w(t);s.push(e)}if(2===s.length){if(s[0].toLowerCase().includes(s[1].toLowerCase()))return s[0];if(s[1].toLowerCase().includes(s[0].toLowerCase()))return s[1]}return s.join(\" - \")}function g(e){if(!e)return!1;const r=\".arcgis.com/\",t=\"//services\",s=\"//tiles\",n=\"//features\",l=(e=e.toLowerCase()).includes(r),u=e.includes(t)||e.includes(s)||e.includes(n);return l&&u}function S(e,r){return e?s(n(e,r)):e}function b(e){let{url:l}=e;if(!l)return{url:l};l=n(l,e.logger);const u=t(l),i=d(u.path);let o;if(r(i))null!=i.sublayer&&null==e.layer.layerId&&(o=i.sublayer),l=i.url.path;else if(e.nonStandardUrlAllowed){const e=h(u.path);r(e)&&(l=e.serviceUrl,o=e.sublayerId)}return{url:s(l),layerId:o}}function C(e,r,t,s,n){o(r,s,\"url\",n),s.url&&null!=e.layerId&&(s.url=l(s.url,t,e.layerId.toString()))}function I(e){if(!e)return!1;const r=e.toLowerCase(),t=r.includes(\"/services/\"),s=r.includes(\"/mapserver/wmsserver\"),n=r.includes(\"/imageserver/wmsserver\"),l=r.includes(\"/wmsserver\");return t&&(s||n||l)}function L(e){if(!e)return!1;const r=new u(i(e)).authority?.toLowerCase();return\"server.arcgisonline.com\"===r||\"services.arcgisonline.com\"===r}export{w as cleanTitle,m as isArcGISUrl,g as isHostedAgolService,L as isServerOrServicesAGOLUrl,I as isWmsServer,d as parse,h as parseNonStandardSublayerUrl,S as sanitizeUrl,b as sanitizeUrlWithLayerId,a as serverTypes,y as titleFromUrlAndName,C as writeUrlWithLayerId};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}