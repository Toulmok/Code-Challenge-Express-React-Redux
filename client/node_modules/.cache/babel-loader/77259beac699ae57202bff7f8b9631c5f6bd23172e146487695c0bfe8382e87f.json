{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport { equals as i } from \"../../../../core/arrayUtils.js\";\nimport s from \"../../../../core/Handles.js\";\nimport { smoothstep as r } from \"../../../../core/mathUtils.js\";\nimport { isSome as a, isNone as o, disposeMaybe as n, releaseMaybe as h } from \"../../../../core/maybe.js\";\nimport { watch as c, syncAndInitial as _, sync as l } from \"../../../../core/reactiveUtils.js\";\nimport { property as u } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as m } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { F as p, c as d } from \"../../../../chunks/vec3.js\";\nimport { c as g } from \"../../../../chunks/vec3f64.js\";\nimport { BindParameters as f } from \"./BindParameters.js\";\nimport { ZERO as v } from \"./depthRange.js\";\nimport { createQuadVAO as b } from \"./glUtil3D.js\";\nimport { ShadowCastRenderer as w, shadowCastDisabledElevationThreshold as A, shadowCastDisableElevationMax as R, shadowCastDisableElevationMin as y } from \"./ShadowCastRenderer.js\";\nimport { ShadowMap as T } from \"./ShadowMap.js\";\nimport { S as C, a as D } from \"../../../../chunks/ShadowCastAccumulate.glsl.js\";\nimport { ShadowCastAccumulateTechnique as S } from \"../shaders/ShadowCastAccumulateTechnique.js\";\nimport { TaskPriority as F } from \"../../../support/Scheduler.js\";\nimport { TargetType as j, DepthStencilTargetType as E, TextureType as P, PixelFormat as x, PixelType as q, TextureSamplingMode as M, TextureWrapMode as I, ClearBufferBit as U } from \"../../../webgl/enums.js\";\nimport { FramebufferObject as L } from \"../../../webgl/FramebufferObject.js\";\nimport { vertexCount as O } from \"../../../webgl/Util.js\";\nlet B = class extends t {\n  constructor(e, t, i, r, o, n) {\n    super({}), this._rctx = e, this._stage = i, this._prepareForShadowMapPass = r, this._renderToShadowMap = o, this._requestRender = n, this._progress = 0, this._sampleCount = 0, this._passParameters = new C(), this._enabledInternal = !1, this._cachedLightDirections = [], this._depthRange = v, this._previewing = !1, this._handles = new s(), this._cameraForcedForScreenshot = !1, this._bindParameters = new f(new T(e, i.viewingMode), null, null), this._bindParameters.shadowMap.enabled = !0, this._vao = b(e);\n    const h = {\n        colorTarget: j.TEXTURE,\n        depthStencilTarget: E.NONE,\n        width: 0,\n        height: 0\n      },\n      u = {\n        target: P.TEXTURE_2D,\n        pixelFormat: x.RGBA,\n        dataType: q.UNSIGNED_BYTE,\n        samplingMode: M.LINEAR,\n        wrapMode: I.CLAMP_TO_EDGE,\n        width: 0,\n        height: 0\n      };\n    this._fbo = new L(e, h, u), this._accumulationRenderer = new w(t, e, this, n);\n    const m = this._stage.view.resourceController.scheduler;\n    this._handles.add([m.registerTask(F.SHADOW_ACCUMULATOR, this), c(() => i.renderView, e => {\n      this._handles.remove(k), a(e) && this._handles.add(e.events.on(\"force-camera-for-screenshot\", () => this._cameraForcedForScreenshot = !0), k);\n    }, _), c(() => this._previewing, () => this._requestRenderIfEnabled(), l)]);\n  }\n  normalizeCtorArgs() {\n    return {};\n  }\n  get computedSamples() {\n    return this._progress;\n  }\n  get shadowCastTexture() {\n    return this._fbo.colorTexture;\n  }\n  get isAccumulating() {\n    return this._isPreviewing || this._isRefining;\n  }\n  get _accumulationTechnique() {\n    if (o(this._accumulationTechniqueCached)) {\n      const e = {\n        rctx: this._rctx,\n        viewingMode: this._stage.viewingMode\n      };\n      this._accumulationTechniqueCached = new S(e);\n    }\n    return this._accumulationTechniqueCached;\n  }\n  get _isRefining() {\n    return this._isActive && !this._isDoneAccumulating && !this._previewing;\n  }\n  get _isPreviewing() {\n    return this._isActive && this._previewing;\n  }\n  get _isActive() {\n    return this._enabledInternal && this._sampleCount > 0;\n  }\n  get canAccumulate() {\n    return null !== this._passParameters.linearDepthTexture && this._depthRange !== v && this._opacityFromElevation > A;\n  }\n  get _isDoneAccumulating() {\n    return this._progress >= this._sampleCount;\n  }\n  get _lightDirections() {\n    return this._cachedLightDirections;\n  }\n  set _lightDirections(e) {\n    const t = this._cachedLightDirections;\n    if (i(t, e, p)) return;\n    const s = Math.min(D, e.length);\n    t.length = s, this._sampleCount = s;\n    for (let i = 0; i < s; ++i) t[i] = d(t[i] ?? g(), e[i]);\n    this._invalidate();\n  }\n  get _opacityFromElevation() {\n    return this._accumulationRenderer.opacityFromElevation;\n  }\n  set _opacityFromElevation(e) {\n    this._accumulationRenderer.opacityFromElevation = e;\n  }\n  get running() {\n    return this._isRefining && this.canAccumulate && this._progress > 0;\n  }\n  runTask(e) {\n    for (this._prepareForShadowMapPass(this._bindParameters); !e.done && !this._isDoneAccumulating;) this._accumulateShadow(), e.madeProgress();\n    this._requestRender();\n  }\n  renderAccumulation(e, t, i, s) {\n    if (this._depthRange = t, this._updateCamera(i), this._bindParameters.contentCamera = s, this._passParameters.linearDepthTexture = e, this._passParameters.origin = this._bindParameters.camera.center, this.notifyChange(\"canAccumulate\"), !this.isAccumulating || !this.canAccumulate) return;\n    (this._previewing || 0 === this._progress || this._cameraForcedForScreenshot) && this._clear();\n    const r = this._cameraForcedForScreenshot ? this._sampleCount : Math.min(N, this._sampleCount - this._progress);\n    for (let a = 0; a < r; ++a) this._accumulateShadow();\n    this._cameraForcedForScreenshot = !1, this._requestRender();\n  }\n  render(e) {\n    this._accumulationRenderer.render(e);\n  }\n  dispose() {\n    this._stop(), this._handles.destroy(), this._accumulationRenderer = n(this._accumulationRenderer), this._bindParameters.shadowMap.dispose(), this._fbo = n(this._fbo), this._vao = n(this._vao), this._accumulationTechniqueCached = h(this._accumulationTechniqueCached), this._cachedLightDirections.length = 0, this._sampleCount = 0;\n  }\n  setOptions(e) {\n    void 0 !== e.enabled && (this._enabled = e.enabled), void 0 !== e.previewing && (this._previewing = e.previewing), void 0 !== e.lightDirections && (this._lightDirections = e.lightDirections), this._accumulationRenderer.setOptions(e);\n  }\n  readAccumulatedShadow(e, t) {\n    return !this._isActive || this._progress < 1 || e < 0 || e > this._fbo.width || t < 0 || t > this._fbo.height ? 0 : (this._fbo.readPixels(e, t, 1, 1, x.RGBA, q.UNSIGNED_BYTE, H), H[0] / this._progress);\n  }\n  _start() {\n    this._progress = 0, this._enabledInternal = !0;\n  }\n  _stop() {\n    this._enabledInternal = !1;\n  }\n  _invalidate() {\n    this._progress = 0, this._requestRenderIfEnabled();\n  }\n  _clear() {\n    this._rctx.bindFramebuffer(this._fbo), this._rctx.setClearColor(0, 0, 0, 0), this._rctx.clearSafe(U.COLOR_BUFFER_BIT), this._progress = 0;\n  }\n  _accumulateShadow() {\n    this._renderToShadowMap(this._bindParameters, this._sampleLightDirection(), this._depthRange);\n    const e = this._accumulationTechnique;\n    this._rctx.bindFramebuffer(this._fbo), this._rctx.bindTechnique(e, this._passParameters, this._bindParameters), this._rctx.bindVAO(this._vao), this._rctx.drawArrays(e.primitiveType, 0, O(this._vao, \"geometry\"));\n  }\n  _sampleLightDirection() {\n    return this._progress++, this._lightDirections[this._progress * G % this._lightDirections.length];\n  }\n  _updateCamera(e) {\n    e.equals(this._bindParameters.camera) || (this._bindParameters.camera.copyFrom(e), this._fbo.resize(e.fullWidth, e.fullHeight), this._opacityFromElevation = 1 - r(y, R, e.relativeElevation));\n  }\n  set _enabled(e) {\n    e !== this._enabledInternal && (e ? this._start() : this._stop());\n  }\n  _requestRenderIfEnabled() {\n    this._enabledInternal && this._requestRender();\n  }\n  get test() {\n    const e = this;\n    return {\n      lightDirections: this._lightDirections,\n      get isDone() {\n        return e._isDoneAccumulating;\n      },\n      get isActive() {\n        return e._isActive;\n      }\n    };\n  }\n};\ne([u()], B.prototype, \"_progress\", void 0), e([u()], B.prototype, \"_sampleCount\", void 0), e([u()], B.prototype, \"_enabledInternal\", void 0), e([u()], B.prototype, \"_depthRange\", void 0), e([u()], B.prototype, \"_previewing\", void 0), e([u()], B.prototype, \"_accumulationRenderer\", void 0), e([u()], B.prototype, \"_isRefining\", null), e([u()], B.prototype, \"_isActive\", null), e([u()], B.prototype, \"canAccumulate\", null), e([u()], B.prototype, \"_isDoneAccumulating\", null), e([u()], B.prototype, \"_opacityFromElevation\", null), e([u()], B.prototype, \"running\", null), B = e([m(\"esri.views.3d.webgl-engine.lib.ShadowAccumulator\")], B);\nconst N = 6,\n  k = \"renderView\",\n  G = 104729,\n  H = new Uint8Array(4);\nexport { B as ShadowAccumulator };","map":{"version":3,"names":["_","e","t","equals","i","s","smoothstep","r","isSome","a","isNone","o","disposeMaybe","n","releaseMaybe","h","watch","c","syncAndInitial","sync","l","property","u","subclass","m","F","p","d","g","BindParameters","f","ZERO","v","createQuadVAO","b","ShadowCastRenderer","w","shadowCastDisabledElevationThreshold","A","shadowCastDisableElevationMax","R","shadowCastDisableElevationMin","y","ShadowMap","T","S","C","D","ShadowCastAccumulateTechnique","TaskPriority","TargetType","j","DepthStencilTargetType","E","TextureType","P","PixelFormat","x","PixelType","q","TextureSamplingMode","M","TextureWrapMode","I","ClearBufferBit","U","FramebufferObject","L","vertexCount","O","B","constructor","_rctx","_stage","_prepareForShadowMapPass","_renderToShadowMap","_requestRender","_progress","_sampleCount","_passParameters","_enabledInternal","_cachedLightDirections","_depthRange","_previewing","_handles","_cameraForcedForScreenshot","_bindParameters","viewingMode","shadowMap","enabled","_vao","colorTarget","TEXTURE","depthStencilTarget","NONE","width","height","target","TEXTURE_2D","pixelFormat","RGBA","dataType","UNSIGNED_BYTE","samplingMode","LINEAR","wrapMode","CLAMP_TO_EDGE","_fbo","_accumulationRenderer","view","resourceController","scheduler","add","registerTask","SHADOW_ACCUMULATOR","renderView","remove","k","events","on","_requestRenderIfEnabled","normalizeCtorArgs","computedSamples","shadowCastTexture","colorTexture","isAccumulating","_isPreviewing","_isRefining","_accumulationTechnique","_accumulationTechniqueCached","rctx","_isActive","_isDoneAccumulating","canAccumulate","linearDepthTexture","_opacityFromElevation","_lightDirections","Math","min","length","_invalidate","opacityFromElevation","running","runTask","done","_accumulateShadow","madeProgress","renderAccumulation","_updateCamera","contentCamera","origin","camera","center","notifyChange","_clear","N","render","dispose","_stop","destroy","setOptions","_enabled","previewing","lightDirections","readAccumulatedShadow","readPixels","H","_start","bindFramebuffer","setClearColor","clearSafe","COLOR_BUFFER_BIT","_sampleLightDirection","bindTechnique","bindVAO","drawArrays","primitiveType","G","copyFrom","resize","fullWidth","fullHeight","relativeElevation","test","isDone","isActive","prototype","Uint8Array","ShadowAccumulator"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowAccumulator.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{equals as i}from\"../../../../core/arrayUtils.js\";import s from\"../../../../core/Handles.js\";import{smoothstep as r}from\"../../../../core/mathUtils.js\";import{isSome as a,isNone as o,disposeMaybe as n,releaseMaybe as h}from\"../../../../core/maybe.js\";import{watch as c,syncAndInitial as _,sync as l}from\"../../../../core/reactiveUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{F as p,c as d}from\"../../../../chunks/vec3.js\";import{c as g}from\"../../../../chunks/vec3f64.js\";import{BindParameters as f}from\"./BindParameters.js\";import{ZERO as v}from\"./depthRange.js\";import{createQuadVAO as b}from\"./glUtil3D.js\";import{ShadowCastRenderer as w,shadowCastDisabledElevationThreshold as A,shadowCastDisableElevationMax as R,shadowCastDisableElevationMin as y}from\"./ShadowCastRenderer.js\";import{ShadowMap as T}from\"./ShadowMap.js\";import{S as C,a as D}from\"../../../../chunks/ShadowCastAccumulate.glsl.js\";import{ShadowCastAccumulateTechnique as S}from\"../shaders/ShadowCastAccumulateTechnique.js\";import{TaskPriority as F}from\"../../../support/Scheduler.js\";import{TargetType as j,DepthStencilTargetType as E,TextureType as P,PixelFormat as x,PixelType as q,TextureSamplingMode as M,TextureWrapMode as I,ClearBufferBit as U}from\"../../../webgl/enums.js\";import{FramebufferObject as L}from\"../../../webgl/FramebufferObject.js\";import{vertexCount as O}from\"../../../webgl/Util.js\";let B=class extends t{constructor(e,t,i,r,o,n){super({}),this._rctx=e,this._stage=i,this._prepareForShadowMapPass=r,this._renderToShadowMap=o,this._requestRender=n,this._progress=0,this._sampleCount=0,this._passParameters=new C,this._enabledInternal=!1,this._cachedLightDirections=[],this._depthRange=v,this._previewing=!1,this._handles=new s,this._cameraForcedForScreenshot=!1,this._bindParameters=new f(new T(e,i.viewingMode),null,null),this._bindParameters.shadowMap.enabled=!0,this._vao=b(e);const h={colorTarget:j.TEXTURE,depthStencilTarget:E.NONE,width:0,height:0},u={target:P.TEXTURE_2D,pixelFormat:x.RGBA,dataType:q.UNSIGNED_BYTE,samplingMode:M.LINEAR,wrapMode:I.CLAMP_TO_EDGE,width:0,height:0};this._fbo=new L(e,h,u),this._accumulationRenderer=new w(t,e,this,n);const m=this._stage.view.resourceController.scheduler;this._handles.add([m.registerTask(F.SHADOW_ACCUMULATOR,this),c((()=>i.renderView),(e=>{this._handles.remove(k),a(e)&&this._handles.add(e.events.on(\"force-camera-for-screenshot\",(()=>this._cameraForcedForScreenshot=!0)),k)}),_),c((()=>this._previewing),(()=>this._requestRenderIfEnabled()),l)])}normalizeCtorArgs(){return{}}get computedSamples(){return this._progress}get shadowCastTexture(){return this._fbo.colorTexture}get isAccumulating(){return this._isPreviewing||this._isRefining}get _accumulationTechnique(){if(o(this._accumulationTechniqueCached)){const e={rctx:this._rctx,viewingMode:this._stage.viewingMode};this._accumulationTechniqueCached=new S(e)}return this._accumulationTechniqueCached}get _isRefining(){return this._isActive&&!this._isDoneAccumulating&&!this._previewing}get _isPreviewing(){return this._isActive&&this._previewing}get _isActive(){return this._enabledInternal&&this._sampleCount>0}get canAccumulate(){return null!==this._passParameters.linearDepthTexture&&this._depthRange!==v&&this._opacityFromElevation>A}get _isDoneAccumulating(){return this._progress>=this._sampleCount}get _lightDirections(){return this._cachedLightDirections}set _lightDirections(e){const t=this._cachedLightDirections;if(i(t,e,p))return;const s=Math.min(D,e.length);t.length=s,this._sampleCount=s;for(let i=0;i<s;++i)t[i]=d(t[i]??g(),e[i]);this._invalidate()}get _opacityFromElevation(){return this._accumulationRenderer.opacityFromElevation}set _opacityFromElevation(e){this._accumulationRenderer.opacityFromElevation=e}get running(){return this._isRefining&&this.canAccumulate&&this._progress>0}runTask(e){for(this._prepareForShadowMapPass(this._bindParameters);!e.done&&!this._isDoneAccumulating;)this._accumulateShadow(),e.madeProgress();this._requestRender()}renderAccumulation(e,t,i,s){if(this._depthRange=t,this._updateCamera(i),this._bindParameters.contentCamera=s,this._passParameters.linearDepthTexture=e,this._passParameters.origin=this._bindParameters.camera.center,this.notifyChange(\"canAccumulate\"),!this.isAccumulating||!this.canAccumulate)return;(this._previewing||0===this._progress||this._cameraForcedForScreenshot)&&this._clear();const r=this._cameraForcedForScreenshot?this._sampleCount:Math.min(N,this._sampleCount-this._progress);for(let a=0;a<r;++a)this._accumulateShadow();this._cameraForcedForScreenshot=!1,this._requestRender()}render(e){this._accumulationRenderer.render(e)}dispose(){this._stop(),this._handles.destroy(),this._accumulationRenderer=n(this._accumulationRenderer),this._bindParameters.shadowMap.dispose(),this._fbo=n(this._fbo),this._vao=n(this._vao),this._accumulationTechniqueCached=h(this._accumulationTechniqueCached),this._cachedLightDirections.length=0,this._sampleCount=0}setOptions(e){void 0!==e.enabled&&(this._enabled=e.enabled),void 0!==e.previewing&&(this._previewing=e.previewing),void 0!==e.lightDirections&&(this._lightDirections=e.lightDirections),this._accumulationRenderer.setOptions(e)}readAccumulatedShadow(e,t){return!this._isActive||this._progress<1||e<0||e>this._fbo.width||t<0||t>this._fbo.height?0:(this._fbo.readPixels(e,t,1,1,x.RGBA,q.UNSIGNED_BYTE,H),H[0]/this._progress)}_start(){this._progress=0,this._enabledInternal=!0}_stop(){this._enabledInternal=!1}_invalidate(){this._progress=0,this._requestRenderIfEnabled()}_clear(){this._rctx.bindFramebuffer(this._fbo),this._rctx.setClearColor(0,0,0,0),this._rctx.clearSafe(U.COLOR_BUFFER_BIT),this._progress=0}_accumulateShadow(){this._renderToShadowMap(this._bindParameters,this._sampleLightDirection(),this._depthRange);const e=this._accumulationTechnique;this._rctx.bindFramebuffer(this._fbo),this._rctx.bindTechnique(e,this._passParameters,this._bindParameters),this._rctx.bindVAO(this._vao),this._rctx.drawArrays(e.primitiveType,0,O(this._vao,\"geometry\"))}_sampleLightDirection(){return this._progress++,this._lightDirections[this._progress*G%this._lightDirections.length]}_updateCamera(e){e.equals(this._bindParameters.camera)||(this._bindParameters.camera.copyFrom(e),this._fbo.resize(e.fullWidth,e.fullHeight),this._opacityFromElevation=1-r(y,R,e.relativeElevation))}set _enabled(e){e!==this._enabledInternal&&(e?this._start():this._stop())}_requestRenderIfEnabled(){this._enabledInternal&&this._requestRender()}get test(){const e=this;return{lightDirections:this._lightDirections,get isDone(){return e._isDoneAccumulating},get isActive(){return e._isActive}}}};e([u()],B.prototype,\"_progress\",void 0),e([u()],B.prototype,\"_sampleCount\",void 0),e([u()],B.prototype,\"_enabledInternal\",void 0),e([u()],B.prototype,\"_depthRange\",void 0),e([u()],B.prototype,\"_previewing\",void 0),e([u()],B.prototype,\"_accumulationRenderer\",void 0),e([u()],B.prototype,\"_isRefining\",null),e([u()],B.prototype,\"_isActive\",null),e([u()],B.prototype,\"canAccumulate\",null),e([u()],B.prototype,\"_isDoneAccumulating\",null),e([u()],B.prototype,\"_opacityFromElevation\",null),e([u()],B.prototype,\"running\",null),B=e([m(\"esri.views.3d.webgl-engine.lib.ShadowAccumulator\")],B);const N=6,k=\"renderView\",G=104729,H=new Uint8Array(4);export{B as ShadowAccumulator};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,QAAK,iCAAiC;AAAC,OAAOC,CAAC,MAAK,8BAA8B;AAAC,SAAOC,MAAM,IAAIC,CAAC,QAAK,gCAAgC;AAAC,OAAOC,CAAC,MAAK,6BAA6B;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,+BAA+B;AAAC,SAAOC,MAAM,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,EAACC,YAAY,IAAIC,CAAC,EAACC,YAAY,IAAIC,CAAC,QAAK,2BAA2B;AAAC,SAAOC,KAAK,IAAIC,CAAC,EAACC,cAAc,IAAIlB,CAAC,EAACmB,IAAI,IAAIC,CAAC,QAAK,mCAAmC;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,yDAAyD;AAAC,OAAM,gDAAgD;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,yDAAyD;AAAC,SAAOC,CAAC,IAAIC,CAAC,EAACT,CAAC,IAAIU,CAAC,QAAK,4BAA4B;AAAC,SAAOV,CAAC,IAAIW,CAAC,QAAK,+BAA+B;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,qBAAqB;AAAC,SAAOC,IAAI,IAAIC,CAAC,QAAK,iBAAiB;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,eAAe;AAAC,SAAOC,kBAAkB,IAAIC,CAAC,EAACC,oCAAoC,IAAIC,CAAC,EAACC,6BAA6B,IAAIC,CAAC,EAACC,6BAA6B,IAAIC,CAAC,QAAK,yBAAyB;AAAC,SAAOC,SAAS,IAAIC,CAAC,QAAK,gBAAgB;AAAC,SAAOC,CAAC,IAAIC,CAAC,EAACrC,CAAC,IAAIsC,CAAC,QAAK,iDAAiD;AAAC,SAAOC,6BAA6B,IAAIH,CAAC,QAAK,6CAA6C;AAAC,SAAOI,YAAY,IAAIxB,CAAC,QAAK,+BAA+B;AAAC,SAAOyB,UAAU,IAAIC,CAAC,EAACC,sBAAsB,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,EAACC,SAAS,IAAIC,CAAC,EAACC,mBAAmB,IAAIC,CAAC,EAACC,eAAe,IAAIC,CAAC,EAACC,cAAc,IAAIC,CAAC,QAAK,yBAAyB;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,qCAAqC;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,wBAAwB;AAAC,IAAIC,CAAC,GAAC,cAAcpE,CAAC;EAACqE,WAAWA,CAACtE,CAAC,EAACC,CAAC,EAACE,CAAC,EAACG,CAAC,EAACI,CAAC,EAACE,CAAC,EAAC;IAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAAC2D,KAAK,GAACvE,CAAC,EAAC,IAAI,CAACwE,MAAM,GAACrE,CAAC,EAAC,IAAI,CAACsE,wBAAwB,GAACnE,CAAC,EAAC,IAAI,CAACoE,kBAAkB,GAAChE,CAAC,EAAC,IAAI,CAACiE,cAAc,GAAC/D,CAAC,EAAC,IAAI,CAACgE,SAAS,GAAC,CAAC,EAAC,IAAI,CAACC,YAAY,GAAC,CAAC,EAAC,IAAI,CAACC,eAAe,GAAC,IAAIjC,CAAC,IAAC,IAAI,CAACkC,gBAAgB,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,sBAAsB,GAAC,EAAE,EAAC,IAAI,CAACC,WAAW,GAAClD,CAAC,EAAC,IAAI,CAACmD,WAAW,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,QAAQ,GAAC,IAAI/E,CAAC,IAAC,IAAI,CAACgF,0BAA0B,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,eAAe,GAAC,IAAIxD,CAAC,CAAC,IAAIc,CAAC,CAAC3C,CAAC,EAACG,CAAC,CAACmF,WAAW,CAAC,EAAC,IAAI,EAAC,IAAI,CAAC,EAAC,IAAI,CAACD,eAAe,CAACE,SAAS,CAACC,OAAO,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,IAAI,GAACxD,CAAC,CAACjC,CAAC,CAAC;IAAC,MAAMc,CAAC,GAAC;QAAC4E,WAAW,EAACxC,CAAC,CAACyC,OAAO;QAACC,kBAAkB,EAACxC,CAAC,CAACyC,IAAI;QAACC,KAAK,EAAC,CAAC;QAACC,MAAM,EAAC;MAAC,CAAC;MAAC1E,CAAC,GAAC;QAAC2E,MAAM,EAAC1C,CAAC,CAAC2C,UAAU;QAACC,WAAW,EAAC1C,CAAC,CAAC2C,IAAI;QAACC,QAAQ,EAAC1C,CAAC,CAAC2C,aAAa;QAACC,YAAY,EAAC1C,CAAC,CAAC2C,MAAM;QAACC,QAAQ,EAAC1C,CAAC,CAAC2C,aAAa;QAACX,KAAK,EAAC,CAAC;QAACC,MAAM,EAAC;MAAC,CAAC;IAAC,IAAI,CAACW,IAAI,GAAC,IAAIxC,CAAC,CAAClE,CAAC,EAACc,CAAC,EAACO,CAAC,CAAC,EAAC,IAAI,CAACsF,qBAAqB,GAAC,IAAIxE,CAAC,CAAClC,CAAC,EAACD,CAAC,EAAC,IAAI,EAACY,CAAC,CAAC;IAAC,MAAMW,CAAC,GAAC,IAAI,CAACiD,MAAM,CAACoC,IAAI,CAACC,kBAAkB,CAACC,SAAS;IAAC,IAAI,CAAC3B,QAAQ,CAAC4B,GAAG,CAAC,CAACxF,CAAC,CAACyF,YAAY,CAACxF,CAAC,CAACyF,kBAAkB,EAAC,IAAI,CAAC,EAACjG,CAAC,CAAE,MAAIb,CAAC,CAAC+G,UAAU,EAAGlH,CAAC,IAAE;MAAC,IAAI,CAACmF,QAAQ,CAACgC,MAAM,CAACC,CAAC,CAAC,EAAC5G,CAAC,CAACR,CAAC,CAAC,IAAE,IAAI,CAACmF,QAAQ,CAAC4B,GAAG,CAAC/G,CAAC,CAACqH,MAAM,CAACC,EAAE,CAAC,6BAA6B,EAAE,MAAI,IAAI,CAAClC,0BAA0B,GAAC,CAAC,CAAC,CAAE,EAACgC,CAAC,CAAC;IAAA,CAAC,EAAErH,CAAC,CAAC,EAACiB,CAAC,CAAE,MAAI,IAAI,CAACkE,WAAW,EAAG,MAAI,IAAI,CAACqC,uBAAuB,EAAE,EAAEpG,CAAC,CAAC,CAAC,CAAC;EAAA;EAACqG,iBAAiBA,CAAA,EAAE;IAAC,OAAM,CAAC,CAAC;EAAA;EAAC,IAAIC,eAAeA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAC7C,SAAS;EAAA;EAAC,IAAI8C,iBAAiBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAChB,IAAI,CAACiB,YAAY;EAAA;EAAC,IAAIC,cAAcA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACC,aAAa,IAAE,IAAI,CAACC,WAAW;EAAA;EAAC,IAAIC,sBAAsBA,CAAA,EAAE;IAAC,IAAGrH,CAAC,CAAC,IAAI,CAACsH,4BAA4B,CAAC,EAAC;MAAC,MAAMhI,CAAC,GAAC;QAACiI,IAAI,EAAC,IAAI,CAAC1D,KAAK;QAACe,WAAW,EAAC,IAAI,CAACd,MAAM,CAACc;MAAW,CAAC;MAAC,IAAI,CAAC0C,4BAA4B,GAAC,IAAIpF,CAAC,CAAC5C,CAAC,CAAC;IAAA;IAAC,OAAO,IAAI,CAACgI,4BAA4B;EAAA;EAAC,IAAIF,WAAWA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACI,SAAS,IAAE,CAAC,IAAI,CAACC,mBAAmB,IAAE,CAAC,IAAI,CAACjD,WAAW;EAAA;EAAC,IAAI2C,aAAaA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACK,SAAS,IAAE,IAAI,CAAChD,WAAW;EAAA;EAAC,IAAIgD,SAASA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACnD,gBAAgB,IAAE,IAAI,CAACF,YAAY,GAAC,CAAC;EAAA;EAAC,IAAIuD,aAAaA,CAAA,EAAE;IAAC,OAAO,IAAI,KAAG,IAAI,CAACtD,eAAe,CAACuD,kBAAkB,IAAE,IAAI,CAACpD,WAAW,KAAGlD,CAAC,IAAE,IAAI,CAACuG,qBAAqB,GAACjG,CAAC;EAAA;EAAC,IAAI8F,mBAAmBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACvD,SAAS,IAAE,IAAI,CAACC,YAAY;EAAA;EAAC,IAAI0D,gBAAgBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACvD,sBAAsB;EAAA;EAAC,IAAIuD,gBAAgBA,CAACvI,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAAC+E,sBAAsB;IAAC,IAAG7E,CAAC,CAACF,CAAC,EAACD,CAAC,EAACyB,CAAC,CAAC,EAAC;IAAO,MAAMrB,CAAC,GAACoI,IAAI,CAACC,GAAG,CAAC3F,CAAC,EAAC9C,CAAC,CAAC0I,MAAM,CAAC;IAACzI,CAAC,CAACyI,MAAM,GAACtI,CAAC,EAAC,IAAI,CAACyE,YAAY,GAACzE,CAAC;IAAC,KAAI,IAAID,CAAC,GAAC,CAAC,EAACA,CAAC,GAACC,CAAC,EAAC,EAAED,CAAC,EAACF,CAAC,CAACE,CAAC,CAAC,GAACuB,CAAC,CAACzB,CAAC,CAACE,CAAC,CAAC,IAAEwB,CAAC,EAAE,EAAC3B,CAAC,CAACG,CAAC,CAAC,CAAC;IAAC,IAAI,CAACwI,WAAW,EAAE;EAAA;EAAC,IAAIL,qBAAqBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAC3B,qBAAqB,CAACiC,oBAAoB;EAAA;EAAC,IAAIN,qBAAqBA,CAACtI,CAAC,EAAC;IAAC,IAAI,CAAC2G,qBAAqB,CAACiC,oBAAoB,GAAC5I,CAAC;EAAA;EAAC,IAAI6I,OAAOA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACf,WAAW,IAAE,IAAI,CAACM,aAAa,IAAE,IAAI,CAACxD,SAAS,GAAC,CAAC;EAAA;EAACkE,OAAOA,CAAC9I,CAAC,EAAC;IAAC,KAAI,IAAI,CAACyE,wBAAwB,CAAC,IAAI,CAACY,eAAe,CAAC,EAAC,CAACrF,CAAC,CAAC+I,IAAI,IAAE,CAAC,IAAI,CAACZ,mBAAmB,GAAE,IAAI,CAACa,iBAAiB,EAAE,EAAChJ,CAAC,CAACiJ,YAAY,EAAE;IAAC,IAAI,CAACtE,cAAc,EAAE;EAAA;EAACuE,kBAAkBA,CAAClJ,CAAC,EAACC,CAAC,EAACE,CAAC,EAACC,CAAC,EAAC;IAAC,IAAG,IAAI,CAAC6E,WAAW,GAAChF,CAAC,EAAC,IAAI,CAACkJ,aAAa,CAAChJ,CAAC,CAAC,EAAC,IAAI,CAACkF,eAAe,CAAC+D,aAAa,GAAChJ,CAAC,EAAC,IAAI,CAAC0E,eAAe,CAACuD,kBAAkB,GAACrI,CAAC,EAAC,IAAI,CAAC8E,eAAe,CAACuE,MAAM,GAAC,IAAI,CAAChE,eAAe,CAACiE,MAAM,CAACC,MAAM,EAAC,IAAI,CAACC,YAAY,CAAC,eAAe,CAAC,EAAC,CAAC,IAAI,CAAC5B,cAAc,IAAE,CAAC,IAAI,CAACQ,aAAa,EAAC;IAAO,CAAC,IAAI,CAAClD,WAAW,IAAE,CAAC,KAAG,IAAI,CAACN,SAAS,IAAE,IAAI,CAACQ,0BAA0B,KAAG,IAAI,CAACqE,MAAM,EAAE;IAAC,MAAMnJ,CAAC,GAAC,IAAI,CAAC8E,0BAA0B,GAAC,IAAI,CAACP,YAAY,GAAC2D,IAAI,CAACC,GAAG,CAACiB,CAAC,EAAC,IAAI,CAAC7E,YAAY,GAAC,IAAI,CAACD,SAAS,CAAC;IAAC,KAAI,IAAIpE,CAAC,GAAC,CAAC,EAACA,CAAC,GAACF,CAAC,EAAC,EAAEE,CAAC,EAAC,IAAI,CAACwI,iBAAiB,EAAE;IAAC,IAAI,CAAC5D,0BAA0B,GAAC,CAAC,CAAC,EAAC,IAAI,CAACT,cAAc,EAAE;EAAA;EAACgF,MAAMA,CAAC3J,CAAC,EAAC;IAAC,IAAI,CAAC2G,qBAAqB,CAACgD,MAAM,CAAC3J,CAAC,CAAC;EAAA;EAAC4J,OAAOA,CAAA,EAAE;IAAC,IAAI,CAACC,KAAK,EAAE,EAAC,IAAI,CAAC1E,QAAQ,CAAC2E,OAAO,EAAE,EAAC,IAAI,CAACnD,qBAAqB,GAAC/F,CAAC,CAAC,IAAI,CAAC+F,qBAAqB,CAAC,EAAC,IAAI,CAACtB,eAAe,CAACE,SAAS,CAACqE,OAAO,EAAE,EAAC,IAAI,CAAClD,IAAI,GAAC9F,CAAC,CAAC,IAAI,CAAC8F,IAAI,CAAC,EAAC,IAAI,CAACjB,IAAI,GAAC7E,CAAC,CAAC,IAAI,CAAC6E,IAAI,CAAC,EAAC,IAAI,CAACuC,4BAA4B,GAAClH,CAAC,CAAC,IAAI,CAACkH,4BAA4B,CAAC,EAAC,IAAI,CAAChD,sBAAsB,CAAC0D,MAAM,GAAC,CAAC,EAAC,IAAI,CAAC7D,YAAY,GAAC,CAAC;EAAA;EAACkF,UAAUA,CAAC/J,CAAC,EAAC;IAAC,KAAK,CAAC,KAAGA,CAAC,CAACwF,OAAO,KAAG,IAAI,CAACwE,QAAQ,GAAChK,CAAC,CAACwF,OAAO,CAAC,EAAC,KAAK,CAAC,KAAGxF,CAAC,CAACiK,UAAU,KAAG,IAAI,CAAC/E,WAAW,GAAClF,CAAC,CAACiK,UAAU,CAAC,EAAC,KAAK,CAAC,KAAGjK,CAAC,CAACkK,eAAe,KAAG,IAAI,CAAC3B,gBAAgB,GAACvI,CAAC,CAACkK,eAAe,CAAC,EAAC,IAAI,CAACvD,qBAAqB,CAACoD,UAAU,CAAC/J,CAAC,CAAC;EAAA;EAACmK,qBAAqBA,CAACnK,CAAC,EAACC,CAAC,EAAC;IAAC,OAAM,CAAC,IAAI,CAACiI,SAAS,IAAE,IAAI,CAACtD,SAAS,GAAC,CAAC,IAAE5E,CAAC,GAAC,CAAC,IAAEA,CAAC,GAAC,IAAI,CAAC0G,IAAI,CAACZ,KAAK,IAAE7F,CAAC,GAAC,CAAC,IAAEA,CAAC,GAAC,IAAI,CAACyG,IAAI,CAACX,MAAM,GAAC,CAAC,IAAE,IAAI,CAACW,IAAI,CAAC0D,UAAU,CAACpK,CAAC,EAACC,CAAC,EAAC,CAAC,EAAC,CAAC,EAACuD,CAAC,CAAC2C,IAAI,EAACzC,CAAC,CAAC2C,aAAa,EAACgE,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,GAAC,IAAI,CAACzF,SAAS,CAAC;EAAA;EAAC0F,MAAMA,CAAA,EAAE;IAAC,IAAI,CAAC1F,SAAS,GAAC,CAAC,EAAC,IAAI,CAACG,gBAAgB,GAAC,CAAC,CAAC;EAAA;EAAC8E,KAAKA,CAAA,EAAE;IAAC,IAAI,CAAC9E,gBAAgB,GAAC,CAAC,CAAC;EAAA;EAAC4D,WAAWA,CAAA,EAAE;IAAC,IAAI,CAAC/D,SAAS,GAAC,CAAC,EAAC,IAAI,CAAC2C,uBAAuB,EAAE;EAAA;EAACkC,MAAMA,CAAA,EAAE;IAAC,IAAI,CAAClF,KAAK,CAACgG,eAAe,CAAC,IAAI,CAAC7D,IAAI,CAAC,EAAC,IAAI,CAACnC,KAAK,CAACiG,aAAa,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EAAC,IAAI,CAACjG,KAAK,CAACkG,SAAS,CAACzG,CAAC,CAAC0G,gBAAgB,CAAC,EAAC,IAAI,CAAC9F,SAAS,GAAC,CAAC;EAAA;EAACoE,iBAAiBA,CAAA,EAAE;IAAC,IAAI,CAACtE,kBAAkB,CAAC,IAAI,CAACW,eAAe,EAAC,IAAI,CAACsF,qBAAqB,EAAE,EAAC,IAAI,CAAC1F,WAAW,CAAC;IAAC,MAAMjF,CAAC,GAAC,IAAI,CAAC+H,sBAAsB;IAAC,IAAI,CAACxD,KAAK,CAACgG,eAAe,CAAC,IAAI,CAAC7D,IAAI,CAAC,EAAC,IAAI,CAACnC,KAAK,CAACqG,aAAa,CAAC5K,CAAC,EAAC,IAAI,CAAC8E,eAAe,EAAC,IAAI,CAACO,eAAe,CAAC,EAAC,IAAI,CAACd,KAAK,CAACsG,OAAO,CAAC,IAAI,CAACpF,IAAI,CAAC,EAAC,IAAI,CAAClB,KAAK,CAACuG,UAAU,CAAC9K,CAAC,CAAC+K,aAAa,EAAC,CAAC,EAAC3G,CAAC,CAAC,IAAI,CAACqB,IAAI,EAAC,UAAU,CAAC,CAAC;EAAA;EAACkF,qBAAqBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAC/F,SAAS,EAAE,EAAC,IAAI,CAAC2D,gBAAgB,CAAC,IAAI,CAAC3D,SAAS,GAACoG,CAAC,GAAC,IAAI,CAACzC,gBAAgB,CAACG,MAAM,CAAC;EAAA;EAACS,aAAaA,CAACnJ,CAAC,EAAC;IAACA,CAAC,CAACE,MAAM,CAAC,IAAI,CAACmF,eAAe,CAACiE,MAAM,CAAC,KAAG,IAAI,CAACjE,eAAe,CAACiE,MAAM,CAAC2B,QAAQ,CAACjL,CAAC,CAAC,EAAC,IAAI,CAAC0G,IAAI,CAACwE,MAAM,CAAClL,CAAC,CAACmL,SAAS,EAACnL,CAAC,CAACoL,UAAU,CAAC,EAAC,IAAI,CAAC9C,qBAAqB,GAAC,CAAC,GAAChI,CAAC,CAACmC,CAAC,EAACF,CAAC,EAACvC,CAAC,CAACqL,iBAAiB,CAAC,CAAC;EAAA;EAAC,IAAIrB,QAAQA,CAAChK,CAAC,EAAC;IAACA,CAAC,KAAG,IAAI,CAAC+E,gBAAgB,KAAG/E,CAAC,GAAC,IAAI,CAACsK,MAAM,EAAE,GAAC,IAAI,CAACT,KAAK,EAAE,CAAC;EAAA;EAACtC,uBAAuBA,CAAA,EAAE;IAAC,IAAI,CAACxC,gBAAgB,IAAE,IAAI,CAACJ,cAAc,EAAE;EAAA;EAAC,IAAI2G,IAAIA,CAAA,EAAE;IAAC,MAAMtL,CAAC,GAAC,IAAI;IAAC,OAAM;MAACkK,eAAe,EAAC,IAAI,CAAC3B,gBAAgB;MAAC,IAAIgD,MAAMA,CAAA,EAAE;QAAC,OAAOvL,CAAC,CAACmI,mBAAmB;MAAA,CAAC;MAAC,IAAIqD,QAAQA,CAAA,EAAE;QAAC,OAAOxL,CAAC,CAACkI,SAAS;MAAA;IAAC,CAAC;EAAA;AAAC,CAAC;AAAClI,CAAC,CAAC,CAACqB,CAAC,EAAE,CAAC,EAACgD,CAAC,CAACoH,SAAS,EAAC,WAAW,EAAC,KAAK,CAAC,CAAC,EAACzL,CAAC,CAAC,CAACqB,CAAC,EAAE,CAAC,EAACgD,CAAC,CAACoH,SAAS,EAAC,cAAc,EAAC,KAAK,CAAC,CAAC,EAACzL,CAAC,CAAC,CAACqB,CAAC,EAAE,CAAC,EAACgD,CAAC,CAACoH,SAAS,EAAC,kBAAkB,EAAC,KAAK,CAAC,CAAC,EAACzL,CAAC,CAAC,CAACqB,CAAC,EAAE,CAAC,EAACgD,CAAC,CAACoH,SAAS,EAAC,aAAa,EAAC,KAAK,CAAC,CAAC,EAACzL,CAAC,CAAC,CAACqB,CAAC,EAAE,CAAC,EAACgD,CAAC,CAACoH,SAAS,EAAC,aAAa,EAAC,KAAK,CAAC,CAAC,EAACzL,CAAC,CAAC,CAACqB,CAAC,EAAE,CAAC,EAACgD,CAAC,CAACoH,SAAS,EAAC,uBAAuB,EAAC,KAAK,CAAC,CAAC,EAACzL,CAAC,CAAC,CAACqB,CAAC,EAAE,CAAC,EAACgD,CAAC,CAACoH,SAAS,EAAC,aAAa,EAAC,IAAI,CAAC,EAACzL,CAAC,CAAC,CAACqB,CAAC,EAAE,CAAC,EAACgD,CAAC,CAACoH,SAAS,EAAC,WAAW,EAAC,IAAI,CAAC,EAACzL,CAAC,CAAC,CAACqB,CAAC,EAAE,CAAC,EAACgD,CAAC,CAACoH,SAAS,EAAC,eAAe,EAAC,IAAI,CAAC,EAACzL,CAAC,CAAC,CAACqB,CAAC,EAAE,CAAC,EAACgD,CAAC,CAACoH,SAAS,EAAC,qBAAqB,EAAC,IAAI,CAAC,EAACzL,CAAC,CAAC,CAACqB,CAAC,EAAE,CAAC,EAACgD,CAAC,CAACoH,SAAS,EAAC,uBAAuB,EAAC,IAAI,CAAC,EAACzL,CAAC,CAAC,CAACqB,CAAC,EAAE,CAAC,EAACgD,CAAC,CAACoH,SAAS,EAAC,SAAS,EAAC,IAAI,CAAC,EAACpH,CAAC,GAACrE,CAAC,CAAC,CAACuB,CAAC,CAAC,kDAAkD,CAAC,CAAC,EAAC8C,CAAC,CAAC;AAAC,MAAMqF,CAAC,GAAC,CAAC;EAACtC,CAAC,GAAC,YAAY;EAAC4D,CAAC,GAAC,MAAM;EAACX,CAAC,GAAC,IAAIqB,UAAU,CAAC,CAAC,CAAC;AAAC,SAAOrH,CAAC,IAAIsH,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}