{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { f as e } from \"../../../../../../chunks/vec3f32.js\";\nimport { VertexTextureCoordinates as s } from \"../attributes/VertexTextureCoordinates.glsl.js\";\nimport { textureSize as r } from \"../util/WebGL2Utils.js\";\nimport { Float3DrawUniform as o } from \"../../shaderModules/Float3DrawUniform.js\";\nimport { Float3PassUniform as t } from \"../../shaderModules/Float3PassUniform.js\";\nimport { glsl as a } from \"../../shaderModules/interfaces.js\";\nimport { createTexture2DDrawSizeUniforms as i } from \"../../shaderModules/Texture2DDrawUniform.js\";\nimport { createTexture2DPassSizeUniforms as c } from \"../../shaderModules/Texture2DPassUniform.js\";\nimport { TextureSizeUniformType as n } from \"../../shaderModules/TextureSizeUniformType.js\";\nimport { BindType as u } from \"../../shaderTechnique/BindType.js\";\nimport { GLTextureMaterialBindParameters as l } from \"../../../lib/GLTextureMaterial.js\";\nconst m = e(0, .6, .2);\nvar d;\n!function (e) {\n  e[e.Disabled = 0] = \"Disabled\", e[e.Normal = 1] = \"Normal\", e[e.Schematic = 2] = \"Schematic\", e[e.Water = 3] = \"Water\", e[e.WaterOnIntegratedMesh = 4] = \"WaterOnIntegratedMesh\", e[e.Terrain = 5] = \"Terrain\", e[e.TerrainWithWater = 6] = \"TerrainWithWater\", e[e.COUNT = 7] = \"COUNT\";\n}(d || (d = {}));\nclass p extends l {}\nfunction x(e, l) {\n  const m = e.fragment,\n    p = l.hasMetallicRoughnessTexture || l.hasEmissionTexture || l.hasOcclusionTexture;\n  if (l.pbrMode === d.Normal && p && e.include(s, l), l.pbrMode !== d.Schematic) {\n    if (l.pbrMode !== d.Disabled) {\n      if (l.pbrMode === d.Normal) {\n        m.code.add(a`vec3 mrr;\nvec3 emission;\nfloat occlusion;`);\n        const e = l.supportsTextureAtlas ? l.hasWebGL2Context ? n.None : n.Size : n.None,\n          s = l.pbrTextureBindType;\n        l.hasMetallicRoughnessTexture && (m.uniforms.add(s === u.Pass ? c(\"texMetallicRoughness\", e => e.textureMetallicRoughness, e) : i(\"texMetallicRoughness\", e => e.textureMetallicRoughness, e)), m.code.add(a`void applyMetallnessAndRoughness(TextureLookupParameter params) {\nvec3 metallicRoughness = textureLookup(texMetallicRoughness, params).rgb;\nmrr[0] *= metallicRoughness.b;\nmrr[1] *= metallicRoughness.g;\n}`)), l.hasEmissionTexture && (m.uniforms.add(s === u.Pass ? c(\"texEmission\", e => e.textureEmissive, e) : i(\"texEmission\", e => e.textureEmissive, e)), m.code.add(a`void applyEmission(TextureLookupParameter params) {\nemission *= textureLookup(texEmission, params).rgb;\n}`)), l.hasOcclusionTexture ? (m.uniforms.add(s === u.Pass ? c(\"texOcclusion\", e => e.textureOcclusion, e) : i(\"texOcclusion\", e => e.textureOcclusion, e)), m.code.add(a`void applyOcclusion(TextureLookupParameter params) {\nocclusion *= textureLookup(texOcclusion, params).r;\n}\nfloat getBakedOcclusion() {\nreturn occlusion;\n}`)) : m.code.add(a`float getBakedOcclusion() { return 1.0; }`), m.uniforms.add(s === u.Pass ? [new t(\"emissionFactor\", e => e.emissiveFactor), new t(\"mrrFactors\", e => e.mrrFactors)] : [new o(\"emissionFactor\", e => e.emissiveFactor), new o(\"mrrFactors\", e => e.mrrFactors)]), m.code.add(a`\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      emission = emissionFactor;\n      occlusion = 1.0;\n      ${p ? a`vtc.uv = vuv0;` : \"\"}\n      ${l.hasMetallicRoughnessTextureTransform ? a`vtc.uv = metallicRoughnessUV;` : \"\"}\n      ${l.hasMetallicRoughnessTexture ? l.supportsTextureAtlas ? a`\n                vtc.size = ${r(l, \"texMetallicRoughness\")};\n                applyMetallnessAndRoughness(vtc);` : a`applyMetallnessAndRoughness(vtc);` : \"\"}\n      ${l.hasEmissiveTextureTransform ? a`vtc.uv = emissiveUV;` : \"\"}\n      ${l.hasEmissionTexture ? l.supportsTextureAtlas ? a`\n                vtc.size = ${r(l, \"texEmission\")};\n                applyEmission(vtc);` : a`applyEmission(vtc);` : \"\"}\n      ${l.hasOcclusionTextureTransform ? a`vtc.uv = occlusionUV;` : \"\"}\n      ${l.hasOcclusionTexture ? l.supportsTextureAtlas ? a`\n                vtc.size = ${r(l, \"texOcclusion\")};\n                applyOcclusion(vtc);` : a`applyOcclusion(vtc);` : \"\"}\n    }\n  `);\n      }\n    } else m.code.add(a`float getBakedOcclusion() { return 1.0; }`);\n  } else m.code.add(a`vec3 mrr = vec3(0.0, 0.6, 0.2);\nvec3 emission = vec3(0.0);\nfloat occlusion = 1.0;\nvoid applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`);\n}\nexport { p as PBRBindParameters, d as PBRMode, m as PBRSchematicMRRValues, x as PhysicallyBasedRenderingParameters };","map":{"version":3,"names":["f","e","VertexTextureCoordinates","s","textureSize","r","Float3DrawUniform","o","Float3PassUniform","t","glsl","a","createTexture2DDrawSizeUniforms","i","createTexture2DPassSizeUniforms","c","TextureSizeUniformType","n","BindType","u","GLTextureMaterialBindParameters","l","m","d","Disabled","Normal","Schematic","Water","WaterOnIntegratedMesh","Terrain","TerrainWithWater","COUNT","p","x","fragment","hasMetallicRoughnessTexture","hasEmissionTexture","hasOcclusionTexture","pbrMode","include","code","add","supportsTextureAtlas","hasWebGL2Context","None","Size","pbrTextureBindType","uniforms","Pass","textureMetallicRoughness","textureEmissive","textureOcclusion","emissiveFactor","mrrFactors","hasMetallicRoughnessTextureTransform","hasEmissiveTextureTransform","hasOcclusionTextureTransform","PBRBindParameters","PBRMode","PBRSchematicMRRValues","PhysicallyBasedRenderingParameters"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../../../chunks/vec3f32.js\";import{VertexTextureCoordinates as s}from\"../attributes/VertexTextureCoordinates.glsl.js\";import{textureSize as r}from\"../util/WebGL2Utils.js\";import{Float3DrawUniform as o}from\"../../shaderModules/Float3DrawUniform.js\";import{Float3PassUniform as t}from\"../../shaderModules/Float3PassUniform.js\";import{glsl as a}from\"../../shaderModules/interfaces.js\";import{createTexture2DDrawSizeUniforms as i}from\"../../shaderModules/Texture2DDrawUniform.js\";import{createTexture2DPassSizeUniforms as c}from\"../../shaderModules/Texture2DPassUniform.js\";import{TextureSizeUniformType as n}from\"../../shaderModules/TextureSizeUniformType.js\";import{BindType as u}from\"../../shaderTechnique/BindType.js\";import{GLTextureMaterialBindParameters as l}from\"../../../lib/GLTextureMaterial.js\";const m=e(0,.6,.2);var d;!function(e){e[e.Disabled=0]=\"Disabled\",e[e.Normal=1]=\"Normal\",e[e.Schematic=2]=\"Schematic\",e[e.Water=3]=\"Water\",e[e.WaterOnIntegratedMesh=4]=\"WaterOnIntegratedMesh\",e[e.Terrain=5]=\"Terrain\",e[e.TerrainWithWater=6]=\"TerrainWithWater\",e[e.COUNT=7]=\"COUNT\"}(d||(d={}));class p extends l{}function x(e,l){const m=e.fragment,p=l.hasMetallicRoughnessTexture||l.hasEmissionTexture||l.hasOcclusionTexture;if(l.pbrMode===d.Normal&&p&&e.include(s,l),l.pbrMode!==d.Schematic)if(l.pbrMode!==d.Disabled){if(l.pbrMode===d.Normal){m.code.add(a`vec3 mrr;\nvec3 emission;\nfloat occlusion;`);const e=l.supportsTextureAtlas?l.hasWebGL2Context?n.None:n.Size:n.None,s=l.pbrTextureBindType;l.hasMetallicRoughnessTexture&&(m.uniforms.add(s===u.Pass?c(\"texMetallicRoughness\",(e=>e.textureMetallicRoughness),e):i(\"texMetallicRoughness\",(e=>e.textureMetallicRoughness),e)),m.code.add(a`void applyMetallnessAndRoughness(TextureLookupParameter params) {\nvec3 metallicRoughness = textureLookup(texMetallicRoughness, params).rgb;\nmrr[0] *= metallicRoughness.b;\nmrr[1] *= metallicRoughness.g;\n}`)),l.hasEmissionTexture&&(m.uniforms.add(s===u.Pass?c(\"texEmission\",(e=>e.textureEmissive),e):i(\"texEmission\",(e=>e.textureEmissive),e)),m.code.add(a`void applyEmission(TextureLookupParameter params) {\nemission *= textureLookup(texEmission, params).rgb;\n}`)),l.hasOcclusionTexture?(m.uniforms.add(s===u.Pass?c(\"texOcclusion\",(e=>e.textureOcclusion),e):i(\"texOcclusion\",(e=>e.textureOcclusion),e)),m.code.add(a`void applyOcclusion(TextureLookupParameter params) {\nocclusion *= textureLookup(texOcclusion, params).r;\n}\nfloat getBakedOcclusion() {\nreturn occlusion;\n}`)):m.code.add(a`float getBakedOcclusion() { return 1.0; }`),m.uniforms.add(s===u.Pass?[new t(\"emissionFactor\",(e=>e.emissiveFactor)),new t(\"mrrFactors\",(e=>e.mrrFactors))]:[new o(\"emissionFactor\",(e=>e.emissiveFactor)),new o(\"mrrFactors\",(e=>e.mrrFactors))]),m.code.add(a`\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      emission = emissionFactor;\n      occlusion = 1.0;\n      ${p?a`vtc.uv = vuv0;`:\"\"}\n      ${l.hasMetallicRoughnessTextureTransform?a`vtc.uv = metallicRoughnessUV;`:\"\"}\n      ${l.hasMetallicRoughnessTexture?l.supportsTextureAtlas?a`\n                vtc.size = ${r(l,\"texMetallicRoughness\")};\n                applyMetallnessAndRoughness(vtc);`:a`applyMetallnessAndRoughness(vtc);`:\"\"}\n      ${l.hasEmissiveTextureTransform?a`vtc.uv = emissiveUV;`:\"\"}\n      ${l.hasEmissionTexture?l.supportsTextureAtlas?a`\n                vtc.size = ${r(l,\"texEmission\")};\n                applyEmission(vtc);`:a`applyEmission(vtc);`:\"\"}\n      ${l.hasOcclusionTextureTransform?a`vtc.uv = occlusionUV;`:\"\"}\n      ${l.hasOcclusionTexture?l.supportsTextureAtlas?a`\n                vtc.size = ${r(l,\"texOcclusion\")};\n                applyOcclusion(vtc);`:a`applyOcclusion(vtc);`:\"\"}\n    }\n  `)}}else m.code.add(a`float getBakedOcclusion() { return 1.0; }`);else m.code.add(a`vec3 mrr = vec3(0.0, 0.6, 0.2);\nvec3 emission = vec3(0.0);\nfloat occlusion = 1.0;\nvoid applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`)}export{p as PBRBindParameters,d as PBRMode,m as PBRSchematicMRRValues,x as PhysicallyBasedRenderingParameters};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}