{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../layers/support/TileInfo.js\";\nimport l from \"./TileInfoView.js\";\nimport s from \"./TileKey.js\";\nclass t extends l {\n  constructor() {\n    super(...arguments), this._fullCacheLodInfos = null, this._levelByScale = {};\n  }\n  getTileParentId(e) {\n    const l = s.pool.acquire(e),\n      t = 0 === l.level ? null : s.getId(l.level - 1, l.row >> 1, l.col >> 1, l.world);\n    return s.pool.release(l), t;\n  }\n  getTileCoverage(e, l, s) {\n    const t = super.getTileCoverage(e, l, s);\n    if (!t) return t;\n    const o = 1 << t.lodInfo.level;\n    return t.spans = t.spans.filter(e => e.row >= 0 && e.row < o), t;\n  }\n  scaleToLevel(e) {\n    if (this._fullCacheLodInfos || this._initializeFullCacheLODs(this._lodInfos), this._levelByScale[e]) return this._levelByScale[e];\n    {\n      const l = this._fullCacheLodInfos;\n      if (e > l[0].scale) return l[0].level;\n      let s, t;\n      for (let o = 0; o < l.length - 1; o++) if (t = l[o + 1], e > t.scale) return s = l[o], s.level + (s.scale - e) / (s.scale - t.scale);\n      return l[l.length - 1].level;\n    }\n  }\n  _initializeFullCacheLODs(l) {\n    let s;\n    if (0 === l[0].level) s = l.map(e => ({\n      level: e.level,\n      resolution: e.resolution,\n      scale: e.scale\n    }));else {\n      const l = this.tileInfo.size[0],\n        t = this.tileInfo.spatialReference;\n      s = e.create({\n        size: l,\n        spatialReference: t\n      }).lods.map(e => ({\n        level: e.level,\n        resolution: e.resolution,\n        scale: e.scale\n      }));\n    }\n    for (let e = 0; e < s.length; e++) this._levelByScale[s[e].scale] = s[e].level;\n    this._fullCacheLodInfos = s;\n  }\n}\nexport { t as default };","map":{"version":3,"names":["e","l","s","t","constructor","arguments","_fullCacheLodInfos","_levelByScale","getTileParentId","pool","acquire","level","getId","row","col","world","release","getTileCoverage","o","lodInfo","spans","filter","scaleToLevel","_initializeFullCacheLODs","_lodInfos","scale","length","map","resolution","tileInfo","size","spatialReference","create","lods","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../layers/support/TileInfo.js\";import l from\"./TileInfoView.js\";import s from\"./TileKey.js\";class t extends l{constructor(){super(...arguments),this._fullCacheLodInfos=null,this._levelByScale={}}getTileParentId(e){const l=s.pool.acquire(e),t=0===l.level?null:s.getId(l.level-1,l.row>>1,l.col>>1,l.world);return s.pool.release(l),t}getTileCoverage(e,l,s){const t=super.getTileCoverage(e,l,s);if(!t)return t;const o=1<<t.lodInfo.level;return t.spans=t.spans.filter((e=>e.row>=0&&e.row<o)),t}scaleToLevel(e){if(this._fullCacheLodInfos||this._initializeFullCacheLODs(this._lodInfos),this._levelByScale[e])return this._levelByScale[e];{const l=this._fullCacheLodInfos;if(e>l[0].scale)return l[0].level;let s,t;for(let o=0;o<l.length-1;o++)if(t=l[o+1],e>t.scale)return s=l[o],s.level+(s.scale-e)/(s.scale-t.scale);return l[l.length-1].level}}_initializeFullCacheLODs(l){let s;if(0===l[0].level)s=l.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})));else{const l=this.tileInfo.size[0],t=this.tileInfo.spatialReference;s=e.create({size:l,spatialReference:t}).lods.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})))}for(let e=0;e<s.length;e++)this._levelByScale[s[e].scale]=s[e].level;this._fullCacheLodInfos=s}}export{t as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}