{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport { cyclicalPI as i } from \"../../../../../core/Cyclical.js\";\nimport { deg2rad as e } from \"../../../../../core/mathUtils.js\";\nimport { isNone as n, isSome as s } from \"../../../../../core/maybe.js\";\nimport { createScreenPointArray as o, screenPointObjectToArray as r, createRenderScreenPointArray3 as a } from \"../../../../../core/screenUtils.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../../core/arrayUtils.js\";\nimport \"../../../../../core/Error.js\";\nimport \"../../../../../core/has.js\";\nimport { subclass as m } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as h, d as c } from \"../../../../../chunks/vec2.js\";\nimport { c as p, o as _, l, b as u, n as d, a as g, g as P, e as v } from \"../../../../../chunks/vec3.js\";\nimport { c as C } from \"../../../../../chunks/vec3f64.js\";\nimport { getReferenceEllipsoid as M } from \"../../../../../geometry/ellipsoidUtils.js\";\nimport { wrapAxisAngle as S } from \"../../../../../geometry/support/axisAngle.js\";\nimport { create as w, fromPositionAndNormal as b, normal as f } from \"../../../../../geometry/support/plane.js\";\nimport { c as j } from \"../../../../../chunks/sphere.js\";\nimport { pixelDistanceToInteractionFactor as y, applyAll as E } from \"../../../camera/constraintUtils.js\";\nimport { ConstraintTypes as O } from \"../../../camera/constraintUtils/ConstraintTypes.js\";\nimport { InteractionType as A } from \"../../../camera/constraintUtils/InteractionType.js\";\nimport { TiltMode as k } from \"../../../camera/constraintUtils/TiltMode.js\";\nimport { ExponentialFalloff as z } from \"../../../input/util.js\";\nimport { InteractiveController as R } from \"../InteractiveController.js\";\nimport { PanPlanarMomentumController as x } from \"../momentum/PanPlanarMomentumController.js\";\nimport { PanSphericalMomentumController as T } from \"../momentum/PanSphericalMomentumController.js\";\nimport { RotationMomentumController as H } from \"../momentum/RotationMomentumController.js\";\nimport { ZoomPlanarMomentumController as U } from \"../momentum/ZoomPlanarMomentumController.js\";\nimport { ZoomSphericalMomentumController as F } from \"../momentum/ZoomSphericalMomentumController.js\";\nimport { NavigationMode as D, pickPointAndInitSphere as I, contentIntersectorOptions as L, SpherePickPointFallback as Z, decideNavigationMode as N, sphereOrPlanePointFromScreenPoint as B, PAN_DISTANCE_MODIFIER as G, MIN_HEIGHT_LIMIT as V, SCREEN_PIXEL_AREA as q, intersectPlaneFromScreenPointAtEye as J, applyZoomOnSphere as K, preserveHeadingThreshold as Q, applyPanSphericalPreserveHeading as W, applyPanSphericalDirectRotation as X, normalizeRotationDelta as Y, applyRotation as $, applyPanPlanar as tt, applyZoomToPoint as it } from \"../../utils/navigationUtils.js\";\nimport { Camera as et } from \"../../../webgl-engine/lib/Camera.js\";\nimport { PanPlanarMomentumEstimator as nt } from \"../../../../navigation/PanPlanarMomentumEstimator.js\";\nimport { PanSphericalMomentumEstimator as st } from \"../../../../navigation/PanSphericalMomentumEstimator.js\";\nimport { RotationMomentumEstimator as ot } from \"../../../../navigation/RotationMomentumEstimator.js\";\nimport { ZoomMomentumEstimator as rt } from \"../../../../navigation/ZoomMomentumEstimator.js\";\nlet at = class extends R {\n  constructor() {\n    super(...arguments), this._smoothRotation = new z(.05), this._rotationAxis = C(), this._beginAngle = 0, this._beginHeading = 0, this._panningPlane = w(), this._beginRadius = 0, this._smoothScaling = new z(.05), this._zoomCenterScreen = o(), this._zoomMomentumEstimator = new rt(), this._rotationMomentumEstimator = new ot(), this._panSphericalMomentumEstimator = new st(), this._panPlanarMomentumEstimator = new nt(), this._adjustedSphere = j(), this._tmp3d = C(), this._tmpScreenPointArray = o(), this._beginScreenPoint = o(), this._beginScenePoint = C(), this._screenPickPoint = o(), this._scenePickPoint = C(), this._mode = D.Horizontal, this._sphere = j(), this._pointerCount = 0, this._tmpInteractionDirection = C(), this._constraintOptions = {\n      selection: O.ALL,\n      interactionType: A.NONE,\n      interactionFactor: 0,\n      interactionStartCamera: new et(),\n      interactionDirection: null,\n      tiltMode: k.TUMBLE\n    };\n  }\n  get _intersectionHelper() {\n    return this.view.sceneIntersectionHelper;\n  }\n  begin(t) {\n    if (!this.active) return;\n    const s = this.view.navigation.momentumEnabled;\n    this._zoomMomentumEstimator.enabled = s, this._rotationMomentumEstimator.enabled = s, this._panPlanarMomentumEstimator.enabled = s, this._panSphericalMomentumEstimator.enabled = s, this._beginHeading = -i.normalize(e(this.view.camera.heading)), this._beginRadius = t.radius, this._pointerCount = t.pointers.size, this._beginAngle = t.angle, this._smoothRotation.reset(), r(t.center, this._screenPickPoint), h(this._beginScreenPoint, this._screenPickPoint);\n    const o = M(this.view.spatialReference),\n      a = I(this._intersectionHelper, this.startCamera, this._screenPickPoint, o, Z.Silhouette, 0 === this.view.map.ground.opacity ? L : {});\n    n(a.scenePickPoint) || (this._scenePickPoint = a.scenePickPoint, this._sphere = a.sphere, p(this._beginScenePoint, this._scenePickPoint), this._mode = N(this.startCamera, this._screenPickPoint, o), this._mode === D.Vertical && this._preparePlanarPanMode(t, a.hasGeometryIntersection), this._constraintOptions.interactionStartCamera?.copyFrom(this.startCamera));\n  }\n  update(t) {\n    if (!this.active) return;\n    this.currentCamera.copyFrom(this.startCamera);\n    const i = t.pointers.size > 1;\n    this._mode === D.Horizontal ? (i && this._zoomSpherical(t), this._panningSpherical(t), i && this._rotateSpherical(t)) : (i && this._zoomPlanar(t), this._panningPlanar(t), i && this._rotatePlanar(t)), this.commitCamera();\n  }\n  end(t) {\n    t.pointers.size === this._pointerCount && this.update(t), this.finishController();\n    const i = this._zoomMomentumEstimator.evaluateMomentum();\n    if (i) return this._mode === D.Horizontal ? new F({\n      view: this.view,\n      momentum: i,\n      screenCenter: this._zoomCenterScreen,\n      sceneCenter: this._beginScenePoint,\n      radius: this._sphere[3]\n    }) : new U({\n      view: this.view,\n      momentum: i,\n      zoomCenter: this._beginScenePoint\n    });\n    const e = this._rotationMomentumEstimator.evaluateMomentum();\n    if (e) return new H({\n      view: this.view,\n      momentum: e,\n      center: this._sphere,\n      axis: this._rotationAxis\n    });\n    if (this._mode === D.Horizontal) {\n      const t = this._panSphericalMomentumEstimator.evaluateMomentum();\n      if (t) return new T({\n        view: this.view,\n        momentum: t\n      });\n    } else {\n      const t = this._panPlanarMomentumEstimator.evaluateMomentum();\n      if (t) return new x({\n        view: this.view,\n        momentum: t\n      });\n    }\n    return null;\n  }\n  _preparePlanarPanMode(t, i) {\n    const e = _(this._tmp3d, this.startCamera.viewForward);\n    b(this._scenePickPoint, e, this._panningPlane);\n    const n = o(this._screenPickPoint[0], 0),\n      m = C(),\n      h = l(this.startCamera.eye);\n    this._adjustedSphere[3] = h < this._sphere[3] ? h - 100 : this._sphere[3], B(this._adjustedSphere, this.startCamera, n, m);\n    const c = a();\n    this.startCamera.projectToRenderScreen(m, c);\n    const M = C(),\n      S = C(),\n      w = C();\n    u(M, this._scenePickPoint, this.currentCamera.eye);\n    const j = l(M);\n    d(M, M);\n    const y = G * Math.max(Math.abs(this.view.camera.position.z), V),\n      E = this.view._stage.renderView.getMinimalDepthForArea(null, this._screenPickPoint[0], this._screenPickPoint[1], this.view.state.camera, q);\n    let O = s(E) ? E : y;\n    O = i ? Math.min(O, j) : O, p(w, g(S, this.currentCamera.eye, P(S, M, O))), this._panningPlane[3] = -v(f(this._panningPlane), w), this.startCamera.center = g(S, this.startCamera.eye, P(S, this.startCamera.viewForward, O));\n    const A = r(t.center, this._tmpScreenPointArray);\n    J(this._panningPlane, this.startCamera, A, this._beginScenePoint);\n  }\n  _zoomSpherical(t) {\n    const i = this._beginRadius / t.radius,\n      e = .001875 * Math.min(Math.max(t.radius, 40), 120);\n    this._smoothScaling.gain = e, this._smoothScaling.update(i), K(this._sphere, this.currentCamera, this._smoothScaling.value), r(t.center, this._zoomCenterScreen), this._zoomMomentumEstimator.add(this._smoothScaling.value, .001 * t.timestamp), this._constraintOptions.interactionType = A.ZOOM, this._constraintOptions.interactionFactor = y(t.radius - this._beginRadius), E(this.view, this.currentCamera, this._constraintOptions);\n  }\n  _panningSpherical(t) {\n    const i = r(t.center, this._tmpScreenPointArray);\n    B(this._sphere, this.currentCamera, i, this._tmp3d), Q(this._beginScenePoint, v(this.currentCamera.up, this._beginScenePoint), this._sphere[3], this._beginHeading, this.view.camera.tilt, this.startCamera) ? (W(this._sphere, this.currentCamera, this._beginScenePoint, this._tmp3d, this._beginHeading, this.view.camera.tilt, !1), this._panSphericalMomentumEstimator.addMomentumPreserveHeading(i, this._tmp3d, .001 * t.timestamp, this.startCamera, this._sphere, this._beginHeading, this.view.camera.tilt)) : (X(this._sphere, this.currentCamera, this._beginScenePoint, this._tmp3d, this.view.camera.tilt, !1), this._panSphericalMomentumEstimator.addMomentumDirectRotation(i, this._tmp3d, .001 * t.timestamp, this.startCamera, this._sphere[3], this.view.camera.tilt)), this._constraintOptions.interactionType = A.PAN, this._constraintOptions.interactionFactor = y(c(this._screenPickPoint, i)), E(this.view, this.currentCamera, this._constraintOptions);\n  }\n  _rotateSpherical(t) {\n    d(this._rotationAxis, this._scenePickPoint), this.currentCamera.aboveGround || _(this._rotationAxis, this._rotationAxis);\n    const i = this._smoothRotation.value,\n      e = i + Y(t.angle - i),\n      n = .00125 * Math.min(Math.max(t.radius, 40), 120);\n    this._smoothRotation.gain = n, this._smoothRotation.update(e);\n    const s = this._smoothRotation.value - this._beginAngle;\n    this._rotationMomentumEstimator.add(s, .001 * t.timestamp), $(this.currentCamera, this._sphere, S(this._rotationAxis, s)), this._constraintOptions.interactionType = A.TUMBLE, this._constraintOptions.interactionFactor = y(t.radius * e), E(this.view, this.currentCamera, this._constraintOptions);\n  }\n  _panningPlanar(t) {\n    const i = r(t.center, this._tmpScreenPointArray);\n    J(this._panningPlane, this.currentCamera, i, this._tmp3d) && (tt(this.currentCamera, this._beginScenePoint, this._tmp3d), this._panPlanarMomentumEstimator.add(i, this._tmp3d, .001 * t.timestamp), this._constraintOptions.interactionType = A.PAN, this._constraintOptions.interactionFactor = y(c(this._beginScreenPoint, i)), this._constraintOptions.interactionDirection = this.view.renderCoordsHelper.worldUpAtPosition(this.currentCamera.eye, this._tmpInteractionDirection), E(this.view, this.currentCamera, this._constraintOptions), this._constraintOptions.interactionDirection = null);\n  }\n  _zoomPlanar(t) {\n    const i = this._beginRadius / t.radius,\n      e = .001875 * Math.min(Math.max(t.radius, 40), 120);\n    this._smoothScaling.gain = e, this._smoothScaling.update(i), this._zoomMomentumEstimator.add(this._smoothScaling.value, .001 * t.timestamp), it(this.currentCamera, this._beginScenePoint, this._smoothScaling.value, this.view.state.constraints.minimumPoiDistance), this._constraintOptions.interactionType = A.ZOOM, this._constraintOptions.interactionFactor = y(t.radius - this._beginRadius), E(this.view, this.currentCamera, this._constraintOptions);\n  }\n  _rotatePlanar(t) {\n    p(this._rotationAxis, this._beginScenePoint), this.currentCamera.aboveGround || _(this._rotationAxis, this._rotationAxis);\n    const i = this._smoothRotation.value;\n    let e = t.angle - i;\n    e = Y(e);\n    const n = i + e,\n      s = .00125 * Math.min(Math.max(t.radius, 40), 120);\n    this._smoothRotation.gain = s, this._smoothRotation.update(n);\n    const o = this._smoothRotation.value - this._beginAngle;\n    this._rotationMomentumEstimator.add(o, .001 * t.timestamp), $(this.currentCamera, this._sphere, S(this._rotationAxis, o)), this._constraintOptions.interactionType = A.TUMBLE, this._constraintOptions.interactionFactor = y(t.radius * o), E(this.view, this.currentCamera, this._constraintOptions);\n  }\n};\nat = t([m(\"esri.views.3d.state.controllers.global.PinchAndPanController\")], at);\nexport { at as PinchAndPanController };","map":{"version":3,"names":["_","t","cyclicalPI","i","deg2rad","e","isNone","n","isSome","s","createScreenPointArray","o","screenPointObjectToArray","r","createRenderScreenPointArray3","a","subclass","m","c","h","d","p","l","b","u","g","P","v","C","getReferenceEllipsoid","M","wrapAxisAngle","S","create","w","fromPositionAndNormal","normal","f","j","pixelDistanceToInteractionFactor","y","applyAll","E","ConstraintTypes","O","InteractionType","A","TiltMode","k","ExponentialFalloff","z","InteractiveController","R","PanPlanarMomentumController","x","PanSphericalMomentumController","T","RotationMomentumController","H","ZoomPlanarMomentumController","U","ZoomSphericalMomentumController","F","NavigationMode","D","pickPointAndInitSphere","I","contentIntersectorOptions","L","SpherePickPointFallback","Z","decideNavigationMode","N","sphereOrPlanePointFromScreenPoint","B","PAN_DISTANCE_MODIFIER","G","MIN_HEIGHT_LIMIT","V","SCREEN_PIXEL_AREA","q","intersectPlaneFromScreenPointAtEye","J","applyZoomOnSphere","K","preserveHeadingThreshold","Q","applyPanSphericalPreserveHeading","W","applyPanSphericalDirectRotation","X","normalizeRotationDelta","Y","applyRotation","$","applyPanPlanar","tt","applyZoomToPoint","it","Camera","et","PanPlanarMomentumEstimator","nt","PanSphericalMomentumEstimator","st","RotationMomentumEstimator","ot","ZoomMomentumEstimator","rt","at","constructor","arguments","_smoothRotation","_rotationAxis","_beginAngle","_beginHeading","_panningPlane","_beginRadius","_smoothScaling","_zoomCenterScreen","_zoomMomentumEstimator","_rotationMomentumEstimator","_panSphericalMomentumEstimator","_panPlanarMomentumEstimator","_adjustedSphere","_tmp3d","_tmpScreenPointArray","_beginScreenPoint","_beginScenePoint","_screenPickPoint","_scenePickPoint","_mode","Horizontal","_sphere","_pointerCount","_tmpInteractionDirection","_constraintOptions","selection","ALL","interactionType","NONE","interactionFactor","interactionStartCamera","interactionDirection","tiltMode","TUMBLE","_intersectionHelper","view","sceneIntersectionHelper","begin","active","navigation","momentumEnabled","enabled","normalize","camera","heading","radius","pointers","size","angle","reset","center","spatialReference","startCamera","Silhouette","map","ground","opacity","scenePickPoint","sphere","Vertical","_preparePlanarPanMode","hasGeometryIntersection","copyFrom","update","currentCamera","_zoomSpherical","_panningSpherical","_rotateSpherical","_zoomPlanar","_panningPlanar","_rotatePlanar","commitCamera","end","finishController","evaluateMomentum","momentum","screenCenter","sceneCenter","zoomCenter","axis","viewForward","eye","projectToRenderScreen","Math","max","abs","position","_stage","renderView","getMinimalDepthForArea","state","min","gain","value","add","timestamp","ZOOM","up","tilt","addMomentumPreserveHeading","addMomentumDirectRotation","PAN","aboveGround","renderCoordsHelper","worldUpAtPosition","constraints","minimumPoiDistance","PinchAndPanController"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/state/controllers/global/PinchAndPanController.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{cyclicalPI as i}from\"../../../../../core/Cyclical.js\";import{deg2rad as e}from\"../../../../../core/mathUtils.js\";import{isNone as n,isSome as s}from\"../../../../../core/maybe.js\";import{createScreenPointArray as o,screenPointObjectToArray as r,createRenderScreenPointArray3 as a}from\"../../../../../core/screenUtils.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/Error.js\";import\"../../../../../core/has.js\";import{subclass as m}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as h,d as c}from\"../../../../../chunks/vec2.js\";import{c as p,o as _,l,b as u,n as d,a as g,g as P,e as v}from\"../../../../../chunks/vec3.js\";import{c as C}from\"../../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as M}from\"../../../../../geometry/ellipsoidUtils.js\";import{wrapAxisAngle as S}from\"../../../../../geometry/support/axisAngle.js\";import{create as w,fromPositionAndNormal as b,normal as f}from\"../../../../../geometry/support/plane.js\";import{c as j}from\"../../../../../chunks/sphere.js\";import{pixelDistanceToInteractionFactor as y,applyAll as E}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as O}from\"../../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as A}from\"../../../camera/constraintUtils/InteractionType.js\";import{TiltMode as k}from\"../../../camera/constraintUtils/TiltMode.js\";import{ExponentialFalloff as z}from\"../../../input/util.js\";import{InteractiveController as R}from\"../InteractiveController.js\";import{PanPlanarMomentumController as x}from\"../momentum/PanPlanarMomentumController.js\";import{PanSphericalMomentumController as T}from\"../momentum/PanSphericalMomentumController.js\";import{RotationMomentumController as H}from\"../momentum/RotationMomentumController.js\";import{ZoomPlanarMomentumController as U}from\"../momentum/ZoomPlanarMomentumController.js\";import{ZoomSphericalMomentumController as F}from\"../momentum/ZoomSphericalMomentumController.js\";import{NavigationMode as D,pickPointAndInitSphere as I,contentIntersectorOptions as L,SpherePickPointFallback as Z,decideNavigationMode as N,sphereOrPlanePointFromScreenPoint as B,PAN_DISTANCE_MODIFIER as G,MIN_HEIGHT_LIMIT as V,SCREEN_PIXEL_AREA as q,intersectPlaneFromScreenPointAtEye as J,applyZoomOnSphere as K,preserveHeadingThreshold as Q,applyPanSphericalPreserveHeading as W,applyPanSphericalDirectRotation as X,normalizeRotationDelta as Y,applyRotation as $,applyPanPlanar as tt,applyZoomToPoint as it}from\"../../utils/navigationUtils.js\";import{Camera as et}from\"../../../webgl-engine/lib/Camera.js\";import{PanPlanarMomentumEstimator as nt}from\"../../../../navigation/PanPlanarMomentumEstimator.js\";import{PanSphericalMomentumEstimator as st}from\"../../../../navigation/PanSphericalMomentumEstimator.js\";import{RotationMomentumEstimator as ot}from\"../../../../navigation/RotationMomentumEstimator.js\";import{ZoomMomentumEstimator as rt}from\"../../../../navigation/ZoomMomentumEstimator.js\";let at=class extends R{constructor(){super(...arguments),this._smoothRotation=new z(.05),this._rotationAxis=C(),this._beginAngle=0,this._beginHeading=0,this._panningPlane=w(),this._beginRadius=0,this._smoothScaling=new z(.05),this._zoomCenterScreen=o(),this._zoomMomentumEstimator=new rt,this._rotationMomentumEstimator=new ot,this._panSphericalMomentumEstimator=new st,this._panPlanarMomentumEstimator=new nt,this._adjustedSphere=j(),this._tmp3d=C(),this._tmpScreenPointArray=o(),this._beginScreenPoint=o(),this._beginScenePoint=C(),this._screenPickPoint=o(),this._scenePickPoint=C(),this._mode=D.Horizontal,this._sphere=j(),this._pointerCount=0,this._tmpInteractionDirection=C(),this._constraintOptions={selection:O.ALL,interactionType:A.NONE,interactionFactor:0,interactionStartCamera:new et,interactionDirection:null,tiltMode:k.TUMBLE}}get _intersectionHelper(){return this.view.sceneIntersectionHelper}begin(t){if(!this.active)return;const s=this.view.navigation.momentumEnabled;this._zoomMomentumEstimator.enabled=s,this._rotationMomentumEstimator.enabled=s,this._panPlanarMomentumEstimator.enabled=s,this._panSphericalMomentumEstimator.enabled=s,this._beginHeading=-i.normalize(e(this.view.camera.heading)),this._beginRadius=t.radius,this._pointerCount=t.pointers.size,this._beginAngle=t.angle,this._smoothRotation.reset(),r(t.center,this._screenPickPoint),h(this._beginScreenPoint,this._screenPickPoint);const o=M(this.view.spatialReference),a=I(this._intersectionHelper,this.startCamera,this._screenPickPoint,o,Z.Silhouette,0===this.view.map.ground.opacity?L:{});n(a.scenePickPoint)||(this._scenePickPoint=a.scenePickPoint,this._sphere=a.sphere,p(this._beginScenePoint,this._scenePickPoint),this._mode=N(this.startCamera,this._screenPickPoint,o),this._mode===D.Vertical&&this._preparePlanarPanMode(t,a.hasGeometryIntersection),this._constraintOptions.interactionStartCamera?.copyFrom(this.startCamera))}update(t){if(!this.active)return;this.currentCamera.copyFrom(this.startCamera);const i=t.pointers.size>1;this._mode===D.Horizontal?(i&&this._zoomSpherical(t),this._panningSpherical(t),i&&this._rotateSpherical(t)):(i&&this._zoomPlanar(t),this._panningPlanar(t),i&&this._rotatePlanar(t)),this.commitCamera()}end(t){t.pointers.size===this._pointerCount&&this.update(t),this.finishController();const i=this._zoomMomentumEstimator.evaluateMomentum();if(i)return this._mode===D.Horizontal?new F({view:this.view,momentum:i,screenCenter:this._zoomCenterScreen,sceneCenter:this._beginScenePoint,radius:this._sphere[3]}):new U({view:this.view,momentum:i,zoomCenter:this._beginScenePoint});const e=this._rotationMomentumEstimator.evaluateMomentum();if(e)return new H({view:this.view,momentum:e,center:this._sphere,axis:this._rotationAxis});if(this._mode===D.Horizontal){const t=this._panSphericalMomentumEstimator.evaluateMomentum();if(t)return new T({view:this.view,momentum:t})}else{const t=this._panPlanarMomentumEstimator.evaluateMomentum();if(t)return new x({view:this.view,momentum:t})}return null}_preparePlanarPanMode(t,i){const e=_(this._tmp3d,this.startCamera.viewForward);b(this._scenePickPoint,e,this._panningPlane);const n=o(this._screenPickPoint[0],0),m=C(),h=l(this.startCamera.eye);this._adjustedSphere[3]=h<this._sphere[3]?h-100:this._sphere[3],B(this._adjustedSphere,this.startCamera,n,m);const c=a();this.startCamera.projectToRenderScreen(m,c);const M=C(),S=C(),w=C();u(M,this._scenePickPoint,this.currentCamera.eye);const j=l(M);d(M,M);const y=G*Math.max(Math.abs(this.view.camera.position.z),V),E=this.view._stage.renderView.getMinimalDepthForArea(null,this._screenPickPoint[0],this._screenPickPoint[1],this.view.state.camera,q);let O=s(E)?E:y;O=i?Math.min(O,j):O,p(w,g(S,this.currentCamera.eye,P(S,M,O))),this._panningPlane[3]=-v(f(this._panningPlane),w),this.startCamera.center=g(S,this.startCamera.eye,P(S,this.startCamera.viewForward,O));const A=r(t.center,this._tmpScreenPointArray);J(this._panningPlane,this.startCamera,A,this._beginScenePoint)}_zoomSpherical(t){const i=this._beginRadius/t.radius,e=.001875*Math.min(Math.max(t.radius,40),120);this._smoothScaling.gain=e,this._smoothScaling.update(i),K(this._sphere,this.currentCamera,this._smoothScaling.value),r(t.center,this._zoomCenterScreen),this._zoomMomentumEstimator.add(this._smoothScaling.value,.001*t.timestamp),this._constraintOptions.interactionType=A.ZOOM,this._constraintOptions.interactionFactor=y(t.radius-this._beginRadius),E(this.view,this.currentCamera,this._constraintOptions)}_panningSpherical(t){const i=r(t.center,this._tmpScreenPointArray);B(this._sphere,this.currentCamera,i,this._tmp3d),Q(this._beginScenePoint,v(this.currentCamera.up,this._beginScenePoint),this._sphere[3],this._beginHeading,this.view.camera.tilt,this.startCamera)?(W(this._sphere,this.currentCamera,this._beginScenePoint,this._tmp3d,this._beginHeading,this.view.camera.tilt,!1),this._panSphericalMomentumEstimator.addMomentumPreserveHeading(i,this._tmp3d,.001*t.timestamp,this.startCamera,this._sphere,this._beginHeading,this.view.camera.tilt)):(X(this._sphere,this.currentCamera,this._beginScenePoint,this._tmp3d,this.view.camera.tilt,!1),this._panSphericalMomentumEstimator.addMomentumDirectRotation(i,this._tmp3d,.001*t.timestamp,this.startCamera,this._sphere[3],this.view.camera.tilt)),this._constraintOptions.interactionType=A.PAN,this._constraintOptions.interactionFactor=y(c(this._screenPickPoint,i)),E(this.view,this.currentCamera,this._constraintOptions)}_rotateSpherical(t){d(this._rotationAxis,this._scenePickPoint),this.currentCamera.aboveGround||_(this._rotationAxis,this._rotationAxis);const i=this._smoothRotation.value,e=i+Y(t.angle-i),n=.00125*Math.min(Math.max(t.radius,40),120);this._smoothRotation.gain=n,this._smoothRotation.update(e);const s=this._smoothRotation.value-this._beginAngle;this._rotationMomentumEstimator.add(s,.001*t.timestamp),$(this.currentCamera,this._sphere,S(this._rotationAxis,s)),this._constraintOptions.interactionType=A.TUMBLE,this._constraintOptions.interactionFactor=y(t.radius*e),E(this.view,this.currentCamera,this._constraintOptions)}_panningPlanar(t){const i=r(t.center,this._tmpScreenPointArray);J(this._panningPlane,this.currentCamera,i,this._tmp3d)&&(tt(this.currentCamera,this._beginScenePoint,this._tmp3d),this._panPlanarMomentumEstimator.add(i,this._tmp3d,.001*t.timestamp),this._constraintOptions.interactionType=A.PAN,this._constraintOptions.interactionFactor=y(c(this._beginScreenPoint,i)),this._constraintOptions.interactionDirection=this.view.renderCoordsHelper.worldUpAtPosition(this.currentCamera.eye,this._tmpInteractionDirection),E(this.view,this.currentCamera,this._constraintOptions),this._constraintOptions.interactionDirection=null)}_zoomPlanar(t){const i=this._beginRadius/t.radius,e=.001875*Math.min(Math.max(t.radius,40),120);this._smoothScaling.gain=e,this._smoothScaling.update(i),this._zoomMomentumEstimator.add(this._smoothScaling.value,.001*t.timestamp),it(this.currentCamera,this._beginScenePoint,this._smoothScaling.value,this.view.state.constraints.minimumPoiDistance),this._constraintOptions.interactionType=A.ZOOM,this._constraintOptions.interactionFactor=y(t.radius-this._beginRadius),E(this.view,this.currentCamera,this._constraintOptions)}_rotatePlanar(t){p(this._rotationAxis,this._beginScenePoint),this.currentCamera.aboveGround||_(this._rotationAxis,this._rotationAxis);const i=this._smoothRotation.value;let e=t.angle-i;e=Y(e);const n=i+e,s=.00125*Math.min(Math.max(t.radius,40),120);this._smoothRotation.gain=s,this._smoothRotation.update(n);const o=this._smoothRotation.value-this._beginAngle;this._rotationMomentumEstimator.add(o,.001*t.timestamp),$(this.currentCamera,this._sphere,S(this._rotationAxis,o)),this._constraintOptions.interactionType=A.TUMBLE,this._constraintOptions.interactionFactor=y(t.radius*o),E(this.view,this.currentCamera,this._constraintOptions)}};at=t([m(\"esri.views.3d.state.controllers.global.PinchAndPanController\")],at);export{at as PinchAndPanController};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}