{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as o } from \"../../../../core/maybe.js\";\nimport { projectBuffer as t } from \"../../../../geometry/projection.js\";\nimport { pathsToTriangulationInfo as n, CounterClockwiseMode as s } from \"../../../../geometry/support/triangulationUtils.js\";\nimport { applyPerVertexElevationAlignment as i } from \"../../layers/graphics/elevationAlignmentUtils.js\";\nimport { DRAPED_Z as e } from \"../../terrain/OverlayRenderer.js\";\nimport { newDoubleArray as r, doubleSubArray as p } from \"../../webgl-engine/lib/DoubleArray.js\";\nfunction c(o, t, e, p) {\n  const c = n(o.rings, !!o.hasZ, s.CCW_IS_HOLE),\n    l = r(c.position.length),\n    a = i(c.position, o.spatialReference, 0, l, 0, c.position, 0, c.position.length / 3, t, e, p),\n    m = null != a;\n  return new d(c.position, l, h(c.polygons, c.position, l), u(c.outlines, c.position, l), m, a);\n}\nfunction l(o, i) {\n  const r = n(o.rings, !1, s.CCW_IS_HOLE),\n    p = t(r.position, o.spatialReference, 0, r.position, i, 0, r.position.length / 3);\n  for (let t = 2; t < r.position.length; t += 3) r.position[t] = e;\n  return {\n    position: r.position,\n    polygons: h(r.polygons, r.position),\n    outlines: u(r.outlines, r.position),\n    projectionSuccess: p\n  };\n}\nfunction u(t, n) {\n  let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  return t.filter(_ref => {\n    let {\n      count: o\n    } = _ref;\n    return o > 1;\n  }).map(_ref2 => {\n    let {\n      index: t,\n      count: i\n    } = _ref2;\n    const e = 3 * t,\n      r = 3 * i;\n    return o(s) ? new m(t, i, p(n, e, r), p(s, e, r)) : new a(t, i, p(n, e, r));\n  });\n}\nfunction h(t, n) {\n  let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  const i = (o(s), new Array());\n  for (const {\n    index: e,\n    count: r,\n    holeIndices: c,\n    pathLengths: l\n  } of t) {\n    if (r <= 1) continue;\n    const t = 3 * e,\n      u = 3 * r,\n      h = c.map(o => o - e),\n      a = o(s) ? new g(e, r, p(n, 3 * e, 3 * r), p(s, t, u), h, l) : new f(e, r, p(n, 3 * e, 3 * r), h, l);\n    i.push(a);\n  }\n  return i;\n}\nclass a {\n  constructor(o, t, n) {\n    this.index = o, this.count = t, this.position = n;\n  }\n}\nclass m extends a {\n  constructor(o, t, n, s) {\n    super(o, t, n), this.mapPositions = s;\n  }\n}\nclass g extends m {\n  constructor(o, t, n, s, i, e) {\n    super(o, t, n, s), this.holeIndices = i, this.pathLengths = e;\n  }\n}\nclass f extends a {\n  constructor(o, t, n, s, i) {\n    super(o, t, n), this.holeIndices = s, this.pathLengths = i;\n  }\n}\nclass d {\n  constructor(o, t, n, s, i, e) {\n    this.position = o, this.mapPositions = t, this.polygons = n, this.outlines = s, this.projectionSuccess = i, this.sampledElevation = e;\n  }\n}\nexport { d as PolygonRenderInfo, g as PolygonVertexData, f as PolygonVertexDataDraped, c as geometryToRenderInfo, l as geometryToRenderInfoDraped };","map":{"version":3,"names":["isSome","o","projectBuffer","t","pathsToTriangulationInfo","n","CounterClockwiseMode","s","applyPerVertexElevationAlignment","i","DRAPED_Z","e","newDoubleArray","r","doubleSubArray","p","c","rings","hasZ","CCW_IS_HOLE","l","position","length","a","spatialReference","m","d","h","polygons","u","outlines","projectionSuccess","arguments","undefined","filter","_ref","count","map","_ref2","index","Array","holeIndices","pathLengths","g","f","push","constructor","mapPositions","sampledElevation","PolygonRenderInfo","PolygonVertexData","PolygonVertexDataDraped","geometryToRenderInfo","geometryToRenderInfoDraped"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/support/renderInfoUtils/polygon.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as o}from\"../../../../core/maybe.js\";import{projectBuffer as t}from\"../../../../geometry/projection.js\";import{pathsToTriangulationInfo as n,CounterClockwiseMode as s}from\"../../../../geometry/support/triangulationUtils.js\";import{applyPerVertexElevationAlignment as i}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{DRAPED_Z as e}from\"../../terrain/OverlayRenderer.js\";import{newDoubleArray as r,doubleSubArray as p}from\"../../webgl-engine/lib/DoubleArray.js\";function c(o,t,e,p){const c=n(o.rings,!!o.hasZ,s.CCW_IS_HOLE),l=r(c.position.length),a=i(c.position,o.spatialReference,0,l,0,c.position,0,c.position.length/3,t,e,p),m=null!=a;return new d(c.position,l,h(c.polygons,c.position,l),u(c.outlines,c.position,l),m,a)}function l(o,i){const r=n(o.rings,!1,s.CCW_IS_HOLE),p=t(r.position,o.spatialReference,0,r.position,i,0,r.position.length/3);for(let t=2;t<r.position.length;t+=3)r.position[t]=e;return{position:r.position,polygons:h(r.polygons,r.position),outlines:u(r.outlines,r.position),projectionSuccess:p}}function u(t,n,s=null){return t.filter((({count:o})=>o>1)).map((({index:t,count:i})=>{const e=3*t,r=3*i;return o(s)?new m(t,i,p(n,e,r),p(s,e,r)):new a(t,i,p(n,e,r))}))}function h(t,n,s=null){const i=(o(s),new Array);for(const{index:e,count:r,holeIndices:c,pathLengths:l}of t){if(r<=1)continue;const t=3*e,u=3*r,h=c.map((o=>o-e)),a=o(s)?new g(e,r,p(n,3*e,3*r),p(s,t,u),h,l):new f(e,r,p(n,3*e,3*r),h,l);i.push(a)}return i}class a{constructor(o,t,n){this.index=o,this.count=t,this.position=n}}class m extends a{constructor(o,t,n,s){super(o,t,n),this.mapPositions=s}}class g extends m{constructor(o,t,n,s,i,e){super(o,t,n,s),this.holeIndices=i,this.pathLengths=e}}class f extends a{constructor(o,t,n,s,i){super(o,t,n),this.holeIndices=s,this.pathLengths=i}}class d{constructor(o,t,n,s,i,e){this.position=o,this.mapPositions=t,this.polygons=n,this.outlines=s,this.projectionSuccess=i,this.sampledElevation=e}}export{d as PolygonRenderInfo,g as PolygonVertexData,f as PolygonVertexDataDraped,c as geometryToRenderInfo,l as geometryToRenderInfoDraped};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}