{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as e, unwrapOr as r } from \"../../../core/maybe.js\";\nimport { c as t, d as n, g as o, b as i, a as s, e as a, l as c } from \"../../../chunks/vec3.js\";\nimport { c as l } from \"../../../chunks/vec3f64.js\";\nimport { getReferenceEllipsoid as d } from \"../../../geometry/ellipsoidUtils.js\";\nimport { containsPoint as u } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { newIntersector as f } from \"../webgl-engine/lib/Intersector.js\";\nfunction g(r, t, n, o) {\n  return e(r.renderCoordsHelper.fromRenderCoords(t.eye, j, o)) && u(n, j);\n}\nfunction m(e, t) {\n  return e.elevationProvider ? r(e.elevationProvider.getElevation(t[0], t[1], t[2], e.renderCoordsHelper.spatialReference, \"ground\"), 0) : 0;\n}\nfunction p(e, r, a, c) {\n  const l = e.state.camera.clone();\n  r && a && c && (l.eye = r, l.center = a, l.up = c), v(e, l.ray, w) || t(w, l.center);\n  const d = e.state.constraints,\n    u = d.minimumPoiDistance;\n  if (n(l.eye, w) < u) {\n    const r = d.collision.enabled;\n    t(H, l.viewForward), o(H, H, u), r ? l.eye = i(j, w, H) : s(w, l.eye, H);\n    const n = e.renderCoordsHelper,\n      a = n.getAltitude(l.eye),\n      c = d.collision.elevationMargin;\n    r && a < c && (i(H, w, l.eye), l.eye = n.setAltitude(j, c, l.eye), s(w, l.eye, H));\n  }\n  return l.center = w, l;\n}\nfunction y(e, r, t) {\n  if (!e.state.isGlobal || !e.stateManager.constraintsManager) return !1;\n  const o = m(e, r),\n    i = e.stateManager.constraintsManager.nearFarHeuristic,\n    {\n      far: s\n    } = i.compute(r, t, e.renderDataExtent, o, C),\n    a = s * s;\n  return n(r, t) > a;\n}\nfunction v(e, r, t) {\n  let n = M[e.viewingMode];\n  n || (n = f(e.state.viewingMode), n.options.backfacesTerrain = !e.state.isGlobal, n.options.invisibleTerrain = !0, M[e.viewingMode] = n);\n  const {\n    isGlobal: o\n  } = e.state;\n  return !(!e.sceneIntersectionHelper.intersectRay(r, n, t) || y(e, r.origin, t)) || !(!e.renderCoordsHelper.intersectManifold(r, 0, t) || y(e, r.origin, t)) || !!o && b(r, t, d(e.spatialReference).radius);\n}\nfunction b(e, r, t) {\n  const n = a(e.origin, e.origin) - t * t,\n    i = n > 0 ? Math.sqrt(n) / 3 : 1;\n  return o(r, e.direction, i / c(e.direction)), s(r, r, e.origin), !0;\n}\nconst M = {},\n  j = l(),\n  w = l(),\n  H = l(),\n  C = {\n    near: 0,\n    far: 0\n  };\nexport { p as cameraOnContentAlongViewDirection, g as eyeWithinExtent, m as surfaceElevationBelowRenderLocation };","map":{"version":3,"names":["isSome","e","unwrapOr","r","c","t","d","n","g","o","b","i","a","s","l","getReferenceEllipsoid","containsPoint","u","newIntersector","f","renderCoordsHelper","fromRenderCoords","eye","j","m","elevationProvider","getElevation","spatialReference","p","state","camera","clone","center","up","v","ray","w","constraints","minimumPoiDistance","collision","enabled","H","viewForward","getAltitude","elevationMargin","setAltitude","y","isGlobal","stateManager","constraintsManager","nearFarHeuristic","far","compute","renderDataExtent","C","M","viewingMode","options","backfacesTerrain","invisibleTerrain","sceneIntersectionHelper","intersectRay","origin","intersectManifold","radius","Math","sqrt","direction","near","cameraOnContentAlongViewDirection","eyeWithinExtent","surfaceElevationBelowRenderLocation"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/camera/intersectionUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrapOr as r}from\"../../../core/maybe.js\";import{c as t,d as n,g as o,b as i,a as s,e as a,l as c}from\"../../../chunks/vec3.js\";import{c as l}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as d}from\"../../../geometry/ellipsoidUtils.js\";import{containsPoint as u}from\"../../../geometry/support/aaBoundingRect.js\";import{newIntersector as f}from\"../webgl-engine/lib/Intersector.js\";function g(r,t,n,o){return e(r.renderCoordsHelper.fromRenderCoords(t.eye,j,o))&&u(n,j)}function m(e,t){return e.elevationProvider?r(e.elevationProvider.getElevation(t[0],t[1],t[2],e.renderCoordsHelper.spatialReference,\"ground\"),0):0}function p(e,r,a,c){const l=e.state.camera.clone();r&&a&&c&&(l.eye=r,l.center=a,l.up=c),v(e,l.ray,w)||t(w,l.center);const d=e.state.constraints,u=d.minimumPoiDistance;if(n(l.eye,w)<u){const r=d.collision.enabled;t(H,l.viewForward),o(H,H,u),r?l.eye=i(j,w,H):s(w,l.eye,H);const n=e.renderCoordsHelper,a=n.getAltitude(l.eye),c=d.collision.elevationMargin;r&&a<c&&(i(H,w,l.eye),l.eye=n.setAltitude(j,c,l.eye),s(w,l.eye,H))}return l.center=w,l}function y(e,r,t){if(!e.state.isGlobal||!e.stateManager.constraintsManager)return!1;const o=m(e,r),i=e.stateManager.constraintsManager.nearFarHeuristic,{far:s}=i.compute(r,t,e.renderDataExtent,o,C),a=s*s;return n(r,t)>a}function v(e,r,t){let n=M[e.viewingMode];n||(n=f(e.state.viewingMode),n.options.backfacesTerrain=!e.state.isGlobal,n.options.invisibleTerrain=!0,M[e.viewingMode]=n);const{isGlobal:o}=e.state;return!(!e.sceneIntersectionHelper.intersectRay(r,n,t)||y(e,r.origin,t))||(!(!e.renderCoordsHelper.intersectManifold(r,0,t)||y(e,r.origin,t))||!!o&&b(r,t,d(e.spatialReference).radius))}function b(e,r,t){const n=a(e.origin,e.origin)-t*t,i=n>0?Math.sqrt(n)/3:1;return o(r,e.direction,i/c(e.direction)),s(r,r,e.origin),!0}const M={},j=l(),w=l(),H=l(),C={near:0,far:0};export{p as cameraOnContentAlongViewDirection,g as eyeWithinExtent,m as surfaceElevationBelowRenderLocation};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}