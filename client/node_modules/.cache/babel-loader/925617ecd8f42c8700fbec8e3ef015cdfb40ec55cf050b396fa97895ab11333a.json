{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { releaseMaybe as t, isSome as e, isNone as s } from \"../../../../core/maybe.js\";\nimport { isPromiseLike as i } from \"../../../../core/promiseUtils.js\";\nimport { NoParameters as r } from \"../core/shaderModules/interfaces.js\";\nimport { ResourceState as u } from \"./basicInterfaces.js\";\nimport l from \"./GLMaterial.js\";\nclass h extends l {\n  constructor(t) {\n    super(t), this._numLoading = 0, this._disposed = !1, this._textureRepository = t.textureRep, this._textureId = t.textureId, this._acquire(t.textureId, t => this._texture = t), this._acquire(t.normalTextureId, t => this._textureNormal = t), this._acquire(t.emissiveTextureId, t => this._textureEmissive = t), this._acquire(t.occlusionTextureId, t => this._textureOcclusion = t), this._acquire(t.metallicRoughnessTextureId, t => this._textureMetallicRoughness = t);\n  }\n  dispose() {\n    this._texture = t(this._texture), this._textureNormal = t(this._textureNormal), this._textureEmissive = t(this._textureEmissive), this._textureOcclusion = t(this._textureOcclusion), this._textureMetallicRoughness = t(this._textureMetallicRoughness), this._disposed = !0;\n  }\n  ensureResources(t) {\n    return 0 === this._numLoading ? u.LOADED : u.LOADING;\n  }\n  get textureBindParameters() {\n    return new o(e(this._texture) ? this._texture.glTexture : null, e(this._textureNormal) ? this._textureNormal.glTexture : null, e(this._textureEmissive) ? this._textureEmissive.glTexture : null, e(this._textureOcclusion) ? this._textureOcclusion.glTexture : null, e(this._textureMetallicRoughness) ? this._textureMetallicRoughness.glTexture : null);\n  }\n  updateTexture(e) {\n    (s(this._texture) || e !== this._texture.id) && (this._texture = t(this._texture), this._textureId = e, this._acquire(this._textureId, t => this._texture = t));\n  }\n  _acquire(e, r) {\n    if (s(e)) return void r(null);\n    const u = this._textureRepository.acquire(e);\n    if (i(u)) return ++this._numLoading, void u.then(e => {\n      if (this._disposed) return t(e), void r(null);\n      r(e);\n    }).finally(() => --this._numLoading);\n    r(u);\n  }\n}\nclass o extends r {\n  constructor() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    let r = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n    super(), this.texture = t, this.textureNormal = e, this.textureEmissive = s, this.textureOcclusion = i, this.textureMetallicRoughness = r;\n  }\n}\nexport { h as GLTextureMaterial, o as GLTextureMaterialBindParameters };","map":{"version":3,"names":["releaseMaybe","t","isSome","e","isNone","s","isPromiseLike","i","NoParameters","r","ResourceState","u","l","h","constructor","_numLoading","_disposed","_textureRepository","textureRep","_textureId","textureId","_acquire","_texture","normalTextureId","_textureNormal","emissiveTextureId","_textureEmissive","occlusionTextureId","_textureOcclusion","metallicRoughnessTextureId","_textureMetallicRoughness","dispose","ensureResources","LOADED","LOADING","textureBindParameters","o","glTexture","updateTexture","id","acquire","then","finally","arguments","length","undefined","texture","textureNormal","textureEmissive","textureOcclusion","textureMetallicRoughness","GLTextureMaterial","GLTextureMaterialBindParameters"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as t,isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{isPromiseLike as i}from\"../../../../core/promiseUtils.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ResourceState as u}from\"./basicInterfaces.js\";import l from\"./GLMaterial.js\";class h extends l{constructor(t){super(t),this._numLoading=0,this._disposed=!1,this._textureRepository=t.textureRep,this._textureId=t.textureId,this._acquire(t.textureId,(t=>this._texture=t)),this._acquire(t.normalTextureId,(t=>this._textureNormal=t)),this._acquire(t.emissiveTextureId,(t=>this._textureEmissive=t)),this._acquire(t.occlusionTextureId,(t=>this._textureOcclusion=t)),this._acquire(t.metallicRoughnessTextureId,(t=>this._textureMetallicRoughness=t))}dispose(){this._texture=t(this._texture),this._textureNormal=t(this._textureNormal),this._textureEmissive=t(this._textureEmissive),this._textureOcclusion=t(this._textureOcclusion),this._textureMetallicRoughness=t(this._textureMetallicRoughness),this._disposed=!0}ensureResources(t){return 0===this._numLoading?u.LOADED:u.LOADING}get textureBindParameters(){return new o(e(this._texture)?this._texture.glTexture:null,e(this._textureNormal)?this._textureNormal.glTexture:null,e(this._textureEmissive)?this._textureEmissive.glTexture:null,e(this._textureOcclusion)?this._textureOcclusion.glTexture:null,e(this._textureMetallicRoughness)?this._textureMetallicRoughness.glTexture:null)}updateTexture(e){(s(this._texture)||e!==this._texture.id)&&(this._texture=t(this._texture),this._textureId=e,this._acquire(this._textureId,(t=>this._texture=t)))}_acquire(e,r){if(s(e))return void r(null);const u=this._textureRepository.acquire(e);if(i(u))return++this._numLoading,void u.then((e=>{if(this._disposed)return t(e),void r(null);r(e)})).finally((()=>--this._numLoading));r(u)}}class o extends r{constructor(t=null,e=null,s=null,i=null,r=null){super(),this.texture=t,this.textureNormal=e,this.textureEmissive=s,this.textureOcclusion=i,this.textureMetallicRoughness=r}}export{h as GLTextureMaterial,o as GLTextureMaterialBindParameters};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}