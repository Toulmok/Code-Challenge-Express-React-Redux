{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isNone as e, isSome as t, unwrapOr as r } from \"../../../../core/maybe.js\";\nimport i from \"../../../../core/PooledArray.js\";\nimport { castRenderScreenPointArray3 as n, createRenderScreenPointArray3 as s } from \"../../../../core/screenUtils.js\";\nimport { a as o, n as a } from \"../../../../chunks/vec3.js\";\nimport { c } from \"../../../../chunks/vec3f64.js\";\nimport { create as l, copy as h, NEGATIVE_INFINITY as u, width as d, height as p, expandPointInPlace as m } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { create as y } from \"../../../../geometry/support/ray.js\";\nimport { sv3d as g } from \"../../../../geometry/support/vectorStacks.js\";\nimport { ViewingMode as f } from \"../../../ViewingMode.js\";\nimport { fromRenderAtEye as _, fromScreen as R } from \"../../support/geometryUtils/ray.js\";\nimport { DEFAULT_TOLERANCE as v, newIntersector as I } from \"../../webgl-engine/lib/Intersector.js\";\nimport { StoreResults as b, IntersectorType as w } from \"../../webgl-engine/lib/IntersectorInterfaces.js\";\nimport { isValidIntersectorResult as P, sliceFilterPredicate as M } from \"../../webgl-engine/lib/intersectorUtils.js\";\nclass j {\n  constructor(e, t, r) {\n    this.viewingMode = e, this._forEachLayer = t, this._view = r, this._externalIntersectionHandlers = new i(), this._tolerance = v, this._tmpRay = y(), this._tmpRegion = l(), this._validateHUDIntersector = I(this.viewingMode), this._validateHUDIntersector.options.hud = !1;\n  }\n  intersectScreen(e, t, r) {\n    return this.intersectRay(this._getPickRay(e, this._tmpRay), L(this.viewingMode), t, r);\n  }\n  intersectScreenFreePointFallback(e, t, r) {\n    return this.intersectRayFreePointFallback(this._getPickRay(e, this._tmpRay), t, r);\n  }\n  intersectRayFreePointFallback(e, t, r) {\n    return this.intersectRay(e, L(this.viewingMode), t, r) || this._intersectRayFreePointLocal(e, t);\n  }\n  intersectRay(e, t, r, i) {\n    return t.options.selectionMode = !1, t.options.store = b.MIN, this.computeIntersection(e, t, i), !!t.results.min && t.results.min.getIntersectionPoint(r);\n  }\n  getCenterRayWithSubpixelOffset(e, t) {\n    let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : .5;\n    let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : .5;\n    return e.getRenderCenter(F, r, i), F[0] += .0466, F[1] -= .0123, _(e, F, t);\n  }\n  intersectIntersectorScreen(e, t, r) {\n    this.computeIntersection(this._getPickRay(e, this._tmpRay), t, r);\n  }\n  intersectToolIntersectorScreen(e, t, r) {\n    const i = this._getPickRay(e, this._tmpRay);\n    this.intersectToolIntersectorRay(i, t, r);\n  }\n  intersectToolIntersectorRay(e, t, r) {\n    t.options.selectionMode = !0, this.computeIntersection(e, t, r);\n    const i = t.results.min;\n    !!this._view.basemapTerrain && this._view.basemapTerrain.opaque || P(i) && i.intersector !== w.TERRAIN || (t.options.selectionMode = !1, this.computeIntersection(e, t, r));\n  }\n  setTolerance() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : v;\n    this._tolerance = e;\n  }\n  addIntersectionHandler(e) {\n    this._externalIntersectionHandlers.push(e), this._externalIntersectionHandlers.sort((e, t) => e.type === w.TERRAIN ? 1 : t.type === w.TERRAIN ? -1 : 0);\n  }\n  removeIntersectionHandler(e) {\n    null != this._externalIntersectionHandlers.removeUnordered(e) && this._externalIntersectionHandlers.sort((e, t) => e.type === w.TERRAIN ? 1 : t.type === w.TERRAIN ? -1 : 0);\n  }\n  _getPickRay(e, t) {\n    const r = this._view.state.camera;\n    return R(r, e, t);\n  }\n  _intersectRayFreePointLocal(t, r) {\n    return this.viewingMode !== f.Local || e(t) || o(r, t.origin, a(g.get(), t.direction)), !1;\n  }\n  intersectElevationFromScreen(e, t) {\n    let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    return this._intersectElevation(this._getPickRay(e, this._tmpRay), t, r, i);\n  }\n  _intersectElevation(i, s) {\n    let a = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    let c = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    if (e(i)) return null;\n    const l = t(s) ? s.mode : \"absolute-height\",\n      h = t(s) ? r(s.offset, 0) : 0,\n      u = \"on-the-ground\" !== l ? h + a : 0,\n      d = u / this._view.renderCoordsHelper.unitInMeters;\n    if (\"absolute-height\" === l) {\n      if (this._view.renderCoordsHelper.intersectInfiniteManifold(i, u, A)) {\n        const e = this._view.computeMapPointFromVec3d(A);\n        return e.z ?? (e.z = 0), e.z -= h, e;\n      }\n      return null;\n    }\n    const p = this._view.state.camera,\n      m = n(g.get());\n    p.projectToRenderScreen(i.origin, m);\n    const y = new T(null, this._forEachLayer),\n      f = this._view.slicePlane,\n      _ = t(f) ? M(f) : null,\n      R = I(this.viewingMode);\n    R.options.store = b.MIN, R.options.verticalOffset = d;\n    const v = i.origin,\n      P = o(g.get(), v, i.direction);\n    R.reset(v, P, p), R.point = m;\n    const j = t(c) ? \"type\" in c && \"graphics\" === c.type ? e => e.metadata?.layerUid !== c.uid : e => e.metadata?.graphicUid !== c.uid : null;\n    switch (l) {\n      case \"relative-to-scene\":\n        {\n          const t = t => (e(j) || j(t)) && !!t.metadata?.isElevationSource;\n          R.intersect(y.layers, m, this._tolerance, null, t), this._externalIntersectionHandlers.forAll(e => {\n            if (e.type === w.I3S || e.type === w.TERRAIN) {\n              const t = e.slicePlaneEnabled ? _ : null;\n              e.intersect(R, t, R.rayBegin, R.rayEnd, m);\n            }\n          });\n          break;\n        }\n      case \"on-the-ground\":\n      case \"relative-to-ground\":\n        this._externalIntersectionHandlers.forAll(e => {\n          if (e.isGround) {\n            const t = e.slicePlaneEnabled ? _ : null;\n            e.intersect(R, t, R.rayBegin, R.rayEnd, m);\n          }\n        });\n    }\n    if (R.results.min.getIntersectionPoint(A)) {\n      const e = this._view.computeMapPointFromVec3d(A);\n      return e.z = a, e;\n    }\n    return null;\n  }\n  computeIntersection(i, s, a) {\n    if (e(i)) return;\n    const c = this._view.state.camera,\n      l = n(g.get());\n    c.projectToRenderScreen(i.origin, l);\n    const h = new T(a, this._forEachLayer);\n    s.options.selectOpaqueTerrainOnly = !a || !(\"include\" in a || \"exclude\" in a);\n    const u = i.origin,\n      d = o(g.get(), i.origin, i.direction);\n    s.reset(u, d, c), s.intersect(h.layers, l, this._tolerance);\n    const p = this._view.slicePlane,\n      m = t(p) ? M(p) : null;\n    s.intersect(h.sliceableLayers, l, this._tolerance, m);\n    const y = a && (a.requiresGroundFeedback || a.enableDraped);\n    this._externalIntersectionHandlers.forAll(e => {\n      const t = e.layerUid,\n        r = Array.isArray(t),\n        i = r ? t : [t];\n      r && (s.options.filteredLayerUids = []);\n      let n = !1;\n      for (const o of i) {\n        !h.filterLayerUid(o) ? r && s.options.filteredLayerUids.push(o) : n = !0;\n      }\n      if (s.options.isFiltered = !n, e.isGround && y || !s.options.isFiltered) {\n        const t = e.slicePlaneEnabled ? m : null;\n        e.intersect(s, t, u, d, l);\n      }\n    });\n    const f = g.get(),\n      _ = this._view.basemapTerrain;\n    if (a && a.enableDraped && t(_.spatialReference) && s.results.ground.getIntersectionPoint(f)) {\n      const e = _.overlayManager.renderer,\n        t = this._view.renderCoordsHelper.spatialReference,\n        i = g.get();\n      this._view.renderCoordsHelper.fromRenderCoords(f, i, _.spatialReference), i[2] = r(this._view.elevationProvider?.getElevation(f[0], f[1], f[2], t, \"ground\"), 0), e.intersect(s, i, s.results.ground, e => h.filterRenderGeometry(e));\n    }\n    s.sortResults(), this._processHUDResults(s);\n  }\n  _processHUDResults(r) {\n    const i = r.results.hud;\n    h(this._tmpRegion, u);\n    const n = this._view.state.camera,\n      s = [],\n      o = this._tmpRegion,\n      a = e => {\n        const t = new H(e);\n        n.projectToRenderScreen(e.target.center, t.screenPoint), t.screenPoint[0] = Math.floor(t.screenPoint[0]), t.screenPoint[1] = Math.floor(t.screenPoint[1]), s.push(t), m(o, t.screenPoint);\n      };\n    r.sortResults(i.all), t(i.min.dist) && a(i.min);\n    for (const e of i.all) i.min.target.object !== e.target.object && i.max.target.object !== e.target.object && a(e);\n    if (t(i.max.dist) && i.max.target.object !== i.min.target.object && a(i.max), !s.length) return;\n    o[0] === o[2] && (o[2] += 1), o[1] === o[3] && (o[3] += 1);\n    const c = n.fullWidth,\n      l = n.fullHeight,\n      y = Math.max(0, o[0] - x),\n      g = Math.max(0, o[1] - x),\n      f = Math.min(d(o) + 2 * x, c - y),\n      _ = Math.min(p(o) + 2 * x, l - g),\n      R = new Uint8Array(f * _ * 4);\n    this._view._stage.renderer.readHUDVisibility(y, g, f, _, R);\n    let v = !0;\n    const I = e(r.results.max.dist);\n    let w = 0;\n    for (const e of s) for (const t of U) {\n      if (R[4 * (Math.min(e.screenPoint[0] + t[0], c) - o[0] + (Math.min(e.screenPoint[1] + t[1], l) - o[1]) * f)]) {\n        v && (r.results.min.copy(e.result), v = !1), I && r.results.max.copy(e.result), r.options.store === b.ALL && r.results.all.splice(w++, 0, e.result);\n        break;\n      }\n    }\n  }\n}\nconst x = 1,\n  U = (() => {\n    const e = [],\n      t = x;\n    for (let r = -t; r <= t; r++) for (let i = -t; i <= t; i++) e.push([i + t, r + t]);\n    return e;\n  })();\nclass H {\n  constructor(e) {\n    this.result = e, this.screenPoint = s();\n  }\n}\nlet E;\nfunction L(e) {\n  return E && E.viewingMode === e || (E = I(e)), E;\n}\nclass T {\n  constructor(e, t) {\n    this.layers = new Array(), this.sliceableLayers = new Array(), this.include = e?.include, this.exclude = e?.exclude, t(e => {\n      e.pickable && this.filterLayerUid(e.apiLayerUid) && (e.sliceable ? this.sliceableLayers : this.layers).push(e);\n    });\n  }\n  filterLayerUid(t) {\n    const {\n      include: r,\n      exclude: i\n    } = this;\n    return e(t) ? null == r && null == i : (null == r || r.has(t)) && (null == i || !i.has(t));\n  }\n  filterRenderGeometry(e) {\n    return this.filterLayerUid(e.layerUid);\n  }\n}\nfunction k(e) {\n  return \"object\" == typeof e && \"intersect\" in e;\n}\nconst A = c(),\n  F = s();\nexport { j as SceneIntersectionHelper, k as isIntersectionHandler };","map":{"version":3,"names":["isNone","e","isSome","t","unwrapOr","r","i","castRenderScreenPointArray3","n","createRenderScreenPointArray3","s","a","o","c","create","l","copy","h","NEGATIVE_INFINITY","u","width","d","height","p","expandPointInPlace","m","y","sv3d","g","ViewingMode","f","fromRenderAtEye","_","fromScreen","R","DEFAULT_TOLERANCE","v","newIntersector","I","StoreResults","b","IntersectorType","w","isValidIntersectorResult","P","sliceFilterPredicate","M","j","constructor","viewingMode","_forEachLayer","_view","_externalIntersectionHandlers","_tolerance","_tmpRay","_tmpRegion","_validateHUDIntersector","options","hud","intersectScreen","intersectRay","_getPickRay","L","intersectScreenFreePointFallback","intersectRayFreePointFallback","_intersectRayFreePointLocal","selectionMode","store","MIN","computeIntersection","results","min","getIntersectionPoint","getCenterRayWithSubpixelOffset","arguments","length","undefined","getRenderCenter","F","intersectIntersectorScreen","intersectToolIntersectorScreen","intersectToolIntersectorRay","basemapTerrain","opaque","intersector","TERRAIN","setTolerance","addIntersectionHandler","push","sort","type","removeIntersectionHandler","removeUnordered","state","camera","Local","origin","get","direction","intersectElevationFromScreen","_intersectElevation","mode","offset","renderCoordsHelper","unitInMeters","intersectInfiniteManifold","A","computeMapPointFromVec3d","z","projectToRenderScreen","T","slicePlane","verticalOffset","reset","point","metadata","layerUid","uid","graphicUid","isElevationSource","intersect","layers","forAll","I3S","slicePlaneEnabled","rayBegin","rayEnd","isGround","selectOpaqueTerrainOnly","sliceableLayers","requiresGroundFeedback","enableDraped","Array","isArray","filteredLayerUids","filterLayerUid","isFiltered","spatialReference","ground","overlayManager","renderer","fromRenderCoords","elevationProvider","getElevation","filterRenderGeometry","sortResults","_processHUDResults","H","target","center","screenPoint","Math","floor","all","dist","object","max","fullWidth","fullHeight","x","Uint8Array","_stage","readHUDVisibility","U","result","ALL","splice","E","include","exclude","pickable","apiLayerUid","sliceable","has","k","SceneIntersectionHelper","isIntersectionHandler"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/state/helpers/SceneIntersectionHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t,unwrapOr as r}from\"../../../../core/maybe.js\";import i from\"../../../../core/PooledArray.js\";import{castRenderScreenPointArray3 as n,createRenderScreenPointArray3 as s}from\"../../../../core/screenUtils.js\";import{a as o,n as a}from\"../../../../chunks/vec3.js\";import{c}from\"../../../../chunks/vec3f64.js\";import{create as l,copy as h,NEGATIVE_INFINITY as u,width as d,height as p,expandPointInPlace as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{create as y}from\"../../../../geometry/support/ray.js\";import{sv3d as g}from\"../../../../geometry/support/vectorStacks.js\";import{ViewingMode as f}from\"../../../ViewingMode.js\";import{fromRenderAtEye as _,fromScreen as R}from\"../../support/geometryUtils/ray.js\";import{DEFAULT_TOLERANCE as v,newIntersector as I}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as b,IntersectorType as w}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{isValidIntersectorResult as P,sliceFilterPredicate as M}from\"../../webgl-engine/lib/intersectorUtils.js\";class j{constructor(e,t,r){this.viewingMode=e,this._forEachLayer=t,this._view=r,this._externalIntersectionHandlers=new i,this._tolerance=v,this._tmpRay=y(),this._tmpRegion=l(),this._validateHUDIntersector=I(this.viewingMode),this._validateHUDIntersector.options.hud=!1}intersectScreen(e,t,r){return this.intersectRay(this._getPickRay(e,this._tmpRay),L(this.viewingMode),t,r)}intersectScreenFreePointFallback(e,t,r){return this.intersectRayFreePointFallback(this._getPickRay(e,this._tmpRay),t,r)}intersectRayFreePointFallback(e,t,r){return this.intersectRay(e,L(this.viewingMode),t,r)||this._intersectRayFreePointLocal(e,t)}intersectRay(e,t,r,i){return t.options.selectionMode=!1,t.options.store=b.MIN,this.computeIntersection(e,t,i),!!t.results.min&&t.results.min.getIntersectionPoint(r)}getCenterRayWithSubpixelOffset(e,t,r=.5,i=.5){return e.getRenderCenter(F,r,i),F[0]+=.0466,F[1]-=.0123,_(e,F,t)}intersectIntersectorScreen(e,t,r){this.computeIntersection(this._getPickRay(e,this._tmpRay),t,r)}intersectToolIntersectorScreen(e,t,r){const i=this._getPickRay(e,this._tmpRay);this.intersectToolIntersectorRay(i,t,r)}intersectToolIntersectorRay(e,t,r){t.options.selectionMode=!0,this.computeIntersection(e,t,r);const i=t.results.min;!!this._view.basemapTerrain&&this._view.basemapTerrain.opaque||P(i)&&i.intersector!==w.TERRAIN||(t.options.selectionMode=!1,this.computeIntersection(e,t,r))}setTolerance(e=v){this._tolerance=e}addIntersectionHandler(e){this._externalIntersectionHandlers.push(e),this._externalIntersectionHandlers.sort(((e,t)=>e.type===w.TERRAIN?1:t.type===w.TERRAIN?-1:0))}removeIntersectionHandler(e){null!=this._externalIntersectionHandlers.removeUnordered(e)&&this._externalIntersectionHandlers.sort(((e,t)=>e.type===w.TERRAIN?1:t.type===w.TERRAIN?-1:0))}_getPickRay(e,t){const r=this._view.state.camera;return R(r,e,t)}_intersectRayFreePointLocal(t,r){return this.viewingMode!==f.Local||e(t)||o(r,t.origin,a(g.get(),t.direction)),!1}intersectElevationFromScreen(e,t,r=0,i=null){return this._intersectElevation(this._getPickRay(e,this._tmpRay),t,r,i)}_intersectElevation(i,s,a=0,c=null){if(e(i))return null;const l=t(s)?s.mode:\"absolute-height\",h=t(s)?r(s.offset,0):0,u=\"on-the-ground\"!==l?h+a:0,d=u/this._view.renderCoordsHelper.unitInMeters;if(\"absolute-height\"===l){if(this._view.renderCoordsHelper.intersectInfiniteManifold(i,u,A)){const e=this._view.computeMapPointFromVec3d(A);return e.z??(e.z=0),e.z-=h,e}return null}const p=this._view.state.camera,m=n(g.get());p.projectToRenderScreen(i.origin,m);const y=new T(null,this._forEachLayer),f=this._view.slicePlane,_=t(f)?M(f):null,R=I(this.viewingMode);R.options.store=b.MIN,R.options.verticalOffset=d;const v=i.origin,P=o(g.get(),v,i.direction);R.reset(v,P,p),R.point=m;const j=t(c)?\"type\"in c&&\"graphics\"===c.type?e=>e.metadata?.layerUid!==c.uid:e=>e.metadata?.graphicUid!==c.uid:null;switch(l){case\"relative-to-scene\":{const t=t=>(e(j)||j(t))&&!!t.metadata?.isElevationSource;R.intersect(y.layers,m,this._tolerance,null,t),this._externalIntersectionHandlers.forAll((e=>{if(e.type===w.I3S||e.type===w.TERRAIN){const t=e.slicePlaneEnabled?_:null;e.intersect(R,t,R.rayBegin,R.rayEnd,m)}}));break}case\"on-the-ground\":case\"relative-to-ground\":this._externalIntersectionHandlers.forAll((e=>{if(e.isGround){const t=e.slicePlaneEnabled?_:null;e.intersect(R,t,R.rayBegin,R.rayEnd,m)}}))}if(R.results.min.getIntersectionPoint(A)){const e=this._view.computeMapPointFromVec3d(A);return e.z=a,e}return null}computeIntersection(i,s,a){if(e(i))return;const c=this._view.state.camera,l=n(g.get());c.projectToRenderScreen(i.origin,l);const h=new T(a,this._forEachLayer);s.options.selectOpaqueTerrainOnly=!a||!(\"include\"in a||\"exclude\"in a);const u=i.origin,d=o(g.get(),i.origin,i.direction);s.reset(u,d,c),s.intersect(h.layers,l,this._tolerance);const p=this._view.slicePlane,m=t(p)?M(p):null;s.intersect(h.sliceableLayers,l,this._tolerance,m);const y=a&&(a.requiresGroundFeedback||a.enableDraped);this._externalIntersectionHandlers.forAll((e=>{const t=e.layerUid,r=Array.isArray(t),i=r?t:[t];r&&(s.options.filteredLayerUids=[]);let n=!1;for(const o of i){!h.filterLayerUid(o)?r&&s.options.filteredLayerUids.push(o):n=!0}if(s.options.isFiltered=!n,e.isGround&&y||!s.options.isFiltered){const t=e.slicePlaneEnabled?m:null;e.intersect(s,t,u,d,l)}}));const f=g.get(),_=this._view.basemapTerrain;if(a&&a.enableDraped&&t(_.spatialReference)&&s.results.ground.getIntersectionPoint(f)){const e=_.overlayManager.renderer,t=this._view.renderCoordsHelper.spatialReference,i=g.get();this._view.renderCoordsHelper.fromRenderCoords(f,i,_.spatialReference),i[2]=r(this._view.elevationProvider?.getElevation(f[0],f[1],f[2],t,\"ground\"),0),e.intersect(s,i,s.results.ground,(e=>h.filterRenderGeometry(e)))}s.sortResults(),this._processHUDResults(s)}_processHUDResults(r){const i=r.results.hud;h(this._tmpRegion,u);const n=this._view.state.camera,s=[],o=this._tmpRegion,a=e=>{const t=new H(e);n.projectToRenderScreen(e.target.center,t.screenPoint),t.screenPoint[0]=Math.floor(t.screenPoint[0]),t.screenPoint[1]=Math.floor(t.screenPoint[1]),s.push(t),m(o,t.screenPoint)};r.sortResults(i.all),t(i.min.dist)&&a(i.min);for(const e of i.all)i.min.target.object!==e.target.object&&i.max.target.object!==e.target.object&&a(e);if(t(i.max.dist)&&i.max.target.object!==i.min.target.object&&a(i.max),!s.length)return;o[0]===o[2]&&(o[2]+=1),o[1]===o[3]&&(o[3]+=1);const c=n.fullWidth,l=n.fullHeight,y=Math.max(0,o[0]-x),g=Math.max(0,o[1]-x),f=Math.min(d(o)+2*x,c-y),_=Math.min(p(o)+2*x,l-g),R=new Uint8Array(f*_*4);this._view._stage.renderer.readHUDVisibility(y,g,f,_,R);let v=!0;const I=e(r.results.max.dist);let w=0;for(const e of s)for(const t of U){if(R[4*(Math.min(e.screenPoint[0]+t[0],c)-o[0]+(Math.min(e.screenPoint[1]+t[1],l)-o[1])*f)]){v&&(r.results.min.copy(e.result),v=!1),I&&r.results.max.copy(e.result),r.options.store===b.ALL&&r.results.all.splice(w++,0,e.result);break}}}}const x=1,U=(()=>{const e=[],t=x;for(let r=-t;r<=t;r++)for(let i=-t;i<=t;i++)e.push([i+t,r+t]);return e})();class H{constructor(e){this.result=e,this.screenPoint=s()}}let E;function L(e){return E&&E.viewingMode===e||(E=I(e)),E}class T{constructor(e,t){this.layers=new Array,this.sliceableLayers=new Array,this.include=e?.include,this.exclude=e?.exclude,t((e=>{e.pickable&&this.filterLayerUid(e.apiLayerUid)&&(e.sliceable?this.sliceableLayers:this.layers).push(e)}))}filterLayerUid(t){const{include:r,exclude:i}=this;return e(t)?null==r&&null==i:(null==r||r.has(t))&&(null==i||!i.has(t))}filterRenderGeometry(e){return this.filterLayerUid(e.layerUid)}}function k(e){return\"object\"==typeof e&&\"intersect\"in e}const A=c(),F=s();export{j as SceneIntersectionHelper,k as isIntersectionHandler};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}