{"ast":null,"code":"import _regeneratorRuntime from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _createForOfIteratorHelper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { addTokenParameter as t } from \"../../../kernel.js\";\nimport o from \"../../../request.js\";\nimport { addProxy as e } from \"../../../core/urlUtils.js\";\nimport { mapParameters as n } from \"../../operations/urlUtils.js\";\nimport r from \"../support/AttachmentInfo.js\";\nfunction s(t) {\n  var o = t.toJSON();\n  return o.attachmentTypes && (o.attachmentTypes = o.attachmentTypes.join(\",\")), o.keywords && (o.keywords = o.keywords.join(\",\")), o.globalIds && (o.globalIds = o.globalIds.join(\",\")), o.objectIds && (o.objectIds = o.objectIds.join(\",\")), o.size && (o.size = o.size.join(\",\")), o;\n}\nfunction a(o, n) {\n  var s = {};\n  var _iterator = _createForOfIteratorHelper(n),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _a = _step.value;\n      var _n = _a.parentObjectId,\n        _c = _a.parentGlobalId,\n        _m = _a.attachmentInfos;\n      var _iterator2 = _createForOfIteratorHelper(_m),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _a2 = _step2.value;\n          var _m2 = _a2.id,\n            p = e(t(\"\".concat(o.path, \"/\").concat(_n, \"/attachments/\").concat(_m2))),\n            i = r.fromJSON(_a2);\n          i.set({\n            url: p,\n            parentObjectId: _n,\n            parentGlobalId: _c\n          }), s[_n] ? s[_n].push(i) : s[_n] = [i];\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return s;\n}\nfunction c(t, e, r) {\n  var a = {\n    query: n(_objectSpread(_objectSpread({}, t.query), {}, {\n      f: \"json\"\n    }, s(e)))\n  };\n  return r && (a = _objectSpread(_objectSpread(_objectSpread({}, r), a), {}, {\n    query: _objectSpread(_objectSpread({}, r.query), a.query)\n  })), o(t.path + \"/queryAttachments\", a).then(function (t) {\n    return t.data.attachmentGroups;\n  });\n}\nfunction m(_x, _x2, _x3) {\n  return _m3.apply(this, arguments);\n}\nfunction _m3() {\n  _m3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(t, e, n) {\n    var r, s, _iterator3, _step3, _a3;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          r = e.objectIds, s = [];\n          _iterator3 = _createForOfIteratorHelper(r);\n          try {\n            for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n              _a3 = _step3.value;\n              s.push(o(t.path + \"/\" + _a3 + \"/attachments\", n));\n            }\n          } catch (err) {\n            _iterator3.e(err);\n          } finally {\n            _iterator3.f();\n          }\n          return _context.abrupt(\"return\", Promise.all(s).then(function (t) {\n            return r.map(function (o, e) {\n              return {\n                parentObjectId: o,\n                attachmentInfos: t[e].data.attachmentInfos\n              };\n            });\n          }));\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _m3.apply(this, arguments);\n}\nexport { c as executeAttachmentQuery, m as fetchAttachments, a as processAttachmentQueryResult };","map":{"version":3,"names":["addTokenParameter","t","o","addProxy","e","mapParameters","n","r","s","toJSON","attachmentTypes","join","keywords","globalIds","objectIds","size","a","_iterator","_createForOfIteratorHelper","_step","done","value","parentObjectId","c","parentGlobalId","m","attachmentInfos","_iterator2","_step2","id","p","concat","path","i","fromJSON","set","url","push","err","f","query","_objectSpread","then","data","attachmentGroups","_x","_x2","_x3","_m3","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_iterator3","_step3","_a3","wrap","_callee$","_context","prev","next","abrupt","Promise","all","map","stop","executeAttachmentQuery","fetchAttachments","processAttachmentQueryResult"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/rest/query/operations/queryAttachments.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{addTokenParameter as t}from\"../../../kernel.js\";import o from\"../../../request.js\";import{addProxy as e}from\"../../../core/urlUtils.js\";import{mapParameters as n}from\"../../operations/urlUtils.js\";import r from\"../support/AttachmentInfo.js\";function s(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o}function a(o,n){const s={};for(const a of n){const{parentObjectId:n,parentGlobalId:c,attachmentInfos:m}=a;for(const a of m){const{id:m}=a,p=e(t(`${o.path}/${n}/attachments/${m}`)),i=r.fromJSON(a);i.set({url:p,parentObjectId:n,parentGlobalId:c}),s[n]?s[n].push(i):s[n]=[i]}}return s}function c(t,e,r){let a={query:n({...t.query,f:\"json\",...s(e)})};return r&&(a={...r,...a,query:{...r.query,...a.query}}),o(t.path+\"/queryAttachments\",a).then((t=>t.data.attachmentGroups))}async function m(t,e,n){const{objectIds:r}=e,s=[];for(const a of r)s.push(o(t.path+\"/\"+a+\"/attachments\",n));return Promise.all(s).then((t=>r.map(((o,e)=>({parentObjectId:o,attachmentInfos:t[e].data.attachmentInfos})))))}export{c as executeAttachmentQuery,m as fetchAttachments,a as processAttachmentQueryResult};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}