{"ast":null,"code":"import _regeneratorRuntime from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _createForOfIteratorHelper from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../chunks/tslib.es6.js\";\nimport { isSome as a } from \"../../core/maybe.js\";\nimport { property as s } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { reader as i } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as e } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as t } from \"../../core/accessorSupport/decorators/writer.js\";\nimport { collectField as o, collectArcadeFieldNames as l } from \"../../layers/support/fieldUtils.js\";\nimport { matchRandomRotationExpression as u } from \"../support/randomRotationExpression.js\";\nimport p from \"../visualVariables/ColorVariable.js\";\nimport V from \"../visualVariables/OpacityVariable.js\";\nimport n from \"../visualVariables/RotationVariable.js\";\nimport c from \"../visualVariables/SizeVariable.js\";\nimport b from \"../visualVariables/VisualVariable.js\";\nimport m from \"../visualVariables/VisualVariableFactory.js\";\nvar v = {\n    base: b,\n    key: \"type\",\n    typeMap: {\n      opacity: V,\n      color: p,\n      rotation: n,\n      size: c\n    }\n  },\n  y = function y(a) {\n    var u = /*#__PURE__*/function (_a) {\n      _inherits(u, _a);\n      var _super = _createSuper(u);\n      function u() {\n        var _this;\n        _classCallCheck(this, u);\n        _this = _super.apply(this, arguments), _this._vvFactory = new m();\n        return _this;\n      }\n      _createClass(u, [{\n        key: \"visualVariables\",\n        set: function set(r) {\n          this._vvFactory.visualVariables = r, this._set(\"visualVariables\", this._vvFactory.visualVariables);\n        }\n      }, {\n        key: \"readVisualVariables\",\n        value: function readVisualVariables(r, a, s) {\n          return this._vvFactory.readVariables(r, a, s);\n        }\n      }, {\n        key: \"writeVisualVariables\",\n        value: function writeVisualVariables(r, a, s, i) {\n          a[s] = this._vvFactory.writeVariables(r, i);\n        }\n      }, {\n        key: \"arcadeRequiredForVisualVariables\",\n        get: function get() {\n          if (!this.visualVariables) return !1;\n          var _iterator = _createForOfIteratorHelper(this.visualVariables),\n            _step;\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var _r = _step.value;\n              if (_r.arcadeRequired) return !0;\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n          return !1;\n        }\n      }, {\n        key: \"hasVisualVariables\",\n        value: function hasVisualVariables(r, a) {\n          return r ? this.getVisualVariablesForType(r, a).length > 0 : this.getVisualVariablesForType(\"size\", a).length > 0 || this.getVisualVariablesForType(\"color\", a).length > 0 || this.getVisualVariablesForType(\"opacity\", a).length > 0 || this.getVisualVariablesForType(\"rotation\", a).length > 0;\n        }\n      }, {\n        key: \"getVisualVariablesForType\",\n        value: function getVisualVariablesForType(r, a) {\n          var s = this.visualVariables;\n          return s ? s.filter(function (s) {\n            return s.type === r && (\"string\" == typeof a ? s.target === a : !1 !== a || !s.target);\n          }) : [];\n        }\n      }, {\n        key: \"collectVVRequiredFields\",\n        value: function () {\n          var _collectVVRequiredFields = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(r, a) {\n            var s, _iterator2, _step2, _i;\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1) switch (_context.prev = _context.next) {\n                case 0:\n                  s = [];\n                  this.visualVariables && (s = s.concat(this.visualVariables));\n                  _iterator2 = _createForOfIteratorHelper(s);\n                  _context.prev = 3;\n                  _iterator2.s();\n                case 5:\n                  if ((_step2 = _iterator2.n()).done) {\n                    _context.next = 19;\n                    break;\n                  }\n                  _i = _step2.value;\n                  _context.t0 = _i;\n                  if (!_context.t0) {\n                    _context.next = 17;\n                    break;\n                  }\n                  _i.field && o(r, a, _i.field);\n                  _i.normalizationField && o(r, a, _i.normalizationField);\n                  _context.t1 = _i.valueExpression;\n                  if (!_context.t1) {\n                    _context.next = 17;\n                    break;\n                  }\n                  _context.t2 = f(_i.valueExpression, r, a);\n                  if (_context.t2) {\n                    _context.next = 17;\n                    break;\n                  }\n                  _context.next = 17;\n                  return l(r, a, _i.valueExpression);\n                case 17:\n                  _context.next = 5;\n                  break;\n                case 19:\n                  _context.next = 24;\n                  break;\n                case 21:\n                  _context.prev = 21;\n                  _context.t3 = _context[\"catch\"](3);\n                  _iterator2.e(_context.t3);\n                case 24:\n                  _context.prev = 24;\n                  _iterator2.f();\n                  return _context.finish(24);\n                case 27:\n                case \"end\":\n                  return _context.stop();\n              }\n            }, _callee, this, [[3, 21, 24, 27]]);\n          }));\n          function collectVVRequiredFields(_x, _x2) {\n            return _collectVVRequiredFields.apply(this, arguments);\n          }\n          return collectVVRequiredFields;\n        }()\n      }]);\n      return u;\n    }(a);\n    return r([s({\n      types: [v],\n      value: null,\n      json: {\n        write: !0\n      }\n    })], u.prototype, \"visualVariables\", null), r([i(\"visualVariables\", [\"visualVariables\", \"rotationType\", \"rotationExpression\"])], u.prototype, \"readVisualVariables\", null), r([t(\"visualVariables\")], u.prototype, \"writeVisualVariables\", null), u = r([e(\"esri.renderers.mixins.VisualVariablesMixin\")], u), u;\n  };\nfunction f(r, s, i) {\n  var e = u(r);\n  return !!a(e) && (o(s, i, e), !0);\n}\nexport { y as VisualVariablesMixin };","map":{"version":3,"names":["_","r","isSome","a","property","s","reader","i","subclass","e","writer","t","collectField","o","collectArcadeFieldNames","l","matchRandomRotationExpression","u","p","V","n","c","b","m","v","base","key","typeMap","opacity","color","rotation","size","y","_a","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","_vvFactory","_createClass","set","visualVariables","_set","value","readVisualVariables","readVariables","writeVisualVariables","writeVariables","get","_iterator","_createForOfIteratorHelper","_step","done","arcadeRequired","err","f","hasVisualVariables","getVisualVariablesForType","length","filter","type","target","_collectVVRequiredFields","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_iterator2","_step2","_i","wrap","_callee$","_context","prev","next","concat","t0","field","normalizationField","t1","valueExpression","t2","t3","finish","stop","collectVVRequiredFields","_x","_x2","types","json","write","prototype","VisualVariablesMixin"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/renderers/mixins/VisualVariablesMixin.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{isSome as a}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as t}from\"../../core/accessorSupport/decorators/writer.js\";import{collectField as o,collectArcadeFieldNames as l}from\"../../layers/support/fieldUtils.js\";import{matchRandomRotationExpression as u}from\"../support/randomRotationExpression.js\";import p from\"../visualVariables/ColorVariable.js\";import V from\"../visualVariables/OpacityVariable.js\";import n from\"../visualVariables/RotationVariable.js\";import c from\"../visualVariables/SizeVariable.js\";import b from\"../visualVariables/VisualVariable.js\";import m from\"../visualVariables/VisualVariableFactory.js\";const v={base:b,key:\"type\",typeMap:{opacity:V,color:p,rotation:n,size:c}},y=a=>{let u=class extends a{constructor(){super(...arguments),this._vvFactory=new m}set visualVariables(r){this._vvFactory.visualVariables=r,this._set(\"visualVariables\",this._vvFactory.visualVariables)}readVisualVariables(r,a,s){return this._vvFactory.readVariables(r,a,s)}writeVisualVariables(r,a,s,i){a[s]=this._vvFactory.writeVariables(r,i)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const r of this.visualVariables)if(r.arcadeRequired)return!0;return!1}hasVisualVariables(r,a){return r?this.getVisualVariablesForType(r,a).length>0:this.getVisualVariablesForType(\"size\",a).length>0||this.getVisualVariablesForType(\"color\",a).length>0||this.getVisualVariablesForType(\"opacity\",a).length>0||this.getVisualVariablesForType(\"rotation\",a).length>0}getVisualVariablesForType(r,a){const s=this.visualVariables;return s?s.filter((s=>s.type===r&&(\"string\"==typeof a?s.target===a:!1!==a||!s.target))):[]}async collectVVRequiredFields(r,a){let s=[];this.visualVariables&&(s=s.concat(this.visualVariables));for(const i of s)i&&(i.field&&o(r,a,i.field),i.normalizationField&&o(r,a,i.normalizationField),i.valueExpression&&(f(i.valueExpression,r,a)||await l(r,a,i.valueExpression)))}};return r([s({types:[v],value:null,json:{write:!0}})],u.prototype,\"visualVariables\",null),r([i(\"visualVariables\",[\"visualVariables\",\"rotationType\",\"rotationExpression\"])],u.prototype,\"readVisualVariables\",null),r([t(\"visualVariables\")],u.prototype,\"writeVisualVariables\",null),u=r([e(\"esri.renderers.mixins.VisualVariablesMixin\")],u),u};function f(r,s,i){const e=u(r);return!!a(e)&&(o(s,i,e),!0)}export{y as VisualVariablesMixin};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}