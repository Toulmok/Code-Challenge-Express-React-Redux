{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { ArcadeExecutionError as n, ExecutionErrorCodes as t } from \"../executionError.js\";\nimport { y as r, T as e, m as a, c as i, x as s, A as c } from \"../../chunks/languageUtils.js\";\nimport { calculateStat as u } from \"./fieldStats.js\";\nimport { WhereClause as o } from \"../../core/sql/WhereClause.js\";\nasync function f(n, t, r, i, f, d) {\n  if (1 === i.length) {\n    if (a(i[0])) return u(n, i[0], c(i[1], -1));\n    if (s(i[0])) return u(n, i[0].toArray(), c(i[1], -1));\n  } else if (2 === i.length) {\n    if (a(i[0])) return u(n, i[0], c(i[1], -1));\n    if (s(i[0])) return u(n, i[0].toArray(), c(i[1], -1));\n    if (e(i[0])) {\n      const r = await i[0].load(),\n        e = await l(o.create(i[1], r.getFieldsIndex()), d, f);\n      return i[0].calculateStatistic(n, e, c(i[2], 1e3), t.abortSignal);\n    }\n  } else if (3 === i.length && e(i[0])) {\n    const r = await i[0].load(),\n      e = await l(o.create(i[1], r.getFieldsIndex()), d, f);\n    return i[0].calculateStatistic(n, e, c(i[2], 1e3), t.abortSignal);\n  }\n  return u(n, i, -1);\n}\nasync function l(n, t, r) {\n  const e = n.getVariables();\n  if (e.length > 0) {\n    const a = [];\n    for (let n = 0; n < e.length; n++) {\n      const i = {\n        name: e[n]\n      };\n      a.push(await t.evaluateIdentifier(r, i));\n    }\n    const i = {};\n    for (let n = 0; n < e.length; n++) i[e[n]] = a[n];\n    return n.parameters = i, n;\n  }\n  return n;\n}\nfunction d(c) {\n  \"async\" === c.mode && (c.functions.stdev = function (n, t) {\n    return c.standardFunctionAsync(n, t, (t, r, e) => f(\"stdev\", t, r, e, n, c));\n  }, c.functions.variance = function (n, t) {\n    return c.standardFunctionAsync(n, t, (t, r, e) => f(\"variance\", t, r, e, n, c));\n  }, c.functions.average = function (n, t) {\n    return c.standardFunctionAsync(n, t, (t, r, e) => f(\"mean\", t, r, e, n, c));\n  }, c.functions.mean = function (n, t) {\n    return c.standardFunctionAsync(n, t, (t, r, e) => f(\"mean\", t, r, e, n, c));\n  }, c.functions.sum = function (n, t) {\n    return c.standardFunctionAsync(n, t, (t, r, e) => f(\"sum\", t, r, e, n, c));\n  }, c.functions.min = function (n, t) {\n    return c.standardFunctionAsync(n, t, (t, r, e) => f(\"min\", t, r, e, n, c));\n  }, c.functions.max = function (n, t) {\n    return c.standardFunctionAsync(n, t, (t, r, e) => f(\"max\", t, r, e, n, c));\n  }, c.functions.count = function (u, o) {\n    return c.standardFunctionAsync(u, o, (c, f, l) => {\n      if (r(l, 1, 1, u, o), e(l[0])) return l[0].count(c.abortSignal);\n      if (a(l[0]) || i(l[0])) return l[0].length;\n      if (s(l[0])) return l[0].length();\n      throw new n(u, t.InvalidParameter, o);\n    });\n  });\n}\nexport { d as registerFunctions };","map":{"version":3,"names":["ArcadeExecutionError","n","ExecutionErrorCodes","t","y","r","T","e","m","a","c","i","x","s","A","calculateStat","u","WhereClause","o","f","d","length","toArray","load","l","create","getFieldsIndex","calculateStatistic","abortSignal","getVariables","name","push","evaluateIdentifier","parameters","mode","functions","stdev","standardFunctionAsync","variance","average","mean","sum","min","max","count","InvalidParameter","registerFunctions"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/arcade/functions/featuresetstats.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{ArcadeExecutionError as n,ExecutionErrorCodes as t}from\"../executionError.js\";import{y as r,T as e,m as a,c as i,x as s,A as c}from\"../../chunks/languageUtils.js\";import{calculateStat as u}from\"./fieldStats.js\";import{WhereClause as o}from\"../../core/sql/WhereClause.js\";async function f(n,t,r,i,f,d){if(1===i.length){if(a(i[0]))return u(n,i[0],c(i[1],-1));if(s(i[0]))return u(n,i[0].toArray(),c(i[1],-1))}else if(2===i.length){if(a(i[0]))return u(n,i[0],c(i[1],-1));if(s(i[0]))return u(n,i[0].toArray(),c(i[1],-1));if(e(i[0])){const r=await i[0].load(),e=await l(o.create(i[1],r.getFieldsIndex()),d,f);return i[0].calculateStatistic(n,e,c(i[2],1e3),t.abortSignal)}}else if(3===i.length&&e(i[0])){const r=await i[0].load(),e=await l(o.create(i[1],r.getFieldsIndex()),d,f);return i[0].calculateStatistic(n,e,c(i[2],1e3),t.abortSignal)}return u(n,i,-1)}async function l(n,t,r){const e=n.getVariables();if(e.length>0){const a=[];for(let n=0;n<e.length;n++){const i={name:e[n]};a.push(await t.evaluateIdentifier(r,i))}const i={};for(let n=0;n<e.length;n++)i[e[n]]=a[n];return n.parameters=i,n}return n}function d(c){\"async\"===c.mode&&(c.functions.stdev=function(n,t){return c.standardFunctionAsync(n,t,((t,r,e)=>f(\"stdev\",t,r,e,n,c)))},c.functions.variance=function(n,t){return c.standardFunctionAsync(n,t,((t,r,e)=>f(\"variance\",t,r,e,n,c)))},c.functions.average=function(n,t){return c.standardFunctionAsync(n,t,((t,r,e)=>f(\"mean\",t,r,e,n,c)))},c.functions.mean=function(n,t){return c.standardFunctionAsync(n,t,((t,r,e)=>f(\"mean\",t,r,e,n,c)))},c.functions.sum=function(n,t){return c.standardFunctionAsync(n,t,((t,r,e)=>f(\"sum\",t,r,e,n,c)))},c.functions.min=function(n,t){return c.standardFunctionAsync(n,t,((t,r,e)=>f(\"min\",t,r,e,n,c)))},c.functions.max=function(n,t){return c.standardFunctionAsync(n,t,((t,r,e)=>f(\"max\",t,r,e,n,c)))},c.functions.count=function(u,o){return c.standardFunctionAsync(u,o,((c,f,l)=>{if(r(l,1,1,u,o),e(l[0]))return l[0].count(c.abortSignal);if(a(l[0])||i(l[0]))return l[0].length;if(s(l[0]))return l[0].length();throw new n(u,t.InvalidParameter,o)}))})}export{d as registerFunctions};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}