{"ast":null,"code":"import _regeneratorRuntime from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport r from \"../../core/Error.js\";\nimport o from \"../../core/ItemCache.js\";\nimport { isSome as t, unwrapOrThrow as n } from \"../../core/maybe.js\";\nimport { size as i, create as s } from \"../../geometry/support/aaBoundingBox.js\";\nimport { objectSymbolLayerSizeWithResourceSize as u, objectSymbolLayerPrimitiveBoundingBox as c } from \"./symbolLayerUtils3D.js\";\nvar a = m();\nfunction m() {\n  return new o(50);\n}\nfunction y() {\n  a = m();\n}\nfunction f(e, o) {\n  if (\"icon\" === e.type) return p(e, o);\n  if (\"object\" === e.type) return d(e, o);\n  throw new r(\"symbol3d:unsupported-symbol-layer\", \"computeLayerSize only works with symbol layers of type Icon and Object\");\n}\nfunction l(_x, _x2) {\n  return _l.apply(this, arguments);\n}\nfunction _l() {\n  _l = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e, o) {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!(\"icon\" === e.type)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", h(e, o));\n        case 2:\n          if (!(\"object\" === e.type)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", w(e, o));\n        case 4:\n          throw new r(\"symbol3d:unsupported-symbol-layer\", \"computeLayerSize only works with symbol layers of type Icon and Object\");\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _l.apply(this, arguments);\n}\nfunction p(_x3, _x4) {\n  return _p.apply(this, arguments);\n}\nfunction _p() {\n  _p = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e, o) {\n    var _e$resource, _e$resource2;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          if (!((_e$resource = e.resource) !== null && _e$resource !== void 0 && _e$resource.href)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", b(e.resource.href).then(function (e) {\n            return [e.width, e.height];\n          }));\n        case 2:\n          if (!((_e$resource2 = e.resource) !== null && _e$resource2 !== void 0 && _e$resource2.primitive)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", t(o) ? [o, o] : [256, 256]);\n        case 4:\n          throw new r(\"symbol3d:invalid-symbol-layer\", \"symbol layers of type Icon must have either an href or a primitive resource\");\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _p.apply(this, arguments);\n}\nfunction h(e, r) {\n  return p(e, r).then(function (r) {\n    if (null == e.size) return r;\n    var o = r[0] / r[1];\n    return o > 1 ? [e.size, e.size / o] : [e.size * o, e.size];\n  });\n}\nfunction b(r) {\n  return e(r, {\n    responseType: \"image\"\n  }).then(function (e) {\n    return e.data;\n  });\n}\nfunction d(e, r) {\n  return j(e, r).then(function (e) {\n    return i(e);\n  });\n}\nfunction w(_x5, _x6) {\n  return _w.apply(this, arguments);\n}\nfunction _w() {\n  _w = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e, r) {\n    var o;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return d(e, r);\n        case 2:\n          o = _context3.sent;\n          return _context3.abrupt(\"return\", u(o, e));\n        case 4:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return _w.apply(this, arguments);\n}\nfunction j(_x7, _x8) {\n  return _j.apply(this, arguments);\n}\nfunction _j() {\n  _j = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(e, o) {\n    var _e$resource3, _r, _o, _t, _i, i, _r2;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          if (e.isPrimitive) {\n            _context4.next = 11;\n            break;\n          }\n          _r = n((_e$resource3 = e.resource) === null || _e$resource3 === void 0 ? void 0 : _e$resource3.href), _o = a.get(_r);\n          if (!(void 0 !== _o)) {\n            _context4.next = 4;\n            break;\n          }\n          return _context4.abrupt(\"return\", _o);\n        case 4:\n          _context4.next = 6;\n          return import(\"../../views/3d/layers/graphics/objectResourceUtils.js\");\n        case 6:\n          _t = _context4.sent;\n          _context4.next = 9;\n          return _t.fetch(_r, {\n            disableTextures: !0\n          });\n        case 9:\n          _i = _context4.sent;\n          return _context4.abrupt(\"return\", (a.put(_r, _i.referenceBoundingBox), _i.referenceBoundingBox));\n        case 11:\n          i = null;\n          if (e.resource && e.resource.primitive && (i = s(c(e.resource.primitive)), t(o))) for (_r2 = 0; _r2 < i.length; _r2++) i[_r2] *= o;\n          return _context4.abrupt(\"return\", i ? Promise.resolve(i) : Promise.reject(new r(\"symbol:invalid-resource\", \"The symbol does not have a valid resource\")));\n        case 14:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return _j.apply(this, arguments);\n}\nexport { y as clearBoundingBoxCache, p as computeIconLayerResourceSize, f as computeLayerResourceSize, l as computeLayerSize, d as computeObjectLayerResourceSize };","map":{"version":3,"names":["e","r","o","isSome","t","unwrapOrThrow","n","size","i","create","s","objectSymbolLayerSizeWithResourceSize","u","objectSymbolLayerPrimitiveBoundingBox","c","a","m","y","f","type","p","d","l","_x","_x2","_l","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","h","w","stop","_x3","_x4","_p","_callee2","_e$resource","_e$resource2","_callee2$","_context2","resource","href","b","then","width","height","primitive","responseType","data","j","_x5","_x6","_w","_callee3","_callee3$","_context3","sent","_x7","_x8","_j","_callee4","_e$resource3","_r","_o","_t","_i","_r2","_callee4$","_context4","isPrimitive","get","fetch","disableTextures","put","referenceBoundingBox","length","Promise","resolve","reject","clearBoundingBoxCache","computeIconLayerResourceSize","computeLayerResourceSize","computeLayerSize","computeObjectLayerResourceSize"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/symbols/support/symbolLayerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../core/Error.js\";import o from\"../../core/ItemCache.js\";import{isSome as t,unwrapOrThrow as n}from\"../../core/maybe.js\";import{size as i,create as s}from\"../../geometry/support/aaBoundingBox.js\";import{objectSymbolLayerSizeWithResourceSize as u,objectSymbolLayerPrimitiveBoundingBox as c}from\"./symbolLayerUtils3D.js\";let a=m();function m(){return new o(50)}function y(){a=m()}function f(e,o){if(\"icon\"===e.type)return p(e,o);if(\"object\"===e.type)return d(e,o);throw new r(\"symbol3d:unsupported-symbol-layer\",\"computeLayerSize only works with symbol layers of type Icon and Object\")}async function l(e,o){if(\"icon\"===e.type)return h(e,o);if(\"object\"===e.type)return w(e,o);throw new r(\"symbol3d:unsupported-symbol-layer\",\"computeLayerSize only works with symbol layers of type Icon and Object\")}async function p(e,o){if(e.resource?.href)return b(e.resource.href).then((e=>[e.width,e.height]));if(e.resource?.primitive)return t(o)?[o,o]:[256,256];throw new r(\"symbol3d:invalid-symbol-layer\",\"symbol layers of type Icon must have either an href or a primitive resource\")}function h(e,r){return p(e,r).then((r=>{if(null==e.size)return r;const o=r[0]/r[1];return o>1?[e.size,e.size/o]:[e.size*o,e.size]}))}function b(r){return e(r,{responseType:\"image\"}).then((e=>e.data))}function d(e,r){return j(e,r).then((e=>i(e)))}async function w(e,r){const o=await d(e,r);return u(o,e)}async function j(e,o){if(!e.isPrimitive){const r=n(e.resource?.href),o=a.get(r);if(void 0!==o)return o;const t=await import(\"../../views/3d/layers/graphics/objectResourceUtils.js\"),i=await t.fetch(r,{disableTextures:!0});return a.put(r,i.referenceBoundingBox),i.referenceBoundingBox}let i=null;if(e.resource&&e.resource.primitive&&(i=s(c(e.resource.primitive)),t(o)))for(let r=0;r<i.length;r++)i[r]*=o;return i?Promise.resolve(i):Promise.reject(new r(\"symbol:invalid-resource\",\"The symbol does not have a valid resource\"))}export{y as clearBoundingBoxCache,p as computeIconLayerResourceSize,f as computeLayerResourceSize,l as computeLayerSize,d as computeObjectLayerResourceSize};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}