{"ast":null,"code":"import _toConsumableArray from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { isSome as s, isNone as e } from \"../../../core/maybe.js\";\nimport { property as n } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as r } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { getBandMatrix3 as o } from \"./bandIndexUtils.js\";\nimport i from \"./BaseRasterFunction.js\";\nimport a from \"./ExtractBandFunctionArguments.js\";\nimport { MissingBandAction as u } from \"./pixelUtils.js\";\nvar c = /*#__PURE__*/function (_i) {\n  _inherits(c, _i);\n  var _super = _createSuper(c);\n  function c() {\n    var _this;\n    _classCallCheck(this, c);\n    _this = _super.apply(this, arguments), _this.functionName = \"ExtractBand\", _this.functionArguments = null, _this.rasterArgumentNames = [\"raster\"];\n    return _this;\n  }\n  _createClass(c, [{\n    key: \"_bindSourceRasters\",\n    value: function _bindSourceRasters() {\n      var t = this.sourceRasterInfos,\n        e = t[0],\n        n = e.bandCount,\n        _this$functionArgumen = this.functionArguments,\n        r = _this$functionArgumen.bandIds,\n        o = _this$functionArgumen.missingBandAction;\n      if (o === u.fail && r.some(function (t) {\n        return t < 0 || t >= n;\n      })) return {\n        success: !1,\n        supportsGPU: !1,\n        error: \"extract-band-function: invalid bandIds\"\n      };\n      this.outputPixelType = this._getOutputPixelType(\"f32\");\n      var i = e.clone();\n      i.pixelType = this.outputPixelType, i.bandCount = r.length;\n      var a = i.statistics,\n        _c = i.histograms;\n      s(a) && a.length && (i.statistics = r.map(function (t) {\n        return a[t] || a[a.length - 1];\n      })), s(_c) && _c.length && (i.histograms = r.map(function (t) {\n        return _c[t] || _c[_c.length - 1];\n      })), this.rasterInfo = i;\n      return {\n        success: !0,\n        supportsGPU: i.bandCount <= 3\n      };\n    }\n  }, {\n    key: \"_processPixels\",\n    value: function _processPixels(t) {\n      var _t$pixelBlocks;\n      var s = (_t$pixelBlocks = t.pixelBlocks) === null || _t$pixelBlocks === void 0 ? void 0 : _t$pixelBlocks[0];\n      if (e(s)) return null;\n      var n = s.pixels.length,\n        r = this.functionArguments.bandIds.map(function (t) {\n          return t >= n ? n - 1 : t;\n        });\n      return s.extractBands(r);\n    }\n  }, {\n    key: \"_getWebGLParameters\",\n    value: function _getWebGLParameters() {\n      var t;\n      if (this.isInputBandIdsSwizzled) t = this.swizzledBandSelection.length ? this.swizzledBandSelection : [0, 1, 2];else {\n        var _t$, _t$2;\n        t = _toConsumableArray(this.functionArguments.bandIds), 0 === t.length ? t = [0, 1, 2] : t.length < 3 && (t[1] = (_t$ = t[1]) !== null && _t$ !== void 0 ? _t$ : t[0], t[2] = (_t$2 = t[2]) !== null && _t$2 !== void 0 ? _t$2 : t[1]);\n        for (var _s = 0; _s < 3; _s++) t[_s] = Math.min(t[_s], 2);\n      }\n      return {\n        bandIndexMat3: o(t)\n      };\n    }\n  }, {\n    key: \"_getInputBandIds\",\n    value: function _getInputBandIds(t) {\n      var s = t.length;\n      return this.functionArguments.bandIds.map(function (t) {\n        return t >= s ? s - 1 : t;\n      }).map(function (s) {\n        return t[s];\n      });\n    }\n  }]);\n  return c;\n}(i);\nt([n({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], c.prototype, \"functionName\", void 0), t([n({\n  type: a,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], c.prototype, \"functionArguments\", void 0), t([n()], c.prototype, \"rasterArgumentNames\", void 0), c = t([r(\"esri.layers.support.rasterFunctions.ExtractBandFunction\")], c);\nvar p = c;\nexport { p as default };","map":{"version":3,"names":["_","t","isSome","s","isNone","e","property","n","subclass","r","getBandMatrix3","o","i","a","MissingBandAction","u","c","_i","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","functionName","functionArguments","rasterArgumentNames","_createClass","key","value","_bindSourceRasters","sourceRasterInfos","bandCount","_this$functionArgumen","bandIds","missingBandAction","fail","some","success","supportsGPU","error","outputPixelType","_getOutputPixelType","clone","pixelType","length","statistics","histograms","map","rasterInfo","_processPixels","_t$pixelBlocks","pixelBlocks","pixels","extractBands","_getWebGLParameters","isInputBandIdsSwizzled","swizzledBandSelection","_t$","_t$2","_toConsumableArray","Math","min","bandIndexMat3","_getInputBandIds","json","write","name","prototype","type","p","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/support/rasterFunctions/ExtractBandFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{isSome as s,isNone as e}from\"../../../core/maybe.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{getBandMatrix3 as o}from\"./bandIndexUtils.js\";import i from\"./BaseRasterFunction.js\";import a from\"./ExtractBandFunctionArguments.js\";import{MissingBandAction as u}from\"./pixelUtils.js\";let c=class extends i{constructor(){super(...arguments),this.functionName=\"ExtractBand\",this.functionArguments=null,this.rasterArgumentNames=[\"raster\"]}_bindSourceRasters(){const{sourceRasterInfos:t}=this,e=t[0],{bandCount:n}=e,{bandIds:r,missingBandAction:o}=this.functionArguments;if(o===u.fail&&r.some((t=>t<0||t>=n)))return{success:!1,supportsGPU:!1,error:\"extract-band-function: invalid bandIds\"};this.outputPixelType=this._getOutputPixelType(\"f32\");const i=e.clone();i.pixelType=this.outputPixelType,i.bandCount=r.length;const{statistics:a,histograms:c}=i;s(a)&&a.length&&(i.statistics=r.map((t=>a[t]||a[a.length-1]))),s(c)&&c.length&&(i.histograms=r.map((t=>c[t]||c[c.length-1]))),this.rasterInfo=i;return{success:!0,supportsGPU:i.bandCount<=3}}_processPixels(t){const s=t.pixelBlocks?.[0];if(e(s))return null;const n=s.pixels.length,r=this.functionArguments.bandIds.map((t=>t>=n?n-1:t));return s.extractBands(r)}_getWebGLParameters(){let t;if(this.isInputBandIdsSwizzled)t=this.swizzledBandSelection.length?this.swizzledBandSelection:[0,1,2];else{t=[...this.functionArguments.bandIds],0===t.length?t=[0,1,2]:t.length<3&&(t[1]=t[1]??t[0],t[2]=t[2]??t[1]);for(let s=0;s<3;s++)t[s]=Math.min(t[s],2)}return{bandIndexMat3:o(t)}}_getInputBandIds(t){const s=t.length;return this.functionArguments.bandIds.map((t=>t>=s?s-1:t)).map((s=>t[s]))}};t([n({json:{write:!0,name:\"rasterFunction\"}})],c.prototype,\"functionName\",void 0),t([n({type:a,json:{write:!0,name:\"rasterFunctionArguments\"}})],c.prototype,\"functionArguments\",void 0),t([n()],c.prototype,\"rasterArgumentNames\",void 0),c=t([r(\"esri.layers.support.rasterFunctions.ExtractBandFunction\")],c);const p=c;export{p as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}