{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Error.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/has.js\";\nimport { subclass as r } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport s from \"../../../geometry/Extent.js\";\nimport i from \"./DynamicLayerView3D.js\";\nimport o from \"../../layers/WMSLayerView.js\";\nlet a = class extends o(i) {\n  constructor() {\n    super(...arguments), this.type = \"wms-3d\";\n  }\n  initialize() {\n    this.layer.serviceSupportsSpatialReference(this.view.spatialReference) || this.addResolvingPromise(Promise.reject(new t(\"layerview:spatial-reference-incompatible\", \"The spatial references supported by this WMS layer are incompatible with the spatial reference of the view\"))), this.updatingHandles.add(() => this.exportImageParameters?.version, () => {\n      this.updatingHandles.addPromise(this.refreshDebounced());\n    });\n  }\n  createFetchPopupFeaturesQuery(e) {\n    const t = this.findExtentInfoAt(e),\n      r = t.extent,\n      i = new s(r[0], r[1], r[2], r[3], this._spatialReference),\n      o = t.imageSize,\n      a = o.width,\n      n = o.height,\n      p = i.width / a;\n    return {\n      extent: i,\n      width: a,\n      height: n,\n      x: Math.round((e.x - i.xmin) / p),\n      y: Math.round((i.ymax - e.y) / p)\n    };\n  }\n  getFetchOptions() {\n    return {\n      timeExtent: this.timeExtent\n    };\n  }\n};\na = e([r(\"esri.views.3d.layers.WMSLayerView3D\")], a);\nconst n = a;\nexport { n as default };","map":{"version":3,"names":["_","e","t","subclass","r","s","i","o","a","constructor","arguments","type","initialize","layer","serviceSupportsSpatialReference","view","spatialReference","addResolvingPromise","Promise","reject","updatingHandles","add","exportImageParameters","version","addPromise","refreshDebounced","createFetchPopupFeaturesQuery","findExtentInfoAt","extent","_spatialReference","imageSize","width","n","height","p","x","Math","round","xmin","y","ymax","getFetchOptions","timeExtent","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/WMSLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../geometry/Extent.js\";import i from\"./DynamicLayerView3D.js\";import o from\"../../layers/WMSLayerView.js\";let a=class extends(o(i)){constructor(){super(...arguments),this.type=\"wms-3d\"}initialize(){this.layer.serviceSupportsSpatialReference(this.view.spatialReference)||this.addResolvingPromise(Promise.reject(new t(\"layerview:spatial-reference-incompatible\",\"The spatial references supported by this WMS layer are incompatible with the spatial reference of the view\"))),this.updatingHandles.add((()=>this.exportImageParameters?.version),(()=>{this.updatingHandles.addPromise(this.refreshDebounced())}))}createFetchPopupFeaturesQuery(e){const t=this.findExtentInfoAt(e),r=t.extent,i=new s(r[0],r[1],r[2],r[3],this._spatialReference),o=t.imageSize,a=o.width,n=o.height,p=i.width/a;return{extent:i,width:a,height:n,x:Math.round((e.x-i.xmin)/p),y:Math.round((i.ymax-e.y)/p)}}getFetchOptions(){return{timeExtent:this.timeExtent}}};a=e([r(\"esri.views.3d.layers.WMSLayerView3D\")],a);const n=a;export{n as default};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,QAAK,8BAA8B;AAAC,OAAOC,CAAC,MAAK,wBAAwB;AAAC,OAAM,yBAAyB;AAAC,OAAM,6CAA6C;AAAC,OAAM,6BAA6B;AAAC,OAAM,sBAAsB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,sDAAsD;AAAC,OAAOC,CAAC,MAAK,6BAA6B;AAAC,OAAOC,CAAC,MAAK,yBAAyB;AAAC,OAAOC,CAAC,MAAK,8BAA8B;AAAC,IAAIC,CAAC,GAAC,cAAcD,CAAC,CAACD,CAAC,CAAC,CAAC;EAACG,WAAWA,CAAA,EAAE;IAAC,KAAK,CAAC,GAAGC,SAAS,CAAC,EAAC,IAAI,CAACC,IAAI,GAAC,QAAQ;EAAA;EAACC,UAAUA,CAAA,EAAE;IAAC,IAAI,CAACC,KAAK,CAACC,+BAA+B,CAAC,IAAI,CAACC,IAAI,CAACC,gBAAgB,CAAC,IAAE,IAAI,CAACC,mBAAmB,CAACC,OAAO,CAACC,MAAM,CAAC,IAAIjB,CAAC,CAAC,0CAA0C,EAAC,4GAA4G,CAAC,CAAC,CAAC,EAAC,IAAI,CAACkB,eAAe,CAACC,GAAG,CAAE,MAAI,IAAI,CAACC,qBAAqB,EAAEC,OAAO,EAAG,MAAI;MAAC,IAAI,CAACH,eAAe,CAACI,UAAU,CAAC,IAAI,CAACC,gBAAgB,EAAE,CAAC;IAAA,CAAC,CAAE;EAAA;EAACC,6BAA6BA,CAACzB,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACyB,gBAAgB,CAAC1B,CAAC,CAAC;MAACG,CAAC,GAACF,CAAC,CAAC0B,MAAM;MAACtB,CAAC,GAAC,IAAID,CAAC,CAACD,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACyB,iBAAiB,CAAC;MAACtB,CAAC,GAACL,CAAC,CAAC4B,SAAS;MAACtB,CAAC,GAACD,CAAC,CAACwB,KAAK;MAACC,CAAC,GAACzB,CAAC,CAAC0B,MAAM;MAACC,CAAC,GAAC5B,CAAC,CAACyB,KAAK,GAACvB,CAAC;IAAC,OAAM;MAACoB,MAAM,EAACtB,CAAC;MAACyB,KAAK,EAACvB,CAAC;MAACyB,MAAM,EAACD,CAAC;MAACG,CAAC,EAACC,IAAI,CAACC,KAAK,CAAC,CAACpC,CAAC,CAACkC,CAAC,GAAC7B,CAAC,CAACgC,IAAI,IAAEJ,CAAC,CAAC;MAACK,CAAC,EAACH,IAAI,CAACC,KAAK,CAAC,CAAC/B,CAAC,CAACkC,IAAI,GAACvC,CAAC,CAACsC,CAAC,IAAEL,CAAC;IAAC,CAAC;EAAA;EAACO,eAAeA,CAAA,EAAE;IAAC,OAAM;MAACC,UAAU,EAAC,IAAI,CAACA;IAAU,CAAC;EAAA;AAAC,CAAC;AAAClC,CAAC,GAACP,CAAC,CAAC,CAACG,CAAC,CAAC,qCAAqC,CAAC,CAAC,EAACI,CAAC,CAAC;AAAC,MAAMwB,CAAC,GAACxB,CAAC;AAAC,SAAOwB,CAAC,IAAIW,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}