{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from \"../../Graphic.js\";\nimport { isSome as e } from \"../../core/maybe.js\";\nimport r from \"../../geometry/Extent.js\";\nimport n from \"../../geometry/Mesh.js\";\nimport o from \"../../geometry/Point.js\";\nimport s from \"../../geometry/SpatialReference.js\";\nimport { fromAxisAndAngle as a } from \"../../geometry/support/axisAngleDegrees.js\";\nimport i from \"../../geometry/support/MeshTransform.js\";\nimport c from \"./FeatureSet.js\";\nfunction u(r, n, o) {\n  const a = o.features;\n  o.features = [], delete o.geometryType;\n  const i = c.fromJSON(o);\n  if (i.geometryType = \"mesh\", !o.assetMaps) return i;\n  const u = E(n, o.assetMaps),\n    m = i.spatialReference ?? s.WGS84,\n    p = o.globalIdFieldName,\n    {\n      outFields: g\n    } = r,\n    D = e(g) && g.length > 0 ? l(g.includes(\"*\") ? null : new Set(g)) : () => ({});\n  for (const s of a) {\n    const r = f(s, p, m, n, u);\n    e(r) && i.features.push(new t({\n      geometry: r,\n      attributes: D(s)\n    }));\n  }\n  return i;\n}\nfunction l(t) {\n  return _ref => {\n    let {\n      attributes: e\n    } = _ref;\n    if (!e) return {};\n    if (!t) return e;\n    for (const r in e) t.has(r) || delete e[r];\n    return e;\n  };\n}\nfunction f(t, e, o, s, a) {\n  const i = t.attributes[e],\n    c = a.get(i);\n  if (null == c || c.status === g.FAILED || null == c.url) return null;\n  const u = m(t, o, s),\n    l = r.fromJSON(t.geometry);\n  l.spatialReference = o;\n  const f = p(t.attributes, s, c.projectVertices);\n  return c.status === g.PENDING ? n.createIncomplete(u, {\n    extent: l,\n    transform: f\n  }) : n.createWithExternalSource(u, [{\n    name: c.name,\n    source: c.url\n  }], {\n    extent: l,\n    transform: f\n  });\n}\nfunction m(_ref2, e, _ref3) {\n  let {\n    attributes: t\n  } = _ref2;\n  let {\n    transformFieldRoles: r\n  } = _ref3;\n  return new o({\n    x: t[r.originX],\n    y: t[r.originY],\n    z: t[r.originZ],\n    spatialReference: e\n  });\n}\nfunction p(t, _ref4, r) {\n  let {\n    transformFieldRoles: e\n  } = _ref4;\n  return new i({\n    translation: [t[e.translationX], -t[e.translationZ], t[e.translationY]],\n    rotation: a([t[e.rotationX], t[e.rotationZ], t[e.rotationY]], t[e.rotationDeg]),\n    scale: [t[e.scaleX], t[e.scaleY], t[e.scaleZ]],\n    geographic: r\n  });\n}\nvar g;\nfunction E(t, e) {\n  const r = new Map();\n  for (const n of e) {\n    const t = n.parentGlobalId;\n    if (null == t) continue;\n    const e = n.assetName,\n      o = n.assetURL,\n      s = n.conversionStatus;\n    let a = r.get(t);\n    if (null == a) switch (a = {\n      name: e,\n      status: g.FAILED,\n      url: o,\n      projectVertices: D(n.flags).projectVertices\n    }, r.set(t, a), s) {\n      case \"COMPLETED\":\n      case \"SUBMITTED\":\n        a.status = g.COMPLETED;\n        break;\n      case \"INPROGRESS\":\n        a.status = g.PENDING;\n        break;\n      default:\n        a.status = g.FAILED;\n    } else console.warn(`Multiple asset parts not expected. Ignoring additional parts. conflicting assetname: ${n.assetName}`);\n  }\n  return r;\n}\nfunction D(t) {\n  return {\n    projectVertices: t.includes(\"PROJECT_VERTICES\")\n  };\n}\n!function (t) {\n  t[t.FAILED = 0] = \"FAILED\", t[t.PENDING = 1] = \"PENDING\", t[t.COMPLETED = 2] = \"COMPLETED\";\n}(g || (g = {}));\nexport { u as meshFeatureSetFromJSON };","map":{"version":3,"names":["t","isSome","e","r","n","o","s","fromAxisAndAngle","a","i","c","u","features","geometryType","fromJSON","assetMaps","E","m","spatialReference","WGS84","p","globalIdFieldName","outFields","g","D","length","l","includes","Set","f","push","geometry","attributes","_ref","has","get","status","FAILED","url","projectVertices","PENDING","createIncomplete","extent","transform","createWithExternalSource","name","source","_ref2","_ref3","transformFieldRoles","x","originX","y","originY","z","originZ","_ref4","translation","translationX","translationZ","translationY","rotation","rotationX","rotationZ","rotationY","rotationDeg","scale","scaleX","scaleY","scaleZ","geographic","Map","parentGlobalId","assetName","assetURL","conversionStatus","flags","set","COMPLETED","console","warn","meshFeatureSetFromJSON"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/rest/support/meshFeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../Graphic.js\";import{isSome as e}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import n from\"../../geometry/Mesh.js\";import o from\"../../geometry/Point.js\";import s from\"../../geometry/SpatialReference.js\";import{fromAxisAndAngle as a}from\"../../geometry/support/axisAngleDegrees.js\";import i from\"../../geometry/support/MeshTransform.js\";import c from\"./FeatureSet.js\";function u(r,n,o){const a=o.features;o.features=[],delete o.geometryType;const i=c.fromJSON(o);if(i.geometryType=\"mesh\",!o.assetMaps)return i;const u=E(n,o.assetMaps),m=i.spatialReference??s.WGS84,p=o.globalIdFieldName,{outFields:g}=r,D=e(g)&&g.length>0?l(g.includes(\"*\")?null:new Set(g)):()=>({});for(const s of a){const r=f(s,p,m,n,u);e(r)&&i.features.push(new t({geometry:r,attributes:D(s)}))}return i}function l(t){return({attributes:e})=>{if(!e)return{};if(!t)return e;for(const r in e)t.has(r)||delete e[r];return e}}function f(t,e,o,s,a){const i=t.attributes[e],c=a.get(i);if(null==c||c.status===g.FAILED||null==c.url)return null;const u=m(t,o,s),l=r.fromJSON(t.geometry);l.spatialReference=o;const f=p(t.attributes,s,c.projectVertices);return c.status===g.PENDING?n.createIncomplete(u,{extent:l,transform:f}):n.createWithExternalSource(u,[{name:c.name,source:c.url}],{extent:l,transform:f})}function m({attributes:t},e,{transformFieldRoles:r}){return new o({x:t[r.originX],y:t[r.originY],z:t[r.originZ],spatialReference:e})}function p(t,{transformFieldRoles:e},r){return new i({translation:[t[e.translationX],-t[e.translationZ],t[e.translationY]],rotation:a([t[e.rotationX],t[e.rotationZ],t[e.rotationY]],t[e.rotationDeg]),scale:[t[e.scaleX],t[e.scaleY],t[e.scaleZ]],geographic:r})}var g;function E(t,e){const r=new Map;for(const n of e){const t=n.parentGlobalId;if(null==t)continue;const e=n.assetName,o=n.assetURL,s=n.conversionStatus;let a=r.get(t);if(null==a)switch(a={name:e,status:g.FAILED,url:o,projectVertices:D(n.flags).projectVertices},r.set(t,a),s){case\"COMPLETED\":case\"SUBMITTED\":a.status=g.COMPLETED;break;case\"INPROGRESS\":a.status=g.PENDING;break;default:a.status=g.FAILED}else console.warn(`Multiple asset parts not expected. Ignoring additional parts. conflicting assetname: ${n.assetName}`)}return r}function D(t){return{projectVertices:t.includes(\"PROJECT_VERTICES\")}}!function(t){t[t.FAILED=0]=\"FAILED\",t[t.PENDING=1]=\"PENDING\",t[t.COMPLETED=2]=\"COMPLETED\"}(g||(g={}));export{u as meshFeatureSetFromJSON};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}