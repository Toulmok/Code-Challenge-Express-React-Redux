{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { s as e } from \"../../../../../../chunks/vec4.js\";\nimport { c as a } from \"../../../../../../chunks/vec4f64.js\";\nimport { Float4PassUniform as r } from \"../../shaderModules/Float4PassUniform.js\";\nimport { glsl as s } from \"../../shaderModules/interfaces.js\";\nfunction c(e) {\n  e.vertex.code.add(s`float screenSizePerspectiveMinSize(float size, vec4 factor) {\nfloat nonZeroSize = 1.0 - step(size, 0.0);\nreturn (\nfactor.z * (\n1.0 +\nnonZeroSize *\n2.0 * factor.w / (\nsize + (1.0 - nonZeroSize)\n)\n)\n);\n}`), e.vertex.code.add(s`float screenSizePerspectiveViewAngleDependentFactor(float absCosAngle) {\nreturn absCosAngle * absCosAngle * absCosAngle;\n}`), e.vertex.code.add(s`vec4 screenSizePerspectiveScaleFactor(float absCosAngle, float distanceToCamera, vec4 params) {\nreturn vec4(\nmin(params.x / (distanceToCamera - params.y), 1.0),\nscreenSizePerspectiveViewAngleDependentFactor(absCosAngle),\nparams.z,\nparams.w\n);\n}`), e.vertex.code.add(s`float applyScreenSizePerspectiveScaleFactorFloat(float size, vec4 factor) {\nreturn max(mix(size * factor.x, size, factor.y), screenSizePerspectiveMinSize(size, factor));\n}`), e.vertex.code.add(s`float screenSizePerspectiveScaleFloat(float size, float absCosAngle, float distanceToCamera, vec4 params) {\nreturn applyScreenSizePerspectiveScaleFactorFloat(\nsize,\nscreenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params)\n);\n}`), e.vertex.code.add(s`vec2 applyScreenSizePerspectiveScaleFactorVec2(vec2 size, vec4 factor) {\nreturn mix(size * clamp(factor.x, screenSizePerspectiveMinSize(size.y, factor) / max(1e-5, size.y), 1.0), size, factor.y);\n}`), e.vertex.code.add(s`vec2 screenSizePerspectiveScaleVec2(vec2 size, float absCosAngle, float distanceToCamera, vec4 params) {\nreturn applyScreenSizePerspectiveScaleFactorVec2(size, screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params));\n}`);\n}\nfunction t(e) {\n  e.uniforms.add(new r(\"screenSizePerspective\", e => o(e.screenSizePerspective)));\n}\nfunction i(e) {\n  e.uniforms.add(new r(\"screenSizePerspectiveAlignment\", e => o(e.screenSizePerspectiveAlignment || e.screenSizePerspective)));\n}\nfunction o(a) {\n  return e(n, a.parameters.divisor, a.parameters.offset, a.parameters.minPixelSize, a.paddingPixelsOverride);\n}\nconst n = a();\nexport { c as ScreenSizePerspective, t as addScreenSizePerspective, i as addScreenSizePerspectiveAlignment };","map":{"version":3,"names":["s","e","c","a","Float4PassUniform","r","glsl","vertex","code","add","t","uniforms","o","screenSizePerspective","i","screenSizePerspectiveAlignment","n","parameters","divisor","offset","minPixelSize","paddingPixelsOverride","ScreenSizePerspective","addScreenSizePerspective","addScreenSizePerspectiveAlignment"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{s as e}from\"../../../../../../chunks/vec4.js\";import{c as a}from\"../../../../../../chunks/vec4f64.js\";import{Float4PassUniform as r}from\"../../shaderModules/Float4PassUniform.js\";import{glsl as s}from\"../../shaderModules/interfaces.js\";function c(e){e.vertex.code.add(s`float screenSizePerspectiveMinSize(float size, vec4 factor) {\nfloat nonZeroSize = 1.0 - step(size, 0.0);\nreturn (\nfactor.z * (\n1.0 +\nnonZeroSize *\n2.0 * factor.w / (\nsize + (1.0 - nonZeroSize)\n)\n)\n);\n}`),e.vertex.code.add(s`float screenSizePerspectiveViewAngleDependentFactor(float absCosAngle) {\nreturn absCosAngle * absCosAngle * absCosAngle;\n}`),e.vertex.code.add(s`vec4 screenSizePerspectiveScaleFactor(float absCosAngle, float distanceToCamera, vec4 params) {\nreturn vec4(\nmin(params.x / (distanceToCamera - params.y), 1.0),\nscreenSizePerspectiveViewAngleDependentFactor(absCosAngle),\nparams.z,\nparams.w\n);\n}`),e.vertex.code.add(s`float applyScreenSizePerspectiveScaleFactorFloat(float size, vec4 factor) {\nreturn max(mix(size * factor.x, size, factor.y), screenSizePerspectiveMinSize(size, factor));\n}`),e.vertex.code.add(s`float screenSizePerspectiveScaleFloat(float size, float absCosAngle, float distanceToCamera, vec4 params) {\nreturn applyScreenSizePerspectiveScaleFactorFloat(\nsize,\nscreenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params)\n);\n}`),e.vertex.code.add(s`vec2 applyScreenSizePerspectiveScaleFactorVec2(vec2 size, vec4 factor) {\nreturn mix(size * clamp(factor.x, screenSizePerspectiveMinSize(size.y, factor) / max(1e-5, size.y), 1.0), size, factor.y);\n}`),e.vertex.code.add(s`vec2 screenSizePerspectiveScaleVec2(vec2 size, float absCosAngle, float distanceToCamera, vec4 params) {\nreturn applyScreenSizePerspectiveScaleFactorVec2(size, screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params));\n}`)}function t(e){e.uniforms.add(new r(\"screenSizePerspective\",(e=>o(e.screenSizePerspective))))}function i(e){e.uniforms.add(new r(\"screenSizePerspectiveAlignment\",(e=>o(e.screenSizePerspectiveAlignment||e.screenSizePerspective))))}function o(a){return e(n,a.parameters.divisor,a.parameters.offset,a.parameters.minPixelSize,a.paddingPixelsOverride)}const n=a();export{c as ScreenSizePerspective,t as addScreenSizePerspective,i as addScreenSizePerspectiveAlignment};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,QAAK,kCAAkC;AAAC,SAAOC,CAAC,IAAIC,CAAC,QAAK,qCAAqC;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,0CAA0C;AAAC,SAAOC,IAAI,IAAIN,CAAC,QAAK,mCAAmC;AAAC,SAASE,CAACA,CAACD,CAAC,EAAC;EAACA,CAAC,CAACM,MAAM,CAACC,IAAI,CAACC,GAAG,CAACT,CAAE;AACrR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,CAAC,EAACC,CAAC,CAACM,MAAM,CAACC,IAAI,CAACC,GAAG,CAACT,CAAE;AACxB;AACA,EAAE,CAAC,EAACC,CAAC,CAACM,MAAM,CAACC,IAAI,CAACC,GAAG,CAACT,CAAE;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,CAAC,EAACC,CAAC,CAACM,MAAM,CAACC,IAAI,CAACC,GAAG,CAACT,CAAE;AACxB;AACA,EAAE,CAAC,EAACC,CAAC,CAACM,MAAM,CAACC,IAAI,CAACC,GAAG,CAACT,CAAE;AACxB;AACA;AACA;AACA;AACA,EAAE,CAAC,EAACC,CAAC,CAACM,MAAM,CAACC,IAAI,CAACC,GAAG,CAACT,CAAE;AACxB;AACA,EAAE,CAAC,EAACC,CAAC,CAACM,MAAM,CAACC,IAAI,CAACC,GAAG,CAACT,CAAE;AACxB;AACA,EAAE,CAAC;AAAA;AAAC,SAASU,CAACA,CAACT,CAAC,EAAC;EAACA,CAAC,CAACU,QAAQ,CAACF,GAAG,CAAC,IAAIJ,CAAC,CAAC,uBAAuB,EAAEJ,CAAC,IAAEW,CAAC,CAACX,CAAC,CAACY,qBAAqB,CAAC,CAAE,CAAC;AAAA;AAAC,SAASC,CAACA,CAACb,CAAC,EAAC;EAACA,CAAC,CAACU,QAAQ,CAACF,GAAG,CAAC,IAAIJ,CAAC,CAAC,gCAAgC,EAAEJ,CAAC,IAAEW,CAAC,CAACX,CAAC,CAACc,8BAA8B,IAAEd,CAAC,CAACY,qBAAqB,CAAC,CAAE,CAAC;AAAA;AAAC,SAASD,CAACA,CAACT,CAAC,EAAC;EAAC,OAAOF,CAAC,CAACe,CAAC,EAACb,CAAC,CAACc,UAAU,CAACC,OAAO,EAACf,CAAC,CAACc,UAAU,CAACE,MAAM,EAAChB,CAAC,CAACc,UAAU,CAACG,YAAY,EAACjB,CAAC,CAACkB,qBAAqB,CAAC;AAAA;AAAC,MAAML,CAAC,GAACb,CAAC,EAAE;AAAC,SAAOD,CAAC,IAAIoB,qBAAqB,EAACZ,CAAC,IAAIa,wBAAwB,EAACT,CAAC,IAAIU,iCAAiC"},"metadata":{},"sourceType":"module","externalDependencies":[]}