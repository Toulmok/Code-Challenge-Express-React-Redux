{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport \"../../../geometry.js\";\nimport t from \"../../../Graphic.js\";\nimport { id as s } from \"../../../kernel.js\";\nimport a from \"../../../request.js\";\nimport r from \"../../../TimeExtent.js\";\nimport o from \"../../../core/Error.js\";\nimport has from \"../../../core/has.js\";\nimport { JSONMap as i } from \"../../../core/jsonMap.js\";\nimport n from \"../../../core/Loadable.js\";\nimport { isSome as u, isNone as l, unwrap as d } from \"../../../core/maybe.js\";\nimport { setDeepValue as c } from \"../../../core/object.js\";\nimport { debounce as p } from \"../../../core/promiseUtils.js\";\nimport { join as h, dataComponents as y } from \"../../../core/urlUtils.js\";\nimport { property as m } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as f } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport g from \"../../../geometry/Extent.js\";\nimport { fromJSON as R } from \"../../../geometry/support/jsonUtils.js\";\nimport { AssetMapEditFlags as F } from \"../assetEditingSupport.js\";\nimport { createDrawingInfo as b } from \"./support/clientSideDefaults.js\";\nimport q from \"./support/QueryTask.js\";\nimport { isHostedAgolService as I } from \"../../support/arcgisLayerUrl.js\";\nimport { unapplyEditsZUnitScaling as _ } from \"../../../rest/query/operations/editsZScale.js\";\nimport w from \"../../../geometry/SpatialReference.js\";\nconst E = new i({\n  originalAndCurrentFeatures: \"original-and-current-features\",\n  none: \"none\"\n});\nasync function S(e) {\n  if (\"string\" == typeof e) {\n    const t = y(e);\n    return t || {\n      data: e\n    };\n  }\n  return new Promise((t, s) => {\n    const a = new FileReader();\n    a.readAsDataURL(e), a.onload = () => t(y(a.result)), a.onerror = e => s(e);\n  });\n}\nconst O = new Set([\"Feature Layer\", \"Table\"]),\n  j = new i({\n    Started: \"published\",\n    Publishing: \"publishing\",\n    Stopped: \"unavailable\"\n  });\nlet T = class extends n {\n  constructor() {\n    super(...arguments), this.type = \"feature-layer\", this.refresh = p(async () => {\n      await this.load();\n      const e = this.sourceJSON.editingInfo?.lastEditDate;\n      if (null == e) return {\n        dataChanged: !0,\n        updates: {}\n      };\n      try {\n        await this._fetchService(null);\n      } catch {\n        return {\n          dataChanged: !0,\n          updates: {}\n        };\n      }\n      const t = e !== this.sourceJSON.editingInfo?.lastEditDate;\n      return {\n        dataChanged: t,\n        updates: t ? {\n          editingInfo: this.sourceJSON.editingInfo,\n          extent: this.sourceJSON.extent\n        } : null\n      };\n    });\n  }\n  load(e) {\n    const t = u(e) ? e.signal : null,\n      s = this.layer.sourceJSON;\n    return this.addResolvingPromise(this._fetchService(s, t)), Promise.resolve(this);\n  }\n  get queryTask() {\n    const {\n        capabilities: e,\n        parsedUrl: t,\n        dynamicDataSource: s,\n        infoFor3D: a,\n        gdbVersion: r,\n        spatialReference: o,\n        fieldsIndex: i\n      } = this.layer,\n      n = has(\"featurelayer-pbf\") && e?.query.supportsFormatPBF && l(a),\n      u = e?.operations?.supportsQueryAttachments ?? !1;\n    return new q({\n      url: t.path,\n      pbfSupported: n,\n      fieldsIndex: i,\n      infoFor3D: a,\n      dynamicDataSource: s,\n      gdbVersion: r,\n      sourceSpatialReference: o,\n      queryAttachmentsSupported: u\n    });\n  }\n  async addAttachment(e, t) {\n    await this.load();\n    const s = e.attributes[this.layer.objectIdField],\n      r = this.layer.parsedUrl.path + \"/\" + s + \"/addAttachment\",\n      o = this._getLayerRequestOptions(),\n      i = this._getFormDataForAttachment(t, o.query);\n    try {\n      const e = await a(r, {\n        body: i\n      });\n      return this._createFeatureEditResult(e.data.addAttachmentResult);\n    } catch (n) {\n      throw this._createAttachmentErrorResult(s, n);\n    }\n  }\n  async updateAttachment(e, t, s) {\n    await this.load();\n    const r = e.attributes[this.layer.objectIdField],\n      o = this.layer.parsedUrl.path + \"/\" + r + \"/updateAttachment\",\n      i = this._getLayerRequestOptions({\n        query: {\n          attachmentId: t\n        }\n      }),\n      n = this._getFormDataForAttachment(s, i.query);\n    try {\n      const e = await a(o, {\n        body: n\n      });\n      return this._createFeatureEditResult(e.data.updateAttachmentResult);\n    } catch (u) {\n      throw this._createAttachmentErrorResult(r, u);\n    }\n  }\n  async applyEdits(e, t) {\n    await this.load();\n    const r = this.layer.infoFor3D,\n      o = u(r),\n      i = o || (t?.globalIdUsed ?? !1),\n      n = e.addFeatures?.map(e => this._serializeFeature(e, r)).filter(u) ?? [],\n      l = e.updateFeatures?.map(e => this._serializeFeature(e, r)).filter(u) ?? [],\n      c = this._getFeatureIds(e.deleteFeatures, i);\n    _(n, l, this.layer.spatialReference);\n    const p = [],\n      h = [],\n      y = [...(e.deleteAttachments ?? [])];\n    for (const s of e.addAttachments ?? []) p.push(await this._serializeAttachment(s));\n    for (const s of e.updateAttachments ?? []) h.push(await this._serializeAttachment(s));\n    const m = p.length || h.length || y.length ? {\n      adds: p,\n      updates: h,\n      deletes: y\n    } : null;\n    let f,\n      g = null;\n    if (o) {\n      g = new Map();\n      const t = [];\n      for (const a of e.addAssets ?? []) t.push(this._serializeAssetMapEditAndUploadAssets(a, g));\n      const s = await Promise.all(t);\n      f = s.length ? {\n        adds: s,\n        updates: [],\n        deletes: []\n      } : void 0;\n    }\n    const R = {\n      gdbVersion: t?.gdbVersion || this.layer.gdbVersion,\n      rollbackOnFailure: t?.rollbackOnFailureEnabled,\n      useGlobalIds: i,\n      returnEditMoment: t?.returnEditMoment,\n      usePreviousEditMoment: t?.usePreviousEditMoment,\n      sessionId: t?.sessionId\n    };\n    t?.returnServiceEditsOption ? (R.edits = JSON.stringify([{\n      id: this.layer.layerId,\n      adds: n,\n      updates: l,\n      deletes: c,\n      attachments: m,\n      assetMaps: d(f)\n    }]), R.returnServiceEditsOption = E.toJSON(t?.returnServiceEditsOption), R.returnServiceEditsInSourceSR = t?.returnServiceEditsInSourceSR) : (R.adds = n.length ? JSON.stringify(n) : null, R.updates = l.length ? JSON.stringify(l) : null, R.deletes = c.length ? i ? JSON.stringify(c) : c.join(\",\") : null, R.attachments = m && JSON.stringify(m), R.assetMaps = u(f) ? JSON.stringify(f) : void 0);\n    const F = this._getLayerRequestOptions({\n        method: \"post\",\n        query: R\n      }),\n      b = t?.returnServiceEditsOption ? this.layer.url : this.layer.parsedUrl.path,\n      q = await a(b + \"/applyEdits\", F);\n    if (!this.layer.capabilities.operations?.supportsEditing && this.layer.effectiveCapabilities?.operations?.supportsEditing) {\n      const e = s?.findCredential(this.layer.url);\n      await e?.refreshToken();\n    }\n    if (o && null != q.data && null != q.data.assetMaps) {\n      const e = q.data,\n        t = this.layer.objectIdField,\n        s = [];\n      for (const a of e.addResults) a.success && s.push(a.objectId);\n      for (const a of e.updateResults) a.success && s.push(a.objectId);\n      const r = this._createRequestQueryOptions(),\n        o = await a(b + \"/query\", {\n          ...r,\n          query: {\n            f: \"json\",\n            formatOf3DObjects: \"3D_glb\",\n            where: `OBJECTID IN (${s.join(\",\")})`,\n            outFields: `${t}`\n          }\n        });\n      if (o && o.data && o.data.assetMaps && u(g)) {\n        const e = o.data.assetMaps;\n        for (const t of e) {\n          const e = g.get(t.parentGlobalId).geometry;\n          u(e) && \"mesh\" === e.type && e.updateExternalSource({\n            source: [{\n              name: t.assetName,\n              source: t.assetName\n            }],\n            extent: e.extent\n          });\n        }\n      }\n    }\n    return this._createEditsResult(q);\n  }\n  async deleteAttachments(e, t) {\n    await this.load();\n    const s = e.attributes[this.layer.objectIdField],\n      r = this.layer.parsedUrl.path + \"/\" + s + \"/deleteAttachments\";\n    try {\n      return (await a(r, this._getLayerRequestOptions({\n        query: {\n          attachmentIds: t.join(\",\")\n        },\n        method: \"post\"\n      }))).data.deleteAttachmentResults.map(this._createFeatureEditResult);\n    } catch (o) {\n      throw this._createAttachmentErrorResult(s, o);\n    }\n  }\n  fetchRecomputedExtents() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const t = e.signal;\n    return this.load({\n      signal: t\n    }).then(async () => {\n      const t = this._getLayerRequestOptions({\n          ...e,\n          query: {\n            returnUpdates: !0\n          }\n        }),\n        {\n          layerId: s,\n          url: o\n        } = this.layer,\n        {\n          data: i\n        } = await a(`${o}/${s}`, t),\n        {\n          id: n,\n          extent: u,\n          fullExtent: l,\n          timeExtent: d\n        } = i,\n        c = u || l;\n      return {\n        id: n,\n        fullExtent: c && g.fromJSON(c),\n        timeExtent: d && r.fromJSON({\n          start: d[0],\n          end: d[1]\n        })\n      };\n    });\n  }\n  async queryAttachments(e) {\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    await this.load();\n    const s = this._getLayerRequestOptions(t);\n    return this.queryTask.executeAttachmentQuery(e, s);\n  }\n  async queryFeatures(e, t) {\n    return await this.load(), this.queryTask.execute(e, {\n      ...t,\n      query: this._createRequestQueryOptions(t)\n    });\n  }\n  async queryFeaturesJSON(e, t) {\n    return await this.load(), this.queryTask.executeJSON(e, {\n      ...t,\n      query: this._createRequestQueryOptions(t)\n    });\n  }\n  async queryObjectIds(e, t) {\n    return await this.load(), this.queryTask.executeForIds(e, {\n      ...t,\n      query: this._createRequestQueryOptions(t)\n    });\n  }\n  async queryFeatureCount(e, t) {\n    return await this.load(), this.queryTask.executeForCount(e, {\n      ...t,\n      query: this._createRequestQueryOptions(t)\n    });\n  }\n  async queryExtent(e, t) {\n    return await this.load(), this.queryTask.executeForExtent(e, {\n      ...t,\n      query: this._createRequestQueryOptions(t)\n    });\n  }\n  async queryRelatedFeatures(e, t) {\n    return await this.load(), this.queryTask.executeRelationshipQuery(e, {\n      ...t,\n      query: this._createRequestQueryOptions(t)\n    });\n  }\n  async queryRelatedFeaturesCount(e, t) {\n    return await this.load(), this.queryTask.executeRelationshipQueryForCount(e, {\n      ...t,\n      query: this._createRequestQueryOptions(t)\n    });\n  }\n  async queryTopFeatures(e, t) {\n    return await this.load(), this.queryTask.executeTopFeaturesQuery(e, {\n      ...t,\n      query: this._createRequestQueryOptions(t)\n    });\n  }\n  async queryTopObjectIds(e, t) {\n    return await this.load(), this.queryTask.executeForTopIds(e, {\n      ...t,\n      query: this._createRequestQueryOptions(t)\n    });\n  }\n  async queryTopExtents(e, t) {\n    return await this.load(), this.queryTask.executeForTopExtents(e, {\n      ...t,\n      query: this._createRequestQueryOptions(t)\n    });\n  }\n  async queryTopCount(e, t) {\n    return await this.load(), this.queryTask.executeForTopCount(e, {\n      ...t,\n      query: this._createRequestQueryOptions(t)\n    });\n  }\n  async fetchPublishingStatus() {\n    if (!I(this.layer.url)) return \"unavailable\";\n    const e = h(this.layer.url, \"status\"),\n      t = await a(e, {\n        query: {\n          f: \"json\"\n        }\n      });\n    return j.fromJSON(t.data.status);\n  }\n  _createRequestQueryOptions(e) {\n    const t = {\n      ...this.layer.customParameters,\n      token: this.layer.apiKey,\n      ...e?.query\n    };\n    return this.layer.datesInUnknownTimezone && (t.timeReferenceUnknownClient = !0), t;\n  }\n  async _fetchService(e, t) {\n    if (!e) {\n      const {\n        data: s\n      } = await a(this.layer.parsedUrl.path, this._getLayerRequestOptions({\n        query: has(\"featurelayer-advanced-symbols\") ? {\n          returnAdvancedSymbols: !0\n        } : {},\n        signal: t\n      }));\n      e = s;\n    }\n    this.sourceJSON = this._patchServiceJSON(e);\n    const s = e.type;\n    if (!O.has(s)) throw new o(\"feature-layer-source:unsupported-type\", `Source type \"${s}\" is not supported`);\n  }\n  _patchServiceJSON(e) {\n    if (\"Table\" !== e.type && e.geometryType && !e?.drawingInfo?.renderer && !e.defaultSymbol) {\n      const t = b(e.geometryType).renderer;\n      c(\"drawingInfo.renderer\", t, e);\n    }\n    return \"esriGeometryMultiPatch\" === e.geometryType && e.infoFor3D && (e.geometryType = \"mesh\"), e;\n  }\n  _serializeFeature(e, t) {\n    const {\n      geometry: s,\n      attributes: a\n    } = e;\n    if (u(t) && u(e.geometry) && \"mesh\" === e.geometry.type) {\n      const s = {\n          ...a\n        },\n        r = e.geometry,\n        o = r.origin,\n        i = r.transform;\n      if (s[t.transformFieldRoles.originX] = o.x, s[t.transformFieldRoles.originY] = o.y, s[t.transformFieldRoles.originZ] = o.z, u(i)) {\n        const e = i.translation,\n          a = i.scale,\n          r = i.rotation;\n        s[t.transformFieldRoles.translationX] = e[0], s[t.transformFieldRoles.translationY] = -e[2], s[t.transformFieldRoles.translationZ] = e[1], s[t.transformFieldRoles.scaleX] = a[0], s[t.transformFieldRoles.scaleY] = a[1], s[t.transformFieldRoles.scaleZ] = a[2], s[t.transformFieldRoles.rotationX] = r[0], s[t.transformFieldRoles.rotationY] = r[2], s[t.transformFieldRoles.rotationZ] = r[1], s[t.transformFieldRoles.rotationDeg] = r[3];\n      }\n      return {\n        geometry: null,\n        attributes: s\n      };\n    }\n    return l(s) ? {\n      attributes: a\n    } : \"mesh\" === s.type || \"extent\" === s.type ? null : {\n      geometry: s.toJSON(),\n      attributes: a\n    };\n  }\n  async _serializeAttachment(e) {\n    const {\n        feature: t,\n        attachment: s\n      } = e,\n      {\n        globalId: a,\n        name: r,\n        contentType: o,\n        data: i,\n        uploadId: n\n      } = s,\n      u = {\n        globalId: a,\n        parentGlobalId: null,\n        contentType: null,\n        name: null,\n        uploadId: null,\n        data: null\n      };\n    if (t && (u.parentGlobalId = \"attributes\" in t ? t.attributes && t.attributes[this.layer.globalIdField] : t.globalId), n) u.uploadId = n;else if (i) {\n      const e = await S(i);\n      e && (u.contentType = e.mediaType, u.data = e.data), i instanceof File && (u.name = i.name);\n    }\n    return r && (u.name = r), o && (u.contentType = o), u;\n  }\n  async _serializeAssetMapEditAndUploadAssets(e, t) {\n    const s = this.layer.url;\n    let r = null;\n    try {\n      const t = new Blob([e.data], {\n          type: e.mimeType\n        }),\n        i = new FormData();\n      i.append(\"f\", \"json\"), i.append(\"file\", t, `${e.assetName}`);\n      const n = {\n          body: i,\n          method: \"post\",\n          responseType: \"json\"\n        },\n        {\n          data: u\n        } = await a(`${s}/uploads/upload`, n);\n      if (!u.success) throw new o(\"feature-layer-source:upload-failure\", \"Expected upload to be successfull.\");\n      r = {\n        assetType: e.assetType,\n        assetUploadId: u.item.itemID\n      };\n    } catch (p) {\n      r = null;\n    }\n    if (l(r)) {\n      const t = await S(new Blob([e.data]));\n      if (!t.isBase64) throw new o(\"feature-layer-source:uploadAssets-failure\", \"Expected gltf data in base64 format after conversion.\");\n      r = {\n        assetType: e.assetType,\n        assetData: t.data\n      };\n    }\n    if (l(r)) throw new o(\"feature-layer-source:uploadAssets-failure\", \"Unable to prepare uploadAsset request options.\");\n    const i = {\n        method: \"post\",\n        query: {\n          f: \"json\",\n          assets: JSON.stringify([r])\n        },\n        responseType: \"json\"\n      },\n      n = await a(h(this.layer.parsedUrl.path, \"uploadAssets\"), i);\n    if (1 !== n.data.uploadResults.length || !n.data.uploadResults[0].success) throw new o(\"feature-layer-source:uploadAssets-failure\", \"Bad response.\");\n    const u = n.data.uploadResults[0].assetHash,\n      d = [];\n    e.flags & F.PROJECT_VERTICES && d.push(\"PROJECT_VERTICES\");\n    const c = {\n      globalId: e.assetMapGlobalId,\n      parentGlobalId: e.featureGlobalId,\n      assetName: e.assetName,\n      assetHash: u,\n      flags: d\n    };\n    return t.set(e.featureGlobalId, e.feature), c;\n  }\n  _getFeatureIds(e, t) {\n    const s = e?.[0];\n    return s ? this._canUseGlobalIds(t, e) ? this._getGlobalIdsFromFeatureIdentifier(e) : \"objectId\" in s ? this._getObjectIdsFromFeatureIdentifier(e) : this._getIdsFromFeatures(e) : [];\n  }\n  _getIdsFromFeatures(e) {\n    const t = this.layer.objectIdField;\n    return e.map(e => e.attributes && e.attributes[t]);\n  }\n  _canUseGlobalIds(e, t) {\n    return e && \"globalId\" in t[0];\n  }\n  _getObjectIdsFromFeatureIdentifier(e) {\n    return e.map(e => e.objectId);\n  }\n  _getGlobalIdsFromFeatureIdentifier(e) {\n    return e.map(e => e.globalId);\n  }\n  _createEditsResult(e) {\n    const t = e.data,\n      {\n        layerId: s\n      } = this.layer,\n      a = [];\n    let r = null;\n    if (Array.isArray(t)) for (const n of t) a.push({\n      id: n.id,\n      editedFeatures: n.editedFeatures\n    }), n.id === s && (r = {\n      addResults: n.addResults ?? [],\n      updateResults: n.updateResults ?? [],\n      deleteResults: n.deleteResults ?? [],\n      attachments: n.attachments,\n      editMoment: n.editMoment\n    });else r = t;\n    const o = r?.attachments,\n      i = {\n        addFeatureResults: r?.addResults?.map(this._createFeatureEditResult, this) ?? [],\n        updateFeatureResults: r?.updateResults?.map(this._createFeatureEditResult, this) ?? [],\n        deleteFeatureResults: r?.deleteResults?.map(this._createFeatureEditResult, this) ?? [],\n        addAttachmentResults: o && o.addResults ? o.addResults.map(this._createFeatureEditResult, this) : [],\n        updateAttachmentResults: o && o.updateResults ? o.updateResults.map(this._createFeatureEditResult, this) : [],\n        deleteAttachmentResults: o && o.deleteResults ? o.deleteResults.map(this._createFeatureEditResult, this) : []\n      };\n    if (r?.editMoment && (i.editMoment = r.editMoment), a.length > 0) {\n      i.editedFeatureResults = [];\n      for (const e of a) {\n        const {\n            editedFeatures: t\n          } = e,\n          s = t?.spatialReference ? new w(t.spatialReference) : null;\n        i.editedFeatureResults.push({\n          layerId: e.id,\n          editedFeatures: {\n            adds: t?.adds?.map(e => this._createEditedFeature(e, s)) || [],\n            updates: t?.updates?.map(e => ({\n              original: this._createEditedFeature(e[0], s),\n              current: this._createEditedFeature(e[1], s)\n            })) || [],\n            deletes: t?.deletes?.map(e => this._createEditedFeature(e, s)) || [],\n            spatialReference: s\n          }\n        });\n      }\n    }\n    return i;\n  }\n  _createEditedFeature(e, s) {\n    return new t({\n      attributes: e.attributes,\n      geometry: R({\n        ...e.geometry,\n        spatialReference: s\n      })\n    });\n  }\n  _createFeatureEditResult(e) {\n    const t = !0 === e.success ? null : e.error || {\n      code: void 0,\n      description: void 0\n    };\n    return {\n      objectId: e.objectId,\n      globalId: e.globalId,\n      error: t ? new o(\"feature-layer-source:edit-failure\", t.description, {\n        code: t.code\n      }) : null\n    };\n  }\n  _createAttachmentErrorResult(e, t) {\n    const s = t.details.messages && t.details.messages[0] || t.message,\n      a = t.details.httpStatus || t.details.messageCode;\n    return {\n      objectId: e,\n      globalId: null,\n      error: new o(\"feature-layer-source:attachment-failure\", s, {\n        code: a\n      })\n    };\n  }\n  _getFormDataForAttachment(e, t) {\n    const s = e instanceof FormData ? e : e && e.elements ? new FormData(e) : null;\n    if (s) for (const a in t) {\n      const e = t[a];\n      null != e && (s.set ? s.set(a, e) : s.append(a, e));\n    }\n    return s;\n  }\n  _getLayerRequestOptions() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      parsedUrl: t,\n      gdbVersion: s,\n      dynamicDataSource: a\n    } = this.layer;\n    return {\n      ...e,\n      query: {\n        gdbVersion: s,\n        layer: a ? JSON.stringify({\n          source: a\n        }) : void 0,\n        ...t.query,\n        f: \"json\",\n        ...this._createRequestQueryOptions(e)\n      },\n      responseType: \"json\"\n    };\n  }\n};\ne([m()], T.prototype, \"type\", void 0), e([m({\n  constructOnly: !0\n})], T.prototype, \"layer\", void 0), e([m({\n  readOnly: !0\n})], T.prototype, \"queryTask\", null), T = e([f(\"esri.layers.graphics.sources.FeatureLayerSource\")], T);\nconst A = T;\nexport { A as default };","map":{"version":3,"names":["_","e","t","id","s","a","r","o","has","JSONMap","i","n","isSome","u","isNone","l","unwrap","d","setDeepValue","c","debounce","p","join","h","dataComponents","y","property","m","subclass","f","g","fromJSON","R","AssetMapEditFlags","F","createDrawingInfo","b","q","isHostedAgolService","I","unapplyEditsZUnitScaling","w","E","originalAndCurrentFeatures","none","S","data","Promise","FileReader","readAsDataURL","onload","result","onerror","O","Set","j","Started","Publishing","Stopped","T","constructor","arguments","type","refresh","load","sourceJSON","editingInfo","lastEditDate","dataChanged","updates","_fetchService","extent","signal","layer","addResolvingPromise","resolve","queryTask","capabilities","parsedUrl","dynamicDataSource","infoFor3D","gdbVersion","spatialReference","fieldsIndex","query","supportsFormatPBF","operations","supportsQueryAttachments","url","path","pbfSupported","sourceSpatialReference","queryAttachmentsSupported","addAttachment","attributes","objectIdField","_getLayerRequestOptions","_getFormDataForAttachment","body","_createFeatureEditResult","addAttachmentResult","_createAttachmentErrorResult","updateAttachment","attachmentId","updateAttachmentResult","applyEdits","globalIdUsed","addFeatures","map","_serializeFeature","filter","updateFeatures","_getFeatureIds","deleteFeatures","deleteAttachments","addAttachments","push","_serializeAttachment","updateAttachments","length","adds","deletes","Map","addAssets","_serializeAssetMapEditAndUploadAssets","all","rollbackOnFailure","rollbackOnFailureEnabled","useGlobalIds","returnEditMoment","usePreviousEditMoment","sessionId","returnServiceEditsOption","edits","JSON","stringify","layerId","attachments","assetMaps","toJSON","returnServiceEditsInSourceSR","method","supportsEditing","effectiveCapabilities","findCredential","refreshToken","addResults","success","objectId","updateResults","_createRequestQueryOptions","formatOf3DObjects","where","outFields","get","parentGlobalId","geometry","updateExternalSource","source","name","assetName","_createEditsResult","attachmentIds","deleteAttachmentResults","fetchRecomputedExtents","undefined","then","returnUpdates","fullExtent","timeExtent","start","end","queryAttachments","executeAttachmentQuery","queryFeatures","execute","queryFeaturesJSON","executeJSON","queryObjectIds","executeForIds","queryFeatureCount","executeForCount","queryExtent","executeForExtent","queryRelatedFeatures","executeRelationshipQuery","queryRelatedFeaturesCount","executeRelationshipQueryForCount","queryTopFeatures","executeTopFeaturesQuery","queryTopObjectIds","executeForTopIds","queryTopExtents","executeForTopExtents","queryTopCount","executeForTopCount","fetchPublishingStatus","status","customParameters","token","apiKey","datesInUnknownTimezone","timeReferenceUnknownClient","returnAdvancedSymbols","_patchServiceJSON","geometryType","drawingInfo","renderer","defaultSymbol","origin","transform","transformFieldRoles","originX","x","originY","originZ","z","translation","scale","rotation","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","feature","attachment","globalId","contentType","uploadId","globalIdField","mediaType","File","Blob","mimeType","FormData","append","responseType","assetType","assetUploadId","item","itemID","isBase64","assetData","assets","uploadResults","assetHash","flags","PROJECT_VERTICES","assetMapGlobalId","featureGlobalId","set","_canUseGlobalIds","_getGlobalIdsFromFeatureIdentifier","_getObjectIdsFromFeatureIdentifier","_getIdsFromFeatures","Array","isArray","editedFeatures","deleteResults","editMoment","addFeatureResults","updateFeatureResults","deleteFeatureResults","addAttachmentResults","updateAttachmentResults","editedFeatureResults","_createEditedFeature","original","current","error","code","description","details","messages","message","httpStatus","messageCode","elements","prototype","constructOnly","readOnly","A","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import{id as s}from\"../../../kernel.js\";import a from\"../../../request.js\";import r from\"../../../TimeExtent.js\";import o from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{JSONMap as i}from\"../../../core/jsonMap.js\";import n from\"../../../core/Loadable.js\";import{isSome as u,isNone as l,unwrap as d}from\"../../../core/maybe.js\";import{setDeepValue as c}from\"../../../core/object.js\";import{debounce as p}from\"../../../core/promiseUtils.js\";import{join as h,dataComponents as y}from\"../../../core/urlUtils.js\";import{property as m}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as f}from\"../../../core/accessorSupport/decorators/subclass.js\";import g from\"../../../geometry/Extent.js\";import{fromJSON as R}from\"../../../geometry/support/jsonUtils.js\";import{AssetMapEditFlags as F}from\"../assetEditingSupport.js\";import{createDrawingInfo as b}from\"./support/clientSideDefaults.js\";import q from\"./support/QueryTask.js\";import{isHostedAgolService as I}from\"../../support/arcgisLayerUrl.js\";import{unapplyEditsZUnitScaling as _}from\"../../../rest/query/operations/editsZScale.js\";import w from\"../../../geometry/SpatialReference.js\";const E=new i({originalAndCurrentFeatures:\"original-and-current-features\",none:\"none\"});async function S(e){if(\"string\"==typeof e){const t=y(e);return t||{data:e}}return new Promise(((t,s)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>t(y(a.result)),a.onerror=e=>s(e)}))}const O=new Set([\"Feature Layer\",\"Table\"]),j=new i({Started:\"published\",Publishing:\"publishing\",Stopped:\"unavailable\"});let T=class extends n{constructor(){super(...arguments),this.type=\"feature-layer\",this.refresh=p((async()=>{await this.load();const e=this.sourceJSON.editingInfo?.lastEditDate;if(null==e)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}const t=e!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:t,updates:t?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}}))}load(e){const t=u(e)?e.signal:null,s=this.layer.sourceJSON;return this.addResolvingPromise(this._fetchService(s,t)),Promise.resolve(this)}get queryTask(){const{capabilities:e,parsedUrl:t,dynamicDataSource:s,infoFor3D:a,gdbVersion:r,spatialReference:o,fieldsIndex:i}=this.layer,n=has(\"featurelayer-pbf\")&&e?.query.supportsFormatPBF&&l(a),u=e?.operations?.supportsQueryAttachments??!1;return new q({url:t.path,pbfSupported:n,fieldsIndex:i,infoFor3D:a,dynamicDataSource:s,gdbVersion:r,sourceSpatialReference:o,queryAttachmentsSupported:u})}async addAttachment(e,t){await this.load();const s=e.attributes[this.layer.objectIdField],r=this.layer.parsedUrl.path+\"/\"+s+\"/addAttachment\",o=this._getLayerRequestOptions(),i=this._getFormDataForAttachment(t,o.query);try{const e=await a(r,{body:i});return this._createFeatureEditResult(e.data.addAttachmentResult)}catch(n){throw this._createAttachmentErrorResult(s,n)}}async updateAttachment(e,t,s){await this.load();const r=e.attributes[this.layer.objectIdField],o=this.layer.parsedUrl.path+\"/\"+r+\"/updateAttachment\",i=this._getLayerRequestOptions({query:{attachmentId:t}}),n=this._getFormDataForAttachment(s,i.query);try{const e=await a(o,{body:n});return this._createFeatureEditResult(e.data.updateAttachmentResult)}catch(u){throw this._createAttachmentErrorResult(r,u)}}async applyEdits(e,t){await this.load();const r=this.layer.infoFor3D,o=u(r),i=o||(t?.globalIdUsed??!1),n=e.addFeatures?.map((e=>this._serializeFeature(e,r))).filter(u)??[],l=e.updateFeatures?.map((e=>this._serializeFeature(e,r))).filter(u)??[],c=this._getFeatureIds(e.deleteFeatures,i);_(n,l,this.layer.spatialReference);const p=[],h=[],y=[...e.deleteAttachments??[]];for(const s of e.addAttachments??[])p.push(await this._serializeAttachment(s));for(const s of e.updateAttachments??[])h.push(await this._serializeAttachment(s));const m=p.length||h.length||y.length?{adds:p,updates:h,deletes:y}:null;let f,g=null;if(o){g=new Map;const t=[];for(const a of e.addAssets??[])t.push(this._serializeAssetMapEditAndUploadAssets(a,g));const s=await Promise.all(t);f=s.length?{adds:s,updates:[],deletes:[]}:void 0}const R={gdbVersion:t?.gdbVersion||this.layer.gdbVersion,rollbackOnFailure:t?.rollbackOnFailureEnabled,useGlobalIds:i,returnEditMoment:t?.returnEditMoment,usePreviousEditMoment:t?.usePreviousEditMoment,sessionId:t?.sessionId};t?.returnServiceEditsOption?(R.edits=JSON.stringify([{id:this.layer.layerId,adds:n,updates:l,deletes:c,attachments:m,assetMaps:d(f)}]),R.returnServiceEditsOption=E.toJSON(t?.returnServiceEditsOption),R.returnServiceEditsInSourceSR=t?.returnServiceEditsInSourceSR):(R.adds=n.length?JSON.stringify(n):null,R.updates=l.length?JSON.stringify(l):null,R.deletes=c.length?i?JSON.stringify(c):c.join(\",\"):null,R.attachments=m&&JSON.stringify(m),R.assetMaps=u(f)?JSON.stringify(f):void 0);const F=this._getLayerRequestOptions({method:\"post\",query:R}),b=t?.returnServiceEditsOption?this.layer.url:this.layer.parsedUrl.path,q=await a(b+\"/applyEdits\",F);if(!this.layer.capabilities.operations?.supportsEditing&&this.layer.effectiveCapabilities?.operations?.supportsEditing){const e=s?.findCredential(this.layer.url);await(e?.refreshToken())}if(o&&null!=q.data&&null!=q.data.assetMaps){const e=q.data,t=this.layer.objectIdField,s=[];for(const a of e.addResults)a.success&&s.push(a.objectId);for(const a of e.updateResults)a.success&&s.push(a.objectId);const r=this._createRequestQueryOptions(),o=await a(b+\"/query\",{...r,query:{f:\"json\",formatOf3DObjects:\"3D_glb\",where:`OBJECTID IN (${s.join(\",\")})`,outFields:`${t}`}});if(o&&o.data&&o.data.assetMaps&&u(g)){const e=o.data.assetMaps;for(const t of e){const e=g.get(t.parentGlobalId).geometry;u(e)&&\"mesh\"===e.type&&e.updateExternalSource({source:[{name:t.assetName,source:t.assetName}],extent:e.extent})}}}return this._createEditsResult(q)}async deleteAttachments(e,t){await this.load();const s=e.attributes[this.layer.objectIdField],r=this.layer.parsedUrl.path+\"/\"+s+\"/deleteAttachments\";try{return(await a(r,this._getLayerRequestOptions({query:{attachmentIds:t.join(\",\")},method:\"post\"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(o){throw this._createAttachmentErrorResult(s,o)}}fetchRecomputedExtents(e={}){const t=e.signal;return this.load({signal:t}).then((async()=>{const t=this._getLayerRequestOptions({...e,query:{returnUpdates:!0}}),{layerId:s,url:o}=this.layer,{data:i}=await a(`${o}/${s}`,t),{id:n,extent:u,fullExtent:l,timeExtent:d}=i,c=u||l;return{id:n,fullExtent:c&&g.fromJSON(c),timeExtent:d&&r.fromJSON({start:d[0],end:d[1]})}}))}async queryAttachments(e,t={}){await this.load();const s=this._getLayerRequestOptions(t);return this.queryTask.executeAttachmentQuery(e,s)}async queryFeatures(e,t){return await this.load(),this.queryTask.execute(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeaturesJSON(e,t){return await this.load(),this.queryTask.executeJSON(e,{...t,query:this._createRequestQueryOptions(t)})}async queryObjectIds(e,t){return await this.load(),this.queryTask.executeForIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeatureCount(e,t){return await this.load(),this.queryTask.executeForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryExtent(e,t){return await this.load(),this.queryTask.executeForExtent(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeatures(e,t){return await this.load(),this.queryTask.executeRelationshipQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeaturesCount(e,t){return await this.load(),this.queryTask.executeRelationshipQueryForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopFeatures(e,t){return await this.load(),this.queryTask.executeTopFeaturesQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopObjectIds(e,t){return await this.load(),this.queryTask.executeForTopIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopExtents(e,t){return await this.load(),this.queryTask.executeForTopExtents(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopCount(e,t){return await this.load(),this.queryTask.executeForTopCount(e,{...t,query:this._createRequestQueryOptions(t)})}async fetchPublishingStatus(){if(!I(this.layer.url))return\"unavailable\";const e=h(this.layer.url,\"status\"),t=await a(e,{query:{f:\"json\"}});return j.fromJSON(t.data.status)}_createRequestQueryOptions(e){const t={...this.layer.customParameters,token:this.layer.apiKey,...e?.query};return this.layer.datesInUnknownTimezone&&(t.timeReferenceUnknownClient=!0),t}async _fetchService(e,t){if(!e){const{data:s}=await a(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:has(\"featurelayer-advanced-symbols\")?{returnAdvancedSymbols:!0}:{},signal:t}));e=s}this.sourceJSON=this._patchServiceJSON(e);const s=e.type;if(!O.has(s))throw new o(\"feature-layer-source:unsupported-type\",`Source type \"${s}\" is not supported`)}_patchServiceJSON(e){if(\"Table\"!==e.type&&e.geometryType&&!e?.drawingInfo?.renderer&&!e.defaultSymbol){const t=b(e.geometryType).renderer;c(\"drawingInfo.renderer\",t,e)}return\"esriGeometryMultiPatch\"===e.geometryType&&e.infoFor3D&&(e.geometryType=\"mesh\"),e}_serializeFeature(e,t){const{geometry:s,attributes:a}=e;if(u(t)&&u(e.geometry)&&\"mesh\"===e.geometry.type){const s={...a},r=e.geometry,o=r.origin,i=r.transform;if(s[t.transformFieldRoles.originX]=o.x,s[t.transformFieldRoles.originY]=o.y,s[t.transformFieldRoles.originZ]=o.z,u(i)){const e=i.translation,a=i.scale,r=i.rotation;s[t.transformFieldRoles.translationX]=e[0],s[t.transformFieldRoles.translationY]=-e[2],s[t.transformFieldRoles.translationZ]=e[1],s[t.transformFieldRoles.scaleX]=a[0],s[t.transformFieldRoles.scaleY]=a[1],s[t.transformFieldRoles.scaleZ]=a[2],s[t.transformFieldRoles.rotationX]=r[0],s[t.transformFieldRoles.rotationY]=r[2],s[t.transformFieldRoles.rotationZ]=r[1],s[t.transformFieldRoles.rotationDeg]=r[3]}return{geometry:null,attributes:s}}return l(s)?{attributes:a}:\"mesh\"===s.type||\"extent\"===s.type?null:{geometry:s.toJSON(),attributes:a}}async _serializeAttachment(e){const{feature:t,attachment:s}=e,{globalId:a,name:r,contentType:o,data:i,uploadId:n}=s,u={globalId:a,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};if(t&&(u.parentGlobalId=\"attributes\"in t?t.attributes&&t.attributes[this.layer.globalIdField]:t.globalId),n)u.uploadId=n;else if(i){const e=await S(i);e&&(u.contentType=e.mediaType,u.data=e.data),i instanceof File&&(u.name=i.name)}return r&&(u.name=r),o&&(u.contentType=o),u}async _serializeAssetMapEditAndUploadAssets(e,t){const s=this.layer.url;let r=null;try{const t=new Blob([e.data],{type:e.mimeType}),i=new FormData;i.append(\"f\",\"json\"),i.append(\"file\",t,`${e.assetName}`);const n={body:i,method:\"post\",responseType:\"json\"},{data:u}=await a(`${s}/uploads/upload`,n);if(!u.success)throw new o(\"feature-layer-source:upload-failure\",\"Expected upload to be successfull.\");r={assetType:e.assetType,assetUploadId:u.item.itemID}}catch(p){r=null}if(l(r)){const t=await S(new Blob([e.data]));if(!t.isBase64)throw new o(\"feature-layer-source:uploadAssets-failure\",\"Expected gltf data in base64 format after conversion.\");r={assetType:e.assetType,assetData:t.data}}if(l(r))throw new o(\"feature-layer-source:uploadAssets-failure\",\"Unable to prepare uploadAsset request options.\");const i={method:\"post\",query:{f:\"json\",assets:JSON.stringify([r])},responseType:\"json\"},n=await a(h(this.layer.parsedUrl.path,\"uploadAssets\"),i);if(1!==n.data.uploadResults.length||!n.data.uploadResults[0].success)throw new o(\"feature-layer-source:uploadAssets-failure\",\"Bad response.\");const u=n.data.uploadResults[0].assetHash,d=[];e.flags&F.PROJECT_VERTICES&&d.push(\"PROJECT_VERTICES\");const c={globalId:e.assetMapGlobalId,parentGlobalId:e.featureGlobalId,assetName:e.assetName,assetHash:u,flags:d};return t.set(e.featureGlobalId,e.feature),c}_getFeatureIds(e,t){const s=e?.[0];return s?this._canUseGlobalIds(t,e)?this._getGlobalIdsFromFeatureIdentifier(e):\"objectId\"in s?this._getObjectIdsFromFeatureIdentifier(e):this._getIdsFromFeatures(e):[]}_getIdsFromFeatures(e){const t=this.layer.objectIdField;return e.map((e=>e.attributes&&e.attributes[t]))}_canUseGlobalIds(e,t){return e&&\"globalId\"in t[0]}_getObjectIdsFromFeatureIdentifier(e){return e.map((e=>e.objectId))}_getGlobalIdsFromFeatureIdentifier(e){return e.map((e=>e.globalId))}_createEditsResult(e){const t=e.data,{layerId:s}=this.layer,a=[];let r=null;if(Array.isArray(t))for(const n of t)a.push({id:n.id,editedFeatures:n.editedFeatures}),n.id===s&&(r={addResults:n.addResults??[],updateResults:n.updateResults??[],deleteResults:n.deleteResults??[],attachments:n.attachments,editMoment:n.editMoment});else r=t;const o=r?.attachments,i={addFeatureResults:r?.addResults?.map(this._createFeatureEditResult,this)??[],updateFeatureResults:r?.updateResults?.map(this._createFeatureEditResult,this)??[],deleteFeatureResults:r?.deleteResults?.map(this._createFeatureEditResult,this)??[],addAttachmentResults:o&&o.addResults?o.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:o&&o.updateResults?o.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:o&&o.deleteResults?o.deleteResults.map(this._createFeatureEditResult,this):[]};if(r?.editMoment&&(i.editMoment=r.editMoment),a.length>0){i.editedFeatureResults=[];for(const e of a){const{editedFeatures:t}=e,s=t?.spatialReference?new w(t.spatialReference):null;i.editedFeatureResults.push({layerId:e.id,editedFeatures:{adds:t?.adds?.map((e=>this._createEditedFeature(e,s)))||[],updates:t?.updates?.map((e=>({original:this._createEditedFeature(e[0],s),current:this._createEditedFeature(e[1],s)})))||[],deletes:t?.deletes?.map((e=>this._createEditedFeature(e,s)))||[],spatialReference:s}})}}return i}_createEditedFeature(e,s){return new t({attributes:e.attributes,geometry:R({...e.geometry,spatialReference:s})})}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new o(\"feature-layer-source:edit-failure\",t.description,{code:t.code}):null}}_createAttachmentErrorResult(e,t){const s=t.details.messages&&t.details.messages[0]||t.message,a=t.details.httpStatus||t.details.messageCode;return{objectId:e,globalId:null,error:new o(\"feature-layer-source:attachment-failure\",s,{code:a})}}_getFormDataForAttachment(e,t){const s=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(s)for(const a in t){const e=t[a];null!=e&&(s.set?s.set(a,e):s.append(a,e))}return s}_getLayerRequestOptions(e={}){const{parsedUrl:t,gdbVersion:s,dynamicDataSource:a}=this.layer;return{...e,query:{gdbVersion:s,layer:a?JSON.stringify({source:a}):void 0,...t.query,f:\"json\",...this._createRequestQueryOptions(e)},responseType:\"json\"}}};e([m()],T.prototype,\"type\",void 0),e([m({constructOnly:!0})],T.prototype,\"layer\",void 0),e([m({readOnly:!0})],T.prototype,\"queryTask\",null),T=e([f(\"esri.layers.graphics.sources.FeatureLayerSource\")],T);const A=T;export{A as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}