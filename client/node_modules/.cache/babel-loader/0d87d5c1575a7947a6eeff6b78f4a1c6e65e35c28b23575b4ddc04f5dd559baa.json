{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport o from \"../../../../Color.js\";\nimport r from \"../../../../core/Logger.js\";\nimport { get as t, mapOr as e, isSome as i, unwrap as n } from \"../../../../core/maybe.js\";\nimport { pt2px as l } from \"../../../../core/screenUtils.js\";\nimport { Z as s } from \"../../../../chunks/vec4f64.js\";\nclass a {\n  constructor(o) {\n    this.definition = o, this.key = JSON.stringify(o), this.haloSize = Math.round(o.halo.size), this.textStyle = this._colorToRGBA(o.color), this.haloStyle = this._colorToRGB(o.halo.color), this.backgroundStyle = 0 !== o.background.color[3] ? this._colorToRGBA(o.background.color) : null;\n  }\n  fontString(o) {\n    const r = this.definition.font;\n    return `${r.style} ${r.weight} ${o}px ${r.family}, sans-serif`;\n  }\n  _colorToRGB(o) {\n    return `rgb(${o.slice(0, 3).map(o => Math.floor(255 * o)).toString()})`;\n  }\n  _colorToRGBA(o) {\n    return `rgba(${o.slice(0, 3).map(o => Math.floor(255 * o)).toString()},${o[3]})`;\n  }\n  static async fromSymbol(c, g) {\n    const f = t(c, \"material\", \"color\"),\n      d = e(f, s, o.toUnitRGBA),\n      h = e(c.size, 12, l),\n      m = c.lineHeight,\n      u = i(c.background) ? n(o.toUnitRGBA(c.background.color)) : s,\n      b = {\n        family: e(c.font, \"sans-serif\", o => o.family),\n        decoration: e(c.font, \"none\", o => o.decoration),\n        weight: e(c.font, \"normal\", o => o.weight),\n        style: e(c.font, \"normal\", o => o.style)\n      },\n      y = c.halo,\n      p = i(y) && i(y.color) && y.size > 0 ? {\n        size: l(y.size),\n        color: o.toUnitRGBA(y.color)\n      } : {\n        size: 0,\n        color: s\n      },\n      S = new a({\n        color: d,\n        size: h,\n        background: {\n          color: u,\n          padding: i(c.background) ? [.65 * h, .5 * h] : [0, 0],\n          borderRadius: i(c.background) ? h * (6 / 16) : 0\n        },\n        lineSpacingFactor: m,\n        font: b,\n        halo: p,\n        pixelRatio: g\n      }),\n      R = S.fontString(h);\n    try {\n      await document.fonts.load(R);\n    } catch (k) {\n      r.getLogger(\"esri.views.3d.webgl-engine.lib.TextRenderParameters\").warnOnce(`Failed to preload font '${R}'. Some text symbology may be rendered using the default browser font.`);\n    }\n    return S;\n  }\n}\nexport { a as TextRenderParameters };","map":{"version":3,"names":["o","r","get","t","mapOr","e","isSome","i","unwrap","n","pt2px","l","Z","s","a","constructor","definition","key","JSON","stringify","haloSize","Math","round","halo","size","textStyle","_colorToRGBA","color","haloStyle","_colorToRGB","backgroundStyle","background","fontString","font","style","weight","family","slice","map","floor","toString","fromSymbol","c","g","f","d","toUnitRGBA","h","m","lineHeight","u","b","decoration","y","p","S","padding","borderRadius","lineSpacingFactor","pixelRatio","R","document","fonts","load","k","getLogger","warnOnce","TextRenderParameters"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderParameters.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import r from\"../../../../core/Logger.js\";import{get as t,mapOr as e,isSome as i,unwrap as n}from\"../../../../core/maybe.js\";import{pt2px as l}from\"../../../../core/screenUtils.js\";import{Z as s}from\"../../../../chunks/vec4f64.js\";class a{constructor(o){this.definition=o,this.key=JSON.stringify(o),this.haloSize=Math.round(o.halo.size),this.textStyle=this._colorToRGBA(o.color),this.haloStyle=this._colorToRGB(o.halo.color),this.backgroundStyle=0!==o.background.color[3]?this._colorToRGBA(o.background.color):null}fontString(o){const r=this.definition.font;return`${r.style} ${r.weight} ${o}px ${r.family}, sans-serif`}_colorToRGB(o){return`rgb(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()})`}_colorToRGBA(o){return`rgba(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()},${o[3]})`}static async fromSymbol(c,g){const f=t(c,\"material\",\"color\"),d=e(f,s,o.toUnitRGBA),h=e(c.size,12,l),m=c.lineHeight,u=i(c.background)?n(o.toUnitRGBA(c.background.color)):s,b={family:e(c.font,\"sans-serif\",(o=>o.family)),decoration:e(c.font,\"none\",(o=>o.decoration)),weight:e(c.font,\"normal\",(o=>o.weight)),style:e(c.font,\"normal\",(o=>o.style))},y=c.halo,p=i(y)&&i(y.color)&&y.size>0?{size:l(y.size),color:o.toUnitRGBA(y.color)}:{size:0,color:s},S=new a({color:d,size:h,background:{color:u,padding:i(c.background)?[.65*h,.5*h]:[0,0],borderRadius:i(c.background)?h*(6/16):0},lineSpacingFactor:m,font:b,halo:p,pixelRatio:g}),R=S.fontString(h);try{await document.fonts.load(R)}catch(k){r.getLogger(\"esri.views.3d.webgl-engine.lib.TextRenderParameters\").warnOnce(`Failed to preload font '${R}'. Some text symbology may be rendered using the default browser font.`)}return S}}export{a as TextRenderParameters};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}