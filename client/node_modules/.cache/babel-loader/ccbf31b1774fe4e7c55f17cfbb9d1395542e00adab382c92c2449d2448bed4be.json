{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isNone as t, isSome as e } from \"../../../../../core/maybe.js\";\nimport { ComponentRangeRunLengthEncoded as h } from \"./IndexRange/ComponentRangeRunLengthEncoded.js\";\nclass i {\n  constructor(t, e) {\n    this.pickability = null, this.highlightCounts = null, this.verticalOffsets = null, this.cachedGeometryRanges = null, this.cachedHighlightRanges = null, this.cachedDefaultRanges = null, this.offsets = e.slice();\n    const i = this.count;\n    this.visibility = new h(i), this.materialDataBuffer = t.getBuffer(i), this.materialDataIndices = new Uint16Array(i);\n    for (let h = 0; h < i; h++) this.materialDataIndices[h] = this.materialDataBuffer.acquireIndex();\n  }\n  destroy() {\n    for (let t = 0; t < this.count; t++) this.materialDataBuffer.releaseIndex(this.materialDataIndices[t]);\n  }\n  get count() {\n    return this.offsets.length - 1;\n  }\n  get geometryRanges() {\n    return t(this.cachedGeometryRanges) && (this.cachedGeometryRanges = this.visibility.computeOffsetRanges(this.offsets)), this.cachedGeometryRanges;\n  }\n  get highlightRanges() {\n    return t(this.highlightCounts) ? null : (this._updateCachedHighlightRanges(), this.cachedHighlightRanges);\n  }\n  get defaultShadowMapRanges() {\n    return t(this.highlightCounts) ? this.geometryRanges : (this._updateCachedHighlightRanges(), this.cachedDefaultRanges);\n  }\n  highlightsDirty() {\n    this.cachedHighlightRanges = null, this.cachedDefaultRanges = null;\n  }\n  visibilityDirty() {\n    this.cachedGeometryRanges = null, this.highlightsDirty();\n  }\n  _updateCachedHighlightRanges() {\n    if ((t(this.cachedHighlightRanges) || t(this.cachedDefaultRanges)) && e(this.highlightCounts)) {\n      const {\n        highlightRanges: t,\n        defaultRanges: e\n      } = s(this.highlightCounts, this.visibility, this.offsets);\n      this.cachedHighlightRanges = t, this.cachedDefaultRanges = e;\n    }\n  }\n}\nfunction s(t, e, h) {\n  const i = [],\n    s = [];\n  let a = h.length,\n    n = h.length;\n  return e.forEachComponent(e => (t[e] > 0 ? (a !== e - 1 && (i.length && i.push(h[a + 1] - i[i.length - 1]), i.push(h[e])), a = e) : (n !== e - 1 && (s.length && s.push(h[n + 1] - s[s.length - 1]), s.push(h[e])), n = e), !0)), i.length && i.push(h[a + 1] - i[i.length - 1]), s.length && s.push(h[n + 1] - s[s.length - 1]), {\n    highlightRanges: i,\n    defaultRanges: s\n  };\n}\nexport { i as default };","map":{"version":3,"names":["isNone","t","isSome","e","ComponentRangeRunLengthEncoded","h","i","constructor","pickability","highlightCounts","verticalOffsets","cachedGeometryRanges","cachedHighlightRanges","cachedDefaultRanges","offsets","slice","count","visibility","materialDataBuffer","getBuffer","materialDataIndices","Uint16Array","acquireIndex","destroy","releaseIndex","length","geometryRanges","computeOffsetRanges","highlightRanges","_updateCachedHighlightRanges","defaultShadowMapRanges","highlightsDirty","visibilityDirty","defaultRanges","s","a","n","forEachComponent","push","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentData.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as e}from\"../../../../../core/maybe.js\";import{ComponentRangeRunLengthEncoded as h}from\"./IndexRange/ComponentRangeRunLengthEncoded.js\";class i{constructor(t,e){this.pickability=null,this.highlightCounts=null,this.verticalOffsets=null,this.cachedGeometryRanges=null,this.cachedHighlightRanges=null,this.cachedDefaultRanges=null,this.offsets=e.slice();const i=this.count;this.visibility=new h(i),this.materialDataBuffer=t.getBuffer(i),this.materialDataIndices=new Uint16Array(i);for(let h=0;h<i;h++)this.materialDataIndices[h]=this.materialDataBuffer.acquireIndex()}destroy(){for(let t=0;t<this.count;t++)this.materialDataBuffer.releaseIndex(this.materialDataIndices[t])}get count(){return this.offsets.length-1}get geometryRanges(){return t(this.cachedGeometryRanges)&&(this.cachedGeometryRanges=this.visibility.computeOffsetRanges(this.offsets)),this.cachedGeometryRanges}get highlightRanges(){return t(this.highlightCounts)?null:(this._updateCachedHighlightRanges(),this.cachedHighlightRanges)}get defaultShadowMapRanges(){return t(this.highlightCounts)?this.geometryRanges:(this._updateCachedHighlightRanges(),this.cachedDefaultRanges)}highlightsDirty(){this.cachedHighlightRanges=null,this.cachedDefaultRanges=null}visibilityDirty(){this.cachedGeometryRanges=null,this.highlightsDirty()}_updateCachedHighlightRanges(){if((t(this.cachedHighlightRanges)||t(this.cachedDefaultRanges))&&e(this.highlightCounts)){const{highlightRanges:t,defaultRanges:e}=s(this.highlightCounts,this.visibility,this.offsets);this.cachedHighlightRanges=t,this.cachedDefaultRanges=e}}}function s(t,e,h){const i=[],s=[];let a=h.length,n=h.length;return e.forEachComponent((e=>(t[e]>0?(a!==e-1&&(i.length&&i.push(h[a+1]-i[i.length-1]),i.push(h[e])),a=e):(n!==e-1&&(s.length&&s.push(h[n+1]-s[s.length-1]),s.push(h[e])),n=e),!0))),i.length&&i.push(h[a+1]-i[i.length-1]),s.length&&s.push(h[n+1]-s[s.length-1]),{highlightRanges:i,defaultRanges:s}}export{i as default};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAAOC,8BAA8B,IAAIC,CAAC,QAAK,gDAAgD;AAAC,MAAMC,CAAC;EAACC,WAAWA,CAACN,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACK,WAAW,GAAC,IAAI,EAAC,IAAI,CAACC,eAAe,GAAC,IAAI,EAAC,IAAI,CAACC,eAAe,GAAC,IAAI,EAAC,IAAI,CAACC,oBAAoB,GAAC,IAAI,EAAC,IAAI,CAACC,qBAAqB,GAAC,IAAI,EAAC,IAAI,CAACC,mBAAmB,GAAC,IAAI,EAAC,IAAI,CAACC,OAAO,GAACX,CAAC,CAACY,KAAK,EAAE;IAAC,MAAMT,CAAC,GAAC,IAAI,CAACU,KAAK;IAAC,IAAI,CAACC,UAAU,GAAC,IAAIZ,CAAC,CAACC,CAAC,CAAC,EAAC,IAAI,CAACY,kBAAkB,GAACjB,CAAC,CAACkB,SAAS,CAACb,CAAC,CAAC,EAAC,IAAI,CAACc,mBAAmB,GAAC,IAAIC,WAAW,CAACf,CAAC,CAAC;IAAC,KAAI,IAAID,CAAC,GAAC,CAAC,EAACA,CAAC,GAACC,CAAC,EAACD,CAAC,EAAE,EAAC,IAAI,CAACe,mBAAmB,CAACf,CAAC,CAAC,GAAC,IAAI,CAACa,kBAAkB,CAACI,YAAY,EAAE;EAAA;EAACC,OAAOA,CAAA,EAAE;IAAC,KAAI,IAAItB,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,IAAI,CAACe,KAAK,EAACf,CAAC,EAAE,EAAC,IAAI,CAACiB,kBAAkB,CAACM,YAAY,CAAC,IAAI,CAACJ,mBAAmB,CAACnB,CAAC,CAAC,CAAC;EAAA;EAAC,IAAIe,KAAKA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACF,OAAO,CAACW,MAAM,GAAC,CAAC;EAAA;EAAC,IAAIC,cAAcA,CAAA,EAAE;IAAC,OAAOzB,CAAC,CAAC,IAAI,CAACU,oBAAoB,CAAC,KAAG,IAAI,CAACA,oBAAoB,GAAC,IAAI,CAACM,UAAU,CAACU,mBAAmB,CAAC,IAAI,CAACb,OAAO,CAAC,CAAC,EAAC,IAAI,CAACH,oBAAoB;EAAA;EAAC,IAAIiB,eAAeA,CAAA,EAAE;IAAC,OAAO3B,CAAC,CAAC,IAAI,CAACQ,eAAe,CAAC,GAAC,IAAI,IAAE,IAAI,CAACoB,4BAA4B,EAAE,EAAC,IAAI,CAACjB,qBAAqB,CAAC;EAAA;EAAC,IAAIkB,sBAAsBA,CAAA,EAAE;IAAC,OAAO7B,CAAC,CAAC,IAAI,CAACQ,eAAe,CAAC,GAAC,IAAI,CAACiB,cAAc,IAAE,IAAI,CAACG,4BAA4B,EAAE,EAAC,IAAI,CAAChB,mBAAmB,CAAC;EAAA;EAACkB,eAAeA,CAAA,EAAE;IAAC,IAAI,CAACnB,qBAAqB,GAAC,IAAI,EAAC,IAAI,CAACC,mBAAmB,GAAC,IAAI;EAAA;EAACmB,eAAeA,CAAA,EAAE;IAAC,IAAI,CAACrB,oBAAoB,GAAC,IAAI,EAAC,IAAI,CAACoB,eAAe,EAAE;EAAA;EAACF,4BAA4BA,CAAA,EAAE;IAAC,IAAG,CAAC5B,CAAC,CAAC,IAAI,CAACW,qBAAqB,CAAC,IAAEX,CAAC,CAAC,IAAI,CAACY,mBAAmB,CAAC,KAAGV,CAAC,CAAC,IAAI,CAACM,eAAe,CAAC,EAAC;MAAC,MAAK;QAACmB,eAAe,EAAC3B,CAAC;QAACgC,aAAa,EAAC9B;MAAC,CAAC,GAAC+B,CAAC,CAAC,IAAI,CAACzB,eAAe,EAAC,IAAI,CAACQ,UAAU,EAAC,IAAI,CAACH,OAAO,CAAC;MAAC,IAAI,CAACF,qBAAqB,GAACX,CAAC,EAAC,IAAI,CAACY,mBAAmB,GAACV,CAAC;IAAA;EAAC;AAAC;AAAC,SAAS+B,CAACA,CAACjC,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;EAAC,MAAMC,CAAC,GAAC,EAAE;IAAC4B,CAAC,GAAC,EAAE;EAAC,IAAIC,CAAC,GAAC9B,CAAC,CAACoB,MAAM;IAACW,CAAC,GAAC/B,CAAC,CAACoB,MAAM;EAAC,OAAOtB,CAAC,CAACkC,gBAAgB,CAAElC,CAAC,KAAGF,CAAC,CAACE,CAAC,CAAC,GAAC,CAAC,IAAEgC,CAAC,KAAGhC,CAAC,GAAC,CAAC,KAAGG,CAAC,CAACmB,MAAM,IAAEnB,CAAC,CAACgC,IAAI,CAACjC,CAAC,CAAC8B,CAAC,GAAC,CAAC,CAAC,GAAC7B,CAAC,CAACA,CAAC,CAACmB,MAAM,GAAC,CAAC,CAAC,CAAC,EAACnB,CAAC,CAACgC,IAAI,CAACjC,CAAC,CAACF,CAAC,CAAC,CAAC,CAAC,EAACgC,CAAC,GAAChC,CAAC,KAAGiC,CAAC,KAAGjC,CAAC,GAAC,CAAC,KAAG+B,CAAC,CAACT,MAAM,IAAES,CAAC,CAACI,IAAI,CAACjC,CAAC,CAAC+B,CAAC,GAAC,CAAC,CAAC,GAACF,CAAC,CAACA,CAAC,CAACT,MAAM,GAAC,CAAC,CAAC,CAAC,EAACS,CAAC,CAACI,IAAI,CAACjC,CAAC,CAACF,CAAC,CAAC,CAAC,CAAC,EAACiC,CAAC,GAACjC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAE,EAACG,CAAC,CAACmB,MAAM,IAAEnB,CAAC,CAACgC,IAAI,CAACjC,CAAC,CAAC8B,CAAC,GAAC,CAAC,CAAC,GAAC7B,CAAC,CAACA,CAAC,CAACmB,MAAM,GAAC,CAAC,CAAC,CAAC,EAACS,CAAC,CAACT,MAAM,IAAES,CAAC,CAACI,IAAI,CAACjC,CAAC,CAAC+B,CAAC,GAAC,CAAC,CAAC,GAACF,CAAC,CAACA,CAAC,CAACT,MAAM,GAAC,CAAC,CAAC,CAAC,EAAC;IAACG,eAAe,EAACtB,CAAC;IAAC2B,aAAa,EAACC;EAAC,CAAC;AAAA;AAAC,SAAO5B,CAAC,IAAIiC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}