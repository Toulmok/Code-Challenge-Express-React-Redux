{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { clock as e } from \"../../../core/clock.js\";\nimport { someMap as t } from \"../../../core/MapUtils.js\";\nimport { removeMaybe as i } from \"../../../core/maybe.js\";\nimport { InputHandler as o } from \"../InputHandler.js\";\nimport { manhattanDistance as n, getPointerId as s } from \"./support.js\";\nconst l = {\n  maximumDoubleClickDelay: 250,\n  maximumDoubleClickDistance: 10,\n  maximumDoubleTouchDelay: 350,\n  maximumDoubleTouchDistance: 35\n};\nclass m extends o {\n  constructor() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : l.maximumDoubleClickDelay;\n    let i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : l.maximumDoubleClickDistance;\n    let o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : l.maximumDoubleTouchDelay;\n    let n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : l.maximumDoubleTouchDistance;\n    let s = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : e;\n    super(!1), this._maximumDoubleClickDelay = t, this._maximumDoubleClickDistance = i, this._maximumDoubleTouchDelay = o, this._maximumDoubleTouchDistance = n, this._clock = s, this._pointerState = new Map(), this._click = this.registerOutgoing(\"click\"), this._doubleClick = this.registerOutgoing(\"double-click\"), this.registerIncoming(\"immediate-click\", this._handleImmediateClick.bind(this)), this.registerIncoming(\"pointer-down\", this._handlePointerDown.bind(this));\n  }\n  onUninstall() {\n    this._pointerState.forEach(e => e.doubleClickTimer = i(e.doubleClickTimer));\n  }\n  get hasPendingInputs() {\n    return t(this._pointerState, e => null != e.doubleClickTimer);\n  }\n  _clearDoubleClickTimer(e, t) {\n    const o = this._pointerState.get(e);\n    o && (o.doubleClickTimer = i(o.doubleClickTimer), t && this._click.emit(o.event.data, void 0, o.event.modifiers), this._pointerState.delete(e), this.refreshHasPendingInputs());\n  }\n  _doubleClickTimeoutExceeded(e) {\n    const t = this._pointerState.get(e);\n    1 === t.pointerDownCount && this._click.emit(t.event.data, void 0, t.event.modifiers), t.doubleClickTimer = null, this._pointerState.delete(e), this.refreshHasPendingInputs();\n  }\n  _getPointerId(e) {\n    const {\n      pointerId: t,\n      pointerType: i,\n      button: o\n    } = e.native;\n    return \"mouse\" === i ? `${t}:${o}` : `${i}`;\n  }\n  _handleImmediateClick(e) {\n    const t = e.data,\n      {\n        pointerType: i\n      } = t.native,\n      o = this._getPointerId(t);\n    if (!this._pointerState.has(o)) return void this._startClick(e);\n    const s = this._pointerState.get(o),\n      {\n        data: l,\n        modifiers: m\n      } = s.event,\n      c = \"touch\" === i ? this._maximumDoubleTouchDistance : this._maximumDoubleClickDistance;\n    n(l, t) > c ? (this._clearDoubleClickTimer(o, !0), this._startClick(e)) : (this._clearDoubleClickTimer(o, !1), 2 === s.pointerDownCount && this._doubleClick.emit(l, void 0, m));\n  }\n  _handlePointerDown(e) {\n    const t = s(e.data),\n      i = this._pointerState.get(t);\n    i && (i.pointerDownCount += 1);\n  }\n  _startClick(e) {\n    const {\n        data: t\n      } = e,\n      {\n        native: {\n          pointerType: i\n        }\n      } = t,\n      o = s(t),\n      n = \"touch\" === i ? this._maximumDoubleTouchDelay : this._maximumDoubleClickDelay,\n      l = this._clock.setTimeout(() => this._doubleClickTimeoutExceeded(o), n),\n      m = 1;\n    this._pointerState.set(o, {\n      event: e,\n      doubleClickTimer: l,\n      pointerDownCount: m\n    }), this.refreshHasPendingInputs();\n  }\n}\nexport { l as DefaultParameters, m as SingleAndDoubleClick };","map":{"version":3,"names":["clock","e","someMap","t","removeMaybe","i","InputHandler","o","manhattanDistance","n","getPointerId","s","l","maximumDoubleClickDelay","maximumDoubleClickDistance","maximumDoubleTouchDelay","maximumDoubleTouchDistance","m","constructor","arguments","length","undefined","_maximumDoubleClickDelay","_maximumDoubleClickDistance","_maximumDoubleTouchDelay","_maximumDoubleTouchDistance","_clock","_pointerState","Map","_click","registerOutgoing","_doubleClick","registerIncoming","_handleImmediateClick","bind","_handlePointerDown","onUninstall","forEach","doubleClickTimer","hasPendingInputs","_clearDoubleClickTimer","get","emit","event","data","modifiers","delete","refreshHasPendingInputs","_doubleClickTimeoutExceeded","pointerDownCount","_getPointerId","pointerId","pointerType","button","native","has","_startClick","c","setTimeout","set","DefaultParameters","SingleAndDoubleClick"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/input/recognizers/SingleAndDoubleClick.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{clock as e}from\"../../../core/clock.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{removeMaybe as i}from\"../../../core/maybe.js\";import{InputHandler as o}from\"../InputHandler.js\";import{manhattanDistance as n,getPointerId as s}from\"./support.js\";const l={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};class m extends o{constructor(t=l.maximumDoubleClickDelay,i=l.maximumDoubleClickDistance,o=l.maximumDoubleTouchDelay,n=l.maximumDoubleTouchDistance,s=e){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=o,this._maximumDoubleTouchDistance=n,this._clock=s,this._pointerState=new Map,this._click=this.registerOutgoing(\"click\"),this._doubleClick=this.registerOutgoing(\"double-click\"),this.registerIncoming(\"immediate-click\",this._handleImmediateClick.bind(this)),this.registerIncoming(\"pointer-down\",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach((e=>e.doubleClickTimer=i(e.doubleClickTimer)))}get hasPendingInputs(){return t(this._pointerState,(e=>null!=e.doubleClickTimer))}_clearDoubleClickTimer(e,t){const o=this._pointerState.get(e);o&&(o.doubleClickTimer=i(o.doubleClickTimer),t&&this._click.emit(o.event.data,void 0,o.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const t=this._pointerState.get(e);1===t.pointerDownCount&&this._click.emit(t.event.data,void 0,t.event.modifiers),t.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}_getPointerId(e){const{pointerId:t,pointerType:i,button:o}=e.native;return\"mouse\"===i?`${t}:${o}`:`${i}`}_handleImmediateClick(e){const t=e.data,{pointerType:i}=t.native,o=this._getPointerId(t);if(!this._pointerState.has(o))return void this._startClick(e);const s=this._pointerState.get(o),{data:l,modifiers:m}=s.event,c=\"touch\"===i?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;n(l,t)>c?(this._clearDoubleClickTimer(o,!0),this._startClick(e)):(this._clearDoubleClickTimer(o,!1),2===s.pointerDownCount&&this._doubleClick.emit(l,void 0,m))}_handlePointerDown(e){const t=s(e.data),i=this._pointerState.get(t);i&&(i.pointerDownCount+=1)}_startClick(e){const{data:t}=e,{native:{pointerType:i}}=t,o=s(t),n=\"touch\"===i?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,l=this._clock.setTimeout((()=>this._doubleClickTimeoutExceeded(o)),n),m=1;this._pointerState.set(o,{event:e,doubleClickTimer:l,pointerDownCount:m}),this.refreshHasPendingInputs()}}export{l as DefaultParameters,m as SingleAndDoubleClick};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}