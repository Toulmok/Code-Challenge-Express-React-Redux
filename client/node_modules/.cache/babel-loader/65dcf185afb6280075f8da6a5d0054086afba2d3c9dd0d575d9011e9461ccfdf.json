{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as e, isNone as s } from \"../../../../core/maybe.js\";\nimport { watch as r, initial as t } from \"../../../../core/reactiveUtils.js\";\nimport { ContentObjectType as o } from \"../../webgl-engine/lib/ContentObjectType.js\";\nimport { Object3D as i } from \"../../webgl-engine/lib/Object3D.js\";\nimport { Texture as c } from \"../../webgl-engine/lib/Texture.js\";\nimport { UpdatePolicy as a } from \"../../webgl-engine/lib/UpdatePolicy.js\";\nimport { WebGLLayer as h } from \"../../webgl-engine/lib/WebGLLayer.js\";\nclass u {\n  constructor(e) {\n    this._resourceFactory = e, this._resources = null, this._visible = !0, this._attached = !1;\n  }\n  destroy() {\n    this._destroyResources();\n  }\n  get object() {\n    return e(this._resources) ? this._resources.object : null;\n  }\n  get resources() {\n    return e(this._resources) ? this._resources.external : null;\n  }\n  get visible() {\n    return this._visible;\n  }\n  set visible(e) {\n    e !== this._visible && (this._visible = e, this._syncVisible());\n  }\n  get attached() {\n    return this._attached;\n  }\n  set attached(e) {\n    e !== this._attached && (this._attached = e, this._createOrDestroyResources());\n  }\n  recreate() {\n    this.attached && this._createResources();\n  }\n  recreateGeometry() {\n    if (!this._resourceFactory.recreateGeometry) return void this.recreate();\n    const e = this._resourceFactory.view._stage;\n    if (s(this._resources) || !e) return;\n    const r = this._resources.object;\n    this._resources.external.forEach(s => {\n      s.type !== o.Mesh && s.type !== o.Line && s.type !== o.Point || e.remove(s);\n    }), r.removeAllGeometries(), this._resourceFactory.recreateGeometry(this._resources.external, r, this._resources.layer), this._resources.external.forEach(s => {\n      s.type !== o.Mesh && s.type !== o.Line && s.type !== o.Point || e.add(s);\n    });\n  }\n  _createOrDestroyResources() {\n    this._attached ? this._resources || this._createResources() : this._destroyResources();\n  }\n  _createResources() {\n    this._destroyResources();\n    const e = this._resourceFactory,\n      s = e.view,\n      o = s._stage;\n    if (!o) return;\n    const u = new h({\n      pickable: !1,\n      updatePolicy: a.SYNC\n    });\n    o.add(u);\n    const _ = new i({\n        castShadow: !1\n      }),\n      n = e.createResources(_, u);\n    n.forEach(e => {\n      o.add(e), e instanceof c && o.loadImmediate(e);\n    }), o.add(_), u.add(_);\n    const l = e.cameraChanged,\n      y = l ? r(() => s.state.camera, e => l(e), t) : null;\n    this._resources = {\n      layer: u,\n      object: _,\n      external: n,\n      cameraHandle: y\n    }, this._syncVisible();\n  }\n  _destroyResources() {\n    if (s(this._resources)) return;\n    const e = this._resourceFactory.view._stage;\n    e && (e.remove(this._resources.object), e.remove(this._resources.layer), this._resources.external.forEach(s => e.remove(s))), this._resources.object.dispose(), this._resources.cameraHandle?.remove(), this._resourceFactory.destroyResources(this._resources.external), this._resources = null;\n  }\n  _syncVisible() {\n    s(this._resources) || (this._resources.object.visible = this._visible);\n  }\n}\nexport { u as VisualElementResources };","map":{"version":3,"names":["isSome","e","isNone","s","watch","r","initial","t","ContentObjectType","o","Object3D","i","Texture","c","UpdatePolicy","a","WebGLLayer","h","u","constructor","_resourceFactory","_resources","_visible","_attached","destroy","_destroyResources","object","resources","external","visible","_syncVisible","attached","_createOrDestroyResources","recreate","_createResources","recreateGeometry","view","_stage","forEach","type","Mesh","Line","Point","remove","removeAllGeometries","layer","add","pickable","updatePolicy","SYNC","_","castShadow","n","createResources","loadImmediate","l","cameraChanged","y","state","camera","cameraHandle","dispose","destroyResources","VisualElementResources"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{watch as r,initial as t}from\"../../../../core/reactiveUtils.js\";import{ContentObjectType as o}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Object3D as i}from\"../../webgl-engine/lib/Object3D.js\";import{Texture as c}from\"../../webgl-engine/lib/Texture.js\";import{UpdatePolicy as a}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as h}from\"../../webgl-engine/lib/WebGLLayer.js\";class u{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return e(this._resources)?this._resources.object:null}get resources(){return e(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const e=this._resourceFactory.view._stage;if(s(this._resources)||!e)return;const r=this._resources.object;this._resources.external.forEach((s=>{s.type!==o.Mesh&&s.type!==o.Line&&s.type!==o.Point||e.remove(s)})),r.removeAllGeometries(),this._resourceFactory.recreateGeometry(this._resources.external,r,this._resources.layer),this._resources.external.forEach((s=>{s.type!==o.Mesh&&s.type!==o.Line&&s.type!==o.Point||e.add(s)}))}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory,s=e.view,o=s._stage;if(!o)return;const u=new h({pickable:!1,updatePolicy:a.SYNC});o.add(u);const _=new i({castShadow:!1}),n=e.createResources(_,u);n.forEach((e=>{o.add(e),e instanceof c&&o.loadImmediate(e)})),o.add(_),u.add(_);const l=e.cameraChanged,y=l?r((()=>s.state.camera),(e=>l(e)),t):null;this._resources={layer:u,object:_,external:n,cameraHandle:y},this._syncVisible()}_destroyResources(){if(s(this._resources))return;const e=this._resourceFactory.view._stage;e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this._resources.external.forEach((s=>e.remove(s)))),this._resources.object.dispose(),this._resources.cameraHandle?.remove(),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncVisible(){s(this._resources)||(this._resources.object.visible=this._visible)}}export{u as VisualElementResources};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}