{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../chunks/tslib.es6.js\";\nimport s from \"../../core/Accessor.js\";\nimport { JSONMap as e } from \"../../core/jsonMap.js\";\nimport o from \"../../core/Logger.js\";\nimport t from \"../../core/Warning.js\";\nimport { property as a } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as i } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport l from \"./ColorVariable.js\";\nimport n from \"./OpacityVariable.js\";\nimport c from \"./RotationVariable.js\";\nimport p from \"./SizeVariable.js\";\nvar u = {\n    color: l,\n    size: p,\n    opacity: n,\n    rotation: c\n  },\n  b = new e({\n    colorInfo: \"color\",\n    transparencyInfo: \"opacity\",\n    rotationInfo: \"rotation\",\n    sizeInfo: \"size\"\n  }),\n  h = /^\\[([^\\]]+)\\]$/i;\nvar V = /*#__PURE__*/function (_s) {\n  _inherits(V, _s);\n  var _super = _createSuper(V);\n  function V() {\n    var _this;\n    _classCallCheck(this, V);\n    _this = _super.apply(this, arguments), _this.colorVariables = null, _this.opacityVariables = null, _this.rotationVariables = null, _this.sizeVariables = null;\n    return _this;\n  }\n  _createClass(V, [{\n    key: \"visualVariables\",\n    set: function set(r) {\n      if (this._resetVariables(), (r = r && r.filter(function (r) {\n        return !!r;\n      })) && r.length) {\n        var _iterator = _createForOfIteratorHelper(r),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _s3 = _step.value;\n            switch (_s3.type) {\n              case \"color\":\n                this.colorVariables.push(_s3);\n                break;\n              case \"opacity\":\n                this.opacityVariables.push(_s3);\n                break;\n              case \"rotation\":\n                this.rotationVariables.push(_s3);\n                break;\n              case \"size\":\n                this.sizeVariables.push(_s3);\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        if (this.sizeVariables.length) {\n          this.sizeVariables.some(function (r) {\n            return !!r.target;\n          }) && r.sort(function (r, s) {\n            var e = null;\n            return e = r.target === s.target ? 0 : r.target ? 1 : -1, e;\n          });\n        }\n        for (var _s2 = 0; _s2 < r.length; _s2++) {\n          r[_s2].index = _s2;\n        }\n        this._set(\"visualVariables\", r);\n      } else this._set(\"visualVariables\", r);\n    }\n  }, {\n    key: \"readVariables\",\n    value: function readVariables(r, s, e) {\n      var _this2 = this;\n      var a = s.rotationExpression,\n        i = s.rotationType,\n        l = a && a.match(h),\n        n = l && l[1];\n      if (n && (r || (r = []), r.push({\n        type: \"rotationInfo\",\n        rotationType: i,\n        field: n\n      })), r) return r.map(function (r) {\n        var s = b.read(r.type),\n          a = u[s];\n        a || (o.getLogger(_this2.declaredClass).warn(\"Unknown variable type: \".concat(s)), e && e.messages && e.messages.push(new t(\"visual-variable:unsupported\", \"visualVariable of type '\".concat(s, \"' is not supported\"), {\n          definition: r,\n          context: e\n        })));\n        var i = new a();\n        return i.read(r, e), i;\n      });\n    }\n  }, {\n    key: \"writeVariables\",\n    value: function writeVariables(r, s) {\n      var e = [];\n      var _iterator2 = _createForOfIteratorHelper(r),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _o = _step2.value;\n          var _r = _o.toJSON(s);\n          _r && e.push(_r);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      return e;\n    }\n  }, {\n    key: \"_resetVariables\",\n    value: function _resetVariables() {\n      this.colorVariables = [], this.opacityVariables = [], this.rotationVariables = [], this.sizeVariables = [];\n    }\n  }]);\n  return V;\n}(s);\nr([a()], V.prototype, \"visualVariables\", null), V = r([i(\"esri.renderers.visualVariables.VisualVariableFactory\")], V);\nvar f = V;\nexport { f as default };","map":{"version":3,"names":["_","r","s","JSONMap","e","o","t","property","a","subclass","i","l","n","c","p","u","color","size","opacity","rotation","b","colorInfo","transparencyInfo","rotationInfo","sizeInfo","h","V","_s","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","colorVariables","opacityVariables","rotationVariables","sizeVariables","_createClass","key","set","_resetVariables","filter","length","_iterator","_createForOfIteratorHelper","_step","done","value","type","push","err","f","some","target","sort","index","_set","readVariables","_this2","rotationExpression","rotationType","match","field","map","read","getLogger","declaredClass","warn","concat","messages","definition","context","writeVariables","_iterator2","_step2","toJSON","prototype","default"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/renderers/visualVariables/VisualVariableFactory.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import s from\"../../core/Accessor.js\";import{JSONMap as e}from\"../../core/jsonMap.js\";import o from\"../../core/Logger.js\";import t from\"../../core/Warning.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"./ColorVariable.js\";import n from\"./OpacityVariable.js\";import c from\"./RotationVariable.js\";import p from\"./SizeVariable.js\";const u={color:l,size:p,opacity:n,rotation:c},b=new e({colorInfo:\"color\",transparencyInfo:\"opacity\",rotationInfo:\"rotation\",sizeInfo:\"size\"}),h=/^\\[([^\\]]+)\\]$/i;let V=class extends s{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(r){if(this._resetVariables(),(r=r&&r.filter((r=>!!r)))&&r.length){for(const s of r)switch(s.type){case\"color\":this.colorVariables.push(s);break;case\"opacity\":this.opacityVariables.push(s);break;case\"rotation\":this.rotationVariables.push(s);break;case\"size\":this.sizeVariables.push(s)}if(this.sizeVariables.length){this.sizeVariables.some((r=>!!r.target))&&r.sort(((r,s)=>{let e=null;return e=r.target===s.target?0:r.target?1:-1,e}))}for(let s=0;s<r.length;s++){r[s].index=s}this._set(\"visualVariables\",r)}else this._set(\"visualVariables\",r)}readVariables(r,s,e){const{rotationExpression:a,rotationType:i}=s,l=a&&a.match(h),n=l&&l[1];if(n&&(r||(r=[]),r.push({type:\"rotationInfo\",rotationType:i,field:n})),r)return r.map((r=>{const s=b.read(r.type),a=u[s];a||(o.getLogger(this.declaredClass).warn(`Unknown variable type: ${s}`),e&&e.messages&&e.messages.push(new t(\"visual-variable:unsupported\",`visualVariable of type '${s}' is not supported`,{definition:r,context:e})));const i=new a;return i.read(r,e),i}))}writeVariables(r,s){const e=[];for(const o of r){const r=o.toJSON(s);r&&e.push(r)}return e}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};r([a()],V.prototype,\"visualVariables\",null),V=r([i(\"esri.renderers.visualVariables.VisualVariableFactory\")],V);const f=V;export{f as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}