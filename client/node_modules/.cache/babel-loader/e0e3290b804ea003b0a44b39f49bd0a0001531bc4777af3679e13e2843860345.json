{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../Color.js\";\nimport a from \"../../../Graphic.js\";\nimport { neverReached as r } from \"../../../core/compilerUtils.js\";\nimport i from \"../../../core/Logger.js\";\nimport { isNone as n, isSome as t } from \"../../../core/maybe.js\";\nimport { meterIn as s } from \"../../support/lengthUtils.js\";\nimport { isSizeVariable as l, isValidNumber as o, TransformationType as c, InputValueType as u } from \"./sizeVariableUtils.js\";\nconst f = i.getLogger(\"esri.renderers.visualVariables.support.visualVariableUtils\"),\n  p = new a(),\n  d = Math.PI,\n  v = /^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i;\nfunction b(a, r, i) {\n  const s = \"visualVariables\" in a && a.visualVariables ? a.visualVariables.find(e => \"color\" === e.type) : a;\n  if (!s) return;\n  if (\"esri.renderers.visualVariables.ColorVariable\" !== s.declaredClass) return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable\");\n  const l = \"number\" == typeof r,\n    o = l ? null : r,\n    c = o && o.attributes;\n  let u = l ? r : null;\n  const p = s.field,\n    {\n      ipData: d,\n      hasExpression: v\n    } = s.cache;\n  let b = s.cache.compiledFunc;\n  if (!p && !v) {\n    const e = s.stops;\n    return e && e[0] && e[0].color;\n  }\n  if (\"number\" != typeof u) if (v) {\n    if (n(i) || n(i.arcade)) return void f.error(\"Use of arcade expressions requires an arcade context\");\n    const e = {\n        viewingMode: i.viewingMode,\n        scale: i.scale,\n        spatialReference: i.spatialReference\n      },\n      a = i.arcade.arcadeUtils,\n      r = a.getViewInfo(e),\n      t = a.createExecContext(o, r);\n    if (!b) {\n      const e = a.createSyntaxTree(s.valueExpression);\n      b = a.createFunction(e), s.cache.compiledFunc = b;\n    }\n    u = a.executeFunction(b, t);\n  } else c && (u = c[p]);\n  const h = s.normalizationField,\n    m = null != c && null != h ? parseFloat(c[h]) : void 0;\n  if (null != u && (!h || l || !isNaN(m) && 0 !== m)) {\n    isNaN(m) || l || (u /= m);\n    const a = R(u, d);\n    if (a) {\n      const r = a[0],\n        n = a[1],\n        l = r === n ? s.stops[r].color : e.blendColors(s.stops[r].color, s.stops[n].color, a[2], t(i) ? i.color : void 0);\n      return new e(l);\n    }\n  }\n}\nfunction h(e, a, r) {\n  const i = \"visualVariables\" in e && e.visualVariables ? e.visualVariables.find(e => \"opacity\" === e.type) : e;\n  if (!i) return;\n  if (\"esri.renderers.visualVariables.OpacityVariable\" !== i.declaredClass) return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable\");\n  const t = \"number\" == typeof a,\n    s = t ? null : a,\n    l = s && s.attributes;\n  let o = t ? a : null;\n  const c = i.field,\n    {\n      ipData: u,\n      hasExpression: p\n    } = i.cache;\n  let d = i.cache.compiledFunc;\n  if (!c && !p) {\n    const e = i.stops;\n    return e && e[0] && e[0].opacity;\n  }\n  if (\"number\" != typeof o) if (p) {\n    if (n(r) || n(r.arcade)) return void f.error(\"Use of arcade expressions requires an arcade context\");\n    const e = {\n        viewingMode: r.viewingMode,\n        scale: r.scale,\n        spatialReference: r.spatialReference\n      },\n      a = r.arcade.arcadeUtils,\n      t = a.getViewInfo(e),\n      l = a.createExecContext(s, t);\n    if (!d) {\n      const e = a.createSyntaxTree(i.valueExpression);\n      d = a.createFunction(e), i.cache.compiledFunc = d;\n    }\n    o = a.executeFunction(d, l);\n  } else l && (o = l[c]);\n  const v = i.normalizationField,\n    b = null != l && null != v ? parseFloat(l[v]) : void 0;\n  if (null != o && (!v || t || !isNaN(b) && 0 !== b)) {\n    isNaN(b) || t || (o /= b);\n    const e = R(o, u);\n    if (e) {\n      const a = e[0],\n        r = e[1];\n      if (a === r) return i.stops[a].opacity;\n      {\n        const n = i.stops[a].opacity;\n        return n + (i.stops[r].opacity - n) * e[2];\n      }\n    }\n  }\n}\nfunction m(e, a, r) {\n  const i = \"visualVariables\" in e && e.visualVariables ? e.visualVariables.find(e => \"rotation\" === e.type) : e;\n  if (!i) return;\n  if (\"esri.renderers.visualVariables.RotationVariable\" !== i.declaredClass) return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable\");\n  const t = i.axis || \"heading\",\n    s = \"heading\" === t && \"arithmetic\" === i.rotationType ? 90 : 0,\n    l = \"heading\" === t && \"arithmetic\" === i.rotationType ? -1 : 1,\n    o = \"number\" == typeof a ? null : a,\n    c = o && o.attributes,\n    u = i.field,\n    {\n      hasExpression: p\n    } = i.cache;\n  let d = i.cache.compiledFunc,\n    v = 0;\n  if (!u && !p) return v;\n  if (p) {\n    if (n(r) || n(r.arcade)) return void f.error(\"Use of arcade expressions requires an arcade context\");\n    const e = {\n        viewingMode: r.viewingMode,\n        scale: r.scale,\n        spatialReference: r.spatialReference\n      },\n      a = r.arcade.arcadeUtils,\n      t = a.getViewInfo(e),\n      s = a.createExecContext(o, t);\n    if (!d) {\n      const e = a.createSyntaxTree(i.valueExpression);\n      d = a.createFunction(e), i.cache.compiledFunc = d;\n    }\n    v = a.executeFunction(d, s);\n  } else c && (v = c[u] || 0);\n  return v = \"number\" != typeof v || isNaN(v) ? null : s + l * v, v;\n}\nfunction V(e, a, r) {\n  const i = \"number\" == typeof a,\n    s = i ? null : a,\n    l = s && s.attributes;\n  let c = i ? a : null;\n  const {\n    isScaleDriven: p\n  } = e.cache;\n  let d = e.cache.compiledFunc;\n  if (p) {\n    const a = t(r) ? r.scale : void 0,\n      i = t(r) ? r.view : void 0;\n    c = null == a || \"3d\" === i ? x(e) : a;\n  } else if (!i) switch (e.inputValueType) {\n    case u.Expression:\n      {\n        if (n(r) || n(r.arcade)) return void f.error(\"Use of arcade expressions requires an arcade context\");\n        const a = {\n            viewingMode: r.viewingMode,\n            scale: r.scale,\n            spatialReference: r.spatialReference\n          },\n          i = r.arcade.arcadeUtils,\n          t = i.getViewInfo(a),\n          l = i.createExecContext(s, t);\n        if (!d) {\n          const a = i.createSyntaxTree(e.valueExpression);\n          d = i.createFunction(a), e.cache.compiledFunc = d;\n        }\n        c = i.executeFunction(d, l);\n        break;\n      }\n    case u.Field:\n      l && (c = l[e.field]);\n      break;\n    case u.Unknown:\n      c = null;\n  }\n  if (!o(c)) return null;\n  if (i || !e.normalizationField) return c;\n  const v = l ? parseFloat(l[e.normalizationField]) : null;\n  return o(v) && 0 !== v ? c / v : null;\n}\nfunction x(e) {\n  let a = null,\n    r = null;\n  const i = e.stops;\n  return i ? (a = i[0].value, r = i[i.length - 1].value) : (a = e.minDataValue || 0, r = e.maxDataValue || 0), (a + r) / 2;\n}\nfunction y(e, a, r) {\n  const i = \"visualVariables\" in e && e.visualVariables ? e.visualVariables.find(e => \"size\" === e.type) : e;\n  if (!i) return;\n  if (\"esri.renderers.visualVariables.SizeVariable\" !== i.declaredClass) return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable\");\n  const n = M(V(i, a, r), i, a, r, i.cache.ipData);\n  return null == n || isNaN(n) ? 0 : n;\n}\nfunction w(e, a, r) {\n  return null == e ? null : l(e) ? y(e, a, r) : o(e) ? e : null;\n}\nfunction g(e, a, r) {\n  return o(r) && e > r ? r : o(a) && e < a ? a : e;\n}\nfunction z(e, a, r, i) {\n  return e + ((w(a.minSize, r, i) || a.minDataValue) ?? 0);\n}\nfunction F(e, a, r) {\n  const i = e.stops;\n  let n = i && i.length && i[0].size;\n  return null == n && (n = e.minSize), w(n, a, r);\n}\nfunction S(e, a, r, i) {\n  const n = (e - a.minDataValue) / (a.maxDataValue - a.minDataValue),\n    s = w(a.minSize, r, i),\n    l = w(a.maxSize, r, i),\n    o = t(i) ? i.shape : void 0;\n  if (e <= a.minDataValue) return s;\n  if (e >= a.maxDataValue) return l;\n  if (null == s || null == l) return null;\n  if (\"area\" === a.scaleBy && o) {\n    const e = \"circle\" === o,\n      a = e ? d * (s / 2) ** 2 : s * s,\n      r = a + n * ((e ? d * (l / 2) ** 2 : l * l) - a);\n    return e ? 2 * Math.sqrt(r / d) : Math.sqrt(r);\n  }\n  return s + n * (l - s);\n}\nfunction E(e, a, r, i) {\n  const n = t(i) ? i.shape : void 0,\n    s = e / a.minDataValue,\n    l = w(a.minSize, r, i),\n    o = w(a.maxSize, r, i);\n  let c = null;\n  return c = \"circle\" === n ? 2 * Math.sqrt(s * (l / 2) ** 2) : \"square\" === n || \"diamond\" === n || \"image\" === n ? Math.sqrt(s * l ** 2) : s * l, g(c, l, o);\n}\nfunction U(e, a, r, i, n) {\n  const [t, s, l] = R(e, n);\n  if (t === s) return w(a.stops?.[t].size, r, i);\n  {\n    const e = w(a.stops?.[t].size, r, i);\n    return e + (w(a.stops?.[s].size, r, i) - e) * l;\n  }\n}\nfunction C(e, a, r, i) {\n  const n = (t(i) && i.resolution ? i.resolution : 1) * s[a.valueUnit],\n    l = w(a.minSize, r, i),\n    o = w(a.maxSize, r, i),\n    {\n      valueRepresentation: c\n    } = a;\n  let u = null;\n  return u = \"area\" === c ? 2 * Math.sqrt(e / d) / n : \"radius\" === c || \"distance\" === c ? 2 * e / n : e / n, g(u, l, o);\n}\nfunction D(e) {\n  return e;\n}\nfunction M(e, a, r, i, n) {\n  switch (a.transformationType) {\n    case c.Additive:\n      return z(e, a, r, i);\n    case c.Constant:\n      return F(a, r, i);\n    case c.ClampedLinear:\n      return S(e, a, r, i);\n    case c.Proportional:\n      return E(e, a, r, i);\n    case c.Stops:\n      return U(e, a, r, i, n);\n    case c.RealWorldSize:\n      return C(e, a, r, i);\n    case c.Identity:\n      return D(e);\n    case c.Unknown:\n      return null;\n  }\n}\nfunction k(e, a, r) {\n  const {\n    isScaleDriven: i\n  } = e.cache;\n  if (!(i && \"3d\" === r || a)) return null;\n  const n = {\n    scale: a,\n    view: r\n  };\n  let t = w(e.minSize, p, n),\n    s = w(e.maxSize, p, n);\n  if (null != t || null != s) {\n    if (t > s) {\n      const e = s;\n      s = t, t = e;\n    }\n    return {\n      minSize: t,\n      maxSize: s\n    };\n  }\n}\nfunction N(e, a, r) {\n  if (!e.visualVariables) return;\n  const i = [],\n    n = [],\n    t = [],\n    s = [],\n    l = [];\n  for (const o of e.visualVariables) switch (o.type) {\n    case \"color\":\n      n.push(o);\n      break;\n    case \"opacity\":\n      t.push(o);\n      break;\n    case \"rotation\":\n      l.push(o);\n      break;\n    case \"size\":\n      s.push(o);\n  }\n  return n.forEach(e => {\n    const n = b(e, a, r);\n    i.push({\n      variable: e,\n      value: n\n    });\n  }), t.forEach(e => {\n    const n = h(e, a, r);\n    i.push({\n      variable: e,\n      value: n\n    });\n  }), l.forEach(e => {\n    const n = m(e, a, r);\n    i.push({\n      variable: e,\n      value: n\n    });\n  }), s.forEach(e => {\n    const n = y(e, a, r);\n    i.push({\n      variable: e,\n      value: n\n    });\n  }), i.filter(e => null != e.value);\n}\nfunction R(e, a) {\n  if (!a) return;\n  let r = 0,\n    i = a.length - 1;\n  return a.some((a, n) => e < a ? (i = n, !0) : (r = n, !1)), [r, i, (e - a[r]) / (a[i] - a[r])];\n}\nfunction T(e, a, i) {\n  const n = [\"proportional\", \"proportional\", \"proportional\"];\n  for (const t of e) {\n    const e = t.useSymbolValue ? \"symbol-value\" : y(t, a, i);\n    switch (t.axis) {\n      case \"width\":\n        n[0] = e;\n        break;\n      case \"depth\":\n        n[1] = e;\n        break;\n      case \"height\":\n        n[2] = e;\n        break;\n      case \"width-and-depth\":\n        n[0] = e, n[1] = e;\n        break;\n      case \"all\":\n      case void 0:\n      case null:\n        n[0] = e, n[1] = e, n[2] = e;\n        break;\n      default:\n        r(t.axis);\n    }\n  }\n  return n;\n}\nexport { T as getAllSizes, b as getColor, h as getOpacity, m as getRotationAngle, y as getSize, M as getSizeForValue, w as getSizeFromNumberOrVariable, k as getSizeRangeAtScale, N as getVisualVariableValues, v as viewScaleRE };","map":{"version":3,"names":["e","a","neverReached","r","i","isNone","n","isSome","t","meterIn","s","isSizeVariable","l","isValidNumber","o","TransformationType","c","InputValueType","u","f","getLogger","p","d","Math","PI","v","b","visualVariables","find","type","declaredClass","warn","attributes","field","ipData","hasExpression","cache","compiledFunc","stops","color","arcade","error","viewingMode","scale","spatialReference","arcadeUtils","getViewInfo","createExecContext","createSyntaxTree","valueExpression","createFunction","executeFunction","h","normalizationField","m","parseFloat","isNaN","R","blendColors","opacity","axis","rotationType","V","isScaleDriven","view","x","inputValueType","Expression","Field","Unknown","value","length","minDataValue","maxDataValue","y","M","w","g","z","minSize","F","size","S","maxSize","shape","scaleBy","sqrt","E","U","C","resolution","valueUnit","valueRepresentation","D","transformationType","Additive","Constant","ClampedLinear","Proportional","Stops","RealWorldSize","Identity","k","N","push","forEach","variable","filter","some","T","useSymbolValue","getAllSizes","getColor","getOpacity","getRotationAngle","getSize","getSizeForValue","getSizeFromNumberOrVariable","getSizeRangeAtScale","getVisualVariableValues","viewScaleRE"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import a from\"../../../Graphic.js\";import{neverReached as r}from\"../../../core/compilerUtils.js\";import i from\"../../../core/Logger.js\";import{isNone as n,isSome as t}from\"../../../core/maybe.js\";import{meterIn as s}from\"../../support/lengthUtils.js\";import{isSizeVariable as l,isValidNumber as o,TransformationType as c,InputValueType as u}from\"./sizeVariableUtils.js\";const f=i.getLogger(\"esri.renderers.visualVariables.support.visualVariableUtils\"),p=new a,d=Math.PI,v=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i;function b(a,r,i){const s=\"visualVariables\"in a&&a.visualVariables?a.visualVariables.find((e=>\"color\"===e.type)):a;if(!s)return;if(\"esri.renderers.visualVariables.ColorVariable\"!==s.declaredClass)return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable\");const l=\"number\"==typeof r,o=l?null:r,c=o&&o.attributes;let u=l?r:null;const p=s.field,{ipData:d,hasExpression:v}=s.cache;let b=s.cache.compiledFunc;if(!p&&!v){const e=s.stops;return e&&e[0]&&e[0].color}if(\"number\"!=typeof u)if(v){if(n(i)||n(i.arcade))return void f.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,r=a.getViewInfo(e),t=a.createExecContext(o,r);if(!b){const e=a.createSyntaxTree(s.valueExpression);b=a.createFunction(e),s.cache.compiledFunc=b}u=a.executeFunction(b,t)}else c&&(u=c[p]);const h=s.normalizationField,m=null!=c&&null!=h?parseFloat(c[h]):void 0;if(null!=u&&(!h||l||!isNaN(m)&&0!==m)){isNaN(m)||l||(u/=m);const a=R(u,d);if(a){const r=a[0],n=a[1],l=r===n?s.stops[r].color:e.blendColors(s.stops[r].color,s.stops[n].color,a[2],t(i)?i.color:void 0);return new e(l)}}}function h(e,a,r){const i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"opacity\"===e.type)):e;if(!i)return;if(\"esri.renderers.visualVariables.OpacityVariable\"!==i.declaredClass)return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable\");const t=\"number\"==typeof a,s=t?null:a,l=s&&s.attributes;let o=t?a:null;const c=i.field,{ipData:u,hasExpression:p}=i.cache;let d=i.cache.compiledFunc;if(!c&&!p){const e=i.stops;return e&&e[0]&&e[0].opacity}if(\"number\"!=typeof o)if(p){if(n(r)||n(r.arcade))return void f.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},a=r.arcade.arcadeUtils,t=a.getViewInfo(e),l=a.createExecContext(s,t);if(!d){const e=a.createSyntaxTree(i.valueExpression);d=a.createFunction(e),i.cache.compiledFunc=d}o=a.executeFunction(d,l)}else l&&(o=l[c]);const v=i.normalizationField,b=null!=l&&null!=v?parseFloat(l[v]):void 0;if(null!=o&&(!v||t||!isNaN(b)&&0!==b)){isNaN(b)||t||(o/=b);const e=R(o,u);if(e){const a=e[0],r=e[1];if(a===r)return i.stops[a].opacity;{const n=i.stops[a].opacity;return n+(i.stops[r].opacity-n)*e[2]}}}}function m(e,a,r){const i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"rotation\"===e.type)):e;if(!i)return;if(\"esri.renderers.visualVariables.RotationVariable\"!==i.declaredClass)return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable\");const t=i.axis||\"heading\",s=\"heading\"===t&&\"arithmetic\"===i.rotationType?90:0,l=\"heading\"===t&&\"arithmetic\"===i.rotationType?-1:1,o=\"number\"==typeof a?null:a,c=o&&o.attributes,u=i.field,{hasExpression:p}=i.cache;let d=i.cache.compiledFunc,v=0;if(!u&&!p)return v;if(p){if(n(r)||n(r.arcade))return void f.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},a=r.arcade.arcadeUtils,t=a.getViewInfo(e),s=a.createExecContext(o,t);if(!d){const e=a.createSyntaxTree(i.valueExpression);d=a.createFunction(e),i.cache.compiledFunc=d}v=a.executeFunction(d,s)}else c&&(v=c[u]||0);return v=\"number\"!=typeof v||isNaN(v)?null:s+l*v,v}function V(e,a,r){const i=\"number\"==typeof a,s=i?null:a,l=s&&s.attributes;let c=i?a:null;const{isScaleDriven:p}=e.cache;let d=e.cache.compiledFunc;if(p){const a=t(r)?r.scale:void 0,i=t(r)?r.view:void 0;c=null==a||\"3d\"===i?x(e):a}else if(!i)switch(e.inputValueType){case u.Expression:{if(n(r)||n(r.arcade))return void f.error(\"Use of arcade expressions requires an arcade context\");const a={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},i=r.arcade.arcadeUtils,t=i.getViewInfo(a),l=i.createExecContext(s,t);if(!d){const a=i.createSyntaxTree(e.valueExpression);d=i.createFunction(a),e.cache.compiledFunc=d}c=i.executeFunction(d,l);break}case u.Field:l&&(c=l[e.field]);break;case u.Unknown:c=null}if(!o(c))return null;if(i||!e.normalizationField)return c;const v=l?parseFloat(l[e.normalizationField]):null;return o(v)&&0!==v?c/v:null}function x(e){let a=null,r=null;const i=e.stops;return i?(a=i[0].value,r=i[i.length-1].value):(a=e.minDataValue||0,r=e.maxDataValue||0),(a+r)/2}function y(e,a,r){const i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"size\"===e.type)):e;if(!i)return;if(\"esri.renderers.visualVariables.SizeVariable\"!==i.declaredClass)return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable\");const n=M(V(i,a,r),i,a,r,i.cache.ipData);return null==n||isNaN(n)?0:n}function w(e,a,r){return null==e?null:l(e)?y(e,a,r):o(e)?e:null}function g(e,a,r){return o(r)&&e>r?r:o(a)&&e<a?a:e}function z(e,a,r,i){return e+((w(a.minSize,r,i)||a.minDataValue)??0)}function F(e,a,r){const i=e.stops;let n=i&&i.length&&i[0].size;return null==n&&(n=e.minSize),w(n,a,r)}function S(e,a,r,i){const n=(e-a.minDataValue)/(a.maxDataValue-a.minDataValue),s=w(a.minSize,r,i),l=w(a.maxSize,r,i),o=t(i)?i.shape:void 0;if(e<=a.minDataValue)return s;if(e>=a.maxDataValue)return l;if(null==s||null==l)return null;if(\"area\"===a.scaleBy&&o){const e=\"circle\"===o,a=e?d*(s/2)**2:s*s,r=a+n*((e?d*(l/2)**2:l*l)-a);return e?2*Math.sqrt(r/d):Math.sqrt(r)}return s+n*(l-s)}function E(e,a,r,i){const n=t(i)?i.shape:void 0,s=e/a.minDataValue,l=w(a.minSize,r,i),o=w(a.maxSize,r,i);let c=null;return c=\"circle\"===n?2*Math.sqrt(s*(l/2)**2):\"square\"===n||\"diamond\"===n||\"image\"===n?Math.sqrt(s*l**2):s*l,g(c,l,o)}function U(e,a,r,i,n){const[t,s,l]=R(e,n);if(t===s)return w(a.stops?.[t].size,r,i);{const e=w(a.stops?.[t].size,r,i);return e+(w(a.stops?.[s].size,r,i)-e)*l}}function C(e,a,r,i){const n=(t(i)&&i.resolution?i.resolution:1)*s[a.valueUnit],l=w(a.minSize,r,i),o=w(a.maxSize,r,i),{valueRepresentation:c}=a;let u=null;return u=\"area\"===c?2*Math.sqrt(e/d)/n:\"radius\"===c||\"distance\"===c?2*e/n:e/n,g(u,l,o)}function D(e){return e}function M(e,a,r,i,n){switch(a.transformationType){case c.Additive:return z(e,a,r,i);case c.Constant:return F(a,r,i);case c.ClampedLinear:return S(e,a,r,i);case c.Proportional:return E(e,a,r,i);case c.Stops:return U(e,a,r,i,n);case c.RealWorldSize:return C(e,a,r,i);case c.Identity:return D(e);case c.Unknown:return null}}function k(e,a,r){const{isScaleDriven:i}=e.cache;if(!(i&&\"3d\"===r||a))return null;const n={scale:a,view:r};let t=w(e.minSize,p,n),s=w(e.maxSize,p,n);if(null!=t||null!=s){if(t>s){const e=s;s=t,t=e}return{minSize:t,maxSize:s}}}function N(e,a,r){if(!e.visualVariables)return;const i=[],n=[],t=[],s=[],l=[];for(const o of e.visualVariables)switch(o.type){case\"color\":n.push(o);break;case\"opacity\":t.push(o);break;case\"rotation\":l.push(o);break;case\"size\":s.push(o)}return n.forEach((e=>{const n=b(e,a,r);i.push({variable:e,value:n})})),t.forEach((e=>{const n=h(e,a,r);i.push({variable:e,value:n})})),l.forEach((e=>{const n=m(e,a,r);i.push({variable:e,value:n})})),s.forEach((e=>{const n=y(e,a,r);i.push({variable:e,value:n})})),i.filter((e=>null!=e.value))}function R(e,a){if(!a)return;let r=0,i=a.length-1;return a.some(((a,n)=>e<a?(i=n,!0):(r=n,!1))),[r,i,(e-a[r])/(a[i]-a[r])]}function T(e,a,i){const n=[\"proportional\",\"proportional\",\"proportional\"];for(const t of e){const e=t.useSymbolValue?\"symbol-value\":y(t,a,i);switch(t.axis){case\"width\":n[0]=e;break;case\"depth\":n[1]=e;break;case\"height\":n[2]=e;break;case\"width-and-depth\":n[0]=e,n[1]=e;break;case\"all\":case void 0:case null:n[0]=e,n[1]=e,n[2]=e;break;default:r(t.axis)}}return n}export{T as getAllSizes,b as getColor,h as getOpacity,m as getRotationAngle,y as getSize,M as getSizeForValue,w as getSizeFromNumberOrVariable,k as getSizeRangeAtScale,N as getVisualVariableValues,v as viewScaleRE};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}