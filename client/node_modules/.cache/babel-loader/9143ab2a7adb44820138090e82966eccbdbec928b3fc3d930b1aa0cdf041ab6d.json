{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"./Analysis.js\";\nimport r from \"./LineOfSightAnalysisObserver.js\";\nimport o from \"./LineOfSightAnalysisTarget.js\";\nimport s from \"../core/Collection.js\";\nimport { referenceSetter as i, castForReferenceSetter as n } from \"../core/collectionUtils.js\";\nimport { isNone as p, isSome as l, applySome as a, unwrap as c } from \"../core/maybe.js\";\nimport { watch as m, syncAndInitial as u } from \"../core/reactiveUtils.js\";\nimport { property as g } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport \"../core/arrayUtils.js\";\nimport { subclass as y } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { projectOrLoad as f } from \"../geometry/projection.js\";\nimport { fromValues as h, expandWithVec3 as d, toExtent as v } from \"../geometry/support/aaBoundingBox.js\";\nimport { getGeometryEffectiveElevationMode as j } from \"../support/elevationInfoUtils.js\";\nconst b = s.ofType(o);\nlet x = class extends t {\n  constructor(e) {\n    super(e), this.type = \"line-of-sight\", this.observer = null, this.extent = null;\n  }\n  initialize() {\n    this.addHandles(m(() => this._computeExtent(), e => {\n      (p(e) || p(e.pending)) && this._set(\"extent\", l(e) ? e.extent : null);\n    }, u));\n  }\n  get targets() {\n    return this._get(\"targets\") || new b();\n  }\n  set targets(e) {\n    this._set(\"targets\", i(e, this.targets, b));\n  }\n  get spatialReference() {\n    return l(this.observer) && l(this.observer.position) ? this.observer.position.spatialReference : null;\n  }\n  get requiredPropertiesForEditing() {\n    return [a(this.observer, e => e.position)];\n  }\n  async waitComputeExtent() {\n    const e = this._computeExtent();\n    return l(e) ? c(e.pending) : Promise.resolve();\n  }\n  _computeExtent() {\n    const e = this.spatialReference;\n    if (p(this.observer) || p(this.observer.position) || p(e)) return null;\n    const t = e => \"absolute-height\" === j(e.position, e.elevationInfo),\n      r = this.observer.position,\n      o = h(r.x, r.y, r.z, r.x, r.y, r.z);\n    for (const i of this.targets) if (l(i.position)) {\n      const t = f(i.position, e);\n      if (l(t.pending)) return {\n        pending: t.pending,\n        extent: null\n      };\n      if (l(t.geometry)) {\n        const {\n          x: e,\n          y: r,\n          z: s\n        } = t.geometry;\n        d(o, [e, r, s]);\n      }\n    }\n    const s = v(o, e);\n    return t(this.observer) && this.targets.every(t) || (s.zmin = void 0, s.zmax = void 0), {\n      pending: null,\n      extent: s\n    };\n  }\n  clear() {\n    this.observer = null, this.targets.removeAll();\n  }\n};\ne([g({\n  type: [\"line-of-sight\"]\n})], x.prototype, \"type\", void 0), e([g({\n  type: r,\n  json: {\n    read: !0,\n    write: !0\n  }\n})], x.prototype, \"observer\", void 0), e([g({\n  cast: n,\n  type: b,\n  nonNullable: !0,\n  json: {\n    read: !0,\n    write: !0\n  }\n})], x.prototype, \"targets\", null), e([g({\n  value: null,\n  readOnly: !0\n})], x.prototype, \"extent\", void 0), e([g({\n  readOnly: !0\n})], x.prototype, \"spatialReference\", null), e([g({\n  readOnly: !0\n})], x.prototype, \"requiredPropertiesForEditing\", null), x = e([y(\"esri.analysis.LineOfSightAnalysis\")], x);\nconst O = x;\nexport { O as default };","map":{"version":3,"names":["_","e","t","r","o","s","referenceSetter","i","castForReferenceSetter","n","isNone","p","isSome","l","applySome","a","unwrap","c","watch","m","syncAndInitial","u","property","g","subclass","y","projectOrLoad","f","fromValues","h","expandWithVec3","d","toExtent","v","getGeometryEffectiveElevationMode","j","b","ofType","x","constructor","type","observer","extent","initialize","addHandles","_computeExtent","pending","_set","targets","_get","spatialReference","position","requiredPropertiesForEditing","waitComputeExtent","Promise","resolve","elevationInfo","z","geometry","every","zmin","zmax","clear","removeAll","prototype","json","read","write","cast","nonNullable","value","readOnly","O","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/analysis/LineOfSightAnalysis.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"./Analysis.js\";import r from\"./LineOfSightAnalysisObserver.js\";import o from\"./LineOfSightAnalysisTarget.js\";import s from\"../core/Collection.js\";import{referenceSetter as i,castForReferenceSetter as n}from\"../core/collectionUtils.js\";import{isNone as p,isSome as l,applySome as a,unwrap as c}from\"../core/maybe.js\";import{watch as m,syncAndInitial as u}from\"../core/reactiveUtils.js\";import{property as g}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import{subclass as y}from\"../core/accessorSupport/decorators/subclass.js\";import{projectOrLoad as f}from\"../geometry/projection.js\";import{fromValues as h,expandWithVec3 as d,toExtent as v}from\"../geometry/support/aaBoundingBox.js\";import{getGeometryEffectiveElevationMode as j}from\"../support/elevationInfoUtils.js\";const b=s.ofType(o);let x=class extends t{constructor(e){super(e),this.type=\"line-of-sight\",this.observer=null,this.extent=null}initialize(){this.addHandles(m((()=>this._computeExtent()),(e=>{(p(e)||p(e.pending))&&this._set(\"extent\",l(e)?e.extent:null)}),u))}get targets(){return this._get(\"targets\")||new b}set targets(e){this._set(\"targets\",i(e,this.targets,b))}get spatialReference(){return l(this.observer)&&l(this.observer.position)?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[a(this.observer,(e=>e.position))]}async waitComputeExtent(){const e=this._computeExtent();return l(e)?c(e.pending):Promise.resolve()}_computeExtent(){const e=this.spatialReference;if(p(this.observer)||p(this.observer.position)||p(e))return null;const t=e=>\"absolute-height\"===j(e.position,e.elevationInfo),r=this.observer.position,o=h(r.x,r.y,r.z,r.x,r.y,r.z);for(const i of this.targets)if(l(i.position)){const t=f(i.position,e);if(l(t.pending))return{pending:t.pending,extent:null};if(l(t.geometry)){const{x:e,y:r,z:s}=t.geometry;d(o,[e,r,s])}}const s=v(o,e);return t(this.observer)&&this.targets.every(t)||(s.zmin=void 0,s.zmax=void 0),{pending:null,extent:s}}clear(){this.observer=null,this.targets.removeAll()}};e([g({type:[\"line-of-sight\"]})],x.prototype,\"type\",void 0),e([g({type:r,json:{read:!0,write:!0}})],x.prototype,\"observer\",void 0),e([g({cast:n,type:b,nonNullable:!0,json:{read:!0,write:!0}})],x.prototype,\"targets\",null),e([g({value:null,readOnly:!0})],x.prototype,\"extent\",void 0),e([g({readOnly:!0})],x.prototype,\"spatialReference\",null),e([g({readOnly:!0})],x.prototype,\"requiredPropertiesForEditing\",null),x=e([y(\"esri.analysis.LineOfSightAnalysis\")],x);const O=x;export{O as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}