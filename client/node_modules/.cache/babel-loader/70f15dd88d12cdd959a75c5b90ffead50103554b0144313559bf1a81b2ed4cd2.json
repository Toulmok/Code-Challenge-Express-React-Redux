{"ast":null,"code":"import { idManager } from '../api';\nimport { GET_IDENTITY, SIGN_IN, SIGN_OUT, LOAD_PORTAL } from '../constants/action-types';\n\n/**\r\n * Middleware function with the signature\r\n *\r\n * storeInstance =>\r\n * functionToCallWithAnActionThatWillSendItToTheNextMiddleware =>\r\n * actionThatDispatchWasCalledWith =>\r\n * valueToUseAsTheReturnValueOfTheDispatchCall\r\n *\r\n * Typically written as\r\n *\r\n * store => next => action => result\r\n */\nconst arcgisMiddleWare = store => next => action => {\n  switch (action.type) {\n    case GET_IDENTITY:\n      {\n        next(action);\n        return idManager('checkSignInStatus').then(result => {\n          console.log(result);\n          //store.dispatch({ type: LOAD_PORTAL })\n        });\n      }\n\n    case SIGN_IN:\n      {\n        idManager('signIn');\n        return next(action);\n      }\n    case SIGN_OUT:\n      {\n        idManager('signOut');\n        window.location.reload();\n        return next(action);\n      }\n    default:\n      {\n        return next(action);\n      }\n  }\n};\nexport default arcgisMiddleWare;\n/*eslint-disable */\n/* eslint-enable */","map":{"version":3,"names":["idManager","GET_IDENTITY","SIGN_IN","SIGN_OUT","LOAD_PORTAL","arcgisMiddleWare","store","next","action","type","then","result","console","log","window","location","reload"],"sources":["C:/code-challenge-react/client/src/middleware/arcgis-authentication.js"],"sourcesContent":["import { idManager } from '../api'\r\nimport {\r\n  GET_IDENTITY,\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n  LOAD_PORTAL,\r\n} from '../constants/action-types'\r\n\r\n/**\r\n * Middleware function with the signature\r\n *\r\n * storeInstance =>\r\n * functionToCallWithAnActionThatWillSendItToTheNextMiddleware =>\r\n * actionThatDispatchWasCalledWith =>\r\n * valueToUseAsTheReturnValueOfTheDispatchCall\r\n *\r\n * Typically written as\r\n *\r\n * store => next => action => result\r\n */\r\nconst arcgisMiddleWare = store => next => (action) => {\r\n  switch (action.type) {\r\n    case GET_IDENTITY: {\r\n      next(action)\r\n      return idManager('checkSignInStatus')\r\n      .then((result) => { console.log(result)\r\n        //store.dispatch({ type: LOAD_PORTAL })\r\n      })\r\n    }\r\n    case SIGN_IN: {\r\n      idManager('signIn')\r\n      return next(action)\r\n    }\r\n    case SIGN_OUT: {\r\n      idManager('signOut')\r\n      window.location.reload()\r\n      return next(action)\r\n    }\r\n    default: {\r\n      return next(action)\r\n    }\r\n  }\r\n}\r\n\r\nexport default arcgisMiddleWare\r\n/*eslint-disable */\r\n/* eslint-enable */"],"mappings":"AAAA,SAASA,SAAS,QAAQ,QAAQ;AAClC,SACEC,YAAY,EACZC,OAAO,EACPC,QAAQ,EACRC,WAAW,QACN,2BAA2B;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,gBAAgB,GAAGC,KAAK,IAAIC,IAAI,IAAKC,MAAM,IAAK;EACpD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKR,YAAY;MAAE;QACjBM,IAAI,CAACC,MAAM,CAAC;QACZ,OAAOR,SAAS,CAAC,mBAAmB,CAAC,CACpCU,IAAI,CAAEC,MAAM,IAAK;UAAEC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;UACrC;QACF,CAAC,CAAC;MACJ;;IACA,KAAKT,OAAO;MAAE;QACZF,SAAS,CAAC,QAAQ,CAAC;QACnB,OAAOO,IAAI,CAACC,MAAM,CAAC;MACrB;IACA,KAAKL,QAAQ;MAAE;QACbH,SAAS,CAAC,SAAS,CAAC;QACpBc,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;QACxB,OAAOT,IAAI,CAACC,MAAM,CAAC;MACrB;IACA;MAAS;QACP,OAAOD,IAAI,CAACC,MAAM,CAAC;MACrB;EAAC;AAEL,CAAC;AAED,eAAeH,gBAAgB;AAC/B;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}