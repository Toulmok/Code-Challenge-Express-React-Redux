{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport t from \"../../core/Collection.js\";\nimport r from \"../../core/Evented.js\";\nimport { JSONSupportMixin as s } from \"../../core/JSONSupport.js\";\nimport i from \"../../core/Loadable.js\";\nimport { isSome as o } from \"../../core/maybe.js\";\nimport { on as l, watch as a, whenOnce as n, sync as p } from \"../../core/reactiveUtils.js\";\nimport { stripHTML as u } from \"../../core/string.js\";\nimport { property as y } from \"../../core/accessorSupport/decorators/property.js\";\nimport { ensureType as h } from \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { reader as c } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as m } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { computeExtent as d, sublayersFromJSON as f, fetchService as v, parseKML as b } from \"./kmlUtils.js\";\nimport j from \"../../geometry/Extent.js\";\nvar S;\nlet k = S = class extends r.EventedMixin(s(i)) {\n  constructor() {\n    super(...arguments), this.description = null, this.id = null, this.networkLink = null, this.sublayers = null, this.title = null, this.sourceJSON = null, this.fullExtent = null, this.addHandles([l(() => this.sublayers, \"after-add\", _ref => {\n      let {\n        item: e\n      } = _ref;\n      e.parent = this, e.layer = this.layer;\n    }, p), l(() => this.sublayers, \"after-remove\", _ref2 => {\n      let {\n        item: e\n      } = _ref2;\n      e.layer = e.parent = null;\n    }, p), a(() => this.sublayers, (e, t) => {\n      if (t) for (const r of t) r.layer = r.parent = null;\n      if (e) for (const r of e) r.parent = this, r.layer = this.layer;\n    }, p)]);\n  }\n  initialize() {\n    n(() => this.networkLink).then(() => n(() => !0 === this.visible)).then(() => this.load());\n  }\n  load(e) {\n    if (!this.networkLink) return;\n    if (this.networkLink.viewFormat) return;\n    const r = o(e) ? e.signal : null,\n      s = this._fetchService(this._get(\"networkLink\")?.href ?? \"\", r).then(e => {\n        const r = d(e.sublayers);\n        this.fullExtent = j.fromJSON(r), this.sourceJSON = e;\n        const s = h(t.ofType(S), f(S, e));\n        this.sublayers ? this.sublayers.addMany(s) : this.sublayers = s, this.layer?.emit(\"sublayer-update\"), this.layer && this.layer.notifyChange(\"visibleSublayers\");\n      });\n    return this.addResolvingPromise(s), Promise.resolve(this);\n  }\n  get visible() {\n    return this._get(\"visible\");\n  }\n  set visible(e) {\n    this._get(\"visible\") !== e && (this._set(\"visible\", e), this.layer && this.layer.notifyChange(\"visibleSublayers\"));\n  }\n  readVisible(e, t) {\n    return !!t.visibility;\n  }\n  set layer(e) {\n    this._set(\"layer\", e), this.sublayers && this.sublayers.forEach(t => t.layer = e);\n  }\n  _fetchService(e, t) {\n    return v(e, this.layer.outSpatialReference, this.layer.refreshInterval, t).then(e => b(e.data));\n  }\n};\ne([y()], k.prototype, \"description\", void 0), e([y()], k.prototype, \"id\", void 0), e([y({\n  readOnly: !0,\n  value: null\n})], k.prototype, \"networkLink\", void 0), e([y({\n  json: {\n    write: {\n      allowNull: !0\n    }\n  }\n})], k.prototype, \"parent\", void 0), e([y({\n  type: t.ofType(S),\n  json: {\n    write: {\n      allowNull: !0\n    }\n  }\n})], k.prototype, \"sublayers\", void 0), e([y({\n  value: null,\n  json: {\n    read: {\n      source: \"name\",\n      reader: e => u(e)\n    }\n  }\n})], k.prototype, \"title\", void 0), e([y({\n  value: !0\n})], k.prototype, \"visible\", null), e([c(\"visible\", [\"visibility\"])], k.prototype, \"readVisible\", null), e([y()], k.prototype, \"sourceJSON\", void 0), e([y({\n  value: null\n})], k.prototype, \"layer\", null), e([y({\n  type: j\n})], k.prototype, \"fullExtent\", void 0), k = S = e([m(\"esri.layers.support.KMLSublayer\")], k);\nconst g = k;\nexport { g as default };","map":{"version":3,"names":["_","e","t","r","JSONSupportMixin","s","i","isSome","o","on","l","watch","a","whenOnce","n","sync","p","stripHTML","u","property","y","ensureType","h","reader","c","subclass","m","computeExtent","d","sublayersFromJSON","f","fetchService","v","parseKML","b","j","S","k","EventedMixin","constructor","arguments","description","id","networkLink","sublayers","title","sourceJSON","fullExtent","addHandles","_ref","item","parent","layer","_ref2","initialize","then","visible","load","viewFormat","signal","_fetchService","_get","href","fromJSON","ofType","addMany","emit","notifyChange","addResolvingPromise","Promise","resolve","_set","readVisible","visibility","forEach","outSpatialReference","refreshInterval","data","prototype","readOnly","value","json","write","allowNull","type","read","source","g","default"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/support/KMLSublayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../core/Collection.js\";import r from\"../../core/Evented.js\";import{JSONSupportMixin as s}from\"../../core/JSONSupport.js\";import i from\"../../core/Loadable.js\";import{isSome as o}from\"../../core/maybe.js\";import{on as l,watch as a,whenOnce as n,sync as p}from\"../../core/reactiveUtils.js\";import{stripHTML as u}from\"../../core/string.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import{ensureType as h}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{reader as c}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../../core/accessorSupport/decorators/subclass.js\";import{computeExtent as d,sublayersFromJSON as f,fetchService as v,parseKML as b}from\"./kmlUtils.js\";import j from\"../../geometry/Extent.js\";var S;let k=S=class extends(r.EventedMixin(s(i))){constructor(...e){super(...e),this.description=null,this.id=null,this.networkLink=null,this.sublayers=null,this.title=null,this.sourceJSON=null,this.fullExtent=null,this.addHandles([l((()=>this.sublayers),\"after-add\",(({item:e})=>{e.parent=this,e.layer=this.layer}),p),l((()=>this.sublayers),\"after-remove\",(({item:e})=>{e.layer=e.parent=null}),p),a((()=>this.sublayers),((e,t)=>{if(t)for(const r of t)r.layer=r.parent=null;if(e)for(const r of e)r.parent=this,r.layer=this.layer}),p)])}initialize(){n((()=>this.networkLink)).then((()=>n((()=>!0===this.visible)))).then((()=>this.load()))}load(e){if(!this.networkLink)return;if(this.networkLink.viewFormat)return;const r=o(e)?e.signal:null,s=this._fetchService(this._get(\"networkLink\")?.href??\"\",r).then((e=>{const r=d(e.sublayers);this.fullExtent=j.fromJSON(r),this.sourceJSON=e;const s=h(t.ofType(S),f(S,e));this.sublayers?this.sublayers.addMany(s):this.sublayers=s,this.layer?.emit(\"sublayer-update\"),this.layer&&this.layer.notifyChange(\"visibleSublayers\")}));return this.addResolvingPromise(s),Promise.resolve(this)}get visible(){return this._get(\"visible\")}set visible(e){this._get(\"visible\")!==e&&(this._set(\"visible\",e),this.layer&&this.layer.notifyChange(\"visibleSublayers\"))}readVisible(e,t){return!!t.visibility}set layer(e){this._set(\"layer\",e),this.sublayers&&this.sublayers.forEach((t=>t.layer=e))}_fetchService(e,t){return v(e,this.layer.outSpatialReference,this.layer.refreshInterval,t).then((e=>b(e.data)))}};e([y()],k.prototype,\"description\",void 0),e([y()],k.prototype,\"id\",void 0),e([y({readOnly:!0,value:null})],k.prototype,\"networkLink\",void 0),e([y({json:{write:{allowNull:!0}}})],k.prototype,\"parent\",void 0),e([y({type:t.ofType(S),json:{write:{allowNull:!0}}})],k.prototype,\"sublayers\",void 0),e([y({value:null,json:{read:{source:\"name\",reader:e=>u(e)}}})],k.prototype,\"title\",void 0),e([y({value:!0})],k.prototype,\"visible\",null),e([c(\"visible\",[\"visibility\"])],k.prototype,\"readVisible\",null),e([y()],k.prototype,\"sourceJSON\",void 0),e([y({value:null})],k.prototype,\"layer\",null),e([y({type:j})],k.prototype,\"fullExtent\",void 0),k=S=e([m(\"esri.layers.support.KMLSublayer\")],k);const g=k;export{g as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}