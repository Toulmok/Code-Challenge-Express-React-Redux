{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { unpackFloatRGBA as e } from \"../../../../core/floatRGBA.js\";\nimport { isSome as t, isNone as r } from \"../../../../core/maybe.js\";\nimport i from \"../../../../core/PooledArray.js\";\nimport { m as n, c as s } from \"../../../../chunks/mat4.js\";\nimport { c as a } from \"../../../../chunks/mat4f64.js\";\nimport { m as o } from \"../../../../chunks/vec3.js\";\nimport { l as h } from \"../../../../chunks/vec4.js\";\nimport { c as f } from \"../../../../chunks/vec4f64.js\";\nimport { intersectsSphere as c, create as _, copy as l } from \"../../../../geometry/support/frustum.js\";\nimport { c as u } from \"../../../../chunks/sphere.js\";\nimport { maxScale as d } from \"../../support/mathUtils.js\";\nimport { empty as m, union as g, set as p, DepthRange as b } from \"./depthRange.js\";\nimport w from \"./Octree.js\";\nimport { assert as v } from \"./Util.js\";\nconst j = 1e4,\n  R = 100,\n  C = 500,\n  A = 500,\n  B = .1;\nfunction M(t, r, i) {\n  return e(r, t) * (i[1] - i[0]) + i[0];\n}\nfunction O(e, t, r) {\n  let i = 0;\n  if (!t.some(e => (i += e.numGeometries, i >= j))) return G.compute(e, t);\n  const n = m();\n  return r.forAll(t => {\n    t.visible && g(n, T(e, t));\n  }), n;\n}\nfunction T(e, r) {\n  if (!r.visible) return;\n  const i = m(),\n    n = r.getSpatialQueryAccelerator();\n  return t(n) ? D(i, e, n) : F(i, e, r.objects), i;\n}\nfunction D(e, t, r) {\n  const i = t.eye,\n    n = t.viewForward,\n    s = t.frustum,\n    a = e => e.visible,\n    o = r.objectCount;\n  if (o < C) p(K, t.near, Math.min(e.near, t.far)), r.forEachInDepthRange(i, n, w.DepthOrder.FRONT_TO_BACK, K, (r, i) => {\n    x(e, t, r), K.far = e.near, i.setRange(K);\n  }, s, a), p(K, Math.max(e.far, t.near), t.far), r.forEachInDepthRange(i, n, w.DepthOrder.BACK_TO_FRONT, K, (r, i) => {\n    x(e, t, r), K.near = e.far, i.setRange(K);\n  }, s, a);else {\n    const i = Math.max(Math.min(o, A), Math.ceil(o * B)),\n      h = r.findClosest(n, w.DepthOrder.FRONT_TO_BACK, s, a, i),\n      f = r.findClosest(n, w.DepthOrder.BACK_TO_FRONT, s, a, i);\n    h && f && (y(e, t, h.boundingVolumeWorldSpace.bounds), y(e, t, f.boundingVolumeWorldSpace.bounds));\n  }\n}\nfunction F(e, t, r) {\n  V.clear(), r.forAll(e => {\n    e.visible && 0 !== e.geometries.length && V.add(e);\n  }), V.empty || (V.sort(t), p(K, t.near, Math.min(e.near, t.far)), V.forEachInDepthRange(K, w.DepthOrder.FRONT_TO_BACK, (r, i) => {\n    i < e.near && x(e, t, r);\n  }), p(K, Math.max(e.far, t.near), t.far), V.forEachInDepthRange(K, w.DepthOrder.BACK_TO_FRONT, (t, r, i) => {\n    e.far = Math.max(e.far, i);\n  }));\n}\nfunction x(e, t, r) {\n  if (!r.visible) return;\n  if (!c(t.frustum, r.boundingVolumeWorldSpace.bounds)) return;\n  const i = r.transformation,\n    s = E;\n  r.geometries.forEach(r => {\n    n(s, i, r.shaderTransformation);\n    const a = d(s);\n    I(e, t, r.boundingInfo, s, a);\n  });\n}\nfunction I(e, t, i, n, s) {\n  if (r(i)) return;\n  o(k, i.center, n);\n  const {\n      eye: a,\n      viewForward: h\n    } = t,\n    f = h[0] * (k[0] - a[0]) + h[1] * (k[1] - a[1]) + h[2] * (k[2] - a[2]);\n  if (k[3] = i.radius * s, !(f - k[3] > e.near && f + k[3] < e.far) && c(t.frustum, k)) if (i.radius > R && i.getChildren()) for (const r of i.getChildren()) I(e, t, r, n, s);else U.unionDepthRangeWithAABB(e, t.viewProjectionMatrix, n, i.bbMin, i.bbMax);\n}\nfunction y(e, t, r) {\n  const i = t.eye,\n    n = t.viewForward,\n    s = (r[0] - i[0]) * n[0] + (r[1] - i[1]) * n[1] + (r[2] - i[2]) * n[2];\n  e.near = Math.min(e.near, s - r[3]), e.far = Math.max(e.far, s + r[3]);\n}\nclass P {\n  constructor() {\n    this._items = new i({\n      allocator: e => e || {\n        obj: null,\n        distance: 0,\n        near: 0,\n        far: 0\n      },\n      deallocator: e => (e.obj = null, e.distance = 0, e.near = 0, e.far = 0, e)\n    });\n  }\n  get length() {\n    return this._items.length;\n  }\n  get empty() {\n    return 0 === this._items.length;\n  }\n  clear() {\n    this._items.clear();\n  }\n  add(e) {\n    this._items.pushNew().obj = e;\n  }\n  sort(e) {\n    const t = e.eye,\n      r = e.viewForward;\n    this._items.forAll(e => {\n      const i = e.obj.boundingVolumeWorldSpace.bounds,\n        n = (i[0] - t[0]) * r[0] + (i[1] - t[1]) * r[1] + (i[2] - t[2]) * r[2];\n      e.distance = n, e.near = n - i[3], e.far = n + i[3];\n    }), this._items.sort((e, t) => e.distance - t.distance);\n  }\n  forEachInDepthRange(e, t, r) {\n    if (t === w.DepthOrder.FRONT_TO_BACK) for (let i = 0; i < this._items.length; ++i) {\n      const t = this._items.data[i];\n      t.far < e.near || t.near > e.far || r(t.obj, t.near, t.far);\n    } else for (let i = this._items.length - 1; i >= 0; --i) {\n      const t = this._items.data[i];\n      t.far < e.near || t.near > e.far || r(t.obj, t.near, t.far);\n    }\n  }\n}\nclass N {\n  constructor() {\n    this._view = a(), this._viewProj = a(), this._frustum = _(), this._geometries = new Array(), this._near = [], this._far = [], this._nearCandidates = [], this._farCandidates = [], this._looseRange = {\n      near: 0,\n      far: 0\n    };\n  }\n  compute(e, t) {\n    this._reset(), s(this._view, e.viewMatrix), n(this._viewProj, e.projectionMatrix, this._view), l(this._frustum, e.frustum);\n    const r = this._view,\n      i = r[2],\n      a = r[6],\n      o = r[10],\n      h = r[14];\n    t.forAll(e => e.forEachGeometry(e => {\n      if (!e.visible || !e.castShadow) return;\n      let t;\n      e.hasShaderTransformation ? (e.computeBoundingSphere(e.shaderTransformation, k, 1), t = k) : t = e.boundingSphere;\n      const r = i * t[0] + a * t[1] + o * t[2] + h,\n        n = r - t[3],\n        s = r + t[3];\n      this._geometries.push(e), this._near.push(-s), this._far.push(-n);\n    }));\n    const f = new b();\n    if (0 === this._geometries.length) return f;\n    for (let n = 0; n < this._geometries.length; ++n) this._near[n] > f.far && (f.far = this._near[n]), this._near[n] > 2 && this._far[n] < f.near && (f.near = this._far[n]);\n    const c = this._looseRange;\n    c.near = Math.max(.5 * f.near, 2), c.far = 2 * f.far;\n    let _ = 0,\n      u = 0;\n    for (let n = 0; n < this._geometries.length; ++n) this._near[n] < f.near && (this._near[n] >= c.near ? f.near = this._near[n] : this._nearCandidates[_++] = n), this._far[n] > f.far && (this._far[n] <= c.far ? f.far = this._far[n] : this._farCandidates[u++] = n);\n    if (0 === this._nearCandidates.length && 0 === this._farCandidates.length) return f;\n    this._nearCandidates.sort((e, t) => this._near[e] < this._near[t] ? -1 : this._near[e] > this._near[t] ? 1 : 0), this._farCandidates.sort((e, t) => this._far[e] < this._far[t] ? 1 : this._far[e] > this._far[t] ? -1 : 0);\n    for (let n = 0; n < this._nearCandidates.length; ++n) {\n      const e = this._nearCandidates[n];\n      if (this._near[e] < f.near) {\n        const t = this._geometries[e],\n          r = t.boundingInfo;\n        this._includeNearBoundingInfoRec(r, t.shaderTransformation, f);\n      }\n    }\n    for (let n = 0; n < this._farCandidates.length; ++n) {\n      const e = this._farCandidates[n];\n      if (this._far[e] > f.far) {\n        const t = this._geometries[e],\n          r = t.boundingInfo;\n        this._includeFarBoundingInfoRec(r, t.shaderTransformation, f);\n      }\n    }\n    return this._reset(), f;\n  }\n  _reset() {\n    this._geometries.length = 0, this._near.length = 0, this._far.length = 0, this._nearCandidates.length = 0, this._farCandidates.length = 0;\n  }\n  _includeNearBoundingInfoRec(e, t, i) {\n    if (r(e)) return;\n    const n = e.center;\n    o(k, n, t);\n    const s = d(t),\n      a = k[0],\n      h = k[1],\n      f = k[2],\n      c = e.radius * s,\n      _ = this._frustum;\n    if (_[0][0] * a + _[0][1] * h + _[0][2] * f + _[0][3] > c || _[1][0] * a + _[1][1] * h + _[1][2] * f + _[1][3] > c || _[2][0] * a + _[2][1] * h + _[2][2] * f + _[2][3] > c || _[3][0] * a + _[3][1] * h + _[3][2] * f + _[3][3] > c) return;\n    const l = this._view[2] * a + this._view[6] * h + this._view[10] * f + this._view[14],\n      u = l + c;\n    if (!(-(l - c) < 2 || -u >= i.near)) if (-u > this._looseRange.near) i.near = -u;else {\n      if (c > R) {\n        const r = e.getChildren();\n        if (void 0 !== r) {\n          for (const e of r) this._includeNearBoundingInfoRec(e, t, i);\n          return;\n        }\n      }\n      U.unionDepthRangeWithAABB(i, this._viewProj, t, e.bbMin, e.bbMax);\n    }\n  }\n  _includeFarBoundingInfoRec(e, t, i) {\n    if (r(e)) return;\n    let n = e.radius;\n    const s = e.center;\n    o(k, s, t);\n    const a = d(t),\n      h = k[0],\n      f = k[1],\n      c = k[2];\n    n *= a;\n    const _ = this._frustum;\n    if (_[0][0] * h + _[0][1] * f + _[0][2] * c + _[0][3] > n || _[1][0] * h + _[1][1] * f + _[1][2] * c + _[1][3] > n || _[2][0] * h + _[2][1] * f + _[2][2] * c + _[2][3] > n || _[3][0] * h + _[3][1] * f + _[3][2] * c + _[3][3] > n) return;\n    const l = this._view[2] * h + this._view[6] * f + this._view[10] * c + this._view[14] - n;\n    if (!(-l <= i.far)) if (-l < this._looseRange.far) i.far = -l;else {\n      if (n > R) {\n        const r = e.getChildren();\n        if (void 0 !== r) {\n          for (const e of r) this._includeFarBoundingInfoRec(e, t, i);\n          return;\n        }\n      }\n      U.unionDepthRangeWithAABB(i, this._viewProj, t, e.bbMin, e.bbMax);\n    }\n  }\n}\nclass S {\n  constructor() {\n    this._modelViewProj = a(), this._clipPosition = [f(), f(), f(), f(), f(), f(), f(), f()];\n  }\n  unionDepthRangeWithAABB(e, t, r, i, s) {\n    const a = this._modelViewProj;\n    n(a, t, r);\n    let o = !1;\n    for (let n = 0; n < 8; ++n) {\n      const e = this._clipPosition[n],\n        t = 0 === n || 3 === n || 4 === n || 7 === n ? i[0] : s[0],\n        r = 0 === n || 1 === n || 4 === n || 5 === n ? i[1] : s[1],\n        o = n < 4 ? i[2] : s[2];\n      e[0] = a[0] * t + a[4] * r + a[8] * o + a[12], e[1] = a[1] * t + a[5] * r + a[9] * o + a[13], e[2] = a[2] * t + a[6] * r + a[10] * o + a[14], e[3] = a[3] * t + a[7] * r + a[11] * o + a[15];\n    }\n    for (let n = 0; n < 12; ++n) {\n      const t = this._clipPosition[W[n][0]],\n        r = this._clipPosition[W[n][1]],\n        i = this._clipPosition[W[n][2]],\n        s = this._clipTriangle(t, r, i);\n      let a = !0;\n      for (let e = 0; e < s.length; ++e) {\n        if (s[e][3] >= 2) {\n          a = !1;\n          break;\n        }\n      }\n      if (!a) {\n        o = !0;\n        for (let t = 0; t < s.length; ++t) {\n          const r = s[t][3];\n          Number.isFinite(r) && (e.near = Math.min(r, e.near), e.far = Math.max(r, e.far));\n        }\n      }\n    }\n    return o;\n  }\n  _inside(e, t) {\n    return 0 === t ? e[0] >= -e[3] : 1 === t ? e[1] >= -e[3] : 2 === t ? e[0] <= e[3] : 3 === t ? e[1] <= e[3] : void v(!1);\n  }\n  _intersect(e, t, r) {\n    let i = 0;\n    return 0 === r ? i = (-e[3] - e[0]) / (t[0] - e[0] + t[3] - e[3]) : 1 === r ? i = (-e[3] - e[1]) / (t[1] - e[1] + t[3] - e[3]) : 2 === r ? i = (e[3] - e[0]) / (t[0] - e[0] - t[3] + e[3]) : 3 === r && (i = (e[3] - e[1]) / (t[1] - e[1] - t[3] + e[3])), h(f(), e, t, i);\n  }\n  _clipTriangle(e, t, r) {\n    let i = [e, t, r];\n    for (let n = 0; n < 4; ++n) {\n      const e = i;\n      i = [];\n      for (let t = 0; t < e.length; ++t) {\n        const r = e[t],\n          s = e[(t + 1) % e.length];\n        this._inside(s, n) ? (this._inside(r, n) || i.push(this._intersect(r, s, n)), i.push(s)) : this._inside(r, n) && i.push(this._intersect(r, s, n));\n      }\n    }\n    return i;\n  }\n}\nconst W = [[0, 1, 3], [2, 3, 1], [1, 5, 2], [6, 2, 5], [5, 4, 6], [7, 6, 4], [4, 0, 7], [3, 7, 0], [3, 2, 7], [6, 7, 2], [4, 5, 0], [1, 0, 5]],\n  k = u(),\n  E = a(),\n  K = m(),\n  V = new P(),\n  G = new N(),\n  U = new S();\nexport { N as DepthRangeFromRenderGeometries, T as depthRangeFromLayer, O as depthRangeFromScene, M as textureToDepth };","map":{"version":3,"names":["unpackFloatRGBA","e","isSome","t","isNone","r","i","m","n","c","s","a","o","l","h","f","intersectsSphere","create","_","copy","u","maxScale","d","empty","union","g","set","p","DepthRange","b","w","assert","v","j","R","C","A","B","M","O","some","numGeometries","G","compute","forAll","visible","T","getSpatialQueryAccelerator","D","F","objects","eye","viewForward","frustum","objectCount","K","near","Math","min","far","forEachInDepthRange","DepthOrder","FRONT_TO_BACK","x","setRange","max","BACK_TO_FRONT","ceil","findClosest","y","boundingVolumeWorldSpace","bounds","V","clear","geometries","length","add","sort","transformation","E","forEach","shaderTransformation","I","boundingInfo","k","center","radius","getChildren","U","unionDepthRangeWithAABB","viewProjectionMatrix","bbMin","bbMax","P","constructor","_items","allocator","obj","distance","deallocator","pushNew","data","N","_view","_viewProj","_frustum","_geometries","Array","_near","_far","_nearCandidates","_farCandidates","_looseRange","_reset","viewMatrix","projectionMatrix","forEachGeometry","castShadow","hasShaderTransformation","computeBoundingSphere","boundingSphere","push","_includeNearBoundingInfoRec","_includeFarBoundingInfoRec","S","_modelViewProj","_clipPosition","W","_clipTriangle","Number","isFinite","_inside","_intersect","DepthRangeFromRenderGeometries","depthRangeFromLayer","depthRangeFromScene","textureToDepth"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/lib/depthRangeUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{unpackFloatRGBA as e}from\"../../../../core/floatRGBA.js\";import{isSome as t,isNone as r}from\"../../../../core/maybe.js\";import i from\"../../../../core/PooledArray.js\";import{m as n,c as s}from\"../../../../chunks/mat4.js\";import{c as a}from\"../../../../chunks/mat4f64.js\";import{m as o}from\"../../../../chunks/vec3.js\";import{l as h}from\"../../../../chunks/vec4.js\";import{c as f}from\"../../../../chunks/vec4f64.js\";import{intersectsSphere as c,create as _,copy as l}from\"../../../../geometry/support/frustum.js\";import{c as u}from\"../../../../chunks/sphere.js\";import{maxScale as d}from\"../../support/mathUtils.js\";import{empty as m,union as g,set as p,DepthRange as b}from\"./depthRange.js\";import w from\"./Octree.js\";import{assert as v}from\"./Util.js\";const j=1e4,R=100,C=500,A=500,B=.1;function M(t,r,i){return e(r,t)*(i[1]-i[0])+i[0]}function O(e,t,r){let i=0;if(!t.some((e=>(i+=e.numGeometries,i>=j))))return G.compute(e,t);const n=m();return r.forAll((t=>{t.visible&&g(n,T(e,t))})),n}function T(e,r){if(!r.visible)return;const i=m(),n=r.getSpatialQueryAccelerator();return t(n)?D(i,e,n):F(i,e,r.objects),i}function D(e,t,r){const i=t.eye,n=t.viewForward,s=t.frustum,a=e=>e.visible,o=r.objectCount;if(o<C)p(K,t.near,Math.min(e.near,t.far)),r.forEachInDepthRange(i,n,w.DepthOrder.FRONT_TO_BACK,K,((r,i)=>{x(e,t,r),K.far=e.near,i.setRange(K)}),s,a),p(K,Math.max(e.far,t.near),t.far),r.forEachInDepthRange(i,n,w.DepthOrder.BACK_TO_FRONT,K,((r,i)=>{x(e,t,r),K.near=e.far,i.setRange(K)}),s,a);else{const i=Math.max(Math.min(o,A),Math.ceil(o*B)),h=r.findClosest(n,w.DepthOrder.FRONT_TO_BACK,s,a,i),f=r.findClosest(n,w.DepthOrder.BACK_TO_FRONT,s,a,i);h&&f&&(y(e,t,h.boundingVolumeWorldSpace.bounds),y(e,t,f.boundingVolumeWorldSpace.bounds))}}function F(e,t,r){V.clear(),r.forAll((e=>{e.visible&&0!==e.geometries.length&&V.add(e)})),V.empty||(V.sort(t),p(K,t.near,Math.min(e.near,t.far)),V.forEachInDepthRange(K,w.DepthOrder.FRONT_TO_BACK,((r,i)=>{i<e.near&&x(e,t,r)})),p(K,Math.max(e.far,t.near),t.far),V.forEachInDepthRange(K,w.DepthOrder.BACK_TO_FRONT,((t,r,i)=>{e.far=Math.max(e.far,i)})))}function x(e,t,r){if(!r.visible)return;if(!c(t.frustum,r.boundingVolumeWorldSpace.bounds))return;const i=r.transformation,s=E;r.geometries.forEach((r=>{n(s,i,r.shaderTransformation);const a=d(s);I(e,t,r.boundingInfo,s,a)}))}function I(e,t,i,n,s){if(r(i))return;o(k,i.center,n);const{eye:a,viewForward:h}=t,f=h[0]*(k[0]-a[0])+h[1]*(k[1]-a[1])+h[2]*(k[2]-a[2]);if(k[3]=i.radius*s,!(f-k[3]>e.near&&f+k[3]<e.far)&&c(t.frustum,k))if(i.radius>R&&i.getChildren())for(const r of i.getChildren())I(e,t,r,n,s);else U.unionDepthRangeWithAABB(e,t.viewProjectionMatrix,n,i.bbMin,i.bbMax)}function y(e,t,r){const i=t.eye,n=t.viewForward,s=(r[0]-i[0])*n[0]+(r[1]-i[1])*n[1]+(r[2]-i[2])*n[2];e.near=Math.min(e.near,s-r[3]),e.far=Math.max(e.far,s+r[3])}class P{constructor(){this._items=new i({allocator:e=>e||{obj:null,distance:0,near:0,far:0},deallocator:e=>(e.obj=null,e.distance=0,e.near=0,e.far=0,e)})}get length(){return this._items.length}get empty(){return 0===this._items.length}clear(){this._items.clear()}add(e){this._items.pushNew().obj=e}sort(e){const t=e.eye,r=e.viewForward;this._items.forAll((e=>{const i=e.obj.boundingVolumeWorldSpace.bounds,n=(i[0]-t[0])*r[0]+(i[1]-t[1])*r[1]+(i[2]-t[2])*r[2];e.distance=n,e.near=n-i[3],e.far=n+i[3]})),this._items.sort(((e,t)=>e.distance-t.distance))}forEachInDepthRange(e,t,r){if(t===w.DepthOrder.FRONT_TO_BACK)for(let i=0;i<this._items.length;++i){const t=this._items.data[i];t.far<e.near||t.near>e.far||r(t.obj,t.near,t.far)}else for(let i=this._items.length-1;i>=0;--i){const t=this._items.data[i];t.far<e.near||t.near>e.far||r(t.obj,t.near,t.far)}}}class N{constructor(){this._view=a(),this._viewProj=a(),this._frustum=_(),this._geometries=new Array,this._near=[],this._far=[],this._nearCandidates=[],this._farCandidates=[],this._looseRange={near:0,far:0}}compute(e,t){this._reset(),s(this._view,e.viewMatrix),n(this._viewProj,e.projectionMatrix,this._view),l(this._frustum,e.frustum);const r=this._view,i=r[2],a=r[6],o=r[10],h=r[14];t.forAll((e=>e.forEachGeometry((e=>{if(!e.visible||!e.castShadow)return;let t;e.hasShaderTransformation?(e.computeBoundingSphere(e.shaderTransformation,k,1),t=k):t=e.boundingSphere;const r=i*t[0]+a*t[1]+o*t[2]+h,n=r-t[3],s=r+t[3];this._geometries.push(e),this._near.push(-s),this._far.push(-n)}))));const f=new b;if(0===this._geometries.length)return f;for(let n=0;n<this._geometries.length;++n)this._near[n]>f.far&&(f.far=this._near[n]),this._near[n]>2&&this._far[n]<f.near&&(f.near=this._far[n]);const c=this._looseRange;c.near=Math.max(.5*f.near,2),c.far=2*f.far;let _=0,u=0;for(let n=0;n<this._geometries.length;++n)this._near[n]<f.near&&(this._near[n]>=c.near?f.near=this._near[n]:this._nearCandidates[_++]=n),this._far[n]>f.far&&(this._far[n]<=c.far?f.far=this._far[n]:this._farCandidates[u++]=n);if(0===this._nearCandidates.length&&0===this._farCandidates.length)return f;this._nearCandidates.sort(((e,t)=>this._near[e]<this._near[t]?-1:this._near[e]>this._near[t]?1:0)),this._farCandidates.sort(((e,t)=>this._far[e]<this._far[t]?1:this._far[e]>this._far[t]?-1:0));for(let n=0;n<this._nearCandidates.length;++n){const e=this._nearCandidates[n];if(this._near[e]<f.near){const t=this._geometries[e],r=t.boundingInfo;this._includeNearBoundingInfoRec(r,t.shaderTransformation,f)}}for(let n=0;n<this._farCandidates.length;++n){const e=this._farCandidates[n];if(this._far[e]>f.far){const t=this._geometries[e],r=t.boundingInfo;this._includeFarBoundingInfoRec(r,t.shaderTransformation,f)}}return this._reset(),f}_reset(){this._geometries.length=0,this._near.length=0,this._far.length=0,this._nearCandidates.length=0,this._farCandidates.length=0}_includeNearBoundingInfoRec(e,t,i){if(r(e))return;const n=e.center;o(k,n,t);const s=d(t),a=k[0],h=k[1],f=k[2],c=e.radius*s,_=this._frustum;if(_[0][0]*a+_[0][1]*h+_[0][2]*f+_[0][3]>c||_[1][0]*a+_[1][1]*h+_[1][2]*f+_[1][3]>c||_[2][0]*a+_[2][1]*h+_[2][2]*f+_[2][3]>c||_[3][0]*a+_[3][1]*h+_[3][2]*f+_[3][3]>c)return;const l=this._view[2]*a+this._view[6]*h+this._view[10]*f+this._view[14],u=l+c;if(!(-(l-c)<2||-u>=i.near))if(-u>this._looseRange.near)i.near=-u;else{if(c>R){const r=e.getChildren();if(void 0!==r){for(const e of r)this._includeNearBoundingInfoRec(e,t,i);return}}U.unionDepthRangeWithAABB(i,this._viewProj,t,e.bbMin,e.bbMax)}}_includeFarBoundingInfoRec(e,t,i){if(r(e))return;let n=e.radius;const s=e.center;o(k,s,t);const a=d(t),h=k[0],f=k[1],c=k[2];n*=a;const _=this._frustum;if(_[0][0]*h+_[0][1]*f+_[0][2]*c+_[0][3]>n||_[1][0]*h+_[1][1]*f+_[1][2]*c+_[1][3]>n||_[2][0]*h+_[2][1]*f+_[2][2]*c+_[2][3]>n||_[3][0]*h+_[3][1]*f+_[3][2]*c+_[3][3]>n)return;const l=this._view[2]*h+this._view[6]*f+this._view[10]*c+this._view[14]-n;if(!(-l<=i.far))if(-l<this._looseRange.far)i.far=-l;else{if(n>R){const r=e.getChildren();if(void 0!==r){for(const e of r)this._includeFarBoundingInfoRec(e,t,i);return}}U.unionDepthRangeWithAABB(i,this._viewProj,t,e.bbMin,e.bbMax)}}}class S{constructor(){this._modelViewProj=a(),this._clipPosition=[f(),f(),f(),f(),f(),f(),f(),f()]}unionDepthRangeWithAABB(e,t,r,i,s){const a=this._modelViewProj;n(a,t,r);let o=!1;for(let n=0;n<8;++n){const e=this._clipPosition[n],t=0===n||3===n||4===n||7===n?i[0]:s[0],r=0===n||1===n||4===n||5===n?i[1]:s[1],o=n<4?i[2]:s[2];e[0]=a[0]*t+a[4]*r+a[8]*o+a[12],e[1]=a[1]*t+a[5]*r+a[9]*o+a[13],e[2]=a[2]*t+a[6]*r+a[10]*o+a[14],e[3]=a[3]*t+a[7]*r+a[11]*o+a[15]}for(let n=0;n<12;++n){const t=this._clipPosition[W[n][0]],r=this._clipPosition[W[n][1]],i=this._clipPosition[W[n][2]],s=this._clipTriangle(t,r,i);let a=!0;for(let e=0;e<s.length;++e){if(s[e][3]>=2){a=!1;break}}if(!a){o=!0;for(let t=0;t<s.length;++t){const r=s[t][3];Number.isFinite(r)&&(e.near=Math.min(r,e.near),e.far=Math.max(r,e.far))}}}return o}_inside(e,t){return 0===t?e[0]>=-e[3]:1===t?e[1]>=-e[3]:2===t?e[0]<=e[3]:3===t?e[1]<=e[3]:void v(!1)}_intersect(e,t,r){let i=0;return 0===r?i=(-e[3]-e[0])/(t[0]-e[0]+t[3]-e[3]):1===r?i=(-e[3]-e[1])/(t[1]-e[1]+t[3]-e[3]):2===r?i=(e[3]-e[0])/(t[0]-e[0]-t[3]+e[3]):3===r&&(i=(e[3]-e[1])/(t[1]-e[1]-t[3]+e[3])),h(f(),e,t,i)}_clipTriangle(e,t,r){let i=[e,t,r];for(let n=0;n<4;++n){const e=i;i=[];for(let t=0;t<e.length;++t){const r=e[t],s=e[(t+1)%e.length];this._inside(s,n)?(this._inside(r,n)||i.push(this._intersect(r,s,n)),i.push(s)):this._inside(r,n)&&i.push(this._intersect(r,s,n))}}return i}}const W=[[0,1,3],[2,3,1],[1,5,2],[6,2,5],[5,4,6],[7,6,4],[4,0,7],[3,7,0],[3,2,7],[6,7,2],[4,5,0],[1,0,5]],k=u(),E=a(),K=m(),V=new P,G=new N,U=new S;export{N as DepthRangeFromRenderGeometries,T as depthRangeFromLayer,O as depthRangeFromScene,M as textureToDepth};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}