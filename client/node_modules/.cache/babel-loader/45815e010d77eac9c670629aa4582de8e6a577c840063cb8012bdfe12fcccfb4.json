{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport { disposeMaybe as s } from \"../../../../core/maybe.js\";\nimport { property as i } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport { subclass as a } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { g as r, c as o } from \"../../../../chunks/vec4.js\";\nimport { createQuadVAO as n } from \"./glUtil3D.js\";\nimport { S as h } from \"../../../../chunks/ShadowCastVisualize.glsl.js\";\nimport { ShadowCastVisualizeTechnique as _ } from \"../shaders/ShadowCastVisualizeTechnique.js\";\nimport { ShadowCastVisualizeTechniqueConfiguration as l, ShadowCastVisualization as u } from \"../shaders/ShadowCastVisualizeTechniqueConfiguration.js\";\nimport { vertexCount as d } from \"../../../webgl/Util.js\";\nconst c = 4e4,\n  p = 5e4,\n  m = 1 / 512;\nlet b = class extends t {\n  constructor(e, t, s, i) {\n    super({}), this._techniqueRepository = e, this._rctx = t, this._data = s, this._requestRender = i, this._passParameters = new h(this._data.shadowCastTexture), this._techniqueConfig = new l(), this._enabled = !1, this._vao = n(t), this._techniqueConfig.visualization = u.Gradient;\n  }\n  normalizeCtorArgs() {\n    return {};\n  }\n  dispose() {\n    this._stop(), this._vao = s(this._vao), this._techniqueRepository.release(this._technique), this._technique = null;\n  }\n  get _visualizeShadowCastTechnique() {\n    return this._technique = this._techniqueRepository.releaseAndAcquire(_, this._techniqueConfig, this._technique), this._technique;\n  }\n  render(e) {\n    if (!this._showVisualization) return;\n    this._passParameters.sampleScale = 1 / this._data.computedSamples;\n    const t = this._visualizeShadowCastTechnique;\n    this._rctx.bindVAO(this._vao), this._rctx.bindTechnique(t, this._passParameters, e), this._rctx.drawArrays(t.primitiveType, 0, d(this._vao, \"geometry\"));\n  }\n  setOptions(e) {\n    void 0 !== e.enabled && this._setEnabled(e.enabled), void 0 !== e.color && this._setColor(e.color), void 0 !== e.threshold && (this._threshold = e.threshold), void 0 !== e.visualization && (this._visualization = e.visualization), void 0 !== e.bandSize && (this._bandSize = e.bandSize), void 0 !== e.bandsEnabled && (this._bandsEnabled = e.bandsEnabled);\n  }\n  get opacityFromElevation() {\n    return this._passParameters.opacityFromElevation;\n  }\n  set opacityFromElevation(e) {\n    this._passParameters.opacityFromElevation !== e && (this._passParameters.opacityFromElevation = e, this.notifyChange(\"opacityFromElevation\"));\n  }\n  get _showVisualization() {\n    return this._enabled && this._data.computedSamples > 0 && this.opacityFromElevation > m;\n  }\n  get _threshold() {\n    return this._passParameters.threshold;\n  }\n  set _threshold(e) {\n    this._threshold !== e && (this._passParameters.threshold = e, this._requestRenderIfRunning());\n  }\n  get _visualization() {\n    return this._techniqueConfig.visualization;\n  }\n  set _visualization(e) {\n    e !== this._visualization && (this._techniqueConfig.visualization = e, this._techniqueRepository.release(this._technique), this._technique = null, this._requestRenderIfRunning());\n  }\n  get _bandSize() {\n    return this._passParameters.bandSize;\n  }\n  set _bandSize(e) {\n    e !== this._bandSize && (this._passParameters.bandSize = e, this._requestRenderIfRunning());\n  }\n  get _bandsEnabled() {\n    return this._techniqueConfig.bandsEnabled;\n  }\n  set _bandsEnabled(e) {\n    e !== this._bandsEnabled && (this._techniqueConfig.bandsEnabled = e, this._techniqueRepository.release(this._technique), this._technique = null, this._requestRenderIfRunning());\n  }\n  _setColor(e) {\n    const t = this._passParameters.color;\n    r(e, t) || (o(this._passParameters.color, e), this._requestRenderIfRunning());\n  }\n  _setEnabled(e) {\n    e !== this._enabled && (e ? this._start() : this._stop());\n  }\n  _requestRenderIfRunning() {\n    this._enabled && this._requestRender();\n  }\n  _start() {\n    this._enabled = !0, this._requestRender();\n  }\n  _stop() {\n    this._enabled = !1, this._requestRender();\n  }\n};\ne([i()], b.prototype, \"opacityFromElevation\", null), b = e([a(\"esri.views.3d.webgl-engine.lib.ShadowCastRenderer\")], b);\nexport { b as ShadowCastRenderer, p as shadowCastDisableElevationMax, c as shadowCastDisableElevationMin, m as shadowCastDisabledElevationThreshold };","map":{"version":3,"names":["_","e","t","disposeMaybe","s","property","i","subclass","a","g","r","c","o","createQuadVAO","n","S","h","ShadowCastVisualizeTechnique","ShadowCastVisualizeTechniqueConfiguration","l","ShadowCastVisualization","u","vertexCount","d","p","m","b","constructor","_techniqueRepository","_rctx","_data","_requestRender","_passParameters","shadowCastTexture","_techniqueConfig","_enabled","_vao","visualization","Gradient","normalizeCtorArgs","dispose","_stop","release","_technique","_visualizeShadowCastTechnique","releaseAndAcquire","render","_showVisualization","sampleScale","computedSamples","bindVAO","bindTechnique","drawArrays","primitiveType","setOptions","enabled","_setEnabled","color","_setColor","threshold","_threshold","_visualization","bandSize","_bandSize","bandsEnabled","_bandsEnabled","opacityFromElevation","notifyChange","_requestRenderIfRunning","_start","prototype","ShadowCastRenderer","shadowCastDisableElevationMax","shadowCastDisableElevationMin","shadowCastDisabledElevationThreshold"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowCastRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{disposeMaybe as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{g as r,c as o}from\"../../../../chunks/vec4.js\";import{createQuadVAO as n}from\"./glUtil3D.js\";import{S as h}from\"../../../../chunks/ShadowCastVisualize.glsl.js\";import{ShadowCastVisualizeTechnique as _}from\"../shaders/ShadowCastVisualizeTechnique.js\";import{ShadowCastVisualizeTechniqueConfiguration as l,ShadowCastVisualization as u}from\"../shaders/ShadowCastVisualizeTechniqueConfiguration.js\";import{vertexCount as d}from\"../../../webgl/Util.js\";const c=4e4,p=5e4,m=1/512;let b=class extends t{constructor(e,t,s,i){super({}),this._techniqueRepository=e,this._rctx=t,this._data=s,this._requestRender=i,this._passParameters=new h(this._data.shadowCastTexture),this._techniqueConfig=new l,this._enabled=!1,this._vao=n(t),this._techniqueConfig.visualization=u.Gradient}normalizeCtorArgs(){return{}}dispose(){this._stop(),this._vao=s(this._vao),this._techniqueRepository.release(this._technique),this._technique=null}get _visualizeShadowCastTechnique(){return this._technique=this._techniqueRepository.releaseAndAcquire(_,this._techniqueConfig,this._technique),this._technique}render(e){if(!this._showVisualization)return;this._passParameters.sampleScale=1/this._data.computedSamples;const t=this._visualizeShadowCastTechnique;this._rctx.bindVAO(this._vao),this._rctx.bindTechnique(t,this._passParameters,e),this._rctx.drawArrays(t.primitiveType,0,d(this._vao,\"geometry\"))}setOptions(e){void 0!==e.enabled&&this._setEnabled(e.enabled),void 0!==e.color&&this._setColor(e.color),void 0!==e.threshold&&(this._threshold=e.threshold),void 0!==e.visualization&&(this._visualization=e.visualization),void 0!==e.bandSize&&(this._bandSize=e.bandSize),void 0!==e.bandsEnabled&&(this._bandsEnabled=e.bandsEnabled)}get opacityFromElevation(){return this._passParameters.opacityFromElevation}set opacityFromElevation(e){this._passParameters.opacityFromElevation!==e&&(this._passParameters.opacityFromElevation=e,this.notifyChange(\"opacityFromElevation\"))}get _showVisualization(){return this._enabled&&this._data.computedSamples>0&&this.opacityFromElevation>m}get _threshold(){return this._passParameters.threshold}set _threshold(e){this._threshold!==e&&(this._passParameters.threshold=e,this._requestRenderIfRunning())}get _visualization(){return this._techniqueConfig.visualization}set _visualization(e){e!==this._visualization&&(this._techniqueConfig.visualization=e,this._techniqueRepository.release(this._technique),this._technique=null,this._requestRenderIfRunning())}get _bandSize(){return this._passParameters.bandSize}set _bandSize(e){e!==this._bandSize&&(this._passParameters.bandSize=e,this._requestRenderIfRunning())}get _bandsEnabled(){return this._techniqueConfig.bandsEnabled}set _bandsEnabled(e){e!==this._bandsEnabled&&(this._techniqueConfig.bandsEnabled=e,this._techniqueRepository.release(this._technique),this._technique=null,this._requestRenderIfRunning())}_setColor(e){const t=this._passParameters.color;r(e,t)||(o(this._passParameters.color,e),this._requestRenderIfRunning())}_setEnabled(e){e!==this._enabled&&(e?this._start():this._stop())}_requestRenderIfRunning(){this._enabled&&this._requestRender()}_start(){this._enabled=!0,this._requestRender()}_stop(){this._enabled=!1,this._requestRender()}};e([i()],b.prototype,\"opacityFromElevation\",null),b=e([a(\"esri.views.3d.webgl-engine.lib.ShadowCastRenderer\")],b);export{b as ShadowCastRenderer,p as shadowCastDisableElevationMax,c as shadowCastDisableElevationMin,m as shadowCastDisabledElevationThreshold};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}