{"ast":null,"code":"import _taggedTemplateLiteral from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7;\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { Float3PassUniform as e } from \"../../shaderModules/Float3PassUniform.js\";\nimport { Float4sPassUniform as o } from \"../../shaderModules/Float4sPassUniform.js\";\nimport { FloatsPassUniform as r } from \"../../shaderModules/FloatsPassUniform.js\";\nimport { glsl as v } from \"../../shaderModules/interfaces.js\";\nimport { Matrix3PassUniform as t } from \"../../shaderModules/Matrix3PassUniform.js\";\nimport { VertexAttribute as a } from \"../../../lib/VertexAttribute.js\";\nimport { vvColorNumber as i } from \"../../../materials/VisualVariablePassParameters.js\";\nfunction s(s, n) {\n  n.hasVvInstancing && (n.vvSize || n.vvColor) && s.attributes.add(a.INSTANCEFEATUREATTRIBUTE, \"vec4\");\n  var l = s.vertex;\n  n.vvSize ? (l.uniforms.add(new e(\"vvSizeMinSize\", function (e) {\n    return e.vvSizeMinSize;\n  })), l.uniforms.add(new e(\"vvSizeMaxSize\", function (e) {\n    return e.vvSizeMaxSize;\n  })), l.uniforms.add(new e(\"vvSizeOffset\", function (e) {\n    return e.vvSizeOffset;\n  })), l.uniforms.add(new e(\"vvSizeFactor\", function (e) {\n    return e.vvSizeFactor;\n  })), l.uniforms.add(new t(\"vvSymbolRotationMatrix\", function (e) {\n    return e.vvSymbolRotationMatrix;\n  })), l.uniforms.add(new e(\"vvSymbolAnchor\", function (e) {\n    return e.vvSymbolAnchor;\n  })), l.code.add(v(_templateObject || (_templateObject = _taggedTemplateLiteral([\"vec3 vvScale(vec4 _featureAttribute) {\\nreturn clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize);\\n}\\nvec4 vvTransformPosition(vec3 position, vec4 _featureAttribute) {\\nreturn vec4(vvSymbolRotationMatrix * ( vvScale(_featureAttribute) * (position + vvSymbolAnchor)), 1.0);\\n}\"])))), l.code.add(v(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n      const float eps = 1.192092896e-07;\\n      vec4 vvTransformNormal(vec3 _normal, vec4 _featureAttribute) {\\n        vec3 vvScale = clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize + eps, vvSizeMaxSize);\\n        return vec4(vvSymbolRotationMatrix * _normal / vvScale, 1.0);\\n      }\\n\\n      \", \"\\n    \"])), n.hasVvInstancing ? v(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n      vec4 vvLocalNormal(vec3 _normal) {\\n        return vvTransformNormal(_normal, instanceFeatureAttribute);\\n      }\\n\\n      vec4 localPosition() {\\n        return vvTransformPosition(position, instanceFeatureAttribute);\\n      }\"]))) : \"\"))) : l.code.add(v(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"vec4 localPosition() { return vec4(position, 1.0); }\\nvec4 vvLocalNormal(vec3 _normal) { return vec4(_normal, 1.0); }\"])))), n.vvColor ? (l.constants.add(\"vvColorNumber\", \"int\", i), n.hasVvInstancing && l.uniforms.add([new r(\"vvColorValues\", function (e) {\n    return e.vvColorValues;\n  }, i), new o(\"vvColorColors\", function (e) {\n    return e.vvColorColors;\n  }, i)]), l.code.add(v(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n      vec4 vvGetColor(vec4 featureAttribute, float values[vvColorNumber], vec4 colors[vvColorNumber]) {\\n        float value = featureAttribute.y;\\n        if (value <= values[0]) {\\n          return colors[0];\\n        }\\n\\n        for (int i = 1; i < vvColorNumber; ++i) {\\n          if (values[i] >= value) {\\n            float f = (value - values[i-1]) / (values[i] - values[i-1]);\\n            return mix(colors[i-1], colors[i], f);\\n          }\\n        }\\n        return colors[vvColorNumber - 1];\\n      }\\n\\n      \", \"\\n    \"])), n.hasVvInstancing ? v(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n      vec4 vvColor() {\\n        return vvGetColor(instanceFeatureAttribute, vvColorValues, vvColorColors);\\n      }\"]))) : \"\"))) : l.code.add(v(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"vec4 vvColor() { return vec4(1.0); }\"]))));\n}\nexport { s as VisualVariables };","map":{"version":3,"names":["Float3PassUniform","e","Float4sPassUniform","o","FloatsPassUniform","r","glsl","v","Matrix3PassUniform","t","VertexAttribute","a","vvColorNumber","i","s","n","hasVvInstancing","vvSize","vvColor","attributes","add","INSTANCEFEATUREATTRIBUTE","l","vertex","uniforms","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvSymbolRotationMatrix","vvSymbolAnchor","code","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","_templateObject4","constants","vvColorValues","vvColorColors","_templateObject5","_templateObject6","_templateObject7","VisualVariables"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{Float3PassUniform as e}from\"../../shaderModules/Float3PassUniform.js\";import{Float4sPassUniform as o}from\"../../shaderModules/Float4sPassUniform.js\";import{FloatsPassUniform as r}from\"../../shaderModules/FloatsPassUniform.js\";import{glsl as v}from\"../../shaderModules/interfaces.js\";import{Matrix3PassUniform as t}from\"../../shaderModules/Matrix3PassUniform.js\";import{VertexAttribute as a}from\"../../../lib/VertexAttribute.js\";import{vvColorNumber as i}from\"../../../materials/VisualVariablePassParameters.js\";function s(s,n){n.hasVvInstancing&&(n.vvSize||n.vvColor)&&s.attributes.add(a.INSTANCEFEATUREATTRIBUTE,\"vec4\");const l=s.vertex;n.vvSize?(l.uniforms.add(new e(\"vvSizeMinSize\",(e=>e.vvSizeMinSize))),l.uniforms.add(new e(\"vvSizeMaxSize\",(e=>e.vvSizeMaxSize))),l.uniforms.add(new e(\"vvSizeOffset\",(e=>e.vvSizeOffset))),l.uniforms.add(new e(\"vvSizeFactor\",(e=>e.vvSizeFactor))),l.uniforms.add(new t(\"vvSymbolRotationMatrix\",(e=>e.vvSymbolRotationMatrix))),l.uniforms.add(new e(\"vvSymbolAnchor\",(e=>e.vvSymbolAnchor))),l.code.add(v`vec3 vvScale(vec4 _featureAttribute) {\nreturn clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize);\n}\nvec4 vvTransformPosition(vec3 position, vec4 _featureAttribute) {\nreturn vec4(vvSymbolRotationMatrix * ( vvScale(_featureAttribute) * (position + vvSymbolAnchor)), 1.0);\n}`),l.code.add(v`\n      const float eps = 1.192092896e-07;\n      vec4 vvTransformNormal(vec3 _normal, vec4 _featureAttribute) {\n        vec3 vvScale = clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize + eps, vvSizeMaxSize);\n        return vec4(vvSymbolRotationMatrix * _normal / vvScale, 1.0);\n      }\n\n      ${n.hasVvInstancing?v`\n      vec4 vvLocalNormal(vec3 _normal) {\n        return vvTransformNormal(_normal, instanceFeatureAttribute);\n      }\n\n      vec4 localPosition() {\n        return vvTransformPosition(position, instanceFeatureAttribute);\n      }`:\"\"}\n    `)):l.code.add(v`vec4 localPosition() { return vec4(position, 1.0); }\nvec4 vvLocalNormal(vec3 _normal) { return vec4(_normal, 1.0); }`),n.vvColor?(l.constants.add(\"vvColorNumber\",\"int\",i),n.hasVvInstancing&&l.uniforms.add([new r(\"vvColorValues\",(e=>e.vvColorValues),i),new o(\"vvColorColors\",(e=>e.vvColorColors),i)]),l.code.add(v`\n      vec4 vvGetColor(vec4 featureAttribute, float values[vvColorNumber], vec4 colors[vvColorNumber]) {\n        float value = featureAttribute.y;\n        if (value <= values[0]) {\n          return colors[0];\n        }\n\n        for (int i = 1; i < vvColorNumber; ++i) {\n          if (values[i] >= value) {\n            float f = (value - values[i-1]) / (values[i] - values[i-1]);\n            return mix(colors[i-1], colors[i], f);\n          }\n        }\n        return colors[vvColorNumber - 1];\n      }\n\n      ${n.hasVvInstancing?v`\n      vec4 vvColor() {\n        return vvGetColor(instanceFeatureAttribute, vvColorValues, vvColorColors);\n      }`:\"\"}\n    `)):l.code.add(v`vec4 vvColor() { return vec4(1.0); }`)}export{s as VisualVariables};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}