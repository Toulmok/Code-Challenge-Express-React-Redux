{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as i } from \"../../chunks/tslib.es6.js\";\nimport e from \"../../core/Collection.js\";\nimport { referenceSetter as s, castForReferenceSetter as r } from \"../../core/collectionUtils.js\";\nimport { isNone as t } from \"../../core/maybe.js\";\nimport { watch as l, sync as a } from \"../../core/reactiveUtils.js\";\nimport { property as y } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as o } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport h from \"./LayerView.js\";\nlet p = class extends h {\n  constructor(i) {\n    super(i), this.type = \"group\", this.layerViews = new e();\n  }\n  _allLayerViewVisibility(i) {\n    this.layerViews.forEach(e => {\n      e.visible = i;\n    });\n  }\n  initialize() {\n    this.handles.add([this.layerViews.on(\"change\", i => this._layerViewsChangeHandler(i)), l(() => this.layer.visibilityMode, () => this._applyVisibility(() => this._allLayerViewVisibility(this.visible), () => this._applyExclusiveVisibility(null)), a), l(() => this.visible, i => {\n      this._applyVisibility(() => this._allLayerViewVisibility(i), () => {});\n    }, a)], \"grouplayerview\"), this._layerViewsChangeHandler({\n      target: null,\n      added: this.layerViews.toArray(),\n      removed: [],\n      moved: []\n    });\n  }\n  set layerViews(i) {\n    this._set(\"layerViews\", s(i, this._get(\"layerViews\")));\n  }\n  get updatingProgress() {\n    return 0 === this.layerViews.length ? 1 : this.layerViews.reduce((i, e) => i + e.updatingProgress, 0) / this.layerViews.length;\n  }\n  isUpdating() {\n    return this.layerViews.some(i => i.updating);\n  }\n  _hasLayerViewVisibleOverrides() {\n    return this.layerViews.some(i => i._isOverridden(\"visible\"));\n  }\n  _findLayerViewForLayer(i) {\n    return i && this.layerViews.find(e => e.layer === i);\n  }\n  _firstVisibleOnLayerOrder() {\n    const i = this.layer.layers.find(i => !!this._findLayerViewForLayer(i)?.visible);\n    return i && this._findLayerViewForLayer(i);\n  }\n  _applyExclusiveVisibility(i) {\n    t(i) && (i = this._firstVisibleOnLayerOrder(), t(i) && this.layerViews.length > 0 && (i = this._findLayerViewForLayer(this.layer.layers.getItemAt(0)))), this.layerViews.forEach(e => {\n      e.visible = e === i;\n    });\n  }\n  _layerViewsChangeHandler(i) {\n    this.handles.remove(\"grouplayerview:visible\"), this.handles.add(this.layerViews.map(i => l(() => i.visible, e => this._applyVisibility(() => {\n      e !== this.visible && (i.visible = this.visible);\n    }, () => this._applyExclusiveVisibility(e ? i : null)), a)).toArray(), \"grouplayerview:visible\");\n    const e = i.added[i.added.length - 1];\n    this._applyVisibility(() => this._allLayerViewVisibility(this.visible), () => this._applyExclusiveVisibility(e?.visible ? e : null));\n  }\n  _applyVisibility(i, e) {\n    this._hasLayerViewVisibleOverrides() && (\"inherited\" === this.layer?.visibilityMode ? i() : \"exclusive\" === this.layer?.visibilityMode && e());\n  }\n};\ni([y({\n  cast: r\n})], p.prototype, \"layerViews\", null), i([y({\n  readOnly: !0\n})], p.prototype, \"updatingProgress\", null), i([y()], p.prototype, \"view\", void 0), p = i([o(\"esri.views.layers.GroupLayerView\")], p);\nconst n = p;\nexport { n as default };","map":{"version":3,"names":["_","i","e","referenceSetter","s","castForReferenceSetter","r","isNone","t","watch","l","sync","a","property","y","subclass","o","h","p","constructor","type","layerViews","_allLayerViewVisibility","forEach","visible","initialize","handles","add","on","_layerViewsChangeHandler","layer","visibilityMode","_applyVisibility","_applyExclusiveVisibility","target","added","toArray","removed","moved","_set","_get","updatingProgress","length","reduce","isUpdating","some","updating","_hasLayerViewVisibleOverrides","_isOverridden","_findLayerViewForLayer","find","_firstVisibleOnLayerOrder","layers","getItemAt","remove","map","cast","prototype","readOnly","n","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/layers/GroupLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{referenceSetter as s,castForReferenceSetter as r}from\"../../core/collectionUtils.js\";import{isNone as t}from\"../../core/maybe.js\";import{watch as l,sync as a}from\"../../core/reactiveUtils.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"./LayerView.js\";let p=class extends h{constructor(i){super(i),this.type=\"group\",this.layerViews=new e}_allLayerViewVisibility(i){this.layerViews.forEach((e=>{e.visible=i}))}initialize(){this.handles.add([this.layerViews.on(\"change\",(i=>this._layerViewsChangeHandler(i))),l((()=>this.layer.visibilityMode),(()=>this._applyVisibility((()=>this._allLayerViewVisibility(this.visible)),(()=>this._applyExclusiveVisibility(null)))),a),l((()=>this.visible),(i=>{this._applyVisibility((()=>this._allLayerViewVisibility(i)),(()=>{}))}),a)],\"grouplayerview\"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}set layerViews(i){this._set(\"layerViews\",s(i,this._get(\"layerViews\")))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce(((i,e)=>i+e.updatingProgress),0)/this.layerViews.length}isUpdating(){return this.layerViews.some((i=>i.updating))}_hasLayerViewVisibleOverrides(){return this.layerViews.some((i=>i._isOverridden(\"visible\")))}_findLayerViewForLayer(i){return i&&this.layerViews.find((e=>e.layer===i))}_firstVisibleOnLayerOrder(){const i=this.layer.layers.find((i=>!!this._findLayerViewForLayer(i)?.visible));return i&&this._findLayerViewForLayer(i)}_applyExclusiveVisibility(i){t(i)&&(i=this._firstVisibleOnLayerOrder(),t(i)&&this.layerViews.length>0&&(i=this._findLayerViewForLayer(this.layer.layers.getItemAt(0)))),this.layerViews.forEach((e=>{e.visible=e===i}))}_layerViewsChangeHandler(i){this.handles.remove(\"grouplayerview:visible\"),this.handles.add(this.layerViews.map((i=>l((()=>i.visible),(e=>this._applyVisibility((()=>{e!==this.visible&&(i.visible=this.visible)}),(()=>this._applyExclusiveVisibility(e?i:null)))),a))).toArray(),\"grouplayerview:visible\");const e=i.added[i.added.length-1];this._applyVisibility((()=>this._allLayerViewVisibility(this.visible)),(()=>this._applyExclusiveVisibility(e?.visible?e:null)))}_applyVisibility(i,e){this._hasLayerViewVisibleOverrides()&&(\"inherited\"===this.layer?.visibilityMode?i():\"exclusive\"===this.layer?.visibilityMode&&e())}};i([y({cast:r})],p.prototype,\"layerViews\",null),i([y({readOnly:!0})],p.prototype,\"updatingProgress\",null),i([y()],p.prototype,\"view\",void 0),p=i([o(\"esri.views.layers.GroupLayerView\")],p);const n=p;export{n as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}