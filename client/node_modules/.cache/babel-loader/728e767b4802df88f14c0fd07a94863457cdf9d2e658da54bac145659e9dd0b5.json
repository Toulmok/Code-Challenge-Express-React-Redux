{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { glLayout as t } from \"../../../support/buffer/glUtil.js\";\nimport { Default3D as r } from \"../DefaultVertexAttributeLocations.js\";\nimport { GLMaterials as e } from \"../GLMaterials.js\";\nimport { newIntersectorResult as s } from \"../Intersector.js\";\nimport { IntersectorType as o, StoreResults as i } from \"../IntersectorInterfaces.js\";\nimport { VertexArrayObject as a } from \"../VertexArrayObject.js\";\nimport { LodTarget as n } from \"./Intersector.js\";\nimport { BufferObject as m } from \"../../../../webgl/BufferObject.js\";\nimport { Usage as l } from \"../../../../webgl/enums.js\";\nclass u {\n  constructor(s, o) {\n    const i = s.renderContext.rctx,\n      n = o.geometry;\n    this._materialRepository = s.materialRepository, n.material.setParameters({\n      instancedDoublePrecision: !0\n    });\n    const u = n.material.createBufferWriter(),\n      f = u.vertexBufferLayout,\n      d = u.elementCount(n),\n      p = u.allocate(d);\n    u.write(null, null, n, p, 0), this.geometry = n, this.material = n.material, this.glMaterials = new e(n.material, this._materialRepository), this.vertexBufferLayout = f, this.vbo = m.createVertex(i, l.STATIC_DRAW, p.buffer), this.vao = new a(i, r, {\n      geometry: t(f)\n    }, {\n      geometry: this.vbo\n    }), this.vertexCount = d;\n  }\n  destroy() {\n    this.glMaterials.destroy(), this.vbo.dispose(), this.vao.dispose();\n  }\n  get boundingInfo() {\n    return this.geometry.boundingInfo;\n  }\n  get triangleCount() {\n    return this.vertexCount / 3;\n  }\n  intersect(t, r, e, a, m, l, u, f) {\n    const d = this.geometry.id;\n    this.material.intersect(this.geometry, t.transform.transform, t, e, a, (e, a, p, c, y) => {\n      if (e >= 0) {\n        if (null != r && !r(t.rayBegin, t.rayEnd, e)) return;\n        const c = new n(l.layerUid, l.graphicUid(m), d, p, u, f);\n        if ((null == t.results.min.drapedLayerOrder || y >= t.results.min.drapedLayerOrder) && (null == t.results.min.dist || e < t.results.min.dist) && t.results.min.set(o.LOD, c, e, a, t.transform.transform, y), t.options.store !== i.MIN && (null == t.results.max.drapedLayerOrder || y >= t.results.max.drapedLayerOrder) && (null == t.results.max.dist || e > t.results.max.dist) && t.results.max.set(o.LOD, c, e, a, t.transform.transform, y), t.options.store === i.ALL) {\n          const r = s(t.results.min.ray);\n          r.set(o.LOD, c, e, a, t.transform.transform, y), t.results.all.push(r);\n        }\n      }\n    });\n  }\n}\nexport { u as LodComponentData };","map":{"version":3,"names":["glLayout","t","Default3D","r","GLMaterials","e","newIntersectorResult","s","IntersectorType","o","StoreResults","i","VertexArrayObject","a","LodTarget","n","BufferObject","m","Usage","l","u","constructor","renderContext","rctx","geometry","_materialRepository","materialRepository","material","setParameters","instancedDoublePrecision","createBufferWriter","f","vertexBufferLayout","d","elementCount","p","allocate","write","glMaterials","vbo","createVertex","STATIC_DRAW","buffer","vao","vertexCount","destroy","dispose","boundingInfo","triangleCount","intersect","id","transform","c","y","rayBegin","rayEnd","layerUid","graphicUid","results","min","drapedLayerOrder","dist","set","LOD","options","store","MIN","max","ALL","ray","all","push","LodComponentData"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodComponentData.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{glLayout as t}from\"../../../support/buffer/glUtil.js\";import{Default3D as r}from\"../DefaultVertexAttributeLocations.js\";import{GLMaterials as e}from\"../GLMaterials.js\";import{newIntersectorResult as s}from\"../Intersector.js\";import{IntersectorType as o,StoreResults as i}from\"../IntersectorInterfaces.js\";import{VertexArrayObject as a}from\"../VertexArrayObject.js\";import{LodTarget as n}from\"./Intersector.js\";import{BufferObject as m}from\"../../../../webgl/BufferObject.js\";import{Usage as l}from\"../../../../webgl/enums.js\";class u{constructor(s,o){const i=s.renderContext.rctx,n=o.geometry;this._materialRepository=s.materialRepository,n.material.setParameters({instancedDoublePrecision:!0});const u=n.material.createBufferWriter(),f=u.vertexBufferLayout,d=u.elementCount(n),p=u.allocate(d);u.write(null,null,n,p,0),this.geometry=n,this.material=n.material,this.glMaterials=new e(n.material,this._materialRepository),this.vertexBufferLayout=f,this.vbo=m.createVertex(i,l.STATIC_DRAW,p.buffer),this.vao=new a(i,r,{geometry:t(f)},{geometry:this.vbo}),this.vertexCount=d}destroy(){this.glMaterials.destroy(),this.vbo.dispose(),this.vao.dispose()}get boundingInfo(){return this.geometry.boundingInfo}get triangleCount(){return this.vertexCount/3}intersect(t,r,e,a,m,l,u,f){const d=this.geometry.id;this.material.intersect(this.geometry,t.transform.transform,t,e,a,((e,a,p,c,y)=>{if(e>=0){if(null!=r&&!r(t.rayBegin,t.rayEnd,e))return;const c=new n(l.layerUid,l.graphicUid(m),d,p,u,f);if((null==t.results.min.drapedLayerOrder||y>=t.results.min.drapedLayerOrder)&&(null==t.results.min.dist||e<t.results.min.dist)&&t.results.min.set(o.LOD,c,e,a,t.transform.transform,y),t.options.store!==i.MIN&&(null==t.results.max.drapedLayerOrder||y>=t.results.max.drapedLayerOrder)&&(null==t.results.max.dist||e>t.results.max.dist)&&t.results.max.set(o.LOD,c,e,a,t.transform.transform,y),t.options.store===i.ALL){const r=s(t.results.min.ray);r.set(o.LOD,c,e,a,t.transform.transform,y),t.results.all.push(r)}}}))}}export{u as LodComponentData};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,QAAQ,IAAIC,CAAC,QAAK,mCAAmC;AAAC,SAAOC,SAAS,IAAIC,CAAC,QAAK,uCAAuC;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,oBAAoB,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,eAAe,IAAIC,CAAC,EAACC,YAAY,IAAIC,CAAC,QAAK,6BAA6B;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,yBAAyB;AAAC,SAAOC,SAAS,IAAIC,CAAC,QAAK,kBAAkB;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,mCAAmC;AAAC,SAAOC,KAAK,IAAIC,CAAC,QAAK,4BAA4B;AAAC,MAAMC,CAAC;EAACC,WAAWA,CAACd,CAAC,EAACE,CAAC,EAAC;IAAC,MAAME,CAAC,GAACJ,CAAC,CAACe,aAAa,CAACC,IAAI;MAACR,CAAC,GAACN,CAAC,CAACe,QAAQ;IAAC,IAAI,CAACC,mBAAmB,GAAClB,CAAC,CAACmB,kBAAkB,EAACX,CAAC,CAACY,QAAQ,CAACC,aAAa,CAAC;MAACC,wBAAwB,EAAC,CAAC;IAAC,CAAC,CAAC;IAAC,MAAMT,CAAC,GAACL,CAAC,CAACY,QAAQ,CAACG,kBAAkB,EAAE;MAACC,CAAC,GAACX,CAAC,CAACY,kBAAkB;MAACC,CAAC,GAACb,CAAC,CAACc,YAAY,CAACnB,CAAC,CAAC;MAACoB,CAAC,GAACf,CAAC,CAACgB,QAAQ,CAACH,CAAC,CAAC;IAACb,CAAC,CAACiB,KAAK,CAAC,IAAI,EAAC,IAAI,EAACtB,CAAC,EAACoB,CAAC,EAAC,CAAC,CAAC,EAAC,IAAI,CAACX,QAAQ,GAACT,CAAC,EAAC,IAAI,CAACY,QAAQ,GAACZ,CAAC,CAACY,QAAQ,EAAC,IAAI,CAACW,WAAW,GAAC,IAAIjC,CAAC,CAACU,CAAC,CAACY,QAAQ,EAAC,IAAI,CAACF,mBAAmB,CAAC,EAAC,IAAI,CAACO,kBAAkB,GAACD,CAAC,EAAC,IAAI,CAACQ,GAAG,GAACtB,CAAC,CAACuB,YAAY,CAAC7B,CAAC,EAACQ,CAAC,CAACsB,WAAW,EAACN,CAAC,CAACO,MAAM,CAAC,EAAC,IAAI,CAACC,GAAG,GAAC,IAAI9B,CAAC,CAACF,CAAC,EAACR,CAAC,EAAC;MAACqB,QAAQ,EAACvB,CAAC,CAAC8B,CAAC;IAAC,CAAC,EAAC;MAACP,QAAQ,EAAC,IAAI,CAACe;IAAG,CAAC,CAAC,EAAC,IAAI,CAACK,WAAW,GAACX,CAAC;EAAA;EAACY,OAAOA,CAAA,EAAE;IAAC,IAAI,CAACP,WAAW,CAACO,OAAO,EAAE,EAAC,IAAI,CAACN,GAAG,CAACO,OAAO,EAAE,EAAC,IAAI,CAACH,GAAG,CAACG,OAAO,EAAE;EAAA;EAAC,IAAIC,YAAYA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACvB,QAAQ,CAACuB,YAAY;EAAA;EAAC,IAAIC,aAAaA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACJ,WAAW,GAAC,CAAC;EAAA;EAACK,SAASA,CAAChD,CAAC,EAACE,CAAC,EAACE,CAAC,EAACQ,CAAC,EAACI,CAAC,EAACE,CAAC,EAACC,CAAC,EAACW,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACT,QAAQ,CAAC0B,EAAE;IAAC,IAAI,CAACvB,QAAQ,CAACsB,SAAS,CAAC,IAAI,CAACzB,QAAQ,EAACvB,CAAC,CAACkD,SAAS,CAACA,SAAS,EAAClD,CAAC,EAACI,CAAC,EAACQ,CAAC,EAAE,CAACR,CAAC,EAACQ,CAAC,EAACsB,CAAC,EAACiB,CAAC,EAACC,CAAC,KAAG;MAAC,IAAGhD,CAAC,IAAE,CAAC,EAAC;QAAC,IAAG,IAAI,IAAEF,CAAC,IAAE,CAACA,CAAC,CAACF,CAAC,CAACqD,QAAQ,EAACrD,CAAC,CAACsD,MAAM,EAAClD,CAAC,CAAC,EAAC;QAAO,MAAM+C,CAAC,GAAC,IAAIrC,CAAC,CAACI,CAAC,CAACqC,QAAQ,EAACrC,CAAC,CAACsC,UAAU,CAACxC,CAAC,CAAC,EAACgB,CAAC,EAACE,CAAC,EAACf,CAAC,EAACW,CAAC,CAAC;QAAC,IAAG,CAAC,IAAI,IAAE9B,CAAC,CAACyD,OAAO,CAACC,GAAG,CAACC,gBAAgB,IAAEP,CAAC,IAAEpD,CAAC,CAACyD,OAAO,CAACC,GAAG,CAACC,gBAAgB,MAAI,IAAI,IAAE3D,CAAC,CAACyD,OAAO,CAACC,GAAG,CAACE,IAAI,IAAExD,CAAC,GAACJ,CAAC,CAACyD,OAAO,CAACC,GAAG,CAACE,IAAI,CAAC,IAAE5D,CAAC,CAACyD,OAAO,CAACC,GAAG,CAACG,GAAG,CAACrD,CAAC,CAACsD,GAAG,EAACX,CAAC,EAAC/C,CAAC,EAACQ,CAAC,EAACZ,CAAC,CAACkD,SAAS,CAACA,SAAS,EAACE,CAAC,CAAC,EAACpD,CAAC,CAAC+D,OAAO,CAACC,KAAK,KAAGtD,CAAC,CAACuD,GAAG,KAAG,IAAI,IAAEjE,CAAC,CAACyD,OAAO,CAACS,GAAG,CAACP,gBAAgB,IAAEP,CAAC,IAAEpD,CAAC,CAACyD,OAAO,CAACS,GAAG,CAACP,gBAAgB,CAAC,KAAG,IAAI,IAAE3D,CAAC,CAACyD,OAAO,CAACS,GAAG,CAACN,IAAI,IAAExD,CAAC,GAACJ,CAAC,CAACyD,OAAO,CAACS,GAAG,CAACN,IAAI,CAAC,IAAE5D,CAAC,CAACyD,OAAO,CAACS,GAAG,CAACL,GAAG,CAACrD,CAAC,CAACsD,GAAG,EAACX,CAAC,EAAC/C,CAAC,EAACQ,CAAC,EAACZ,CAAC,CAACkD,SAAS,CAACA,SAAS,EAACE,CAAC,CAAC,EAACpD,CAAC,CAAC+D,OAAO,CAACC,KAAK,KAAGtD,CAAC,CAACyD,GAAG,EAAC;UAAC,MAAMjE,CAAC,GAACI,CAAC,CAACN,CAAC,CAACyD,OAAO,CAACC,GAAG,CAACU,GAAG,CAAC;UAAClE,CAAC,CAAC2D,GAAG,CAACrD,CAAC,CAACsD,GAAG,EAACX,CAAC,EAAC/C,CAAC,EAACQ,CAAC,EAACZ,CAAC,CAACkD,SAAS,CAACA,SAAS,EAACE,CAAC,CAAC,EAACpD,CAAC,CAACyD,OAAO,CAACY,GAAG,CAACC,IAAI,CAACpE,CAAC,CAAC;QAAA;MAAC;IAAC,CAAC,CAAE;EAAA;AAAC;AAAC,SAAOiB,CAAC,IAAIoD,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}