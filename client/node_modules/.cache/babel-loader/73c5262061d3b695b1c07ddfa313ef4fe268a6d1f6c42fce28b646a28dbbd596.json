{"ast":null,"code":"import _classCallCheck from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { NUMBER_MAX_FLOAT32 as e } from \"../../../core/mathUtils.js\";\nimport { isNone as s } from \"../../../core/maybe.js\";\nimport { property as o } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as r } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport n from \"./BaseRasterFunction.js\";\nimport u from \"./MaskFunctionArguments.js\";\nimport { createMaskLUT as a, MAX_MAP_SIZE_GPU as i, NoDataInterpretation as l, mask as c } from \"./pixelUtils.js\";\nvar p = /*#__PURE__*/function (_n) {\n  _inherits(p, _n);\n  var _super = _createSuper(p);\n  function p() {\n    var _this;\n    _classCallCheck(this, p);\n    _this = _super.apply(this, arguments), _this.functionName = \"Mask\", _this.functionArguments = null, _this.rasterArgumentNames = [\"raster\"];\n    return _this;\n  }\n  _createClass(p, [{\n    key: \"_bindSourceRasters\",\n    value: function _bindSourceRasters() {\n      var t = this.sourceRasterInfos[0].clone(),\n        e = t.pixelType;\n      this.outputPixelType = this._getOutputPixelType(e), t.pixelType = this.outputPixelType, this.rasterInfo = t;\n      var _this$functionArgumen = this.functionArguments,\n        s = _this$functionArgumen.includedRanges,\n        o = _this$functionArgumen.normalizedNoDataValues;\n      if (!(s !== null && s !== void 0 && s.length) && !(o !== null && o !== void 0 && o.length)) return {\n        success: !1,\n        supportsGPU: !1,\n        error: \"missing includedRanges or noDataValues argument\"\n      };\n      var r = [];\n      for (var _u = 0; _u < t.bandCount; _u++) {\n        var _t = a(e, s === null || s === void 0 ? void 0 : s.slice(2 * _u, 2 * _u + 2), o === null || o === void 0 ? void 0 : o[_u]);\n        if (null == _t) {\n          r = null;\n          break;\n        }\n        r.push(_t);\n      }\n      this.lookups = r;\n      var n = null != o && o.every(function (t) {\n        var _o$;\n        return (t === null || t === void 0 ? void 0 : t.length) === ((_o$ = o[0]) === null || _o$ === void 0 ? void 0 : _o$.length);\n      });\n      return {\n        success: !0,\n        supportsGPU: (!s || s.length <= 2 * i) && (!o || n && o[0].length <= i)\n      };\n    }\n  }, {\n    key: \"_processPixels\",\n    value: function _processPixels(t) {\n      var _t$pixelBlocks;\n      var e = (_t$pixelBlocks = t.pixelBlocks) === null || _t$pixelBlocks === void 0 ? void 0 : _t$pixelBlocks[0];\n      if (s(e)) return null;\n      var o = this.outputPixelType,\n        r = this.lookups,\n        _this$functionArgumen2 = this.functionArguments,\n        n = _this$functionArgumen2.includedRanges,\n        u = _this$functionArgumen2.noDataInterpretation,\n        a = _this$functionArgumen2.normalizedNoDataValues,\n        i = u === l.matchAll;\n      return c(e, {\n        includedRanges: n,\n        noDataValues: a,\n        outputPixelType: o,\n        matchAll: i,\n        lookups: r\n      });\n    }\n  }, {\n    key: \"_getWebGLParameters\",\n    value: function _getWebGLParameters() {\n      var _s$;\n      var _this$functionArgumen3 = this.functionArguments,\n        t = _this$functionArgumen3.includedRanges,\n        s = _this$functionArgumen3.normalizedNoDataValues,\n        o = new Float32Array(i);\n      o.fill(e), (s === null || s === void 0 ? void 0 : (_s$ = s[0]) === null || _s$ === void 0 ? void 0 : _s$.length) && o.set(s[0]);\n      var r = new Float32Array(i);\n      for (var _n2 = 0; _n2 < r.length; _n2 += 2) {\n        var _t$_n, _t2;\n        r[_n2] = (_t$_n = t === null || t === void 0 ? void 0 : t[_n2]) !== null && _t$_n !== void 0 ? _t$_n : -e, r[_n2 + 1] = (_t2 = t === null || t === void 0 ? void 0 : t[_n2 + 1]) !== null && _t2 !== void 0 ? _t2 : e;\n      }\n      return t && t.length && r.set(t), {\n        bandCount: this.sourceRasterInfos[0].bandCount,\n        noDataValues: o,\n        includedRanges: r\n      };\n    }\n  }]);\n  return p;\n}(n);\nt([o({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], p.prototype, \"functionName\", void 0), t([o({\n  type: u,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], p.prototype, \"functionArguments\", void 0), t([o()], p.prototype, \"rasterArgumentNames\", void 0), t([o({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"lookups\", void 0), p = t([r(\"esri.layers.support.rasterFunctions.MaskFunction\")], p);\nvar m = p;\nexport { m as default };","map":{"version":3,"names":["_","t","NUMBER_MAX_FLOAT32","e","isNone","s","property","o","subclass","r","n","u","createMaskLUT","a","MAX_MAP_SIZE_GPU","i","NoDataInterpretation","l","mask","c","p","_n","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","functionName","functionArguments","rasterArgumentNames","_createClass","key","value","_bindSourceRasters","sourceRasterInfos","clone","pixelType","outputPixelType","_getOutputPixelType","rasterInfo","_this$functionArgumen","includedRanges","normalizedNoDataValues","length","success","supportsGPU","error","bandCount","slice","push","lookups","every","_o$","_processPixels","_t$pixelBlocks","pixelBlocks","_this$functionArgumen2","noDataInterpretation","matchAll","noDataValues","_getWebGLParameters","_s$","_this$functionArgumen3","Float32Array","fill","set","_t$_n","_t2","json","write","name","prototype","type","m","default"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/support/rasterFunctions/MaskFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{NUMBER_MAX_FLOAT32 as e}from\"../../../core/mathUtils.js\";import{isNone as s}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"./BaseRasterFunction.js\";import u from\"./MaskFunctionArguments.js\";import{createMaskLUT as a,MAX_MAP_SIZE_GPU as i,NoDataInterpretation as l,mask as c}from\"./pixelUtils.js\";let p=class extends n{constructor(){super(...arguments),this.functionName=\"Mask\",this.functionArguments=null,this.rasterArgumentNames=[\"raster\"]}_bindSourceRasters(){const t=this.sourceRasterInfos[0].clone(),{pixelType:e}=t;this.outputPixelType=this._getOutputPixelType(e),t.pixelType=this.outputPixelType,this.rasterInfo=t;const{includedRanges:s,normalizedNoDataValues:o}=this.functionArguments;if(!s?.length&&!o?.length)return{success:!1,supportsGPU:!1,error:\"missing includedRanges or noDataValues argument\"};let r=[];for(let u=0;u<t.bandCount;u++){const t=a(e,s?.slice(2*u,2*u+2),o?.[u]);if(null==t){r=null;break}r.push(t)}this.lookups=r;const n=null!=o&&o.every((t=>t?.length===o[0]?.length));return{success:!0,supportsGPU:(!s||s.length<=2*i)&&(!o||n&&o[0].length<=i)}}_processPixels(t){const e=t.pixelBlocks?.[0];if(s(e))return null;const{outputPixelType:o,lookups:r}=this,{includedRanges:n,noDataInterpretation:u,normalizedNoDataValues:a}=this.functionArguments,i=u===l.matchAll;return c(e,{includedRanges:n,noDataValues:a,outputPixelType:o,matchAll:i,lookups:r})}_getWebGLParameters(){const{includedRanges:t,normalizedNoDataValues:s}=this.functionArguments,o=new Float32Array(i);o.fill(e),s?.[0]?.length&&o.set(s[0]);const r=new Float32Array(i);for(let n=0;n<r.length;n+=2)r[n]=t?.[n]??-e,r[n+1]=t?.[n+1]??e;return t&&t.length&&r.set(t),{bandCount:this.sourceRasterInfos[0].bandCount,noDataValues:o,includedRanges:r}}};t([o({json:{write:!0,name:\"rasterFunction\"}})],p.prototype,\"functionName\",void 0),t([o({type:u,json:{write:!0,name:\"rasterFunctionArguments\"}})],p.prototype,\"functionArguments\",void 0),t([o()],p.prototype,\"rasterArgumentNames\",void 0),t([o({json:{write:!0}})],p.prototype,\"lookups\",void 0),p=t([r(\"esri.layers.support.rasterFunctions.MaskFunction\")],p);const m=p;export{m as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}