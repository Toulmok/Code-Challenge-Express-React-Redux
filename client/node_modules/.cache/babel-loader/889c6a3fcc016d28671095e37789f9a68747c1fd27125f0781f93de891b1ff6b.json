{"ast":null,"code":"import _classCallCheck from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from \"../../core/Logger.js\";\nimport { isSome as e, disposeMaybe as i, nullifyNonNullableForDispose as r } from \"../../core/maybe.js\";\nimport { ResourceType as s } from \"./enums.js\";\nimport { bindVertexBufferLayout as n, unbindVertexBufferLayout as o } from \"./Util.js\";\nvar a = t.getLogger(\"esri.views.webgl.VertexArrayObject\");\nvar f = /*#__PURE__*/function () {\n  function f(t, e, i, r) {\n    var n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n    _classCallCheck(this, f);\n    this._context = t, this._locations = e, this._layout = i, this._buffers = r, this._indexBuffer = n, this._glName = null, this._initialized = !1, t.instanceCounter.increment(s.VertexArrayObject, this);\n  }\n  _createClass(f, [{\n    key: \"glName\",\n    get: function get() {\n      return this._glName;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this._context;\n    }\n  }, {\n    key: \"vertexBuffers\",\n    get: function get() {\n      return this._buffers;\n    }\n  }, {\n    key: \"indexBuffer\",\n    get: function get() {\n      return this._indexBuffer;\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      var _this = this;\n      return Object.keys(this._buffers).reduce(function (t, e) {\n        return t + _this._buffers[e].size;\n      }, e(this._indexBuffer) ? this._indexBuffer.size : 0);\n    }\n  }, {\n    key: \"layout\",\n    get: function get() {\n      return this._layout;\n    }\n  }, {\n    key: \"locations\",\n    get: function get() {\n      return this._locations;\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !0;\n      if (!this._context) return void ((this._glName || t && Object.getOwnPropertyNames(this._buffers).length > 0) && a.warn(\"Leaked WebGL VAO\"));\n      if (this._glName) {\n        var _this$_context, _this$_context$capabi;\n        var _t = (_this$_context = this._context) === null || _this$_context === void 0 ? void 0 : (_this$_context$capabi = _this$_context.capabilities) === null || _this$_context$capabi === void 0 ? void 0 : _this$_context$capabi.vao;\n        _t ? (_t.deleteVertexArray(this._glName), this._glName = null) : a.warn(\"Leaked WebGL VAO\");\n      }\n      if (this._context.getBoundVAO() === this && this._context.bindVAO(null), t) {\n        for (var _t2 in this._buffers) {\n          var _this$_buffers$_t;\n          (_this$_buffers$_t = this._buffers[_t2]) !== null && _this$_buffers$_t !== void 0 && _this$_buffers$_t.dispose(), delete this._buffers[_t2];\n        }\n        this._indexBuffer = i(this._indexBuffer);\n      }\n      this._context.instanceCounter.decrement(s.VertexArrayObject, this), this._context = r(this._context);\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      if (this._initialized) return;\n      var t = this._context.capabilities.vao;\n      if (t) {\n        var _e = t.createVertexArray();\n        t.bindVertexArray(_e), this._bindLayout(), t.bindVertexArray(null), this._glName = _e;\n      }\n      this._initialized = !0;\n    }\n  }, {\n    key: \"bind\",\n    value: function bind() {\n      this.initialize();\n      var t = this._context.capabilities.vao;\n      t ? t.bindVertexArray(this.glName) : (this._context.bindVAO(null), this._bindLayout());\n    }\n  }, {\n    key: \"_bindLayout\",\n    value: function _bindLayout() {\n      var t = this._buffers,\n        i = this._layout,\n        r = this._indexBuffer;\n      t || a.error(\"Vertex buffer dictionary is empty!\");\n      var s = this._context.gl;\n      for (var _e2 in t) {\n        var _r = t[_e2];\n        _r || a.error(\"Vertex buffer is uninitialized!\");\n        var _s = i[_e2];\n        _s || a.error(\"Vertex element descriptor is empty!\"), n(this._context, this._locations, _r, _s);\n      }\n      if (e(r)) {\n        !!this._context.capabilities.vao ? s.bindBuffer(s.ELEMENT_ARRAY_BUFFER, r.glName) : this._context.bindBuffer(r);\n      }\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      this.initialize();\n      var t = this._context.capabilities.vao;\n      t ? t.bindVertexArray(null) : this._unbindLayout();\n    }\n  }, {\n    key: \"_unbindLayout\",\n    value: function _unbindLayout() {\n      var t = this._buffers,\n        i = this._layout;\n      t || a.error(\"Vertex buffer dictionary is empty!\");\n      for (var _e3 in t) {\n        var _r2 = t[_e3];\n        _r2 || a.error(\"Vertex buffer is uninitialized!\");\n        var _s2 = i[_e3];\n        o(this._context, this._locations, _r2, _s2);\n      }\n      e(this._indexBuffer) && this._context.unbindBuffer(this._indexBuffer.bufferType);\n    }\n  }]);\n  return f;\n}();\nexport { f as VertexArrayObject };","map":{"version":3,"names":["t","isSome","e","disposeMaybe","i","nullifyNonNullableForDispose","r","ResourceType","s","bindVertexBufferLayout","n","unbindVertexBufferLayout","o","a","getLogger","f","arguments","length","undefined","_classCallCheck","_context","_locations","_layout","_buffers","_indexBuffer","_glName","_initialized","instanceCounter","increment","VertexArrayObject","_createClass","key","get","_this","Object","keys","reduce","size","value","dispose","getOwnPropertyNames","warn","_this$_context","_this$_context$capabi","capabilities","vao","deleteVertexArray","getBoundVAO","bindVAO","_this$_buffers$_t","decrement","initialize","createVertexArray","bindVertexArray","_bindLayout","bind","glName","error","gl","bindBuffer","ELEMENT_ARRAY_BUFFER","unbind","_unbindLayout","unbindBuffer","bufferType"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/webgl/VertexArrayObject.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Logger.js\";import{isSome as e,disposeMaybe as i,nullifyNonNullableForDispose as r}from\"../../core/maybe.js\";import{ResourceType as s}from\"./enums.js\";import{bindVertexBufferLayout as n,unbindVertexBufferLayout as o}from\"./Util.js\";const a=t.getLogger(\"esri.views.webgl.VertexArrayObject\");let f=class{constructor(t,e,i,r,n=null){this._context=t,this._locations=e,this._layout=i,this._buffers=r,this._indexBuffer=n,this._glName=null,this._initialized=!1,t.instanceCounter.increment(s.VertexArrayObject,this)}get glName(){return this._glName}get context(){return this._context}get vertexBuffers(){return this._buffers}get indexBuffer(){return this._indexBuffer}get size(){return Object.keys(this._buffers).reduce(((t,e)=>t+this._buffers[e].size),e(this._indexBuffer)?this._indexBuffer.size:0)}get layout(){return this._layout}get locations(){return this._locations}dispose(t=!0){if(!this._context)return void((this._glName||t&&Object.getOwnPropertyNames(this._buffers).length>0)&&a.warn(\"Leaked WebGL VAO\"));if(this._glName){const t=this._context?.capabilities?.vao;t?(t.deleteVertexArray(this._glName),this._glName=null):a.warn(\"Leaked WebGL VAO\")}if(this._context.getBoundVAO()===this&&this._context.bindVAO(null),t){for(const t in this._buffers)this._buffers[t]?.dispose(),delete this._buffers[t];this._indexBuffer=i(this._indexBuffer)}this._context.instanceCounter.decrement(s.VertexArrayObject,this),this._context=r(this._context)}initialize(){if(this._initialized)return;const t=this._context.capabilities.vao;if(t){const e=t.createVertexArray();t.bindVertexArray(e),this._bindLayout(),t.bindVertexArray(null),this._glName=e}this._initialized=!0}bind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(this.glName):(this._context.bindVAO(null),this._bindLayout())}_bindLayout(){const{_buffers:t,_layout:i,_indexBuffer:r}=this;t||a.error(\"Vertex buffer dictionary is empty!\");const s=this._context.gl;for(const e in t){const r=t[e];r||a.error(\"Vertex buffer is uninitialized!\");const s=i[e];s||a.error(\"Vertex element descriptor is empty!\"),n(this._context,this._locations,r,s)}if(e(r)){!!this._context.capabilities.vao?s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,r.glName):this._context.bindBuffer(r)}}unbind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(null):this._unbindLayout()}_unbindLayout(){const{_buffers:t,_layout:i}=this;t||a.error(\"Vertex buffer dictionary is empty!\");for(const e in t){const r=t[e];r||a.error(\"Vertex buffer is uninitialized!\");const s=i[e];o(this._context,this._locations,r,s)}e(this._indexBuffer)&&this._context.unbindBuffer(this._indexBuffer.bufferType)}};export{f as VertexArrayObject};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}