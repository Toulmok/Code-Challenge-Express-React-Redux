{"ast":null,"code":"import _classCallCheck from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { k as e } from \"../../../chunks/vec2.js\";\nvar t = /*#__PURE__*/function () {\n  function t(e, _t, i) {\n    _classCallCheck(this, t);\n    this.maxSize = e, this._tileInfoView = _t, this._removedFunc = i, this._tilePerId = new Map(), this._tileKeysPerLevel = [];\n  }\n  _createClass(t, [{\n    key: \"has\",\n    value: function has(e) {\n      return this._tilePerId.has(e);\n    }\n  }, {\n    key: \"get\",\n    value: function get(e) {\n      return this._tilePerId.get(e);\n    }\n  }, {\n    key: \"pop\",\n    value: function pop(e) {\n      var _t2 = this._tilePerId.get(e);\n      if (!_t2) return;\n      var s = _t2.key.level,\n        r = this._tileKeysPerLevel[s];\n      i(this._tilePerId, e);\n      for (var _i = 0; _i < r.length; _i++) if (r[_i].id === e) {\n        r.splice(_i, 1);\n        break;\n      }\n      return _t2.visible = !0, _t2;\n    }\n  }, {\n    key: \"add\",\n    value: function add(e) {\n      e.visible = !1;\n      var _t3 = e.key,\n        i = _t3.id;\n      if (this._tilePerId.has(i)) return;\n      this._tilePerId.set(i, e);\n      var s = _t3.level;\n      this._tileKeysPerLevel[s] || (this._tileKeysPerLevel[s] = []), this._tileKeysPerLevel[s].push(_t3);\n    }\n  }, {\n    key: \"prune\",\n    value: function prune(e, _t4, i) {\n      var s = this._tilePerId.size;\n      if (s <= this.maxSize) return;\n      var r = this._tileKeysPerLevel.length - 1;\n      for (; s > this.maxSize && r >= 0;) r !== e && (s = this._pruneAroundCenterTile(s, _t4, i, r)), r--;\n      s > this.maxSize && (s = this._pruneAroundCenterTile(s, _t4, i, e));\n    }\n  }, {\n    key: \"_pruneAroundCenterTile\",\n    value: function _pruneAroundCenterTile(_t5, i, s, r) {\n      var l = this._tileKeysPerLevel[r];\n      if (!l || 0 === l.length) return _t5;\n      var _this$_tileInfoView$t = this._tileInfoView.tileInfo,\n        n = _this$_tileInfoView$t.size,\n        h = _this$_tileInfoView$t.origin,\n        o = s * n[0],\n        _ = s * n[1],\n        d = [0, 0],\n        u = [0, 0];\n      for (l.sort(function (_t6, s) {\n        return d[0] = h.x + o * (_t6.col + .5), d[1] = h.y - _ * (_t6.row + .5), u[0] = h.x + o * (s.col + .5), u[1] = h.y - _ * (s.row + .5), e(d, i) - e(u, i);\n      }); l.length > 0;) {\n        var _e = l.pop();\n        if (this._removeTile(_e.id), --_t5 === this.maxSize) break;\n      }\n      return _t5;\n    }\n  }, {\n    key: \"_removeTile\",\n    value: function _removeTile(e) {\n      var _t7 = this._tilePerId.get(e);\n      this._removedFunc && _t7 && this._removedFunc(_t7), i(this._tilePerId, e);\n    }\n  }]);\n  return t;\n}();\nfunction i(e, t) {\n  e.delete(t);\n}\nexport { t as default };","map":{"version":3,"names":["k","e","t","i","_classCallCheck","maxSize","_tileInfoView","_removedFunc","_tilePerId","Map","_tileKeysPerLevel","_createClass","key","value","has","get","pop","s","level","r","length","id","splice","visible","add","set","push","prune","size","_pruneAroundCenterTile","l","_this$_tileInfoView$t","tileInfo","n","h","origin","o","_","d","u","sort","x","col","y","row","_removeTile","delete","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/2d/tiling/TileCache.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{k as e}from\"../../../chunks/vec2.js\";class t{constructor(e,t,i){this.maxSize=e,this._tileInfoView=t,this._removedFunc=i,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const t=this._tilePerId.get(e);if(!t)return;const s=t.key.level,r=this._tileKeysPerLevel[s];i(this._tilePerId,e);for(let i=0;i<r.length;i++)if(r[i].id===e){r.splice(i,1);break}return t.visible=!0,t}add(e){e.visible=!1;const t=e.key,i=t.id;if(this._tilePerId.has(i))return;this._tilePerId.set(i,e);const s=t.level;this._tileKeysPerLevel[s]||(this._tileKeysPerLevel[s]=[]),this._tileKeysPerLevel[s].push(t)}prune(e,t,i){let s=this._tilePerId.size;if(s<=this.maxSize)return;let r=this._tileKeysPerLevel.length-1;for(;s>this.maxSize&&r>=0;)r!==e&&(s=this._pruneAroundCenterTile(s,t,i,r)),r--;s>this.maxSize&&(s=this._pruneAroundCenterTile(s,t,i,e))}_pruneAroundCenterTile(t,i,s,r){const l=this._tileKeysPerLevel[r];if(!l||0===l.length)return t;const{size:n,origin:h}=this._tileInfoView.tileInfo,o=s*n[0],_=s*n[1],d=[0,0],u=[0,0];for(l.sort(((t,s)=>(d[0]=h.x+o*(t.col+.5),d[1]=h.y-_*(t.row+.5),u[0]=h.x+o*(s.col+.5),u[1]=h.y-_*(s.row+.5),e(d,i)-e(u,i))));l.length>0;){const e=l.pop();if(this._removeTile(e.id),--t===this.maxSize)break}return t}_removeTile(e){const t=this._tilePerId.get(e);this._removedFunc&&t&&this._removedFunc(t),i(this._tilePerId,e)}}function i(e,t){e.delete(t)}export{t as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}