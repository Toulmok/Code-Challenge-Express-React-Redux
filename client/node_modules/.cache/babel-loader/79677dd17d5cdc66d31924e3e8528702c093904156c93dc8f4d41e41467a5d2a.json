{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport { isSome as t } from \"../../../core/maybe.js\";\nimport { isExtent as i, isPolygon as e } from \"../../../geometry/support/jsonUtils.js\";\nimport { clipPolygonToTileExtent as s } from \"../CIMEffects.js\";\nimport { GeometricEffectDonutMethod as n } from \"../enums.js\";\nimport r from \"../../../geometry/SpatialReference.js\";\nclass h {\n  static local() {\n    return null === h.instance && (h.instance = new h()), h.instance;\n  }\n  execute(t, i, e, s, n) {\n    return new m(t, i, e, s, n);\n  }\n}\nh.instance = null;\nclass m {\n  constructor(t, i, e, s, r) {\n    switch (this._inputGeometries = t, this._tileKey = s, this._geometryEngine = r, this._width = (void 0 !== i.width ? i.width : 2) * e, i.method) {\n      case n.Mitered:\n      case n.Bevelled:\n      case n.Rounded:\n      case n.TrueBuffer:\n      case n.Square:\n    }\n    this._option = i.option;\n  }\n  next() {\n    let n;\n    for (; n = this._inputGeometries.next();) {\n      if (i(n) && this._width > 0) {\n        if (Math.min(n.xmax - n.xmin, n.ymax - n.ymin) - 2 * this._width < 0) return n;\n        const t = [];\n        return t.push([[n.xmin, n.ymin], [n.xmin, n.ymax], [n.xmax, n.ymax], [n.xmax, n.ymin], [n.xmin, n.ymin]]), t.push([[n.xmin + this._width, n.ymin + this._width], [n.xmax - this._width, n.ymin + this._width], [n.xmax - this._width, n.ymax - this._width], [n.xmin + this._width, n.ymax - this._width], [n.xmin + this._width, n.ymin + this._width]]), {\n          rings: t\n        };\n      }\n      if (e(n)) {\n        let i = null;\n        const e = this._geometryEngine;\n        let h = n;\n        if (this._tileKey && (h = s(n, Math.abs(this._width) + 1), !h || !h.rings || 0 === h.rings.length)) continue;\n        if (t(e) && (i = e.buffer(r.WebMercator, h, -this._width, 1)), this._width > 0) {\n          const t = [];\n          for (const i of n.rings) i && t.push(i);\n          if (i) for (const e of i.rings) e && t.push(e.reverse());\n          if (t.length) return {\n            rings: t\n          };\n        }\n      }\n    }\n    return null;\n  }\n}\nexport { h as EffectDonut };","map":{"version":3,"names":["isSome","t","isExtent","i","isPolygon","e","clipPolygonToTileExtent","s","GeometricEffectDonutMethod","n","r","h","local","instance","execute","m","constructor","_inputGeometries","_tileKey","_geometryEngine","_width","width","method","Mitered","Bevelled","Rounded","TrueBuffer","Square","_option","option","next","Math","min","xmax","xmin","ymax","ymin","push","rings","abs","length","buffer","WebMercator","reverse","EffectDonut"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/symbols/cim/effects/EffectDonut.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as t}from\"../../../core/maybe.js\";import{isExtent as i,isPolygon as e}from\"../../../geometry/support/jsonUtils.js\";import{clipPolygonToTileExtent as s}from\"../CIMEffects.js\";import{GeometricEffectDonutMethod as n}from\"../enums.js\";import r from\"../../../geometry/SpatialReference.js\";class h{static local(){return null===h.instance&&(h.instance=new h),h.instance}execute(t,i,e,s,n){return new m(t,i,e,s,n)}}h.instance=null;class m{constructor(t,i,e,s,r){switch(this._inputGeometries=t,this._tileKey=s,this._geometryEngine=r,this._width=(void 0!==i.width?i.width:2)*e,i.method){case n.Mitered:case n.Bevelled:case n.Rounded:case n.TrueBuffer:case n.Square:}this._option=i.option}next(){let n;for(;n=this._inputGeometries.next();){if(i(n)&&this._width>0){if(Math.min(n.xmax-n.xmin,n.ymax-n.ymin)-2*this._width<0)return n;const t=[];return t.push([[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]]),t.push([[n.xmin+this._width,n.ymin+this._width],[n.xmax-this._width,n.ymin+this._width],[n.xmax-this._width,n.ymax-this._width],[n.xmin+this._width,n.ymax-this._width],[n.xmin+this._width,n.ymin+this._width]]),{rings:t}}if(e(n)){let i=null;const e=this._geometryEngine;let h=n;if(this._tileKey&&(h=s(n,Math.abs(this._width)+1),!h||!h.rings||0===h.rings.length))continue;if(t(e)&&(i=e.buffer(r.WebMercator,h,-this._width,1)),this._width>0){const t=[];for(const i of n.rings)i&&t.push(i);if(i)for(const e of i.rings)e&&t.push(e.reverse());if(t.length)return{rings:t}}}}return null}}export{h as EffectDonut};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}