{"ast":null,"code":"import _regeneratorRuntime from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectSpread from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _createForOfIteratorHelper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../request.js\";\nimport { mapParameters as t } from \"../../operations/urlUtils.js\";\nfunction o(e, t) {\n  var o = e.toJSON();\n  return o.objectIds && (o.objectIds = o.objectIds.join(\",\")), o.orderByFields && (o.orderByFields = o.orderByFields.join(\",\")), o.outFields && !(t !== null && t !== void 0 && t.returnCountOnly) ? o.outFields.includes(\"*\") ? o.outFields = \"*\" : o.outFields = o.outFields.join(\",\") : delete o.outFields, o.outSpatialReference && (o.outSR = o.outSR.wkid || JSON.stringify(o.outSR.toJSON()), delete o.outSpatialReference), o.dynamicDataSource && (o.layer = JSON.stringify({\n    source: o.dynamicDataSource\n  }), delete o.dynamicDataSource), o;\n}\nfunction r(_x, _x2, _x3) {\n  return _r.apply(this, arguments);\n}\nfunction _r() {\n  _r = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e, t, o) {\n    var r, n, a, d, c, _iterator, _step, _s2, _e, _t;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return s(e, t, o);\n        case 2:\n          r = _context.sent;\n          n = r.data;\n          a = n.geometryType;\n          d = n.spatialReference;\n          c = {};\n          _iterator = _createForOfIteratorHelper(n.relatedRecordGroups);\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              _s2 = _step.value;\n              _e = {\n                fields: void 0,\n                objectIdFieldName: void 0,\n                geometryType: a,\n                spatialReference: d,\n                hasZ: !!n.hasZ,\n                hasM: !!n.hasM,\n                features: _s2.relatedRecords\n              };\n              if (null != _s2.objectId) c[_s2.objectId] = _e;else for (_t in _s2) _s2.hasOwnProperty(_t) && \"relatedRecords\" !== _t && (c[_s2[_t]] = _e);\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n          return _context.abrupt(\"return\", _objectSpread(_objectSpread({}, r), {}, {\n            data: c\n          }));\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _r.apply(this, arguments);\n}\nfunction n(_x4, _x5, _x6) {\n  return _n.apply(this, arguments);\n}\nfunction _n() {\n  _n = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e, t, o) {\n    var r, n, a, _iterator2, _step2, _s3;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return s(e, t, o, {\n            returnCountOnly: !0\n          });\n        case 2:\n          r = _context2.sent;\n          n = r.data;\n          a = {};\n          _iterator2 = _createForOfIteratorHelper(n.relatedRecordGroups);\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              _s3 = _step2.value;\n              null != _s3.objectId && (a[_s3.objectId] = _s3.count);\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n          return _context2.abrupt(\"return\", _objectSpread(_objectSpread({}, r), {}, {\n            data: a\n          }));\n        case 8:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _n.apply(this, arguments);\n}\nfunction s(_x7, _x8) {\n  return _s.apply(this, arguments);\n}\nfunction _s() {\n  _s = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(r, n) {\n    var s,\n      a,\n      d,\n      _args3 = arguments;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          s = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : {};\n          a = _args3.length > 3 ? _args3[3] : undefined;\n          d = t(_objectSpread(_objectSpread(_objectSpread({}, r.query), {}, {\n            f: \"json\"\n          }, a), o(n, a)));\n          return _context3.abrupt(\"return\", e(r.path + \"/queryRelatedRecords\", _objectSpread(_objectSpread({}, s), {}, {\n            query: _objectSpread(_objectSpread({}, s.query), d)\n          })));\n        case 4:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return _s.apply(this, arguments);\n}\nexport { r as executeRelationshipQuery, n as executeRelationshipQueryForCount, o as toQueryStringParameters };","map":{"version":3,"names":["e","mapParameters","t","o","toJSON","objectIds","join","orderByFields","outFields","returnCountOnly","includes","outSpatialReference","outSR","wkid","JSON","stringify","dynamicDataSource","layer","source","r","_x","_x2","_x3","_r","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","n","a","d","c","_iterator","_step","_s2","_e","_t","wrap","_callee$","_context","prev","next","s","sent","data","geometryType","spatialReference","_createForOfIteratorHelper","relatedRecordGroups","done","value","fields","objectIdFieldName","hasZ","hasM","features","relatedRecords","objectId","hasOwnProperty","err","f","abrupt","_objectSpread","stop","_x4","_x5","_x6","_n","_callee2","_iterator2","_step2","_s3","_callee2$","_context2","count","_x7","_x8","_s","_callee3","_args3","_callee3$","_context3","length","undefined","query","path","executeRelationshipQuery","executeRelationshipQueryForCount","toQueryStringParameters"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/rest/query/operations/queryRelatedRecords.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{mapParameters as t}from\"../../operations/urlUtils.js\";function o(e,t){const o=e.toJSON();return o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(o.orderByFields=o.orderByFields.join(\",\")),o.outFields&&!t?.returnCountOnly?o.outFields.includes(\"*\")?o.outFields=\"*\":o.outFields=o.outFields.join(\",\"):delete o.outFields,o.outSpatialReference&&(o.outSR=o.outSR.wkid||JSON.stringify(o.outSR.toJSON()),delete o.outSpatialReference),o.dynamicDataSource&&(o.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o}async function r(e,t,o){const r=await s(e,t,o),n=r.data,a=n.geometryType,d=n.spatialReference,c={};for(const s of n.relatedRecordGroups){const e={fields:void 0,objectIdFieldName:void 0,geometryType:a,spatialReference:d,hasZ:!!n.hasZ,hasM:!!n.hasM,features:s.relatedRecords};if(null!=s.objectId)c[s.objectId]=e;else for(const t in s)s.hasOwnProperty(t)&&\"relatedRecords\"!==t&&(c[s[t]]=e)}return{...r,data:c}}async function n(e,t,o){const r=await s(e,t,o,{returnCountOnly:!0}),n=r.data,a={};for(const s of n.relatedRecordGroups)null!=s.objectId&&(a[s.objectId]=s.count);return{...r,data:a}}async function s(r,n,s={},a){const d=t({...r.query,f:\"json\",...a,...o(n,a)});return e(r.path+\"/queryRelatedRecords\",{...s,query:{...s.query,...d}})}export{r as executeRelationshipQuery,n as executeRelationshipQueryForCount,o as toQueryStringParameters};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}