{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Collection.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Error.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/accessorSupport/watch.js\";\nimport { autorun as r } from \"../../core/accessorSupport/trackingUtils.js\";\nconst t = new e(),\n  o = new WeakMap();\nfunction n(e) {\n  c(e) && t.push(e);\n}\nfunction s(e) {\n  c(e) && t.includes(e) && t.remove(e);\n}\nfunction c(e) {\n  return null != e && \"object\" == typeof e && \"refreshInterval\" in e && \"refresh\" in e;\n}\nfunction i(e, r) {\n  return Number.isFinite(e) && Number.isFinite(r) ? r <= 0 ? e : i(r, e % r) : 0;\n}\nlet f = 0,\n  a = 0;\nfunction l() {\n  const e = Date.now();\n  for (const r of t) if (r.refreshInterval) {\n    e - (o.get(r) ?? 0) + 5 >= 6e4 * r.refreshInterval && (o.set(r, e), r.refresh(e));\n  }\n}\nr(() => {\n  const e = Date.now();\n  let r = 0;\n  for (const n of t) r = i(Math.round(6e4 * n.refreshInterval), r), n.refreshInterval ? o.get(n) || o.set(n, e) : o.delete(n);\n  if (r !== a) {\n    if (a = r, clearInterval(f), 0 === a) return void (f = 0);\n    f = setInterval(l, a);\n  }\n});\nconst u = {\n  get hasRefreshTimer() {\n    return f > 0;\n  },\n  get tickInterval() {\n    return a;\n  },\n  forceRefresh() {\n    l();\n  },\n  hasLayer: e => c(e) && t.includes(e),\n  clear() {\n    for (const e of t) o.delete(e);\n    t.removeAll();\n  }\n};\nexport { n as registerLayer, u as test, s as unregisterLayer };","map":{"version":3,"names":["e","autorun","r","t","o","WeakMap","n","c","push","s","includes","remove","i","Number","isFinite","f","a","l","Date","now","refreshInterval","get","set","refresh","Math","round","delete","clearInterval","setInterval","u","hasRefreshTimer","tickInterval","forceRefresh","hasLayer","clear","removeAll","registerLayer","test","unregisterLayer"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/mixins/refresh.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Collection.js\";import\"../../core/has.js\";import\"../../core/Error.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/watch.js\";import{autorun as r}from\"../../core/accessorSupport/trackingUtils.js\";const t=new e,o=new WeakMap;function n(e){c(e)&&t.push(e)}function s(e){c(e)&&t.includes(e)&&t.remove(e)}function c(e){return null!=e&&\"object\"==typeof e&&\"refreshInterval\"in e&&\"refresh\"in e}function i(e,r){return Number.isFinite(e)&&Number.isFinite(r)?r<=0?e:i(r,e%r):0}let f=0,a=0;function l(){const e=Date.now();for(const r of t)if(r.refreshInterval){e-(o.get(r)??0)+5>=6e4*r.refreshInterval&&(o.set(r,e),r.refresh(e))}}r((()=>{const e=Date.now();let r=0;for(const n of t)r=i(Math.round(6e4*n.refreshInterval),r),n.refreshInterval?o.get(n)||o.set(n,e):o.delete(n);if(r!==a){if(a=r,clearInterval(f),0===a)return void(f=0);f=setInterval(l,a)}}));const u={get hasRefreshTimer(){return f>0},get tickInterval(){return a},forceRefresh(){l()},hasLayer:e=>c(e)&&t.includes(e),clear(){for(const e of t)o.delete(e);t.removeAll()}};export{n as registerLayer,u as test,s as unregisterLayer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}