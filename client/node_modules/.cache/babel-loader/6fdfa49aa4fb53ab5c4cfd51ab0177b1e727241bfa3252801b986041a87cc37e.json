{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { getAssetUrl as e } from \"../../assets.js\";\nimport t from \"../../Color.js\";\nimport r from \"../../request.js\";\nimport o from \"../../core/ItemCache.js\";\nimport { pt2px as s } from \"../../core/screenUtils.js\";\nimport { getCIMSymbolColor as i } from \"./cimSymbolUtils.js\";\nvar n = \"picture-fill\",\n  l = \"simple-fill\",\n  c = \"simple-line\",\n  a = \"simple-marker\",\n  m = \"text\",\n  p = \"cim\",\n  u = new o(1e3);\nfunction f(t) {\n  var r = t.style;\n  var o = null;\n  if (t) switch (t.type) {\n    case a:\n      \"cross\" !== r && \"x\" !== r && (o = t.color);\n      break;\n    case l:\n      \"solid\" === r ? o = t.color : \"none\" !== r && (o = {\n        type: \"pattern\",\n        x: 0,\n        y: 0,\n        src: e(\"esri/symbols/patterns/\".concat(r, \".png\")),\n        width: 5,\n        height: 5\n      });\n      break;\n    case n:\n      o = {\n        type: \"pattern\",\n        src: t.url,\n        width: s(t.width) * t.xscale,\n        height: s(t.height) * t.yscale,\n        x: s(t.xoffset),\n        y: s(t.yoffset)\n      };\n      break;\n    case m:\n      o = t.color;\n      break;\n    case p:\n      o = i(t);\n  }\n  return o;\n}\nfunction h(e, t) {\n  var o = e + \"-\" + t;\n  return void 0 !== u.get(o) ? Promise.resolve(u.get(o)) : r(e, {\n    responseType: \"image\"\n  }).then(function (e) {\n    var r = e.data,\n      s = r.naturalWidth,\n      i = r.naturalHeight,\n      n = document.createElement(\"canvas\");\n    n.width = s, n.height = i;\n    var l = n.getContext(\"2d\");\n    l.fillStyle = t, l.fillRect(0, 0, s, i), l.globalCompositeOperation = \"destination-in\", l.drawImage(r, 0, 0);\n    var c = n.toDataURL();\n    return u.put(o, c), c;\n  });\n}\nfunction y(e) {\n  if (!e) return null;\n  var t = null;\n  switch (e.type) {\n    case l:\n    case n:\n    case a:\n      t = y(e.outline);\n      break;\n    case c:\n      {\n        var _r = s(e.width);\n        null != e.style && \"none\" !== e.style && 0 !== _r && (t = {\n          color: e.color,\n          style: d(e.style),\n          width: _r,\n          cap: e.cap,\n          join: \"miter\" === e.join ? s(e.miterLimit) : e.join\n        });\n        break;\n      }\n    default:\n      t = null;\n  }\n  return t;\n}\nvar d = function () {\n    var e = {};\n    return function (t) {\n      if (e[t]) return e[t];\n      var r = t.replace(/-/g, \"\");\n      return e[t] = r, r;\n    };\n  }(),\n  g = new t([128, 128, 128]);\nexport { g as defaultThematicColor, d as dekebabifyLineStyle, f as getFill, h as getPatternUrlWithColor, y as getStroke };","map":{"version":3,"names":["getAssetUrl","e","t","r","o","pt2px","s","getCIMSymbolColor","i","n","l","c","a","m","p","u","f","style","type","color","x","y","src","concat","width","height","url","xscale","yscale","xoffset","yoffset","h","get","Promise","resolve","responseType","then","data","naturalWidth","naturalHeight","document","createElement","getContext","fillStyle","fillRect","globalCompositeOperation","drawImage","toDataURL","put","outline","d","cap","join","miterLimit","replace","g","defaultThematicColor","dekebabifyLineStyle","getFill","getPatternUrlWithColor","getStroke"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/symbols/support/gfxUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";import t from\"../../Color.js\";import r from\"../../request.js\";import o from\"../../core/ItemCache.js\";import{pt2px as s}from\"../../core/screenUtils.js\";import{getCIMSymbolColor as i}from\"./cimSymbolUtils.js\";const n=\"picture-fill\",l=\"simple-fill\",c=\"simple-line\",a=\"simple-marker\",m=\"text\",p=\"cim\",u=new o(1e3);function f(t){const r=t.style;let o=null;if(t)switch(t.type){case a:\"cross\"!==r&&\"x\"!==r&&(o=t.color);break;case l:\"solid\"===r?o=t.color:\"none\"!==r&&(o={type:\"pattern\",x:0,y:0,src:e(`esri/symbols/patterns/${r}.png`),width:5,height:5});break;case n:o={type:\"pattern\",src:t.url,width:s(t.width)*t.xscale,height:s(t.height)*t.yscale,x:s(t.xoffset),y:s(t.yoffset)};break;case m:o=t.color;break;case p:o=i(t)}return o}function h(e,t){const o=e+\"-\"+t;return void 0!==u.get(o)?Promise.resolve(u.get(o)):r(e,{responseType:\"image\"}).then((e=>{const r=e.data,s=r.naturalWidth,i=r.naturalHeight,n=document.createElement(\"canvas\");n.width=s,n.height=i;const l=n.getContext(\"2d\");l.fillStyle=t,l.fillRect(0,0,s,i),l.globalCompositeOperation=\"destination-in\",l.drawImage(r,0,0);const c=n.toDataURL();return u.put(o,c),c}))}function y(e){if(!e)return null;let t=null;switch(e.type){case l:case n:case a:t=y(e.outline);break;case c:{const r=s(e.width);null!=e.style&&\"none\"!==e.style&&0!==r&&(t={color:e.color,style:d(e.style),width:r,cap:e.cap,join:\"miter\"===e.join?s(e.miterLimit):e.join});break}default:t=null}return t}const d=(()=>{const e={};return t=>{if(e[t])return e[t];const r=t.replace(/-/g,\"\");return e[t]=r,r}})(),g=new t([128,128,128]);export{g as defaultThematicColor,d as dekebabifyLineStyle,f as getFill,h as getPatternUrlWithColor,y as getStroke};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}