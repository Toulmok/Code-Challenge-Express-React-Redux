{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { clock as t } from \"../../../core/clock.js\";\nimport { InputHandler as e } from \"../InputHandler.js\";\nimport { DefaultParameters as i } from \"./SingleAndDoubleClick.js\";\nimport { getPointerId as o, manhattanDistance as a } from \"./support.js\";\nclass m extends e {\n  constructor() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : i.maximumDoubleClickDelay;\n    let o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : i.maximumDoubleClickDistance;\n    let a = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : i.maximumDoubleTouchDelay;\n    let m = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : i.maximumDoubleTouchDistance;\n    let n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : t;\n    super(!1), this._maximumDoubleClickDelay = e, this._maximumDoubleClickDistance = o, this._maximumDoubleTouchDelay = a, this._maximumDoubleTouchDistance = m, this._clock = n, this._pointerState = new Map(), this._immediateDoubleClick = this.registerOutgoing(\"immediate-double-click\"), this.registerIncoming(\"pointer-down\", this._handlePointerDown.bind(this)), this.registerIncoming(\"pointer-up\", this._handlePointerUp.bind(this));\n  }\n  onUninstall() {\n    this._pointerState.forEach(t => {\n      t.immediateDoubleClick && t.immediateDoubleClick.timeoutHandle.remove();\n    }), super.onUninstall();\n  }\n  _handlePointerDown(t) {\n    const e = t.data,\n      i = o(e);\n    if (!this._pointerState.has(i)) {\n      const t = {\n        downButton: e.native.button,\n        immediateDoubleClick: null\n      };\n      this._pointerState.set(i, t), this.startCapturingPointer(e.native);\n    }\n  }\n  _handlePointerUp(t) {\n    const e = t.data,\n      i = o(e),\n      m = this._pointerState.get(i);\n    if (m && m.downButton === e.native.button) {\n      const i = m.immediateDoubleClick;\n      if (i) {\n        i.timeoutHandle.remove();\n        const o = \"touch\" === t.data.native.pointerType ? this._maximumDoubleTouchDistance : this._maximumDoubleClickDistance;\n        a(i, t.data) > o ? this._startImmediateDoubleClick(t, m) : (this._immediateDoubleClick.emit(t.data, void 0, i.modifiers), this._removeState(e));\n      } else this._startImmediateDoubleClick(t, m);\n    }\n  }\n  _startImmediateDoubleClick(t, e) {\n    const i = \"touch\" === t.data.native.pointerType ? this._maximumDoubleTouchDelay : this._maximumDoubleClickDelay;\n    e.immediateDoubleClick = {\n      x: t.data.x,\n      y: t.data.y,\n      modifiers: t.modifiers,\n      timeoutHandle: this._clock.setTimeout(() => this._removeState(t.data), i)\n    };\n  }\n  _removeState(t) {\n    const e = o(t);\n    this._pointerState.delete(e), this.stopCapturingPointer(t.native), this.refreshHasPendingInputs();\n  }\n}\nexport { m as ImmediateDoubleClick };","map":{"version":3,"names":["clock","t","InputHandler","e","DefaultParameters","i","getPointerId","o","manhattanDistance","a","m","constructor","arguments","length","undefined","maximumDoubleClickDelay","maximumDoubleClickDistance","maximumDoubleTouchDelay","maximumDoubleTouchDistance","n","_maximumDoubleClickDelay","_maximumDoubleClickDistance","_maximumDoubleTouchDelay","_maximumDoubleTouchDistance","_clock","_pointerState","Map","_immediateDoubleClick","registerOutgoing","registerIncoming","_handlePointerDown","bind","_handlePointerUp","onUninstall","forEach","immediateDoubleClick","timeoutHandle","remove","data","has","downButton","native","button","set","startCapturingPointer","get","pointerType","_startImmediateDoubleClick","emit","modifiers","_removeState","x","y","setTimeout","delete","stopCapturingPointer","refreshHasPendingInputs","ImmediateDoubleClick"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/input/recognizers/ImmediateDoubleClick.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{clock as t}from\"../../../core/clock.js\";import{InputHandler as e}from\"../InputHandler.js\";import{DefaultParameters as i}from\"./SingleAndDoubleClick.js\";import{getPointerId as o,manhattanDistance as a}from\"./support.js\";class m extends e{constructor(e=i.maximumDoubleClickDelay,o=i.maximumDoubleClickDistance,a=i.maximumDoubleTouchDelay,m=i.maximumDoubleTouchDistance,n=t){super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=o,this._maximumDoubleTouchDelay=a,this._maximumDoubleTouchDistance=m,this._clock=n,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing(\"immediate-double-click\"),this.registerIncoming(\"pointer-down\",this._handlePointerDown.bind(this)),this.registerIncoming(\"pointer-up\",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach((t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()})),super.onUninstall()}_handlePointerDown(t){const e=t.data,i=o(e);if(!this._pointerState.has(i)){const t={downButton:e.native.button,immediateDoubleClick:null};this._pointerState.set(i,t),this.startCapturingPointer(e.native)}}_handlePointerUp(t){const e=t.data,i=o(e),m=this._pointerState.get(i);if(m&&m.downButton===e.native.button){const i=m.immediateDoubleClick;if(i){i.timeoutHandle.remove();const o=\"touch\"===t.data.native.pointerType?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;a(i,t.data)>o?this._startImmediateDoubleClick(t,m):(this._immediateDoubleClick.emit(t.data,void 0,i.modifiers),this._removeState(e))}else this._startImmediateDoubleClick(t,m)}}_startImmediateDoubleClick(t,e){const i=\"touch\"===t.data.native.pointerType?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;e.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout((()=>this._removeState(t.data)),i)}}_removeState(t){const e=o(t);this._pointerState.delete(e),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}}export{m as ImmediateDoubleClick};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}