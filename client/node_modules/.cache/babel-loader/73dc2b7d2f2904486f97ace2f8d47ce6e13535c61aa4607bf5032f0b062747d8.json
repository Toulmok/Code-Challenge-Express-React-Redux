{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport has from \"../../../core/has.js\";\nimport { isSome as e } from \"../../../core/maybe.js\";\nimport { PooledRBush as t } from \"../../../core/libs/rbush/PooledRBush.js\";\nimport { georeferenceApplyTransform as r } from \"./georeference.js\";\nvar n = /*#__PURE__*/function () {\n  function n() {\n    _classCallCheck(this, n);\n  }\n  _createClass(n, [{\n    key: \"createIndex\",\n    value: function () {\n      var _createIndex = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(r, _n) {\n        var o, s, a;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              o = new Array();\n              if (!(!r.vertexAttributes || !r.vertexAttributes.position)) {\n                _context.next = 3;\n                break;\n              }\n              return _context.abrupt(\"return\", new t());\n            case 3:\n              s = this._createMeshData(r);\n              if (!e(_n)) {\n                _context.next = 10;\n                break;\n              }\n              _context.next = 7;\n              return _n.invoke(\"createIndexThread\", s, {\n                transferList: o\n              });\n            case 7:\n              _context.t0 = _context.sent;\n              _context.next = 11;\n              break;\n            case 10:\n              _context.t0 = this.createIndexThread(s).result;\n            case 11:\n              a = _context.t0;\n              return _context.abrupt(\"return\", this._createPooledRBush().fromJSON(a));\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function createIndex(_x, _x2) {\n        return _createIndex.apply(this, arguments);\n      }\n      return createIndex;\n    }()\n  }, {\n    key: \"createIndexThread\",\n    value: function createIndexThread(e) {\n      var t = new Float64Array(e.position),\n        r = this._createPooledRBush();\n      return e.components ? this._createIndexComponentsThread(r, t, e.components.map(function (e) {\n        return new Uint32Array(e);\n      })) : this._createIndexAllThread(r, t);\n    }\n  }, {\n    key: \"_createIndexAllThread\",\n    value: function _createIndexAllThread(e, t) {\n      var r = new Array(t.length / 9);\n      var _n2 = 0;\n      for (var s = 0; s < t.length; s += 9) r[_n2++] = o(t, s + 0, s + 3, s + 6);\n      return e.load(r), {\n        result: e.toJSON()\n      };\n    }\n  }, {\n    key: \"_createIndexComponentsThread\",\n    value: function _createIndexComponentsThread(e, t, r) {\n      var _n3 = 0;\n      var _iterator = _createForOfIteratorHelper(r),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _o = _step.value;\n          _n3 += _o.length / 3;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      var s = new Array(_n3);\n      var a = 0;\n      var _iterator2 = _createForOfIteratorHelper(r),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var i = _step2.value;\n          for (var _e = 0; _e < i.length; _e += 3) s[a++] = o(t, 3 * i[_e + 0], 3 * i[_e + 1], 3 * i[_e + 2]);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      return e.load(s), {\n        result: e.toJSON()\n      };\n    }\n  }, {\n    key: \"_createMeshData\",\n    value: function _createMeshData(e) {\n      var t = (e.transform ? r({\n        position: e.vertexAttributes.position,\n        normal: null,\n        tangent: null\n      }, e.transform, e.spatialReference).position : e.vertexAttributes.position).buffer;\n      return !e.components || e.components.some(function (e) {\n        return !e.faces;\n      }) ? {\n        position: t\n      } : {\n        position: t,\n        components: e.components.map(function (e) {\n          return e.faces;\n        })\n      };\n    }\n  }, {\n    key: \"_createPooledRBush\",\n    value: function _createPooledRBush() {\n      return new t(9, has(\"esri-csp-restrictions\") ? function (e) {\n        return e;\n      } : [\".minX\", \".minY\", \".maxX\", \".maxY\"]);\n    }\n  }]);\n  return n;\n}();\nfunction o(e, t, r, n) {\n  return {\n    minX: Math.min(e[t + 0], e[r + 0], e[n + 0]),\n    maxX: Math.max(e[t + 0], e[r + 0], e[n + 0]),\n    minY: Math.min(e[t + 1], e[r + 1], e[n + 1]),\n    maxY: Math.max(e[t + 1], e[r + 1], e[n + 1]),\n    p0: [e[t + 0], e[t + 1], e[t + 2]],\n    p1: [e[r + 0], e[r + 1], e[r + 2]],\n    p2: [e[n + 0], e[n + 1], e[n + 2]]\n  };\n}\nexport { n as default };","map":{"version":3,"names":["has","isSome","e","PooledRBush","t","georeferenceApplyTransform","r","n","_classCallCheck","_createClass","key","value","_createIndex","_asyncToGenerator","_regeneratorRuntime","mark","_callee","o","s","a","wrap","_callee$","_context","prev","next","Array","vertexAttributes","position","abrupt","_createMeshData","invoke","transferList","t0","sent","createIndexThread","result","_createPooledRBush","fromJSON","stop","createIndex","_x","_x2","apply","arguments","Float64Array","components","_createIndexComponentsThread","map","Uint32Array","_createIndexAllThread","length","load","toJSON","_iterator","_createForOfIteratorHelper","_step","done","err","f","_iterator2","_step2","i","transform","normal","tangent","spatialReference","buffer","some","faces","minX","Math","min","maxX","max","minY","maxY","p0","p1","p2","default"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/geometry/support/meshUtils/ElevationSamplerWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport has from\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import{PooledRBush as t}from\"../../../core/libs/rbush/PooledRBush.js\";import{georeferenceApplyTransform as r}from\"./georeference.js\";class n{async createIndex(r,n){const o=new Array;if(!r.vertexAttributes||!r.vertexAttributes.position)return new t;const s=this._createMeshData(r),a=e(n)?await n.invoke(\"createIndexThread\",s,{transferList:o}):this.createIndexThread(s).result;return this._createPooledRBush().fromJSON(a)}createIndexThread(e){const t=new Float64Array(e.position),r=this._createPooledRBush();return e.components?this._createIndexComponentsThread(r,t,e.components.map((e=>new Uint32Array(e)))):this._createIndexAllThread(r,t)}_createIndexAllThread(e,t){const r=new Array(t.length/9);let n=0;for(let s=0;s<t.length;s+=9)r[n++]=o(t,s+0,s+3,s+6);return e.load(r),{result:e.toJSON()}}_createIndexComponentsThread(e,t,r){let n=0;for(const o of r)n+=o.length/3;const s=new Array(n);let a=0;for(const i of r)for(let e=0;e<i.length;e+=3)s[a++]=o(t,3*i[e+0],3*i[e+1],3*i[e+2]);return e.load(s),{result:e.toJSON()}}_createMeshData(e){const t=(e.transform?r({position:e.vertexAttributes.position,normal:null,tangent:null},e.transform,e.spatialReference).position:e.vertexAttributes.position).buffer;return!e.components||e.components.some((e=>!e.faces))?{position:t}:{position:t,components:e.components.map((e=>e.faces))}}_createPooledRBush(){return new t(9,has(\"esri-csp-restrictions\")?e=>e:[\".minX\",\".minY\",\".maxX\",\".maxY\"])}}function o(e,t,r,n){return{minX:Math.min(e[t+0],e[r+0],e[n+0]),maxX:Math.max(e[t+0],e[r+0],e[n+0]),minY:Math.min(e[t+1],e[r+1],e[n+1]),maxY:Math.max(e[t+1],e[r+1],e[n+1]),p0:[e[t+0],e[t+1],e[t+2]],p1:[e[r+0],e[r+1],e[r+2]],p2:[e[n+0],e[n+1],e[n+2]]}}export{n as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}