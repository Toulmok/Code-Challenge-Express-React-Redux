{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../Camera.js\";\nimport \"../../../geometry.js\";\nimport t from \"../../../Graphic.js\";\nimport n from \"../../../Viewpoint.js\";\nimport { result as r } from \"../../../core/asyncUtils.js\";\nimport \"../../../core/has.js\";\nimport { cyclicalDegrees as a } from \"../../../core/Cyclical.js\";\nimport o from \"../../../core/Error.js\";\nimport { isSome as i, isNone as s, unwrapOr as c, unwrap as l } from \"../../../core/maybe.js\";\nimport { eachAlways as m } from \"../../../core/promiseUtils.js\";\nimport { f as u, t as f } from \"../../../chunks/mat3.js\";\nimport { c as p } from \"../../../chunks/mat3f64.js\";\nimport { c as g } from \"../../../chunks/mat4f64.js\";\nimport { g as h, a as y, i as d, c as x, b as w, s as v, t as b } from \"../../../chunks/vec3.js\";\nimport { c as j } from \"../../../chunks/vec3f64.js\";\nimport { projectVectorToPoint as R, projectPointToVector as G, projectBuffer as z, computeTranslationToOriginAndRotation as S, projectVectorToVector as B } from \"../../../geometry/projection.js\";\nimport { create as k, empty as M, center as A, toRect as F, isPoint as T, expandWithVec3 as E, expandWithAABB as U, width as Z, height as D, depth as O } from \"../../../geometry/support/aaBoundingBox.js\";\nimport { create as C, isPoint as P } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { intersectsPoint as I } from \"../../../geometry/support/frustum.js\";\nimport { getResolutionInMetersForScale as J } from \"../../../geometry/support/scaleUtils.js\";\nimport { project as K, canProject as L } from \"../../../geometry/support/webMercatorUtils.js\";\nimport { cameraOnContentAlongViewDirection as N } from \"../camera/intersectionUtils.js\";\nimport { internalToExternal as V, OrientationMode as W, scaleToDistance as Y, fromCenterDistance as $, fromExtent as q, externalToInternal as X, computeScale as _, AsyncContext as H, distanceToScale as Q, fromCenterScale as ee, directionToHeadingTilt as te, zoomToScale as ne } from \"./cameraUtils.js\";\nimport { getElevationAtPoint as re } from \"./ElevationProvider.js\";\nimport ae from \"../../../geometry/Point.js\";\nimport oe from \"../../../geometry/SpatialReference.js\";\nimport ie from \"../../../geometry/Extent.js\";\nimport se from \"../../../geometry/Geometry.js\";\nconst ce = .66;\nfunction le(e) {\n  return 360 - a.normalize(e);\n}\nfunction me(e) {\n  return a.normalize(360 - e);\n}\nfunction ue(e) {\n  return i(e) && e.resolver && e.resolver.reject(), null;\n}\nfunction fe(e, t) {\n  return i(e) && e.resolver && e.resolver.resolve(t), t;\n}\nfunction pe(e, t, n) {\n  let r = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  if (!t) return ue(r);\n  const a = e.spatialReference || oe.WGS84;\n  if (i(t.camera)) {\n    const e = K(t.camera.position, a);\n    if (s(e)) return ue(r);\n    const n = t.camera.clone();\n    return n.position = e, fe(r, n);\n  }\n  if (s(t.targetGeometry)) return ue(r);\n  const o = t.get(\"targetGeometry.spatialReference\");\n  if (o && !L(o, a)) return ue(r);\n  const c = V(e, e.state.camera);\n  let l = W.ADJUST;\n  if (null != t.rotation && (c.heading = le(t.rotation), l = W.LOCKED), null != n && (c.tilt = n), \"point\" === t.targetGeometry.type) {\n    const n = t.targetGeometry;\n    let a;\n    const o = t.targetGeometry.clone();\n    return a = null != t.scale ? Y(e, t.scale, n.latitude) : e.state.camera.distance, $(e, o, a, c, l, r);\n  }\n  const m = t.targetGeometry.extent;\n  return m ? q(e, m, c.heading, c.tilt, l, r) : ue(r);\n}\nfunction ge(e, t) {\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  return s(r) && (r = new n()), we(e, null, t.clone(), r);\n}\nasync function he(t, r, a) {\n  const i = Te(t, r);\n  if (!i) throw new o(\"viewpointutils-create:no-target\", \"Missing target for creating viewpoint\");\n  const s = new e({\n      fov: t.camera.fov\n    }),\n    c = new n({\n      camera: s\n    });\n  if (i.target instanceof n) {\n    return Ee(await Re(t, i.target, i, a, c));\n  }\n  if (i.target instanceof e) return Ee(Ge(t, i.target, c));\n  const l = null != i.scale || null != i.zoom;\n  if (i.target instanceof ie) {\n    const e = i.target.xmin === i.target.xmax || i.target.ymin === i.target.ymax;\n    return Ee(l || e ? await Se(t, i, i.target.center, s, a, c) : await Me(t, i, i.target, s, a, c));\n  }\n  const m = {\n      boundingBox: M(),\n      hasZ: !1,\n      screenSpaceObjects: []\n    },\n    u = l ? de(t, i) : void 0;\n  if (await je(t, i.target, u, m), isFinite(m.boundingBox[0])) {\n    let e;\n    if (A(m.boundingBox, Ze), Ne.x = Ze[0], Ne.y = Ze[1], Ne.z = Ze[2], Ne.spatialReference = t.spatialReference, isFinite(Ne.z) && m.hasZ ? e = T(m.boundingBox) : (Ne.z = void 0, e = P(F(m.boundingBox, Pe))), l || e) return Ee(await Se(t, i, Ne, s, a, c));\n    const n = Ue(t, m.screenSpaceObjects);\n    return Ee(await Fe(t, i, Ne, m.boundingBox, n, s, a, c));\n  }\n  return i.position ? Ee(Be(t, i, s, c)) : Ee(await ke(t, i, s, a, c));\n}\nfunction ye(e, t) {\n  return null == t.scale && null != t.zoom ? ne(e, t.zoom) : t.scale;\n}\nfunction de(e, t) {\n  const n = ye(e, t);\n  return n ? J(n) : void 0;\n}\nfunction xe(e, t) {\n  let n = !1;\n  return null != t.heading ? (e.heading = t.heading, n = !0) : null != t.rotation && (e.heading = le(t.rotation), n = !0), null != t.tilt && (e.tilt = t.tilt, n = !0), null != t.fov && (e.fov = t.fov), n;\n}\nfunction we(e, t, n, r) {\n  const a = e.spatialReference || oe.WGS84;\n  return t = i(t) ? t : X(e, n), s(t) || (r.targetGeometry = R(t.center, e.renderSpatialReference, a), r.scale = _(e, t), r.rotation = me(n.heading), r.camera = n), r;\n}\nfunction ve(e, t, n) {\n  const r = () => new o(\"viewpointutils:invalid-geometry\", \"The target is missing a valid geometry\");\n  if (!t) throw r();\n  if (!L(t.spatialReference, e.spatialReference)) throw new o(\"viewpointutils:incompatible-spatialreference\", `Spatial reference (${t.spatialReference ? t.spatialReference.wkid : \"unknown\"}) is incompatible with the view (${e.spatialReference?.wkid})`, {\n    geometry: t\n  });\n  const a = [];\n  if (!t.hasZ && e.basemapTerrain) {\n    let n;\n    switch (t.type) {\n      case \"point\":\n        n = t;\n        break;\n      case \"multipoint\":\n      case \"polyline\":\n        n = t.extent?.center;\n        break;\n      case \"mesh\":\n        n = t.origin;\n        break;\n      case \"extent\":\n        n = t.center;\n        break;\n      case \"polygon\":\n        n = t.centroid;\n    }\n    n && i(e.basemapTerrain.spatialReference) && L(n, e.basemapTerrain.spatialReference) && e.elevationProvider ? Ze[2] = c(re(e.elevationProvider, n), 0) : Ze[2] = 0;\n  }\n  (0, Ve[t.type])(t, e => {\n    a.push(e[0], e[1], e[2]);\n  }, Ze);\n  const s = a.length / 3;\n  if (0 === s) throw r();\n  const l = new Array(a.length);\n  if (z(a, t.spatialReference, 0, l, e.spatialReference, 0, s)) {\n    t.hasZ && (n.hasZ = !0);\n    for (let e = 0; e < l.length; e += 3) t.hasZ ? (Ze[0] = l[e + 0], Ze[1] = l[e + 1], Ze[2] = l[e + 2]) : (Ze[0] = l[e + 0], Ze[1] = l[e + 1]), E(n.boundingBox, Ze);\n  }\n}\nasync function be(e, t, n, a) {\n  const o = await r(e.whenViewForGraphic(t));\n  if (!1 === o.ok || s(o.value) || !(\"whenGraphicBounds\" in o.value)) return void ve(e, t.geometry, a);\n  const i = o.value,\n    c = await r(i.whenGraphicBounds(t, {\n      minDemResolution: n\n    }));\n  if (!1 === c.ok) return void ve(e, t.geometry, a);\n  const {\n    screenSpaceObjects: l,\n    boundingBox: m\n  } = c.value;\n  U(a.boundingBox, m), l && l.forEach(e => {\n    a.screenSpaceObjects.push(e);\n  }), isFinite(m[2]) && (a.hasZ = !0);\n}\nasync function je(e, n, r, a) {\n  if (Array.isArray(n) && 2 === n.length) {\n    const t = n[0],\n      r = n[1];\n    if (\"number\" == typeof t && \"number\" == typeof r) return Ne.x = t, Ne.y = r, Ne.z = void 0, Ne.spatialReference = e.spatialReference?.isGeographic ? e.spatialReference : oe.WGS84, void ve(e, Ne, a);\n  }\n  n && \"function\" == typeof n.map ? await m(n.map(t => je(e, t, r, a))) : n instanceof se ? ve(e, n, a) : n instanceof t && (await be(e, n, r, a));\n}\nasync function Re(e, t, n, r, a) {\n  if (i(t.camera)) return Ge(e, t.camera, a);\n  a.scale = t.scale, a.rotation = t.rotation, a.targetGeometry = i(t.targetGeometry) ? t.targetGeometry.clone() : null, a.camera = null, null != n.heading ? a.rotation = me(n.heading) : null != n.rotation && (a.rotation = n.rotation);\n  const o = ye(e, n);\n  null != o && (a.scale = o);\n  const s = new H(r);\n  return pe(e, a, n.tilt, s), a.camera = await s.resolver.promise, a;\n}\nfunction Ge(e, t, n) {\n  const r = e.spatialReference,\n    a = K(t.position, r);\n  return s(a) ? null : ((t = t.clone()).fov = e.camera.fov, t.position = a, we(e, null, t, n));\n}\nfunction ze(e, t, n, r, a, o) {\n  const i = e.renderSpatialReference;\n  return G(n, Je, i), G(t, Ke, i), o.targetGeometry = new ae(t), a.position = new ae(n), w(Ie, Ke, Je), te(e, Je, Ie, r.up, a), o.scale = Q(e, d(Je, Ke), o.targetGeometry.latitude), o.rotation = me(a.heading), o.camera = a, o;\n}\nasync function Se(e, t, n, r, a, i) {\n  if (s(n)) throw new o(\"createfromcenter\", \"invalid point\");\n  i.targetGeometry = n.clone();\n  const c = N(e);\n  if (t.position) return ze(e, i.targetGeometry, t.position, c, r, i);\n  if (t.zoomFactor) {\n    const r = c.distance / t.zoomFactor,\n      a = h(Ze, c.viewForward, -r);\n    c.eye = y(Ze, c.center, a), i.scale = Q(e, r, n.latitude);\n  }\n  V(e, c, r);\n  const l = xe(r, t) ? W.LOCKED : W.ADJUST;\n  if (!t.zoomFactor) {\n    const o = ye(e, t);\n    null == o ? (G(n, Ze, e.renderSpatialReference), I(c.frustum, Ze) ? i.scale = Q(e, d(c.eye, Ze), n.latitude) : i.scale = _(e, c)) : i.scale = o;\n    const s = new H(a);\n    ee(e, i.targetGeometry, i.scale, r, l, s), i.camera = await s.resolver.promise;\n  }\n  return i;\n}\nfunction Be(e, t, n, r) {\n  const a = N(e);\n  return x(Ie, a.viewForward), te(e, a.eye, Ie, a.up, Le), n.position = new ae(t.position), n.heading = null != t.heading ? t.heading : Le.heading, n.tilt = null != t.tilt ? t.tilt : Le.tilt, we(e, null, n, r);\n}\nasync function ke(e, t, n, r, a) {\n  const o = N(e);\n  return Se(e, t, R(o.center, e.renderSpatialReference, e.spatialReference), n, r, a);\n}\nasync function Me(e, t, n, r, a, o) {\n  o.targetGeometry = n.clone();\n  const i = N(e);\n  V(e, i, r);\n  const s = xe(r, t) ? W.LOCKED : W.ADJUST,\n    c = new H(a);\n  return q(e, n, r.heading, r.tilt, s, c), o.camera = await c.resolver.promise, o;\n}\nfunction Ae(e, t, n, r, a) {\n  let o = 0;\n  null != n.z ? o = n.z : e.basemapTerrain && e.elevationProvider && (o = l(re(e.elevationProvider, n))), v(Ze, n.x, n.y, o), S(e.spatialReference, Ze, De, e.renderSpatialReference), u(Oe, De), f(Oe, Oe), M(Ce);\n  const i = [[0, 1, 2], [3, 1, 2], [0, 4, 2], [3, 4, 2], [0, 1, 5], [3, 1, 5], [0, 4, 5], [3, 4, 5]];\n  for (let l = 0; l < i.length; l++) {\n    const t = i[l];\n    let n = r[t[2]];\n    isFinite(n) || (n = o), v(Ze, r[t[0]], r[t[1]], n), B(Ze, e.spatialReference, Ze, e.renderSpatialReference), E(Ce, b(Ze, Ze, Oe));\n  }\n  const s = Z(Ce),\n    c = D(Ce),\n    m = O(Ce),\n    p = 1 / Math.tan(t.fovX / 2),\n    g = 1 / Math.tan(t.fovY / 2),\n    h = .5 * Math.sqrt(s * s + m * m) * Math.max(g, p) + .5 * c,\n    y = .5 * c * g + .5 * Math.max(s, m);\n  return Math.max(h, y) / a;\n}\nasync function Fe(e, t, n, r, a, o, i, s) {\n  s.targetGeometry = n.clone();\n  const c = N(e),\n    l = Ae(e, c, n, r, a);\n  V(e, c, o);\n  const m = xe(o, t) ? W.LOCKED : W.ADJUST;\n  s.scale = Q(e, l, s.targetGeometry.latitude);\n  const u = new H(i);\n  return ee(e, s.targetGeometry, s.scale, o, m, u), s.camera = await u.resolver.promise, s;\n}\nfunction Te(e, t) {\n  if (!t || !e.spatialReference) return null;\n  const n = {\n    target: void 0\n  };\n  if (\"declaredClass\" in t || Array.isArray(t)) n.target = t;else {\n    for (const e in t) n[e] = t[e];\n    t.center && !n.target && (n.target = t.center);\n  }\n  return n;\n}\nfunction Ee(e) {\n  return e && i(e.camera) && (e.rotation = me(e.camera.heading)), e;\n}\nfunction Ue(e, t) {\n  const n = ce;\n  if (!t.length) return n;\n  let r = Number.NEGATIVE_INFINITY;\n  for (let a = 0; a < t.length; a++) {\n    const e = t[a].screenSpaceBoundingRect;\n    r = Math.max(r, Math.abs(e[0]), Math.abs(e[1]), Math.abs(e[2]), Math.abs(e[3]));\n  }\n  return n - r / Math.min(e.width, e.height) * 2;\n}\nconst Ze = j(),\n  De = g(),\n  Oe = p(),\n  Ce = k(),\n  Pe = C(),\n  Ie = j(),\n  Je = j(),\n  Ke = j(),\n  Le = {\n    heading: 0,\n    tilt: 0\n  },\n  Ne = new ae(),\n  Ve = {\n    point(e, t, n) {\n      n[0] = e.x, n[1] = e.y, null != e.z && (n[2] = e.z), t(n);\n    },\n    polygon(e, t, n) {\n      const r = e.hasZ;\n      for (let a = 0; a < e.rings.length; a++) {\n        const o = e.rings[a];\n        for (let e = 0; e < o.length; e++) n[0] = o[e][0], n[1] = o[e][1], r && (n[2] = o[e][2]), t(n);\n      }\n    },\n    polyline(e, t, n) {\n      const r = e.hasZ;\n      for (let a = 0; a < e.paths.length; a++) {\n        const o = e.paths[a];\n        for (let e = 0; e < o.length; e++) n[0] = o[e][0], n[1] = o[e][1], r && (n[2] = o[e][2]), t(n);\n      }\n    },\n    multipoint(e, t, n) {\n      const r = e.points,\n        a = e.hasZ;\n      for (let o = 0; o < r.length; o++) n[0] = r[o][0], n[1] = r[o][1], a && (n[2] = r[o][2]), t(n);\n    },\n    extent(e, t, n) {\n      null != e.zmin && null != e.zmax ? (t(v(n, e.xmin, e.ymin, e.zmin)), t(v(n, e.xmax, e.ymin, e.zmin)), t(v(n, e.xmin, e.ymax, e.zmin)), t(v(n, e.xmax, e.ymax, e.zmin)), t(v(n, e.xmin, e.ymin, e.zmax)), t(v(n, e.xmax, e.ymin, e.zmax)), t(v(n, e.xmin, e.ymax, e.zmax)), t(v(n, e.xmax, e.ymax, e.zmax))) : (t(v(n, e.xmin, e.ymin, n[2])), t(v(n, e.xmax, e.ymin, n[2])), t(v(n, e.xmin, e.ymax, n[2])), t(v(n, e.xmax, e.ymax, n[2])));\n    },\n    mesh(e, t, n) {\n      const r = e.vertexAttributes && e.vertexAttributes.position;\n      if (r) for (let a = 0; a < r.length; a += 3) t(v(n, r[a + 0], r[a + 1], r[a + 2]));\n    }\n  };\nexport { he as create, ge as fromCamera, me as headingToRotation, le as rotationToHeading, pe as toCamera };","map":{"version":3,"names":["e","t","n","result","r","cyclicalDegrees","a","o","isSome","i","isNone","s","unwrapOr","c","unwrap","l","eachAlways","m","f","u","p","g","h","y","d","x","b","w","v","j","projectVectorToPoint","R","projectPointToVector","G","projectBuffer","z","computeTranslationToOriginAndRotation","S","projectVectorToVector","B","create","k","empty","M","center","A","toRect","F","isPoint","T","expandWithVec3","E","expandWithAABB","U","width","Z","height","D","depth","O","C","P","intersectsPoint","I","getResolutionInMetersForScale","J","project","K","canProject","L","cameraOnContentAlongViewDirection","N","internalToExternal","V","OrientationMode","W","scaleToDistance","Y","fromCenterDistance","$","fromExtent","q","externalToInternal","X","computeScale","_","AsyncContext","H","distanceToScale","Q","fromCenterScale","ee","directionToHeadingTilt","te","zoomToScale","ne","getElevationAtPoint","re","ae","oe","ie","se","ce","le","normalize","me","ue","resolver","reject","fe","resolve","pe","arguments","length","undefined","spatialReference","WGS84","camera","position","clone","targetGeometry","get","state","ADJUST","rotation","heading","LOCKED","tilt","type","scale","latitude","distance","extent","ge","we","he","Te","fov","target","Ee","Re","Ge","zoom","xmin","xmax","ymin","ymax","Se","Me","boundingBox","hasZ","screenSpaceObjects","de","je","isFinite","Ze","Ne","Pe","Ue","Fe","Be","ke","ye","xe","renderSpatialReference","ve","wkid","geometry","basemapTerrain","origin","centroid","elevationProvider","Ve","push","Array","be","whenViewForGraphic","ok","value","whenGraphicBounds","minDemResolution","forEach","isArray","isGeographic","map","promise","ze","Je","Ke","Ie","up","zoomFactor","viewForward","eye","frustum","Le","Ae","De","Oe","Ce","Math","tan","fovX","fovY","sqrt","max","Number","NEGATIVE_INFINITY","screenSpaceBoundingRect","abs","min","point","polygon","rings","polyline","paths","multipoint","points","zmin","zmax","mesh","vertexAttributes","fromCamera","headingToRotation","rotationToHeading","toCamera"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/support/viewpointUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../Camera.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import n from\"../../../Viewpoint.js\";import{result as r}from\"../../../core/asyncUtils.js\";import\"../../../core/has.js\";import{cyclicalDegrees as a}from\"../../../core/Cyclical.js\";import o from\"../../../core/Error.js\";import{isSome as i,isNone as s,unwrapOr as c,unwrap as l}from\"../../../core/maybe.js\";import{eachAlways as m}from\"../../../core/promiseUtils.js\";import{f as u,t as f}from\"../../../chunks/mat3.js\";import{c as p}from\"../../../chunks/mat3f64.js\";import{c as g}from\"../../../chunks/mat4f64.js\";import{g as h,a as y,i as d,c as x,b as w,s as v,t as b}from\"../../../chunks/vec3.js\";import{c as j}from\"../../../chunks/vec3f64.js\";import{projectVectorToPoint as R,projectPointToVector as G,projectBuffer as z,computeTranslationToOriginAndRotation as S,projectVectorToVector as B}from\"../../../geometry/projection.js\";import{create as k,empty as M,center as A,toRect as F,isPoint as T,expandWithVec3 as E,expandWithAABB as U,width as Z,height as D,depth as O}from\"../../../geometry/support/aaBoundingBox.js\";import{create as C,isPoint as P}from\"../../../geometry/support/aaBoundingRect.js\";import{intersectsPoint as I}from\"../../../geometry/support/frustum.js\";import{getResolutionInMetersForScale as J}from\"../../../geometry/support/scaleUtils.js\";import{project as K,canProject as L}from\"../../../geometry/support/webMercatorUtils.js\";import{cameraOnContentAlongViewDirection as N}from\"../camera/intersectionUtils.js\";import{internalToExternal as V,OrientationMode as W,scaleToDistance as Y,fromCenterDistance as $,fromExtent as q,externalToInternal as X,computeScale as _,AsyncContext as H,distanceToScale as Q,fromCenterScale as ee,directionToHeadingTilt as te,zoomToScale as ne}from\"./cameraUtils.js\";import{getElevationAtPoint as re}from\"./ElevationProvider.js\";import ae from\"../../../geometry/Point.js\";import oe from\"../../../geometry/SpatialReference.js\";import ie from\"../../../geometry/Extent.js\";import se from\"../../../geometry/Geometry.js\";const ce=.66;function le(e){return 360-a.normalize(e)}function me(e){return a.normalize(360-e)}function ue(e){return i(e)&&e.resolver&&e.resolver.reject(),null}function fe(e,t){return i(e)&&e.resolver&&e.resolver.resolve(t),t}function pe(e,t,n,r=null){if(!t)return ue(r);const a=e.spatialReference||oe.WGS84;if(i(t.camera)){const e=K(t.camera.position,a);if(s(e))return ue(r);const n=t.camera.clone();return n.position=e,fe(r,n)}if(s(t.targetGeometry))return ue(r);const o=t.get(\"targetGeometry.spatialReference\");if(o&&!L(o,a))return ue(r);const c=V(e,e.state.camera);let l=W.ADJUST;if(null!=t.rotation&&(c.heading=le(t.rotation),l=W.LOCKED),null!=n&&(c.tilt=n),\"point\"===t.targetGeometry.type){const n=t.targetGeometry;let a;const o=t.targetGeometry.clone();return a=null!=t.scale?Y(e,t.scale,n.latitude):e.state.camera.distance,$(e,o,a,c,l,r)}const m=t.targetGeometry.extent;return m?q(e,m,c.heading,c.tilt,l,r):ue(r)}function ge(e,t,r=null){return s(r)&&(r=new n),we(e,null,t.clone(),r)}async function he(t,r,a){const i=Te(t,r);if(!i)throw new o(\"viewpointutils-create:no-target\",\"Missing target for creating viewpoint\");const s=new e({fov:t.camera.fov}),c=new n({camera:s});if(i.target instanceof n){return Ee(await Re(t,i.target,i,a,c))}if(i.target instanceof e)return Ee(Ge(t,i.target,c));const l=null!=i.scale||null!=i.zoom;if(i.target instanceof ie){const e=i.target.xmin===i.target.xmax||i.target.ymin===i.target.ymax;return Ee(l||e?await Se(t,i,i.target.center,s,a,c):await Me(t,i,i.target,s,a,c))}const m={boundingBox:M(),hasZ:!1,screenSpaceObjects:[]},u=l?de(t,i):void 0;if(await je(t,i.target,u,m),isFinite(m.boundingBox[0])){let e;if(A(m.boundingBox,Ze),Ne.x=Ze[0],Ne.y=Ze[1],Ne.z=Ze[2],Ne.spatialReference=t.spatialReference,isFinite(Ne.z)&&m.hasZ?e=T(m.boundingBox):(Ne.z=void 0,e=P(F(m.boundingBox,Pe))),l||e)return Ee(await Se(t,i,Ne,s,a,c));const n=Ue(t,m.screenSpaceObjects);return Ee(await Fe(t,i,Ne,m.boundingBox,n,s,a,c))}return i.position?Ee(Be(t,i,s,c)):Ee(await ke(t,i,s,a,c))}function ye(e,t){return null==t.scale&&null!=t.zoom?ne(e,t.zoom):t.scale}function de(e,t){const n=ye(e,t);return n?J(n):void 0}function xe(e,t){let n=!1;return null!=t.heading?(e.heading=t.heading,n=!0):null!=t.rotation&&(e.heading=le(t.rotation),n=!0),null!=t.tilt&&(e.tilt=t.tilt,n=!0),null!=t.fov&&(e.fov=t.fov),n}function we(e,t,n,r){const a=e.spatialReference||oe.WGS84;return t=i(t)?t:X(e,n),s(t)||(r.targetGeometry=R(t.center,e.renderSpatialReference,a),r.scale=_(e,t),r.rotation=me(n.heading),r.camera=n),r}function ve(e,t,n){const r=()=>new o(\"viewpointutils:invalid-geometry\",\"The target is missing a valid geometry\");if(!t)throw r();if(!L(t.spatialReference,e.spatialReference))throw new o(\"viewpointutils:incompatible-spatialreference\",`Spatial reference (${t.spatialReference?t.spatialReference.wkid:\"unknown\"}) is incompatible with the view (${e.spatialReference?.wkid})`,{geometry:t});const a=[];if(!t.hasZ&&e.basemapTerrain){let n;switch(t.type){case\"point\":n=t;break;case\"multipoint\":case\"polyline\":n=t.extent?.center;break;case\"mesh\":n=t.origin;break;case\"extent\":n=t.center;break;case\"polygon\":n=t.centroid}n&&i(e.basemapTerrain.spatialReference)&&L(n,e.basemapTerrain.spatialReference)&&e.elevationProvider?Ze[2]=c(re(e.elevationProvider,n),0):Ze[2]=0}(0,Ve[t.type])(t,(e=>{a.push(e[0],e[1],e[2])}),Ze);const s=a.length/3;if(0===s)throw r();const l=new Array(a.length);if(z(a,t.spatialReference,0,l,e.spatialReference,0,s)){t.hasZ&&(n.hasZ=!0);for(let e=0;e<l.length;e+=3)t.hasZ?(Ze[0]=l[e+0],Ze[1]=l[e+1],Ze[2]=l[e+2]):(Ze[0]=l[e+0],Ze[1]=l[e+1]),E(n.boundingBox,Ze)}}async function be(e,t,n,a){const o=await r(e.whenViewForGraphic(t));if(!1===o.ok||s(o.value)||!(\"whenGraphicBounds\"in o.value))return void ve(e,t.geometry,a);const i=o.value,c=await r(i.whenGraphicBounds(t,{minDemResolution:n}));if(!1===c.ok)return void ve(e,t.geometry,a);const{screenSpaceObjects:l,boundingBox:m}=c.value;U(a.boundingBox,m),l&&l.forEach((e=>{a.screenSpaceObjects.push(e)})),isFinite(m[2])&&(a.hasZ=!0)}async function je(e,n,r,a){if(Array.isArray(n)&&2===n.length){const t=n[0],r=n[1];if(\"number\"==typeof t&&\"number\"==typeof r)return Ne.x=t,Ne.y=r,Ne.z=void 0,Ne.spatialReference=e.spatialReference?.isGeographic?e.spatialReference:oe.WGS84,void ve(e,Ne,a)}n&&\"function\"==typeof n.map?await m(n.map((t=>je(e,t,r,a)))):n instanceof se?ve(e,n,a):n instanceof t&&await be(e,n,r,a)}async function Re(e,t,n,r,a){if(i(t.camera))return Ge(e,t.camera,a);a.scale=t.scale,a.rotation=t.rotation,a.targetGeometry=i(t.targetGeometry)?t.targetGeometry.clone():null,a.camera=null,null!=n.heading?a.rotation=me(n.heading):null!=n.rotation&&(a.rotation=n.rotation);const o=ye(e,n);null!=o&&(a.scale=o);const s=new H(r);return pe(e,a,n.tilt,s),a.camera=await s.resolver.promise,a}function Ge(e,t,n){const r=e.spatialReference,a=K(t.position,r);return s(a)?null:((t=t.clone()).fov=e.camera.fov,t.position=a,we(e,null,t,n))}function ze(e,t,n,r,a,o){const i=e.renderSpatialReference;return G(n,Je,i),G(t,Ke,i),o.targetGeometry=new ae(t),a.position=new ae(n),w(Ie,Ke,Je),te(e,Je,Ie,r.up,a),o.scale=Q(e,d(Je,Ke),o.targetGeometry.latitude),o.rotation=me(a.heading),o.camera=a,o}async function Se(e,t,n,r,a,i){if(s(n))throw new o(\"createfromcenter\",\"invalid point\");i.targetGeometry=n.clone();const c=N(e);if(t.position)return ze(e,i.targetGeometry,t.position,c,r,i);if(t.zoomFactor){const r=c.distance/t.zoomFactor,a=h(Ze,c.viewForward,-r);c.eye=y(Ze,c.center,a),i.scale=Q(e,r,n.latitude)}V(e,c,r);const l=xe(r,t)?W.LOCKED:W.ADJUST;if(!t.zoomFactor){const o=ye(e,t);null==o?(G(n,Ze,e.renderSpatialReference),I(c.frustum,Ze)?i.scale=Q(e,d(c.eye,Ze),n.latitude):i.scale=_(e,c)):i.scale=o;const s=new H(a);ee(e,i.targetGeometry,i.scale,r,l,s),i.camera=await s.resolver.promise}return i}function Be(e,t,n,r){const a=N(e);return x(Ie,a.viewForward),te(e,a.eye,Ie,a.up,Le),n.position=new ae(t.position),n.heading=null!=t.heading?t.heading:Le.heading,n.tilt=null!=t.tilt?t.tilt:Le.tilt,we(e,null,n,r)}async function ke(e,t,n,r,a){const o=N(e);return Se(e,t,R(o.center,e.renderSpatialReference,e.spatialReference),n,r,a)}async function Me(e,t,n,r,a,o){o.targetGeometry=n.clone();const i=N(e);V(e,i,r);const s=xe(r,t)?W.LOCKED:W.ADJUST,c=new H(a);return q(e,n,r.heading,r.tilt,s,c),o.camera=await c.resolver.promise,o}function Ae(e,t,n,r,a){let o=0;null!=n.z?o=n.z:e.basemapTerrain&&e.elevationProvider&&(o=l(re(e.elevationProvider,n))),v(Ze,n.x,n.y,o),S(e.spatialReference,Ze,De,e.renderSpatialReference),u(Oe,De),f(Oe,Oe),M(Ce);const i=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]];for(let l=0;l<i.length;l++){const t=i[l];let n=r[t[2]];isFinite(n)||(n=o),v(Ze,r[t[0]],r[t[1]],n),B(Ze,e.spatialReference,Ze,e.renderSpatialReference),E(Ce,b(Ze,Ze,Oe))}const s=Z(Ce),c=D(Ce),m=O(Ce),p=1/Math.tan(t.fovX/2),g=1/Math.tan(t.fovY/2),h=.5*Math.sqrt(s*s+m*m)*Math.max(g,p)+.5*c,y=.5*c*g+.5*Math.max(s,m);return Math.max(h,y)/a}async function Fe(e,t,n,r,a,o,i,s){s.targetGeometry=n.clone();const c=N(e),l=Ae(e,c,n,r,a);V(e,c,o);const m=xe(o,t)?W.LOCKED:W.ADJUST;s.scale=Q(e,l,s.targetGeometry.latitude);const u=new H(i);return ee(e,s.targetGeometry,s.scale,o,m,u),s.camera=await u.resolver.promise,s}function Te(e,t){if(!t||!e.spatialReference)return null;const n={target:void 0};if(\"declaredClass\"in t||Array.isArray(t))n.target=t;else{for(const e in t)n[e]=t[e];t.center&&!n.target&&(n.target=t.center)}return n}function Ee(e){return e&&i(e.camera)&&(e.rotation=me(e.camera.heading)),e}function Ue(e,t){const n=ce;if(!t.length)return n;let r=Number.NEGATIVE_INFINITY;for(let a=0;a<t.length;a++){const e=t[a].screenSpaceBoundingRect;r=Math.max(r,Math.abs(e[0]),Math.abs(e[1]),Math.abs(e[2]),Math.abs(e[3]))}return n-r/Math.min(e.width,e.height)*2}const Ze=j(),De=g(),Oe=p(),Ce=k(),Pe=C(),Ie=j(),Je=j(),Ke=j(),Le={heading:0,tilt:0},Ne=new ae,Ve={point(e,t,n){n[0]=e.x,n[1]=e.y,null!=e.z&&(n[2]=e.z),t(n)},polygon(e,t,n){const r=e.hasZ;for(let a=0;a<e.rings.length;a++){const o=e.rings[a];for(let e=0;e<o.length;e++)n[0]=o[e][0],n[1]=o[e][1],r&&(n[2]=o[e][2]),t(n)}},polyline(e,t,n){const r=e.hasZ;for(let a=0;a<e.paths.length;a++){const o=e.paths[a];for(let e=0;e<o.length;e++)n[0]=o[e][0],n[1]=o[e][1],r&&(n[2]=o[e][2]),t(n)}},multipoint(e,t,n){const r=e.points,a=e.hasZ;for(let o=0;o<r.length;o++)n[0]=r[o][0],n[1]=r[o][1],a&&(n[2]=r[o][2]),t(n)},extent(e,t,n){null!=e.zmin&&null!=e.zmax?(t(v(n,e.xmin,e.ymin,e.zmin)),t(v(n,e.xmax,e.ymin,e.zmin)),t(v(n,e.xmin,e.ymax,e.zmin)),t(v(n,e.xmax,e.ymax,e.zmin)),t(v(n,e.xmin,e.ymin,e.zmax)),t(v(n,e.xmax,e.ymin,e.zmax)),t(v(n,e.xmin,e.ymax,e.zmax)),t(v(n,e.xmax,e.ymax,e.zmax))):(t(v(n,e.xmin,e.ymin,n[2])),t(v(n,e.xmax,e.ymin,n[2])),t(v(n,e.xmin,e.ymax,n[2])),t(v(n,e.xmax,e.ymax,n[2])))},mesh(e,t,n){const r=e.vertexAttributes&&e.vertexAttributes.position;if(r)for(let a=0;a<r.length;a+=3)t(v(n,r[a+0],r[a+1],r[a+2]))}};export{he as create,ge as fromCamera,me as headingToRotation,le as rotationToHeading,pe as toCamera};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}