{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { destroyMaybe as t, isNone as e, isSome as i } from \"../../../core/maybe.js\";\nimport { TextureUpdate as r } from \"./interfaces.js\";\nclass n {\n  constructor(t) {\n    this._getFadeDuration = t, this._fadeStart = 0, this._delayedTime = 0;\n  }\n  clear() {\n    this._current = t(this._current), this._next = t(this._next), this._waiting = t(this._waiting), this._delayed = t(this._delayed);\n  }\n  get current() {\n    if (e(this._current)) return null;\n    if (!this._isFadingEnabled) {\n      const t = this._delayed || this._waiting || this._next || this._current;\n      t !== this._current && (this._current = null, this.clear(), this._current = t);\n    }\n    let a = n.test.fadeMoment;\n    if (i(this._delayed) && (a = a || performance.now(), a >= this._delayedTime && (this._push(this._delayed, s.Immediate), this._delayed = null)), i(this._next)) {\n      a = a || performance.now();\n      const e = this._fadeDuration,\n        n = i(this._current) && this._next.texture === this._current.texture,\n        s = this._next.type !== r.FADING,\n        h = a - this._fadeStart >= e;\n      (n || s || h) && (t(this._current), this._current = this._next, this._next = this._waiting, this._waiting = null, this._fadeStart = this._alignFadeStart(a));\n    }\n    return this._current;\n  }\n  get next() {\n    return this._next;\n  }\n  get fadeFactor() {\n    if (e(this._next)) return 1;\n    const t = n.test.fadeMoment || performance.now(),\n      i = Math.max(0, t - this._fadeStart),\n      r = this._fadeDuration;\n    return i > r ? 0 : 1 - i / r;\n  }\n  get isFading() {\n    return i(this._next) || i(this._delayed);\n  }\n  push(e) {\n    let i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : s.Immediate;\n    this._delayed = t(this._delayed), this._push(e, i);\n  }\n  _push(i, r) {\n    if (this._isFadingEnabled || this.clear(), e(this._current)) return void (this._current = i);\n    const a = n.test.fadeMoment || performance.now();\n    return r !== s.Immediate ? (this._delayed = i, void (this._delayedTime = a + r)) : e(this._next) ? (this._next = i, void (this._fadeStart = this._alignFadeStart(a))) : void (e(i) || (t(this._waiting), this._waiting = i));\n  }\n  get _fadeDuration() {\n    return e(this._waiting) ? this._getFadeDuration() : .5 * this._getFadeDuration();\n  }\n  _alignFadeStart(t) {\n    const e = this._getFadeDuration();\n    return t + e - t % e;\n  }\n  get _isFadingEnabled() {\n    return this._getFadeDuration() > 0;\n  }\n}\nvar s;\nn.test = {\n  fadeMoment: 0\n}, function (t) {\n  t[t.Immediate = 0] = \"Immediate\", t[t.Delayed = 5e3] = \"Delayed\";\n}(s || (s = {}));\nexport { s as ActivationTime, n as TextureFader };","map":{"version":3,"names":["destroyMaybe","t","isNone","e","isSome","i","TextureUpdate","r","n","constructor","_getFadeDuration","_fadeStart","_delayedTime","clear","_current","_next","_waiting","_delayed","current","_isFadingEnabled","a","test","fadeMoment","performance","now","_push","s","Immediate","_fadeDuration","texture","type","FADING","h","_alignFadeStart","next","fadeFactor","Math","max","isFading","push","arguments","length","undefined","Delayed","ActivationTime","TextureFader"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/terrain/TextureFader.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as t,isNone as e,isSome as i}from\"../../../core/maybe.js\";import{TextureUpdate as r}from\"./interfaces.js\";class n{constructor(t){this._getFadeDuration=t,this._fadeStart=0,this._delayedTime=0}clear(){this._current=t(this._current),this._next=t(this._next),this._waiting=t(this._waiting),this._delayed=t(this._delayed)}get current(){if(e(this._current))return null;if(!this._isFadingEnabled){const t=this._delayed||this._waiting||this._next||this._current;t!==this._current&&(this._current=null,this.clear(),this._current=t)}let a=n.test.fadeMoment;if(i(this._delayed)&&(a=a||performance.now(),a>=this._delayedTime&&(this._push(this._delayed,s.Immediate),this._delayed=null)),i(this._next)){a=a||performance.now();const e=this._fadeDuration,n=i(this._current)&&this._next.texture===this._current.texture,s=this._next.type!==r.FADING,h=a-this._fadeStart>=e;(n||s||h)&&(t(this._current),this._current=this._next,this._next=this._waiting,this._waiting=null,this._fadeStart=this._alignFadeStart(a))}return this._current}get next(){return this._next}get fadeFactor(){if(e(this._next))return 1;const t=n.test.fadeMoment||performance.now(),i=Math.max(0,t-this._fadeStart),r=this._fadeDuration;return i>r?0:1-i/r}get isFading(){return i(this._next)||i(this._delayed)}push(e,i=s.Immediate){this._delayed=t(this._delayed),this._push(e,i)}_push(i,r){if(this._isFadingEnabled||this.clear(),e(this._current))return void(this._current=i);const a=n.test.fadeMoment||performance.now();return r!==s.Immediate?(this._delayed=i,void(this._delayedTime=a+r)):e(this._next)?(this._next=i,void(this._fadeStart=this._alignFadeStart(a))):void(e(i)||(t(this._waiting),this._waiting=i))}get _fadeDuration(){return e(this._waiting)?this._getFadeDuration():.5*this._getFadeDuration()}_alignFadeStart(t){const e=this._getFadeDuration();return t+e-t%e}get _isFadingEnabled(){return this._getFadeDuration()>0}}var s;n.test={fadeMoment:0},function(t){t[t.Immediate=0]=\"Immediate\",t[t.Delayed=5e3]=\"Delayed\"}(s||(s={}));export{s as ActivationTime,n as TextureFader};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}