{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { clamp as t } from \"../../../../core/mathUtils.js\";\nimport { o as n, s as o, c as r } from \"../../../../chunks/vec3.js\";\nimport { c as e } from \"../../../../chunks/vec3f64.js\";\nimport { elementwiseProduct as s, scalarProduct as i, add as c } from \"../lib/LongVectorMath.js\";\nimport { MainLight as f, FillLight as h, AmbientLight as a, SphericalHarmonicsAmbientLight as g } from \"./Lightsources.js\";\nfunction u(t) {\n  return (t + 1) * (t + 1);\n}\nfunction l(n) {\n  return t(Math.floor(Math.sqrt(n) - 1), 0, 2);\n}\nfunction m(t, n, o) {\n  const r = t[0],\n    e = t[1],\n    s = t[2],\n    i = o || [];\n  return i.length = u(n), n >= 0 && (i[0] = .28209479177), n >= 1 && (i[1] = .4886025119 * r, i[2] = .4886025119 * s, i[3] = .4886025119 * e), n >= 2 && (i[4] = 1.09254843059 * r * e, i[5] = 1.09254843059 * e * s, i[6] = .31539156525 * (3 * s * s - 1), i[7] = 1.09254843059 * r * s, i[8] = .54627421529 * (r * r - e * e)), i;\n}\nfunction p(t, n) {\n  const o = u(t),\n    r = n || {\n      r: [],\n      g: [],\n      b: []\n    };\n  r.r.length = r.g.length = r.b.length = o;\n  for (let e = 0; e < o; e++) r.r[e] = r.g[e] = r.b[e] = 0;\n  return r;\n}\nfunction y(t, o) {\n  const r = l(o.r.length);\n  for (const e of t) n(P, e.direction), m(P, r, v), s(v, k), i(v, e.intensity[0], I), c(o.r, I), i(v, e.intensity[1], I), c(o.g, I), i(v, e.intensity[2], I), c(o.b, I);\n  return o;\n}\nfunction b(t, n) {\n  m(P, 0, v);\n  for (const o of t) n.r[0] += v[0] * k[0] * o.intensity[0] * 4 * Math.PI, n.g[0] += v[0] * k[0] * o.intensity[1] * 4 * Math.PI, n.b[0] += v[0] * k[0] * o.intensity[2] * 4 * Math.PI;\n  return n;\n}\nfunction M(t, n, e, s) {\n  p(n, s), o(e.intensity, 0, 0, 0);\n  let i = !1;\n  const u = S,\n    l = d,\n    m = j;\n  u.length = 0, l.length = 0, m.length = 0;\n  for (const o of t) o instanceof f && !i ? (r(e.direction, o.direction), r(e.intensity, o.intensity), e.specularStrength = o.specularStrength, e.environmentStrength = o.environmentStrength, e.castShadows = o.castShadows, i = !0) : o instanceof f || o instanceof h ? u.push(o) : o instanceof a ? l.push(o) : o instanceof g && m.push(o);\n  y(u, s), b(l, s);\n  for (const o of m) c(s.r, o.r), c(s.g, o.g), c(s.b, o.b);\n}\nconst S = [],\n  d = [],\n  j = [],\n  v = [0],\n  I = [0],\n  P = e(),\n  k = [3.141593, 2.094395, 2.094395, 2.094395, .785398, .785398, .785398, .785398, .785398];\nexport { M as combineLights, m as computeCoefficients, p as initSHCoefficients, u as numberOfCoefficients, l as orderFromNumberOfCoefficients, b as projectAmbientLights, y as projectFillLights };","map":{"version":3,"names":["clamp","t","o","n","s","c","r","e","elementwiseProduct","scalarProduct","i","add","MainLight","f","FillLight","h","AmbientLight","a","SphericalHarmonicsAmbientLight","g","u","l","Math","floor","sqrt","m","length","p","b","y","P","direction","v","k","intensity","I","PI","M","S","d","j","specularStrength","environmentStrength","castShadows","push","combineLights","computeCoefficients","initSHCoefficients","numberOfCoefficients","orderFromNumberOfCoefficients","projectAmbientLights","projectFillLights"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{o as n,s as o,c as r}from\"../../../../chunks/vec3.js\";import{c as e}from\"../../../../chunks/vec3f64.js\";import{elementwiseProduct as s,scalarProduct as i,add as c}from\"../lib/LongVectorMath.js\";import{MainLight as f,FillLight as h,AmbientLight as a,SphericalHarmonicsAmbientLight as g}from\"./Lightsources.js\";function u(t){return(t+1)*(t+1)}function l(n){return t(Math.floor(Math.sqrt(n)-1),0,2)}function m(t,n,o){const r=t[0],e=t[1],s=t[2],i=o||[];return i.length=u(n),n>=0&&(i[0]=.28209479177),n>=1&&(i[1]=.4886025119*r,i[2]=.4886025119*s,i[3]=.4886025119*e),n>=2&&(i[4]=1.09254843059*r*e,i[5]=1.09254843059*e*s,i[6]=.31539156525*(3*s*s-1),i[7]=1.09254843059*r*s,i[8]=.54627421529*(r*r-e*e)),i}function p(t,n){const o=u(t),r=n||{r:[],g:[],b:[]};r.r.length=r.g.length=r.b.length=o;for(let e=0;e<o;e++)r.r[e]=r.g[e]=r.b[e]=0;return r}function y(t,o){const r=l(o.r.length);for(const e of t)n(P,e.direction),m(P,r,v),s(v,k),i(v,e.intensity[0],I),c(o.r,I),i(v,e.intensity[1],I),c(o.g,I),i(v,e.intensity[2],I),c(o.b,I);return o}function b(t,n){m(P,0,v);for(const o of t)n.r[0]+=v[0]*k[0]*o.intensity[0]*4*Math.PI,n.g[0]+=v[0]*k[0]*o.intensity[1]*4*Math.PI,n.b[0]+=v[0]*k[0]*o.intensity[2]*4*Math.PI;return n}function M(t,n,e,s){p(n,s),o(e.intensity,0,0,0);let i=!1;const u=S,l=d,m=j;u.length=0,l.length=0,m.length=0;for(const o of t)o instanceof f&&!i?(r(e.direction,o.direction),r(e.intensity,o.intensity),e.specularStrength=o.specularStrength,e.environmentStrength=o.environmentStrength,e.castShadows=o.castShadows,i=!0):o instanceof f||o instanceof h?u.push(o):o instanceof a?l.push(o):o instanceof g&&m.push(o);y(u,s),b(l,s);for(const o of m)c(s.r,o.r),c(s.g,o.g),c(s.b,o.b)}const S=[],d=[],j=[],v=[0],I=[0],P=e(),k=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,m as computeCoefficients,p as initSHCoefficients,u as numberOfCoefficients,l as orderFromNumberOfCoefficients,b as projectAmbientLights,y as projectFillLights};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}