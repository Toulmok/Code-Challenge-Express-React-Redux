{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../core/Error.js\";\nimport { isNone as t, isSome as o } from \"../core/maybe.js\";\nimport { c as r, b as n, e as i, a as s, g as a } from \"./vec3.js\";\nimport { c as l } from \"./vec3f64.js\";\nimport { canProjectToWGS84ComparableLonLat as c } from \"../geometry/projection.js\";\nimport { containsPoint as f, containsPointWithMargin as u, fromExtent as m, create as p } from \"../geometry/support/aaBoundingRect.js\";\nimport { MAX_ROOT_TILES as h } from \"../views/3d/terrain/TerrainConst.js\";\nimport { getMissingTileInfoError as g, TilingScheme as d } from \"../views/3d/terrain/TilingScheme.js\";\nconst M = l(),\n  x = l(),\n  S = l(),\n  j = l();\nfunction v(e, o) {\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  const n = e.extent;\n  if (t(n)) return !1;\n  if (0 === r) return f(n, o);\n  const i = Math.min(n[2] - n[0], n[3] - n[1]);\n  return u(n, o, r * i);\n}\nfunction y(e, t, o, l) {\n  r(M, o), M[l] = t[l];\n  const c = n(M, M, t),\n    f = n(x, e, t),\n    u = i(f, c),\n    m = i(c, c);\n  let p;\n  p = u <= 0 ? t : m <= u ? o : s(M, t, a(c, c, u / m));\n  const h = n(M, e, p);\n  return Math.PI / 2 - Math.atan(h[2] / Math.sqrt(h[0] * h[0] + h[1] * h[1]));\n}\nfunction T(e, o, r) {\n  const n = e.extent;\n  if (t(n)) return 0;\n  S[0] = n[0], S[1] = n[1], S[2] = r, j[0] = n[2], j[1] = n[3], j[2] = r;\n  let i = 1 / 0,\n    s = 1 / 0;\n  return o[0] < S[0] ? i = y(o, S, j, 0) : o[0] > j[0] && (i = y(o, j, S, 0)), o[1] < S[1] ? s = y(o, S, j, 1) : o[1] > j[1] && (s = y(o, j, S, 1)), Math.min(i, s);\n}\nfunction w(r, n, i) {\n  if (t(r)) return g();\n  if (r.spatialReference.isGeographic && !c(r.spatialReference)) return new e(\"tilingscheme:local-unsupported-spatial-reference\", \"The tiling scheme spatial reference is not supported in local scenes\");\n  const s = d.checkUnsupported(r);\n  if (o(s)) return s;\n  if (t(i)) return new e(\"tilingscheme:extent-not-exist\", \"The layer does not provide a layer extent.\");\n  const a = R(r, i);\n  if (a) return a;\n  const l = r.spatialReference;\n  return o(n) && !(l.equals(n) || n.isWGS84 && l.isWebMercator) ? new e(\"tilingscheme:spatial-reference-mismatch\", \"The tiling scheme does not match the spatial reference of the local scene\") : null;\n}\nfunction R(t, o) {\n  const r = t.lods,\n    n = r[0].resolution * 2 ** r[0].level,\n    i = [n * t.size[0], n * t.size[1]],\n    s = [t.origin.x, t.origin.y],\n    a = m(o),\n    l = p();\n  d.computeRowColExtent(a, i, s, l);\n  const c = (l[2] - l[0]) * (l[3] - l[1]);\n  if (c > h) {\n    const o = r[0].scale * 2 ** r[0].level;\n    let i = Math.max((a[3] - a[1]) / t.size[1], (a[2] - a[0]) / t.size[0]) * o / n;\n    const s = Math.floor(Math.log(i) / Math.log(10));\n    return i = Math.ceil(i / 10 ** s) * 10 ** s, new e(\"tilingscheme:too-many-root-tiles\", \"Scale of level 0 of the tiling scheme (1:\" + Math.floor(o).toLocaleString() + \") is too large for the layer's extent. Suggested scale: 1:\" + i.toLocaleString() + \".\", {\n      level0Scale: o,\n      suggestedLevel0Scale: i,\n      requiredNumRootTiles: c,\n      allowedNumRootTiles: h\n    });\n  }\n  return null;\n}\nconst b = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  checkIfTileInfoSupportedForViewSR: w,\n  isInsideExtent: v,\n  tiltToExtentEdge: T\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { T as a, w as c, v as i, b as t };","map":{"version":3,"names":["e","isNone","t","isSome","o","c","r","b","n","i","a","s","g","l","canProjectToWGS84ComparableLonLat","containsPoint","f","containsPointWithMargin","u","fromExtent","m","create","p","MAX_ROOT_TILES","h","getMissingTileInfoError","TilingScheme","d","M","x","S","j","v","arguments","length","undefined","extent","Math","min","y","PI","atan","sqrt","T","w","spatialReference","isGeographic","checkUnsupported","R","equals","isWGS84","isWebMercator","lods","resolution","level","size","origin","computeRowColExtent","scale","max","floor","log","ceil","toLocaleString","level0Scale","suggestedLevel0Scale","requiredNumRootTiles","allowedNumRootTiles","Object","freeze","defineProperty","__proto__","checkIfTileInfoSupportedForViewSR","isInsideExtent","tiltToExtentEdge","Symbol","toStringTag","value"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/chunks/terrainUtilsPlanar.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../core/Error.js\";import{isNone as t,isSome as o}from\"../core/maybe.js\";import{c as r,b as n,e as i,a as s,g as a}from\"./vec3.js\";import{c as l}from\"./vec3f64.js\";import{canProjectToWGS84ComparableLonLat as c}from\"../geometry/projection.js\";import{containsPoint as f,containsPointWithMargin as u,fromExtent as m,create as p}from\"../geometry/support/aaBoundingRect.js\";import{MAX_ROOT_TILES as h}from\"../views/3d/terrain/TerrainConst.js\";import{getMissingTileInfoError as g,TilingScheme as d}from\"../views/3d/terrain/TilingScheme.js\";const M=l(),x=l(),S=l(),j=l();function v(e,o,r=0){const n=e.extent;if(t(n))return!1;if(0===r)return f(n,o);const i=Math.min(n[2]-n[0],n[3]-n[1]);return u(n,o,r*i)}function y(e,t,o,l){r(M,o),M[l]=t[l];const c=n(M,M,t),f=n(x,e,t),u=i(f,c),m=i(c,c);let p;p=u<=0?t:m<=u?o:s(M,t,a(c,c,u/m));const h=n(M,e,p);return Math.PI/2-Math.atan(h[2]/Math.sqrt(h[0]*h[0]+h[1]*h[1]))}function T(e,o,r){const n=e.extent;if(t(n))return 0;S[0]=n[0],S[1]=n[1],S[2]=r,j[0]=n[2],j[1]=n[3],j[2]=r;let i=1/0,s=1/0;return o[0]<S[0]?i=y(o,S,j,0):o[0]>j[0]&&(i=y(o,j,S,0)),o[1]<S[1]?s=y(o,S,j,1):o[1]>j[1]&&(s=y(o,j,S,1)),Math.min(i,s)}function w(r,n,i){if(t(r))return g();if(r.spatialReference.isGeographic&&!c(r.spatialReference))return new e(\"tilingscheme:local-unsupported-spatial-reference\",\"The tiling scheme spatial reference is not supported in local scenes\");const s=d.checkUnsupported(r);if(o(s))return s;if(t(i))return new e(\"tilingscheme:extent-not-exist\",\"The layer does not provide a layer extent.\");const a=R(r,i);if(a)return a;const l=r.spatialReference;return o(n)&&!(l.equals(n)||n.isWGS84&&l.isWebMercator)?new e(\"tilingscheme:spatial-reference-mismatch\",\"The tiling scheme does not match the spatial reference of the local scene\"):null}function R(t,o){const r=t.lods,n=r[0].resolution*2**r[0].level,i=[n*t.size[0],n*t.size[1]],s=[t.origin.x,t.origin.y],a=m(o),l=p();d.computeRowColExtent(a,i,s,l);const c=(l[2]-l[0])*(l[3]-l[1]);if(c>h){const o=r[0].scale*2**r[0].level;let i=Math.max((a[3]-a[1])/t.size[1],(a[2]-a[0])/t.size[0])*o/n;const s=Math.floor(Math.log(i)/Math.log(10));return i=Math.ceil(i/10**s)*10**s,new e(\"tilingscheme:too-many-root-tiles\",\"Scale of level 0 of the tiling scheme (1:\"+Math.floor(o).toLocaleString()+\") is too large for the layer's extent. Suggested scale: 1:\"+i.toLocaleString()+\".\",{level0Scale:o,suggestedLevel0Scale:i,requiredNumRootTiles:c,allowedNumRootTiles:h})}return null}const b=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:w,isInsideExtent:v,tiltToExtentEdge:T},Symbol.toStringTag,{value:\"Module\"}));export{T as a,w as c,v as i,b as t};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}