{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { rad2deg as t } from \"../../../core/mathUtils.js\";\nimport { isSome as e } from \"../../../core/maybe.js\";\nimport { getMetersPerUnitForSR as o } from \"../../../core/unitUtils.js\";\nimport { s as r } from \"../../../chunks/mat4.js\";\nimport { c as s } from \"../../../chunks/vec3.js\";\nimport { isVec3 as i } from \"../../../core/libs/gl-matrix-2/types/vec3.js\";\nimport { projectPointToVector as n, projectVectorToVector as a, projectVectorToDehydratedPoint as m, projectVectorToPoint as c } from \"../../../geometry/projection.js\";\nimport { Axis as l } from \"../../../geometry/support/Axis.js\";\nimport { create as p, setExtent as d, altitudeAt as h, setAltitudeAt as u, setAltitudeOfTransformation as f, normalAt as y, axisAt as S, elevate as g, intersectRayClosestSilhouette as _, intersectRay as j, createGlobal as w, createLocal as A, renderSRFromViewSR as R } from \"../../../geometry/support/coordinateSystem.js\";\nimport { intersectRay as C } from \"../../../geometry/support/plane.js\";\nimport { angleAroundAxis as M } from \"../../../geometry/support/vector.js\";\nimport { sv3d as P } from \"../../../geometry/support/vectorStacks.js\";\nimport { isDehydratedPoint as b } from \"../../../layers/graphics/dehydratedFeatureUtils.js\";\nimport { ViewingMode as v } from \"../../ViewingMode.js\";\nimport { isSpatialReferenceSupported as U } from \"../../support/spatialReferenceSupport.js\";\nclass x {\n  constructor(t, e, o, r) {\n    this.viewingMode = t, this.spatialReference = e, this.unitInMeters = o, this._coordinateSystem = r, this._tmpCoordinateSystem = p(r);\n  }\n  set extent(t) {\n    t && d(this._coordinateSystem, t, this._coordinateSystem);\n  }\n  getAltitude(t) {\n    return h(this._coordinateSystem, t);\n  }\n  setAltitude(t, e) {\n    let o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : t;\n    return u(this._coordinateSystem, o, e, t);\n  }\n  setAltitudeOfTransformation(t, e) {\n    f(this._coordinateSystem, e, t, e);\n  }\n  worldUpAtPosition(t, e) {\n    return y(this._coordinateSystem, t, e);\n  }\n  worldBasisAtPosition(t, e, o) {\n    return S(this._coordinateSystem, t, e, o);\n  }\n  basisMatrixAtPosition(t, e) {\n    const o = this.worldBasisAtPosition(t, l.X, P.get()),\n      s = this.worldBasisAtPosition(t, l.Y, P.get()),\n      i = this.worldBasisAtPosition(t, l.Z, P.get());\n    return r(e, o[0], o[1], o[2], 0, s[0], s[1], s[2], 0, i[0], i[1], i[2], 0, 0, 0, 0, 1), e;\n  }\n  headingAtPosition(e, o) {\n    const r = this.worldUpAtPosition(e, P.get()),\n      s = this.worldBasisAtPosition(e, l.Y, P.get()),\n      i = M(o, s, r);\n    return t(i);\n  }\n  intersectManifoldClosestSilhouette(t, e, o) {\n    return g(this._coordinateSystem, e, this._tmpCoordinateSystem), _(this._tmpCoordinateSystem, t, o), o;\n  }\n  intersectManifold(t, e, o) {\n    g(this._coordinateSystem, e, this._tmpCoordinateSystem);\n    const r = P.get();\n    return j(this._tmpCoordinateSystem, t, r) ? s(o, r) : null;\n  }\n  intersectInfiniteManifold(t, e, o) {\n    if (this.viewingMode === v.Global) return this.intersectManifold(t, e, o);\n    g(this._coordinateSystem, e, this._tmpCoordinateSystem);\n    const r = this._tmpCoordinateSystem.value,\n      i = P.get();\n    return C(r.plane, t, i) ? s(o, i) : null;\n  }\n  toRenderCoords(t, e, o) {\n    return b(t) ? n(t, e, this.spatialReference) : a(t, e, o, this.spatialReference);\n  }\n  fromRenderCoords(t, o) {\n    let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    return b(o) ? (e(r) && (o.spatialReference = r), m(t, this.spatialReference, o)) : i(o) ? a(t, this.spatialReference, o, r) ? o : null : c(t, this.spatialReference, o);\n  }\n  static create(t, e) {\n    switch (t) {\n      case v.Local:\n        return new x(v.Local, e, o(e), A());\n      case v.Global:\n        return new x(v.Global, e, 1, w(e));\n    }\n  }\n  static renderUnitScaleFactor(t, e) {\n    return B(t) / B(e);\n  }\n}\nfunction B(t) {\n  if (U(t, v.Global)) return 1;\n  const e = R(!1, t);\n  return o(e);\n}\nexport { x as RenderCoordsHelper };","map":{"version":3,"names":["rad2deg","t","isSome","e","getMetersPerUnitForSR","o","s","r","c","isVec3","i","projectPointToVector","n","projectVectorToVector","a","projectVectorToDehydratedPoint","m","projectVectorToPoint","Axis","l","create","p","setExtent","d","altitudeAt","h","setAltitudeAt","u","setAltitudeOfTransformation","f","normalAt","y","axisAt","S","elevate","g","intersectRayClosestSilhouette","_","intersectRay","j","createGlobal","w","createLocal","A","renderSRFromViewSR","R","C","angleAroundAxis","M","sv3d","P","isDehydratedPoint","b","ViewingMode","v","isSpatialReferenceSupported","U","x","constructor","viewingMode","spatialReference","unitInMeters","_coordinateSystem","_tmpCoordinateSystem","extent","getAltitude","setAltitude","arguments","length","undefined","worldUpAtPosition","worldBasisAtPosition","basisMatrixAtPosition","X","get","Y","Z","headingAtPosition","intersectManifoldClosestSilhouette","intersectManifold","intersectInfiniteManifold","Global","value","plane","toRenderCoords","fromRenderCoords","Local","renderUnitScaleFactor","B","RenderCoordsHelper"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/support/RenderCoordsHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{rad2deg as t}from\"../../../core/mathUtils.js\";import{isSome as e}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as o}from\"../../../core/unitUtils.js\";import{s as r}from\"../../../chunks/mat4.js\";import{c as s}from\"../../../chunks/vec3.js\";import{isVec3 as i}from\"../../../core/libs/gl-matrix-2/types/vec3.js\";import{projectPointToVector as n,projectVectorToVector as a,projectVectorToDehydratedPoint as m,projectVectorToPoint as c}from\"../../../geometry/projection.js\";import{Axis as l}from\"../../../geometry/support/Axis.js\";import{create as p,setExtent as d,altitudeAt as h,setAltitudeAt as u,setAltitudeOfTransformation as f,normalAt as y,axisAt as S,elevate as g,intersectRayClosestSilhouette as _,intersectRay as j,createGlobal as w,createLocal as A,renderSRFromViewSR as R}from\"../../../geometry/support/coordinateSystem.js\";import{intersectRay as C}from\"../../../geometry/support/plane.js\";import{angleAroundAxis as M}from\"../../../geometry/support/vector.js\";import{sv3d as P}from\"../../../geometry/support/vectorStacks.js\";import{isDehydratedPoint as b}from\"../../../layers/graphics/dehydratedFeatureUtils.js\";import{ViewingMode as v}from\"../../ViewingMode.js\";import{isSpatialReferenceSupported as U}from\"../../support/spatialReferenceSupport.js\";class x{constructor(t,e,o,r){this.viewingMode=t,this.spatialReference=e,this.unitInMeters=o,this._coordinateSystem=r,this._tmpCoordinateSystem=p(r)}set extent(t){t&&d(this._coordinateSystem,t,this._coordinateSystem)}getAltitude(t){return h(this._coordinateSystem,t)}setAltitude(t,e,o=t){return u(this._coordinateSystem,o,e,t)}setAltitudeOfTransformation(t,e){f(this._coordinateSystem,e,t,e)}worldUpAtPosition(t,e){return y(this._coordinateSystem,t,e)}worldBasisAtPosition(t,e,o){return S(this._coordinateSystem,t,e,o)}basisMatrixAtPosition(t,e){const o=this.worldBasisAtPosition(t,l.X,P.get()),s=this.worldBasisAtPosition(t,l.Y,P.get()),i=this.worldBasisAtPosition(t,l.Z,P.get());return r(e,o[0],o[1],o[2],0,s[0],s[1],s[2],0,i[0],i[1],i[2],0,0,0,0,1),e}headingAtPosition(e,o){const r=this.worldUpAtPosition(e,P.get()),s=this.worldBasisAtPosition(e,l.Y,P.get()),i=M(o,s,r);return t(i)}intersectManifoldClosestSilhouette(t,e,o){return g(this._coordinateSystem,e,this._tmpCoordinateSystem),_(this._tmpCoordinateSystem,t,o),o}intersectManifold(t,e,o){g(this._coordinateSystem,e,this._tmpCoordinateSystem);const r=P.get();return j(this._tmpCoordinateSystem,t,r)?s(o,r):null}intersectInfiniteManifold(t,e,o){if(this.viewingMode===v.Global)return this.intersectManifold(t,e,o);g(this._coordinateSystem,e,this._tmpCoordinateSystem);const r=this._tmpCoordinateSystem.value,i=P.get();return C(r.plane,t,i)?s(o,i):null}toRenderCoords(t,e,o){return b(t)?n(t,e,this.spatialReference):a(t,e,o,this.spatialReference)}fromRenderCoords(t,o,r=null){return b(o)?(e(r)&&(o.spatialReference=r),m(t,this.spatialReference,o)):i(o)?a(t,this.spatialReference,o,r)?o:null:c(t,this.spatialReference,o)}static create(t,e){switch(t){case v.Local:return new x(v.Local,e,o(e),A());case v.Global:return new x(v.Global,e,1,w(e))}}static renderUnitScaleFactor(t,e){return B(t)/B(e)}}function B(t){if(U(t,v.Global))return 1;const e=R(!1,t);return o(e)}export{x as RenderCoordsHelper};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}