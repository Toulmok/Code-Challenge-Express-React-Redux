{"ast":null,"code":"import _regeneratorRuntime from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { neverReached as t } from \"../../../../core/compilerUtils.js\";\nimport e from \"../../../../core/Error.js\";\nimport r from \"../../../../core/Evented.js\";\nimport { isPowerOfTwo as s, nextHighestPowerOfTwo as i } from \"../../../../core/mathUtils.js\";\nimport { isNone as a, isSome as o, removeMaybe as n } from \"../../../../core/maybe.js\";\nimport { throwIfAborted as h, onAbort as l, createAbortError as m } from \"../../../../core/promiseUtils.js\";\nimport { isArrayBuffer as p, isUint8Array as d } from \"../../../../core/typedArrayUtil.js\";\nimport { isBlobProtocol as _, isDataProtocol as c } from \"../../../../core/urlUtils.js\";\nimport { requestImage as u } from \"../../../../support/requestImageUtils.js\";\nimport { loadImageAsync as T } from \"../../../../support/requestUtils.js\";\nimport { T as g } from \"../../../../chunks/TextureOnly.glsl.js\";\nimport { PowerOfTwoResizeMode as f, TextureEncodingMimeType as w } from \"./basicInterfaces.js\";\nimport { estimateMemoryKTX2 as E, estimateMemoryBasis as A, createTextureKTX2 as x, createTextureBasis as D } from \"./BasisUtil.js\";\nimport { ContentObject as M } from \"./ContentObject.js\";\nimport { ContentObjectType as y } from \"./ContentObjectType.js\";\nimport { createDDSTexture as I } from \"./DDSUtil.js\";\nimport { createQuadVAO as F } from \"./glUtil3D.js\";\nimport { assert as O } from \"./Util.js\";\nimport { ContextType as R } from \"../../../webgl/context-util.js\";\nimport { TextureWrapMode as U, TextureType as P, PixelFormat as N, PixelType as b, TextureSamplingMode as C, TargetType as H, DepthStencilTargetType as V, PrimitiveType as v } from \"../../../webgl/enums.js\";\nimport { FramebufferObject as S } from \"../../../webgl/FramebufferObject.js\";\nimport { Texture as j } from \"../../../webgl/Texture.js\";\nimport { vertexCount as L } from \"../../../webgl/Util.js\";\nvar G = /*#__PURE__*/function (_M) {\n  _inherits(G, _M);\n  var _super = _createSuper(G);\n  function G(t, e) {\n    var _this;\n    _classCallCheck(this, G);\n    _this = _super.call(this), _this._data = t, _this.type = y.Texture, _this._glTexture = null, _this._powerOfTwoStretchInfo = null, _this._loadingPromise = null, _this._loadingController = null, _this.events = new r(), _this._passParameters = new g(), _this.params = e || {}, _this.params.mipmap = !1 !== _this.params.mipmap, _this.params.noUnpackFlip = _this.params.noUnpackFlip || !1, _this.params.preMultiplyAlpha = _this.params.preMultiplyAlpha || !1, _this.params.wrap = _this.params.wrap || {\n      s: U.REPEAT,\n      t: U.REPEAT\n    }, _this.params.powerOfTwoResizeMode = _this.params.powerOfTwoResizeMode || f.STRETCH, _this.estimatedTexMemRequired = G._estimateTexMemRequired(_this._data, _this.params), _this._startPreload();\n    return _this;\n  }\n  _createClass(G, [{\n    key: \"_startPreload\",\n    value: function _startPreload() {\n      var t = this._data;\n      a(t) || (t instanceof HTMLVideoElement ? this._startPreloadVideoElement(t) : t instanceof HTMLImageElement && this._startPreloadImageElement(t));\n    }\n  }, {\n    key: \"_startPreloadVideoElement\",\n    value: function _startPreloadVideoElement(t) {\n      if (!(_(t.src) || \"auto\" === t.preload && t.crossOrigin)) {\n        t.preload = \"auto\", t.crossOrigin = \"anonymous\";\n        var _e = !t.paused;\n        if (t.src = t.src, _e && t.autoplay) {\n          var _e2 = function _e2() {\n            t.removeEventListener(\"canplay\", _e2), t.play();\n          };\n          t.addEventListener(\"canplay\", _e2);\n        }\n      }\n    }\n  }, {\n    key: \"_startPreloadImageElement\",\n    value: function _startPreloadImageElement(t) {\n      c(t.src) || _(t.src) || t.crossOrigin || (t.crossOrigin = \"anonymous\", t.src = t.src);\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this._data = void 0;\n    }\n  }, {\n    key: \"width\",\n    get: function get() {\n      return this.params.width;\n    }\n  }, {\n    key: \"height\",\n    get: function get() {\n      return this.params.height;\n    }\n  }, {\n    key: \"_createDescriptor\",\n    value: function _createDescriptor(t) {\n      var _this$params$maxAniso;\n      return {\n        target: P.TEXTURE_2D,\n        pixelFormat: N.RGBA,\n        dataType: b.UNSIGNED_BYTE,\n        wrapMode: this.params.wrap,\n        flipped: !this.params.noUnpackFlip,\n        samplingMode: this.params.mipmap ? C.LINEAR_MIPMAP_LINEAR : C.LINEAR,\n        hasMipmap: this.params.mipmap,\n        preMultiplyAlpha: this.params.preMultiplyAlpha,\n        maxAnisotropy: (_this$params$maxAniso = this.params.maxAnisotropy) !== null && _this$params$maxAniso !== void 0 ? _this$params$maxAniso : this.params.mipmap ? t.parameters.maxMaxAnisotropy : 1\n      };\n    }\n  }, {\n    key: \"glTexture\",\n    get: function get() {\n      return this._glTexture;\n    }\n  }, {\n    key: \"load\",\n    value: function load(t, e) {\n      if (o(this._glTexture)) return this._glTexture;\n      if (o(this._loadingPromise)) return this._loadingPromise;\n      var r = this._data;\n      return a(r) ? (this._glTexture = new j(t, this._createDescriptor(t), null), this._glTexture) : \"string\" == typeof r ? this._loadFromURL(t, e, r) : r instanceof Image ? this._loadFromImageElement(t, e, r) : r instanceof HTMLVideoElement ? this._loadFromVideoElement(t, e, r) : r instanceof ImageData || r instanceof HTMLCanvasElement ? this._loadFromImage(t, r, e) : (p(r) || d(r)) && this.params.encoding === w.DDS_ENCODING ? (this._data = void 0, this._loadFromDDSData(t, r)) : (p(r) || d(r)) && this.params.encoding === w.KTX2_ENCODING ? (this._data = void 0, this._loadFromKTX2(t, r)) : (p(r) || d(r)) && this.params.encoding === w.BASIS_ENCODING ? (this._data = void 0, this._loadFromBasis(t, r)) : d(r) ? this._loadFromPixelData(t, r) : p(r) ? this._loadFromPixelData(t, new Uint8Array(r)) : null;\n    }\n  }, {\n    key: \"requiresFrameUpdates\",\n    get: function get() {\n      return this._data instanceof HTMLVideoElement;\n    }\n  }, {\n    key: \"frameUpdate\",\n    value: function frameUpdate(t, e, r) {\n      if (!(this._data instanceof HTMLVideoElement) || a(this._glTexture)) return r;\n      if (this._data.readyState < B.HAVE_CURRENT_DATA || r === this._data.currentTime) return r;\n      if (o(this._powerOfTwoStretchInfo)) {\n        var _this$_powerOfTwoStre = this._powerOfTwoStretchInfo,\n          _r = _this$_powerOfTwoStre.framebuffer,\n          _s = _this$_powerOfTwoStre.vao,\n          _i = _this$_powerOfTwoStre.sourceTexture;\n        _i.setData(this._data), this._drawStretchedTexture(t, e, _r, _s, _i, this._glTexture);\n      } else {\n        var _this$_data = this._data,\n          _t = _this$_data.videoWidth,\n          _e3 = _this$_data.videoHeight,\n          _this$_glTexture$desc = this._glTexture.descriptor,\n          _r2 = _this$_glTexture$desc.width,\n          _s2 = _this$_glTexture$desc.height;\n        _t !== _r2 || _e3 !== _s2 ? this._glTexture.updateData(0, 0, 0, Math.min(_t, _r2), Math.min(_e3, _s2), this._data) : this._glTexture.setData(this._data);\n      }\n      return this._glTexture.descriptor.hasMipmap && this._glTexture.generateMipmap(), this.params.updateCallback && this.params.updateCallback(), this._data.currentTime;\n    }\n  }, {\n    key: \"_loadFromDDSData\",\n    value: function _loadFromDDSData(t, e) {\n      return this._glTexture = I(t, this._createDescriptor(t), e), this._glTexture;\n    }\n  }, {\n    key: \"_loadFromKTX2\",\n    value: function _loadFromKTX2(t, e) {\n      var _this2 = this;\n      return this._loadAsync(function () {\n        return x(t, _this2._createDescriptor(t), e).then(function (t) {\n          return _this2._glTexture = t, t;\n        });\n      });\n    }\n  }, {\n    key: \"_loadFromBasis\",\n    value: function _loadFromBasis(t, e) {\n      var _this3 = this;\n      return this._loadAsync(function () {\n        return D(t, _this3._createDescriptor(t), e).then(function (t) {\n          return _this3._glTexture = t, t;\n        });\n      });\n    }\n  }, {\n    key: \"_loadFromPixelData\",\n    value: function _loadFromPixelData(t, e) {\n      O(this.params.width > 0 && this.params.height > 0);\n      var r = this._createDescriptor(t);\n      return r.pixelFormat = 1 === this.params.components ? N.LUMINANCE : 3 === this.params.components ? N.RGB : N.RGBA, r.width = this.params.width, r.height = this.params.height, this._glTexture = new j(t, r, e), this._glTexture;\n    }\n  }, {\n    key: \"_loadFromURL\",\n    value: function _loadFromURL(t, e, r) {\n      var _this4 = this;\n      return this._loadAsync( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(s) {\n          var i;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return u(r, {\n                  signal: s\n                });\n              case 2:\n                i = _context.sent;\n                return _context.abrupt(\"return\", (h(s), _this4._loadFromImage(t, i, e)));\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"_loadFromImageElement\",\n    value: function _loadFromImageElement(t, e, r) {\n      var _this5 = this;\n      return r.complete ? this._loadFromImage(t, r, e) : this._loadAsync( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(s) {\n          var i;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return T(r, r.src, !1, s);\n              case 2:\n                i = _context2.sent;\n                return _context2.abrupt(\"return\", (h(s), _this5._loadFromImage(t, i, e)));\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2);\n        }));\n        return function (_x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"_loadFromVideoElement\",\n    value: function _loadFromVideoElement(t, e, r) {\n      return r.readyState >= B.HAVE_CURRENT_DATA ? this._loadFromImage(t, r, e) : this._loadFromVideoElementAsync(t, e, r);\n    }\n  }, {\n    key: \"_loadFromVideoElementAsync\",\n    value: function _loadFromVideoElementAsync(t, r, s) {\n      var _this6 = this;\n      return this._loadAsync(function (i) {\n        return new Promise(function (a, o) {\n          var h = function h() {\n              s.removeEventListener(\"loadeddata\", p), s.removeEventListener(\"error\", d), n(_);\n            },\n            p = function p() {\n              s.readyState >= B.HAVE_CURRENT_DATA && (h(), a(_this6._loadFromImage(t, s, r)));\n            },\n            d = function d(t) {\n              h(), o(t || new e(\"Failed to load video\"));\n            };\n          s.addEventListener(\"loadeddata\", p), s.addEventListener(\"error\", d);\n          var _ = l(i, function () {\n            return d(m());\n          });\n        });\n      });\n    }\n  }, {\n    key: \"_loadFromImage\",\n    value: function _loadFromImage(t, e, r) {\n      var i = G._getDataDimensions(e);\n      this.params.width = i.width, this.params.height = i.height;\n      var a = this._createDescriptor(t);\n      return a.pixelFormat = 3 === this.params.components ? N.RGB : N.RGBA, !this._requiresPowerOfTwo(t, a) || s(i.width) && s(i.height) ? (a.width = i.width, a.height = i.height, this._glTexture = new j(t, a, e), this._glTexture) : (this._glTexture = this._makePowerOfTwoTexture(t, e, i, a, r), this._glTexture);\n    }\n  }, {\n    key: \"_loadAsync\",\n    value: function _loadAsync(t) {\n      var _this7 = this;\n      var e = new AbortController();\n      this._loadingController = e;\n      var r = t(e.signal);\n      this._loadingPromise = r;\n      var s = function s() {\n        _this7._loadingController === e && (_this7._loadingController = null), _this7._loadingPromise === r && (_this7._loadingPromise = null);\n      };\n      return r.then(s, s), r;\n    }\n  }, {\n    key: \"_requiresPowerOfTwo\",\n    value: function _requiresPowerOfTwo(t, e) {\n      var r = U.CLAMP_TO_EDGE,\n        s = \"number\" == typeof e.wrapMode ? e.wrapMode === r : e.wrapMode.s === r && e.wrapMode.t === r;\n      return t.type === R.WEBGL1 && (e.hasMipmap || !s);\n    }\n  }, {\n    key: \"_makePowerOfTwoTexture\",\n    value: function _makePowerOfTwoTexture(e, r, s, a, o) {\n      var n = s.width,\n        h = s.height,\n        l = i(n),\n        m = i(h);\n      var p;\n      switch (a.width = l, a.height = m, this.params.powerOfTwoResizeMode) {\n        case f.PAD:\n          a.textureCoordinateScaleFactor = [n / l, h / m], p = new j(e, a), p.updateData(0, 0, 0, n, h, r);\n          break;\n        case f.STRETCH:\n        case null:\n        case void 0:\n          p = this._stretchToPowerOfTwo(e, r, a, o());\n          break;\n        default:\n          t(this.params.powerOfTwoResizeMode);\n      }\n      return a.hasMipmap && p.generateMipmap(), p;\n    }\n  }, {\n    key: \"_stretchToPowerOfTwo\",\n    value: function _stretchToPowerOfTwo(t, e, r, s) {\n      var i = new j(t, r),\n        a = new S(t, {\n          colorTarget: H.TEXTURE,\n          depthStencilTarget: V.NONE\n        }, i),\n        o = new j(t, {\n          target: P.TEXTURE_2D,\n          pixelFormat: r.pixelFormat,\n          dataType: b.UNSIGNED_BYTE,\n          wrapMode: U.CLAMP_TO_EDGE,\n          samplingMode: C.LINEAR,\n          flipped: !!r.flipped,\n          maxAnisotropy: 8,\n          preMultiplyAlpha: r.preMultiplyAlpha\n        }, e),\n        n = F(t),\n        h = t.getBoundFramebufferObject();\n      return this._drawStretchedTexture(t, s, a, n, o, i), this.requiresFrameUpdates ? this._powerOfTwoStretchInfo = {\n        vao: n,\n        sourceTexture: o,\n        framebuffer: a\n      } : (n.dispose(!0), o.dispose(), a.detachColorTexture(), a.dispose()), t.bindFramebuffer(h), i;\n    }\n  }, {\n    key: \"_drawStretchedTexture\",\n    value: function _drawStretchedTexture(t, e, r, s, i, a) {\n      this._passParameters.texture = i, t.bindFramebuffer(r);\n      var o = t.getViewport();\n      t.setViewport(0, 0, a.descriptor.width, a.descriptor.height), t.bindTechnique(e, this._passParameters, null), t.bindVAO(s), t.drawArrays(v.TRIANGLE_STRIP, 0, L(s, \"geometry\")), t.bindFramebuffer(null), t.setViewport(o.x, o.y, o.width, o.height), this._passParameters.texture = null;\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      if (o(this._powerOfTwoStretchInfo)) {\n        var _this$_powerOfTwoStre2 = this._powerOfTwoStretchInfo,\n          _t2 = _this$_powerOfTwoStre2.framebuffer,\n          _e4 = _this$_powerOfTwoStre2.vao,\n          _r3 = _this$_powerOfTwoStre2.sourceTexture;\n        _e4.dispose(!0), _r3.dispose(), _t2.dispose(), this._glTexture = null, this._powerOfTwoStretchInfo = null;\n      }\n      if (o(this._glTexture) && (this._glTexture.dispose(), this._glTexture = null), o(this._loadingController)) {\n        var _t3 = this._loadingController;\n        this._loadingController = null, this._loadingPromise = null, _t3.abort();\n      }\n      this.events.emit(\"unloaded\");\n    }\n  }], [{\n    key: \"_getDataDimensions\",\n    value: function _getDataDimensions(t) {\n      return t instanceof HTMLVideoElement ? {\n        width: t.videoWidth,\n        height: t.videoHeight\n      } : t;\n    }\n  }, {\n    key: \"_estimateTexMemRequired\",\n    value: function _estimateTexMemRequired(t, e) {\n      if (a(t)) return 0;\n      if (p(t) || d(t)) return e.encoding === w.KTX2_ENCODING ? E(t, !!e.mipmap) : e.encoding === w.BASIS_ENCODING ? A(t, !!e.mipmap) : t.byteLength;\n      var _ref3 = t instanceof Image || t instanceof ImageData || t instanceof HTMLCanvasElement || t instanceof HTMLVideoElement ? G._getDataDimensions(t) : e,\n        r = _ref3.width,\n        s = _ref3.height;\n      return (e.mipmap ? 4 / 3 : 1) * r * s * (e.components || 4) || 0;\n    }\n  }]);\n  return G;\n}(M);\nvar B;\n!function (t) {\n  t[t.HAVE_NOTHING = 0] = \"HAVE_NOTHING\", t[t.HAVE_METADATA = 1] = \"HAVE_METADATA\", t[t.HAVE_CURRENT_DATA = 2] = \"HAVE_CURRENT_DATA\", t[t.HAVE_FUTURE_DATA = 3] = \"HAVE_FUTURE_DATA\", t[t.HAVE_ENOUGH_DATA = 4] = \"HAVE_ENOUGH_DATA\";\n}(B || (B = {}));\nexport { G as Texture };","map":{"version":3,"names":["neverReached","t","e","r","isPowerOfTwo","s","nextHighestPowerOfTwo","i","isNone","a","isSome","o","removeMaybe","n","throwIfAborted","h","onAbort","l","createAbortError","m","isArrayBuffer","p","isUint8Array","d","isBlobProtocol","_","isDataProtocol","c","requestImage","u","loadImageAsync","T","g","PowerOfTwoResizeMode","f","TextureEncodingMimeType","w","estimateMemoryKTX2","E","estimateMemoryBasis","A","createTextureKTX2","x","createTextureBasis","D","ContentObject","M","ContentObjectType","y","createDDSTexture","I","createQuadVAO","F","assert","O","ContextType","R","TextureWrapMode","U","TextureType","P","PixelFormat","N","PixelType","b","TextureSamplingMode","C","TargetType","H","DepthStencilTargetType","V","PrimitiveType","v","FramebufferObject","S","Texture","j","vertexCount","L","G","_M","_inherits","_super","_createSuper","_this","_classCallCheck","call","_data","type","_glTexture","_powerOfTwoStretchInfo","_loadingPromise","_loadingController","events","_passParameters","params","mipmap","noUnpackFlip","preMultiplyAlpha","wrap","REPEAT","powerOfTwoResizeMode","STRETCH","estimatedTexMemRequired","_estimateTexMemRequired","_startPreload","_createClass","key","value","HTMLVideoElement","_startPreloadVideoElement","HTMLImageElement","_startPreloadImageElement","src","preload","crossOrigin","paused","autoplay","removeEventListener","play","addEventListener","dispose","get","width","height","_createDescriptor","_this$params$maxAniso","target","TEXTURE_2D","pixelFormat","RGBA","dataType","UNSIGNED_BYTE","wrapMode","flipped","samplingMode","LINEAR_MIPMAP_LINEAR","LINEAR","hasMipmap","maxAnisotropy","parameters","maxMaxAnisotropy","load","_loadFromURL","Image","_loadFromImageElement","_loadFromVideoElement","ImageData","HTMLCanvasElement","_loadFromImage","encoding","DDS_ENCODING","_loadFromDDSData","KTX2_ENCODING","_loadFromKTX2","BASIS_ENCODING","_loadFromBasis","_loadFromPixelData","Uint8Array","frameUpdate","readyState","B","HAVE_CURRENT_DATA","currentTime","_this$_powerOfTwoStre","framebuffer","vao","sourceTexture","setData","_drawStretchedTexture","_this$_data","videoWidth","videoHeight","_this$_glTexture$desc","descriptor","updateData","Math","min","generateMipmap","updateCallback","_this2","_loadAsync","then","_this3","components","LUMINANCE","RGB","_this4","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_callee$","_context","prev","next","signal","sent","abrupt","stop","_x","apply","arguments","_this5","complete","_ref2","_callee2","_callee2$","_context2","_x2","_loadFromVideoElementAsync","_this6","Promise","_getDataDimensions","_requiresPowerOfTwo","_makePowerOfTwoTexture","_this7","AbortController","CLAMP_TO_EDGE","WEBGL1","PAD","textureCoordinateScaleFactor","_stretchToPowerOfTwo","colorTarget","TEXTURE","depthStencilTarget","NONE","getBoundFramebufferObject","requiresFrameUpdates","detachColorTexture","bindFramebuffer","texture","getViewport","setViewport","bindTechnique","bindVAO","drawArrays","TRIANGLE_STRIP","unload","_this$_powerOfTwoStre2","abort","emit","byteLength","_ref3","HAVE_NOTHING","HAVE_METADATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{neverReached as t}from\"../../../../core/compilerUtils.js\";import e from\"../../../../core/Error.js\";import r from\"../../../../core/Evented.js\";import{isPowerOfTwo as s,nextHighestPowerOfTwo as i}from\"../../../../core/mathUtils.js\";import{isNone as a,isSome as o,removeMaybe as n}from\"../../../../core/maybe.js\";import{throwIfAborted as h,onAbort as l,createAbortError as m}from\"../../../../core/promiseUtils.js\";import{isArrayBuffer as p,isUint8Array as d}from\"../../../../core/typedArrayUtil.js\";import{isBlobProtocol as _,isDataProtocol as c}from\"../../../../core/urlUtils.js\";import{requestImage as u}from\"../../../../support/requestImageUtils.js\";import{loadImageAsync as T}from\"../../../../support/requestUtils.js\";import{T as g}from\"../../../../chunks/TextureOnly.glsl.js\";import{PowerOfTwoResizeMode as f,TextureEncodingMimeType as w}from\"./basicInterfaces.js\";import{estimateMemoryKTX2 as E,estimateMemoryBasis as A,createTextureKTX2 as x,createTextureBasis as D}from\"./BasisUtil.js\";import{ContentObject as M}from\"./ContentObject.js\";import{ContentObjectType as y}from\"./ContentObjectType.js\";import{createDDSTexture as I}from\"./DDSUtil.js\";import{createQuadVAO as F}from\"./glUtil3D.js\";import{assert as O}from\"./Util.js\";import{ContextType as R}from\"../../../webgl/context-util.js\";import{TextureWrapMode as U,TextureType as P,PixelFormat as N,PixelType as b,TextureSamplingMode as C,TargetType as H,DepthStencilTargetType as V,PrimitiveType as v}from\"../../../webgl/enums.js\";import{FramebufferObject as S}from\"../../../webgl/FramebufferObject.js\";import{Texture as j}from\"../../../webgl/Texture.js\";import{vertexCount as L}from\"../../../webgl/Util.js\";class G extends M{constructor(t,e){super(),this._data=t,this.type=y.Texture,this._glTexture=null,this._powerOfTwoStretchInfo=null,this._loadingPromise=null,this._loadingController=null,this.events=new r,this._passParameters=new g,this.params=e||{},this.params.mipmap=!1!==this.params.mipmap,this.params.noUnpackFlip=this.params.noUnpackFlip||!1,this.params.preMultiplyAlpha=this.params.preMultiplyAlpha||!1,this.params.wrap=this.params.wrap||{s:U.REPEAT,t:U.REPEAT},this.params.powerOfTwoResizeMode=this.params.powerOfTwoResizeMode||f.STRETCH,this.estimatedTexMemRequired=G._estimateTexMemRequired(this._data,this.params),this._startPreload()}_startPreload(){const t=this._data;a(t)||(t instanceof HTMLVideoElement?this._startPreloadVideoElement(t):t instanceof HTMLImageElement&&this._startPreloadImageElement(t))}_startPreloadVideoElement(t){if(!(_(t.src)||\"auto\"===t.preload&&t.crossOrigin)){t.preload=\"auto\",t.crossOrigin=\"anonymous\";const e=!t.paused;if(t.src=t.src,e&&t.autoplay){const e=()=>{t.removeEventListener(\"canplay\",e),t.play()};t.addEventListener(\"canplay\",e)}}}_startPreloadImageElement(t){c(t.src)||_(t.src)||t.crossOrigin||(t.crossOrigin=\"anonymous\",t.src=t.src)}static _getDataDimensions(t){return t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:t}static _estimateTexMemRequired(t,e){if(a(t))return 0;if(p(t)||d(t))return e.encoding===w.KTX2_ENCODING?E(t,!!e.mipmap):e.encoding===w.BASIS_ENCODING?A(t,!!e.mipmap):t.byteLength;const{width:r,height:s}=t instanceof Image||t instanceof ImageData||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement?G._getDataDimensions(t):e;return(e.mipmap?4/3:1)*r*s*(e.components||4)||0}dispose(){this._data=void 0}get width(){return this.params.width}get height(){return this.params.height}_createDescriptor(t){return{target:P.TEXTURE_2D,pixelFormat:N.RGBA,dataType:b.UNSIGNED_BYTE,wrapMode:this.params.wrap,flipped:!this.params.noUnpackFlip,samplingMode:this.params.mipmap?C.LINEAR_MIPMAP_LINEAR:C.LINEAR,hasMipmap:this.params.mipmap,preMultiplyAlpha:this.params.preMultiplyAlpha,maxAnisotropy:this.params.maxAnisotropy??(this.params.mipmap?t.parameters.maxMaxAnisotropy:1)}}get glTexture(){return this._glTexture}load(t,e){if(o(this._glTexture))return this._glTexture;if(o(this._loadingPromise))return this._loadingPromise;const r=this._data;return a(r)?(this._glTexture=new j(t,this._createDescriptor(t),null),this._glTexture):\"string\"==typeof r?this._loadFromURL(t,e,r):r instanceof Image?this._loadFromImageElement(t,e,r):r instanceof HTMLVideoElement?this._loadFromVideoElement(t,e,r):r instanceof ImageData||r instanceof HTMLCanvasElement?this._loadFromImage(t,r,e):(p(r)||d(r))&&this.params.encoding===w.DDS_ENCODING?(this._data=void 0,this._loadFromDDSData(t,r)):(p(r)||d(r))&&this.params.encoding===w.KTX2_ENCODING?(this._data=void 0,this._loadFromKTX2(t,r)):(p(r)||d(r))&&this.params.encoding===w.BASIS_ENCODING?(this._data=void 0,this._loadFromBasis(t,r)):d(r)?this._loadFromPixelData(t,r):p(r)?this._loadFromPixelData(t,new Uint8Array(r)):null}get requiresFrameUpdates(){return this._data instanceof HTMLVideoElement}frameUpdate(t,e,r){if(!(this._data instanceof HTMLVideoElement)||a(this._glTexture))return r;if(this._data.readyState<B.HAVE_CURRENT_DATA||r===this._data.currentTime)return r;if(o(this._powerOfTwoStretchInfo)){const{framebuffer:r,vao:s,sourceTexture:i}=this._powerOfTwoStretchInfo;i.setData(this._data),this._drawStretchedTexture(t,e,r,s,i,this._glTexture)}else{const{videoWidth:t,videoHeight:e}=this._data,{width:r,height:s}=this._glTexture.descriptor;t!==r||e!==s?this._glTexture.updateData(0,0,0,Math.min(t,r),Math.min(e,s),this._data):this._glTexture.setData(this._data)}return this._glTexture.descriptor.hasMipmap&&this._glTexture.generateMipmap(),this.params.updateCallback&&this.params.updateCallback(),this._data.currentTime}_loadFromDDSData(t,e){return this._glTexture=I(t,this._createDescriptor(t),e),this._glTexture}_loadFromKTX2(t,e){return this._loadAsync((()=>x(t,this._createDescriptor(t),e).then((t=>(this._glTexture=t,t)))))}_loadFromBasis(t,e){return this._loadAsync((()=>D(t,this._createDescriptor(t),e).then((t=>(this._glTexture=t,t)))))}_loadFromPixelData(t,e){O(this.params.width>0&&this.params.height>0);const r=this._createDescriptor(t);return r.pixelFormat=1===this.params.components?N.LUMINANCE:3===this.params.components?N.RGB:N.RGBA,r.width=this.params.width,r.height=this.params.height,this._glTexture=new j(t,r,e),this._glTexture}_loadFromURL(t,e,r){return this._loadAsync((async s=>{const i=await u(r,{signal:s});return h(s),this._loadFromImage(t,i,e)}))}_loadFromImageElement(t,e,r){return r.complete?this._loadFromImage(t,r,e):this._loadAsync((async s=>{const i=await T(r,r.src,!1,s);return h(s),this._loadFromImage(t,i,e)}))}_loadFromVideoElement(t,e,r){return r.readyState>=B.HAVE_CURRENT_DATA?this._loadFromImage(t,r,e):this._loadFromVideoElementAsync(t,e,r)}_loadFromVideoElementAsync(t,r,s){return this._loadAsync((i=>new Promise(((a,o)=>{const h=()=>{s.removeEventListener(\"loadeddata\",p),s.removeEventListener(\"error\",d),n(_)},p=()=>{s.readyState>=B.HAVE_CURRENT_DATA&&(h(),a(this._loadFromImage(t,s,r)))},d=t=>{h(),o(t||new e(\"Failed to load video\"))};s.addEventListener(\"loadeddata\",p),s.addEventListener(\"error\",d);const _=l(i,(()=>d(m())))}))))}_loadFromImage(t,e,r){const i=G._getDataDimensions(e);this.params.width=i.width,this.params.height=i.height;const a=this._createDescriptor(t);return a.pixelFormat=3===this.params.components?N.RGB:N.RGBA,!this._requiresPowerOfTwo(t,a)||s(i.width)&&s(i.height)?(a.width=i.width,a.height=i.height,this._glTexture=new j(t,a,e),this._glTexture):(this._glTexture=this._makePowerOfTwoTexture(t,e,i,a,r),this._glTexture)}_loadAsync(t){const e=new AbortController;this._loadingController=e;const r=t(e.signal);this._loadingPromise=r;const s=()=>{this._loadingController===e&&(this._loadingController=null),this._loadingPromise===r&&(this._loadingPromise=null)};return r.then(s,s),r}_requiresPowerOfTwo(t,e){const r=U.CLAMP_TO_EDGE,s=\"number\"==typeof e.wrapMode?e.wrapMode===r:e.wrapMode.s===r&&e.wrapMode.t===r;return t.type===R.WEBGL1&&(e.hasMipmap||!s)}_makePowerOfTwoTexture(e,r,s,a,o){const{width:n,height:h}=s,l=i(n),m=i(h);let p;switch(a.width=l,a.height=m,this.params.powerOfTwoResizeMode){case f.PAD:a.textureCoordinateScaleFactor=[n/l,h/m],p=new j(e,a),p.updateData(0,0,0,n,h,r);break;case f.STRETCH:case null:case void 0:p=this._stretchToPowerOfTwo(e,r,a,o());break;default:t(this.params.powerOfTwoResizeMode)}return a.hasMipmap&&p.generateMipmap(),p}_stretchToPowerOfTwo(t,e,r,s){const i=new j(t,r),a=new S(t,{colorTarget:H.TEXTURE,depthStencilTarget:V.NONE},i),o=new j(t,{target:P.TEXTURE_2D,pixelFormat:r.pixelFormat,dataType:b.UNSIGNED_BYTE,wrapMode:U.CLAMP_TO_EDGE,samplingMode:C.LINEAR,flipped:!!r.flipped,maxAnisotropy:8,preMultiplyAlpha:r.preMultiplyAlpha},e),n=F(t),h=t.getBoundFramebufferObject();return this._drawStretchedTexture(t,s,a,n,o,i),this.requiresFrameUpdates?this._powerOfTwoStretchInfo={vao:n,sourceTexture:o,framebuffer:a}:(n.dispose(!0),o.dispose(),a.detachColorTexture(),a.dispose()),t.bindFramebuffer(h),i}_drawStretchedTexture(t,e,r,s,i,a){this._passParameters.texture=i,t.bindFramebuffer(r);const o=t.getViewport();t.setViewport(0,0,a.descriptor.width,a.descriptor.height),t.bindTechnique(e,this._passParameters,null),t.bindVAO(s),t.drawArrays(v.TRIANGLE_STRIP,0,L(s,\"geometry\")),t.bindFramebuffer(null),t.setViewport(o.x,o.y,o.width,o.height),this._passParameters.texture=null}unload(){if(o(this._powerOfTwoStretchInfo)){const{framebuffer:t,vao:e,sourceTexture:r}=this._powerOfTwoStretchInfo;e.dispose(!0),r.dispose(),t.dispose(),this._glTexture=null,this._powerOfTwoStretchInfo=null}if(o(this._glTexture)&&(this._glTexture.dispose(),this._glTexture=null),o(this._loadingController)){const t=this._loadingController;this._loadingController=null,this._loadingPromise=null,t.abort()}this.events.emit(\"unloaded\")}}var B;!function(t){t[t.HAVE_NOTHING=0]=\"HAVE_NOTHING\",t[t.HAVE_METADATA=1]=\"HAVE_METADATA\",t[t.HAVE_CURRENT_DATA=2]=\"HAVE_CURRENT_DATA\",t[t.HAVE_FUTURE_DATA=3]=\"HAVE_FUTURE_DATA\",t[t.HAVE_ENOUGH_DATA=4]=\"HAVE_ENOUGH_DATA\"}(B||(B={}));export{G as Texture};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}