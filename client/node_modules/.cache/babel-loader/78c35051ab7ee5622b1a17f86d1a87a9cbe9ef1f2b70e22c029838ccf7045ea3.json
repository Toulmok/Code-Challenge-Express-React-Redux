{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { secondsFromMilliseconds as e } from \"../../../../core/time.js\";\nimport { f as t } from \"../../../../chunks/vec2f64.js\";\nimport { f as r } from \"../../../../chunks/vec4f64.js\";\nimport { ShaderOutput as i } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { AnimationTimer as a } from \"../lib/AnimationTimer.js\";\nimport { MaterialParameters as s } from \"../lib/Material.js\";\nimport { OITPolygonOffsetLimit as n } from \"../lib/OrderIndependentTransparency.js\";\nimport { RenderSlot as o } from \"../lib/RenderSlot.js\";\nimport { DefaultBufferWriter as h } from \"./DefaultBufferWriter.js\";\nimport { PositionUVLayout as c } from \"./DefaultLayouts.js\";\nimport { TriangleMaterial as p } from \"./TriangleMaterial.js\";\nimport { WaterGLMaterial as m } from \"./WaterGLMaterial.js\";\nimport { WaterTechniqueConfiguration as l } from \"./WaterTechnique.js\";\nclass u extends p {\n  constructor(e) {\n    super(e, new f()), this._configuration = new l(), this.animation = new a();\n  }\n  getConfiguration(e, t) {\n    return this._configuration.output = e, this._configuration.writeDepth = this.parameters.writeDepth, this._configuration.receiveShadows = this.parameters.receiveShadows, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.transparent = this.parameters.transparent, this._configuration.hasScreenSpaceReflections = this.parameters.hasScreenSpaceReflections, this._configuration.hasCloudsReflections = this.parameters.hasCloudsReflections, this._configuration.isDraped = this.parameters.isDraped, this._configuration.transparencyPassType = t.transparencyPassType, this._configuration.enableOffset = t.camera.relativeElevation < n, this._configuration.hasMultipassTerrain = t.multipassTerrain.enabled, this._configuration.cullAboveGround = t.multipassTerrain.cullAboveGround, this._configuration;\n  }\n  update(t) {\n    const r = Math.min(t.camera.relativeElevation, t.camera.distance);\n    this.animation.enabled = Math.sqrt(this.parameters.waveTextureRepeat / this.parameters.waveStrength) * r < d;\n    const i = this.animation.advance(t);\n    return this.setParameters({\n      timeElapsed: e(this.animation.time) * this.parameters.animationSpeed\n    }, !1), this.animation.enabled && i;\n  }\n  requiresSlot(e, t) {\n    switch (t) {\n      case i.Normal:\n        return e === o.DRAPED_WATER;\n      case i.Color:\n        if (this.parameters.isDraped) return e === o.DRAPED_MATERIAL;\n        break;\n      case i.Alpha:\n        break;\n      case i.Highlight:\n        return e === o.OPAQUE_MATERIAL || e === o.DRAPED_MATERIAL;\n      default:\n        return !1;\n    }\n    let r = o.OPAQUE_MATERIAL;\n    return this.parameters.transparent && (r = this.parameters.writeDepth ? o.TRANSPARENT_MATERIAL : o.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL), e === r;\n  }\n  createGLMaterial(e) {\n    return new m(e);\n  }\n  createBufferWriter() {\n    return new h(c);\n  }\n}\nclass f extends s {\n  constructor() {\n    super(...arguments), this.waveStrength = .06, this.waveTextureRepeat = 32, this.waveDirection = t(1, 0), this.waveVelocity = .05, this.flowStrength = .015, this.flowOffset = -.5, this.animationSpeed = .35, this.timeElapsed = 0, this.color = r(0, 0, 0, 0), this.transparent = !0, this.writeDepth = !0, this.hasSlicePlane = !1, this.isDraped = !1, this.receiveShadows = !0, this.hasScreenSpaceReflections = !1, this.hasCloudsReflections = !1;\n  }\n}\nconst d = 35e3;\nexport { u as WaterMaterial, f as WaterMaterialParameters };","map":{"version":3,"names":["secondsFromMilliseconds","e","f","t","r","ShaderOutput","i","AnimationTimer","a","MaterialParameters","s","OITPolygonOffsetLimit","n","RenderSlot","o","DefaultBufferWriter","h","PositionUVLayout","c","TriangleMaterial","p","WaterGLMaterial","m","WaterTechniqueConfiguration","l","u","constructor","_configuration","animation","getConfiguration","output","writeDepth","parameters","receiveShadows","hasSlicePlane","transparent","hasScreenSpaceReflections","hasCloudsReflections","isDraped","transparencyPassType","enableOffset","camera","relativeElevation","hasMultipassTerrain","multipassTerrain","enabled","cullAboveGround","update","Math","min","distance","sqrt","waveTextureRepeat","waveStrength","d","advance","setParameters","timeElapsed","time","animationSpeed","requiresSlot","Normal","DRAPED_WATER","Color","DRAPED_MATERIAL","Alpha","Highlight","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","createGLMaterial","createBufferWriter","arguments","waveDirection","waveVelocity","flowStrength","flowOffset","color","WaterMaterial","WaterMaterialParameters"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{secondsFromMilliseconds as e}from\"../../../../core/time.js\";import{f as t}from\"../../../../chunks/vec2f64.js\";import{f as r}from\"../../../../chunks/vec4f64.js\";import{ShaderOutput as i}from\"../core/shaderLibrary/ShaderOutput.js\";import{AnimationTimer as a}from\"../lib/AnimationTimer.js\";import{MaterialParameters as s}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as n}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as o}from\"../lib/RenderSlot.js\";import{DefaultBufferWriter as h}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as c}from\"./DefaultLayouts.js\";import{TriangleMaterial as p}from\"./TriangleMaterial.js\";import{WaterGLMaterial as m}from\"./WaterGLMaterial.js\";import{WaterTechniqueConfiguration as l}from\"./WaterTechnique.js\";class u extends p{constructor(e){super(e,new f),this._configuration=new l,this.animation=new a}getConfiguration(e,t){return this._configuration.output=e,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.receiveShadows=this.parameters.receiveShadows,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.hasScreenSpaceReflections=this.parameters.hasScreenSpaceReflections,this._configuration.hasCloudsReflections=this.parameters.hasCloudsReflections,this._configuration.isDraped=this.parameters.isDraped,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<n,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}update(t){const r=Math.min(t.camera.relativeElevation,t.camera.distance);this.animation.enabled=Math.sqrt(this.parameters.waveTextureRepeat/this.parameters.waveStrength)*r<d;const i=this.animation.advance(t);return this.setParameters({timeElapsed:e(this.animation.time)*this.parameters.animationSpeed},!1),this.animation.enabled&&i}requiresSlot(e,t){switch(t){case i.Normal:return e===o.DRAPED_WATER;case i.Color:if(this.parameters.isDraped)return e===o.DRAPED_MATERIAL;break;case i.Alpha:break;case i.Highlight:return e===o.OPAQUE_MATERIAL||e===o.DRAPED_MATERIAL;default:return!1}let r=o.OPAQUE_MATERIAL;return this.parameters.transparent&&(r=this.parameters.writeDepth?o.TRANSPARENT_MATERIAL:o.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),e===r}createGLMaterial(e){return new m(e)}createBufferWriter(){return new h(c)}}class f extends s{constructor(){super(...arguments),this.waveStrength=.06,this.waveTextureRepeat=32,this.waveDirection=t(1,0),this.waveVelocity=.05,this.flowStrength=.015,this.flowOffset=-.5,this.animationSpeed=.35,this.timeElapsed=0,this.color=r(0,0,0,0),this.transparent=!0,this.writeDepth=!0,this.hasSlicePlane=!1,this.isDraped=!1,this.receiveShadows=!0,this.hasScreenSpaceReflections=!1,this.hasCloudsReflections=!1}}const d=35e3;export{u as WaterMaterial,f as WaterMaterialParameters};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}