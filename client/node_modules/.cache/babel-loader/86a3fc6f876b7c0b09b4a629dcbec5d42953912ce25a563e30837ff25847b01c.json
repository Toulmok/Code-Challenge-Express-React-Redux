{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isNone as e, isSome as s } from \"../../../../../core/maybe.js\";\nimport { GridIndex as o, tileCoordChange as t } from \"./util.js\";\nconst l = 32,\n  i = 8,\n  n = 64;\nclass r {\n  constructor(e, s, o) {\n    this.tileCoordRange = e, this._visibleTiles = s, this._createUnique = o, this._tiles = new Map(), this._uniqueSymbolsReferences = new Map();\n  }\n  get uniqueSymbols() {\n    return e(this._uniqueSymbolLayerArray) && (this._uniqueSymbolLayerArray = this._createUniqueSymbolLayerArray()), this._uniqueSymbolLayerArray;\n  }\n  add(e, s) {\n    this._uniqueSymbolLayerArray = null;\n    let t = this._tiles.get(e.id);\n    t || (t = {\n      symbols: new Map()\n    }, this._tiles.set(e.id, t));\n    const r = new Map();\n    if (s) for (const o of s) t.symbols.has(o) && (r.set(o, t.symbols.get(o)), t.symbols.delete(o));else for (const [o, l] of e.layerData) t.symbols.has(o) && (r.set(o, t.symbols.get(o)), t.symbols.delete(o));\n    this._removeSymbols(r);\n    const y = e.symbols,\n      a = new Map();\n    for (const [f, c] of y) {\n      let e = c.length;\n      if (e >= l) {\n        let s = this.tileCoordRange;\n        do {\n          s /= 2, e /= 4;\n        } while (e > i && s > n);\n        const l = new o(this.tileCoordRange, this.tileCoordRange, s);\n        a.set(f, {\n          flat: c,\n          index: l\n        }), t.symbols.set(f, {\n          flat: c,\n          index: l\n        });\n        for (const e of c) l.getCell(e.xTile, e.yTile).push(e);\n      } else a.set(f, {\n        flat: c\n      }), t.symbols.set(f, {\n        flat: c\n      });\n    }\n    this._addSymbols(e.key, y);\n  }\n  deleteStyleLayers(e) {\n    this._uniqueSymbolLayerArray = null;\n    for (const [s, o] of this._tiles) {\n      const t = new Map();\n      for (const s of e) o.symbols.has(s) && (t.set(s, o.symbols.get(s)), o.symbols.delete(s));\n      this._removeSymbols(t), 0 === o.symbols.size && this._tiles.delete(s);\n    }\n  }\n  removeTile(e) {\n    this._uniqueSymbolLayerArray = null;\n    const s = this._tiles.get(e.id);\n    if (!s) return;\n    const o = new Map();\n    for (const [t, l] of e.symbols) s.symbols.has(t) && (o.set(t, s.symbols.get(t)), s.symbols.delete(t));\n    this._removeSymbols(o), 0 === s.symbols.size && this._tiles.delete(e.id);\n  }\n  _removeSymbols(e) {\n    for (const [s, {\n      flat: o\n    }] of e) for (const e of o) {\n      const o = e.unique,\n        t = o.tileSymbols,\n        l = t.length - 1;\n      for (let s = 0; s < l; s++) if (t[s] === e) {\n        t[s] = t[l];\n        break;\n      }\n      if (t.length = l, 0 === l) {\n        const e = this._uniqueSymbolsReferences.get(s);\n        e.delete(o), 0 === e.size && this._uniqueSymbolsReferences.delete(s);\n      }\n      e.unique = null;\n    }\n  }\n  _addSymbols(s, o) {\n    if (0 === o.size) return;\n    const t = this._visibleTiles;\n    for (const e of t) e.parentTile || e.key.world !== s.world || e.key.level === s.level && !e.key.equals(s) || this._matchSymbols(e, s, o);\n    for (const [l, i] of o) for (const s of i) if (e(s.unique)) {\n      const e = this._createUnique();\n      s.unique = e, e.tileSymbols.push(s);\n      let o = this._uniqueSymbolsReferences.get(l);\n      o || (o = new Set(), this._uniqueSymbolsReferences.set(l, o)), o.add(e);\n    }\n  }\n  _matchSymbols(e, o, l) {\n    if (e.key.level > o.level) {\n      const s = e.key.level - o.level;\n      if (e.key.row >> s !== o.row || e.key.col >> s !== o.col) return;\n    }\n    if (o.level > e.key.level) {\n      const s = o.level - e.key.level;\n      if (o.row >> s !== e.key.row || o.col >> s !== e.key.col) return;\n    }\n    if (o.equals(e.key)) {\n      for (const s of e.childrenTiles) this._matchSymbols(s, o, l);\n      return;\n    }\n    const i = new Map();\n    for (const [n, r] of l) {\n      const l = [];\n      for (const s of r) {\n        const i = t(this.tileCoordRange, s.xTile, o.level, o.col, e.key.level, e.key.col),\n          n = t(this.tileCoordRange, s.yTile, o.level, o.row, e.key.level, e.key.row);\n        i >= 0 && i < this.tileCoordRange && n >= 0 && n < this.tileCoordRange && l.push({\n          symbol: s,\n          xTransformed: i,\n          yTransformed: n\n        });\n      }\n      const y = [],\n        a = e.key.level < o.level ? 1 : 1 << e.key.level - o.level,\n        f = this._tiles.get(e.id).symbols.get(n);\n      if (f) {\n        const e = f.flat;\n        for (const o of l) {\n          let t,\n            l = !1;\n          const i = o.xTransformed,\n            n = o.yTransformed;\n          t = s(f.index) ? f.index.getCell(i, n) : e;\n          const r = o.symbol,\n            c = r.hash;\n          for (const e of t) if (c === e.hash && Math.abs(i - e.xTile) <= a && Math.abs(n - e.yTile) <= a) {\n            const s = e.unique;\n            r.unique = s, s.tileSymbols.push(r), l = !0;\n            break;\n          }\n          l || y.push(r);\n        }\n      }\n      y.length > 0 && i.set(n, y);\n    }\n    for (const s of e.childrenTiles) this._matchSymbols(s, o, i);\n  }\n  _createUniqueSymbolLayerArray() {\n    const e = this._uniqueSymbolsReferences,\n      s = new Array(e.size);\n    let o,\n      t = 0;\n    for (const [l, i] of e) {\n      const e = new Array(i.size);\n      o = 0;\n      for (const s of i) e[o++] = s;\n      s[t] = {\n        styleLayerUID: l,\n        uniqueSymbols: e\n      }, t++;\n    }\n    return s;\n  }\n}\nexport { r as SymbolRepository };","map":{"version":3,"names":["isNone","e","isSome","s","GridIndex","o","tileCoordChange","t","l","i","n","r","constructor","tileCoordRange","_visibleTiles","_createUnique","_tiles","Map","_uniqueSymbolsReferences","uniqueSymbols","_uniqueSymbolLayerArray","_createUniqueSymbolLayerArray","add","get","id","symbols","set","has","delete","layerData","_removeSymbols","y","a","f","c","length","flat","index","getCell","xTile","yTile","push","_addSymbols","key","deleteStyleLayers","size","removeTile","unique","tileSymbols","parentTile","world","level","equals","_matchSymbols","Set","row","col","childrenTiles","symbol","xTransformed","yTransformed","hash","Math","abs","Array","styleLayerUID","SymbolRepository"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolRepository.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as s}from\"../../../../../core/maybe.js\";import{GridIndex as o,tileCoordChange as t}from\"./util.js\";const l=32,i=8,n=64;class r{constructor(e,s,o){this.tileCoordRange=e,this._visibleTiles=s,this._createUnique=o,this._tiles=new Map,this._uniqueSymbolsReferences=new Map}get uniqueSymbols(){return e(this._uniqueSymbolLayerArray)&&(this._uniqueSymbolLayerArray=this._createUniqueSymbolLayerArray()),this._uniqueSymbolLayerArray}add(e,s){this._uniqueSymbolLayerArray=null;let t=this._tiles.get(e.id);t||(t={symbols:new Map},this._tiles.set(e.id,t));const r=new Map;if(s)for(const o of s)t.symbols.has(o)&&(r.set(o,t.symbols.get(o)),t.symbols.delete(o));else for(const[o,l]of e.layerData)t.symbols.has(o)&&(r.set(o,t.symbols.get(o)),t.symbols.delete(o));this._removeSymbols(r);const y=e.symbols,a=new Map;for(const[f,c]of y){let e=c.length;if(e>=l){let s=this.tileCoordRange;do{s/=2,e/=4}while(e>i&&s>n);const l=new o(this.tileCoordRange,this.tileCoordRange,s);a.set(f,{flat:c,index:l}),t.symbols.set(f,{flat:c,index:l});for(const e of c)l.getCell(e.xTile,e.yTile).push(e)}else a.set(f,{flat:c}),t.symbols.set(f,{flat:c})}this._addSymbols(e.key,y)}deleteStyleLayers(e){this._uniqueSymbolLayerArray=null;for(const[s,o]of this._tiles){const t=new Map;for(const s of e)o.symbols.has(s)&&(t.set(s,o.symbols.get(s)),o.symbols.delete(s));this._removeSymbols(t),0===o.symbols.size&&this._tiles.delete(s)}}removeTile(e){this._uniqueSymbolLayerArray=null;const s=this._tiles.get(e.id);if(!s)return;const o=new Map;for(const[t,l]of e.symbols)s.symbols.has(t)&&(o.set(t,s.symbols.get(t)),s.symbols.delete(t));this._removeSymbols(o),0===s.symbols.size&&this._tiles.delete(e.id)}_removeSymbols(e){for(const[s,{flat:o}]of e)for(const e of o){const o=e.unique,t=o.tileSymbols,l=t.length-1;for(let s=0;s<l;s++)if(t[s]===e){t[s]=t[l];break}if(t.length=l,0===l){const e=this._uniqueSymbolsReferences.get(s);e.delete(o),0===e.size&&this._uniqueSymbolsReferences.delete(s)}e.unique=null}}_addSymbols(s,o){if(0===o.size)return;const t=this._visibleTiles;for(const e of t)e.parentTile||e.key.world!==s.world||e.key.level===s.level&&!e.key.equals(s)||this._matchSymbols(e,s,o);for(const[l,i]of o)for(const s of i)if(e(s.unique)){const e=this._createUnique();s.unique=e,e.tileSymbols.push(s);let o=this._uniqueSymbolsReferences.get(l);o||(o=new Set,this._uniqueSymbolsReferences.set(l,o)),o.add(e)}}_matchSymbols(e,o,l){if(e.key.level>o.level){const s=e.key.level-o.level;if(e.key.row>>s!==o.row||e.key.col>>s!==o.col)return}if(o.level>e.key.level){const s=o.level-e.key.level;if(o.row>>s!==e.key.row||o.col>>s!==e.key.col)return}if(o.equals(e.key)){for(const s of e.childrenTiles)this._matchSymbols(s,o,l);return}const i=new Map;for(const[n,r]of l){const l=[];for(const s of r){const i=t(this.tileCoordRange,s.xTile,o.level,o.col,e.key.level,e.key.col),n=t(this.tileCoordRange,s.yTile,o.level,o.row,e.key.level,e.key.row);i>=0&&i<this.tileCoordRange&&n>=0&&n<this.tileCoordRange&&l.push({symbol:s,xTransformed:i,yTransformed:n})}const y=[],a=e.key.level<o.level?1:1<<e.key.level-o.level,f=this._tiles.get(e.id).symbols.get(n);if(f){const e=f.flat;for(const o of l){let t,l=!1;const i=o.xTransformed,n=o.yTransformed;t=s(f.index)?f.index.getCell(i,n):e;const r=o.symbol,c=r.hash;for(const e of t)if(c===e.hash&&Math.abs(i-e.xTile)<=a&&Math.abs(n-e.yTile)<=a){const s=e.unique;r.unique=s,s.tileSymbols.push(r),l=!0;break}l||y.push(r)}}y.length>0&&i.set(n,y)}for(const s of e.childrenTiles)this._matchSymbols(s,o,i)}_createUniqueSymbolLayerArray(){const e=this._uniqueSymbolsReferences,s=new Array(e.size);let o,t=0;for(const[l,i]of e){const e=new Array(i.size);o=0;for(const s of i)e[o++]=s;s[t]={styleLayerUID:l,uniqueSymbols:e},t++}return s}}export{r as SymbolRepository};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAAOC,SAAS,IAAIC,CAAC,EAACC,eAAe,IAAIC,CAAC,QAAK,WAAW;AAAC,MAAMC,CAAC,GAAC,EAAE;EAACC,CAAC,GAAC,CAAC;EAACC,CAAC,GAAC,EAAE;AAAC,MAAMC,CAAC;EAACC,WAAWA,CAACX,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACQ,cAAc,GAACZ,CAAC,EAAC,IAAI,CAACa,aAAa,GAACX,CAAC,EAAC,IAAI,CAACY,aAAa,GAACV,CAAC,EAAC,IAAI,CAACW,MAAM,GAAC,IAAIC,GAAG,IAAC,IAAI,CAACC,wBAAwB,GAAC,IAAID,GAAG;EAAA;EAAC,IAAIE,aAAaA,CAAA,EAAE;IAAC,OAAOlB,CAAC,CAAC,IAAI,CAACmB,uBAAuB,CAAC,KAAG,IAAI,CAACA,uBAAuB,GAAC,IAAI,CAACC,6BAA6B,EAAE,CAAC,EAAC,IAAI,CAACD,uBAAuB;EAAA;EAACE,GAAGA,CAACrB,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACiB,uBAAuB,GAAC,IAAI;IAAC,IAAIb,CAAC,GAAC,IAAI,CAACS,MAAM,CAACO,GAAG,CAACtB,CAAC,CAACuB,EAAE,CAAC;IAACjB,CAAC,KAAGA,CAAC,GAAC;MAACkB,OAAO,EAAC,IAAIR,GAAG;IAAA,CAAC,EAAC,IAAI,CAACD,MAAM,CAACU,GAAG,CAACzB,CAAC,CAACuB,EAAE,EAACjB,CAAC,CAAC,CAAC;IAAC,MAAMI,CAAC,GAAC,IAAIM,GAAG;IAAC,IAAGd,CAAC,EAAC,KAAI,MAAME,CAAC,IAAIF,CAAC,EAACI,CAAC,CAACkB,OAAO,CAACE,GAAG,CAACtB,CAAC,CAAC,KAAGM,CAAC,CAACe,GAAG,CAACrB,CAAC,EAACE,CAAC,CAACkB,OAAO,CAACF,GAAG,CAAClB,CAAC,CAAC,CAAC,EAACE,CAAC,CAACkB,OAAO,CAACG,MAAM,CAACvB,CAAC,CAAC,CAAC,CAAC,KAAK,KAAI,MAAK,CAACA,CAAC,EAACG,CAAC,CAAC,IAAGP,CAAC,CAAC4B,SAAS,EAACtB,CAAC,CAACkB,OAAO,CAACE,GAAG,CAACtB,CAAC,CAAC,KAAGM,CAAC,CAACe,GAAG,CAACrB,CAAC,EAACE,CAAC,CAACkB,OAAO,CAACF,GAAG,CAAClB,CAAC,CAAC,CAAC,EAACE,CAAC,CAACkB,OAAO,CAACG,MAAM,CAACvB,CAAC,CAAC,CAAC;IAAC,IAAI,CAACyB,cAAc,CAACnB,CAAC,CAAC;IAAC,MAAMoB,CAAC,GAAC9B,CAAC,CAACwB,OAAO;MAACO,CAAC,GAAC,IAAIf,GAAG;IAAC,KAAI,MAAK,CAACgB,CAAC,EAACC,CAAC,CAAC,IAAGH,CAAC,EAAC;MAAC,IAAI9B,CAAC,GAACiC,CAAC,CAACC,MAAM;MAAC,IAAGlC,CAAC,IAAEO,CAAC,EAAC;QAAC,IAAIL,CAAC,GAAC,IAAI,CAACU,cAAc;QAAC,GAAE;UAACV,CAAC,IAAE,CAAC,EAACF,CAAC,IAAE,CAAC;QAAA,CAAC,QAAMA,CAAC,GAACQ,CAAC,IAAEN,CAAC,GAACO,CAAC;QAAE,MAAMF,CAAC,GAAC,IAAIH,CAAC,CAAC,IAAI,CAACQ,cAAc,EAAC,IAAI,CAACA,cAAc,EAACV,CAAC,CAAC;QAAC6B,CAAC,CAACN,GAAG,CAACO,CAAC,EAAC;UAACG,IAAI,EAACF,CAAC;UAACG,KAAK,EAAC7B;QAAC,CAAC,CAAC,EAACD,CAAC,CAACkB,OAAO,CAACC,GAAG,CAACO,CAAC,EAAC;UAACG,IAAI,EAACF,CAAC;UAACG,KAAK,EAAC7B;QAAC,CAAC,CAAC;QAAC,KAAI,MAAMP,CAAC,IAAIiC,CAAC,EAAC1B,CAAC,CAAC8B,OAAO,CAACrC,CAAC,CAACsC,KAAK,EAACtC,CAAC,CAACuC,KAAK,CAAC,CAACC,IAAI,CAACxC,CAAC,CAAC;MAAA,CAAC,MAAK+B,CAAC,CAACN,GAAG,CAACO,CAAC,EAAC;QAACG,IAAI,EAACF;MAAC,CAAC,CAAC,EAAC3B,CAAC,CAACkB,OAAO,CAACC,GAAG,CAACO,CAAC,EAAC;QAACG,IAAI,EAACF;MAAC,CAAC,CAAC;IAAA;IAAC,IAAI,CAACQ,WAAW,CAACzC,CAAC,CAAC0C,GAAG,EAACZ,CAAC,CAAC;EAAA;EAACa,iBAAiBA,CAAC3C,CAAC,EAAC;IAAC,IAAI,CAACmB,uBAAuB,GAAC,IAAI;IAAC,KAAI,MAAK,CAACjB,CAAC,EAACE,CAAC,CAAC,IAAG,IAAI,CAACW,MAAM,EAAC;MAAC,MAAMT,CAAC,GAAC,IAAIU,GAAG;MAAC,KAAI,MAAMd,CAAC,IAAIF,CAAC,EAACI,CAAC,CAACoB,OAAO,CAACE,GAAG,CAACxB,CAAC,CAAC,KAAGI,CAAC,CAACmB,GAAG,CAACvB,CAAC,EAACE,CAAC,CAACoB,OAAO,CAACF,GAAG,CAACpB,CAAC,CAAC,CAAC,EAACE,CAAC,CAACoB,OAAO,CAACG,MAAM,CAACzB,CAAC,CAAC,CAAC;MAAC,IAAI,CAAC2B,cAAc,CAACvB,CAAC,CAAC,EAAC,CAAC,KAAGF,CAAC,CAACoB,OAAO,CAACoB,IAAI,IAAE,IAAI,CAAC7B,MAAM,CAACY,MAAM,CAACzB,CAAC,CAAC;IAAA;EAAC;EAAC2C,UAAUA,CAAC7C,CAAC,EAAC;IAAC,IAAI,CAACmB,uBAAuB,GAAC,IAAI;IAAC,MAAMjB,CAAC,GAAC,IAAI,CAACa,MAAM,CAACO,GAAG,CAACtB,CAAC,CAACuB,EAAE,CAAC;IAAC,IAAG,CAACrB,CAAC,EAAC;IAAO,MAAME,CAAC,GAAC,IAAIY,GAAG;IAAC,KAAI,MAAK,CAACV,CAAC,EAACC,CAAC,CAAC,IAAGP,CAAC,CAACwB,OAAO,EAACtB,CAAC,CAACsB,OAAO,CAACE,GAAG,CAACpB,CAAC,CAAC,KAAGF,CAAC,CAACqB,GAAG,CAACnB,CAAC,EAACJ,CAAC,CAACsB,OAAO,CAACF,GAAG,CAAChB,CAAC,CAAC,CAAC,EAACJ,CAAC,CAACsB,OAAO,CAACG,MAAM,CAACrB,CAAC,CAAC,CAAC;IAAC,IAAI,CAACuB,cAAc,CAACzB,CAAC,CAAC,EAAC,CAAC,KAAGF,CAAC,CAACsB,OAAO,CAACoB,IAAI,IAAE,IAAI,CAAC7B,MAAM,CAACY,MAAM,CAAC3B,CAAC,CAACuB,EAAE,CAAC;EAAA;EAACM,cAAcA,CAAC7B,CAAC,EAAC;IAAC,KAAI,MAAK,CAACE,CAAC,EAAC;MAACiC,IAAI,EAAC/B;IAAC,CAAC,CAAC,IAAGJ,CAAC,EAAC,KAAI,MAAMA,CAAC,IAAII,CAAC,EAAC;MAAC,MAAMA,CAAC,GAACJ,CAAC,CAAC8C,MAAM;QAACxC,CAAC,GAACF,CAAC,CAAC2C,WAAW;QAACxC,CAAC,GAACD,CAAC,CAAC4B,MAAM,GAAC,CAAC;MAAC,KAAI,IAAIhC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACK,CAAC,EAACL,CAAC,EAAE,EAAC,IAAGI,CAAC,CAACJ,CAAC,CAAC,KAAGF,CAAC,EAAC;QAACM,CAAC,CAACJ,CAAC,CAAC,GAACI,CAAC,CAACC,CAAC,CAAC;QAAC;MAAK;MAAC,IAAGD,CAAC,CAAC4B,MAAM,GAAC3B,CAAC,EAAC,CAAC,KAAGA,CAAC,EAAC;QAAC,MAAMP,CAAC,GAAC,IAAI,CAACiB,wBAAwB,CAACK,GAAG,CAACpB,CAAC,CAAC;QAACF,CAAC,CAAC2B,MAAM,CAACvB,CAAC,CAAC,EAAC,CAAC,KAAGJ,CAAC,CAAC4C,IAAI,IAAE,IAAI,CAAC3B,wBAAwB,CAACU,MAAM,CAACzB,CAAC,CAAC;MAAA;MAACF,CAAC,CAAC8C,MAAM,GAAC,IAAI;IAAA;EAAC;EAACL,WAAWA,CAACvC,CAAC,EAACE,CAAC,EAAC;IAAC,IAAG,CAAC,KAAGA,CAAC,CAACwC,IAAI,EAAC;IAAO,MAAMtC,CAAC,GAAC,IAAI,CAACO,aAAa;IAAC,KAAI,MAAMb,CAAC,IAAIM,CAAC,EAACN,CAAC,CAACgD,UAAU,IAAEhD,CAAC,CAAC0C,GAAG,CAACO,KAAK,KAAG/C,CAAC,CAAC+C,KAAK,IAAEjD,CAAC,CAAC0C,GAAG,CAACQ,KAAK,KAAGhD,CAAC,CAACgD,KAAK,IAAE,CAAClD,CAAC,CAAC0C,GAAG,CAACS,MAAM,CAACjD,CAAC,CAAC,IAAE,IAAI,CAACkD,aAAa,CAACpD,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC;IAAC,KAAI,MAAK,CAACG,CAAC,EAACC,CAAC,CAAC,IAAGJ,CAAC,EAAC,KAAI,MAAMF,CAAC,IAAIM,CAAC,EAAC,IAAGR,CAAC,CAACE,CAAC,CAAC4C,MAAM,CAAC,EAAC;MAAC,MAAM9C,CAAC,GAAC,IAAI,CAACc,aAAa,EAAE;MAACZ,CAAC,CAAC4C,MAAM,GAAC9C,CAAC,EAACA,CAAC,CAAC+C,WAAW,CAACP,IAAI,CAACtC,CAAC,CAAC;MAAC,IAAIE,CAAC,GAAC,IAAI,CAACa,wBAAwB,CAACK,GAAG,CAACf,CAAC,CAAC;MAACH,CAAC,KAAGA,CAAC,GAAC,IAAIiD,GAAG,IAAC,IAAI,CAACpC,wBAAwB,CAACQ,GAAG,CAAClB,CAAC,EAACH,CAAC,CAAC,CAAC,EAACA,CAAC,CAACiB,GAAG,CAACrB,CAAC,CAAC;IAAA;EAAC;EAACoD,aAAaA,CAACpD,CAAC,EAACI,CAAC,EAACG,CAAC,EAAC;IAAC,IAAGP,CAAC,CAAC0C,GAAG,CAACQ,KAAK,GAAC9C,CAAC,CAAC8C,KAAK,EAAC;MAAC,MAAMhD,CAAC,GAACF,CAAC,CAAC0C,GAAG,CAACQ,KAAK,GAAC9C,CAAC,CAAC8C,KAAK;MAAC,IAAGlD,CAAC,CAAC0C,GAAG,CAACY,GAAG,IAAEpD,CAAC,KAAGE,CAAC,CAACkD,GAAG,IAAEtD,CAAC,CAAC0C,GAAG,CAACa,GAAG,IAAErD,CAAC,KAAGE,CAAC,CAACmD,GAAG,EAAC;IAAM;IAAC,IAAGnD,CAAC,CAAC8C,KAAK,GAAClD,CAAC,CAAC0C,GAAG,CAACQ,KAAK,EAAC;MAAC,MAAMhD,CAAC,GAACE,CAAC,CAAC8C,KAAK,GAAClD,CAAC,CAAC0C,GAAG,CAACQ,KAAK;MAAC,IAAG9C,CAAC,CAACkD,GAAG,IAAEpD,CAAC,KAAGF,CAAC,CAAC0C,GAAG,CAACY,GAAG,IAAElD,CAAC,CAACmD,GAAG,IAAErD,CAAC,KAAGF,CAAC,CAAC0C,GAAG,CAACa,GAAG,EAAC;IAAM;IAAC,IAAGnD,CAAC,CAAC+C,MAAM,CAACnD,CAAC,CAAC0C,GAAG,CAAC,EAAC;MAAC,KAAI,MAAMxC,CAAC,IAAIF,CAAC,CAACwD,aAAa,EAAC,IAAI,CAACJ,aAAa,CAAClD,CAAC,EAACE,CAAC,EAACG,CAAC,CAAC;MAAC;IAAM;IAAC,MAAMC,CAAC,GAAC,IAAIQ,GAAG;IAAC,KAAI,MAAK,CAACP,CAAC,EAACC,CAAC,CAAC,IAAGH,CAAC,EAAC;MAAC,MAAMA,CAAC,GAAC,EAAE;MAAC,KAAI,MAAML,CAAC,IAAIQ,CAAC,EAAC;QAAC,MAAMF,CAAC,GAACF,CAAC,CAAC,IAAI,CAACM,cAAc,EAACV,CAAC,CAACoC,KAAK,EAAClC,CAAC,CAAC8C,KAAK,EAAC9C,CAAC,CAACmD,GAAG,EAACvD,CAAC,CAAC0C,GAAG,CAACQ,KAAK,EAAClD,CAAC,CAAC0C,GAAG,CAACa,GAAG,CAAC;UAAC9C,CAAC,GAACH,CAAC,CAAC,IAAI,CAACM,cAAc,EAACV,CAAC,CAACqC,KAAK,EAACnC,CAAC,CAAC8C,KAAK,EAAC9C,CAAC,CAACkD,GAAG,EAACtD,CAAC,CAAC0C,GAAG,CAACQ,KAAK,EAAClD,CAAC,CAAC0C,GAAG,CAACY,GAAG,CAAC;QAAC9C,CAAC,IAAE,CAAC,IAAEA,CAAC,GAAC,IAAI,CAACI,cAAc,IAAEH,CAAC,IAAE,CAAC,IAAEA,CAAC,GAAC,IAAI,CAACG,cAAc,IAAEL,CAAC,CAACiC,IAAI,CAAC;UAACiB,MAAM,EAACvD,CAAC;UAACwD,YAAY,EAAClD,CAAC;UAACmD,YAAY,EAAClD;QAAC,CAAC,CAAC;MAAA;MAAC,MAAMqB,CAAC,GAAC,EAAE;QAACC,CAAC,GAAC/B,CAAC,CAAC0C,GAAG,CAACQ,KAAK,GAAC9C,CAAC,CAAC8C,KAAK,GAAC,CAAC,GAAC,CAAC,IAAElD,CAAC,CAAC0C,GAAG,CAACQ,KAAK,GAAC9C,CAAC,CAAC8C,KAAK;QAAClB,CAAC,GAAC,IAAI,CAACjB,MAAM,CAACO,GAAG,CAACtB,CAAC,CAACuB,EAAE,CAAC,CAACC,OAAO,CAACF,GAAG,CAACb,CAAC,CAAC;MAAC,IAAGuB,CAAC,EAAC;QAAC,MAAMhC,CAAC,GAACgC,CAAC,CAACG,IAAI;QAAC,KAAI,MAAM/B,CAAC,IAAIG,CAAC,EAAC;UAAC,IAAID,CAAC;YAACC,CAAC,GAAC,CAAC,CAAC;UAAC,MAAMC,CAAC,GAACJ,CAAC,CAACsD,YAAY;YAACjD,CAAC,GAACL,CAAC,CAACuD,YAAY;UAACrD,CAAC,GAACJ,CAAC,CAAC8B,CAAC,CAACI,KAAK,CAAC,GAACJ,CAAC,CAACI,KAAK,CAACC,OAAO,CAAC7B,CAAC,EAACC,CAAC,CAAC,GAACT,CAAC;UAAC,MAAMU,CAAC,GAACN,CAAC,CAACqD,MAAM;YAACxB,CAAC,GAACvB,CAAC,CAACkD,IAAI;UAAC,KAAI,MAAM5D,CAAC,IAAIM,CAAC,EAAC,IAAG2B,CAAC,KAAGjC,CAAC,CAAC4D,IAAI,IAAEC,IAAI,CAACC,GAAG,CAACtD,CAAC,GAACR,CAAC,CAACsC,KAAK,CAAC,IAAEP,CAAC,IAAE8B,IAAI,CAACC,GAAG,CAACrD,CAAC,GAACT,CAAC,CAACuC,KAAK,CAAC,IAAER,CAAC,EAAC;YAAC,MAAM7B,CAAC,GAACF,CAAC,CAAC8C,MAAM;YAACpC,CAAC,CAACoC,MAAM,GAAC5C,CAAC,EAACA,CAAC,CAAC6C,WAAW,CAACP,IAAI,CAAC9B,CAAC,CAAC,EAACH,CAAC,GAAC,CAAC,CAAC;YAAC;UAAK;UAACA,CAAC,IAAEuB,CAAC,CAACU,IAAI,CAAC9B,CAAC,CAAC;QAAA;MAAC;MAACoB,CAAC,CAACI,MAAM,GAAC,CAAC,IAAE1B,CAAC,CAACiB,GAAG,CAAChB,CAAC,EAACqB,CAAC,CAAC;IAAA;IAAC,KAAI,MAAM5B,CAAC,IAAIF,CAAC,CAACwD,aAAa,EAAC,IAAI,CAACJ,aAAa,CAAClD,CAAC,EAACE,CAAC,EAACI,CAAC,CAAC;EAAA;EAACY,6BAA6BA,CAAA,EAAE;IAAC,MAAMpB,CAAC,GAAC,IAAI,CAACiB,wBAAwB;MAACf,CAAC,GAAC,IAAI6D,KAAK,CAAC/D,CAAC,CAAC4C,IAAI,CAAC;IAAC,IAAIxC,CAAC;MAACE,CAAC,GAAC,CAAC;IAAC,KAAI,MAAK,CAACC,CAAC,EAACC,CAAC,CAAC,IAAGR,CAAC,EAAC;MAAC,MAAMA,CAAC,GAAC,IAAI+D,KAAK,CAACvD,CAAC,CAACoC,IAAI,CAAC;MAACxC,CAAC,GAAC,CAAC;MAAC,KAAI,MAAMF,CAAC,IAAIM,CAAC,EAACR,CAAC,CAACI,CAAC,EAAE,CAAC,GAACF,CAAC;MAACA,CAAC,CAACI,CAAC,CAAC,GAAC;QAAC0D,aAAa,EAACzD,CAAC;QAACW,aAAa,EAAClB;MAAC,CAAC,EAACM,CAAC,EAAE;IAAA;IAAC,OAAOJ,CAAC;EAAA;AAAC;AAAC,SAAOQ,CAAC,IAAIuD,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}