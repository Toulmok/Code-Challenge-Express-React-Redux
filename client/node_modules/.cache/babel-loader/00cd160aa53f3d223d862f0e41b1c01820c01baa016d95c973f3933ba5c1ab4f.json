{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport i from \"../../../../core/Collection.js\";\nimport s from \"../../../../core/Handles.js\";\nimport r from \"../../../../core/Logger.js\";\nimport { isSome as n, isNone as o, removeMaybe as l, destroyMaybe as h } from \"../../../../core/maybe.js\";\nimport a from \"../../../../core/PooledArray.js\";\nimport { watch as c, sync as d, syncAndInitial as u } from \"../../../../core/reactiveUtils.js\";\nimport { property as p } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport { subclass as _ } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as m, empty as f, expand as g, height as T, intersects as y } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { FeatureTileDescriptor3D as S, Visibility as E } from \"./FeatureTileDescriptor3D.js\";\nimport { FeatureTileMeasurements3D as v } from \"./FeatureTileMeasurements3D.js\";\nimport { toBoundingRect as w } from \"../../support/extentUtils.js\";\nimport { TaskPriority as R, noBudget as x } from \"../../../support/Scheduler.js\";\nlet C = class extends t {\n  get tilingScheme() {\n    const e = this.tilingSchemeOwner.tilingScheme;\n    if (!e) return null;\n    return e.clone();\n  }\n  set filterExtent(e) {\n    if (n(e) && !e.spatialReference.equals(this.viewState.spatialReference)) return void r.getLogger(this.declaredClass).error(\"#extent\", \"extent spatial reference needs to be in the same spatial reference as the view\");\n    const t = this._get(\"filterExtent\");\n    if (t === e || n(t) && e && t.equals(e)) return;\n    const i = n(e) ? e.clone() : null;\n    this._set(\"filterExtent\", i), this._setDirty();\n  }\n  get _filterExtentRect() {\n    if (o(this.filterExtent)) return null;\n    const e = m();\n    return w(this.filterExtent, e, this.tilingScheme.spatialReference), e;\n  }\n  get _rootTileIds() {\n    const {\n      tilingScheme: e\n    } = this;\n    return this._filterExtentRect && e ? e.rootTilesInExtent(this._filterExtentRect) : [[0, 0, 0]];\n  }\n  set suspended(e) {\n    e !== this._get(\"suspended\") && (this._set(\"suspended\", e), this._setDirty());\n  }\n  get updating() {\n    return this._dirty || !!this._pendingTiles;\n  }\n  constructor(e) {\n    super(e), this.tiles = new i(), this.tileSize = 512, this._idToTile = new Map(), this._handles = new s(), this._clients = new Set(), this._dirty = !1, this._pendingTiles = null, this._newTiles = new a();\n  }\n  initialize() {\n    this._handles.add([c(() => [this.tilingScheme, this.tileSize], () => this._reset(), d), c(() => [this.tileSize, this.cameraOnSurface?.location, this.tilingScheme, this.viewState?.contentCamera, this.focus?.location], () => this._setDirty(), u)]), this.scheduler && (this._frameWorker = this.scheduler.registerTask(R.FEATURE_TILE_TREE, this));\n  }\n  destroy() {\n    this._frameWorker = l(this._frameWorker), this._handles = h(this._handles);\n  }\n  addClient() {\n    const e = O();\n    return this._clients.add(e), 1 === this._clients.size && this._setDirty(), {\n      remove: () => this._removeClient(e)\n    };\n  }\n  _removeClient(e) {\n    this._clients.delete(e), this._hasClients || this._clear();\n  }\n  get _hasClients() {\n    return this._clients.size > 0;\n  }\n  _setDirty() {\n    !this._hasClients || this.suspended || this._dirty || (this._frameWorker ? (this._dirty = !0, this.notifyChange(\"updating\")) : this.runTask(x));\n  }\n  _clear() {\n    this.tiles.removeAll(), this._idToTile.clear(), this._reset(), this._dirty = !1, this.notifyChange(\"updating\");\n  }\n  get running() {\n    return this.updating;\n  }\n  runTask(e) {\n    this._dirty = !1, this._pendingTiles || (this._startUpdate(), n(this._frameWorker) && (this._frameWorker.priority = R.FEATURE_TILE_TREE_ACTIVE)), this._subdivideTilesForView(e), !this._pendingTiles && n(this._frameWorker) && (this._frameWorker.priority = R.FEATURE_TILE_TREE), this.notifyChange(\"updating\");\n  }\n  _startUpdate() {\n    if (this.suspended) return;\n    if (!this.tilingScheme) return void this._clear();\n    this._tileMeasurements || (this._tileMeasurements = new v({\n      renderCoordsHelper: this.renderCoordsHelper,\n      tilingScheme: this.tilingScheme,\n      tileSize: this.tileSize\n    }));\n    const e = this.viewState.contentCamera;\n    this._tileMeasurements.begin(e, this.focus.location, this.cameraOnSurface.location.z ?? 0), this._pendingTiles = this._getRootTiles();\n  }\n  _reset() {\n    this._newTiles.clear(), this._tileMeasurements = null, this._pendingTiles = null, this._setDirty();\n  }\n  _getRootTiles() {\n    const {\n      tilingScheme: e\n    } = this;\n    return this._rootTileIds.map(t => new S(t[0], t[1], t[2], e));\n  }\n  _purgeHorizonTiles(e) {\n    e.sort((e, t) => {\n      const i = e.measures.screenRect,\n        s = t.measures.screenRect;\n      return i[1] + i[3] - (s[1] + s[3]);\n    }), f(I);\n    for (let t = 0; t < e.length; t++) if (g(I, e.data[t].measures.screenRect, I), T(I) > k) return e.data.slice(t, e.length);\n    return [];\n  }\n  _subdivideTilesForView(e) {\n    if (!this._pendingTiles) return;\n    const {\n      tilingScheme: t\n    } = this;\n    for (; this._pendingTiles.length > 0 && !e.done;) {\n      const i = this._pendingTiles.pop();\n      e.madeProgress(), this._filterExtentRect && !y(this._filterExtentRect, i.extent) || (this._tileMeasurements.updateTile(i), i.measures.visibility !== E.INVISIBLE && (i.measures.shouldSplit ? (t.ensureMaxLod(i.lij[0] + 1), this._pendingTiles.push(...i.getChildren())) : this._newTiles.push(i)));\n    }\n    0 === this._pendingTiles.length && (this._updateTiles(this._purgeHorizonTiles(this._newTiles)), this._newTiles.clear(), this._tileMeasurements.end(), this._pendingTiles = null);\n  }\n  _updateTiles(e) {\n    for (const s of this.tiles.items) s.used = !1;\n    const t = e.filter(e => {\n        const t = this._idToTile.get(e.id);\n        return t ? (t.copyMeasurementsFrom(e), t.used = !0) : this._idToTile.set(e.id, e), !t;\n      }),\n      i = this.tiles.items.filter(e => !e.used && (this._idToTile.delete(e.id), !0));\n    this.tiles.removeMany(i), this.tiles.addMany(t), this._sortTiles();\n  }\n  _sortTiles() {\n    this.viewState.fixedContentCamera || this.tiles.sort((e, t) => e.measures.visibility !== t.measures.visibility ? e.measures.visibility === E.VISIBLE_ON_SURFACE ? -1 : 1 : e.measures.distance - t.measures.distance), this.tiles.forEach((e, t) => e.loadPriority = t);\n  }\n};\ne([p({\n  constructOnly: !0\n})], C.prototype, \"scheduler\", void 0), e([p({\n  constructOnly: !0\n})], C.prototype, \"renderCoordsHelper\", void 0), e([p({\n  constructOnly: !0\n})], C.prototype, \"tilingSchemeOwner\", void 0), e([p({\n  constructOnly: !0\n})], C.prototype, \"cameraOnSurface\", void 0), e([p({\n  constructOnly: !0\n})], C.prototype, \"focus\", void 0), e([p({\n  constructOnly: !0\n})], C.prototype, \"viewState\", void 0), e([p({\n  constructOnly: !0\n})], C.prototype, \"terrain\", void 0), e([p()], C.prototype, \"tiles\", void 0), e([p()], C.prototype, \"tileSize\", void 0), e([p({\n  readOnly: !0\n})], C.prototype, \"tilingScheme\", null), e([p()], C.prototype, \"filterExtent\", null), e([p({\n  readOnly: !0\n})], C.prototype, \"_filterExtentRect\", null), e([p({\n  readOnly: !0\n})], C.prototype, \"_rootTileIds\", null), e([p({\n  value: !1\n})], C.prototype, \"suspended\", null), e([p({\n  readOnly: !0\n})], C.prototype, \"updating\", null), C = e([_(\"esri.views.3d.layers.support.FeatureTileTree3D\")], C);\nlet j = 0;\nfunction O() {\n  return j++;\n}\nconst I = m(),\n  k = 10;\nexport { C as FeatureTileTree3D };","map":{"version":3,"names":["_","e","t","i","s","r","isSome","n","isNone","o","removeMaybe","l","destroyMaybe","h","a","watch","c","sync","d","syncAndInitial","u","property","p","subclass","create","m","empty","f","expand","g","height","T","intersects","y","FeatureTileDescriptor3D","S","Visibility","E","FeatureTileMeasurements3D","v","toBoundingRect","w","TaskPriority","R","noBudget","x","C","tilingScheme","tilingSchemeOwner","clone","filterExtent","spatialReference","equals","viewState","getLogger","declaredClass","error","_get","_set","_setDirty","_filterExtentRect","_rootTileIds","rootTilesInExtent","suspended","updating","_dirty","_pendingTiles","constructor","tiles","tileSize","_idToTile","Map","_handles","_clients","Set","_newTiles","initialize","add","_reset","cameraOnSurface","location","contentCamera","focus","scheduler","_frameWorker","registerTask","FEATURE_TILE_TREE","destroy","addClient","O","size","remove","_removeClient","delete","_hasClients","_clear","notifyChange","runTask","removeAll","clear","running","_startUpdate","priority","FEATURE_TILE_TREE_ACTIVE","_subdivideTilesForView","_tileMeasurements","renderCoordsHelper","begin","z","_getRootTiles","map","_purgeHorizonTiles","sort","measures","screenRect","I","length","data","k","slice","done","pop","madeProgress","extent","updateTile","visibility","INVISIBLE","shouldSplit","ensureMaxLod","lij","push","getChildren","_updateTiles","end","items","used","filter","get","id","copyMeasurementsFrom","set","removeMany","addMany","_sortTiles","fixedContentCamera","VISIBLE_ON_SURFACE","distance","forEach","loadPriority","constructOnly","prototype","readOnly","value","j","FeatureTileTree3D"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/support/FeatureTileTree3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Collection.js\";import s from\"../../../../core/Handles.js\";import r from\"../../../../core/Logger.js\";import{isSome as n,isNone as o,removeMaybe as l,destroyMaybe as h}from\"../../../../core/maybe.js\";import a from\"../../../../core/PooledArray.js\";import{watch as c,sync as d,syncAndInitial as u}from\"../../../../core/reactiveUtils.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as _}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as m,empty as f,expand as g,height as T,intersects as y}from\"../../../../geometry/support/aaBoundingRect.js\";import{FeatureTileDescriptor3D as S,Visibility as E}from\"./FeatureTileDescriptor3D.js\";import{FeatureTileMeasurements3D as v}from\"./FeatureTileMeasurements3D.js\";import{toBoundingRect as w}from\"../../support/extentUtils.js\";import{TaskPriority as R,noBudget as x}from\"../../../support/Scheduler.js\";let C=class extends t{get tilingScheme(){const e=this.tilingSchemeOwner.tilingScheme;if(!e)return null;return e.clone()}set filterExtent(e){if(n(e)&&!e.spatialReference.equals(this.viewState.spatialReference))return void r.getLogger(this.declaredClass).error(\"#extent\",\"extent spatial reference needs to be in the same spatial reference as the view\");const t=this._get(\"filterExtent\");if(t===e||n(t)&&e&&t.equals(e))return;const i=n(e)?e.clone():null;this._set(\"filterExtent\",i),this._setDirty()}get _filterExtentRect(){if(o(this.filterExtent))return null;const e=m();return w(this.filterExtent,e,this.tilingScheme.spatialReference),e}get _rootTileIds(){const{tilingScheme:e}=this;return this._filterExtentRect&&e?e.rootTilesInExtent(this._filterExtentRect):[[0,0,0]]}set suspended(e){e!==this._get(\"suspended\")&&(this._set(\"suspended\",e),this._setDirty())}get updating(){return this._dirty||!!this._pendingTiles}constructor(e){super(e),this.tiles=new i,this.tileSize=512,this._idToTile=new Map,this._handles=new s,this._clients=new Set,this._dirty=!1,this._pendingTiles=null,this._newTiles=new a}initialize(){this._handles.add([c((()=>[this.tilingScheme,this.tileSize]),(()=>this._reset()),d),c((()=>[this.tileSize,this.cameraOnSurface?.location,this.tilingScheme,this.viewState?.contentCamera,this.focus?.location]),(()=>this._setDirty()),u)]),this.scheduler&&(this._frameWorker=this.scheduler.registerTask(R.FEATURE_TILE_TREE,this))}destroy(){this._frameWorker=l(this._frameWorker),this._handles=h(this._handles)}addClient(){const e=O();return this._clients.add(e),1===this._clients.size&&this._setDirty(),{remove:()=>this._removeClient(e)}}_removeClient(e){this._clients.delete(e),this._hasClients||this._clear()}get _hasClients(){return this._clients.size>0}_setDirty(){!this._hasClients||this.suspended||this._dirty||(this._frameWorker?(this._dirty=!0,this.notifyChange(\"updating\")):this.runTask(x))}_clear(){this.tiles.removeAll(),this._idToTile.clear(),this._reset(),this._dirty=!1,this.notifyChange(\"updating\")}get running(){return this.updating}runTask(e){this._dirty=!1,this._pendingTiles||(this._startUpdate(),n(this._frameWorker)&&(this._frameWorker.priority=R.FEATURE_TILE_TREE_ACTIVE)),this._subdivideTilesForView(e),!this._pendingTiles&&n(this._frameWorker)&&(this._frameWorker.priority=R.FEATURE_TILE_TREE),this.notifyChange(\"updating\")}_startUpdate(){if(this.suspended)return;if(!this.tilingScheme)return void this._clear();this._tileMeasurements||(this._tileMeasurements=new v({renderCoordsHelper:this.renderCoordsHelper,tilingScheme:this.tilingScheme,tileSize:this.tileSize}));const e=this.viewState.contentCamera;this._tileMeasurements.begin(e,this.focus.location,this.cameraOnSurface.location.z??0),this._pendingTiles=this._getRootTiles()}_reset(){this._newTiles.clear(),this._tileMeasurements=null,this._pendingTiles=null,this._setDirty()}_getRootTiles(){const{tilingScheme:e}=this;return this._rootTileIds.map((t=>new S(t[0],t[1],t[2],e)))}_purgeHorizonTiles(e){e.sort(((e,t)=>{const i=e.measures.screenRect,s=t.measures.screenRect;return i[1]+i[3]-(s[1]+s[3])})),f(I);for(let t=0;t<e.length;t++)if(g(I,e.data[t].measures.screenRect,I),T(I)>k)return e.data.slice(t,e.length);return[]}_subdivideTilesForView(e){if(!this._pendingTiles)return;const{tilingScheme:t}=this;for(;this._pendingTiles.length>0&&!e.done;){const i=this._pendingTiles.pop();e.madeProgress(),this._filterExtentRect&&!y(this._filterExtentRect,i.extent)||(this._tileMeasurements.updateTile(i),i.measures.visibility!==E.INVISIBLE&&(i.measures.shouldSplit?(t.ensureMaxLod(i.lij[0]+1),this._pendingTiles.push(...i.getChildren())):this._newTiles.push(i)))}0===this._pendingTiles.length&&(this._updateTiles(this._purgeHorizonTiles(this._newTiles)),this._newTiles.clear(),this._tileMeasurements.end(),this._pendingTiles=null)}_updateTiles(e){for(const s of this.tiles.items)s.used=!1;const t=e.filter((e=>{const t=this._idToTile.get(e.id);return t?(t.copyMeasurementsFrom(e),t.used=!0):this._idToTile.set(e.id,e),!t})),i=this.tiles.items.filter((e=>!e.used&&(this._idToTile.delete(e.id),!0)));this.tiles.removeMany(i),this.tiles.addMany(t),this._sortTiles()}_sortTiles(){this.viewState.fixedContentCamera||this.tiles.sort(((e,t)=>e.measures.visibility!==t.measures.visibility?e.measures.visibility===E.VISIBLE_ON_SURFACE?-1:1:e.measures.distance-t.measures.distance)),this.tiles.forEach(((e,t)=>e.loadPriority=t))}};e([p({constructOnly:!0})],C.prototype,\"scheduler\",void 0),e([p({constructOnly:!0})],C.prototype,\"renderCoordsHelper\",void 0),e([p({constructOnly:!0})],C.prototype,\"tilingSchemeOwner\",void 0),e([p({constructOnly:!0})],C.prototype,\"cameraOnSurface\",void 0),e([p({constructOnly:!0})],C.prototype,\"focus\",void 0),e([p({constructOnly:!0})],C.prototype,\"viewState\",void 0),e([p({constructOnly:!0})],C.prototype,\"terrain\",void 0),e([p()],C.prototype,\"tiles\",void 0),e([p()],C.prototype,\"tileSize\",void 0),e([p({readOnly:!0})],C.prototype,\"tilingScheme\",null),e([p()],C.prototype,\"filterExtent\",null),e([p({readOnly:!0})],C.prototype,\"_filterExtentRect\",null),e([p({readOnly:!0})],C.prototype,\"_rootTileIds\",null),e([p({value:!1})],C.prototype,\"suspended\",null),e([p({readOnly:!0})],C.prototype,\"updating\",null),C=e([_(\"esri.views.3d.layers.support.FeatureTileTree3D\")],C);let j=0;function O(){return j++}const I=m(),k=10;export{C as FeatureTileTree3D};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}