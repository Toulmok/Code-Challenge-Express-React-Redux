{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { PinchAndPanController as t } from \"../../state/controllers/global/PinchAndPanController.js\";\nimport { PinchAndPanController as e } from \"../../state/controllers/local/PinchAndPanController.js\";\nimport { InputHandler as s } from \"../../../input/InputHandler.js\";\nimport { eventMatchesMousePointerAction as r } from \"../../../input/handlers/support.js\";\nclass i extends s {\n  constructor(t, e, s) {\n    super(!0), this._view = t, this.pointerAction = e, this._lastEndTimestamp = 0, this._lastTimestamp = 0, this.registerIncoming(\"drag\", s, t => this._handleDrag(t));\n  }\n  _handleDrag(t) {\n    if (\"mouse\" === t.data.pointerType && !r(t.data, this.pointerAction)) return;\n    const e = t.timestamp - this._lastEndTimestamp,\n      s = 40,\n      i = this._momentum && this._momentum.active && e < s;\n    switch (t.data.action) {\n      case \"start\":\n      case \"update\":\n        if (i) break;\n        this._controller && this._controller.active ? t.data.timestamp - this._lastTimestamp > 2 && (this._controller.update(t.data), this._lastTimestamp = t.timestamp) : this._startController(t);\n        break;\n      case \"end\":\n      case \"removed\":\n        this._endController(t, !0);\n        break;\n      case \"added\":\n        this._endController(t, !1), this._startController(t);\n    }\n    t.stopPropagation();\n  }\n  _endController(t, e) {\n    if (this._controller && this._controller.active) {\n      this._lastEndTimestamp = t.timestamp;\n      const s = this._controller.end(t.data);\n      e && s && (this._momentum = s, this._view.state.switchCameraController(this._momentum));\n    }\n    this._controller = null;\n  }\n  _startController(t) {\n    this._controller = this._createController(), this._view.state.switchCameraController(this._controller), this._controller.begin(t.data), this._lastTimestamp = t.timestamp;\n  }\n  _createController() {\n    return this._view.state.isGlobal ? new t({\n      view: this._view\n    }) : new e({\n      view: this._view\n    });\n  }\n}\nexport { i as PinchAndPanNavigation };","map":{"version":3,"names":["PinchAndPanController","t","e","InputHandler","s","eventMatchesMousePointerAction","r","i","constructor","_view","pointerAction","_lastEndTimestamp","_lastTimestamp","registerIncoming","_handleDrag","data","pointerType","timestamp","_momentum","active","action","_controller","update","_startController","_endController","stopPropagation","end","state","switchCameraController","_createController","begin","isGlobal","view","PinchAndPanNavigation"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/input/handlers/PinchAndPanNavigation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{PinchAndPanController as t}from\"../../state/controllers/global/PinchAndPanController.js\";import{PinchAndPanController as e}from\"../../state/controllers/local/PinchAndPanController.js\";import{InputHandler as s}from\"../../../input/InputHandler.js\";import{eventMatchesMousePointerAction as r}from\"../../../input/handlers/support.js\";class i extends s{constructor(t,e,s){super(!0),this._view=t,this.pointerAction=e,this._lastEndTimestamp=0,this._lastTimestamp=0,this.registerIncoming(\"drag\",s,(t=>this._handleDrag(t)))}_handleDrag(t){if(\"mouse\"===t.data.pointerType&&!r(t.data,this.pointerAction))return;const e=t.timestamp-this._lastEndTimestamp,s=40,i=this._momentum&&this._momentum.active&&e<s;switch(t.data.action){case\"start\":case\"update\":if(i)break;this._controller&&this._controller.active?t.data.timestamp-this._lastTimestamp>2&&(this._controller.update(t.data),this._lastTimestamp=t.timestamp):this._startController(t);break;case\"end\":case\"removed\":this._endController(t,!0);break;case\"added\":this._endController(t,!1),this._startController(t)}t.stopPropagation()}_endController(t,e){if(this._controller&&this._controller.active){this._lastEndTimestamp=t.timestamp;const s=this._controller.end(t.data);e&&s&&(this._momentum=s,this._view.state.switchCameraController(this._momentum))}this._controller=null}_startController(t){this._controller=this._createController(),this._view.state.switchCameraController(this._controller),this._controller.begin(t.data),this._lastTimestamp=t.timestamp}_createController(){return this._view.state.isGlobal?new t({view:this._view}):new e({view:this._view})}}export{i as PinchAndPanNavigation};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}