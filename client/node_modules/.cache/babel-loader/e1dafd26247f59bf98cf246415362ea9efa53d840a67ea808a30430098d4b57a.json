{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isNone as e, isSome as t } from \"../../../../core/maybe.js\";\nimport { Vertex as i, Edge as s } from \"../EditGeometry.js\";\nclass d {\n  constructor(e, t, i) {\n    this._editGeometry = e, this._component = t, this._pos = i, this._addedVertex = null, this._originalEdge = null, this._left = null, this._right = null;\n  }\n  apply() {\n    let d = \"redo\";\n    e(this._addedVertex) && (d = \"apply\", this._addedVertex = new i(this._component));\n    const h = this._component.getLastVertex();\n    if (e(h)) this._component.vertices.push(this._addedVertex), this._addedVertex.pos = this._pos, this._addedVertex.index = 0;else {\n      let i = null;\n      h.rightEdge && (this._originalEdge = h.rightEdge, i = this._originalEdge.rightVertex, this._component.edges.splice(this._component.edges.indexOf(this._originalEdge), 1)), this._component.vertices.push(this._addedVertex), this._addedVertex.pos = this._pos, e(this._left) && (this._left = new s(this._component, h, this._addedVertex)), this._component.edges.push(this._left), h.rightEdge = this._left, t(this._originalEdge) && t(i) && (e(this._right) && (this._right = new s(this._component, this._addedVertex, i)), this._component.edges.push(this._right), i.leftEdge = this._right), this._component.updateVertexIndex(this._addedVertex, h.index + 1);\n    }\n    this._editGeometry.notifyChanges({\n      operation: d,\n      addedVertices: [this._addedVertex]\n    });\n  }\n  undo() {\n    e(this._addedVertex) || (this._component.vertices.splice(this._component.vertices.indexOf(this._addedVertex), 1), t(this._left) && (this._component.edges.splice(this._component.edges.indexOf(this._left), 1), this._left.leftVertex.rightEdge = null), t(this._right) && (this._component.edges.splice(this._component.edges.indexOf(this._right), 1), this._right.rightVertex.leftEdge = null), t(this._originalEdge) && (this._component.edges.push(this._originalEdge), this._originalEdge.leftVertex.rightEdge = this._originalEdge, this._originalEdge.rightVertex.leftEdge = this._originalEdge), t(this._left) ? this._component.updateVertexIndex(this._left.leftVertex, this._left.leftVertex.index) : this._component.updateVertexIndex(this._addedVertex, 0), this._editGeometry.notifyChanges({\n      operation: \"undo\",\n      removedVertices: [this._addedVertex]\n    }));\n  }\n  accumulate() {\n    return !1;\n  }\n}\nexport { d as AppendVertex };","map":{"version":3,"names":["isNone","e","isSome","t","Vertex","i","Edge","s","d","constructor","_editGeometry","_component","_pos","_addedVertex","_originalEdge","_left","_right","apply","h","getLastVertex","vertices","push","pos","index","rightEdge","rightVertex","edges","splice","indexOf","leftEdge","updateVertexIndex","notifyChanges","operation","addedVertices","undo","leftVertex","removedVertices","accumulate","AppendVertex"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/interactive/editGeometry/operations/AppendVertex.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../core/maybe.js\";import{Vertex as i,Edge as s}from\"../EditGeometry.js\";class d{constructor(e,t,i){this._editGeometry=e,this._component=t,this._pos=i,this._addedVertex=null,this._originalEdge=null,this._left=null,this._right=null}apply(){let d=\"redo\";e(this._addedVertex)&&(d=\"apply\",this._addedVertex=new i(this._component));const h=this._component.getLastVertex();if(e(h))this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,this._addedVertex.index=0;else{let i=null;h.rightEdge&&(this._originalEdge=h.rightEdge,i=this._originalEdge.rightVertex,this._component.edges.splice(this._component.edges.indexOf(this._originalEdge),1)),this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,e(this._left)&&(this._left=new s(this._component,h,this._addedVertex)),this._component.edges.push(this._left),h.rightEdge=this._left,t(this._originalEdge)&&t(i)&&(e(this._right)&&(this._right=new s(this._component,this._addedVertex,i)),this._component.edges.push(this._right),i.leftEdge=this._right),this._component.updateVertexIndex(this._addedVertex,h.index+1)}this._editGeometry.notifyChanges({operation:d,addedVertices:[this._addedVertex]})}undo(){e(this._addedVertex)||(this._component.vertices.splice(this._component.vertices.indexOf(this._addedVertex),1),t(this._left)&&(this._component.edges.splice(this._component.edges.indexOf(this._left),1),this._left.leftVertex.rightEdge=null),t(this._right)&&(this._component.edges.splice(this._component.edges.indexOf(this._right),1),this._right.rightVertex.leftEdge=null),t(this._originalEdge)&&(this._component.edges.push(this._originalEdge),this._originalEdge.leftVertex.rightEdge=this._originalEdge,this._originalEdge.rightVertex.leftEdge=this._originalEdge),t(this._left)?this._component.updateVertexIndex(this._left.leftVertex,this._left.leftVertex.index):this._component.updateVertexIndex(this._addedVertex,0),this._editGeometry.notifyChanges({operation:\"undo\",removedVertices:[this._addedVertex]}))}accumulate(){return!1}}export{d as AppendVertex};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}