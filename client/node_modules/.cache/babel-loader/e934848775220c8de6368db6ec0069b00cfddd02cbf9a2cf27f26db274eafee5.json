{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../core/maybe.js\";\nimport { f as t } from \"../../../../chunks/vec2f32.js\";\nimport { Z as r } from \"../../../../chunks/vec2f64.js\";\nimport { newLayout as i } from \"../../support/buffer/InterleavedLayout.js\";\nimport { ShaderOutput as s } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { HUDSpace as n } from \"../core/shaderLibrary/hud/HUD.glsl.js\";\nimport a from \"../lib/GLMaterial.js\";\nimport { Material as o, MaterialParameters as u } from \"../lib/Material.js\";\nimport { RenderSlot as c } from \"../lib/RenderSlot.js\";\nimport { VertexAttribute as f } from \"../lib/VertexAttribute.js\";\nimport { writePosition as l, writeNormal as h, writeBufferVec4 as d } from \"./internal/bufferWriterUtils.js\";\nimport { LineCalloutTechnique as m } from \"../shaders/LineCalloutTechnique.js\";\nimport { LineCalloutTechniqueConfiguration as p } from \"../shaders/LineCalloutTechniqueConfiguration.js\";\nclass g extends o {\n  get uniqueMaterialIdentifier() {\n    return this._uniqueMaterialIdentifier;\n  }\n  constructor(e) {\n    super(e, new S()), this._configuration = new p(), this._uniqueMaterialIdentifier = g.uniqueMaterialIdentifier(this.parameters);\n  }\n  getPassParameters() {\n    return this.parameters;\n  }\n  getConfiguration(t, r) {\n    const i = r?.slot !== c.LINE_CALLOUTS;\n    return this._configuration.occlusionTestEnabled = this.parameters.occlusionTest, this._configuration.hasVerticalOffset = e(this.parameters.verticalOffset), this._configuration.hasScreenSizePerspective = e(this.parameters.screenSizePerspective), this._configuration.depthHudEnabled = i, this._configuration.depthHudAlignStartEnabled = !!this.parameters.depthHUDAlignStart, this._configuration.screenCenterOffsetUnitsEnabled = \"screen\" === this.parameters.centerOffsetUnits ? n.Screen : n.World, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.hasMultipassGeometry = r.multipassGeometry.enabled, this._configuration;\n  }\n  intersect() {}\n  requiresSlot(e, t) {\n    if (t === s.Color) switch (e) {\n      case c.LINE_CALLOUTS:\n      case c.LINE_CALLOUTS_HUD_DEPTH:\n        return !0;\n    }\n    return !1;\n  }\n  createGLMaterial(e) {\n    return new O(e);\n  }\n  createBufferWriter() {\n    return new b();\n  }\n  validateParameters(e) {\n    const t = g.uniqueMaterialIdentifier(e);\n    t !== this._uniqueMaterialIdentifier && (this._uniqueMaterialIdentifier = t);\n  }\n  static uniqueMaterialIdentifier(e) {\n    return JSON.stringify({\n      screenOffset: e.screenOffset || [0, 0],\n      centerOffsetUnits: e.centerOffsetUnits || \"world\"\n    });\n  }\n}\nclass O extends a {\n  beginSlot(e) {\n    return this.ensureTechnique(m, e);\n  }\n}\nclass S extends u {\n  constructor() {\n    super(...arguments), this.screenOffset = r, this.color = [0, 0, 0, 1], this.size = 1, this.occlusionTest = !1, this.shaderPolygonOffset = 1e-5, this.depthHUDAlignStart = !1, this.centerOffsetUnits = \"world\", this.hasSlicePlane = !1;\n  }\n}\nconst L = i().vec3f(f.POSITION).vec3f(f.NORMAL).vec2f(f.UV0).vec4f(f.AUXPOS1),\n  I = [t(0, 0), t(1, 0), t(0, 1), t(1, 0), t(1, 1), t(0, 1)];\nclass b {\n  constructor() {\n    this.vertexBufferLayout = L;\n  }\n  allocate(e) {\n    return this.vertexBufferLayout.createBuffer(e);\n  }\n  elementCount(e) {\n    return 6 * e.indices.get(f.POSITION).length;\n  }\n  write(e, t, r, i, s) {\n    l(r.indices.get(f.POSITION), r.vertexAttributes.get(f.POSITION).data, e, i.position, s, 6), h(r.indices.get(f.NORMAL), r.vertexAttributes.get(f.NORMAL).data, t, i.normal, s, 6), d(r.indices.get(f.AUXPOS1), r.vertexAttributes.get(f.AUXPOS1).data, i.auxpos1, s, 6);\n    for (let n = 0; n < I.length; ++n) i.uv0.setVec(s + n, I[n]);\n  }\n}\nexport { g as LineCalloutMaterial, S as Parameters };","map":{"version":3,"names":["isSome","e","f","t","Z","r","newLayout","i","ShaderOutput","s","HUDSpace","n","a","Material","o","MaterialParameters","u","RenderSlot","c","VertexAttribute","writePosition","l","writeNormal","h","writeBufferVec4","d","LineCalloutTechnique","m","LineCalloutTechniqueConfiguration","p","g","uniqueMaterialIdentifier","_uniqueMaterialIdentifier","constructor","S","_configuration","parameters","getPassParameters","getConfiguration","slot","LINE_CALLOUTS","occlusionTestEnabled","occlusionTest","hasVerticalOffset","verticalOffset","hasScreenSizePerspective","screenSizePerspective","depthHudEnabled","depthHudAlignStartEnabled","depthHUDAlignStart","screenCenterOffsetUnitsEnabled","centerOffsetUnits","Screen","World","hasSlicePlane","hasMultipassGeometry","multipassGeometry","enabled","intersect","requiresSlot","Color","LINE_CALLOUTS_HUD_DEPTH","createGLMaterial","O","createBufferWriter","b","validateParameters","JSON","stringify","screenOffset","beginSlot","ensureTechnique","arguments","color","size","shaderPolygonOffset","L","vec3f","POSITION","NORMAL","vec2f","UV0","vec4f","AUXPOS1","I","vertexBufferLayout","allocate","createBuffer","elementCount","indices","get","length","write","vertexAttributes","data","position","normal","auxpos1","uv0","setVec","LineCalloutMaterial","Parameters"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/materials/LineCalloutMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{f as t}from\"../../../../chunks/vec2f32.js\";import{Z as r}from\"../../../../chunks/vec2f64.js\";import{newLayout as i}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as s}from\"../core/shaderLibrary/ShaderOutput.js\";import{HUDSpace as n}from\"../core/shaderLibrary/hud/HUD.glsl.js\";import a from\"../lib/GLMaterial.js\";import{Material as o,MaterialParameters as u}from\"../lib/Material.js\";import{RenderSlot as c}from\"../lib/RenderSlot.js\";import{VertexAttribute as f}from\"../lib/VertexAttribute.js\";import{writePosition as l,writeNormal as h,writeBufferVec4 as d}from\"./internal/bufferWriterUtils.js\";import{LineCalloutTechnique as m}from\"../shaders/LineCalloutTechnique.js\";import{LineCalloutTechniqueConfiguration as p}from\"../shaders/LineCalloutTechniqueConfiguration.js\";class g extends o{get uniqueMaterialIdentifier(){return this._uniqueMaterialIdentifier}constructor(e){super(e,new S),this._configuration=new p,this._uniqueMaterialIdentifier=g.uniqueMaterialIdentifier(this.parameters)}getPassParameters(){return this.parameters}getConfiguration(t,r){const i=r?.slot!==c.LINE_CALLOUTS;return this._configuration.occlusionTestEnabled=this.parameters.occlusionTest,this._configuration.hasVerticalOffset=e(this.parameters.verticalOffset),this._configuration.hasScreenSizePerspective=e(this.parameters.screenSizePerspective),this._configuration.depthHudEnabled=i,this._configuration.depthHudAlignStartEnabled=!!this.parameters.depthHUDAlignStart,this._configuration.screenCenterOffsetUnitsEnabled=\"screen\"===this.parameters.centerOffsetUnits?n.Screen:n.World,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasMultipassGeometry=r.multipassGeometry.enabled,this._configuration}intersect(){}requiresSlot(e,t){if(t===s.Color)switch(e){case c.LINE_CALLOUTS:case c.LINE_CALLOUTS_HUD_DEPTH:return!0}return!1}createGLMaterial(e){return new O(e)}createBufferWriter(){return new b}validateParameters(e){const t=g.uniqueMaterialIdentifier(e);t!==this._uniqueMaterialIdentifier&&(this._uniqueMaterialIdentifier=t)}static uniqueMaterialIdentifier(e){return JSON.stringify({screenOffset:e.screenOffset||[0,0],centerOffsetUnits:e.centerOffsetUnits||\"world\"})}}class O extends a{beginSlot(e){return this.ensureTechnique(m,e)}}class S extends u{constructor(){super(...arguments),this.screenOffset=r,this.color=[0,0,0,1],this.size=1,this.occlusionTest=!1,this.shaderPolygonOffset=1e-5,this.depthHUDAlignStart=!1,this.centerOffsetUnits=\"world\",this.hasSlicePlane=!1}}const L=i().vec3f(f.POSITION).vec3f(f.NORMAL).vec2f(f.UV0).vec4f(f.AUXPOS1),I=[t(0,0),t(1,0),t(0,1),t(1,0),t(1,1),t(0,1)];class b{constructor(){this.vertexBufferLayout=L}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return 6*e.indices.get(f.POSITION).length}write(e,t,r,i,s){l(r.indices.get(f.POSITION),r.vertexAttributes.get(f.POSITION).data,e,i.position,s,6),h(r.indices.get(f.NORMAL),r.vertexAttributes.get(f.NORMAL).data,t,i.normal,s,6),d(r.indices.get(f.AUXPOS1),r.vertexAttributes.get(f.AUXPOS1).data,i.auxpos1,s,6);for(let n=0;n<I.length;++n)i.uv0.setVec(s+n,I[n])}}export{g as LineCalloutMaterial,S as Parameters};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}