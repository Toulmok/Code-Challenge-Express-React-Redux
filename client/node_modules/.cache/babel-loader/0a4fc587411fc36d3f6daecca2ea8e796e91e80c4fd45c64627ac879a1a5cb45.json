{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport r from \"../Error.js\";\nimport has from \"../has.js\";\nimport { throwIfAborted as t } from \"../promiseUtils.js\";\nimport e from \"./Connection.js\";\nimport n from \"./RemoteClient.js\";\nimport o from \"./WorkerOwner.js\";\nlet i = has(\"esri-workers-debug\") ? 1 : has(\"esri-mobile\") ? Math.min(navigator.hardwareConcurrency - 1, 3) : has(\"host-browser\") ? navigator.hardwareConcurrency - 1 : 0;\ni || (i = has(\"safari\") && has(\"mac\") ? 7 : 2);\nlet a = 0;\nconst s = [];\nfunction c() {\n  d();\n}\nfunction l(r, t) {\n  return m(r, {\n    client: t\n  });\n}\nasync function m(r, t) {\n  const n = new e();\n  return await n.open(r, t), n;\n}\nasync function u(e) {\n  let o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (\"string\" != typeof e) throw new r(\"workers:undefined-module\", \"modulePath is missing\");\n  let c = o.strategy || \"distributed\";\n  if (has(\"host-webworker\") && !has(\"esri-workers\") && (c = \"local\"), \"local\" === c) {\n    let r = await n.loadWorker(e);\n    r || (r = await import( /* @vite-ignore */ /* webpackIgnore: true */e)), t(o.signal);\n    const i = o.client || r;\n    return m([n.connect(r)], {\n      ...o,\n      client: i\n    });\n  }\n  if (await d(), t(o.signal), \"dedicated\" === c) {\n    const r = a++ % i;\n    return m([await s[r].open(e, o)], o);\n  }\n  if (o.maxNumWorkers && o.maxNumWorkers > 0) {\n    const r = Math.min(o.maxNumWorkers, i);\n    if (r < i) {\n      const t = new Array(r);\n      for (let n = 0; n < r; ++n) {\n        const r = a++ % i;\n        t[n] = s[r].open(e, o);\n      }\n      return m(t, o);\n    }\n  }\n  return m(s.map(r => r.open(e, o)), o);\n}\nfunction f() {\n  p && (w.abort(), p = null);\n  for (let r = 0; r < s.length; r++) s[r] && s[r].terminate();\n  s.length = 0;\n}\nlet w,\n  p = null;\nasync function d() {\n  if (p) return p;\n  w = new AbortController();\n  const r = [];\n  for (let t = 0; t < i; t++) {\n    const e = o.create(t).then(r => (s[t] = r, r));\n    r.push(e);\n  }\n  return p = Promise.all(r), p;\n}\nexport { e as Connection, n as RemoteClient, c as initialize, u as open, l as openWithPorts, f as terminate };","map":{"version":3,"names":["r","has","throwIfAborted","t","e","n","o","i","Math","min","navigator","hardwareConcurrency","a","s","c","d","l","m","client","open","u","arguments","length","undefined","strategy","loadWorker","signal","connect","maxNumWorkers","Array","map","f","p","w","abort","terminate","AbortController","create","then","push","Promise","all","Connection","RemoteClient","initialize","openWithPorts"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/core/workers/workers.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport r from\"../Error.js\";import has from\"../has.js\";import{throwIfAborted as t}from\"../promiseUtils.js\";import e from\"./Connection.js\";import n from\"./RemoteClient.js\";import o from\"./WorkerOwner.js\";let i=has(\"esri-workers-debug\")?1:has(\"esri-mobile\")?Math.min(navigator.hardwareConcurrency-1,3):has(\"host-browser\")?navigator.hardwareConcurrency-1:0;i||(i=has(\"safari\")&&has(\"mac\")?7:2);let a=0;const s=[];function c(){d()}function l(r,t){return m(r,{client:t})}async function m(r,t){const n=new e;return await n.open(r,t),n}async function u(e,o={}){if(\"string\"!=typeof e)throw new r(\"workers:undefined-module\",\"modulePath is missing\");let c=o.strategy||\"distributed\";if(has(\"host-webworker\")&&!has(\"esri-workers\")&&(c=\"local\"),\"local\"===c){let r=await n.loadWorker(e);r||(r=await import(/* @vite-ignore */ /* webpackIgnore: true */e)),t(o.signal);const i=o.client||r;return m([n.connect(r)],{...o,client:i})}if(await d(),t(o.signal),\"dedicated\"===c){const r=a++%i;return m([await s[r].open(e,o)],o)}if(o.maxNumWorkers&&o.maxNumWorkers>0){const r=Math.min(o.maxNumWorkers,i);if(r<i){const t=new Array(r);for(let n=0;n<r;++n){const r=a++%i;t[n]=s[r].open(e,o)}return m(t,o)}}return m(s.map((r=>r.open(e,o))),o)}function f(){p&&(w.abort(),p=null);for(let r=0;r<s.length;r++)s[r]&&s[r].terminate();s.length=0}let w,p=null;async function d(){if(p)return p;w=new AbortController;const r=[];for(let t=0;t<i;t++){const e=o.create(t).then((r=>(s[t]=r,r)));r.push(e)}return p=Promise.all(r),p}export{e as Connection,n as RemoteClient,c as initialize,u as open,l as openWithPorts,f as terminate};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAC,MAAK,aAAa;AAAC,OAAOC,GAAG,MAAK,WAAW;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,oBAAoB;AAAC,OAAOC,CAAC,MAAK,iBAAiB;AAAC,OAAOC,CAAC,MAAK,mBAAmB;AAAC,OAAOC,CAAC,MAAK,kBAAkB;AAAC,IAAIC,CAAC,GAACN,GAAG,CAAC,oBAAoB,CAAC,GAAC,CAAC,GAACA,GAAG,CAAC,aAAa,CAAC,GAACO,IAAI,CAACC,GAAG,CAACC,SAAS,CAACC,mBAAmB,GAAC,CAAC,EAAC,CAAC,CAAC,GAACV,GAAG,CAAC,cAAc,CAAC,GAACS,SAAS,CAACC,mBAAmB,GAAC,CAAC,GAAC,CAAC;AAACJ,CAAC,KAAGA,CAAC,GAACN,GAAG,CAAC,QAAQ,CAAC,IAAEA,GAAG,CAAC,KAAK,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC;AAAC,IAAIW,CAAC,GAAC,CAAC;AAAC,MAAMC,CAAC,GAAC,EAAE;AAAC,SAASC,CAACA,CAAA,EAAE;EAACC,CAAC,EAAE;AAAA;AAAC,SAASC,CAACA,CAAChB,CAAC,EAACG,CAAC,EAAC;EAAC,OAAOc,CAAC,CAACjB,CAAC,EAAC;IAACkB,MAAM,EAACf;EAAC,CAAC,CAAC;AAAA;AAAC,eAAec,CAACA,CAACjB,CAAC,EAACG,CAAC,EAAC;EAAC,MAAME,CAAC,GAAC,IAAID,CAAC;EAAC,OAAO,MAAMC,CAAC,CAACc,IAAI,CAACnB,CAAC,EAACG,CAAC,CAAC,EAACE,CAAC;AAAA;AAAC,eAAee,CAACA,CAAChB,CAAC,EAAM;EAAA,IAALE,CAAC,GAAAe,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAC,CAAC,CAAC;EAAE,IAAG,QAAQ,IAAE,OAAOjB,CAAC,EAAC,MAAM,IAAIJ,CAAC,CAAC,0BAA0B,EAAC,uBAAuB,CAAC;EAAC,IAAIc,CAAC,GAACR,CAAC,CAACkB,QAAQ,IAAE,aAAa;EAAC,IAAGvB,GAAG,CAAC,gBAAgB,CAAC,IAAE,CAACA,GAAG,CAAC,cAAc,CAAC,KAAGa,CAAC,GAAC,OAAO,CAAC,EAAC,OAAO,KAAGA,CAAC,EAAC;IAAC,IAAId,CAAC,GAAC,MAAMK,CAAC,CAACoB,UAAU,CAACrB,CAAC,CAAC;IAACJ,CAAC,KAAGA,CAAC,GAAC,MAAM,MAAM,EAAC,mBAAmB,yBAAyBI,CAAC,CAAC,CAAC,EAACD,CAAC,CAACG,CAAC,CAACoB,MAAM,CAAC;IAAC,MAAMnB,CAAC,GAACD,CAAC,CAACY,MAAM,IAAElB,CAAC;IAAC,OAAOiB,CAAC,CAAC,CAACZ,CAAC,CAACsB,OAAO,CAAC3B,CAAC,CAAC,CAAC,EAAC;MAAC,GAAGM,CAAC;MAACY,MAAM,EAACX;IAAC,CAAC,CAAC;EAAA;EAAC,IAAG,MAAMQ,CAAC,EAAE,EAACZ,CAAC,CAACG,CAAC,CAACoB,MAAM,CAAC,EAAC,WAAW,KAAGZ,CAAC,EAAC;IAAC,MAAMd,CAAC,GAACY,CAAC,EAAE,GAACL,CAAC;IAAC,OAAOU,CAAC,CAAC,CAAC,MAAMJ,CAAC,CAACb,CAAC,CAAC,CAACmB,IAAI,CAACf,CAAC,EAACE,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC;EAAA;EAAC,IAAGA,CAAC,CAACsB,aAAa,IAAEtB,CAAC,CAACsB,aAAa,GAAC,CAAC,EAAC;IAAC,MAAM5B,CAAC,GAACQ,IAAI,CAACC,GAAG,CAACH,CAAC,CAACsB,aAAa,EAACrB,CAAC,CAAC;IAAC,IAAGP,CAAC,GAACO,CAAC,EAAC;MAAC,MAAMJ,CAAC,GAAC,IAAI0B,KAAK,CAAC7B,CAAC,CAAC;MAAC,KAAI,IAAIK,CAAC,GAAC,CAAC,EAACA,CAAC,GAACL,CAAC,EAAC,EAAEK,CAAC,EAAC;QAAC,MAAML,CAAC,GAACY,CAAC,EAAE,GAACL,CAAC;QAACJ,CAAC,CAACE,CAAC,CAAC,GAACQ,CAAC,CAACb,CAAC,CAAC,CAACmB,IAAI,CAACf,CAAC,EAACE,CAAC,CAAC;MAAA;MAAC,OAAOW,CAAC,CAACd,CAAC,EAACG,CAAC,CAAC;IAAA;EAAC;EAAC,OAAOW,CAAC,CAACJ,CAAC,CAACiB,GAAG,CAAE9B,CAAC,IAAEA,CAAC,CAACmB,IAAI,CAACf,CAAC,EAACE,CAAC,CAAC,CAAE,EAACA,CAAC,CAAC;AAAA;AAAC,SAASyB,CAACA,CAAA,EAAE;EAACC,CAAC,KAAGC,CAAC,CAACC,KAAK,EAAE,EAACF,CAAC,GAAC,IAAI,CAAC;EAAC,KAAI,IAAIhC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACa,CAAC,CAACS,MAAM,EAACtB,CAAC,EAAE,EAACa,CAAC,CAACb,CAAC,CAAC,IAAEa,CAAC,CAACb,CAAC,CAAC,CAACmC,SAAS,EAAE;EAACtB,CAAC,CAACS,MAAM,GAAC,CAAC;AAAA;AAAC,IAAIW,CAAC;EAACD,CAAC,GAAC,IAAI;AAAC,eAAejB,CAACA,CAAA,EAAE;EAAC,IAAGiB,CAAC,EAAC,OAAOA,CAAC;EAACC,CAAC,GAAC,IAAIG,eAAe;EAAC,MAAMpC,CAAC,GAAC,EAAE;EAAC,KAAI,IAAIG,CAAC,GAAC,CAAC,EAACA,CAAC,GAACI,CAAC,EAACJ,CAAC,EAAE,EAAC;IAAC,MAAMC,CAAC,GAACE,CAAC,CAAC+B,MAAM,CAAClC,CAAC,CAAC,CAACmC,IAAI,CAAEtC,CAAC,KAAGa,CAAC,CAACV,CAAC,CAAC,GAACH,CAAC,EAACA,CAAC,CAAC,CAAE;IAACA,CAAC,CAACuC,IAAI,CAACnC,CAAC,CAAC;EAAA;EAAC,OAAO4B,CAAC,GAACQ,OAAO,CAACC,GAAG,CAACzC,CAAC,CAAC,EAACgC,CAAC;AAAA;AAAC,SAAO5B,CAAC,IAAIsC,UAAU,EAACrC,CAAC,IAAIsC,YAAY,EAAC7B,CAAC,IAAI8B,UAAU,EAACxB,CAAC,IAAID,IAAI,EAACH,CAAC,IAAI6B,aAAa,EAACd,CAAC,IAAII,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}