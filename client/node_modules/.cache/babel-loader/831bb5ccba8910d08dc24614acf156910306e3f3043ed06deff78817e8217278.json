{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { addProjViewLocalOrigin as e } from \"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";\nimport { FloatPassUniform as i } from \"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";\nimport { glsl as o } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { ShaderBuilder as r } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { VertexAttribute as t } from \"../views/3d/webgl-engine/lib/VertexAttribute.js\";\nfunction a(a) {\n  const s = new r(),\n    {\n      vertex: d,\n      fragment: u\n    } = s;\n  e(d, a);\n  const {\n    isAttributeDriven: n,\n    usesHalfFloat: l\n  } = a;\n  return s.attributes.add(t.POSITION, \"vec3\"), s.attributes.add(t.UV0, \"vec2\"), n && (s.attributes.add(t.FEATUREATTRIBUTE, \"float\"), s.varyings.add(\"attributeValue\", \"float\")), l && s.constants.add(\"compressionFactor\", \"float\", .25), s.varyings.add(\"unitCirclePos\", \"vec2\"), d.uniforms.add(new i(\"radius\", (_ref, _ref2) => {\n    let {\n      resolutionForScale: e,\n      searchRadius: i\n    } = _ref;\n    let {\n      camera: o,\n      screenToWorldRatio: r\n    } = _ref2;\n    return 2 * i * (0 === e ? 1 : e / r) * o.pixelRatio / o.fullViewport[2];\n  })), d.code.add(o`\n    void main() {\n      unitCirclePos = uv0;\n\n      vec4 posProj = proj * (view * vec4(${t.POSITION}, 1.0));\n      vec4 quadOffset = vec4(unitCirclePos * radius, 0.0, 0.0);\n\n      ${n ? o`attributeValue = ${t.FEATUREATTRIBUTE};` : \"\"}\n      gl_Position = posProj + quadOffset;\n    }\n  `), u.code.add(o`\n    void main() {\n      float radiusRatioSquared = dot(unitCirclePos, unitCirclePos);\n      if (radiusRatioSquared > 1.0) {\n        discard;\n      }\n\n      float oneMinusRadiusRatioSquared = 1.0 - radiusRatioSquared;\n      float density = oneMinusRadiusRatioSquared * oneMinusRadiusRatioSquared ${n ? o` * attributeValue` : \"\"} ${l ? o` * compressionFactor` : \"\"};\n      gl_FragColor = vec4(density);\n    }\n  `), s;\n}\nconst s = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  build: a\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { s as H, a as b };","map":{"version":3,"names":["addProjViewLocalOrigin","e","FloatPassUniform","i","glsl","o","ShaderBuilder","r","VertexAttribute","t","a","s","vertex","d","fragment","u","isAttributeDriven","n","usesHalfFloat","l","attributes","add","POSITION","UV0","FEATUREATTRIBUTE","varyings","constants","uniforms","_ref","_ref2","resolutionForScale","searchRadius","camera","screenToWorldRatio","pixelRatio","fullViewport","code","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","H","b"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as o}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as t}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function a(a){const s=new r,{vertex:d,fragment:u}=s;e(d,a);const{isAttributeDriven:n,usesHalfFloat:l}=a;return s.attributes.add(t.POSITION,\"vec3\"),s.attributes.add(t.UV0,\"vec2\"),n&&(s.attributes.add(t.FEATUREATTRIBUTE,\"float\"),s.varyings.add(\"attributeValue\",\"float\")),l&&s.constants.add(\"compressionFactor\",\"float\",.25),s.varyings.add(\"unitCirclePos\",\"vec2\"),d.uniforms.add(new i(\"radius\",(({resolutionForScale:e,searchRadius:i},{camera:o,screenToWorldRatio:r})=>2*i*(0===e?1:e/r)*o.pixelRatio/o.fullViewport[2]))),d.code.add(o`\n    void main() {\n      unitCirclePos = uv0;\n\n      vec4 posProj = proj * (view * vec4(${t.POSITION}, 1.0));\n      vec4 quadOffset = vec4(unitCirclePos * radius, 0.0, 0.0);\n\n      ${n?o`attributeValue = ${t.FEATUREATTRIBUTE};`:\"\"}\n      gl_Position = posProj + quadOffset;\n    }\n  `),u.code.add(o`\n    void main() {\n      float radiusRatioSquared = dot(unitCirclePos, unitCirclePos);\n      if (radiusRatioSquared > 1.0) {\n        discard;\n      }\n\n      float oneMinusRadiusRatioSquared = 1.0 - radiusRatioSquared;\n      float density = oneMinusRadiusRatioSquared * oneMinusRadiusRatioSquared ${n?o` * attributeValue`:\"\"} ${l?o` * compressionFactor`:\"\"};\n      gl_FragColor = vec4(density);\n    }\n  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:a},Symbol.toStringTag,{value:\"Module\"}));export{s as H,a as b};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,sBAAsB,IAAIC,CAAC,QAAK,+DAA+D;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,iEAAiE;AAAC,SAAOC,IAAI,IAAIC,CAAC,QAAK,2DAA2D;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,8DAA8D;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,iDAAiD;AAAC,SAASC,CAACA,CAACA,CAAC,EAAC;EAAC,MAAMC,CAAC,GAAC,IAAIJ,CAAC;IAAC;MAACK,MAAM,EAACC,CAAC;MAACC,QAAQ,EAACC;IAAC,CAAC,GAACJ,CAAC;EAACV,CAAC,CAACY,CAAC,EAACH,CAAC,CAAC;EAAC,MAAK;IAACM,iBAAiB,EAACC,CAAC;IAACC,aAAa,EAACC;EAAC,CAAC,GAACT,CAAC;EAAC,OAAOC,CAAC,CAACS,UAAU,CAACC,GAAG,CAACZ,CAAC,CAACa,QAAQ,EAAC,MAAM,CAAC,EAACX,CAAC,CAACS,UAAU,CAACC,GAAG,CAACZ,CAAC,CAACc,GAAG,EAAC,MAAM,CAAC,EAACN,CAAC,KAAGN,CAAC,CAACS,UAAU,CAACC,GAAG,CAACZ,CAAC,CAACe,gBAAgB,EAAC,OAAO,CAAC,EAACb,CAAC,CAACc,QAAQ,CAACJ,GAAG,CAAC,gBAAgB,EAAC,OAAO,CAAC,CAAC,EAACF,CAAC,IAAER,CAAC,CAACe,SAAS,CAACL,GAAG,CAAC,mBAAmB,EAAC,OAAO,EAAC,GAAG,CAAC,EAACV,CAAC,CAACc,QAAQ,CAACJ,GAAG,CAAC,eAAe,EAAC,MAAM,CAAC,EAACR,CAAC,CAACc,QAAQ,CAACN,GAAG,CAAC,IAAIlB,CAAC,CAAC,QAAQ,EAAE,CAAAyB,IAAA,EAAAC,KAAA;IAAA,IAAC;MAACC,kBAAkB,EAAC7B,CAAC;MAAC8B,YAAY,EAAC5B;IAAC,CAAC,GAAAyB,IAAA;IAAA,IAAC;MAACI,MAAM,EAAC3B,CAAC;MAAC4B,kBAAkB,EAAC1B;IAAC,CAAC,GAAAsB,KAAA;IAAA,OAAG,CAAC,GAAC1B,CAAC,IAAE,CAAC,KAAGF,CAAC,GAAC,CAAC,GAACA,CAAC,GAACM,CAAC,CAAC,GAACF,CAAC,CAAC6B,UAAU,GAAC7B,CAAC,CAAC8B,YAAY,CAAC,CAAC,CAAC;EAAA,EAAE,CAAC,EAACtB,CAAC,CAACuB,IAAI,CAACf,GAAG,CAAChB,CAAE;AAC39B;AACA;AACA;AACA,2CAA2CI,CAAC,CAACa,QAAS;AACtD;AACA;AACA,QAAQL,CAAC,GAACZ,CAAE,oBAAmBI,CAAC,CAACe,gBAAiB,GAAE,GAAC,EAAG;AACxD;AACA;AACA,GAAG,CAAC,EAACT,CAAC,CAACqB,IAAI,CAACf,GAAG,CAAChB,CAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgFY,CAAC,GAACZ,CAAE,mBAAkB,GAAC,EAAG,IAAGc,CAAC,GAACd,CAAE,sBAAqB,GAAC,EAAG;AAC1I;AACA;AACA,GAAG,CAAC,EAACM,CAAC;AAAA;AAAC,MAAMA,CAAC,GAAC0B,MAAM,CAACC,MAAM,CAACD,MAAM,CAACE,cAAc,CAAC;EAACC,SAAS,EAAC,IAAI;EAACC,KAAK,EAAC/B;AAAC,CAAC,EAACgC,MAAM,CAACC,WAAW,EAAC;EAACC,KAAK,EAAC;AAAQ,CAAC,CAAC,CAAC;AAAC,SAAOjC,CAAC,IAAIkC,CAAC,EAACnC,CAAC,IAAIoC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}