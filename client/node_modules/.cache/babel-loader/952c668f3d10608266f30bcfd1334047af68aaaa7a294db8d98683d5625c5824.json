{"ast":null,"code":"import _regeneratorRuntime from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport r from \"../../core/Logger.js\";\nimport { debounce as s, ignoreAbortErrors as t } from \"../../core/promiseUtils.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as a } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { registerLayer as i, unregisterLayer as h } from \"./refresh.js\";\nfunction n(e) {\n  return null != e && \"object\" == typeof e && \"refreshTimestamp\" in e && \"refresh\" in e;\n}\nvar p = function p(n) {\n  var p = /*#__PURE__*/function (_n) {\n    _inherits(p, _n);\n    var _super = _createSuper(p);\n    function p() {\n      var _this;\n      _classCallCheck(this, p);\n      for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {\n        e[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(e)), _this.refreshInterval = 0, _this.refreshTimestamp = 0, _this._debounceHasDataChanged = s(function () {\n        return _this.hasDataChanged();\n      }), _this.when().then(function () {\n        i(_assertThisInitialized(_this));\n      }, function () {});\n      return _this;\n    }\n    _createClass(p, [{\n      key: \"destroy\",\n      value: function destroy() {\n        h(this);\n      }\n    }, {\n      key: \"refreshParameters\",\n      get: function get() {\n        return {\n          _ts: this.refreshTimestamp || null\n        };\n      }\n    }, {\n      key: \"refresh\",\n      value: function refresh() {\n        var _this2 = this;\n        var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Date.now();\n        t(this._debounceHasDataChanged()).then(function (r) {\n          r && _this2._set(\"refreshTimestamp\", e), _this2.emit(\"refresh\", {\n            dataChanged: r\n          });\n        }, function (e) {\n          r.getLogger(_this2.declaredClass).error(e), _this2.emit(\"refresh\", {\n            dataChanged: !1,\n            error: e\n          });\n        });\n      }\n    }, {\n      key: \"hasDataChanged\",\n      value: function () {\n        var _hasDataChanged = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", !0);\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        function hasDataChanged() {\n          return _hasDataChanged.apply(this, arguments);\n        }\n        return hasDataChanged;\n      }()\n    }]);\n    return p;\n  }(n);\n  return e([o({\n    type: Number,\n    cast: function cast(e) {\n      return e >= .1 ? e : e <= 0 ? 0 : .1;\n    },\n    json: {\n      write: !0\n    }\n  })], p.prototype, \"refreshInterval\", void 0), e([o({\n    readOnly: !0\n  })], p.prototype, \"refreshTimestamp\", void 0), e([o()], p.prototype, \"refreshParameters\", null), p = e([a(\"esri.layers.mixins.RefreshableLayer\")], p), p;\n};\nexport { p as RefreshableLayer, n as isRefreshableLayer };","map":{"version":3,"names":["_","e","r","debounce","s","ignoreAbortErrors","t","property","o","subclass","a","registerLayer","i","unregisterLayer","h","n","p","_n","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","Array","_key","call","apply","concat","refreshInterval","refreshTimestamp","_debounceHasDataChanged","hasDataChanged","when","then","_assertThisInitialized","_createClass","key","value","destroy","get","_ts","refresh","_this2","undefined","Date","now","_set","emit","dataChanged","getLogger","declaredClass","error","_hasDataChanged","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","stop","type","Number","cast","json","write","prototype","readOnly","RefreshableLayer","isRefreshableLayer"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Logger.js\";import{debounce as s,ignoreAbortErrors as t}from\"../../core/promiseUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{registerLayer as i,unregisterLayer as h}from\"./refresh.js\";function n(e){return null!=e&&\"object\"==typeof e&&\"refreshTimestamp\"in e&&\"refresh\"in e}const p=n=>{let p=class extends n{constructor(...e){super(...e),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=s((()=>this.hasDataChanged())),this.when().then((()=>{i(this)}),(()=>{}))}destroy(){h(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(e=Date.now()){t(this._debounceHasDataChanged()).then((r=>{r&&this._set(\"refreshTimestamp\",e),this.emit(\"refresh\",{dataChanged:r})}),(e=>{r.getLogger(this.declaredClass).error(e),this.emit(\"refresh\",{dataChanged:!1,error:e})}))}async hasDataChanged(){return!0}};return e([o({type:Number,cast:e=>e>=.1?e:e<=0?0:.1,json:{write:!0}})],p.prototype,\"refreshInterval\",void 0),e([o({readOnly:!0})],p.prototype,\"refreshTimestamp\",void 0),e([o()],p.prototype,\"refreshParameters\",null),p=e([a(\"esri.layers.mixins.RefreshableLayer\")],p),p};export{p as RefreshableLayer,n as isRefreshableLayer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}