{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../TimeExtent.js\";\nimport { unwrap as t, isSome as n, isNone as i } from \"../core/maybe.js\";\nimport { eachAlways as r } from \"../core/promiseUtils.js\";\nimport { offsetDate as o } from \"../core/timeUtils.js\";\nfunction m(e) {\n  return void 0 !== e.timeInfo;\n}\nasync function s(o, s) {\n  if (0 === o.length) return e.allTime;\n  const f = o.filter(m);\n  await Promise.all(f.map(e => e.load({\n    signal: s\n  })));\n  const a = [],\n    u = [];\n  for (const e of f) \"feature\" !== e?.type && \"map-image\" !== e?.type || !e.timeInfo?.hasLiveData ? u.push(e) : a.push(e);\n  const l = e => i(e) || e.isAllTime,\n    c = u.map(e => e.timeInfo?.fullTimeExtent);\n  if (c.some(l)) return e.allTime;\n  const p = a.map(async e => {\n      const {\n        timeExtent: n\n      } = await e.fetchRecomputedExtents({\n        signal: s\n      });\n      return n || t(e.timeInfo?.fullTimeExtent);\n    }),\n    T = (await r(p)).map(e => e.value);\n  if (T.some(l)) return e.allTime;\n  return [...T, ...c].filter(n).reduce((e, t) => e.union(t));\n}\nfunction f(t) {\n  if (!t) return t;\n  const {\n    start: i,\n    end: r\n  } = t;\n  return new e({\n    start: n(i) ? o(i, -i.getTimezoneOffset(), \"minutes\") : i,\n    end: n(r) ? o(r, -r.getTimezoneOffset(), \"minutes\") : r\n  });\n}\nfunction a(t) {\n  if (!t) return t;\n  const {\n    start: i,\n    end: r\n  } = t;\n  return new e({\n    start: n(i) ? o(i, i.getTimezoneOffset(), \"minutes\") : i,\n    end: n(r) ? o(r, r.getTimezoneOffset(), \"minutes\") : r\n  });\n}\nexport { s as getTimeExtentFromLayers, a as toLocalTimeExtent, f as toUTCTimeExtent };","map":{"version":3,"names":["e","unwrap","t","isSome","n","isNone","i","eachAlways","r","offsetDate","o","m","timeInfo","s","length","allTime","f","filter","Promise","all","map","load","signal","a","u","type","hasLiveData","push","l","isAllTime","c","fullTimeExtent","some","p","timeExtent","fetchRecomputedExtents","T","value","reduce","union","start","end","getTimezoneOffset","getTimeExtentFromLayers","toLocalTimeExtent","toUTCTimeExtent"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/support/timeUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../TimeExtent.js\";import{unwrap as t,isSome as n,isNone as i}from\"../core/maybe.js\";import{eachAlways as r}from\"../core/promiseUtils.js\";import{offsetDate as o}from\"../core/timeUtils.js\";function m(e){return void 0!==e.timeInfo}async function s(o,s){if(0===o.length)return e.allTime;const f=o.filter(m);await Promise.all(f.map((e=>e.load({signal:s}))));const a=[],u=[];for(const e of f)\"feature\"!==e?.type&&\"map-image\"!==e?.type||!e.timeInfo?.hasLiveData?u.push(e):a.push(e);const l=e=>i(e)||e.isAllTime,c=u.map((e=>e.timeInfo?.fullTimeExtent));if(c.some(l))return e.allTime;const p=a.map((async e=>{const{timeExtent:n}=await e.fetchRecomputedExtents({signal:s});return n||t(e.timeInfo?.fullTimeExtent)})),T=(await r(p)).map((e=>e.value));if(T.some(l))return e.allTime;return[...T,...c].filter(n).reduce(((e,t)=>e.union(t)))}function f(t){if(!t)return t;const{start:i,end:r}=t;return new e({start:n(i)?o(i,-i.getTimezoneOffset(),\"minutes\"):i,end:n(r)?o(r,-r.getTimezoneOffset(),\"minutes\"):r})}function a(t){if(!t)return t;const{start:i,end:r}=t;return new e({start:n(i)?o(i,i.getTimezoneOffset(),\"minutes\"):i,end:n(r)?o(r,r.getTimezoneOffset(),\"minutes\"):r})}export{s as getTimeExtentFromLayers,a as toLocalTimeExtent,f as toUTCTimeExtent};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}