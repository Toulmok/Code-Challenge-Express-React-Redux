{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { makeHandle as e } from \"../../../../core/handleUtils.js\";\nimport { isSome as t } from \"../../../../core/maybe.js\";\nimport { Object3DState as i } from \"../../webgl-engine/lib/basicInterfaces.js\";\nimport { Object3DStateID as h } from \"../../webgl-engine/lib/Object3DStateID.js\";\nclass s {\n  constructor(e) {\n    this._context = e, this._highlights = new Set();\n  }\n  get hasHighlights() {\n    return this._highlights.size > 0;\n  }\n  destroy() {\n    this._highlights = null;\n  }\n  add(t) {\n    const i = new o(t);\n    return this._highlights.add(i), this._enableSet(i), e(() => this._removeSet(i));\n  }\n  _removeSet(e) {\n    this._disableSet(e), this._highlights.delete(e);\n  }\n  _enableSet(e) {\n    e.enabled || (e.enabled = !0, this._context.forEachNode(t => this._enableSetForNode(e, t)));\n  }\n  _enableSetForNode(e, t) {\n    if (!e.enabled) return;\n    const i = e.ids.get(t.id);\n    i && i.forEach(i => this._context.addHighlight(t, i, e.id));\n  }\n  _disableSet(e) {\n    e.enabled && (e.enabled = !1, this._context.forEachNode(t => this._disableSetForNode(e, t)));\n  }\n  _disableSetForNode(e, t) {\n    e.enabled || this._context.removeHighlight(t, e.id);\n  }\n  nodeAdded(e) {\n    this._highlights.forEach(t => this._enableSetForNode(t, e));\n  }\n  nodeRemoved(e) {\n    this._highlights.forEach(t => this._disableSetForNode(t, e));\n  }\n  removeAll() {\n    this._highlights.forEach(e => this._disableSet(e));\n  }\n}\nclass o {\n  constructor(e) {\n    this.id = new h(i.Highlight), this.ids = new Map(), this.enabled = !1;\n    for (const i of e) t(i) && this._add(i.nodeId, i.pointId);\n  }\n  _add(e, t) {\n    const i = this.ids.get(e);\n    i ? i.add(t) : this.ids.set(e, new Set([t]));\n  }\n}\nexport { s as PointHighlights };","map":{"version":3,"names":["makeHandle","e","isSome","t","Object3DState","i","Object3DStateID","h","s","constructor","_context","_highlights","Set","hasHighlights","size","destroy","add","o","_enableSet","_removeSet","_disableSet","delete","enabled","forEachNode","_enableSetForNode","ids","get","id","forEach","addHighlight","_disableSetForNode","removeHighlight","nodeAdded","nodeRemoved","removeAll","Highlight","Map","_add","nodeId","pointId","set","PointHighlights"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{Object3DState as i}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DStateID as h}from\"../../webgl-engine/lib/Object3DStateID.js\";class s{constructor(e){this._context=e,this._highlights=new Set}get hasHighlights(){return this._highlights.size>0}destroy(){this._highlights=null}add(t){const i=new o(t);return this._highlights.add(i),this._enableSet(i),e((()=>this._removeSet(i)))}_removeSet(e){this._disableSet(e),this._highlights.delete(e)}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._highlights.forEach((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._highlights.forEach((t=>this._disableSetForNode(t,e)))}removeAll(){this._highlights.forEach((e=>this._disableSet(e)))}}class o{constructor(e){this.id=new h(i.Highlight),this.ids=new Map,this.enabled=!1;for(const i of e)t(i)&&this._add(i.nodeId,i.pointId)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{s as PointHighlights};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}