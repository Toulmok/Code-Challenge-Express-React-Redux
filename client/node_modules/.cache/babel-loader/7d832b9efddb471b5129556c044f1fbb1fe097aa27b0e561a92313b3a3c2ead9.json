{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { isNone as t } from \"../../../core/maybe.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as r } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport o from \"./BaseRasterFunction.js\";\nimport i from \"./SlopeFunctionArguments.js\";\nimport { slope as n } from \"./surfaceUtils.js\";\nconst p = 1 / 111e3;\nlet c = class extends o {\n  constructor() {\n    super(...arguments), this.functionName = \"Slope\", this.functionArguments = null, this.rasterArgumentNames = [\"raster\"], this.isGCS = !1;\n  }\n  _bindSourceRasters() {\n    this.outputPixelType = this._getOutputPixelType(\"f32\");\n    const e = this.sourceRasterInfos[0].clone();\n    return e.pixelType = this.outputPixelType, e.statistics = \"percent-rise\" !== this.functionArguments.slopeType ? [{\n      min: 0,\n      max: 90,\n      avg: 1,\n      stddev: 1\n    }] : null, e.histograms = null, e.colormap = null, e.attributeTable = null, e.bandCount = 1, this.rasterInfo = e, this.isGCS = e.spatialReference?.isGeographic ?? !1, {\n      success: !0,\n      supportsGPU: !0\n    };\n  }\n  _processPixels(e) {\n    const s = e.pixelBlocks?.[0];\n    if (t(s)) return null;\n    const {\n        zFactor: r,\n        slopeType: o,\n        pixelSizePower: i,\n        pixelSizeFactor: p\n      } = this.functionArguments,\n      {\n        isGCS: c\n      } = this,\n      {\n        extent: u\n      } = e,\n      a = u ? {\n        x: u.width / s.width,\n        y: u.height / s.height\n      } : {\n        x: 1,\n        y: 1\n      };\n    return n(s, {\n      zFactor: r,\n      slopeType: o,\n      pixelSizePower: i,\n      pixelSizeFactor: p,\n      isGCS: c,\n      resolution: a\n    });\n  }\n  _getWebGLParameters() {\n    const {\n      zFactor: e,\n      slopeType: t,\n      pixelSizeFactor: s,\n      pixelSizePower: r\n    } = this.functionArguments;\n    return {\n      zFactor: this.isGCS && e >= 1 ? e * p : e,\n      slopeType: t,\n      pixelSizeFactor: s ?? 0,\n      pixelSizePower: r ?? 0\n    };\n  }\n};\ne([s({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], c.prototype, \"functionName\", void 0), e([s({\n  type: i,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], c.prototype, \"functionArguments\", void 0), e([s()], c.prototype, \"rasterArgumentNames\", void 0), e([s({\n  json: {\n    write: !0\n  }\n})], c.prototype, \"isGCS\", void 0), c = e([r(\"esri.layers.support.rasterFunctions.SlopeFunction\")], c);\nconst u = c;\nexport { u as default };","map":{"version":3,"names":["_","e","isNone","t","property","s","subclass","r","o","i","slope","n","p","c","constructor","arguments","functionName","functionArguments","rasterArgumentNames","isGCS","_bindSourceRasters","outputPixelType","_getOutputPixelType","sourceRasterInfos","clone","pixelType","statistics","slopeType","min","max","avg","stddev","histograms","colormap","attributeTable","bandCount","rasterInfo","spatialReference","isGeographic","success","supportsGPU","_processPixels","pixelBlocks","zFactor","pixelSizePower","pixelSizeFactor","extent","u","a","x","width","y","height","resolution","_getWebGLParameters","json","write","name","prototype","type","default"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/support/rasterFunctions/SlopeFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{isNone as t}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"./BaseRasterFunction.js\";import i from\"./SlopeFunctionArguments.js\";import{slope as n}from\"./surfaceUtils.js\";const p=1/111e3;let c=class extends o{constructor(){super(...arguments),this.functionName=\"Slope\",this.functionArguments=null,this.rasterArgumentNames=[\"raster\"],this.isGCS=!1}_bindSourceRasters(){this.outputPixelType=this._getOutputPixelType(\"f32\");const e=this.sourceRasterInfos[0].clone();return e.pixelType=this.outputPixelType,e.statistics=\"percent-rise\"!==this.functionArguments.slopeType?[{min:0,max:90,avg:1,stddev:1}]:null,e.histograms=null,e.colormap=null,e.attributeTable=null,e.bandCount=1,this.rasterInfo=e,this.isGCS=e.spatialReference?.isGeographic??!1,{success:!0,supportsGPU:!0}}_processPixels(e){const s=e.pixelBlocks?.[0];if(t(s))return null;const{zFactor:r,slopeType:o,pixelSizePower:i,pixelSizeFactor:p}=this.functionArguments,{isGCS:c}=this,{extent:u}=e,a=u?{x:u.width/s.width,y:u.height/s.height}:{x:1,y:1};return n(s,{zFactor:r,slopeType:o,pixelSizePower:i,pixelSizeFactor:p,isGCS:c,resolution:a})}_getWebGLParameters(){const{zFactor:e,slopeType:t,pixelSizeFactor:s,pixelSizePower:r}=this.functionArguments;return{zFactor:this.isGCS&&e>=1?e*p:e,slopeType:t,pixelSizeFactor:s??0,pixelSizePower:r??0}}};e([s({json:{write:!0,name:\"rasterFunction\"}})],c.prototype,\"functionName\",void 0),e([s({type:i,json:{write:!0,name:\"rasterFunctionArguments\"}})],c.prototype,\"functionArguments\",void 0),e([s()],c.prototype,\"rasterArgumentNames\",void 0),e([s({json:{write:!0}})],c.prototype,\"isGCS\",void 0),c=e([r(\"esri.layers.support.rasterFunctions.SlopeFunction\")],c);const u=c;export{u as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}