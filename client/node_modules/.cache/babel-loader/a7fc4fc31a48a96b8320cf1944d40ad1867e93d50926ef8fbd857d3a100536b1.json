{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../../../core/Evented.js\";\nimport has from \"../../../../../core/has.js\";\nimport { r as t } from \"../../../../../chunks/rbush.js\";\nimport { Tile as s } from \"./Tile.js\";\nimport i from \"../../../tiling/TileCoverage.js\";\nimport o from \"../../../tiling/TileKey.js\";\nvar h = {\n    added: [],\n    removed: []\n  },\n  n = new Set(),\n  r = new o(0, 0, 0, 0);\nvar d = /*#__PURE__*/function (_e) {\n  _inherits(d, _e);\n  var _super = _createSuper(d);\n  function d(e) {\n    var _this;\n    _classCallCheck(this, d);\n    _this = _super.call(this), _this._tiles = new Map(), _this._index = t(9, has(\"esri-csp-restrictions\") ? function (e) {\n      return {\n        minX: e.bounds[0],\n        minY: e.bounds[1],\n        maxX: e.bounds[2],\n        maxY: e.bounds[3]\n      };\n    } : [\".bounds[0]\", \".bounds[1]\", \".bounds[2]\", \".bounds[3]\"]), _this.tiles = [], _this.tileScheme = e;\n    return _this;\n  }\n  _createClass(d, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.clear();\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.tiles.length = 0, this._tiles.clear(), this._index.clear();\n    }\n  }, {\n    key: \"has\",\n    value: function has(e) {\n      return this._tiles.has(e);\n    }\n  }, {\n    key: \"get\",\n    value: function get(e) {\n      return this._tiles.get(e);\n    }\n  }, {\n    key: \"boundsIntersections\",\n    value: function boundsIntersections(e) {\n      return this._index.search({\n        minX: e[0],\n        minY: e[1],\n        maxX: e[2],\n        maxY: e[3]\n      });\n    }\n  }, {\n    key: \"updateTiles\",\n    value: function updateTiles(e) {\n      var _this2 = this;\n      var t = {\n        added: [],\n        removed: []\n      };\n      var _iterator = _createForOfIteratorHelper(e.added),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _i = _step.value;\n          if (!this.has(_i)) {\n            var _e2 = new s(this.tileScheme, _i);\n            this._tiles.set(_i, _e2), this._index.insert(_e2), t.added.push(_e2);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      var _iterator2 = _createForOfIteratorHelper(e.removed),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _s = _step2.value;\n          if (this.has(_s)) {\n            var _e3 = this.get(_s);\n            this._tiles.delete(_s), this._index.remove(_e3), t.removed.push(_e3);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      this.tiles.length = 0, this._tiles.forEach(function (e) {\n        return _this2.tiles.push(e);\n      }), (t.added.length || t.removed.length) && this.emit(\"update\", t);\n    }\n  }, {\n    key: \"setViewState\",\n    value: function setViewState(e) {\n      var t = this.tileScheme.getTileCoverage(e, 0);\n      if (!t) return;\n      var o = t.spans,\n        _d = t.lodInfo,\n        l = _d.level;\n      if (o.length > 0) {\n        var _iterator3 = _createForOfIteratorHelper(o),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var _step3$value = _step3.value,\n              _i2 = _step3$value.row,\n              a = _step3$value.colFrom,\n              m = _step3$value.colTo;\n            for (var _e4 = a; _e4 <= m; _e4++) {\n              var _t = r.set(l, _i2, _d.normalizeCol(_e4), _d.getWorldForColumn(_e4)).id;\n              if (n.add(_t), !this.has(_t)) {\n                var _e5 = new s(this.tileScheme, _t);\n                this._tiles.set(_t, _e5), this._index.insert(_e5), this.tiles.push(_e5), h.added.push(_e5);\n              }\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      }\n      for (var _s2 = this.tiles.length - 1; _s2 >= 0; _s2--) {\n        var _e6 = this.tiles[_s2];\n        n.has(_e6.id) || (this._tiles.delete(_e6.id), this.tiles.splice(_s2, 1), this._index.remove(_e6), h.removed.push(_e6));\n      }\n      (h.added.length || h.removed.length) && this.emit(\"update\", h), i.pool.release(t), n.clear(), h.added.length = 0, h.removed.length = 0;\n    }\n  }]);\n  return d;\n}(e);\nexport { d as default };","map":{"version":3,"names":["e","has","r","t","Tile","s","i","o","h","added","removed","n","Set","d","_e","_inherits","_super","_createSuper","_this","_classCallCheck","call","_tiles","Map","_index","minX","bounds","minY","maxX","maxY","tiles","tileScheme","_createClass","key","value","destroy","clear","length","get","boundsIntersections","search","updateTiles","_this2","_iterator","_createForOfIteratorHelper","_step","done","set","insert","push","err","f","_iterator2","_step2","delete","remove","forEach","emit","setViewState","getTileCoverage","spans","lodInfo","l","level","_iterator3","_step3","_step3$value","row","a","colFrom","m","colTo","normalizeCol","getWorldForColumn","id","add","splice","pool","release","default"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/2d/layers/features/support/TileStore.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Evented.js\";import has from\"../../../../../core/has.js\";import{r as t}from\"../../../../../chunks/rbush.js\";import{Tile as s}from\"./Tile.js\";import i from\"../../../tiling/TileCoverage.js\";import o from\"../../../tiling/TileKey.js\";const h={added:[],removed:[]},n=new Set,r=new o(0,0,0,0);class d extends e{constructor(e){super(),this._tiles=new Map,this._index=t(9,has(\"esri-csp-restrictions\")?e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}):[\".bounds[0]\",\".bounds[1]\",\".bounds[2]\",\".bounds[3]\"]),this.tiles=[],this.tileScheme=e}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const t={added:[],removed:[]};for(const i of e.added)if(!this.has(i)){const e=new s(this.tileScheme,i);this._tiles.set(i,e),this._index.insert(e),t.added.push(e)}for(const s of e.removed)if(this.has(s)){const e=this.get(s);this._tiles.delete(s),this._index.remove(e),t.removed.push(e)}this.tiles.length=0,this._tiles.forEach((e=>this.tiles.push(e))),(t.added.length||t.removed.length)&&this.emit(\"update\",t)}setViewState(e){const t=this.tileScheme.getTileCoverage(e,0);if(!t)return;const{spans:o,lodInfo:d}=t,{level:l}=d;if(o.length>0)for(const{row:i,colFrom:a,colTo:m}of o)for(let e=a;e<=m;e++){const t=r.set(l,i,d.normalizeCol(e),d.getWorldForColumn(e)).id;if(n.add(t),!this.has(t)){const e=new s(this.tileScheme,t);this._tiles.set(t,e),this._index.insert(e),this.tiles.push(e),h.added.push(e)}}for(let s=this.tiles.length-1;s>=0;s--){const e=this.tiles[s];n.has(e.id)||(this._tiles.delete(e.id),this.tiles.splice(s,1),this._index.remove(e),h.removed.push(e))}(h.added.length||h.removed.length)&&this.emit(\"update\",h),i.pool.release(t),n.clear(),h.added.length=0,h.removed.length=0}}export{d as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}