{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from \"../../core/Logger.js\";\nimport { isSome as e, disposeMaybe as i, nullifyNonNullableForDispose as r } from \"../../core/maybe.js\";\nimport { ResourceType as s } from \"./enums.js\";\nimport { bindVertexBufferLayout as n, unbindVertexBufferLayout as o } from \"./Util.js\";\nconst a = t.getLogger(\"esri.views.webgl.VertexArrayObject\");\nlet f = class {\n  constructor(t, e, i, r) {\n    let n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n    this._context = t, this._locations = e, this._layout = i, this._buffers = r, this._indexBuffer = n, this._glName = null, this._initialized = !1, t.instanceCounter.increment(s.VertexArrayObject, this);\n  }\n  get glName() {\n    return this._glName;\n  }\n  get context() {\n    return this._context;\n  }\n  get vertexBuffers() {\n    return this._buffers;\n  }\n  get indexBuffer() {\n    return this._indexBuffer;\n  }\n  get size() {\n    return Object.keys(this._buffers).reduce((t, e) => t + this._buffers[e].size, e(this._indexBuffer) ? this._indexBuffer.size : 0);\n  }\n  get layout() {\n    return this._layout;\n  }\n  get locations() {\n    return this._locations;\n  }\n  dispose() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !0;\n    if (!this._context) return void ((this._glName || t && Object.getOwnPropertyNames(this._buffers).length > 0) && a.warn(\"Leaked WebGL VAO\"));\n    if (this._glName) {\n      const t = this._context?.capabilities?.vao;\n      t ? (t.deleteVertexArray(this._glName), this._glName = null) : a.warn(\"Leaked WebGL VAO\");\n    }\n    if (this._context.getBoundVAO() === this && this._context.bindVAO(null), t) {\n      for (const t in this._buffers) this._buffers[t]?.dispose(), delete this._buffers[t];\n      this._indexBuffer = i(this._indexBuffer);\n    }\n    this._context.instanceCounter.decrement(s.VertexArrayObject, this), this._context = r(this._context);\n  }\n  initialize() {\n    if (this._initialized) return;\n    const t = this._context.capabilities.vao;\n    if (t) {\n      const e = t.createVertexArray();\n      t.bindVertexArray(e), this._bindLayout(), t.bindVertexArray(null), this._glName = e;\n    }\n    this._initialized = !0;\n  }\n  bind() {\n    this.initialize();\n    const t = this._context.capabilities.vao;\n    t ? t.bindVertexArray(this.glName) : (this._context.bindVAO(null), this._bindLayout());\n  }\n  _bindLayout() {\n    const {\n      _buffers: t,\n      _layout: i,\n      _indexBuffer: r\n    } = this;\n    t || a.error(\"Vertex buffer dictionary is empty!\");\n    const s = this._context.gl;\n    for (const e in t) {\n      const r = t[e];\n      r || a.error(\"Vertex buffer is uninitialized!\");\n      const s = i[e];\n      s || a.error(\"Vertex element descriptor is empty!\"), n(this._context, this._locations, r, s);\n    }\n    if (e(r)) {\n      !!this._context.capabilities.vao ? s.bindBuffer(s.ELEMENT_ARRAY_BUFFER, r.glName) : this._context.bindBuffer(r);\n    }\n  }\n  unbind() {\n    this.initialize();\n    const t = this._context.capabilities.vao;\n    t ? t.bindVertexArray(null) : this._unbindLayout();\n  }\n  _unbindLayout() {\n    const {\n      _buffers: t,\n      _layout: i\n    } = this;\n    t || a.error(\"Vertex buffer dictionary is empty!\");\n    for (const e in t) {\n      const r = t[e];\n      r || a.error(\"Vertex buffer is uninitialized!\");\n      const s = i[e];\n      o(this._context, this._locations, r, s);\n    }\n    e(this._indexBuffer) && this._context.unbindBuffer(this._indexBuffer.bufferType);\n  }\n};\nexport { f as VertexArrayObject };","map":{"version":3,"names":["t","isSome","e","disposeMaybe","i","nullifyNonNullableForDispose","r","ResourceType","s","bindVertexBufferLayout","n","unbindVertexBufferLayout","o","a","getLogger","f","constructor","arguments","length","undefined","_context","_locations","_layout","_buffers","_indexBuffer","_glName","_initialized","instanceCounter","increment","VertexArrayObject","glName","context","vertexBuffers","indexBuffer","size","Object","keys","reduce","layout","locations","dispose","getOwnPropertyNames","warn","capabilities","vao","deleteVertexArray","getBoundVAO","bindVAO","decrement","initialize","createVertexArray","bindVertexArray","_bindLayout","bind","error","gl","bindBuffer","ELEMENT_ARRAY_BUFFER","unbind","_unbindLayout","unbindBuffer","bufferType"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/webgl/VertexArrayObject.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Logger.js\";import{isSome as e,disposeMaybe as i,nullifyNonNullableForDispose as r}from\"../../core/maybe.js\";import{ResourceType as s}from\"./enums.js\";import{bindVertexBufferLayout as n,unbindVertexBufferLayout as o}from\"./Util.js\";const a=t.getLogger(\"esri.views.webgl.VertexArrayObject\");let f=class{constructor(t,e,i,r,n=null){this._context=t,this._locations=e,this._layout=i,this._buffers=r,this._indexBuffer=n,this._glName=null,this._initialized=!1,t.instanceCounter.increment(s.VertexArrayObject,this)}get glName(){return this._glName}get context(){return this._context}get vertexBuffers(){return this._buffers}get indexBuffer(){return this._indexBuffer}get size(){return Object.keys(this._buffers).reduce(((t,e)=>t+this._buffers[e].size),e(this._indexBuffer)?this._indexBuffer.size:0)}get layout(){return this._layout}get locations(){return this._locations}dispose(t=!0){if(!this._context)return void((this._glName||t&&Object.getOwnPropertyNames(this._buffers).length>0)&&a.warn(\"Leaked WebGL VAO\"));if(this._glName){const t=this._context?.capabilities?.vao;t?(t.deleteVertexArray(this._glName),this._glName=null):a.warn(\"Leaked WebGL VAO\")}if(this._context.getBoundVAO()===this&&this._context.bindVAO(null),t){for(const t in this._buffers)this._buffers[t]?.dispose(),delete this._buffers[t];this._indexBuffer=i(this._indexBuffer)}this._context.instanceCounter.decrement(s.VertexArrayObject,this),this._context=r(this._context)}initialize(){if(this._initialized)return;const t=this._context.capabilities.vao;if(t){const e=t.createVertexArray();t.bindVertexArray(e),this._bindLayout(),t.bindVertexArray(null),this._glName=e}this._initialized=!0}bind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(this.glName):(this._context.bindVAO(null),this._bindLayout())}_bindLayout(){const{_buffers:t,_layout:i,_indexBuffer:r}=this;t||a.error(\"Vertex buffer dictionary is empty!\");const s=this._context.gl;for(const e in t){const r=t[e];r||a.error(\"Vertex buffer is uninitialized!\");const s=i[e];s||a.error(\"Vertex element descriptor is empty!\"),n(this._context,this._locations,r,s)}if(e(r)){!!this._context.capabilities.vao?s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,r.glName):this._context.bindBuffer(r)}}unbind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(null):this._unbindLayout()}_unbindLayout(){const{_buffers:t,_layout:i}=this;t||a.error(\"Vertex buffer dictionary is empty!\");for(const e in t){const r=t[e];r||a.error(\"Vertex buffer is uninitialized!\");const s=i[e];o(this._context,this._locations,r,s)}e(this._indexBuffer)&&this._context.unbindBuffer(this._indexBuffer.bufferType)}};export{f as VertexArrayObject};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}