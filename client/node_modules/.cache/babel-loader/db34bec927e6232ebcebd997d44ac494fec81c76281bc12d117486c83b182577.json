{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as t } from \"../../../../../../core/maybe.js\";\nimport { pt2px as e } from \"../../../../../../core/screenUtils.js\";\nimport { premultiplyAlphaRGBA as i } from \"../../color.js\";\nimport { BITSET_GENERIC_LOCK_COLOR as s, BITSET_LINE_SCALE_DASH as r, BITSET_GENERIC_CONSIDER_ALPHA_ONLY as o, SPRITE_PADDING as a, MIN_MAX_ZOOM_PRECISION_FACTOR as l } from \"../../definitions.js\";\nimport { i1616to32 as h } from \"../../number.js\";\nimport { LineMaterialKey as n } from \"../../materialKey/MaterialKey.js\";\nimport { isFunction as c, getLimitCosine as m, getMinMaxZoom as p } from \"./util.js\";\nimport _ from \"./WGLBaseLineTemplate.js\";\nimport f from \"./WGLDynamicMeshTemplate.js\";\nimport { ok as d } from \"../../util/Result.js\";\nclass y extends _(f) {\n  constructor(a, n, p) {\n    super(a), this._minMaxZoom = h(Math.round(n * l), Math.round(p * l)), this._cimLineLayer = a;\n    let _ = 0;\n    c(a.width) || (_ = .5 * e(a.width));\n    const f = (t, i, s) => c(a.width) ? .5 * e(a.width(t, i, s)) : _;\n    this._dynamicPropertyMap.set(\"_halfWidth\", f), c(a.cap) ? this._dynamicPropertyMap.set(\"_capType\", a.cap) : this._capType = a.cap, c(a.join) ? this._dynamicPropertyMap.set(\"_joinType\", a.join) : this._joinType = a.join;\n    const d = a.color;\n    if (c(d)) {\n      const t = (t, e, s) => i(d(t, e, s));\n      this._dynamicPropertyMap.set(\"_fillColor\", t);\n    } else this._fillColor = d && i(d) || 0;\n    const y = a.miterLimit;\n    if (c(y)) {\n      const t = (t, e, i) => m(y(t, e, i));\n      this._dynamicPropertyMap.set(\"_miterLimitCosine\", t);\n    } else this._miterLimitCosine = m(y);\n    if (t(a.effects)) {\n      const t = a.effects;\n      c(t) ? this._dynamicPropertyMap.set(\"_effects\", t) : this._effects = t;\n    }\n    this._scaleFactor = a.scaleFactor || 1, this._isDashed = null != a.dashTemplate;\n    const P = a.colorLocked ? s : 0,\n      u = a.scaleDash ? r : 0,\n      j = a.sampleAlphaOnly ? o : 0;\n    this.tessellationProperties._bitset = P | u | j, this._materialKey = a.materialKey, this._initializeTessellator(!0);\n  }\n  static fromCIMLine(t, e) {\n    const [i, s] = p(t.scaleInfo, e);\n    return new y(t, i, s);\n  }\n  bindFeature(t, e, i) {\n    const s = t.readLegacyFeature();\n    this._dynamicPropertyMap.forEach((t, r) => {\n      this[r] = t(s, e, i);\n    }), this._halfWidth *= this._scaleFactor;\n    const r = this._materialCache,\n      o = (0, this._cimLineLayer.materialHash)(s, e, i),\n      l = r.get(o);\n    let c = null;\n    if (l && d(l.spriteMosaicItem) && (c = l.spriteMosaicItem), c) {\n      this._hasPattern = !0;\n      const {\n          rect: t,\n          width: e,\n          height: i\n        } = c,\n        s = t.x + a,\n        r = t.y + a,\n        o = s + e,\n        l = r + i;\n      this.tessellationProperties._tl = h(s, r), this.tessellationProperties._br = h(o, l);\n    } else this._hasPattern = !1, this.tessellationProperties._tl = 0, this.tessellationProperties._br = 0;\n    this.tessellationProperties._fillColor = this._fillColor, this.tessellationProperties._halfWidth = this._halfWidth, this.tessellationProperties.offset = 0, this.tessellationProperties._halfReferenceWidth = this.tessellationProperties._halfWidth;\n    const m = n.load(this._materialKey);\n    c && (m.sdf = c.sdf, m.pattern = !0, m.textureBinding = c.textureBinding), this._materialKey = m.data;\n  }\n}\nexport { y as default };","map":{"version":3,"names":["isSome","t","pt2px","e","premultiplyAlphaRGBA","i","BITSET_GENERIC_LOCK_COLOR","s","BITSET_LINE_SCALE_DASH","r","BITSET_GENERIC_CONSIDER_ALPHA_ONLY","o","SPRITE_PADDING","a","MIN_MAX_ZOOM_PRECISION_FACTOR","l","i1616to32","h","LineMaterialKey","n","isFunction","c","getLimitCosine","m","getMinMaxZoom","p","_","f","ok","d","y","constructor","_minMaxZoom","Math","round","_cimLineLayer","width","_dynamicPropertyMap","set","cap","_capType","join","_joinType","color","_fillColor","miterLimit","_miterLimitCosine","effects","_effects","_scaleFactor","scaleFactor","_isDashed","dashTemplate","P","colorLocked","u","scaleDash","j","sampleAlphaOnly","tessellationProperties","_bitset","_materialKey","materialKey","_initializeTessellator","fromCIMLine","scaleInfo","bindFeature","readLegacyFeature","forEach","_halfWidth","_materialCache","materialHash","get","spriteMosaicItem","_hasPattern","rect","height","x","_tl","_br","offset","_halfReferenceWidth","load","sdf","pattern","textureBinding","data","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/WGLDynamicLineTemplate.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../../core/maybe.js\";import{pt2px as e}from\"../../../../../../core/screenUtils.js\";import{premultiplyAlphaRGBA as i}from\"../../color.js\";import{BITSET_GENERIC_LOCK_COLOR as s,BITSET_LINE_SCALE_DASH as r,BITSET_GENERIC_CONSIDER_ALPHA_ONLY as o,SPRITE_PADDING as a,MIN_MAX_ZOOM_PRECISION_FACTOR as l}from\"../../definitions.js\";import{i1616to32 as h}from\"../../number.js\";import{LineMaterialKey as n}from\"../../materialKey/MaterialKey.js\";import{isFunction as c,getLimitCosine as m,getMinMaxZoom as p}from\"./util.js\";import _ from\"./WGLBaseLineTemplate.js\";import f from\"./WGLDynamicMeshTemplate.js\";import{ok as d}from\"../../util/Result.js\";class y extends(_(f)){constructor(a,n,p){super(a),this._minMaxZoom=h(Math.round(n*l),Math.round(p*l)),this._cimLineLayer=a;let _=0;c(a.width)||(_=.5*e(a.width));const f=(t,i,s)=>c(a.width)?.5*e(a.width(t,i,s)):_;this._dynamicPropertyMap.set(\"_halfWidth\",f),c(a.cap)?this._dynamicPropertyMap.set(\"_capType\",a.cap):this._capType=a.cap,c(a.join)?this._dynamicPropertyMap.set(\"_joinType\",a.join):this._joinType=a.join;const d=a.color;if(c(d)){const t=(t,e,s)=>i(d(t,e,s));this._dynamicPropertyMap.set(\"_fillColor\",t)}else this._fillColor=d&&i(d)||0;const y=a.miterLimit;if(c(y)){const t=(t,e,i)=>m(y(t,e,i));this._dynamicPropertyMap.set(\"_miterLimitCosine\",t)}else this._miterLimitCosine=m(y);if(t(a.effects)){const t=a.effects;c(t)?this._dynamicPropertyMap.set(\"_effects\",t):this._effects=t}this._scaleFactor=a.scaleFactor||1,this._isDashed=null!=a.dashTemplate;const P=a.colorLocked?s:0,u=a.scaleDash?r:0,j=a.sampleAlphaOnly?o:0;this.tessellationProperties._bitset=P|u|j,this._materialKey=a.materialKey,this._initializeTessellator(!0)}static fromCIMLine(t,e){const[i,s]=p(t.scaleInfo,e);return new y(t,i,s)}bindFeature(t,e,i){const s=t.readLegacyFeature();this._dynamicPropertyMap.forEach(((t,r)=>{this[r]=t(s,e,i)})),this._halfWidth*=this._scaleFactor;const r=this._materialCache,o=(0,this._cimLineLayer.materialHash)(s,e,i),l=r.get(o);let c=null;if(l&&d(l.spriteMosaicItem)&&(c=l.spriteMosaicItem),c){this._hasPattern=!0;const{rect:t,width:e,height:i}=c,s=t.x+a,r=t.y+a,o=s+e,l=r+i;this.tessellationProperties._tl=h(s,r),this.tessellationProperties._br=h(o,l)}else this._hasPattern=!1,this.tessellationProperties._tl=0,this.tessellationProperties._br=0;this.tessellationProperties._fillColor=this._fillColor,this.tessellationProperties._halfWidth=this._halfWidth,this.tessellationProperties.offset=0,this.tessellationProperties._halfReferenceWidth=this.tessellationProperties._halfWidth;const m=n.load(this._materialKey);c&&(m.sdf=c.sdf,m.pattern=!0,m.textureBinding=c.textureBinding),this._materialKey=m.data}}export{y as default};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAC,QAAK,iCAAiC;AAAC,SAAOC,KAAK,IAAIC,CAAC,QAAK,uCAAuC;AAAC,SAAOC,oBAAoB,IAAIC,CAAC,QAAK,gBAAgB;AAAC,SAAOC,yBAAyB,IAAIC,CAAC,EAACC,sBAAsB,IAAIC,CAAC,EAACC,kCAAkC,IAAIC,CAAC,EAACC,cAAc,IAAIC,CAAC,EAACC,6BAA6B,IAAIC,CAAC,QAAK,sBAAsB;AAAC,SAAOC,SAAS,IAAIC,CAAC,QAAK,iBAAiB;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,kCAAkC;AAAC,SAAOC,UAAU,IAAIC,CAAC,EAACC,cAAc,IAAIC,CAAC,EAACC,aAAa,IAAIC,CAAC,QAAK,WAAW;AAAC,OAAOC,CAAC,MAAK,0BAA0B;AAAC,OAAOC,CAAC,MAAK,6BAA6B;AAAC,SAAOC,EAAE,IAAIC,CAAC,QAAK,sBAAsB;AAAC,MAAMC,CAAC,SAASJ,CAAC,CAACC,CAAC,CAAC,CAAC;EAACI,WAAWA,CAAClB,CAAC,EAACM,CAAC,EAACM,CAAC,EAAC;IAAC,KAAK,CAACZ,CAAC,CAAC,EAAC,IAAI,CAACmB,WAAW,GAACf,CAAC,CAACgB,IAAI,CAACC,KAAK,CAACf,CAAC,GAACJ,CAAC,CAAC,EAACkB,IAAI,CAACC,KAAK,CAACT,CAAC,GAACV,CAAC,CAAC,CAAC,EAAC,IAAI,CAACoB,aAAa,GAACtB,CAAC;IAAC,IAAIa,CAAC,GAAC,CAAC;IAACL,CAAC,CAACR,CAAC,CAACuB,KAAK,CAAC,KAAGV,CAAC,GAAC,EAAE,GAACvB,CAAC,CAACU,CAAC,CAACuB,KAAK,CAAC,CAAC;IAAC,MAAMT,CAAC,GAACA,CAAC1B,CAAC,EAACI,CAAC,EAACE,CAAC,KAAGc,CAAC,CAACR,CAAC,CAACuB,KAAK,CAAC,GAAC,EAAE,GAACjC,CAAC,CAACU,CAAC,CAACuB,KAAK,CAACnC,CAAC,EAACI,CAAC,EAACE,CAAC,CAAC,CAAC,GAACmB,CAAC;IAAC,IAAI,CAACW,mBAAmB,CAACC,GAAG,CAAC,YAAY,EAACX,CAAC,CAAC,EAACN,CAAC,CAACR,CAAC,CAAC0B,GAAG,CAAC,GAAC,IAAI,CAACF,mBAAmB,CAACC,GAAG,CAAC,UAAU,EAACzB,CAAC,CAAC0B,GAAG,CAAC,GAAC,IAAI,CAACC,QAAQ,GAAC3B,CAAC,CAAC0B,GAAG,EAAClB,CAAC,CAACR,CAAC,CAAC4B,IAAI,CAAC,GAAC,IAAI,CAACJ,mBAAmB,CAACC,GAAG,CAAC,WAAW,EAACzB,CAAC,CAAC4B,IAAI,CAAC,GAAC,IAAI,CAACC,SAAS,GAAC7B,CAAC,CAAC4B,IAAI;IAAC,MAAMZ,CAAC,GAAChB,CAAC,CAAC8B,KAAK;IAAC,IAAGtB,CAAC,CAACQ,CAAC,CAAC,EAAC;MAAC,MAAM5B,CAAC,GAACA,CAACA,CAAC,EAACE,CAAC,EAACI,CAAC,KAAGF,CAAC,CAACwB,CAAC,CAAC5B,CAAC,EAACE,CAAC,EAACI,CAAC,CAAC,CAAC;MAAC,IAAI,CAAC8B,mBAAmB,CAACC,GAAG,CAAC,YAAY,EAACrC,CAAC,CAAC;IAAA,CAAC,MAAK,IAAI,CAAC2C,UAAU,GAACf,CAAC,IAAExB,CAAC,CAACwB,CAAC,CAAC,IAAE,CAAC;IAAC,MAAMC,CAAC,GAACjB,CAAC,CAACgC,UAAU;IAAC,IAAGxB,CAAC,CAACS,CAAC,CAAC,EAAC;MAAC,MAAM7B,CAAC,GAACA,CAACA,CAAC,EAACE,CAAC,EAACE,CAAC,KAAGkB,CAAC,CAACO,CAAC,CAAC7B,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC,CAAC;MAAC,IAAI,CAACgC,mBAAmB,CAACC,GAAG,CAAC,mBAAmB,EAACrC,CAAC,CAAC;IAAA,CAAC,MAAK,IAAI,CAAC6C,iBAAiB,GAACvB,CAAC,CAACO,CAAC,CAAC;IAAC,IAAG7B,CAAC,CAACY,CAAC,CAACkC,OAAO,CAAC,EAAC;MAAC,MAAM9C,CAAC,GAACY,CAAC,CAACkC,OAAO;MAAC1B,CAAC,CAACpB,CAAC,CAAC,GAAC,IAAI,CAACoC,mBAAmB,CAACC,GAAG,CAAC,UAAU,EAACrC,CAAC,CAAC,GAAC,IAAI,CAAC+C,QAAQ,GAAC/C,CAAC;IAAA;IAAC,IAAI,CAACgD,YAAY,GAACpC,CAAC,CAACqC,WAAW,IAAE,CAAC,EAAC,IAAI,CAACC,SAAS,GAAC,IAAI,IAAEtC,CAAC,CAACuC,YAAY;IAAC,MAAMC,CAAC,GAACxC,CAAC,CAACyC,WAAW,GAAC/C,CAAC,GAAC,CAAC;MAACgD,CAAC,GAAC1C,CAAC,CAAC2C,SAAS,GAAC/C,CAAC,GAAC,CAAC;MAACgD,CAAC,GAAC5C,CAAC,CAAC6C,eAAe,GAAC/C,CAAC,GAAC,CAAC;IAAC,IAAI,CAACgD,sBAAsB,CAACC,OAAO,GAACP,CAAC,GAACE,CAAC,GAACE,CAAC,EAAC,IAAI,CAACI,YAAY,GAAChD,CAAC,CAACiD,WAAW,EAAC,IAAI,CAACC,sBAAsB,CAAC,CAAC,CAAC,CAAC;EAAA;EAAC,OAAOC,WAAWA,CAAC/D,CAAC,EAACE,CAAC,EAAC;IAAC,MAAK,CAACE,CAAC,EAACE,CAAC,CAAC,GAACkB,CAAC,CAACxB,CAAC,CAACgE,SAAS,EAAC9D,CAAC,CAAC;IAAC,OAAO,IAAI2B,CAAC,CAAC7B,CAAC,EAACI,CAAC,EAACE,CAAC,CAAC;EAAA;EAAC2D,WAAWA,CAACjE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,MAAME,CAAC,GAACN,CAAC,CAACkE,iBAAiB,EAAE;IAAC,IAAI,CAAC9B,mBAAmB,CAAC+B,OAAO,CAAE,CAACnE,CAAC,EAACQ,CAAC,KAAG;MAAC,IAAI,CAACA,CAAC,CAAC,GAACR,CAAC,CAACM,CAAC,EAACJ,CAAC,EAACE,CAAC,CAAC;IAAA,CAAC,CAAE,EAAC,IAAI,CAACgE,UAAU,IAAE,IAAI,CAACpB,YAAY;IAAC,MAAMxC,CAAC,GAAC,IAAI,CAAC6D,cAAc;MAAC3D,CAAC,GAAC,CAAC,CAAC,EAAC,IAAI,CAACwB,aAAa,CAACoC,YAAY,EAAEhE,CAAC,EAACJ,CAAC,EAACE,CAAC,CAAC;MAACU,CAAC,GAACN,CAAC,CAAC+D,GAAG,CAAC7D,CAAC,CAAC;IAAC,IAAIU,CAAC,GAAC,IAAI;IAAC,IAAGN,CAAC,IAAEc,CAAC,CAACd,CAAC,CAAC0D,gBAAgB,CAAC,KAAGpD,CAAC,GAACN,CAAC,CAAC0D,gBAAgB,CAAC,EAACpD,CAAC,EAAC;MAAC,IAAI,CAACqD,WAAW,GAAC,CAAC,CAAC;MAAC,MAAK;UAACC,IAAI,EAAC1E,CAAC;UAACmC,KAAK,EAACjC,CAAC;UAACyE,MAAM,EAACvE;QAAC,CAAC,GAACgB,CAAC;QAACd,CAAC,GAACN,CAAC,CAAC4E,CAAC,GAAChE,CAAC;QAACJ,CAAC,GAACR,CAAC,CAAC6B,CAAC,GAACjB,CAAC;QAACF,CAAC,GAACJ,CAAC,GAACJ,CAAC;QAACY,CAAC,GAACN,CAAC,GAACJ,CAAC;MAAC,IAAI,CAACsD,sBAAsB,CAACmB,GAAG,GAAC7D,CAAC,CAACV,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACkD,sBAAsB,CAACoB,GAAG,GAAC9D,CAAC,CAACN,CAAC,EAACI,CAAC,CAAC;IAAA,CAAC,MAAK,IAAI,CAAC2D,WAAW,GAAC,CAAC,CAAC,EAAC,IAAI,CAACf,sBAAsB,CAACmB,GAAG,GAAC,CAAC,EAAC,IAAI,CAACnB,sBAAsB,CAACoB,GAAG,GAAC,CAAC;IAAC,IAAI,CAACpB,sBAAsB,CAACf,UAAU,GAAC,IAAI,CAACA,UAAU,EAAC,IAAI,CAACe,sBAAsB,CAACU,UAAU,GAAC,IAAI,CAACA,UAAU,EAAC,IAAI,CAACV,sBAAsB,CAACqB,MAAM,GAAC,CAAC,EAAC,IAAI,CAACrB,sBAAsB,CAACsB,mBAAmB,GAAC,IAAI,CAACtB,sBAAsB,CAACU,UAAU;IAAC,MAAM9C,CAAC,GAACJ,CAAC,CAAC+D,IAAI,CAAC,IAAI,CAACrB,YAAY,CAAC;IAACxC,CAAC,KAAGE,CAAC,CAAC4D,GAAG,GAAC9D,CAAC,CAAC8D,GAAG,EAAC5D,CAAC,CAAC6D,OAAO,GAAC,CAAC,CAAC,EAAC7D,CAAC,CAAC8D,cAAc,GAAChE,CAAC,CAACgE,cAAc,CAAC,EAAC,IAAI,CAACxB,YAAY,GAACtC,CAAC,CAAC+D,IAAI;EAAA;AAAC;AAAC,SAAOxD,CAAC,IAAIyD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}