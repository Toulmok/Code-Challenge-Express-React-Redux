{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { removeUnordered as e, filterInPlace as t } from \"../../../../../core/arrayUtils.js\";\nimport { someMap as r } from \"../../../../../core/MapUtils.js\";\nimport { isNone as s, isSome as i } from \"../../../../../core/maybe.js\";\nimport { NestedMap as a } from \"../../../../../core/NestedMap.js\";\nimport o from \"../../../../../core/PooledArray.js\";\nimport { m as n, a as l, t as h } from \"../../../../../chunks/mat4.js\";\nimport { c as u } from \"../../../../../chunks/mat4f64.js\";\nimport { glLayout as f } from \"../../../support/buffer/glUtil.js\";\nimport { ShaderOutput as c } from \"../../core/shaderLibrary/ShaderOutput.js\";\nimport { AppleAmdDriverHelper as d } from \"../../lib/AppleAmdDriverHelper.js\";\nimport { GLMaterials as m } from \"../../lib/GLMaterials.js\";\nimport { RenderOccludedFlag as g } from \"../../lib/Material.js\";\nimport { DirtyState as p } from \"../../lib/ModelDirtyTypes.js\";\nimport { assert as y, setMatrixTranslation3 as _ } from \"../../lib/Util.js\";\nimport { DrawParameters as v } from \"../DrawParameters.js\";\nimport { WaterMaterial as w } from \"../WaterMaterial.js\";\nimport { BufferRange as b, mergeAdjacentRanges as O } from \"./BufferRange.js\";\nimport { Instance as A } from \"./Instance.js\";\nimport { PerBufferData as B, hasVao as C } from \"./PerBufferData.js\";\nimport { PerOriginData as E } from \"./PerOriginData.js\";\nimport { VaoCache as D } from \"./VaoCache.js\";\nclass H {\n  constructor(e, t, r) {\n    this._rctx = e, this._materialRepository = t, this.material = r, this._dataByOrigin = new Map(), this._appleAmdDriverHelper = null, this._hasHighlights = !1, this._hasOccludees = !1, this._glMaterials = new m(this.material, this._materialRepository), this._bufferWriter = r.createBufferWriter(), this._vaoCache = new D(e, r.vertexAttributeLocations, f(this._bufferWriter.vertexBufferLayout)), this._rctx.driverTest.drawArraysRequiresIndicesTypeReset.result && (this._appleAmdDriverHelper = new d(this._rctx));\n  }\n  dispose() {\n    this._glMaterials.destroy(), this._dataByOrigin.forEach(e => e.dispose()), this._dataByOrigin.clear(), this._vaoCache.dispose(), this._appleAmdDriverHelper?.dispose();\n  }\n  get isEmpty() {\n    return 0 === this._dataByOrigin.size;\n  }\n  get hasHighlights() {\n    return this._hasHighlights;\n  }\n  get hasOccludees() {\n    return this._hasOccludees;\n  }\n  get hasWater() {\n    return !this.isEmpty && this.material instanceof w;\n  }\n  get rendersOccluded() {\n    return !this.isEmpty && this.material.renderOccluded !== g.Occlude;\n  }\n  get numGeometries() {\n    let e = 0;\n    return this._dataByOrigin.forEach(t => e += t.buffers.reduce((e, t) => e + t.instances.size, 0)), e;\n  }\n  forEachGeometry(e) {\n    this._dataByOrigin.forEach(t => t.buffers.forEach(t => t.instances.forEach(t => e(t.geometry))));\n  }\n  modify(e) {\n    this._updateGeometries(e.updates), this._addAndRemoveGeometries(e.adds, e.removes), this._updateDrawCommands();\n  }\n  _updateGeometries(e) {\n    const t = this._bufferWriter,\n      r = t.vertexBufferLayout.stride / 4;\n    for (const i of e) {\n      const e = i.renderGeometry,\n        a = this._dataByOrigin.get(e.localOrigin.id)?.findBuffer(e.id);\n      if (s(a)) return;\n      const o = a.instances.get(e.id);\n      if (i.updateType & (p.GEOMETRY | p.TRANSFORMATION)) {\n        const s = z(t.elementCount(o.geometry.geometry) * r),\n          i = t.vertexBufferLayout.createView(s.buffer);\n        this._writeGeometry(e, i, 0), a.vao.vertexBuffers.geometry.setSubData(s, o.from * r, 0, o.numElements * r);\n      }\n      i.updateType & (p.HIGHLIGHT | p.OCCLUDEE | p.VISIBILITY) && (a.drawCommandsDirty = !0);\n    }\n  }\n  _computeDeltas(e, t) {\n    const r = new a();\n    for (const i of e) {\n      const e = i.localOrigin;\n      if (s(e)) continue;\n      let t = r.get(e.id, null);\n      s(t) && (t = new x(e.vec3), r.set(e.id, null, t)), t.changes.push(i);\n    }\n    for (const i of t) {\n      const e = i.localOrigin;\n      if (s(e)) continue;\n      const t = this._dataByOrigin.get(e.id)?.findBuffer(i.id);\n      if (s(t)) continue;\n      let a = r.get(e.id, t);\n      s(a) && (a = new x(e.vec3), r.set(e.id, t, a)), a.changes.push(i);\n    }\n    return r;\n  }\n  _addAndRemoveGeometries(t, r) {\n    const {\n        _bufferWriter: a,\n        _dataByOrigin: o\n      } = this,\n      n = a.vertexBufferLayout.stride / 4,\n      l = this._computeDeltas(t, r);\n    l.forEach((t, r) => {\n      const h = t.get(null),\n        u = i(h) ? h.changes : [];\n      l.delete(r, null);\n      let f = o.get(r);\n      if (t.forEach((t, i) => {\n        if (l.delete(r, i), s(i)) return void y(!1, \"No VAO for removed geometries\");\n        if (i.instances.size === t.changes.length) return this._vaoCache.deleteVao(i.vao), e(f.buffers, i), void (0 === f.buffers.length && 0 === u.length && o.delete(r));\n        const h = i.numElements,\n          c = i.vao.size / 4,\n          d = u.reduce((e, t) => e + a.elementCount(t.geometry), 0),\n          m = t.changes.reduce((e, t) => e + a.elementCount(t.geometry), 0),\n          g = Math.min((h + d - m) * n, W),\n          p = g > c;\n        g > L && g < c / 2 ? (t.changes.forEach(_ref => {\n          let {\n            id: e\n          } = _ref;\n          return i.deleteInstance(e);\n        }), i.instances.forEach(_ref2 => {\n          let {\n            geometry: e\n          } = _ref2;\n          return u.push(e);\n        }), this._vaoCache.deleteVao(i.vao), e(f.buffers, i)) : p ? this._applyAndRebuild(i, u, t) : this._applyRemoves(i, t);\n      }), u.length > 0) for (s(f) && (f = new E(h.origin), o.set(r, f)), f.buffers.forEach(e => this._applyAdds(e, u)); u.length > 0;) f.buffers.push(this._applyAndRebuild(new B(), u, null));\n    });\n  }\n  _updateDrawCommands() {\n    this._hasHighlights = !1, this._hasOccludees = !1, this._dataByOrigin.forEach(e => {\n      e.buffers.forEach(e => {\n        e.drawCommandsDirty && (e.hasHiddenInstances = !1, e.hasHighlights = !1, e.hasOccludees = !1, r(e.instances, t => (e.updateDrawState(t), e.hasHiddenInstances && e.hasHighlights && e.hasOccludees)), e.updateDrawCommands(this._bufferWriter.vertexBufferLayout.stride)), this._hasHighlights = this._hasHighlights || e.hasHighlights, this._hasOccludees = this._hasOccludees || e.hasOccludees;\n      });\n    });\n  }\n  _applyAndRebuild(e, t, r) {\n    if (i(r)) for (const i of r.changes) e.deleteInstance(i.id);\n    const s = this._bufferWriter,\n      a = s.vertexBufferLayout.stride,\n      o = a / 4,\n      n = Math.floor(W / o);\n    let l = e.numElements;\n    for (; t.length > 0;) {\n      const r = t.pop(),\n        i = s.elementCount(r.geometry);\n      if (l + i > n && l > 0) {\n        t.push(r);\n        break;\n      }\n      l += i;\n      const a = new A(r, 0, 0);\n      y(null == e.instances.get(r.id)), e.addInstance(r.id, a);\n    }\n    const h = l * o,\n      u = z(h),\n      f = s.vertexBufferLayout.createView(u.buffer);\n    let c = 0;\n    e.hasHiddenInstances = !1, e.hasHighlights = !1, e.hasOccludees = !1, e.instances.forEach((t, r) => {\n      this._writeGeometry(t.geometry, f, c);\n      const i = c;\n      c += s.elementCount(t.geometry.geometry), e.updateInstance(r, i, c), e.updateDrawState(t);\n    }), this._vaoCache.deleteVao(e.vao), e.vao = this._vaoCache.newVao(N(h)), e.vao.vertexBuffers.geometry.setSubData(u, 0, 0, c * o), e.holes.clear();\n    const d = e.holes.pushNew();\n    return d.from = c, d.to = Math.floor(e.vao.size / a), e.updateDrawCommands(a), e;\n  }\n  _applyRemoves(e, t) {\n    if (0 === t.changes.length) return;\n    for (const o of t.changes) {\n      const t = o.id,\n        r = e.instances.get(t);\n      if (!r) continue;\n      e.deleteInstance(t);\n      const s = R.back();\n      if (s) {\n        if (s.to === r.from) {\n          s.to = r.to;\n          continue;\n        }\n        if (s.from === r.to) {\n          s.from = r.from;\n          continue;\n        }\n      }\n      const i = R.pushNew();\n      i.from = r.from, i.to = r.to;\n    }\n    O(R);\n    const r = this._bufferWriter.vertexBufferLayout.stride / 4,\n      s = R.reduce((e, t) => Math.max(e, t.numElements), 0) * r,\n      i = z(s);\n    i.fill(0, 0, s);\n    const a = e.vao.vertexBuffers.geometry;\n    R.forAll(e => a.setSubData(i, e.from * r, 0, e.numElements * r)), e.holes.pushArray(R.data, R.length), R.forAll((e, t) => R.data[t] = null), R.clear(), e.drawCommandsDirty = !0;\n  }\n  _applyAdds(e, r) {\n    if (0 === r.length) return;\n    if (!C(e)) return void this._applyAndRebuild(e, r, null);\n    const i = this._bufferWriter,\n      a = i.vertexBufferLayout.stride / 4,\n      o = e.numElements,\n      n = r.reduce((e, t) => e + i.elementCount(t.geometry), 0),\n      l = Math.min((o + n) * a, W),\n      h = 4 * l;\n    if (e.vao.size < N(W - L) && h > e.vao.size) return void this._applyAndRebuild(e, r, null);\n    O(e.holes);\n    const u = new Array();\n    for (const t of r) {\n      const r = i.elementCount(t.geometry),\n        s = M(e.holes, r);\n      u.push(s);\n    }\n    const f = e.vao.vertexBuffers.geometry;\n    let c = 0,\n      d = 0,\n      m = 0;\n    const g = z(l),\n      p = i.vertexBufferLayout.createView(g.buffer);\n    r.forEach((t, r) => {\n      const o = u[r];\n      if (s(o)) return;\n      if (!(m === o)) {\n        const e = m - d;\n        e > 0 && f.setSubData(g, d * a, 0, e * a), d = o, c = 0;\n      }\n      const n = i.elementCount(t.geometry);\n      this._writeGeometry(t, p, c), c += n, m = o + n;\n      const l = new A(t, o, o + n);\n      y(null == e.instances.get(t.id)), e.addInstance(t.id, l), e.drawCommandsDirty = !0;\n    });\n    const _ = m - d;\n    _ > 0 && f.setSubData(g, d * a, 0, _ * a), t(r, (e, t) => s(u[t]));\n  }\n  _writeGeometry(e, t, r) {\n    const s = e.localOrigin.vec3;\n    _(j, -s[0], -s[1], -s[2]);\n    const i = n(I, j, e.transformation);\n    l(S, i), h(S, S), this._bufferWriter.write(i, S, e.geometry, t, r);\n  }\n  updateAnimation(e) {\n    return this.material.update(e);\n  }\n  requiresSlot(e, t) {\n    return this.material.requiresSlot(e, t);\n  }\n  render(e, t) {\n    if (!this.requiresSlot(t.slot, e)) return !1;\n    const r = e === c.Highlight || e === c.ShadowHighlight;\n    if (r && !this._hasHighlights) return !1;\n    const a = e === c.ShadowExcludeHighlight,\n      o = !(r || a),\n      n = this._rctx;\n    let l;\n    const h = () => {\n      if (i(l)) return l;\n      const r = this._glMaterials.load(n, t.slot, e);\n      return s(r) ? null : (l = r.beginSlot(t), s(l) ? null : (n.bindTechnique(l, this.material.parameters, t), l));\n    };\n    this._appleAmdDriverHelper?.resetIndicesType();\n    for (const i of this._dataByOrigin.values()) for (const e of i.buffers) {\n      if (r && !e.hasHighlights) continue;\n      const l = (r ? e.drawCommandsHighlight : a && e.needsMultipleCommands() ? e.drawCommandsShadowHighlightRest : e.drawCommandsDefault) || null,\n        u = o && e.drawCommandsOccludees || null;\n      if (l?.length || u?.length) {\n        const r = h();\n        if (s(r)) return !1;\n        r.program.bindDraw(new v(i.origin), t, this.material.parameters), r.ensureAttributeLocations(e.vao), n.bindVAO(e.vao), l?.length && (r.bindPipelineState(n, t.slot, !1), l.forAll(e => n.drawArrays(r.primitiveType, e.first, e.count))), u?.length && (r.bindPipelineState(n, t.slot, !0), u.forAll(e => n.drawArrays(r.primitiveType, e.first, e.count)));\n      }\n    }\n    return i(l);\n  }\n  get test() {\n    return {\n      material: this.material,\n      glMaterials: this._glMaterials,\n      dataByOrigin: this._dataByOrigin\n    };\n  }\n}\nclass x {\n  constructor(e) {\n    this.origin = e, this.changes = new Array();\n  }\n}\nfunction M(e, t) {\n  let r;\n  if (!e.some(e => !(e.numElements < t) && (r = e, !0))) return null;\n  const s = r.from;\n  return r.from += t, r.from >= r.to && e.removeUnordered(r), s;\n}\nconst j = u(),\n  I = u(),\n  S = u(),\n  R = new o({\n    allocator: e => e || new b(),\n    deallocator: null\n  }),\n  L = 65536,\n  G = 4 * L,\n  T = 16777216,\n  W = T / 4;\nlet V = new Float32Array(L);\nfunction z(e) {\n  return V.length < e && (V = new Float32Array(e)), V;\n}\nfunction N(e) {\n  const t = 4 * e;\n  return t < G ? G : Math.max(Math.min(Math.ceil(1.5 * t / G) * G, T), t);\n}\nexport { H as MergedRenderer };","map":{"version":3,"names":["removeUnordered","e","filterInPlace","t","someMap","r","isNone","s","isSome","i","NestedMap","a","o","m","n","l","h","c","u","glLayout","f","ShaderOutput","AppleAmdDriverHelper","d","GLMaterials","RenderOccludedFlag","g","DirtyState","p","assert","y","setMatrixTranslation3","_","DrawParameters","v","WaterMaterial","w","BufferRange","b","mergeAdjacentRanges","O","Instance","A","PerBufferData","B","hasVao","C","PerOriginData","E","VaoCache","D","H","constructor","_rctx","_materialRepository","material","_dataByOrigin","Map","_appleAmdDriverHelper","_hasHighlights","_hasOccludees","_glMaterials","_bufferWriter","createBufferWriter","_vaoCache","vertexAttributeLocations","vertexBufferLayout","driverTest","drawArraysRequiresIndicesTypeReset","result","dispose","destroy","forEach","clear","isEmpty","size","hasHighlights","hasOccludees","hasWater","rendersOccluded","renderOccluded","Occlude","numGeometries","buffers","reduce","instances","forEachGeometry","geometry","modify","_updateGeometries","updates","_addAndRemoveGeometries","adds","removes","_updateDrawCommands","stride","renderGeometry","get","localOrigin","id","findBuffer","updateType","GEOMETRY","TRANSFORMATION","z","elementCount","createView","buffer","_writeGeometry","vao","vertexBuffers","setSubData","from","numElements","HIGHLIGHT","OCCLUDEE","VISIBILITY","drawCommandsDirty","_computeDeltas","x","vec3","set","changes","push","delete","length","deleteVao","Math","min","W","L","_ref","deleteInstance","_ref2","_applyAndRebuild","_applyRemoves","origin","_applyAdds","hasHiddenInstances","updateDrawState","updateDrawCommands","floor","pop","addInstance","updateInstance","newVao","N","holes","pushNew","to","R","back","max","fill","forAll","pushArray","data","Array","M","j","I","transformation","S","write","updateAnimation","update","requiresSlot","render","slot","Highlight","ShadowHighlight","ShadowExcludeHighlight","load","beginSlot","bindTechnique","parameters","resetIndicesType","values","drawCommandsHighlight","needsMultipleCommands","drawCommandsShadowHighlightRest","drawCommandsDefault","drawCommandsOccludees","program","bindDraw","ensureAttributeLocations","bindVAO","bindPipelineState","drawArrays","primitiveType","first","count","test","glMaterials","dataByOrigin","some","allocator","deallocator","G","T","V","Float32Array","ceil","MergedRenderer"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e,filterInPlace as t}from\"../../../../../core/arrayUtils.js\";import{someMap as r}from\"../../../../../core/MapUtils.js\";import{isNone as s,isSome as i}from\"../../../../../core/maybe.js\";import{NestedMap as a}from\"../../../../../core/NestedMap.js\";import o from\"../../../../../core/PooledArray.js\";import{m as n,a as l,t as h}from\"../../../../../chunks/mat4.js\";import{c as u}from\"../../../../../chunks/mat4f64.js\";import{glLayout as f}from\"../../../support/buffer/glUtil.js\";import{ShaderOutput as c}from\"../../core/shaderLibrary/ShaderOutput.js\";import{AppleAmdDriverHelper as d}from\"../../lib/AppleAmdDriverHelper.js\";import{GLMaterials as m}from\"../../lib/GLMaterials.js\";import{RenderOccludedFlag as g}from\"../../lib/Material.js\";import{DirtyState as p}from\"../../lib/ModelDirtyTypes.js\";import{assert as y,setMatrixTranslation3 as _}from\"../../lib/Util.js\";import{DrawParameters as v}from\"../DrawParameters.js\";import{WaterMaterial as w}from\"../WaterMaterial.js\";import{BufferRange as b,mergeAdjacentRanges as O}from\"./BufferRange.js\";import{Instance as A}from\"./Instance.js\";import{PerBufferData as B,hasVao as C}from\"./PerBufferData.js\";import{PerOriginData as E}from\"./PerOriginData.js\";import{VaoCache as D}from\"./VaoCache.js\";class H{constructor(e,t,r){this._rctx=e,this._materialRepository=t,this.material=r,this._dataByOrigin=new Map,this._appleAmdDriverHelper=null,this._hasHighlights=!1,this._hasOccludees=!1,this._glMaterials=new m(this.material,this._materialRepository),this._bufferWriter=r.createBufferWriter(),this._vaoCache=new D(e,r.vertexAttributeLocations,f(this._bufferWriter.vertexBufferLayout)),this._rctx.driverTest.drawArraysRequiresIndicesTypeReset.result&&(this._appleAmdDriverHelper=new d(this._rctx))}dispose(){this._glMaterials.destroy(),this._dataByOrigin.forEach((e=>e.dispose())),this._dataByOrigin.clear(),this._vaoCache.dispose(),this._appleAmdDriverHelper?.dispose()}get isEmpty(){return 0===this._dataByOrigin.size}get hasHighlights(){return this._hasHighlights}get hasOccludees(){return this._hasOccludees}get hasWater(){return!this.isEmpty&&this.material instanceof w}get rendersOccluded(){return!this.isEmpty&&this.material.renderOccluded!==g.Occlude}get numGeometries(){let e=0;return this._dataByOrigin.forEach((t=>e+=t.buffers.reduce(((e,t)=>e+t.instances.size),0))),e}forEachGeometry(e){this._dataByOrigin.forEach((t=>t.buffers.forEach((t=>t.instances.forEach((t=>e(t.geometry)))))))}modify(e){this._updateGeometries(e.updates),this._addAndRemoveGeometries(e.adds,e.removes),this._updateDrawCommands()}_updateGeometries(e){const t=this._bufferWriter,r=t.vertexBufferLayout.stride/4;for(const i of e){const e=i.renderGeometry,a=this._dataByOrigin.get(e.localOrigin.id)?.findBuffer(e.id);if(s(a))return;const o=a.instances.get(e.id);if(i.updateType&(p.GEOMETRY|p.TRANSFORMATION)){const s=z(t.elementCount(o.geometry.geometry)*r),i=t.vertexBufferLayout.createView(s.buffer);this._writeGeometry(e,i,0),a.vao.vertexBuffers.geometry.setSubData(s,o.from*r,0,o.numElements*r)}i.updateType&(p.HIGHLIGHT|p.OCCLUDEE|p.VISIBILITY)&&(a.drawCommandsDirty=!0)}}_computeDeltas(e,t){const r=new a;for(const i of e){const e=i.localOrigin;if(s(e))continue;let t=r.get(e.id,null);s(t)&&(t=new x(e.vec3),r.set(e.id,null,t)),t.changes.push(i)}for(const i of t){const e=i.localOrigin;if(s(e))continue;const t=this._dataByOrigin.get(e.id)?.findBuffer(i.id);if(s(t))continue;let a=r.get(e.id,t);s(a)&&(a=new x(e.vec3),r.set(e.id,t,a)),a.changes.push(i)}return r}_addAndRemoveGeometries(t,r){const{_bufferWriter:a,_dataByOrigin:o}=this,n=a.vertexBufferLayout.stride/4,l=this._computeDeltas(t,r);l.forEach(((t,r)=>{const h=t.get(null),u=i(h)?h.changes:[];l.delete(r,null);let f=o.get(r);if(t.forEach(((t,i)=>{if(l.delete(r,i),s(i))return void y(!1,\"No VAO for removed geometries\");if(i.instances.size===t.changes.length)return this._vaoCache.deleteVao(i.vao),e(f.buffers,i),void(0===f.buffers.length&&0===u.length&&o.delete(r));const h=i.numElements,c=i.vao.size/4,d=u.reduce(((e,t)=>e+a.elementCount(t.geometry)),0),m=t.changes.reduce(((e,t)=>e+a.elementCount(t.geometry)),0),g=Math.min((h+d-m)*n,W),p=g>c;g>L&&g<c/2?(t.changes.forEach((({id:e})=>i.deleteInstance(e))),i.instances.forEach((({geometry:e})=>u.push(e))),this._vaoCache.deleteVao(i.vao),e(f.buffers,i)):p?this._applyAndRebuild(i,u,t):this._applyRemoves(i,t)})),u.length>0)for(s(f)&&(f=new E(h.origin),o.set(r,f)),f.buffers.forEach((e=>this._applyAdds(e,u)));u.length>0;)f.buffers.push(this._applyAndRebuild(new B,u,null))}))}_updateDrawCommands(){this._hasHighlights=!1,this._hasOccludees=!1,this._dataByOrigin.forEach((e=>{e.buffers.forEach((e=>{e.drawCommandsDirty&&(e.hasHiddenInstances=!1,e.hasHighlights=!1,e.hasOccludees=!1,r(e.instances,(t=>(e.updateDrawState(t),e.hasHiddenInstances&&e.hasHighlights&&e.hasOccludees))),e.updateDrawCommands(this._bufferWriter.vertexBufferLayout.stride)),this._hasHighlights=this._hasHighlights||e.hasHighlights,this._hasOccludees=this._hasOccludees||e.hasOccludees}))}))}_applyAndRebuild(e,t,r){if(i(r))for(const i of r.changes)e.deleteInstance(i.id);const s=this._bufferWriter,a=s.vertexBufferLayout.stride,o=a/4,n=Math.floor(W/o);let l=e.numElements;for(;t.length>0;){const r=t.pop(),i=s.elementCount(r.geometry);if(l+i>n&&l>0){t.push(r);break}l+=i;const a=new A(r,0,0);y(null==e.instances.get(r.id)),e.addInstance(r.id,a)}const h=l*o,u=z(h),f=s.vertexBufferLayout.createView(u.buffer);let c=0;e.hasHiddenInstances=!1,e.hasHighlights=!1,e.hasOccludees=!1,e.instances.forEach(((t,r)=>{this._writeGeometry(t.geometry,f,c);const i=c;c+=s.elementCount(t.geometry.geometry),e.updateInstance(r,i,c),e.updateDrawState(t)})),this._vaoCache.deleteVao(e.vao),e.vao=this._vaoCache.newVao(N(h)),e.vao.vertexBuffers.geometry.setSubData(u,0,0,c*o),e.holes.clear();const d=e.holes.pushNew();return d.from=c,d.to=Math.floor(e.vao.size/a),e.updateDrawCommands(a),e}_applyRemoves(e,t){if(0===t.changes.length)return;for(const o of t.changes){const t=o.id,r=e.instances.get(t);if(!r)continue;e.deleteInstance(t);const s=R.back();if(s){if(s.to===r.from){s.to=r.to;continue}if(s.from===r.to){s.from=r.from;continue}}const i=R.pushNew();i.from=r.from,i.to=r.to}O(R);const r=this._bufferWriter.vertexBufferLayout.stride/4,s=R.reduce(((e,t)=>Math.max(e,t.numElements)),0)*r,i=z(s);i.fill(0,0,s);const a=e.vao.vertexBuffers.geometry;R.forAll((e=>a.setSubData(i,e.from*r,0,e.numElements*r))),e.holes.pushArray(R.data,R.length),R.forAll(((e,t)=>R.data[t]=null)),R.clear(),e.drawCommandsDirty=!0}_applyAdds(e,r){if(0===r.length)return;if(!C(e))return void this._applyAndRebuild(e,r,null);const i=this._bufferWriter,a=i.vertexBufferLayout.stride/4,o=e.numElements,n=r.reduce(((e,t)=>e+i.elementCount(t.geometry)),0),l=Math.min((o+n)*a,W),h=4*l;if(e.vao.size<N(W-L)&&h>e.vao.size)return void this._applyAndRebuild(e,r,null);O(e.holes);const u=new Array;for(const t of r){const r=i.elementCount(t.geometry),s=M(e.holes,r);u.push(s)}const f=e.vao.vertexBuffers.geometry;let c=0,d=0,m=0;const g=z(l),p=i.vertexBufferLayout.createView(g.buffer);r.forEach(((t,r)=>{const o=u[r];if(s(o))return;if(!(m===o)){const e=m-d;e>0&&f.setSubData(g,d*a,0,e*a),d=o,c=0}const n=i.elementCount(t.geometry);this._writeGeometry(t,p,c),c+=n,m=o+n;const l=new A(t,o,o+n);y(null==e.instances.get(t.id)),e.addInstance(t.id,l),e.drawCommandsDirty=!0}));const _=m-d;_>0&&f.setSubData(g,d*a,0,_*a),t(r,((e,t)=>s(u[t])))}_writeGeometry(e,t,r){const s=e.localOrigin.vec3;_(j,-s[0],-s[1],-s[2]);const i=n(I,j,e.transformation);l(S,i),h(S,S),this._bufferWriter.write(i,S,e.geometry,t,r)}updateAnimation(e){return this.material.update(e)}requiresSlot(e,t){return this.material.requiresSlot(e,t)}render(e,t){if(!this.requiresSlot(t.slot,e))return!1;const r=e===c.Highlight||e===c.ShadowHighlight;if(r&&!this._hasHighlights)return!1;const a=e===c.ShadowExcludeHighlight,o=!(r||a),n=this._rctx;let l;const h=()=>{if(i(l))return l;const r=this._glMaterials.load(n,t.slot,e);return s(r)?null:(l=r.beginSlot(t),s(l)?null:(n.bindTechnique(l,this.material.parameters,t),l))};this._appleAmdDriverHelper?.resetIndicesType();for(const i of this._dataByOrigin.values())for(const e of i.buffers){if(r&&!e.hasHighlights)continue;const l=(r?e.drawCommandsHighlight:a&&e.needsMultipleCommands()?e.drawCommandsShadowHighlightRest:e.drawCommandsDefault)||null,u=o&&e.drawCommandsOccludees||null;if(l?.length||u?.length){const r=h();if(s(r))return!1;r.program.bindDraw(new v(i.origin),t,this.material.parameters),r.ensureAttributeLocations(e.vao),n.bindVAO(e.vao),l?.length&&(r.bindPipelineState(n,t.slot,!1),l.forAll((e=>n.drawArrays(r.primitiveType,e.first,e.count)))),u?.length&&(r.bindPipelineState(n,t.slot,!0),u.forAll((e=>n.drawArrays(r.primitiveType,e.first,e.count))))}}return i(l)}get test(){return{material:this.material,glMaterials:this._glMaterials,dataByOrigin:this._dataByOrigin}}}class x{constructor(e){this.origin=e,this.changes=new Array}}function M(e,t){let r;if(!e.some((e=>!(e.numElements<t)&&(r=e,!0))))return null;const s=r.from;return r.from+=t,r.from>=r.to&&e.removeUnordered(r),s}const j=u(),I=u(),S=u(),R=new o({allocator:e=>e||new b,deallocator:null}),L=65536,G=4*L,T=16777216,W=T/4;let V=new Float32Array(L);function z(e){return V.length<e&&(V=new Float32Array(e)),V}function N(e){const t=4*e;return t<G?G:Math.max(Math.min(Math.ceil(1.5*t/G)*G,T),t)}export{H as MergedRenderer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}