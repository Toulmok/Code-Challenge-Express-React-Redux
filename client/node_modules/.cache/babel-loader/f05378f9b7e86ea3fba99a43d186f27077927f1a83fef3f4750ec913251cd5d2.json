{"ast":null,"code":"import _createClass from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _assertThisInitialized from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Evented.js\";\nimport { clone as s } from \"../../core/lang.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/Error.js\";\nimport \"../../core/has.js\";\nimport { subclass as r } from \"../../core/accessorSupport/decorators/subclass.js\";\nvar d = new t.EventEmitter(),\n  i = \"esri.layers.mixins.EditBusLayer\",\n  l = Symbol(i);\nfunction o(e) {\n  return null != e && \"object\" == typeof e && l in e;\n}\nvar a = function a(t) {\n  var o;\n  var a = /*#__PURE__*/function (_t) {\n    _inherits(a, _t);\n    var _super = _createSuper(a);\n    function a() {\n      var _this;\n      _classCallCheck(this, a);\n      for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {\n        e[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(e)), _this[o] = !0, _this.when().then(function () {\n        _this.own([d.on(\"edits\", function (e) {\n          var _e$layer, _e$layer2, _i$editedFeatures;\n          var t = \"layer\" in e ? e.layer : null,\n            r = \"layer\" in e ? (_e$layer = e.layer) === null || _e$layer === void 0 ? void 0 : _e$layer.url : e.serviceUrl,\n            d = \"layer\" in e ? (_e$layer2 = e.layer) === null || _e$layer2 === void 0 ? void 0 : _e$layer2.layerId : e.layerId,\n            i = e.event;\n          if (t === _assertThisInitialized(_this) || r !== _this.url) return;\n          if (null != d && null != _this.layerId && d === _this.layerId) return void _this.emit(\"edits\", s(i));\n          var l = (_i$editedFeatures = i.editedFeatures) === null || _i$editedFeatures === void 0 ? void 0 : _i$editedFeatures.find(function (_ref) {\n            var e = _ref.layerId;\n            return e === _this.layerId;\n          });\n          if (l) {\n            var _l$editedFeatures = l.editedFeatures,\n              _e = _l$editedFeatures.adds,\n              _t2 = _l$editedFeatures.updates,\n              _r = _l$editedFeatures.deletes,\n              _d = {\n                edits: null,\n                addedAttachments: [],\n                deletedAttachments: [],\n                updatedAttachments: [],\n                addedFeatures: _e ? _e.map(function (_ref2) {\n                  var e = _ref2.attributes;\n                  return {\n                    objectId: _this.objectIdField && e[_this.objectIdField],\n                    globalId: _this.globalIdField && e[_this.globalIdField]\n                  };\n                }) : [],\n                deletedFeatures: _r ? _r.map(function (_ref3) {\n                  var e = _ref3.attributes;\n                  return {\n                    objectId: _this.objectIdField && e[_this.objectIdField],\n                    globalId: _this.globalIdField && e[_this.globalIdField]\n                  };\n                }) : [],\n                updatedFeatures: _t2 ? _t2.map(function (_ref4) {\n                  var e = _ref4.current.attributes;\n                  return {\n                    objectId: _this.objectIdField && e[_this.objectIdField],\n                    globalId: _this.globalIdField && e[_this.globalIdField]\n                  };\n                }) : [],\n                editedFeatures: s(i.editedFeatures),\n                exceededTransferLimit: !1\n              };\n            _this.emit(\"edits\", _d);\n          }\n        })]);\n      }, function () {});\n      return _this;\n    }\n    return _createClass(a);\n  }(t);\n  return o = l, a = e([r(i)], a), a;\n};\nexport { a as EditBusLayer, d as editEventBus, o as isEditBusLayer };","map":{"version":3,"names":["_","e","t","clone","s","subclass","r","d","EventEmitter","i","l","Symbol","o","a","_t","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","Array","_key","call","apply","concat","when","then","own","on","_e$layer","_e$layer2","_i$editedFeatures","layer","url","serviceUrl","layerId","event","_assertThisInitialized","emit","editedFeatures","find","_ref","_l$editedFeatures","adds","updates","deletes","edits","addedAttachments","deletedAttachments","updatedAttachments","addedFeatures","map","_ref2","attributes","objectId","objectIdField","globalId","globalIdField","deletedFeatures","_ref3","updatedFeatures","_ref4","current","exceededTransferLimit","_createClass","EditBusLayer","editEventBus","isEditBusLayer"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/mixins/EditBusLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{clone as s}from\"../../core/lang.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Error.js\";import\"../../core/has.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";const d=new t.EventEmitter,i=\"esri.layers.mixins.EditBusLayer\",l=Symbol(i);function o(e){return null!=e&&\"object\"==typeof e&&l in e}const a=t=>{var o;let a=class extends t{constructor(...e){super(...e),this[o]=!0,this.when().then((()=>{this.own([d.on(\"edits\",(e=>{const t=\"layer\"in e?e.layer:null,r=\"layer\"in e?e.layer?.url:e.serviceUrl,d=\"layer\"in e?e.layer?.layerId:e.layerId,i=e.event;if(t===this||r!==this.url)return;if(null!=d&&null!=this.layerId&&d===this.layerId)return void this.emit(\"edits\",s(i));const l=i.editedFeatures?.find((({layerId:e})=>e===this.layerId));if(l){const{adds:e,updates:t,deletes:r}=l.editedFeatures,d={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:e?e.map((({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],deletedFeatures:r?r.map((({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],updatedFeatures:t?t.map((({current:{attributes:e}})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],editedFeatures:s(i.editedFeatures),exceededTransferLimit:!1};this.emit(\"edits\",d)}}))])}),(()=>{}))}};return o=l,a=e([r(i)],a),a};export{a as EditBusLayer,d as editEventBus,o as isEditBusLayer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}