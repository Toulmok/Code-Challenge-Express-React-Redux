{"ast":null,"code":"import _regeneratorRuntime from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport r from \"../PopupTemplate.js\";\nimport { read as t, rasterRendererTypes as s, websceneRasterRendererTypes as i } from \"../rasterRenderers.js\";\nimport o from \"../core/Error.js\";\nimport a from \"../core/Logger.js\";\nimport { isSome as n } from \"../core/maybe.js\";\nimport { MultiOriginJSONMixin as p } from \"../core/MultiOriginJSONSupport.js\";\nimport { throwIfAbortError as l } from \"../core/promiseUtils.js\";\nimport { watch as m } from \"../core/reactiveUtils.js\";\nimport { property as d } from \"../core/accessorSupport/decorators/property.js\";\nimport { ensureClass as u, Integer as c } from \"../core/accessorSupport/ensureType.js\";\nimport \"../core/arrayUtils.js\";\nimport { enumeration as h } from \"../core/accessorSupport/decorators/enumeration.js\";\nimport { reader as y } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as f } from \"../core/accessorSupport/decorators/subclass.js\";\nimport g from \"./Layer.js\";\nimport { ArcGISService as v } from \"./mixins/ArcGISService.js\";\nimport { BlendLayer as j } from \"./mixins/BlendLayer.js\";\nimport { CustomParametersMixin as R } from \"./mixins/CustomParametersMixin.js\";\nimport { ImageryTileMixin as S } from \"./mixins/ImageryTileMixin.js\";\nimport { OperationalLayer as b } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as w } from \"./mixins/PortalLayer.js\";\nimport { RefreshableLayer as T } from \"./mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as I } from \"./mixins/ScaleRangeLayer.js\";\nimport { TemporalLayer as P } from \"./mixins/TemporalLayer.js\";\nimport { legendEnabled as O } from \"./support/commonProperties.js\";\nimport _ from \"./support/Field.js\";\nimport { interpolationKebab as F } from \"./support/rasterEnums.js\";\nimport x from \"./support/RasterFunction.js\";\nimport L from \"./support/rasterDatasets/FunctionRaster.js\";\nimport N from \"./support/rasterDatasets/RasterFactory.js\";\nimport { create as J, getPrimaryRasterUrls as D } from \"./support/rasterFunctions/rasterFunctionHelper.js\";\nimport { createPopupTemplate as M } from \"../support/popupUtils.js\";\nvar C = /*#__PURE__*/function (_j) {\n  _inherits(C, _j);\n  var _super = _createSuper(C);\n  function C() {\n    var _this;\n    _classCallCheck(this, C);\n    for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {\n      e[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(e)), _this._primaryRasters = null, _this.bandIds = null, _this.interpolation = null, _this.legendEnabled = !0, _this.isReference = null, _this.listMode = \"show\", _this.sourceJSON = null, _this.version = null, _this.type = \"imagery-tile\", _this.operationalLayerType = \"ArcGISTiledImageServiceLayer\", _this.popupEnabled = !0, _this.popupTemplate = null, _this.fields = null;\n    return _this;\n  }\n  _createClass(C, [{\n    key: \"normalizeCtorArgs\",\n    value: function normalizeCtorArgs(e, r) {\n      return \"string\" == typeof e ? _objectSpread({\n        url: e\n      }, r) : e;\n    }\n  }, {\n    key: \"load\",\n    value: function load(e) {\n      var _this2 = this;\n      var r = n(e) ? e.signal : null;\n      return this.addResolvingPromise(this.loadFromPortal({\n        supportedTypes: [\"Image Service\"]\n      }, e).catch(l).then(function () {\n        return _this2._openRaster(r);\n      })), Promise.resolve(this);\n    }\n  }, {\n    key: \"defaultPopupTemplate\",\n    get: function get() {\n      return this.createPopupTemplate();\n    }\n  }, {\n    key: \"rasterFields\",\n    get: function get() {\n      var e = [new _({\n        name: \"Raster.ServicePixelValue\",\n        alias: \"Pixel Value\",\n        domain: null,\n        editable: !1,\n        length: 50,\n        type: \"string\"\n      })];\n      var r = this.rasterInfo,\n        t = r === null || r === void 0 ? void 0 : r.attributeTable,\n        s = n(t) ? t.fields : null,\n        i = \"Raster.\";\n      if (s) {\n        var _r = s.filter(function (e) {\n          return \"oid\" !== e.type && \"value\" !== e.name.toLowerCase();\n        }).map(function (e) {\n          var r = e.clone();\n          return r.name = i + e.name, r;\n        });\n        e = e.concat(_r);\n      }\n      var o = r === null || r === void 0 ? void 0 : r.dataType,\n        a = r === null || r === void 0 ? void 0 : r.multidimensionalInfo;\n      if ((\"vector-magdir\" === o || \"vector-uv\" === o) && n(a)) {\n        var _a$variables$0$unit;\n        var _r2 = (_a$variables$0$unit = a.variables[0].unit) === null || _a$variables$0$unit === void 0 ? void 0 : _a$variables$0$unit.trim(),\n          _t = \"Magnitude\" + (_r2 ? \" (\".concat(_r2, \")\") : \"\");\n        e.push(new _({\n          name: \"Raster.Magnitude\",\n          alias: _t,\n          domain: null,\n          editable: !1,\n          type: \"double\"\n        })), e.push(new _({\n          name: \"Raster.Direction\",\n          alias: \"Direction (Â°)\",\n          domain: null,\n          editable: !1,\n          type: \"double\"\n        }));\n      }\n      return e;\n    }\n  }, {\n    key: \"renderer\",\n    set: function set(e) {\n      this._set(\"renderer\", e), this.updateRenderer();\n    }\n  }, {\n    key: \"readRenderer\",\n    value: function readRenderer(e, r, s) {\n      var i = r && r.layerDefinition && r.layerDefinition.drawingInfo && r.layerDefinition.drawingInfo.renderer,\n        o = t(i, s) || void 0;\n      if (null != o) return o;\n    }\n  }, {\n    key: \"createPopupTemplate\",\n    value: function createPopupTemplate(e) {\n      return M({\n        fields: this.rasterFields,\n        title: this.title\n      }, e);\n    }\n  }, {\n    key: \"generateRasterInfo\",\n    value: function () {\n      var _generateRasterInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e, r) {\n        var _t2, _s, _i;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (e = u(x, e)) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\", this._primaryRasters[0].rasterInfo);\n            case 2:\n              _context.prev = 2;\n              _t2 = {\n                raster: this._primaryRasters[0]\n              };\n              this._primaryRasters.length > 1 && this._primaryRasters.forEach(function (e) {\n                return _t2[e.url] = e;\n              });\n              _s = J(e.toJSON(), _t2), _i = new L({\n                rasterFunction: _s\n              });\n              _context.next = 8;\n              return _i.open(r);\n            case 8:\n              return _context.abrupt(\"return\", _i.rasterInfo);\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](2);\n              return _context.abrupt(\"return\", null);\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[2, 11]]);\n      }));\n      function generateRasterInfo(_x, _x2) {\n        return _generateRasterInfo.apply(this, arguments);\n      }\n      return generateRasterInfo;\n    }()\n  }, {\n    key: \"write\",\n    value: function write(e, r) {\n      var t = this.raster;\n      if (this.loaded ? \"RasterTileServer\" === t.datasetFormat && (\"Raster\" === t.tileType || \"Map\" === t.tileType) : this.url && /\\/ImageServer(\\/|\\/?$)/i.test(this.url)) return _get(_getPrototypeOf(C.prototype), \"write\", this).call(this, e, r);\n      if (r && r.messages) {\n        var _e = \"\".concat(r.origin, \"/\").concat(r.layerContainerType || \"operational-layers\");\n        r.messages.push(new o(\"layer:unsupported\", \"Layers (\".concat(this.title, \", \").concat(this.id, \") of type '\").concat(this.declaredClass, \"' are not supported in the context of '\").concat(_e, \"'\"), {\n          layer: this\n        }));\n      }\n      return null;\n    }\n  }, {\n    key: \"_openRaster\",\n    value: function () {\n      var _openRaster2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e) {\n        var _this3 = this;\n        var r, _r3, _t3, _i2, _n, _r3$rasterFunctionDef, _e2, _t4, _n2, _e3, t, _e4;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              r = !1;\n              if (!this.raster) {\n                _context2.next = 10;\n                break;\n              }\n              _context2.t0 = this.raster.rasterInfo;\n              if (_context2.t0) {\n                _context2.next = 6;\n                break;\n              }\n              _context2.next = 6;\n              return this.raster.open();\n            case 6:\n              \"Function\" === this.raster.datasetFormat ? (r = !0, this._primaryRasters = this.raster.primaryRasters.rasters) : this._primaryRasters = [this.raster];\n              this.url = this.raster.url;\n              _context2.next = 35;\n              break;\n            case 10:\n              _r3 = this.rasterFunction, _t3 = [this.url];\n              _r3 && D(_r3.toJSON(), _t3);\n              _context2.next = 14;\n              return Promise.all(_t3.map(function (r) {\n                return N.open({\n                  url: r,\n                  sourceJSON: _this3.sourceJSON,\n                  ioConfig: _objectSpread(_objectSpread({\n                    sampling: \"closest\"\n                  }, _this3.ioConfig), {}, {\n                    customFetchParameters: _this3.customParameters\n                  }),\n                  signal: e\n                });\n              }));\n            case 14:\n              _i2 = _context2.sent;\n              _n = _i2.findIndex(function (e) {\n                return null == e;\n              });\n              if (!(_n > -1)) {\n                _context2.next = 18;\n                break;\n              }\n              throw new o(\"imagery-tile-layer:open\", \"cannot open raster: \".concat(_t3[_n]));\n            case 18:\n              if (!(this._primaryRasters = _i2, _r3)) {\n                _context2.next = 34;\n                break;\n              }\n              _e2 = {\n                raster: this._primaryRasters[0]\n              };\n              this._primaryRasters.length > 1 && this._primaryRasters.forEach(function (r) {\n                return _e2[r.url] = r;\n              });\n              _t4 = J((_r3$rasterFunctionDef = _r3.rasterFunctionDefinition) !== null && _r3$rasterFunctionDef !== void 0 ? _r3$rasterFunctionDef : _r3.toJSON(), _e2), _n2 = new L({\n                rasterFunction: _t4\n              });\n              _context2.prev = 22;\n              _context2.next = 25;\n              return _n2.open();\n            case 25:\n              this.raster = _n2;\n              _context2.next = 32;\n              break;\n            case 28:\n              _context2.prev = 28;\n              _context2.t1 = _context2[\"catch\"](22);\n              _e3 = a.getLogger(this.declaredClass);\n              _context2.t1 instanceof o && _e3.error(\"imagery-tile-layer:open\", _context2.t1.message), _e3.warn(\"imagery-tile-layer:open\", \"the raster function cannot be applied and is removed\"), this._set(\"rasterFunction\", null), this.raster = _i2[0];\n            case 32:\n              _context2.next = 35;\n              break;\n            case 34:\n              this.raster = _i2[0];\n            case 35:\n              t = this.raster.rasterInfo;\n              if (t) {\n                _context2.next = 38;\n                break;\n              }\n              throw new o(\"imagery-tile-layer:load\", \"cannot load resources on \" + this.url);\n            case 38:\n              if (this._set(\"rasterInfo\", r ? t : this._primaryRasters[0].rasterInfo), this._set(\"spatialReference\", t.spatialReference), this.sourceJSON = this.sourceJSON || this.raster.sourceJSON, null != this.sourceJSON) {\n                _e4 = \"Map\" === this.raster.tileType && null != this.sourceJSON.minLOD && null != this.sourceJSON.maxLOD ? this.sourceJSON : _objectSpread(_objectSpread({}, this.sourceJSON), {}, {\n                  minScale: 0,\n                  maxScale: 0\n                });\n                this.read(_e4, {\n                  origin: \"service\"\n                });\n              }\n              this.title || (this.title = this.raster.datasetName), \"Map\" === this.raster.tileType && (this.popupEnabled = !1), this._configDefaultSettings(), this.addHandles(m(function () {\n                return _this3.customParameters;\n              }, function (e) {\n                _this3.raster && (_this3.raster.ioConfig.customFetchParameters = e);\n              }));\n            case 40:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this, [[22, 28]]);\n      }));\n      function _openRaster(_x3) {\n        return _openRaster2.apply(this, arguments);\n      }\n      return _openRaster;\n    }()\n  }]);\n  return C;\n}(j(I(b(w(R(S(P(v(T(p(g)))))))))));\ne([d()], C.prototype, \"_primaryRasters\", void 0), e([d({\n  type: [c],\n  json: {\n    write: {\n      overridePolicy: function overridePolicy() {\n        var _this$bandIds;\n        return {\n          enabled: !this.loaded || \"Raster\" === this.raster.tileType || \"0,1,2\" !== ((_this$bandIds = this.bandIds) === null || _this$bandIds === void 0 ? void 0 : _this$bandIds.join(\",\"))\n        };\n      }\n    }\n  }\n})], C.prototype, \"bandIds\", void 0), e([d({\n  json: {\n    write: {\n      overridePolicy: function overridePolicy() {\n        return {\n          enabled: !this.loaded || \"Raster\" === this.raster.tileType || \"bilinear\" !== this.interpolation\n        };\n      }\n    }\n  }\n}), h(F)], C.prototype, \"interpolation\", void 0), e([d(O)], C.prototype, \"legendEnabled\", void 0), e([d({\n  type: Boolean,\n  json: {\n    read: !1,\n    write: {\n      enabled: !0,\n      overridePolicy: function overridePolicy() {\n        return {\n          enabled: !1\n        };\n      }\n    }\n  }\n})], C.prototype, \"isReference\", void 0), e([d({\n  type: [\"show\", \"hide\"]\n})], C.prototype, \"listMode\", void 0), e([d({\n  json: {\n    read: !0,\n    write: !0\n  }\n})], C.prototype, \"blendMode\", void 0), e([d()], C.prototype, \"sourceJSON\", void 0), e([d({\n  readOnly: !0,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"currentVersion\"\n        }\n      }\n    }\n  }\n})], C.prototype, \"version\", void 0), e([d({\n  readOnly: !0,\n  json: {\n    read: !1\n  }\n})], C.prototype, \"type\", void 0), e([d({\n  type: [\"ArcGISTiledImageServiceLayer\"]\n})], C.prototype, \"operationalLayerType\", void 0), e([d({\n  type: Boolean,\n  value: !0,\n  json: {\n    read: {\n      source: \"disablePopup\",\n      reader: function reader(e, r) {\n        return !r.disablePopup;\n      }\n    },\n    write: {\n      target: \"disablePopup\",\n      overridePolicy: function overridePolicy() {\n        return {\n          enabled: !this.loaded || \"Raster\" === this.raster.tileType\n        };\n      },\n      writer: function writer(e, r, t) {\n        r[t] = !e;\n      }\n    }\n  }\n})], C.prototype, \"popupEnabled\", void 0), e([d({\n  type: r,\n  json: {\n    read: {\n      source: \"popupInfo\"\n    },\n    write: {\n      target: \"popupInfo\",\n      overridePolicy: function overridePolicy() {\n        return {\n          enabled: !this.loaded || \"Raster\" === this.raster.tileType\n        };\n      }\n    }\n  }\n})], C.prototype, \"popupTemplate\", void 0), e([d({\n  readOnly: !0\n})], C.prototype, \"defaultPopupTemplate\", null), e([d({\n  readOnly: !0,\n  type: [_]\n})], C.prototype, \"fields\", void 0), e([d({\n  readOnly: !0,\n  type: [_]\n})], C.prototype, \"rasterFields\", null), e([d({\n  types: s,\n  json: {\n    name: \"layerDefinition.drawingInfo.renderer\",\n    write: {\n      overridePolicy: function overridePolicy() {\n        var _this$renderer;\n        var e = \"raster-stretch\" === ((_this$renderer = this.renderer) === null || _this$renderer === void 0 ? void 0 : _this$renderer.type) && \"none\" === this.renderer.stretchType && !this.renderer.useGamma;\n        return {\n          enabled: !this.loaded || \"Raster\" === this.raster.tileType || !e\n        };\n      }\n    },\n    origins: {\n      \"web-scene\": {\n        types: i,\n        name: \"layerDefinition.drawingInfo.renderer\",\n        write: {\n          overridePolicy: function overridePolicy(e) {\n            return {\n              enabled: e && \"vector-field\" !== e.type && \"flow\" !== e.type\n            };\n          }\n        }\n      }\n    }\n  }\n})], C.prototype, \"renderer\", null), e([y(\"renderer\")], C.prototype, \"readRenderer\", null), C = e([f(\"esri.layers.ImageryTileLayer\")], C);\nvar E = C;\nexport { E as default };","map":{"version":3,"names":["_","e","r","read","t","rasterRendererTypes","s","websceneRasterRendererTypes","i","o","a","isSome","n","MultiOriginJSONMixin","p","throwIfAbortError","l","watch","m","property","d","ensureClass","u","Integer","c","enumeration","h","reader","y","subclass","f","g","ArcGISService","v","BlendLayer","j","CustomParametersMixin","R","ImageryTileMixin","S","OperationalLayer","b","PortalLayer","w","RefreshableLayer","T","ScaleRangeLayer","I","TemporalLayer","P","legendEnabled","O","interpolationKebab","F","x","L","N","create","J","getPrimaryRasterUrls","D","createPopupTemplate","M","C","_j","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","Array","_key","call","apply","concat","_primaryRasters","bandIds","interpolation","isReference","listMode","sourceJSON","version","type","operationalLayerType","popupEnabled","popupTemplate","fields","_createClass","key","value","normalizeCtorArgs","_objectSpread","url","load","_this2","signal","addResolvingPromise","loadFromPortal","supportedTypes","catch","then","_openRaster","Promise","resolve","get","name","alias","domain","editable","rasterInfo","attributeTable","filter","toLowerCase","map","clone","dataType","multidimensionalInfo","_a$variables$0$unit","variables","unit","trim","push","set","_set","updateRenderer","readRenderer","layerDefinition","drawingInfo","renderer","rasterFields","title","_generateRasterInfo","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_t2","_s","_i","wrap","_callee$","_context","prev","next","abrupt","raster","forEach","toJSON","rasterFunction","open","t0","stop","generateRasterInfo","_x","_x2","write","loaded","datasetFormat","tileType","test","_get","_getPrototypeOf","prototype","messages","origin","layerContainerType","id","declaredClass","layer","_openRaster2","_callee2","_this3","_r3","_t3","_i2","_n","_r3$rasterFunctionDef","_e2","_t4","_n2","_e3","_e4","_callee2$","_context2","primaryRasters","rasters","all","ioConfig","sampling","customFetchParameters","customParameters","sent","findIndex","rasterFunctionDefinition","t1","getLogger","error","message","warn","spatialReference","minLOD","maxLOD","minScale","maxScale","datasetName","_configDefaultSettings","addHandles","_x3","json","overridePolicy","_this$bandIds","enabled","join","Boolean","readOnly","origins","service","source","disablePopup","target","writer","types","_this$renderer","stretchType","useGamma","E","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/ImageryTileLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../PopupTemplate.js\";import{read as t,rasterRendererTypes as s,websceneRasterRendererTypes as i}from\"../rasterRenderers.js\";import o from\"../core/Error.js\";import a from\"../core/Logger.js\";import{isSome as n}from\"../core/maybe.js\";import{MultiOriginJSONMixin as p}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as l}from\"../core/promiseUtils.js\";import{watch as m}from\"../core/reactiveUtils.js\";import{property as d}from\"../core/accessorSupport/decorators/property.js\";import{ensureClass as u,Integer as c}from\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import{enumeration as h}from\"../core/accessorSupport/decorators/enumeration.js\";import{reader as y}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as f}from\"../core/accessorSupport/decorators/subclass.js\";import g from\"./Layer.js\";import{ArcGISService as v}from\"./mixins/ArcGISService.js\";import{BlendLayer as j}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as R}from\"./mixins/CustomParametersMixin.js\";import{ImageryTileMixin as S}from\"./mixins/ImageryTileMixin.js\";import{OperationalLayer as b}from\"./mixins/OperationalLayer.js\";import{PortalLayer as w}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as T}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as I}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as P}from\"./mixins/TemporalLayer.js\";import{legendEnabled as O}from\"./support/commonProperties.js\";import _ from\"./support/Field.js\";import{interpolationKebab as F}from\"./support/rasterEnums.js\";import x from\"./support/RasterFunction.js\";import L from\"./support/rasterDatasets/FunctionRaster.js\";import N from\"./support/rasterDatasets/RasterFactory.js\";import{create as J,getPrimaryRasterUrls as D}from\"./support/rasterFunctions/rasterFunctionHelper.js\";import{createPopupTemplate as M}from\"../support/popupUtils.js\";let C=class extends(j(I(b(w(R(S(P(v(T(p(g))))))))))){constructor(...e){super(...e),this._primaryRasters=null,this.bandIds=null,this.interpolation=null,this.legendEnabled=!0,this.isReference=null,this.listMode=\"show\",this.sourceJSON=null,this.version=null,this.type=\"imagery-tile\",this.operationalLayerType=\"ArcGISTiledImageServiceLayer\",this.popupEnabled=!0,this.popupTemplate=null,this.fields=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const r=n(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Image Service\"]},e).catch(l).then((()=>this._openRaster(r)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}get rasterFields(){let e=[new _({name:\"Raster.ServicePixelValue\",alias:\"Pixel Value\",domain:null,editable:!1,length:50,type:\"string\"})];const{rasterInfo:r}=this,t=r?.attributeTable,s=n(t)?t.fields:null,i=\"Raster.\";if(s){const r=s.filter((e=>\"oid\"!==e.type&&\"value\"!==e.name.toLowerCase())).map((e=>{const r=e.clone();return r.name=i+e.name,r}));e=e.concat(r)}const o=r?.dataType,a=r?.multidimensionalInfo;if((\"vector-magdir\"===o||\"vector-uv\"===o)&&n(a)){const r=a.variables[0].unit?.trim(),t=\"Magnitude\"+(r?` (${r})`:\"\");e.push(new _({name:\"Raster.Magnitude\",alias:t,domain:null,editable:!1,type:\"double\"})),e.push(new _({name:\"Raster.Direction\",alias:\"Direction (Â°)\",domain:null,editable:!1,type:\"double\"}))}return e}set renderer(e){this._set(\"renderer\",e),this.updateRenderer()}readRenderer(e,r,s){const i=r&&r.layerDefinition&&r.layerDefinition.drawingInfo&&r.layerDefinition.drawingInfo.renderer,o=t(i,s)||void 0;if(null!=o)return o}createPopupTemplate(e){return M({fields:this.rasterFields,title:this.title},e)}async generateRasterInfo(e,r){if(!(e=u(x,e)))return this._primaryRasters[0].rasterInfo;try{const t={raster:this._primaryRasters[0]};this._primaryRasters.length>1&&this._primaryRasters.forEach((e=>t[e.url]=e));const s=J(e.toJSON(),t),i=new L({rasterFunction:s});return await i.open(r),i.rasterInfo}catch{return null}}write(e,r){const{raster:t}=this;if(this.loaded?\"RasterTileServer\"===t.datasetFormat&&(\"Raster\"===t.tileType||\"Map\"===t.tileType):this.url&&/\\/ImageServer(\\/|\\/?$)/i.test(this.url))return super.write(e,r);if(r&&r.messages){const e=`${r.origin}/${r.layerContainerType||\"operational-layers\"}`;r.messages.push(new o(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}))}return null}async _openRaster(e){let r=!1;if(this.raster)this.raster.rasterInfo||await this.raster.open(),\"Function\"===this.raster.datasetFormat?(r=!0,this._primaryRasters=this.raster.primaryRasters.rasters):this._primaryRasters=[this.raster],this.url=this.raster.url;else{const{rasterFunction:r}=this,t=[this.url];r&&D(r.toJSON(),t);const i=await Promise.all(t.map((r=>N.open({url:r,sourceJSON:this.sourceJSON,ioConfig:{sampling:\"closest\",...this.ioConfig,customFetchParameters:this.customParameters},signal:e})))),n=i.findIndex((e=>null==e));if(n>-1)throw new o(\"imagery-tile-layer:open\",`cannot open raster: ${t[n]}`);if(this._primaryRasters=i,r){const e={raster:this._primaryRasters[0]};this._primaryRasters.length>1&&this._primaryRasters.forEach((r=>e[r.url]=r));const t=J(r.rasterFunctionDefinition??r.toJSON(),e),n=new L({rasterFunction:t});try{await n.open(),this.raster=n}catch(s){const e=a.getLogger(this.declaredClass);s instanceof o&&e.error(\"imagery-tile-layer:open\",s.message),e.warn(\"imagery-tile-layer:open\",\"the raster function cannot be applied and is removed\"),this._set(\"rasterFunction\",null),this.raster=i[0]}}else this.raster=i[0]}const t=this.raster.rasterInfo;if(!t)throw new o(\"imagery-tile-layer:load\",\"cannot load resources on \"+this.url);if(this._set(\"rasterInfo\",r?t:this._primaryRasters[0].rasterInfo),this._set(\"spatialReference\",t.spatialReference),this.sourceJSON=this.sourceJSON||this.raster.sourceJSON,null!=this.sourceJSON){const e=\"Map\"===this.raster.tileType&&null!=this.sourceJSON.minLOD&&null!=this.sourceJSON.maxLOD?this.sourceJSON:{...this.sourceJSON,minScale:0,maxScale:0};this.read(e,{origin:\"service\"})}this.title||(this.title=this.raster.datasetName),\"Map\"===this.raster.tileType&&(this.popupEnabled=!1),this._configDefaultSettings(),this.addHandles(m((()=>this.customParameters),(e=>{this.raster&&(this.raster.ioConfig.customFetchParameters=e)})))}};e([d()],C.prototype,\"_primaryRasters\",void 0),e([d({type:[c],json:{write:{overridePolicy(){return{enabled:!this.loaded||\"Raster\"===this.raster.tileType||\"0,1,2\"!==this.bandIds?.join(\",\")}}}}})],C.prototype,\"bandIds\",void 0),e([d({json:{write:{overridePolicy(){return{enabled:!this.loaded||\"Raster\"===this.raster.tileType||\"bilinear\"!==this.interpolation}}}}}),h(F)],C.prototype,\"interpolation\",void 0),e([d(O)],C.prototype,\"legendEnabled\",void 0),e([d({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],C.prototype,\"isReference\",void 0),e([d({type:[\"show\",\"hide\"]})],C.prototype,\"listMode\",void 0),e([d({json:{read:!0,write:!0}})],C.prototype,\"blendMode\",void 0),e([d()],C.prototype,\"sourceJSON\",void 0),e([d({readOnly:!0,json:{origins:{service:{read:{source:\"currentVersion\"}}}}})],C.prototype,\"version\",void 0),e([d({readOnly:!0,json:{read:!1}})],C.prototype,\"type\",void 0),e([d({type:[\"ArcGISTiledImageServiceLayer\"]})],C.prototype,\"operationalLayerType\",void 0),e([d({type:Boolean,value:!0,json:{read:{source:\"disablePopup\",reader:(e,r)=>!r.disablePopup},write:{target:\"disablePopup\",overridePolicy(){return{enabled:!this.loaded||\"Raster\"===this.raster.tileType}},writer(e,r,t){r[t]=!e}}}})],C.prototype,\"popupEnabled\",void 0),e([d({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\",overridePolicy(){return{enabled:!this.loaded||\"Raster\"===this.raster.tileType}}}}})],C.prototype,\"popupTemplate\",void 0),e([d({readOnly:!0})],C.prototype,\"defaultPopupTemplate\",null),e([d({readOnly:!0,type:[_]})],C.prototype,\"fields\",void 0),e([d({readOnly:!0,type:[_]})],C.prototype,\"rasterFields\",null),e([d({types:s,json:{name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy(){const e=\"raster-stretch\"===this.renderer?.type&&\"none\"===this.renderer.stretchType&&!this.renderer.useGamma;return{enabled:!this.loaded||\"Raster\"===this.raster.tileType||!e}}},origins:{\"web-scene\":{types:i,name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:e=>({enabled:e&&\"vector-field\"!==e.type&&\"flow\"!==e.type})}}}}})],C.prototype,\"renderer\",null),e([y(\"renderer\")],C.prototype,\"readRenderer\",null),C=e([f(\"esri.layers.ImageryTileLayer\")],C);const E=C;export{E as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}