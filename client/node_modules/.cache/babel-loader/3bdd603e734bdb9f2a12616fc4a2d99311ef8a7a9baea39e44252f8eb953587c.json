{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport r from \"../../../Graphic.js\";\nimport { isNone as t } from \"../../../core/maybe.js\";\nimport { initial as o } from \"../../../core/reactiveUtils.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as i } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { I3SMeshView3D as a } from \"./I3SMeshView3D.js\";\nimport { DrapeTargetType as n } from \"./interfaces.js\";\nimport { LayerView3D as p } from \"./LayerView3D.js\";\nimport { updatingProgress as l } from \"../support/updatingProperties.js\";\nimport c from \"../../layers/LayerView.js\";\nconst d = .2;\nlet m = class extends a(p(c)) {\n  constructor() {\n    super(...arguments), this.type = \"integrated-mesh-3d\", this._elevationContext = \"im\", this._isIntegratedMesh = !0, this._supportsLabeling = !1, this.drapeTargetType = n.WithoutRasterImage;\n  }\n  get i3slayer() {\n    return this.layer;\n  }\n  get updatingProgressValue() {\n    return this._controller?.updatingProgress ?? 0;\n  }\n  get lodFactor() {\n    return this.view?.qualitySettings?.sceneService?.integratedMesh?.lodFactor ?? 1;\n  }\n  get progressiveLoadFactor() {\n    return this.lodFactor >= 1 ? d : 1;\n  }\n  get layerPopupEnabled() {\n    return !1;\n  }\n  initialize() {\n    this.updatingHandles.add(() => this.layer.modifications, () => this._loadModifications(), o), this.view.basemapTerrain.overlayManager.registerDrapeTarget(this);\n  }\n  destroy() {\n    this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this);\n  }\n  _createLayerGraphic() {\n    const e = new r();\n    return e.layer = this.layer, e.sourceLayer = this.layer, e;\n  }\n  canResume() {\n    return super.canResume() && (!this._controller || this._controller.rootNodeVisible);\n  }\n  _loadModifications() {\n    if (this.handles.remove(\"modifications\"), t(this.layer.modifications)) return void (this._modifications = []);\n    const e = this.layer.modifications;\n    this.handles.add(this.updatingHandles.addOnCollectionChange(() => e, () => this._modifications = e.toArray(), o), \"modifications\");\n  }\n};\ne([s()], m.prototype, \"layer\", void 0), e([s()], m.prototype, \"i3slayer\", null), e([s(l)], m.prototype, \"updatingProgress\", void 0), e([s()], m.prototype, \"updatingProgressValue\", null), e([s()], m.prototype, \"lodFactor\", null), e([s({\n  readOnly: !0\n})], m.prototype, \"progressiveLoadFactor\", null), m = e([i(\"esri.views.3d.layers.SceneLayerView3D\")], m);\nconst u = m;\nexport { u as default };","map":{"version":3,"names":["_","e","r","isNone","t","initial","o","property","s","subclass","i","I3SMeshView3D","a","DrapeTargetType","n","LayerView3D","p","updatingProgress","l","c","d","m","constructor","arguments","type","_elevationContext","_isIntegratedMesh","_supportsLabeling","drapeTargetType","WithoutRasterImage","i3slayer","layer","updatingProgressValue","_controller","lodFactor","view","qualitySettings","sceneService","integratedMesh","progressiveLoadFactor","layerPopupEnabled","initialize","updatingHandles","add","modifications","_loadModifications","basemapTerrain","overlayManager","registerDrapeTarget","destroy","unregisterDrapeTarget","_createLayerGraphic","sourceLayer","canResume","rootNodeVisible","handles","remove","_modifications","addOnCollectionChange","toArray","prototype","readOnly","u","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/IntegratedMeshLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import{isNone as t}from\"../../../core/maybe.js\";import{initial as o}from\"../../../core/reactiveUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{I3SMeshView3D as a}from\"./I3SMeshView3D.js\";import{DrapeTargetType as n}from\"./interfaces.js\";import{LayerView3D as p}from\"./LayerView3D.js\";import{updatingProgress as l}from\"../support/updatingProperties.js\";import c from\"../../layers/LayerView.js\";const d=.2;let m=class extends(a(p(c))){constructor(){super(...arguments),this.type=\"integrated-mesh-3d\",this._elevationContext=\"im\",this._isIntegratedMesh=!0,this._supportsLabeling=!1,this.drapeTargetType=n.WithoutRasterImage}get i3slayer(){return this.layer}get updatingProgressValue(){return this._controller?.updatingProgress??0}get lodFactor(){return this.view?.qualitySettings?.sceneService?.integratedMesh?.lodFactor??1}get progressiveLoadFactor(){return this.lodFactor>=1?d:1}get layerPopupEnabled(){return!1}initialize(){this.updatingHandles.add((()=>this.layer.modifications),(()=>this._loadModifications()),o),this.view.basemapTerrain.overlayManager.registerDrapeTarget(this)}destroy(){this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this)}_createLayerGraphic(){const e=new r;return e.layer=this.layer,e.sourceLayer=this.layer,e}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}_loadModifications(){if(this.handles.remove(\"modifications\"),t(this.layer.modifications))return void(this._modifications=[]);const e=this.layer.modifications;this.handles.add(this.updatingHandles.addOnCollectionChange((()=>e),(()=>this._modifications=e.toArray()),o),\"modifications\")}};e([s()],m.prototype,\"layer\",void 0),e([s()],m.prototype,\"i3slayer\",null),e([s(l)],m.prototype,\"updatingProgress\",void 0),e([s()],m.prototype,\"updatingProgressValue\",null),e([s()],m.prototype,\"lodFactor\",null),e([s({readOnly:!0})],m.prototype,\"progressiveLoadFactor\",null),m=e([i(\"esri.views.3d.layers.SceneLayerView3D\")],m);const u=m;export{u as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}