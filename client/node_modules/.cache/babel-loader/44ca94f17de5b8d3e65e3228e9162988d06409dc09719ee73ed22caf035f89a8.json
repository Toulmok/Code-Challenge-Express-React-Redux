{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../Color.js\";\nimport \"../../../../geometry.js\";\nimport { LengthDimensionMeasureType as i } from \"../../../../analysis/dimensionUtils.js\";\nimport a from \"../../../../analysis/LengthDimension.js\";\nimport { HandleOwner as n } from \"../../../../core/HandleOwner.js\";\nimport s from \"../../../../core/Handles.js\";\nimport { equals as o } from \"../../../../core/lang.js\";\nimport { isNone as r, isSome as p, unwrapOr as l, destroyMaybe as u, applySome as d } from \"../../../../core/maybe.js\";\nimport { memoize as c } from \"../../../../core/memoize.js\";\nimport { ignoreAbortErrors as m } from \"../../../../core/promiseUtils.js\";\nimport { watch as h, sync as g, syncAndInitial as f, initial as _, when as M } from \"../../../../core/reactiveUtils.js\";\nimport { property as y } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as v } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as S } from \"../../../../chunks/vec3f64.js\";\nimport { clonePoint as C } from \"../../../../layers/graphics/hydratedFeatures.js\";\nimport { reapplyConstraint as b, LengthDimensionConstraint as w, applyConstraint as P, computeConstraint as O, constraintDependencies as D } from \"./lengthDimensionConstraintUtils.js\";\nimport { LengthDimensionManipulators as j, createPointManipulator as H, pointManipulatorHandles as T, createOffsetManipulator as G, offsetManipulatorHandles as I, createOrientationManipulator as z, headingManipulatorHandles as x, rotationManipulatorHandles as V, createMeasureTypeManipulator as U, measureTypeManipulatorHandles as R, updateOffsetManipulatorTransform as k, updateHeadingManipulatorTransform as E, updateRotationManipulatorTransform as A, updateMeasureTypeManipulatorTransform as F, unfocusedOffsetWidth as L, focusedOffsetWidth as q, updateOrientationManipulator as B } from \"./lengthDimensionManipulatorUtils.js\";\nimport { isValidComputation as N, arePointsVerticallyAligned as J, computeGeometryFromDimension as K, computationToGeometryDependencies as Q } from \"./lengthDimensionUtils.js\";\nimport { settings as W } from \"./settings.js\";\nimport { getRotateHeadingTexture as X } from \"../Slice/images/Factory.js\";\nimport { SnappingVisualizer3D as Y } from \"../../interactive/SnappingVisualizer3D.js\";\nimport { LineVisualElement as Z } from \"../../interactive/visualElements/LineVisualElement.js\";\nimport { VerticesVisualElement as $ } from \"../../interactive/visualElements/VerticesVisualElement.js\";\nimport { RenderOccludedFlag as tt } from \"../../webgl-engine/lib/Material.js\";\nimport { ImageMaterial as et } from \"../../webgl-engine/materials/ImageMaterial.js\";\nimport { createStipplePatternSimple as it } from \"../../webgl-engine/materials/lineStippleUtils.js\";\nimport { RibbonLineMaterial as at } from \"../../webgl-engine/materials/RibbonLineMaterial.js\";\nimport { createCoordinateHelper as nt } from \"../../../interactive/coordinateHelper.js\";\nimport { EditGeometry as st } from \"../../../interactive/editGeometry/EditGeometry.js\";\nimport { EditGeometryOperations as ot } from \"../../../interactive/editGeometry/EditGeometryOperations.js\";\nimport { acquire as rt } from \"../../../interactive/snapping/SceneSnappingManagerPool.js\";\nimport { SnappingContext as pt } from \"../../../interactive/snapping/SnappingContext.js\";\nimport { createSnapDragEventPipelineStep as lt } from \"../../../interactive/snapping/SnappingDragPipelineStep.js\";\nimport { SnappingOperation as ut } from \"../../../interactive/snapping/SnappingOperation.js\";\nimport { setupSnappingToggleHandles as dt } from \"../../../interactive/snapping/snappingUtils.js\";\nimport ct from \"../../../../geometry/Point.js\";\nlet mt = class extends n {\n  constructor(t) {\n    super(t), this._stagedDimension = null, this._computationManipulators = new Map(), this._computationHandles = new s(), this._getSnappingContext = c(t => new pt({\n      elevationInfo: {\n        mode: \"absolute-height\",\n        offset: 0\n      },\n      pointer: t,\n      editGeometryOperations: new ot(new st(\"point\", nt(!0, !1, this.view.spatialReference))),\n      visualizer: new Y()\n    })), this._snappingManagerResult = rt(t.view), this.addHandles(this._snappingManagerResult), this._unfocusedOffsetManipulatorMaterial = ht(), this._focusedOffsetManipulatorMaterial = ht(), this._thinOffsetManipulatorMaterial = ht(), this._thinOffsetManipulatorMaterial.setParameters({\n      stipplePattern: it(2)\n    }), this._constraintSnappingIndicator = new Z({\n      view: t.view,\n      attached: !0,\n      width: 1,\n      color: e.toUnitRGBA(W.constraint.color),\n      renderOccluded: tt.OccludeAndTransparent,\n      stipplePattern: it(5)\n    });\n    const i = e.toUnitRGBA(W.disabledPointIndicator.color);\n    i[3] *= W.disabledPointIndicator.opacity, this._stagedStartIndicator = new $({\n      view: t.view,\n      attached: !1,\n      color: i,\n      size: 2 * W.disabledPointIndicator.radius,\n      elevationInfo: {\n        mode: \"absolute-height\",\n        offset: 0\n      },\n      spatialReference: t.view.renderCoordsHelper.spatialReference,\n      outlineSize: 0,\n      renderOccluded: tt.OccludeAndTransparent\n    });\n  }\n  initialize() {\n    this._snappingOperation = new ut({\n      view: this.view\n    }), this._orientationManipulatorTexture = X(this.view.toolViewManager.textures), this._orientationManipulatorMaterial = new et({\n      transparent: !0,\n      writeDepth: !1,\n      textureId: this._orientationManipulatorTexture.texture.id,\n      renderOccluded: tt.Opaque\n    });\n    const {\n      computations: t\n    } = this.analysisViewData;\n    for (const e of t) this._addComputation(e);\n    this.addHandles([t.on(\"after-add\", t => this._addComputation(t.item)), t.on(\"after-remove\", t => this._removeComputation(t.item))]), this.addHandles([h(() => ({\n      stagedPoint: this._snappingOperation.stagedPoint,\n      stagedComputation: this._stagedComputation\n    }), _ref => {\n      let {\n        stagedPoint: t,\n        stagedComputation: e\n      } = _ref;\n      if (r(e) || r(t)) return;\n      const i = C(t, new ct());\n      this._applyPointUpdate(e, {\n        endPoint: i\n      });\n    }, g), h(() => ({\n      stagedDimension: this._stagedDimension,\n      selectedComputation: this.analysisViewData.selectedComputation,\n      firstGrabbedManipulator: this.firstGrabbedManipulator\n    }), (t, e) => {\n      const {\n        stagedDimension: i,\n        selectedComputation: a,\n        firstGrabbedManipulator: n\n      } = t;\n      if (i === e?.stagedDimension && n === e?.firstGrabbedManipulator) {\n        for (const s of [a, e?.selectedComputation]) if (p(s)) {\n          const e = this._computationManipulators.get(s);\n          this._updateManipulators(s, e, t);\n        }\n      } else for (const [s, o] of this._computationManipulators) this._updateManipulators(s, o, t);\n    }, f), h(() => this.analysis.style.lineSize, t => {\n      this._updateManipulatorStyle(t);\n    }, _), h(() => this.view.state.camera, () => {\n      p(this._stagedComputation) && this._updateStagedDimensionOffset(this._stagedComputation);\n    }), h(() => d(this._stagedComputation, t => {\n      const e = t.elevationAlignedStartPoint,\n        i = S();\n      return p(e) && this.view.renderCoordsHelper.toRenderCoords(e, i) ? i : null;\n    }), t => {\n      p(t) ? (this._stagedStartIndicator.vertices = [t], this._stagedStartIndicator.attached = !0) : this._stagedStartIndicator.attached = !1;\n    })]), this.addHandles(this._constraintHandles), this.addHandles(this._snappingIndicatorHandles), dt(this, () => {\n      const t = this._activeComputation,\n        e = this._stagedComputation;\n      if (r(t) || p(e)) {\n        const t = l(this.view.inputManager.latestPointerType, \"mouse\"),\n          e = this._getSnappingContext(t);\n        this.updatingHandles.addPromise(m(this._snappingOperation.resnap(this._snappingManager, e)));\n      }\n      if (p(t)) {\n        const {\n          start: e,\n          end: i\n        } = this._computationManipulators.get(t);\n        if (e.grabbing || i.grabbing) {\n          const i = e.grabbing ? \"start\" : \"end\",\n            a = this._computeConstraint(t);\n          b(t, i, {\n            constraint: a,\n            view: this.view\n          });\n        }\n      }\n    });\n  }\n  destroy() {\n    this._snappingOperation = u(this._snappingOperation), this._computationHandles.destroy(), this._constraintSnappingIndicator.destroy(), this._stagedStartIndicator.destroy(), this._orientationManipulatorMaterial.dispose(), this._orientationManipulatorTexture.release();\n  }\n  get updating() {\n    return this.updatingHandles.updating || this._snappingManager.updating;\n  }\n  get firstGrabbedManipulator() {\n    return this.parentTool.firstGrabbedManipulator;\n  }\n  get hasGrabbedManipulators() {\n    return this.parentTool.hasGrabbedManipulators;\n  }\n  get snappingOptions() {\n    return this._snappingManager.options;\n  }\n  get _snappingManager() {\n    return this._snappingManagerResult.snappingManager;\n  }\n  get _activeComputation() {\n    if (p(this._stagedComputation)) return this._stagedComputation;\n    const {\n      selectedComputation: t\n    } = this.analysisViewData;\n    return this.hasGrabbedManipulators && p(t) ? t : null;\n  }\n  get _stagedComputation() {\n    const t = this._stagedDimension,\n      e = this.analysisViewData.computations.at(-1);\n    return r(t) || r(e) || e.dimension !== t ? null : e;\n  }\n  get _constraintHandles() {\n    return [M(() => this.analysisViewData.selectedComputation, t => {\n      t.previousConstraint = this._computeConstraint(t);\n    }, {\n      ...f,\n      equals: o\n    }), h(() => {\n      const t = this._activeComputation;\n      if (r(t)) return null;\n      const {\n        measureType: e,\n        orientation: i\n      } = t.dimension;\n      return {\n        measureType: e,\n        orientation: i,\n        computation: t\n      };\n    }, (t, e) => {\n      if (p(t) && r(e)) {\n        const {\n          measureType: e,\n          orientation: a,\n          computation: n\n        } = t;\n        switch (n.previousConstraint) {\n          case w.Horizontal:\n            n.preConstraintProperties = {\n              measureType: i.Horizontal,\n              orientation: 0\n            };\n            break;\n          case w.Vertical:\n            n.preConstraintProperties = {\n              measureType: i.Vertical,\n              orientation: 0\n            };\n            break;\n          case w.Direct:\n            n.preConstraintProperties = {\n              measureType: i.Direct,\n              orientation: a\n            };\n            break;\n          default:\n            n.preConstraintProperties = {\n              measureType: e,\n              orientation: a\n            };\n        }\n      }\n      r(t) && p(e) && (e.computation.preConstraintProperties = null);\n    }, g)];\n  }\n  get _snappingIndicatorHandles() {\n    const t = \"snapping-indicator-event-handles\";\n    return [h(() => ({\n      stagedComputation: this._stagedComputation,\n      activeComputation: this._activeComputation\n    }), _ref2 => {\n      let {\n        stagedComputation: e,\n        activeComputation: i\n      } = _ref2;\n      const a = this._constraintSnappingIndicator;\n      if (this.removeHandles(t), r(i)) a.attached = !1;else if (i === e) a.attached = !0;else {\n        const {\n            start: e,\n            end: n\n          } = this._computationManipulators.get(i),\n          s = () => {\n            a.attached = e.grabbing || n.grabbing;\n          };\n        s(), this.addHandles([e.events.on(\"grab-changed\", s), n.events.on(\"grab-changed\", s)], t);\n      }\n    }), h(() => {\n      const t = this._activeComputation;\n      return p(t) ? {\n        geometry: t.geometry,\n        constraint: t.previousConstraint\n      } : {};\n    }, _ref3 => {\n      let {\n        geometry: t,\n        constraint: e\n      } = _ref3;\n      const i = this._constraintSnappingIndicator;\n      p(t) && p(e) && e !== w.Direct ? (i.visible = !0, i.setGeometryFromSegment(t.directSegment)) : i.visible = !1;\n    })];\n  }\n  removeStaged() {\n    return !!p(this._stagedDimension) && (this.analysis.dimensions.remove(this._stagedDimension), this._stagedDimension = null, !0);\n  }\n  onDeactivate() {\n    this.removeStaged(), this._resetSnappingState();\n  }\n  onClick(t) {\n    const {\n      _stagedDimension: e\n    } = this;\n    if (r(e)) {\n      const e = this._onUnstagedClick(t);\n      return this.analysis.dimensions.add(e), null;\n    }\n    return this._onStagedClick(t), e;\n  }\n  onPointerMove(_ref4) {\n    let {\n      mapPoint: t,\n      pointerType: e\n    } = _ref4;\n    if (\"touch\" === e) return;\n    const i = this._getSnappingContext(e);\n    this.updatingHandles.addPromise(m(this._snappingOperation.snap({\n      point: t\n    }, this._snappingManager, i)));\n  }\n  onManipulatorSelectionChanged() {\n    if (p(this.analysisViewData.selectedComputation)) {\n      this._computationManipulators.get(this.analysisViewData.selectedComputation).offset.selected || (this.analysisViewData.selectedDimension = null);\n    }\n  }\n  _onUnstagedClick(_ref5) {\n    let {\n      mapPoint: t,\n      pointerType: e\n    } = _ref5;\n    let n = t;\n    if (\"mouse\" === e) {\n      const i = this._getSnappingContext(e);\n      n = this._snappingManager.update({\n        point: t,\n        context: i\n      });\n    }\n    const s = new a({\n      startPoint: C(n, new ct()),\n      endPoint: null,\n      measureType: i.Horizontal\n    });\n    return this._stagedDimension = s, this._resetSnappingState(), s;\n  }\n  _onStagedClick(_ref6) {\n    let {\n      mapPoint: t,\n      pointerType: e\n    } = _ref6;\n    const i = this._stagedComputation;\n    if (r(i)) return;\n    let a = t;\n    if (\"mouse\" === e) {\n      const i = this._getSnappingContext(e);\n      a = this._snappingManager.update({\n        point: t,\n        context: i\n      });\n    }\n    const n = C(a, new ct());\n    this._applyPointUpdate(i, {\n      endPoint: n\n    }), this._stagedDimension = null, this._resetSnappingState();\n  }\n  _resetSnappingState() {\n    this._snappingManager.doneSnapping(), this._snappingOperation.abort(), this._snappingOperation.stagedPoint = null;\n  }\n  _addComputation(t) {\n    if (this._computationManipulators.has(t)) return;\n    const e = this._setupPointManipulator(t, {\n        isStart: !0\n      }),\n      a = this._setupPointManipulator(t, {\n        isStart: !1\n      }),\n      n = this._setupOffsetManipulator(t),\n      s = this._setupHeadingManipulator(t),\n      o = this._setupRotationManipulator(t),\n      r = this._setupMeasureTypeManipulator(t, i.Direct),\n      p = this._setupMeasureTypeManipulator(t, i.Horizontal),\n      l = this._setupMeasureTypeManipulator(t, i.Vertical),\n      u = new j({\n        start: e,\n        end: a,\n        offset: n,\n        heading: s,\n        rotation: o,\n        direct: r,\n        horizontal: p,\n        vertical: l\n      });\n    this._setupComputationToManipulatorsSync(t, u), this._computationManipulators.set(t, u), this.manipulators.addMany(u.values());\n  }\n  _removeComputation(t) {\n    const e = this._computationManipulators.get(t);\n    if (!r(e)) {\n      this._computationHandles.remove(t), this._computationManipulators.delete(t);\n      for (const t of e.values()) this.manipulators.remove(t);\n    }\n  }\n  _setupComputationToManipulatorsSync(t, e) {\n    this._computationHandles.add([h(() => t.geometry, () => this._updateManipulators(t, e), {\n      ...f,\n      equals: o\n    })], t);\n  }\n  _setupPointManipulator(t, e) {\n    const {\n        view: i\n      } = this,\n      {\n        dimension: a\n      } = t,\n      n = H(i, {\n        metadata: a\n      }),\n      s = T(n, {\n        isStart: e.isStart,\n        createSnappingPipelineStep: t => lt({\n          snappingContext: this._getSnappingContext(t),\n          snappingManager: this._snappingManager,\n          updatingHandles: this.updatingHandles\n        }),\n        dimension: a,\n        onUpdate: e => this._applyPointUpdate(t, e),\n        view: i\n      });\n    return this._computationHandles.add(s, t), n;\n  }\n  _setupOffsetManipulator(t) {\n    const {\n        view: e\n      } = this,\n      i = G(e, {\n        lineSizePt: this.analysis.style.lineSize,\n        unfocusedMaterial: this._unfocusedOffsetManipulatorMaterial,\n        focusedMaterial: this._focusedOffsetManipulatorMaterial,\n        metadata: t.dimension\n      }),\n      a = I(i, {\n        computation: t,\n        view: e\n      });\n    return this._computationHandles.add(a, t), i;\n  }\n  _setupHeadingManipulator(t) {\n    const {\n        view: e\n      } = this,\n      i = z(e, {\n        lineSizePt: this.analysis.style.lineSize,\n        material: this._orientationManipulatorMaterial,\n        metadata: t.dimension\n      }),\n      a = x(i, {\n        computation: t,\n        view: e\n      });\n    return this._computationHandles.add(a, t), i;\n  }\n  _setupRotationManipulator(t) {\n    const {\n        view: e\n      } = this,\n      i = z(e, {\n        lineSizePt: this.analysis.style.lineSize,\n        material: this._orientationManipulatorMaterial,\n        metadata: t.dimension\n      }),\n      a = V(i, {\n        computation: t,\n        view: e\n      });\n    return this._computationHandles.add(a, t), i;\n  }\n  _setupMeasureTypeManipulator(t, e) {\n    const {\n        view: i\n      } = this,\n      a = U(i, {\n        lineSizePt: this.analysis.style.lineSize,\n        unfocusedMaterial: this._unfocusedOffsetManipulatorMaterial,\n        focusedMaterial: this._focusedOffsetManipulatorMaterial,\n        thinOffsetManipulatorMaterial: this._thinOffsetManipulatorMaterial,\n        metadata: t.dimension\n      }),\n      n = R(a, {\n        computation: t,\n        manipulatorMeasureType: e,\n        view: i\n      });\n    return this._computationHandles.add(n, t), a;\n  }\n  _updateManipulators(t, e) {\n    let a = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n      stagedDimension: this._stagedDimension,\n      selectedComputation: this.analysisViewData.selectedComputation,\n      firstGrabbedManipulator: this.firstGrabbedManipulator\n    };\n    const {\n        stagedDimension: n,\n        selectedComputation: s,\n        firstGrabbedManipulator: o\n      } = a,\n      {\n        start: l,\n        end: u,\n        offset: d,\n        heading: c,\n        rotation: m\n      } = e,\n      h = s === t,\n      g = N(t),\n      {\n        dimension: f\n      } = t;\n    for (const i of e.values()) {\n      const t = g && r(n) && (r(o) || i === o);\n      i === d ? (i.available = t, i.selected = h) : i.available = t && h;\n    }\n    if (!g) return;\n    p(this._computeConstraint(t)) ? e.forEachMeasureTypeManipulator(t => t.available = !1) : e.manipulatorForMeasureType(f.measureType).available = !1;\n    for (const r of [c, m]) f.measureType === i.Direct && 0 !== f.offset || (r.available = !1);\n    J(t) ? m.available = !1 : c.available = !1;\n    const {\n      geometry: _\n    } = t;\n    l.renderLocation = _.directSegment.startRenderSpace, u.renderLocation = _.directSegment.endRenderSpace;\n    const {\n      renderCoordsHelper: M\n    } = this.view;\n    k(d, _, M), c.available && E(c, t, M), m.available && A(m, t, M), e.forEachMeasureTypeManipulator((e, i) => {\n      e.available && F(e, t, i, M);\n    });\n  }\n  _updateManipulatorStyle(t) {\n    const e = L(t),\n      i = q(t),\n      a = {\n        lineSizePt: t,\n        material: this._orientationManipulatorMaterial\n      };\n    for (const {\n      offset: n,\n      heading: s,\n      rotation: o\n    } of this._computationManipulators.values()) n.radius = i / 2, B(s, a), B(o, a);\n    this._unfocusedOffsetManipulatorMaterial.setParameters({\n      width: e\n    }), this._focusedOffsetManipulatorMaterial.setParameters({\n      width: i\n    });\n  }\n  _applyPointUpdate(t, e) {\n    const {\n        view: i\n      } = this,\n      a = Q(t);\n    \"startPoint\" in e && (a.elevationAlignedStartPoint = e.startPoint), \"endPoint\" in e && (a.elevationAlignedEndPoint = e.endPoint);\n    const n = K(a, i.renderCoordsHelper);\n    if (r(n)) return;\n    const s = this._computeConstraint({\n      ...a,\n      geometry: n\n    });\n    P(t, e, {\n      ...a,\n      constraint: s,\n      unconstrainedGeometry: n,\n      view: i\n    }), t === this._stagedComputation && this._updateStagedDimensionOffset(t);\n  }\n  _updateStagedDimensionOffset(t) {\n    if (r(t.geometry)) return;\n    t.geometry.directSegment.eval(.5, gt);\n    const e = this.view.state.camera.computeRenderPixelSizeAt(gt);\n    t.dimension.offset = W.initialOffsetPx * e;\n  }\n  _computeConstraint(t) {\n    return O(D(t, this._snappingManager.options), this.view);\n  }\n  get testInfo() {\n    const t = t => this.analysisViewData.computations.find(e => e.dimension === t);\n    return {\n      disableManipulatorPartialOcclusion: () => {\n        this._stagedStartIndicator.renderOccluded = tt.Occlude, this.manipulators.forEach(_ref7 => {\n          let {\n            manipulator: t\n          } = _ref7;\n          for (const {\n            geometry: e\n          } of t.renderObjects) e.material.setParameters({\n            renderOccluded: tt.Occlude\n          });\n        });\n      },\n      getManipulatorsForDimension: e => this._computationManipulators.get(t(e)),\n      getComputationForDimension: e => t(e),\n      getConstraintForDimension: e => {\n        const i = t(e);\n        return p(i) ? this._computeConstraint(i) : null;\n      },\n      stagedDimension: this._stagedDimension,\n      stagedStartIndicator: this._stagedStartIndicator,\n      constraintSnappingIndicator: this._constraintSnappingIndicator,\n      snappingManager: this._snappingManager\n    };\n  }\n};\nfunction ht() {\n  const {\n    color: t,\n    opacity: i\n  } = W.offsetManipulator;\n  return new at({\n    color: [...e.toUnitRGB(t), i],\n    width: 1,\n    renderOccluded: tt.OccludeAndTransparent,\n    writeDepth: !1,\n    hasPolygonOffset: !0\n  });\n}\nt([y({\n  constructOnly: !0\n})], mt.prototype, \"analysis\", void 0), t([y({\n  constructOnly: !0\n})], mt.prototype, \"analysisViewData\", void 0), t([y({\n  constructOnly: !0\n})], mt.prototype, \"manipulators\", void 0), t([y({\n  constructOnly: !0\n})], mt.prototype, \"parentTool\", void 0), t([y({\n  constructOnly: !0,\n  nonNullable: !0\n})], mt.prototype, \"view\", void 0), t([y({\n  readOnly: !0\n})], mt.prototype, \"updating\", null), t([y()], mt.prototype, \"firstGrabbedManipulator\", null), t([y()], mt.prototype, \"hasGrabbedManipulators\", null), t([y()], mt.prototype, \"snappingOptions\", null), t([y()], mt.prototype, \"_stagedDimension\", void 0), t([y()], mt.prototype, \"_activeComputation\", null), t([y()], mt.prototype, \"_stagedComputation\", null), mt = t([v(\"esri.views.3d.analysis.Dimension.LengthDimensionSubTool\")], mt);\nconst gt = S();\nexport { mt as LengthDimensionSubTool };","map":{"version":3,"names":["_","t","e","LengthDimensionMeasureType","i","a","HandleOwner","n","s","equals","o","isNone","r","isSome","p","unwrapOr","l","destroyMaybe","u","applySome","d","memoize","c","ignoreAbortErrors","m","watch","h","sync","g","syncAndInitial","f","initial","when","M","property","y","subclass","v","S","clonePoint","C","reapplyConstraint","b","LengthDimensionConstraint","w","applyConstraint","P","computeConstraint","O","constraintDependencies","D","LengthDimensionManipulators","j","createPointManipulator","H","pointManipulatorHandles","T","createOffsetManipulator","G","offsetManipulatorHandles","I","createOrientationManipulator","z","headingManipulatorHandles","x","rotationManipulatorHandles","V","createMeasureTypeManipulator","U","measureTypeManipulatorHandles","R","updateOffsetManipulatorTransform","k","updateHeadingManipulatorTransform","E","updateRotationManipulatorTransform","A","updateMeasureTypeManipulatorTransform","F","unfocusedOffsetWidth","L","focusedOffsetWidth","q","updateOrientationManipulator","B","isValidComputation","N","arePointsVerticallyAligned","J","computeGeometryFromDimension","K","computationToGeometryDependencies","Q","settings","W","getRotateHeadingTexture","X","SnappingVisualizer3D","Y","LineVisualElement","Z","VerticesVisualElement","$","RenderOccludedFlag","tt","ImageMaterial","et","createStipplePatternSimple","it","RibbonLineMaterial","at","createCoordinateHelper","nt","EditGeometry","st","EditGeometryOperations","ot","acquire","rt","SnappingContext","pt","createSnapDragEventPipelineStep","lt","SnappingOperation","ut","setupSnappingToggleHandles","dt","ct","mt","constructor","_stagedDimension","_computationManipulators","Map","_computationHandles","_getSnappingContext","elevationInfo","mode","offset","pointer","editGeometryOperations","view","spatialReference","visualizer","_snappingManagerResult","addHandles","_unfocusedOffsetManipulatorMaterial","ht","_focusedOffsetManipulatorMaterial","_thinOffsetManipulatorMaterial","setParameters","stipplePattern","_constraintSnappingIndicator","attached","width","color","toUnitRGBA","constraint","renderOccluded","OccludeAndTransparent","disabledPointIndicator","opacity","_stagedStartIndicator","size","radius","renderCoordsHelper","outlineSize","initialize","_snappingOperation","_orientationManipulatorTexture","toolViewManager","textures","_orientationManipulatorMaterial","transparent","writeDepth","textureId","texture","id","Opaque","computations","analysisViewData","_addComputation","on","item","_removeComputation","stagedPoint","stagedComputation","_stagedComputation","_ref","_applyPointUpdate","endPoint","stagedDimension","selectedComputation","firstGrabbedManipulator","get","_updateManipulators","analysis","style","lineSize","_updateManipulatorStyle","state","camera","_updateStagedDimensionOffset","elevationAlignedStartPoint","toRenderCoords","vertices","_constraintHandles","_snappingIndicatorHandles","_activeComputation","inputManager","latestPointerType","updatingHandles","addPromise","resnap","_snappingManager","start","end","grabbing","_computeConstraint","destroy","dispose","release","updating","parentTool","hasGrabbedManipulators","snappingOptions","options","snappingManager","dimension","previousConstraint","measureType","orientation","computation","Horizontal","preConstraintProperties","Vertical","Direct","activeComputation","_ref2","removeHandles","events","geometry","_ref3","visible","setGeometryFromSegment","directSegment","removeStaged","dimensions","remove","onDeactivate","_resetSnappingState","onClick","_onUnstagedClick","add","_onStagedClick","onPointerMove","_ref4","mapPoint","pointerType","snap","point","onManipulatorSelectionChanged","selected","selectedDimension","_ref5","update","context","startPoint","_ref6","doneSnapping","abort","has","_setupPointManipulator","isStart","_setupOffsetManipulator","_setupHeadingManipulator","_setupRotationManipulator","_setupMeasureTypeManipulator","heading","rotation","direct","horizontal","vertical","_setupComputationToManipulatorsSync","set","manipulators","addMany","values","delete","metadata","createSnappingPipelineStep","snappingContext","onUpdate","lineSizePt","unfocusedMaterial","focusedMaterial","material","thinOffsetManipulatorMaterial","manipulatorMeasureType","arguments","length","undefined","available","forEachMeasureTypeManipulator","manipulatorForMeasureType","renderLocation","startRenderSpace","endRenderSpace","elevationAlignedEndPoint","unconstrainedGeometry","eval","gt","computeRenderPixelSizeAt","initialOffsetPx","testInfo","find","disableManipulatorPartialOcclusion","Occlude","forEach","_ref7","manipulator","renderObjects","getManipulatorsForDimension","getComputationForDimension","getConstraintForDimension","stagedStartIndicator","constraintSnappingIndicator","offsetManipulator","toUnitRGB","hasPolygonOffset","constructOnly","prototype","nonNullable","readOnly","LengthDimensionSubTool"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/analysis/Dimension/LengthDimensionSubTool.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Color.js\";import\"../../../../geometry.js\";import{LengthDimensionMeasureType as i}from\"../../../../analysis/dimensionUtils.js\";import a from\"../../../../analysis/LengthDimension.js\";import{HandleOwner as n}from\"../../../../core/HandleOwner.js\";import s from\"../../../../core/Handles.js\";import{equals as o}from\"../../../../core/lang.js\";import{isNone as r,isSome as p,unwrapOr as l,destroyMaybe as u,applySome as d}from\"../../../../core/maybe.js\";import{memoize as c}from\"../../../../core/memoize.js\";import{ignoreAbortErrors as m}from\"../../../../core/promiseUtils.js\";import{watch as h,sync as g,syncAndInitial as f,initial as _,when as M}from\"../../../../core/reactiveUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as v}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as S}from\"../../../../chunks/vec3f64.js\";import{clonePoint as C}from\"../../../../layers/graphics/hydratedFeatures.js\";import{reapplyConstraint as b,LengthDimensionConstraint as w,applyConstraint as P,computeConstraint as O,constraintDependencies as D}from\"./lengthDimensionConstraintUtils.js\";import{LengthDimensionManipulators as j,createPointManipulator as H,pointManipulatorHandles as T,createOffsetManipulator as G,offsetManipulatorHandles as I,createOrientationManipulator as z,headingManipulatorHandles as x,rotationManipulatorHandles as V,createMeasureTypeManipulator as U,measureTypeManipulatorHandles as R,updateOffsetManipulatorTransform as k,updateHeadingManipulatorTransform as E,updateRotationManipulatorTransform as A,updateMeasureTypeManipulatorTransform as F,unfocusedOffsetWidth as L,focusedOffsetWidth as q,updateOrientationManipulator as B}from\"./lengthDimensionManipulatorUtils.js\";import{isValidComputation as N,arePointsVerticallyAligned as J,computeGeometryFromDimension as K,computationToGeometryDependencies as Q}from\"./lengthDimensionUtils.js\";import{settings as W}from\"./settings.js\";import{getRotateHeadingTexture as X}from\"../Slice/images/Factory.js\";import{SnappingVisualizer3D as Y}from\"../../interactive/SnappingVisualizer3D.js\";import{LineVisualElement as Z}from\"../../interactive/visualElements/LineVisualElement.js\";import{VerticesVisualElement as $}from\"../../interactive/visualElements/VerticesVisualElement.js\";import{RenderOccludedFlag as tt}from\"../../webgl-engine/lib/Material.js\";import{ImageMaterial as et}from\"../../webgl-engine/materials/ImageMaterial.js\";import{createStipplePatternSimple as it}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{RibbonLineMaterial as at}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createCoordinateHelper as nt}from\"../../../interactive/coordinateHelper.js\";import{EditGeometry as st}from\"../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as ot}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{acquire as rt}from\"../../../interactive/snapping/SceneSnappingManagerPool.js\";import{SnappingContext as pt}from\"../../../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as lt}from\"../../../interactive/snapping/SnappingDragPipelineStep.js\";import{SnappingOperation as ut}from\"../../../interactive/snapping/SnappingOperation.js\";import{setupSnappingToggleHandles as dt}from\"../../../interactive/snapping/snappingUtils.js\";import ct from\"../../../../geometry/Point.js\";let mt=class extends n{constructor(t){super(t),this._stagedDimension=null,this._computationManipulators=new Map,this._computationHandles=new s,this._getSnappingContext=c((t=>new pt({elevationInfo:{mode:\"absolute-height\",offset:0},pointer:t,editGeometryOperations:new ot(new st(\"point\",nt(!0,!1,this.view.spatialReference))),visualizer:new Y}))),this._snappingManagerResult=rt(t.view),this.addHandles(this._snappingManagerResult),this._unfocusedOffsetManipulatorMaterial=ht(),this._focusedOffsetManipulatorMaterial=ht(),this._thinOffsetManipulatorMaterial=ht(),this._thinOffsetManipulatorMaterial.setParameters({stipplePattern:it(2)}),this._constraintSnappingIndicator=new Z({view:t.view,attached:!0,width:1,color:e.toUnitRGBA(W.constraint.color),renderOccluded:tt.OccludeAndTransparent,stipplePattern:it(5)});const i=e.toUnitRGBA(W.disabledPointIndicator.color);i[3]*=W.disabledPointIndicator.opacity,this._stagedStartIndicator=new $({view:t.view,attached:!1,color:i,size:2*W.disabledPointIndicator.radius,elevationInfo:{mode:\"absolute-height\",offset:0},spatialReference:t.view.renderCoordsHelper.spatialReference,outlineSize:0,renderOccluded:tt.OccludeAndTransparent})}initialize(){this._snappingOperation=new ut({view:this.view}),this._orientationManipulatorTexture=X(this.view.toolViewManager.textures),this._orientationManipulatorMaterial=new et({transparent:!0,writeDepth:!1,textureId:this._orientationManipulatorTexture.texture.id,renderOccluded:tt.Opaque});const{computations:t}=this.analysisViewData;for(const e of t)this._addComputation(e);this.addHandles([t.on(\"after-add\",(t=>this._addComputation(t.item))),t.on(\"after-remove\",(t=>this._removeComputation(t.item)))]),this.addHandles([h((()=>({stagedPoint:this._snappingOperation.stagedPoint,stagedComputation:this._stagedComputation})),(({stagedPoint:t,stagedComputation:e})=>{if(r(e)||r(t))return;const i=C(t,new ct);this._applyPointUpdate(e,{endPoint:i})}),g),h((()=>({stagedDimension:this._stagedDimension,selectedComputation:this.analysisViewData.selectedComputation,firstGrabbedManipulator:this.firstGrabbedManipulator})),((t,e)=>{const{stagedDimension:i,selectedComputation:a,firstGrabbedManipulator:n}=t;if(i===e?.stagedDimension&&n===e?.firstGrabbedManipulator){for(const s of[a,e?.selectedComputation])if(p(s)){const e=this._computationManipulators.get(s);this._updateManipulators(s,e,t)}}else for(const[s,o]of this._computationManipulators)this._updateManipulators(s,o,t)}),f),h((()=>this.analysis.style.lineSize),(t=>{this._updateManipulatorStyle(t)}),_),h((()=>this.view.state.camera),(()=>{p(this._stagedComputation)&&this._updateStagedDimensionOffset(this._stagedComputation)})),h((()=>d(this._stagedComputation,(t=>{const e=t.elevationAlignedStartPoint,i=S();return p(e)&&this.view.renderCoordsHelper.toRenderCoords(e,i)?i:null}))),(t=>{p(t)?(this._stagedStartIndicator.vertices=[t],this._stagedStartIndicator.attached=!0):this._stagedStartIndicator.attached=!1}))]),this.addHandles(this._constraintHandles),this.addHandles(this._snappingIndicatorHandles),dt(this,(()=>{const t=this._activeComputation,e=this._stagedComputation;if(r(t)||p(e)){const t=l(this.view.inputManager.latestPointerType,\"mouse\"),e=this._getSnappingContext(t);this.updatingHandles.addPromise(m(this._snappingOperation.resnap(this._snappingManager,e)))}if(p(t)){const{start:e,end:i}=this._computationManipulators.get(t);if(e.grabbing||i.grabbing){const i=e.grabbing?\"start\":\"end\",a=this._computeConstraint(t);b(t,i,{constraint:a,view:this.view})}}}))}destroy(){this._snappingOperation=u(this._snappingOperation),this._computationHandles.destroy(),this._constraintSnappingIndicator.destroy(),this._stagedStartIndicator.destroy(),this._orientationManipulatorMaterial.dispose(),this._orientationManipulatorTexture.release()}get updating(){return this.updatingHandles.updating||this._snappingManager.updating}get firstGrabbedManipulator(){return this.parentTool.firstGrabbedManipulator}get hasGrabbedManipulators(){return this.parentTool.hasGrabbedManipulators}get snappingOptions(){return this._snappingManager.options}get _snappingManager(){return this._snappingManagerResult.snappingManager}get _activeComputation(){if(p(this._stagedComputation))return this._stagedComputation;const{selectedComputation:t}=this.analysisViewData;return this.hasGrabbedManipulators&&p(t)?t:null}get _stagedComputation(){const t=this._stagedDimension,e=this.analysisViewData.computations.at(-1);return r(t)||r(e)||e.dimension!==t?null:e}get _constraintHandles(){return[M((()=>this.analysisViewData.selectedComputation),(t=>{t.previousConstraint=this._computeConstraint(t)}),{...f,equals:o}),h((()=>{const t=this._activeComputation;if(r(t))return null;const{measureType:e,orientation:i}=t.dimension;return{measureType:e,orientation:i,computation:t}}),((t,e)=>{if(p(t)&&r(e)){const{measureType:e,orientation:a,computation:n}=t;switch(n.previousConstraint){case w.Horizontal:n.preConstraintProperties={measureType:i.Horizontal,orientation:0};break;case w.Vertical:n.preConstraintProperties={measureType:i.Vertical,orientation:0};break;case w.Direct:n.preConstraintProperties={measureType:i.Direct,orientation:a};break;default:n.preConstraintProperties={measureType:e,orientation:a}}}r(t)&&p(e)&&(e.computation.preConstraintProperties=null)}),g)]}get _snappingIndicatorHandles(){const t=\"snapping-indicator-event-handles\";return[h((()=>({stagedComputation:this._stagedComputation,activeComputation:this._activeComputation})),(({stagedComputation:e,activeComputation:i})=>{const a=this._constraintSnappingIndicator;if(this.removeHandles(t),r(i))a.attached=!1;else if(i===e)a.attached=!0;else{const{start:e,end:n}=this._computationManipulators.get(i),s=()=>{a.attached=e.grabbing||n.grabbing};s(),this.addHandles([e.events.on(\"grab-changed\",s),n.events.on(\"grab-changed\",s)],t)}})),h((()=>{const t=this._activeComputation;return p(t)?{geometry:t.geometry,constraint:t.previousConstraint}:{}}),(({geometry:t,constraint:e})=>{const i=this._constraintSnappingIndicator;p(t)&&p(e)&&e!==w.Direct?(i.visible=!0,i.setGeometryFromSegment(t.directSegment)):i.visible=!1}))]}removeStaged(){return!!p(this._stagedDimension)&&(this.analysis.dimensions.remove(this._stagedDimension),this._stagedDimension=null,!0)}onDeactivate(){this.removeStaged(),this._resetSnappingState()}onClick(t){const{_stagedDimension:e}=this;if(r(e)){const e=this._onUnstagedClick(t);return this.analysis.dimensions.add(e),null}return this._onStagedClick(t),e}onPointerMove({mapPoint:t,pointerType:e}){if(\"touch\"===e)return;const i=this._getSnappingContext(e);this.updatingHandles.addPromise(m(this._snappingOperation.snap({point:t},this._snappingManager,i)))}onManipulatorSelectionChanged(){if(p(this.analysisViewData.selectedComputation)){this._computationManipulators.get(this.analysisViewData.selectedComputation).offset.selected||(this.analysisViewData.selectedDimension=null)}}_onUnstagedClick({mapPoint:t,pointerType:e}){let n=t;if(\"mouse\"===e){const i=this._getSnappingContext(e);n=this._snappingManager.update({point:t,context:i})}const s=new a({startPoint:C(n,new ct),endPoint:null,measureType:i.Horizontal});return this._stagedDimension=s,this._resetSnappingState(),s}_onStagedClick({mapPoint:t,pointerType:e}){const i=this._stagedComputation;if(r(i))return;let a=t;if(\"mouse\"===e){const i=this._getSnappingContext(e);a=this._snappingManager.update({point:t,context:i})}const n=C(a,new ct);this._applyPointUpdate(i,{endPoint:n}),this._stagedDimension=null,this._resetSnappingState()}_resetSnappingState(){this._snappingManager.doneSnapping(),this._snappingOperation.abort(),this._snappingOperation.stagedPoint=null}_addComputation(t){if(this._computationManipulators.has(t))return;const e=this._setupPointManipulator(t,{isStart:!0}),a=this._setupPointManipulator(t,{isStart:!1}),n=this._setupOffsetManipulator(t),s=this._setupHeadingManipulator(t),o=this._setupRotationManipulator(t),r=this._setupMeasureTypeManipulator(t,i.Direct),p=this._setupMeasureTypeManipulator(t,i.Horizontal),l=this._setupMeasureTypeManipulator(t,i.Vertical),u=new j({start:e,end:a,offset:n,heading:s,rotation:o,direct:r,horizontal:p,vertical:l});this._setupComputationToManipulatorsSync(t,u),this._computationManipulators.set(t,u),this.manipulators.addMany(u.values())}_removeComputation(t){const e=this._computationManipulators.get(t);if(!r(e)){this._computationHandles.remove(t),this._computationManipulators.delete(t);for(const t of e.values())this.manipulators.remove(t)}}_setupComputationToManipulatorsSync(t,e){this._computationHandles.add([h((()=>t.geometry),(()=>this._updateManipulators(t,e)),{...f,equals:o})],t)}_setupPointManipulator(t,e){const{view:i}=this,{dimension:a}=t,n=H(i,{metadata:a}),s=T(n,{isStart:e.isStart,createSnappingPipelineStep:t=>lt({snappingContext:this._getSnappingContext(t),snappingManager:this._snappingManager,updatingHandles:this.updatingHandles}),dimension:a,onUpdate:e=>this._applyPointUpdate(t,e),view:i});return this._computationHandles.add(s,t),n}_setupOffsetManipulator(t){const{view:e}=this,i=G(e,{lineSizePt:this.analysis.style.lineSize,unfocusedMaterial:this._unfocusedOffsetManipulatorMaterial,focusedMaterial:this._focusedOffsetManipulatorMaterial,metadata:t.dimension}),a=I(i,{computation:t,view:e});return this._computationHandles.add(a,t),i}_setupHeadingManipulator(t){const{view:e}=this,i=z(e,{lineSizePt:this.analysis.style.lineSize,material:this._orientationManipulatorMaterial,metadata:t.dimension}),a=x(i,{computation:t,view:e});return this._computationHandles.add(a,t),i}_setupRotationManipulator(t){const{view:e}=this,i=z(e,{lineSizePt:this.analysis.style.lineSize,material:this._orientationManipulatorMaterial,metadata:t.dimension}),a=V(i,{computation:t,view:e});return this._computationHandles.add(a,t),i}_setupMeasureTypeManipulator(t,e){const{view:i}=this,a=U(i,{lineSizePt:this.analysis.style.lineSize,unfocusedMaterial:this._unfocusedOffsetManipulatorMaterial,focusedMaterial:this._focusedOffsetManipulatorMaterial,thinOffsetManipulatorMaterial:this._thinOffsetManipulatorMaterial,metadata:t.dimension}),n=R(a,{computation:t,manipulatorMeasureType:e,view:i});return this._computationHandles.add(n,t),a}_updateManipulators(t,e,a={stagedDimension:this._stagedDimension,selectedComputation:this.analysisViewData.selectedComputation,firstGrabbedManipulator:this.firstGrabbedManipulator}){const{stagedDimension:n,selectedComputation:s,firstGrabbedManipulator:o}=a,{start:l,end:u,offset:d,heading:c,rotation:m}=e,h=s===t,g=N(t),{dimension:f}=t;for(const i of e.values()){const t=g&&r(n)&&(r(o)||i===o);i===d?(i.available=t,i.selected=h):i.available=t&&h}if(!g)return;p(this._computeConstraint(t))?e.forEachMeasureTypeManipulator((t=>t.available=!1)):e.manipulatorForMeasureType(f.measureType).available=!1;for(const r of[c,m])f.measureType===i.Direct&&0!==f.offset||(r.available=!1);J(t)?m.available=!1:c.available=!1;const{geometry:_}=t;l.renderLocation=_.directSegment.startRenderSpace,u.renderLocation=_.directSegment.endRenderSpace;const{renderCoordsHelper:M}=this.view;k(d,_,M),c.available&&E(c,t,M),m.available&&A(m,t,M),e.forEachMeasureTypeManipulator(((e,i)=>{e.available&&F(e,t,i,M)}))}_updateManipulatorStyle(t){const e=L(t),i=q(t),a={lineSizePt:t,material:this._orientationManipulatorMaterial};for(const{offset:n,heading:s,rotation:o}of this._computationManipulators.values())n.radius=i/2,B(s,a),B(o,a);this._unfocusedOffsetManipulatorMaterial.setParameters({width:e}),this._focusedOffsetManipulatorMaterial.setParameters({width:i})}_applyPointUpdate(t,e){const{view:i}=this,a=Q(t);\"startPoint\"in e&&(a.elevationAlignedStartPoint=e.startPoint),\"endPoint\"in e&&(a.elevationAlignedEndPoint=e.endPoint);const n=K(a,i.renderCoordsHelper);if(r(n))return;const s=this._computeConstraint({...a,geometry:n});P(t,e,{...a,constraint:s,unconstrainedGeometry:n,view:i}),t===this._stagedComputation&&this._updateStagedDimensionOffset(t)}_updateStagedDimensionOffset(t){if(r(t.geometry))return;t.geometry.directSegment.eval(.5,gt);const e=this.view.state.camera.computeRenderPixelSizeAt(gt);t.dimension.offset=W.initialOffsetPx*e}_computeConstraint(t){return O(D(t,this._snappingManager.options),this.view)}get testInfo(){const t=t=>this.analysisViewData.computations.find((e=>e.dimension===t));return{disableManipulatorPartialOcclusion:()=>{this._stagedStartIndicator.renderOccluded=tt.Occlude,this.manipulators.forEach((({manipulator:t})=>{for(const{geometry:e}of t.renderObjects)e.material.setParameters({renderOccluded:tt.Occlude})}))},getManipulatorsForDimension:e=>this._computationManipulators.get(t(e)),getComputationForDimension:e=>t(e),getConstraintForDimension:e=>{const i=t(e);return p(i)?this._computeConstraint(i):null},stagedDimension:this._stagedDimension,stagedStartIndicator:this._stagedStartIndicator,constraintSnappingIndicator:this._constraintSnappingIndicator,snappingManager:this._snappingManager}}};function ht(){const{color:t,opacity:i}=W.offsetManipulator;return new at({color:[...e.toUnitRGB(t),i],width:1,renderOccluded:tt.OccludeAndTransparent,writeDepth:!1,hasPolygonOffset:!0})}t([y({constructOnly:!0})],mt.prototype,\"analysis\",void 0),t([y({constructOnly:!0})],mt.prototype,\"analysisViewData\",void 0),t([y({constructOnly:!0})],mt.prototype,\"manipulators\",void 0),t([y({constructOnly:!0})],mt.prototype,\"parentTool\",void 0),t([y({constructOnly:!0,nonNullable:!0})],mt.prototype,\"view\",void 0),t([y({readOnly:!0})],mt.prototype,\"updating\",null),t([y()],mt.prototype,\"firstGrabbedManipulator\",null),t([y()],mt.prototype,\"hasGrabbedManipulators\",null),t([y()],mt.prototype,\"snappingOptions\",null),t([y()],mt.prototype,\"_stagedDimension\",void 0),t([y()],mt.prototype,\"_activeComputation\",null),t([y()],mt.prototype,\"_stagedComputation\",null),mt=t([v(\"esri.views.3d.analysis.Dimension.LengthDimensionSubTool\")],mt);const gt=S();export{mt as LengthDimensionSubTool};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}