{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../../../../core/has.js\";\nimport e from \"../../../../../core/Error.js\";\nimport { isSome as t, isNone as n } from \"../../../../../core/maybe.js\";\nimport { isDataProtocol as r, dataComponents as a } from \"../../../../../core/urlUtils.js\";\nfunction i(e) {\n  const n = c(e);\n  return t(n) ? n.toDataURL() : \"\";\n}\nasync function o(t) {\n  const r = c(t);\n  if (n(r)) throw new e(\"imageToArrayBuffer\", \"Unsupported image type\");\n  const a = await m(t),\n    i = await new Promise(e => r.toBlob(e, a));\n  if (!i) throw new e(\"imageToArrayBuffer\", \"Failed to encode image\");\n  return {\n    data: await i.arrayBuffer(),\n    type: a\n  };\n}\nasync function m(e) {\n  if (!(e instanceof HTMLImageElement)) return \"image/png\";\n  const t = e.src;\n  if (r(t)) {\n    const e = a(t);\n    return \"image/jpeg\" === e?.mediaType ? e.mediaType : \"image/png\";\n  }\n  return /\\.png$/i.test(t) ? \"image/png\" : /\\.(jpg|jpeg)$/i.test(t) ? \"image/jpeg\" : \"image/png\";\n}\nfunction c(e) {\n  if (e instanceof HTMLCanvasElement) return e;\n  if (e instanceof HTMLVideoElement) return null;\n  const t = document.createElement(\"canvas\");\n  t.width = e.width, t.height = e.height;\n  const n = t.getContext(\"2d\");\n  return e instanceof HTMLImageElement ? n.drawImage(e, 0, 0, e.width, e.height) : e instanceof ImageData && n.putImageData(e, 0, 0), t;\n}\nfunction s(e) {\n  const t = [],\n    n = new Uint8Array(e);\n  for (let r = 0; r < n.length; r++) t.push(String.fromCharCode(n[r]));\n  return \"data:application/octet-stream;base64,\" + btoa(t.join(\"\"));\n}\nfunction g(e) {\n  if (e.byteLength < 8) return !1;\n  const t = new Uint8Array(e);\n  return 137 === t[0] && 80 === t[1] && 78 === t[2] && 71 === t[3] && 13 === t[4] && 10 === t[5] && 26 === t[6] && 10 === t[7];\n}\nexport { s as encodeBase64DataUri, o as imageToArrayBuffer, i as imageToDataURI, c as imageTypeToCanvas, g as isArrayBufferPNG };","map":{"version":3,"names":["e","isSome","t","isNone","n","isDataProtocol","r","dataComponents","a","i","c","toDataURL","o","m","Promise","toBlob","data","arrayBuffer","type","HTMLImageElement","src","mediaType","test","HTMLCanvasElement","HTMLVideoElement","document","createElement","width","height","getContext","drawImage","ImageData","putImageData","s","Uint8Array","length","push","String","fromCharCode","btoa","join","g","byteLength","encodeBase64DataUri","imageToArrayBuffer","imageToDataURI","imageTypeToCanvas","isArrayBufferPNG"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import e from\"../../../../../core/Error.js\";import{isSome as t,isNone as n}from\"../../../../../core/maybe.js\";import{isDataProtocol as r,dataComponents as a}from\"../../../../../core/urlUtils.js\";function i(e){const n=c(e);return t(n)?n.toDataURL():\"\"}async function o(t){const r=c(t);if(n(r))throw new e(\"imageToArrayBuffer\",\"Unsupported image type\");const a=await m(t),i=await new Promise((e=>r.toBlob(e,a)));if(!i)throw new e(\"imageToArrayBuffer\",\"Failed to encode image\");return{data:await i.arrayBuffer(),type:a}}async function m(e){if(!(e instanceof HTMLImageElement))return\"image/png\";const t=e.src;if(r(t)){const e=a(t);return\"image/jpeg\"===e?.mediaType?e.mediaType:\"image/png\"}return/\\.png$/i.test(t)?\"image/png\":/\\.(jpg|jpeg)$/i.test(t)?\"image/jpeg\":\"image/png\"}function c(e){if(e instanceof HTMLCanvasElement)return e;if(e instanceof HTMLVideoElement)return null;const t=document.createElement(\"canvas\");t.width=e.width,t.height=e.height;const n=t.getContext(\"2d\");return e instanceof HTMLImageElement?n.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&n.putImageData(e,0,0),t}function s(e){const t=[],n=new Uint8Array(e);for(let r=0;r<n.length;r++)t.push(String.fromCharCode(n[r]));return\"data:application/octet-stream;base64,\"+btoa(t.join(\"\"))}function g(e){if(e.byteLength<8)return!1;const t=new Uint8Array(e);return 137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7]}export{s as encodeBase64DataUri,o as imageToArrayBuffer,i as imageToDataURI,c as imageTypeToCanvas,g as isArrayBufferPNG};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}