{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as e, isNone as s } from \"../../../../core/maybe.js\";\nimport { c as r } from \"../../../../chunks/mat4.js\";\nimport { c as t } from \"../../../../chunks/mat4f64.js\";\nimport { VisualElement as o } from \"./VisualElement.js\";\nimport { Object3D as i } from \"../../webgl-engine/lib/Object3D.js\";\nimport { UpdatePolicy as a } from \"../../webgl-engine/lib/UpdatePolicy.js\";\nimport { WebGLLayer as c } from \"../../webgl-engine/lib/WebGLLayer.js\";\nclass n extends o {\n  constructor(e) {\n    super(e.view), this._resources = null, this._transform = t();\n  }\n  get object() {\n    return e(this._resources) ? this._resources.object : null;\n  }\n  get transform() {\n    return this._transform;\n  }\n  set transform(s) {\n    r(this._transform, s), e(this._resources) && (this._resources.object.transformation = this._transform);\n  }\n  recreate() {\n    this.attached && this.createResources();\n  }\n  recreateGeometry() {\n    if (s(this._resources)) return;\n    const e = this._resources.object,\n      r = this.view._stage;\n    r.removeMany(e.geometries), e.removeAllGeometries(), this.createGeometries(e), e.visible = this.visible, r.addMany(e.geometries);\n  }\n  createResources() {\n    this.destroyResources();\n    const e = this.view._stage;\n    if (!e) return;\n    const s = new c({\n      pickable: !1,\n      updatePolicy: a.SYNC\n    });\n    e.add(s);\n    const r = new i({\n      castShadow: !1\n    });\n    r.transformation = this._transform, this.createExternalResources(), this.createGeometries(r), e.addMany(r.geometries), this.forEachExternalMaterial(s => e.add(s)), e.add(r), s.add(r), r.visible = this.visible, this._resources = {\n      layer: s,\n      object: r\n    };\n  }\n  destroyResources() {\n    const e = this.view._stage;\n    !s(this._resources) && e && (e.remove(this._resources.object), e.remove(this._resources.layer), this.forEachExternalMaterial(s => {\n      e.remove(s), s.dispose();\n    }), e.removeMany(this._resources.object.geometries), this._resources.object.dispose(), this.destroyExternalResources(), this._resources = null);\n  }\n  updateVisibility(e) {\n    s(this._resources) || (this._resources.object.visible = e);\n  }\n}\nexport { n as Object3DVisualElement };","map":{"version":3,"names":["isSome","e","isNone","s","c","r","t","VisualElement","o","Object3D","i","UpdatePolicy","a","WebGLLayer","n","constructor","view","_resources","_transform","object","transform","transformation","recreate","attached","createResources","recreateGeometry","_stage","removeMany","geometries","removeAllGeometries","createGeometries","visible","addMany","destroyResources","pickable","updatePolicy","SYNC","add","castShadow","createExternalResources","forEachExternalMaterial","layer","remove","dispose","destroyExternalResources","updateVisibility","Object3DVisualElement"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{VisualElement as o}from\"./VisualElement.js\";import{Object3D as i}from\"../../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as a}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as c}from\"../../webgl-engine/lib/WebGLLayer.js\";class n extends o{constructor(e){super(e.view),this._resources=null,this._transform=t()}get object(){return e(this._resources)?this._resources.object:null}get transform(){return this._transform}set transform(s){r(this._transform,s),e(this._resources)&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(s(this._resources))return;const e=this._resources.object,r=this.view._stage;r.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),e.visible=this.visible,r.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new c({pickable:!1,updatePolicy:a.SYNC});e.add(s);const r=new i({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),r.visible=this.visible,this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;!s(this._resources)&&e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this.forEachExternalMaterial((s=>{e.remove(s),s.dispose()})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){s(this._resources)||(this._resources.object.visible=e)}}export{n as Object3DVisualElement};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,QAAK,2BAA2B;AAAC,SAAOC,CAAC,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOD,CAAC,IAAIE,CAAC,QAAK,+BAA+B;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,oBAAoB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,oCAAoC;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,wCAAwC;AAAC,SAAOC,UAAU,IAAIT,CAAC,QAAK,sCAAsC;AAAC,MAAMU,CAAC,SAASN,CAAC;EAACO,WAAWA,CAACd,CAAC,EAAC;IAAC,KAAK,CAACA,CAAC,CAACe,IAAI,CAAC,EAAC,IAAI,CAACC,UAAU,GAAC,IAAI,EAAC,IAAI,CAACC,UAAU,GAACZ,CAAC,EAAE;EAAA;EAAC,IAAIa,MAAMA,CAAA,EAAE;IAAC,OAAOlB,CAAC,CAAC,IAAI,CAACgB,UAAU,CAAC,GAAC,IAAI,CAACA,UAAU,CAACE,MAAM,GAAC,IAAI;EAAA;EAAC,IAAIC,SAASA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACF,UAAU;EAAA;EAAC,IAAIE,SAASA,CAACjB,CAAC,EAAC;IAACE,CAAC,CAAC,IAAI,CAACa,UAAU,EAACf,CAAC,CAAC,EAACF,CAAC,CAAC,IAAI,CAACgB,UAAU,CAAC,KAAG,IAAI,CAACA,UAAU,CAACE,MAAM,CAACE,cAAc,GAAC,IAAI,CAACH,UAAU,CAAC;EAAA;EAACI,QAAQA,CAAA,EAAE;IAAC,IAAI,CAACC,QAAQ,IAAE,IAAI,CAACC,eAAe,EAAE;EAAA;EAACC,gBAAgBA,CAAA,EAAE;IAAC,IAAGtB,CAAC,CAAC,IAAI,CAACc,UAAU,CAAC,EAAC;IAAO,MAAMhB,CAAC,GAAC,IAAI,CAACgB,UAAU,CAACE,MAAM;MAACd,CAAC,GAAC,IAAI,CAACW,IAAI,CAACU,MAAM;IAACrB,CAAC,CAACsB,UAAU,CAAC1B,CAAC,CAAC2B,UAAU,CAAC,EAAC3B,CAAC,CAAC4B,mBAAmB,EAAE,EAAC,IAAI,CAACC,gBAAgB,CAAC7B,CAAC,CAAC,EAACA,CAAC,CAAC8B,OAAO,GAAC,IAAI,CAACA,OAAO,EAAC1B,CAAC,CAAC2B,OAAO,CAAC/B,CAAC,CAAC2B,UAAU,CAAC;EAAA;EAACJ,eAAeA,CAAA,EAAE;IAAC,IAAI,CAACS,gBAAgB,EAAE;IAAC,MAAMhC,CAAC,GAAC,IAAI,CAACe,IAAI,CAACU,MAAM;IAAC,IAAG,CAACzB,CAAC,EAAC;IAAO,MAAME,CAAC,GAAC,IAAIC,CAAC,CAAC;MAAC8B,QAAQ,EAAC,CAAC,CAAC;MAACC,YAAY,EAACvB,CAAC,CAACwB;IAAI,CAAC,CAAC;IAACnC,CAAC,CAACoC,GAAG,CAAClC,CAAC,CAAC;IAAC,MAAME,CAAC,GAAC,IAAIK,CAAC,CAAC;MAAC4B,UAAU,EAAC,CAAC;IAAC,CAAC,CAAC;IAACjC,CAAC,CAACgB,cAAc,GAAC,IAAI,CAACH,UAAU,EAAC,IAAI,CAACqB,uBAAuB,EAAE,EAAC,IAAI,CAACT,gBAAgB,CAACzB,CAAC,CAAC,EAACJ,CAAC,CAAC+B,OAAO,CAAC3B,CAAC,CAACuB,UAAU,CAAC,EAAC,IAAI,CAACY,uBAAuB,CAAErC,CAAC,IAAEF,CAAC,CAACoC,GAAG,CAAClC,CAAC,CAAC,CAAE,EAACF,CAAC,CAACoC,GAAG,CAAChC,CAAC,CAAC,EAACF,CAAC,CAACkC,GAAG,CAAChC,CAAC,CAAC,EAACA,CAAC,CAAC0B,OAAO,GAAC,IAAI,CAACA,OAAO,EAAC,IAAI,CAACd,UAAU,GAAC;MAACwB,KAAK,EAACtC,CAAC;MAACgB,MAAM,EAACd;IAAC,CAAC;EAAA;EAAC4B,gBAAgBA,CAAA,EAAE;IAAC,MAAMhC,CAAC,GAAC,IAAI,CAACe,IAAI,CAACU,MAAM;IAAC,CAACvB,CAAC,CAAC,IAAI,CAACc,UAAU,CAAC,IAAEhB,CAAC,KAAGA,CAAC,CAACyC,MAAM,CAAC,IAAI,CAACzB,UAAU,CAACE,MAAM,CAAC,EAAClB,CAAC,CAACyC,MAAM,CAAC,IAAI,CAACzB,UAAU,CAACwB,KAAK,CAAC,EAAC,IAAI,CAACD,uBAAuB,CAAErC,CAAC,IAAE;MAACF,CAAC,CAACyC,MAAM,CAACvC,CAAC,CAAC,EAACA,CAAC,CAACwC,OAAO,EAAE;IAAA,CAAC,CAAE,EAAC1C,CAAC,CAAC0B,UAAU,CAAC,IAAI,CAACV,UAAU,CAACE,MAAM,CAACS,UAAU,CAAC,EAAC,IAAI,CAACX,UAAU,CAACE,MAAM,CAACwB,OAAO,EAAE,EAAC,IAAI,CAACC,wBAAwB,EAAE,EAAC,IAAI,CAAC3B,UAAU,GAAC,IAAI,CAAC;EAAA;EAAC4B,gBAAgBA,CAAC5C,CAAC,EAAC;IAACE,CAAC,CAAC,IAAI,CAACc,UAAU,CAAC,KAAG,IAAI,CAACA,UAAU,CAACE,MAAM,CAACY,OAAO,GAAC9B,CAAC,CAAC;EAAA;AAAC;AAAC,SAAOa,CAAC,IAAIgC,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}