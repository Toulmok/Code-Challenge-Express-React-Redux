{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../core/Collection.js\";\nimport i from \"../core/Error.js\";\nimport o from \"../core/Logger.js\";\nimport { isSome as r, isNone as s } from \"../core/maybe.js\";\nimport { MultiOriginJSONMixin as n } from \"../core/MultiOriginJSONSupport.js\";\nimport { throwIfAbortError as l } from \"../core/promiseUtils.js\";\nimport { property as a } from \"../core/accessorSupport/decorators/property.js\";\nimport { Integer as u } from \"../core/accessorSupport/ensureType.js\";\nimport \"../core/arrayUtils.js\";\nimport { reader as p } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as c } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { n as m } from \"../chunks/vec3.js\";\nimport { f as y } from \"../chunks/vec3f64.js\";\nimport d from \"../geometry/Extent.js\";\nimport f from \"./Layer.js\";\nimport { APIKeyMixin as v } from \"./mixins/APIKeyMixin.js\";\nimport { ArcGISService as h } from \"./mixins/ArcGISService.js\";\nimport { OperationalLayer as b } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as g } from \"./mixins/PortalLayer.js\";\nimport { ScaleRangeLayer as S } from \"./mixins/ScaleRangeLayer.js\";\nimport { SceneService as V } from \"./mixins/SceneService.js\";\nimport { sanitizeUrl as x } from \"./support/arcgisLayerUrl.js\";\nimport { legendEnabled as j, url as w, popupEnabled as I } from \"./support/commonProperties.js\";\nimport T from \"./support/Field.js\";\nimport D from \"./voxel/VoxelSection.js\";\nimport F from \"./voxel/VoxelSimpleShading.js\";\nimport N from \"./voxel/VoxelVariable.js\";\nimport L from \"./voxel/VoxelVariableStyle.js\";\nimport P from \"./voxel/VoxelVolume.js\";\nimport A from \"./voxel/VoxelVolumeIndex.js\";\nimport E from \"./voxel/VoxelVolumeStyle.js\";\nimport { createPopupTemplate as O } from \"../support/popupUtils.js\";\nconst R = \"esri.layers.VoxelLayer\",\n  M = o.getLogger(R);\nlet z = class extends V(h(b(g(S(n(v(f))))))) {\n  constructor(e) {\n    super(e), this.serviceRoot = \"\", this.operationalLayerType = \"Voxel\", this.legendEnabled = !0, this.title = null, this.sections = null, this.currentVariableId = 0, this.volumeStyles = null, this.renderMode = \"volume\", this.variableStyles = null, this.enableSlices = !0, this.enableSections = !0, this.enableDynamicSections = !0, this.enableIsosurfaces = !0, this.shading = new F(), this.opacity = 1, this.variables = new t(), this.volumes = new t(), this.index = null, this.minScale = 0, this.maxScale = 0, this.type = \"voxel\", this.version = {\n      major: Number.NaN,\n      minor: Number.NaN,\n      versionString: \"\"\n    }, this.fullExtent = null, this.popupEnabled = !0, this.popupTemplate = null, this.test = null, this.volumeStyles = new (t.ofType(E))(), this.variableStyles = new (t.ofType(L))(), this.sections = new (t.ofType(D))(), e?.constantUpscaling && (this.test = {\n      constantUpscaling: !0\n    });\n  }\n  set url(e) {\n    this._set(\"url\", x(e, M));\n  }\n  load(e) {\n    const t = r(e) ? e.signal : null,\n      i = this.loadFromPortal({\n        supportedTypes: [\"Scene Service\"]\n      }, e).catch(l).then(() => this._fetchService(t)).then(() => this.serviceRoot = this.url);\n    return this.addResolvingPromise(i), Promise.resolve(this);\n  }\n  read(e, t) {\n    super.read(e, t);\n    for (const i of this.volumes) i.spatialReference = this.spatialReference;\n  }\n  readVersion(e, t) {\n    return super.parseVersionString(e);\n  }\n  validateLayer(e) {\n    if (e.layerType && e.layerType !== this.operationalLayerType) throw new i(\"voxel-layer:layer-type-not-supported\", \"VoxelLayer does not support this layer type\", {\n      layerType: e.layerType\n    });\n    if (isNaN(this.version.major) || isNaN(this.version.minor) || this.version.major < 3) throw new i(\"layer:service-version-not-supported\", \"Service version is not supported.\", {\n      serviceVersion: this.version.versionString,\n      supportedVersions: \"3.x\"\n    });\n    if (this.version.major > 3) throw new i(\"layer:service-version-too-new\", \"Service version is too new.\", {\n      serviceVersion: this.version.versionString,\n      supportedVersions: \"3.x\"\n    });\n  }\n  readFullExtent(e, t, i) {\n    if (null != e && \"object\" == typeof e) {\n      const o = d.fromJSON(e, i);\n      if (0 === o.zmin && 0 === o.zmax && Array.isArray(t.volumes)) {\n        const e = P.fromJSON(t.volumes[0]);\n        if (e.isValid && \"xyt\" !== e.volumeType) {\n          const t = e.dimensions[2];\n          if (t.isRegular) {\n            let e = t.regularSpacing.offset,\n              i = t.regularSpacing.offset + t.regularSpacing.scale * (t.size - 1);\n            if (e > i) {\n              const t = e;\n              e = i, i = t;\n            }\n            o.zmin = e, o.zmax = i;\n          }\n        }\n      }\n      return o;\n    }\n    return null;\n  }\n  get voxelFields() {\n    const e = [new T({\n        name: \"Voxel.ServiceValue\",\n        alias: \"Value\",\n        domain: null,\n        editable: !1,\n        length: 128,\n        type: \"string\"\n      }), new T({\n        name: \"Voxel.ServiceVariableLabel\",\n        alias: \"Variable\",\n        domain: null,\n        editable: !1,\n        length: 128,\n        type: \"string\"\n      }), new T({\n        name: \"Voxel.Position\",\n        alias: \"Voxel Position\",\n        domain: null,\n        editable: !1,\n        length: 128,\n        type: \"string\"\n      })],\n      t = this.getVolume(null);\n    if (r(t)) {\n      if (\"xyzt\" === t.volumeType || \"xyt\" === t.volumeType) {\n        const t = new T({\n          name: \"Voxel.ServiceLocalTime\",\n          alias: \"Local Time\",\n          domain: null,\n          editable: !1,\n          length: 128,\n          type: \"string\"\n        });\n        e.push(t);\n        const i = new T({\n          name: \"Voxel.ServiceNativeTime\",\n          alias: \"Native Time\",\n          domain: null,\n          editable: !1,\n          length: 128,\n          type: \"string\"\n        });\n        e.push(i);\n      }\n      if (\"xyt\" !== t.volumeType) {\n        const t = new T({\n          name: \"Voxel.ServiceDepth\",\n          alias: \"Depth\",\n          domain: null,\n          editable: !1,\n          length: 128,\n          type: \"string\"\n        });\n        e.push(t);\n      }\n    }\n    return e;\n  }\n  get defaultPopupTemplate() {\n    return this.createPopupTemplate();\n  }\n  createPopupTemplate(e) {\n    const t = this.voxelFields,\n      i = this.title;\n    return O({\n      fields: t,\n      title: i\n    }, e);\n  }\n  getConfiguration() {\n    const e = {\n      layerType: this.operationalLayerType,\n      version: this.version.versionString,\n      name: this.title,\n      spatialReference: this.spatialReference,\n      fullExtent: this.fullExtent,\n      volumes: this.volumes.toJSON(),\n      variables: this.variables.toJSON(),\n      index: this.index?.toJSON(),\n      sections: this.getSections(),\n      style: {\n        volumeStyles: this.getVolumeStyles(),\n        currentVariableId: this.currentVariableId,\n        renderMode: this.renderMode,\n        variableStyles: this.getVariableStyles(),\n        enableSections: this.enableSections,\n        enableDynamicSections: this.enableDynamicSections,\n        enableIsosurfaces: this.enableIsosurfaces,\n        enableSlices: this.enableSlices,\n        shading: this.shading\n      }\n    };\n    return e.index && this.index?.isValid() ? JSON.stringify(e) : \"\";\n  }\n  getVariableStyle(e) {\n    let t = -1;\n    t = r(e) ? e : this.currentVariableId;\n    if (!this.variableStyles || -1 === t) return null;\n    const i = this.variableStyles.findIndex(e => e.variableId === t);\n    return i < 0 ? null : this.variableStyles.getItemAt(i);\n  }\n  getVariable(e) {\n    let t = -1;\n    if (t = r(e) ? e : this.currentVariableId, !this.variables || -1 === t) return null;\n    const i = this.variables.findIndex(e => e.id === t);\n    return i < 0 ? null : this.variables.getItemAt(i);\n  }\n  getVolume(e) {\n    const t = this.getVariable(e);\n    return r(t) ? this.volumes.find(_ref => {\n      let {\n        id: e\n      } = _ref;\n      return e === t.volumeId;\n    }) : null;\n  }\n  getVolumeStyle(e) {\n    const t = this.getVariable(e);\n    return r(t) ? this.volumeStyles.find(_ref2 => {\n      let {\n        volumeId: e\n      } = _ref2;\n      return e === t.volumeId;\n    }) : null;\n  }\n  getColorForContinuousDataValue(e, t, i) {\n    const o = this.getVariable(e);\n    if (s(o) || \"continuous\" !== o.renderingFormat?.continuity) return null;\n    if (!this.variableStyles) return null;\n    const r = this.variableStyles.findIndex(t => t.variableId === e);\n    if (r < 0) return null;\n    const n = this.variableStyles.getItemAt(r);\n    return n.transferFunction ? n.transferFunction.getColorForContinuousDataValue(t, i) : null;\n  }\n  getSections() {\n    const e = [];\n    for (const t of this.sections) e.push(new D({\n      enabled: t.enabled,\n      href: t.href,\n      id: t.id,\n      label: t.label,\n      normal: t.normal,\n      point: t.point,\n      sizeInPixel: t.sizeInPixel,\n      slices: t.slices,\n      timeId: t.timeId,\n      variableId: t.variableId\n    }));\n    return e;\n  }\n  getVariableStyles() {\n    const e = [];\n    for (const t of this.variableStyles) {\n      const i = this._getVariable(t);\n      if (r(i)) {\n        const o = t.clone();\n        o.isosurfaces.length > 4 && (o.isosurfaces = o.isosurfaces.slice(0, 3), M.error(\"A maximum of 4 isosurfaces are supported for Voxel Layers.\"));\n        for (const e of o.isosurfaces) if (!e.colorLocked) {\n          const t = this.getColorForContinuousDataValue(o.variableId, e.value, !1);\n          null === t || t.equals(e.color) || (e.color = t);\n        }\n        if (\"continuous\" === i.renderingFormat.continuity) (null === o.transferFunction || o.transferFunction.colorStops.length < 2) && M.error(`VoxelVariableStyle for variable ${i.id} is invalid. At least 2 color stops are required in the transferFunction for continuous Voxel Layer variables.`), null !== o.transferFunction && (Array.isArray(o.transferFunction.stretchRange) && 2 === o.transferFunction.stretchRange.length || (M.error(`VoxelVariableStyle for variable ${i.id} is invalid. The stretchRange of the transferFunction for continuous Voxel Layer variables must be of the form [minimumDataValue, maximumDataValue].`), o.transferFunction.stretchRange = [0, 1], o.transferFunction.colorStops.removeAll()));else if (\"discrete\" === i.renderingFormat.continuity) if (0 === t.uniqueValues.length) M.error(`VoxelVariableStyle for variable ${i.id} is invalid. Unique values are required for discrete Voxel Layer variables.`);else for (const e of t.uniqueValues) null !== e.label && void 0 !== e.label || null === e.value || void 0 === e.value || (e.label = e.value.toString());\n        e.push(o);\n      } else M.error(`VoxelVariable ID=${t.variableId} doesn't exist, VoxelVariableStyle for this VoxelVariable will be ignored.`);\n    }\n    return e;\n  }\n  getVolumeStyles() {\n    const e = [];\n    for (const t of this.volumeStyles) {\n      const i = this._getVolumeFromVolumeId(t.volumeId);\n      if (r(i)) {\n        const o = t.clone();\n        for (const e of o.slices) this._isPlaneValid(e, [0, 1, i.zDimension], i.dimensions) || (e.enabled = !1, e.label = \"invalid\");\n        for (const e of o.dynamicSections) this._isPlaneValid(e, [0, 1, i.zDimension], i.dimensions) || (e.enabled = !1, e.label = \"invalid\");\n        e.push(o);\n      } else M.error(`VoxelVolume ID=${t.volumeId} doesn't exist, VoxelVolumeStyle for this VoxelVolume will be ignored.`);\n    }\n    return e;\n  }\n  _getVariable(e) {\n    const t = e.variableId;\n    for (const i of this.variables) if (i.id === t) return i;\n    return null;\n  }\n  _getVolumeFromVolumeId(e) {\n    for (const t of this.volumes) if (t.id === e) return t;\n    return null;\n  }\n  _isPlaneValid(e, t, i) {\n    if (!e.point) return !1;\n    if (!Array.isArray(e.point) || 3 !== e.point.length) return !1;\n    if (!e.normal) return !1;\n    if (!Array.isArray(e.normal) || 3 !== e.normal.length) return !1;\n    for (let s = 0; s < 3; ++s) {\n      const o = e.point[s];\n      if (o < 0 || o >= i[t[s]].size) return !1;\n    }\n    const o = y(e.normal[0], e.normal[1], e.normal[2]);\n    m(o, o);\n    const r = 1e-6;\n    return !(Math.abs(o[0]) + Math.abs(o[1]) + Math.abs(o[2]) < r) && (e.normal[0] = o[0], e.normal[1] = o[1], e.normal[2] = o[2], !0);\n  }\n};\ne([a({\n  type: [\"Voxel\"]\n})], z.prototype, \"operationalLayerType\", void 0), e([a(j)], z.prototype, \"legendEnabled\", void 0), e([a({\n  json: {\n    write: !0\n  }\n})], z.prototype, \"title\", void 0), e([a(w)], z.prototype, \"url\", null), e([a({\n  type: t.ofType(D),\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.sections\",\n        write: !0\n      }\n    }\n  }\n})], z.prototype, \"sections\", void 0), e([a({\n  type: u,\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.currentVariableId\",\n        write: {\n          enabled: !0,\n          isRequired: !0,\n          ignoreOrigin: !0\n        }\n      },\n      service: {\n        name: \"style.currentVariableId\"\n      }\n    }\n  }\n})], z.prototype, \"currentVariableId\", void 0), e([a({\n  type: t.ofType(E),\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.volumeStyles\",\n        write: !0\n      },\n      service: {\n        name: \"style.volumeStyles\"\n      }\n    }\n  }\n})], z.prototype, \"volumeStyles\", void 0), e([a({\n  type: [\"volume\", \"surfaces\"],\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.renderMode\",\n        write: !0\n      },\n      service: {\n        name: \"style.renderMode\"\n      }\n    }\n  }\n})], z.prototype, \"renderMode\", void 0), e([a({\n  type: t.ofType(L),\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.variableStyles\",\n        write: !0\n      },\n      service: {\n        name: \"style.variableStyles\"\n      }\n    }\n  }\n})], z.prototype, \"variableStyles\", void 0), e([a({\n  type: Boolean,\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.enableSlices\",\n        write: !0\n      },\n      service: {\n        name: \"style.enableSlices\"\n      }\n    }\n  }\n})], z.prototype, \"enableSlices\", void 0), e([a({\n  type: Boolean,\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.enableSections\",\n        write: !0\n      },\n      service: {\n        name: \"style.enableSections\"\n      }\n    }\n  }\n})], z.prototype, \"enableSections\", void 0), e([a({\n  type: Boolean,\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.enableDynamicSections\",\n        write: !0\n      },\n      service: {\n        name: \"style.enableDynamicSections\"\n      }\n    }\n  }\n})], z.prototype, \"enableDynamicSections\", void 0), e([a({\n  type: Boolean,\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.enableIsosurfaces\",\n        write: !0\n      },\n      service: {\n        name: \"style.enableIsosurfaces\"\n      }\n    }\n  }\n})], z.prototype, \"enableIsosurfaces\", void 0), e([a({\n  type: F,\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.shading\",\n        write: !0\n      },\n      service: {\n        name: \"style.shading\"\n      }\n    }\n  }\n})], z.prototype, \"shading\", void 0), e([a({\n  type: [\"show\", \"hide\"]\n})], z.prototype, \"listMode\", void 0), e([a({\n  type: Number,\n  range: {\n    min: 0,\n    max: 1\n  },\n  nonNullable: !0,\n  json: {\n    read: !1,\n    write: !1,\n    origins: {\n      \"web-scene\": {\n        read: !1,\n        write: !1\n      },\n      \"portal-item\": {\n        read: !1,\n        write: !1\n      }\n    }\n  }\n})], z.prototype, \"opacity\", void 0), e([a({\n  type: t.ofType(N)\n})], z.prototype, \"variables\", void 0), e([a({\n  type: t.ofType(P)\n})], z.prototype, \"volumes\", void 0), e([a({\n  type: A\n})], z.prototype, \"index\", void 0), e([a({\n  type: Number,\n  json: {\n    name: \"layerDefinition.minScale\",\n    read: !1,\n    write: !1,\n    origins: {\n      service: {\n        read: !1,\n        write: !1\n      }\n    }\n  }\n})], z.prototype, \"minScale\", void 0), e([a({\n  type: Number,\n  json: {\n    name: \"layerDefinition.maxScale\",\n    read: !1,\n    write: !1,\n    origins: {\n      service: {\n        read: !1,\n        write: !1\n      }\n    }\n  }\n})], z.prototype, \"maxScale\", void 0), e([a({\n  json: {\n    read: !1\n  },\n  readOnly: !0\n})], z.prototype, \"type\", void 0), e([a({\n  readOnly: !0,\n  json: {\n    name: \"serviceVersion\"\n  }\n})], z.prototype, \"version\", void 0), e([p(\"service\", \"version\")], z.prototype, \"readVersion\", null), e([a({\n  type: d\n})], z.prototype, \"fullExtent\", void 0), e([p(\"service\", \"fullExtent\", [\"fullExtent\"])], z.prototype, \"readFullExtent\", null), e([a({\n  readOnly: !0,\n  clonable: !1,\n  json: {\n    read: !1\n  }\n})], z.prototype, \"voxelFields\", null), e([a(I)], z.prototype, \"popupEnabled\", void 0), e([a({\n  readOnly: !0\n})], z.prototype, \"defaultPopupTemplate\", null), z = e([c(R)], z);\nconst _ = z;\nexport { _ as default };","map":{"version":3,"names":["_","e","t","i","o","isSome","r","isNone","s","MultiOriginJSONMixin","n","throwIfAbortError","l","property","a","Integer","u","reader","p","subclass","c","m","f","y","d","APIKeyMixin","v","ArcGISService","h","OperationalLayer","b","PortalLayer","g","ScaleRangeLayer","S","SceneService","V","sanitizeUrl","x","legendEnabled","j","url","w","popupEnabled","I","T","D","F","N","L","P","A","E","createPopupTemplate","O","R","M","getLogger","z","constructor","serviceRoot","operationalLayerType","title","sections","currentVariableId","volumeStyles","renderMode","variableStyles","enableSlices","enableSections","enableDynamicSections","enableIsosurfaces","shading","opacity","variables","volumes","index","minScale","maxScale","type","version","major","Number","NaN","minor","versionString","fullExtent","popupTemplate","test","ofType","constantUpscaling","_set","load","signal","loadFromPortal","supportedTypes","catch","then","_fetchService","addResolvingPromise","Promise","resolve","read","spatialReference","readVersion","parseVersionString","validateLayer","layerType","isNaN","serviceVersion","supportedVersions","readFullExtent","fromJSON","zmin","zmax","Array","isArray","isValid","volumeType","dimensions","isRegular","regularSpacing","offset","scale","size","voxelFields","name","alias","domain","editable","length","getVolume","push","defaultPopupTemplate","fields","getConfiguration","toJSON","getSections","style","getVolumeStyles","getVariableStyles","JSON","stringify","getVariableStyle","findIndex","variableId","getItemAt","getVariable","id","find","_ref","volumeId","getVolumeStyle","_ref2","getColorForContinuousDataValue","renderingFormat","continuity","transferFunction","enabled","href","label","normal","point","sizeInPixel","slices","timeId","_getVariable","clone","isosurfaces","slice","error","colorLocked","value","equals","color","colorStops","stretchRange","removeAll","uniqueValues","toString","_getVolumeFromVolumeId","_isPlaneValid","zDimension","dynamicSections","Math","abs","prototype","json","write","origins","isRequired","ignoreOrigin","service","Boolean","range","min","max","nonNullable","readOnly","clonable","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/VoxelLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Collection.js\";import i from\"../core/Error.js\";import o from\"../core/Logger.js\";import{isSome as r,isNone as s}from\"../core/maybe.js\";import{MultiOriginJSONMixin as n}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as l}from\"../core/promiseUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import{Integer as u}from\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import{reader as p}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import{n as m}from\"../chunks/vec3.js\";import{f as y}from\"../chunks/vec3f64.js\";import d from\"../geometry/Extent.js\";import f from\"./Layer.js\";import{APIKeyMixin as v}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as h}from\"./mixins/ArcGISService.js\";import{OperationalLayer as b}from\"./mixins/OperationalLayer.js\";import{PortalLayer as g}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as S}from\"./mixins/ScaleRangeLayer.js\";import{SceneService as V}from\"./mixins/SceneService.js\";import{sanitizeUrl as x}from\"./support/arcgisLayerUrl.js\";import{legendEnabled as j,url as w,popupEnabled as I}from\"./support/commonProperties.js\";import T from\"./support/Field.js\";import D from\"./voxel/VoxelSection.js\";import F from\"./voxel/VoxelSimpleShading.js\";import N from\"./voxel/VoxelVariable.js\";import L from\"./voxel/VoxelVariableStyle.js\";import P from\"./voxel/VoxelVolume.js\";import A from\"./voxel/VoxelVolumeIndex.js\";import E from\"./voxel/VoxelVolumeStyle.js\";import{createPopupTemplate as O}from\"../support/popupUtils.js\";const R=\"esri.layers.VoxelLayer\",M=o.getLogger(R);let z=class extends(V(h(b(g(S(n(v(f)))))))){constructor(e){super(e),this.serviceRoot=\"\",this.operationalLayerType=\"Voxel\",this.legendEnabled=!0,this.title=null,this.sections=null,this.currentVariableId=0,this.volumeStyles=null,this.renderMode=\"volume\",this.variableStyles=null,this.enableSlices=!0,this.enableSections=!0,this.enableDynamicSections=!0,this.enableIsosurfaces=!0,this.shading=new F,this.opacity=1,this.variables=new t,this.volumes=new t,this.index=null,this.minScale=0,this.maxScale=0,this.type=\"voxel\",this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.fullExtent=null,this.popupEnabled=!0,this.popupTemplate=null,this.test=null,this.volumeStyles=new(t.ofType(E)),this.variableStyles=new(t.ofType(L)),this.sections=new(t.ofType(D)),e?.constantUpscaling&&(this.test={constantUpscaling:!0})}set url(e){this._set(\"url\",x(e,M))}load(e){const t=r(e)?e.signal:null,i=this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e).catch(l).then((()=>this._fetchService(t))).then((()=>this.serviceRoot=this.url));return this.addResolvingPromise(i),Promise.resolve(this)}read(e,t){super.read(e,t);for(const i of this.volumes)i.spatialReference=this.spatialReference}readVersion(e,t){return super.parseVersionString(e)}validateLayer(e){if(e.layerType&&e.layerType!==this.operationalLayerType)throw new i(\"voxel-layer:layer-type-not-supported\",\"VoxelLayer does not support this layer type\",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor)||this.version.major<3)throw new i(\"layer:service-version-not-supported\",\"Service version is not supported.\",{serviceVersion:this.version.versionString,supportedVersions:\"3.x\"});if(this.version.major>3)throw new i(\"layer:service-version-too-new\",\"Service version is too new.\",{serviceVersion:this.version.versionString,supportedVersions:\"3.x\"})}readFullExtent(e,t,i){if(null!=e&&\"object\"==typeof e){const o=d.fromJSON(e,i);if(0===o.zmin&&0===o.zmax&&Array.isArray(t.volumes)){const e=P.fromJSON(t.volumes[0]);if(e.isValid&&\"xyt\"!==e.volumeType){const t=e.dimensions[2];if(t.isRegular){let e=t.regularSpacing.offset,i=t.regularSpacing.offset+t.regularSpacing.scale*(t.size-1);if(e>i){const t=e;e=i,i=t}o.zmin=e,o.zmax=i}}}return o}return null}get voxelFields(){const e=[new T({name:\"Voxel.ServiceValue\",alias:\"Value\",domain:null,editable:!1,length:128,type:\"string\"}),new T({name:\"Voxel.ServiceVariableLabel\",alias:\"Variable\",domain:null,editable:!1,length:128,type:\"string\"}),new T({name:\"Voxel.Position\",alias:\"Voxel Position\",domain:null,editable:!1,length:128,type:\"string\"})],t=this.getVolume(null);if(r(t)){if(\"xyzt\"===t.volumeType||\"xyt\"===t.volumeType){const t=new T({name:\"Voxel.ServiceLocalTime\",alias:\"Local Time\",domain:null,editable:!1,length:128,type:\"string\"});e.push(t);const i=new T({name:\"Voxel.ServiceNativeTime\",alias:\"Native Time\",domain:null,editable:!1,length:128,type:\"string\"});e.push(i)}if(\"xyt\"!==t.volumeType){const t=new T({name:\"Voxel.ServiceDepth\",alias:\"Depth\",domain:null,editable:!1,length:128,type:\"string\"});e.push(t)}}return e}get defaultPopupTemplate(){return this.createPopupTemplate()}createPopupTemplate(e){const t=this.voxelFields,i=this.title;return O({fields:t,title:i},e)}getConfiguration(){const e={layerType:this.operationalLayerType,version:this.version.versionString,name:this.title,spatialReference:this.spatialReference,fullExtent:this.fullExtent,volumes:this.volumes.toJSON(),variables:this.variables.toJSON(),index:this.index?.toJSON(),sections:this.getSections(),style:{volumeStyles:this.getVolumeStyles(),currentVariableId:this.currentVariableId,renderMode:this.renderMode,variableStyles:this.getVariableStyles(),enableSections:this.enableSections,enableDynamicSections:this.enableDynamicSections,enableIsosurfaces:this.enableIsosurfaces,enableSlices:this.enableSlices,shading:this.shading}};return e.index&&this.index?.isValid()?JSON.stringify(e):\"\"}getVariableStyle(e){let t=-1;t=r(e)?e:this.currentVariableId;if(!this.variableStyles||-1===t)return null;const i=this.variableStyles.findIndex((e=>e.variableId===t));return i<0?null:this.variableStyles.getItemAt(i)}getVariable(e){let t=-1;if(t=r(e)?e:this.currentVariableId,!this.variables||-1===t)return null;const i=this.variables.findIndex((e=>e.id===t));return i<0?null:this.variables.getItemAt(i)}getVolume(e){const t=this.getVariable(e);return r(t)?this.volumes.find((({id:e})=>e===t.volumeId)):null}getVolumeStyle(e){const t=this.getVariable(e);return r(t)?this.volumeStyles.find((({volumeId:e})=>e===t.volumeId)):null}getColorForContinuousDataValue(e,t,i){const o=this.getVariable(e);if(s(o)||\"continuous\"!==o.renderingFormat?.continuity)return null;if(!this.variableStyles)return null;const r=this.variableStyles.findIndex((t=>t.variableId===e));if(r<0)return null;const n=this.variableStyles.getItemAt(r);return n.transferFunction?n.transferFunction.getColorForContinuousDataValue(t,i):null}getSections(){const e=[];for(const t of this.sections)e.push(new D({enabled:t.enabled,href:t.href,id:t.id,label:t.label,normal:t.normal,point:t.point,sizeInPixel:t.sizeInPixel,slices:t.slices,timeId:t.timeId,variableId:t.variableId}));return e}getVariableStyles(){const e=[];for(const t of this.variableStyles){const i=this._getVariable(t);if(r(i)){const o=t.clone();o.isosurfaces.length>4&&(o.isosurfaces=o.isosurfaces.slice(0,3),M.error(\"A maximum of 4 isosurfaces are supported for Voxel Layers.\"));for(const e of o.isosurfaces)if(!e.colorLocked){const t=this.getColorForContinuousDataValue(o.variableId,e.value,!1);null===t||t.equals(e.color)||(e.color=t)}if(\"continuous\"===i.renderingFormat.continuity)(null===o.transferFunction||o.transferFunction.colorStops.length<2)&&M.error(`VoxelVariableStyle for variable ${i.id} is invalid. At least 2 color stops are required in the transferFunction for continuous Voxel Layer variables.`),null!==o.transferFunction&&(Array.isArray(o.transferFunction.stretchRange)&&2===o.transferFunction.stretchRange.length||(M.error(`VoxelVariableStyle for variable ${i.id} is invalid. The stretchRange of the transferFunction for continuous Voxel Layer variables must be of the form [minimumDataValue, maximumDataValue].`),o.transferFunction.stretchRange=[0,1],o.transferFunction.colorStops.removeAll()));else if(\"discrete\"===i.renderingFormat.continuity)if(0===t.uniqueValues.length)M.error(`VoxelVariableStyle for variable ${i.id} is invalid. Unique values are required for discrete Voxel Layer variables.`);else for(const e of t.uniqueValues)null!==e.label&&void 0!==e.label||null===e.value||void 0===e.value||(e.label=e.value.toString());e.push(o)}else M.error(`VoxelVariable ID=${t.variableId} doesn't exist, VoxelVariableStyle for this VoxelVariable will be ignored.`)}return e}getVolumeStyles(){const e=[];for(const t of this.volumeStyles){const i=this._getVolumeFromVolumeId(t.volumeId);if(r(i)){const o=t.clone();for(const e of o.slices)this._isPlaneValid(e,[0,1,i.zDimension],i.dimensions)||(e.enabled=!1,e.label=\"invalid\");for(const e of o.dynamicSections)this._isPlaneValid(e,[0,1,i.zDimension],i.dimensions)||(e.enabled=!1,e.label=\"invalid\");e.push(o)}else M.error(`VoxelVolume ID=${t.volumeId} doesn't exist, VoxelVolumeStyle for this VoxelVolume will be ignored.`)}return e}_getVariable(e){const t=e.variableId;for(const i of this.variables)if(i.id===t)return i;return null}_getVolumeFromVolumeId(e){for(const t of this.volumes)if(t.id===e)return t;return null}_isPlaneValid(e,t,i){if(!e.point)return!1;if(!Array.isArray(e.point)||3!==e.point.length)return!1;if(!e.normal)return!1;if(!Array.isArray(e.normal)||3!==e.normal.length)return!1;for(let s=0;s<3;++s){const o=e.point[s];if(o<0||o>=i[t[s]].size)return!1}const o=y(e.normal[0],e.normal[1],e.normal[2]);m(o,o);const r=1e-6;return!(Math.abs(o[0])+Math.abs(o[1])+Math.abs(o[2])<r)&&(e.normal[0]=o[0],e.normal[1]=o[1],e.normal[2]=o[2],!0)}};e([a({type:[\"Voxel\"]})],z.prototype,\"operationalLayerType\",void 0),e([a(j)],z.prototype,\"legendEnabled\",void 0),e([a({json:{write:!0}})],z.prototype,\"title\",void 0),e([a(w)],z.prototype,\"url\",null),e([a({type:t.ofType(D),json:{origins:{\"web-scene\":{name:\"layerDefinition.sections\",write:!0}}}})],z.prototype,\"sections\",void 0),e([a({type:u,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.currentVariableId\",write:{enabled:!0,isRequired:!0,ignoreOrigin:!0}},service:{name:\"style.currentVariableId\"}}}})],z.prototype,\"currentVariableId\",void 0),e([a({type:t.ofType(E),json:{origins:{\"web-scene\":{name:\"layerDefinition.style.volumeStyles\",write:!0},service:{name:\"style.volumeStyles\"}}}})],z.prototype,\"volumeStyles\",void 0),e([a({type:[\"volume\",\"surfaces\"],json:{origins:{\"web-scene\":{name:\"layerDefinition.style.renderMode\",write:!0},service:{name:\"style.renderMode\"}}}})],z.prototype,\"renderMode\",void 0),e([a({type:t.ofType(L),json:{origins:{\"web-scene\":{name:\"layerDefinition.style.variableStyles\",write:!0},service:{name:\"style.variableStyles\"}}}})],z.prototype,\"variableStyles\",void 0),e([a({type:Boolean,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.enableSlices\",write:!0},service:{name:\"style.enableSlices\"}}}})],z.prototype,\"enableSlices\",void 0),e([a({type:Boolean,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.enableSections\",write:!0},service:{name:\"style.enableSections\"}}}})],z.prototype,\"enableSections\",void 0),e([a({type:Boolean,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.enableDynamicSections\",write:!0},service:{name:\"style.enableDynamicSections\"}}}})],z.prototype,\"enableDynamicSections\",void 0),e([a({type:Boolean,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.enableIsosurfaces\",write:!0},service:{name:\"style.enableIsosurfaces\"}}}})],z.prototype,\"enableIsosurfaces\",void 0),e([a({type:F,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.shading\",write:!0},service:{name:\"style.shading\"}}}})],z.prototype,\"shading\",void 0),e([a({type:[\"show\",\"hide\"]})],z.prototype,\"listMode\",void 0),e([a({type:Number,range:{min:0,max:1},nonNullable:!0,json:{read:!1,write:!1,origins:{\"web-scene\":{read:!1,write:!1},\"portal-item\":{read:!1,write:!1}}}})],z.prototype,\"opacity\",void 0),e([a({type:t.ofType(N)})],z.prototype,\"variables\",void 0),e([a({type:t.ofType(P)})],z.prototype,\"volumes\",void 0),e([a({type:A})],z.prototype,\"index\",void 0),e([a({type:Number,json:{name:\"layerDefinition.minScale\",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],z.prototype,\"minScale\",void 0),e([a({type:Number,json:{name:\"layerDefinition.maxScale\",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],z.prototype,\"maxScale\",void 0),e([a({json:{read:!1},readOnly:!0})],z.prototype,\"type\",void 0),e([a({readOnly:!0,json:{name:\"serviceVersion\"}})],z.prototype,\"version\",void 0),e([p(\"service\",\"version\")],z.prototype,\"readVersion\",null),e([a({type:d})],z.prototype,\"fullExtent\",void 0),e([p(\"service\",\"fullExtent\",[\"fullExtent\"])],z.prototype,\"readFullExtent\",null),e([a({readOnly:!0,clonable:!1,json:{read:!1}})],z.prototype,\"voxelFields\",null),e([a(I)],z.prototype,\"popupEnabled\",void 0),e([a({readOnly:!0})],z.prototype,\"defaultPopupTemplate\",null),z=e([c(R)],z);const _=z;export{_ as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}