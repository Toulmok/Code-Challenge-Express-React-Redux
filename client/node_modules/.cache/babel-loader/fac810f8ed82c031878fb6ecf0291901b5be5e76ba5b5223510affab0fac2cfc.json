{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport has from \"../../../core/has.js\";\nimport { RenderTargetType as e } from \"./interfaces.js\";\nimport { OverlayFramebufferObject as r } from \"./OverlayFramebufferObject.js\";\nimport { ShaderOutput as t } from \"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";\nclass s {\n  constructor(e, t, s) {\n    let o = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !0;\n    this.output = t, this.type = s, this.valid = !1, this.lastUsed = 1 / 0, this.fbo = new r(e, o);\n  }\n}\nclass o {\n  constructor(r) {\n    this.renderTargets = [new s(r, t.Color, e.Color), new s(r, t.Color, e.ColorNoRasterImage), new s(r, t.Highlight, e.Highlight, !1), new s(r, t.Normal, e.Water), new s(r, t.Color, e.Occluded)], has(\"enable-feature:objectAndLayerId-rendering\") && this.renderTargets.push(new s(r, t.ObjectAndLayerIdColor, e.ObjectAndLayerIdColor));\n  }\n  getTarget(e) {\n    return this.renderTargets[e].fbo;\n  }\n  dispose() {\n    for (const e of this.renderTargets) e.fbo.dispose();\n  }\n  disposeRenderTargetMemory() {\n    for (const e of this.renderTargets) e.fbo.disposeRenderTargetMemory();\n  }\n  validateUsageForTarget(e, r, t) {\n    if (e) r.lastUsed = t;else if (t - r.lastUsed > a) r.fbo.disposeRenderTargetMemory(), r.lastUsed = 1 / 0;else if (r.lastUsed < 1 / 0) return !0;\n    return !1;\n  }\n  get gpuMemoryUsage() {\n    return this.renderTargets.reduce((e, r) => e + r.fbo.gpuMemoryUsage, 0);\n  }\n}\nconst a = 1e3;\nexport { o as OverlayRenderTarget, s as RenderTargetDescriptor };","map":{"version":3,"names":["has","RenderTargetType","e","OverlayFramebufferObject","r","ShaderOutput","t","s","constructor","o","arguments","length","undefined","output","type","valid","lastUsed","fbo","renderTargets","Color","ColorNoRasterImage","Highlight","Normal","Water","Occluded","push","ObjectAndLayerIdColor","getTarget","dispose","disposeRenderTargetMemory","validateUsageForTarget","a","gpuMemoryUsage","reduce","OverlayRenderTarget","RenderTargetDescriptor"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTarget.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport has from\"../../../core/has.js\";import{RenderTargetType as e}from\"./interfaces.js\";import{OverlayFramebufferObject as r}from\"./OverlayFramebufferObject.js\";import{ShaderOutput as t}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";class s{constructor(e,t,s,o=!0){this.output=t,this.type=s,this.valid=!1,this.lastUsed=1/0,this.fbo=new r(e,o)}}class o{constructor(r){this.renderTargets=[new s(r,t.Color,e.Color),new s(r,t.Color,e.ColorNoRasterImage),new s(r,t.Highlight,e.Highlight,!1),new s(r,t.Normal,e.Water),new s(r,t.Color,e.Occluded)],has(\"enable-feature:objectAndLayerId-rendering\")&&this.renderTargets.push(new s(r,t.ObjectAndLayerIdColor,e.ObjectAndLayerIdColor))}getTarget(e){return this.renderTargets[e].fbo}dispose(){for(const e of this.renderTargets)e.fbo.dispose()}disposeRenderTargetMemory(){for(const e of this.renderTargets)e.fbo.disposeRenderTargetMemory()}validateUsageForTarget(e,r,t){if(e)r.lastUsed=t;else if(t-r.lastUsed>a)r.fbo.disposeRenderTargetMemory(),r.lastUsed=1/0;else if(r.lastUsed<1/0)return!0;return!1}get gpuMemoryUsage(){return this.renderTargets.reduce(((e,r)=>e+r.fbo.gpuMemoryUsage),0)}}const a=1e3;export{o as OverlayRenderTarget,s as RenderTargetDescriptor};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}