{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../../core/Accessor.js\";\nimport { watch as r, sync as a } from \"../../../../../core/reactiveUtils.js\";\nimport { property as s } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../../core/arrayUtils.js\";\nimport { subclass as o } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { canProjectWithoutEngine as i } from \"../../../../../geometry/projection.js\";\nimport { getSphericalPCPF as n, WGS84ECEFSpatialReference as p, SphericalECEFSpatialReference as m } from \"../../../../../geometry/spatialReferenceEllipsoidUtils.js\";\nimport { MeasurementDataManager as c } from \"./MeasurementData.js\";\nimport { UnitNormalizer as l } from \"../../support/UnitNormalizer.js\";\nlet u = class extends t {\n  constructor(e) {\n    super(e);\n  }\n  initialize() {\n    const e = this.view.spatialReference,\n      t = n(e),\n      s = t === m ? p : t,\n      o = !e || i(e, s) ? s : e,\n      u = new l(o);\n    this._measurementDataManager = new c(this.view, u), this.addHandles([this.analysisViewData.path.on(\"change\", () => this._update()), r(() => this.analysisViewData.cursorPoint, () => this._update(), a), r(() => this.analysisViewData.mode, () => this._update(), a)]), this._update();\n  }\n  _update() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n    const {\n        analysisViewData: t,\n        view: r\n      } = this,\n      a = {\n        maxRelativeErrorCoplanar: .005,\n        maxRelativeErrorAlmostCoplanar: .01,\n        verticalAngleThreshold: 80\n      };\n    this._measurementDataManager.update(t.path, t.cursorPoint, r, t.validMeasurement, a, t.mode, e) && (t.measurementData = this._measurementDataManager.getData());\n  }\n};\ne([s({\n  constructOnly: !0\n})], u.prototype, \"view\", void 0), e([s({\n  constructOnly: !0\n})], u.prototype, \"analysis\", void 0), e([s({\n  constructOnly: !0\n})], u.prototype, \"analysisViewData\", void 0), u = e([o(\"esri.views.3d.analysis.AreaMeasurement.support.AreaMeasurementController\")], u);\nexport { u as AreaMeasurementController };","map":{"version":3,"names":["_","e","t","watch","r","sync","a","property","s","subclass","o","canProjectWithoutEngine","i","getSphericalPCPF","n","WGS84ECEFSpatialReference","p","SphericalECEFSpatialReference","m","MeasurementDataManager","c","UnitNormalizer","l","u","constructor","initialize","view","spatialReference","_measurementDataManager","addHandles","analysisViewData","path","on","_update","cursorPoint","mode","arguments","length","undefined","maxRelativeErrorCoplanar","maxRelativeErrorAlmostCoplanar","verticalAngleThreshold","update","validMeasurement","measurementData","getData","constructOnly","prototype","AreaMeasurementController"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/analysis/AreaMeasurement/support/AreaMeasurementController.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{watch as r,sync as a}from\"../../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{canProjectWithoutEngine as i}from\"../../../../../geometry/projection.js\";import{getSphericalPCPF as n,WGS84ECEFSpatialReference as p,SphericalECEFSpatialReference as m}from\"../../../../../geometry/spatialReferenceEllipsoidUtils.js\";import{MeasurementDataManager as c}from\"./MeasurementData.js\";import{UnitNormalizer as l}from\"../../support/UnitNormalizer.js\";let u=class extends t{constructor(e){super(e)}initialize(){const e=this.view.spatialReference,t=n(e),s=t===m?p:t,o=!e||i(e,s)?s:e,u=new l(o);this._measurementDataManager=new c(this.view,u),this.addHandles([this.analysisViewData.path.on(\"change\",(()=>this._update())),r((()=>this.analysisViewData.cursorPoint),(()=>this._update()),a),r((()=>this.analysisViewData.mode),(()=>this._update()),a)]),this._update()}_update(e=!1){const{analysisViewData:t,view:r}=this,a={maxRelativeErrorCoplanar:.005,maxRelativeErrorAlmostCoplanar:.01,verticalAngleThreshold:80};this._measurementDataManager.update(t.path,t.cursorPoint,r,t.validMeasurement,a,t.mode,e)&&(t.measurementData=this._measurementDataManager.getData())}};e([s({constructOnly:!0})],u.prototype,\"view\",void 0),e([s({constructOnly:!0})],u.prototype,\"analysis\",void 0),e([s({constructOnly:!0})],u.prototype,\"analysisViewData\",void 0),u=e([o(\"esri.views.3d.analysis.AreaMeasurement.support.AreaMeasurementController\")],u);export{u as AreaMeasurementController};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}