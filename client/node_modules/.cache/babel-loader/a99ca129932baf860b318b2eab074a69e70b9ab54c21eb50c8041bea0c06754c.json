{"ast":null,"code":"import _regeneratorRuntime from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _createClass from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { TextureEncodingMimeType as e } from \"../../webgl-engine/lib/basicInterfaces.js\";\nvar n = /*#__PURE__*/_createClass(function n(_n) {\n  _classCallCheck(this, n);\n  this.data = _n, this.type = \"encoded-mesh-texture\", this.encoding = e.KTX2_ENCODING;\n});\nfunction t(e) {\n  return \"encoded-mesh-texture\" === (e === null || e === void 0 ? void 0 : e.type);\n}\nfunction r(_x) {\n  return _r.apply(this, arguments);\n}\nfunction _r() {\n  _r = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", new Promise(function (n, t) {\n            var r = new Blob([e]),\n              o = new FileReader();\n            o.onload = function () {\n              var e = o.result;\n              n(JSON.parse(e));\n            }, o.onerror = function (e) {\n              t(e);\n            }, o.readAsText(r);\n          }));\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _r.apply(this, arguments);\n}\nfunction o(_x2, _x3) {\n  return _o.apply(this, arguments);\n}\nfunction _o() {\n  _o = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(t, r) {\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          return _context2.abrupt(\"return\", r === e.KTX2_ENCODING ? new n(t) : new Promise(function (e, n) {\n            var o = new Blob([t], {\n                type: r\n              }),\n              s = URL.createObjectURL(o),\n              c = new Image(),\n              d = function d() {\n                URL.revokeObjectURL(s), \"decode\" in c ? c.decode().then(function () {\n                  return e(c);\n                }, function () {\n                  return e(c);\n                }).then(a) : (e(c), a());\n              },\n              i = function i(e) {\n                URL.revokeObjectURL(s), n(e), a();\n              },\n              a = function a() {\n                c.removeEventListener(\"load\", d), c.removeEventListener(\"error\", i);\n              };\n            c.addEventListener(\"load\", d), c.addEventListener(\"error\", i), c.src = s;\n          }));\n        case 1:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _o.apply(this, arguments);\n}\nexport { n as EncodedMeshTexture, o as imageFromBinaryData, t as isEncodedMeshTexture, r as jsonFromBinaryData };","map":{"version":3,"names":["TextureEncodingMimeType","e","n","_createClass","_classCallCheck","data","type","encoding","KTX2_ENCODING","t","r","_x","_r","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","Promise","Blob","o","FileReader","onload","result","JSON","parse","onerror","readAsText","stop","_x2","_x3","_o","_callee2","_callee2$","_context2","s","URL","createObjectURL","c","Image","d","revokeObjectURL","decode","then","a","i","removeEventListener","addEventListener","src","EncodedMeshTexture","imageFromBinaryData","isEncodedMeshTexture","jsonFromBinaryData"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{TextureEncodingMimeType as e}from\"../../webgl-engine/lib/basicInterfaces.js\";class n{constructor(n){this.data=n,this.type=\"encoded-mesh-texture\",this.encoding=e.KTX2_ENCODING}}function t(e){return\"encoded-mesh-texture\"===e?.type}async function r(e){return new Promise(((n,t)=>{const r=new Blob([e]),o=new FileReader;o.onload=()=>{const e=o.result;n(JSON.parse(e))},o.onerror=e=>{t(e)},o.readAsText(r)}))}async function o(t,r){return r===e.KTX2_ENCODING?new n(t):new Promise(((e,n)=>{const o=new Blob([t],{type:r}),s=URL.createObjectURL(o),c=new Image,d=()=>{URL.revokeObjectURL(s),\"decode\"in c?c.decode().then((()=>e(c)),(()=>e(c))).then(a):(e(c),a())},i=e=>{URL.revokeObjectURL(s),n(e),a()},a=()=>{c.removeEventListener(\"load\",d),c.removeEventListener(\"error\",i)};c.addEventListener(\"load\",d),c.addEventListener(\"error\",i),c.src=s}))}export{n as EncodedMeshTexture,o as imageFromBinaryData,t as isEncodedMeshTexture,r as jsonFromBinaryData};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}