{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../../request.js\";\nimport t from \"../../../../core/pbf.js\";\nclass s {\n  constructor(e) {\n    if (this._metrics = [], this._bitmaps = [], e) for (; e.next();) switch (e.tag()) {\n      case 1:\n        {\n          const t = e.getMessage();\n          for (; t.next();) switch (t.tag()) {\n            case 3:\n              {\n                const e = t.getMessage();\n                let s, a, r, n, i, c, g;\n                for (; e.next();) switch (e.tag()) {\n                  case 1:\n                    s = e.getUInt32();\n                    break;\n                  case 2:\n                    a = e.getBytes();\n                    break;\n                  case 3:\n                    r = e.getUInt32();\n                    break;\n                  case 4:\n                    n = e.getUInt32();\n                    break;\n                  case 5:\n                    i = e.getSInt32();\n                    break;\n                  case 6:\n                    c = e.getSInt32();\n                    break;\n                  case 7:\n                    g = e.getUInt32();\n                    break;\n                  default:\n                    e.skip();\n                }\n                e.release(), s && (this._metrics[s] = {\n                  width: r,\n                  height: n,\n                  left: i,\n                  top: c,\n                  advance: g\n                }, this._bitmaps[s] = a);\n                break;\n              }\n            default:\n              t.skip();\n          }\n          t.release();\n          break;\n        }\n      default:\n        e.skip();\n    }\n  }\n  getMetrics(e) {\n    return this._metrics[e];\n  }\n  getBitmap(e) {\n    return this._bitmaps[e];\n  }\n}\nclass a {\n  constructor() {\n    this._ranges = [];\n  }\n  getRange(e) {\n    return this._ranges[e];\n  }\n  addRange(e, t) {\n    this._ranges[e] = t;\n  }\n}\nclass r {\n  constructor(e) {\n    this._glyphInfo = {}, this._baseURL = e;\n  }\n  getRange(a, r) {\n    const n = this._getFontStack(a);\n    if (n.getRange(r)) return Promise.resolve();\n    const i = 256 * r,\n      c = i + 255;\n    if (this._baseURL) {\n      const g = this._baseURL.replace(\"{fontstack}\", a).replace(\"{range}\", i + \"-\" + c);\n      return e(g, {\n        responseType: \"array-buffer\"\n      }).then(e => {\n        n.addRange(r, new s(new t(new Uint8Array(e.data), new DataView(e.data))));\n      }).catch(() => {\n        n.addRange(r, new s());\n      });\n    }\n    return n.addRange(r, new s()), Promise.resolve();\n  }\n  getGlyph(e, t) {\n    const s = this._getFontStack(e);\n    if (!s) return;\n    const a = Math.floor(t / 256);\n    if (a > 256) return;\n    const r = s.getRange(a);\n    return r ? {\n      metrics: r.getMetrics(t),\n      bitmap: r.getBitmap(t)\n    } : void 0;\n  }\n  _getFontStack(e) {\n    let t = this._glyphInfo[e];\n    return t || (t = this._glyphInfo[e] = new a()), t;\n  }\n}\nexport { r as default };","map":{"version":3,"names":["e","t","s","constructor","_metrics","_bitmaps","next","tag","getMessage","a","r","n","i","c","g","getUInt32","getBytes","getSInt32","skip","release","width","height","left","top","advance","getMetrics","getBitmap","_ranges","getRange","addRange","_glyphInfo","_baseURL","_getFontStack","Promise","resolve","replace","responseType","then","Uint8Array","data","DataView","catch","getGlyph","Math","floor","metrics","bitmap","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import t from\"../../../../core/pbf.js\";class s{constructor(e){if(this._metrics=[],this._bitmaps=[],e)for(;e.next();)switch(e.tag()){case 1:{const t=e.getMessage();for(;t.next();)switch(t.tag()){case 3:{const e=t.getMessage();let s,a,r,n,i,c,g;for(;e.next();)switch(e.tag()){case 1:s=e.getUInt32();break;case 2:a=e.getBytes();break;case 3:r=e.getUInt32();break;case 4:n=e.getUInt32();break;case 5:i=e.getSInt32();break;case 6:c=e.getSInt32();break;case 7:g=e.getUInt32();break;default:e.skip()}e.release(),s&&(this._metrics[s]={width:r,height:n,left:i,top:c,advance:g},this._bitmaps[s]=a);break}default:t.skip()}t.release();break}default:e.skip()}}getMetrics(e){return this._metrics[e]}getBitmap(e){return this._bitmaps[e]}}class a{constructor(){this._ranges=[]}getRange(e){return this._ranges[e]}addRange(e,t){this._ranges[e]=t}}class r{constructor(e){this._glyphInfo={},this._baseURL=e}getRange(a,r){const n=this._getFontStack(a);if(n.getRange(r))return Promise.resolve();const i=256*r,c=i+255;if(this._baseURL){const g=this._baseURL.replace(\"{fontstack}\",a).replace(\"{range}\",i+\"-\"+c);return e(g,{responseType:\"array-buffer\"}).then((e=>{n.addRange(r,new s(new t(new Uint8Array(e.data),new DataView(e.data))))})).catch((()=>{n.addRange(r,new s)}))}return n.addRange(r,new s),Promise.resolve()}getGlyph(e,t){const s=this._getFontStack(e);if(!s)return;const a=Math.floor(t/256);if(a>256)return;const r=s.getRange(a);return r?{metrics:r.getMetrics(t),bitmap:r.getBitmap(t)}:void 0}_getFontStack(e){let t=this._glyphInfo[e];return t||(t=this._glyphInfo[e]=new a),t}}export{r as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}