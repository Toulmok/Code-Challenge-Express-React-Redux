{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isDevEnvironment as t, adjustStaticAGOUrl as r } from \"../../../../core/devEnvironmentUtils.js\";\nimport e from \"../../../../core/Error.js\";\nimport { isSome as o } from \"../../../../core/maybe.js\";\nimport { throwIfAborted as n } from \"../../../../core/promiseUtils.js\";\nimport { urlToObject as s } from \"../../../../core/urlUtils.js\";\nimport m from \"../../../../portal/Portal.js\";\nimport { f as l } from \"../../../../chunks/persistableUrlUtils.js\";\nimport { fetchStyle as a, Style2DUrlTemplate as i, requestJSON as c, makeCIMSymbolRef as y, symbolUrlFromStyleItem as f } from \"../../../../symbols/support/styleUtils.js\";\nasync function u(t, r, o) {\n  if (!t.name) throw new e(\"style-symbol-reference-name-missing\", \"Missing name in style symbol reference\");\n  if (t.styleName && \"Esri2DPointSymbolsStyle\" === t.styleName) return p(t, o);\n  try {\n    return b(await a(t, r, o), t.name, r, o);\n  } catch (s) {\n    return n(s), null;\n  }\n}\nasync function p(t, r) {\n  const e = i.replace(/\\{SymbolName\\}/gi, t.name);\n  try {\n    const t = await c(e, r);\n    return y(t.data);\n  } catch (o) {\n    return n(o), null;\n  }\n}\nasync function b(a, i, u, p) {\n  const b = a.data,\n    d = {\n      portal: u && o(u.portal) ? u.portal : m.getDefault(),\n      url: s(a.baseUrl),\n      origin: \"portal-item\"\n    },\n    j = b.items.find(t => t.name === i);\n  if (!j) {\n    throw new e(\"symbolstyleutils:symbol-name-not-found\", `The symbol name '${i}' could not be found`, {\n      symbolName: i\n    });\n  }\n  let h = l(f(j, \"cimRef\"), d);\n  t() && (h = r(h));\n  try {\n    const t = await c(h, p);\n    return y(t.data);\n  } catch (w) {\n    return n(w), null;\n  }\n}\nexport { u as fetchCIMSymbolReference };","map":{"version":3,"names":["isDevEnvironment","t","adjustStaticAGOUrl","r","e","isSome","o","throwIfAborted","n","urlToObject","s","m","f","l","fetchStyle","a","Style2DUrlTemplate","i","requestJSON","c","makeCIMSymbolRef","y","symbolUrlFromStyleItem","u","name","styleName","p","b","replace","data","d","portal","getDefault","url","baseUrl","origin","j","items","find","symbolName","h","w","fetchCIMSymbolReference"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/2d/layers/support/webStyleUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isDevEnvironment as t,adjustStaticAGOUrl as r}from\"../../../../core/devEnvironmentUtils.js\";import e from\"../../../../core/Error.js\";import{isSome as o}from\"../../../../core/maybe.js\";import{throwIfAborted as n}from\"../../../../core/promiseUtils.js\";import{urlToObject as s}from\"../../../../core/urlUtils.js\";import m from\"../../../../portal/Portal.js\";import{f as l}from\"../../../../chunks/persistableUrlUtils.js\";import{fetchStyle as a,Style2DUrlTemplate as i,requestJSON as c,makeCIMSymbolRef as y,symbolUrlFromStyleItem as f}from\"../../../../symbols/support/styleUtils.js\";async function u(t,r,o){if(!t.name)throw new e(\"style-symbol-reference-name-missing\",\"Missing name in style symbol reference\");if(t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName)return p(t,o);try{return b(await a(t,r,o),t.name,r,o)}catch(s){return n(s),null}}async function p(t,r){const e=i.replace(/\\{SymbolName\\}/gi,t.name);try{const t=await c(e,r);return y(t.data)}catch(o){return n(o),null}}async function b(a,i,u,p){const b=a.data,d={portal:u&&o(u.portal)?u.portal:m.getDefault(),url:s(a.baseUrl),origin:\"portal-item\"},j=b.items.find((t=>t.name===i));if(!j){throw new e(\"symbolstyleutils:symbol-name-not-found\",`The symbol name '${i}' could not be found`,{symbolName:i})}let h=l(f(j,\"cimRef\"),d);t()&&(h=r(h));try{const t=await c(h,p);return y(t.data)}catch(w){return n(w),null}}export{u as fetchCIMSymbolReference};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}