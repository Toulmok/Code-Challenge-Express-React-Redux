{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { neverReached as e } from \"../../../../../../core/compilerUtils.js\";\nimport { NormalAttributeType as r } from \"../attributes/NormalAttribute.glsl.js\";\nimport { VertexNormal as o } from \"../attributes/VertexNormal.glsl.js\";\nimport { VertexPosition as a } from \"../attributes/VertexPosition.glsl.js\";\nimport { NormalsDoubleSidedMode as d } from \"./Normals.glsl.js\";\nimport { glsl as i } from \"../../shaderModules/interfaces.js\";\nfunction t(t, s) {\n  const l = t.fragment;\n  switch (s.doubleSidedMode) {\n    case d.None:\n      l.code.add(i`vec3 _adjustDoublesided(vec3 normal) {\nreturn normal;\n}`);\n      break;\n    case d.View:\n      t.include(a, s), l.code.add(i`vec3 _adjustDoublesided(vec3 normal) {\nreturn dot(normal, vPositionWorldCameraRelative) > 0.0 ? -normal : normal;\n}`);\n      break;\n    case d.WindingOrder:\n      l.code.add(i`vec3 _adjustDoublesided(vec3 normal) {\nreturn gl_FrontFacing ? normal : -normal;\n}`);\n      break;\n    default:\n      e(s.doubleSidedMode);\n    case d.COUNT:\n  }\n  switch (s.normalType) {\n    case r.Attribute:\n    case r.CompressedAttribute:\n      t.include(o, s), l.code.add(i`vec3 shadingNormalWorld() {\nreturn _adjustDoublesided(normalize(vNormalWorld));\n}\nvec3 shadingNormal_view() {\nvec3 normal = normalize(vNormalView);\nreturn gl_FrontFacing ? normal : -normal;\n}`);\n      break;\n    case r.ScreenDerivative:\n      t.extensions.add(\"GL_OES_standard_derivatives\"), t.include(a, s), l.code.add(i`vec3 shadingNormalWorld() {\nreturn normalize(cross(\ndFdx(vPositionWorldCameraRelative),\ndFdy(vPositionWorldCameraRelative)\n));\n}\nvec3 shadingNormal_view() {\nreturn normalize(cross(dFdx(vPosition_view),dFdy(vPosition_view)));\n}`);\n      break;\n    case r.Ground:\n      s.spherical ? (t.include(a, s), l.code.add(i`vec3 shadingNormalWorld() {\nreturn normalize(positionWorld());\n}`)) : l.code.add(i`vec3 shadingNormalWorld() {\nreturn vec3(0.0, 0.0, 1.0);\n}`), t.extensions.add(\"GL_OES_standard_derivatives\"), l.code.add(i`vec3 shadingNormal_view() {\nreturn normalize(cross(dFdx(vPosition_view),dFdy(vPosition_view))).xyz;\n}`);\n      break;\n    default:\n      e(s.normalType);\n    case r.COUNT:\n  }\n}\nexport { t as ComputeShadingNormal };","map":{"version":3,"names":["neverReached","e","NormalAttributeType","r","VertexNormal","o","VertexPosition","a","NormalsDoubleSidedMode","d","glsl","i","t","s","l","fragment","doubleSidedMode","None","code","add","View","include","WindingOrder","COUNT","normalType","Attribute","CompressedAttribute","ScreenDerivative","extensions","Ground","spherical","ComputeShadingNormal"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ComputeShadingNormal.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../../../core/compilerUtils.js\";import{NormalAttributeType as r}from\"../attributes/NormalAttribute.glsl.js\";import{VertexNormal as o}from\"../attributes/VertexNormal.glsl.js\";import{VertexPosition as a}from\"../attributes/VertexPosition.glsl.js\";import{NormalsDoubleSidedMode as d}from\"./Normals.glsl.js\";import{glsl as i}from\"../../shaderModules/interfaces.js\";function t(t,s){const l=t.fragment;switch(s.doubleSidedMode){case d.None:l.code.add(i`vec3 _adjustDoublesided(vec3 normal) {\nreturn normal;\n}`);break;case d.View:t.include(a,s),l.code.add(i`vec3 _adjustDoublesided(vec3 normal) {\nreturn dot(normal, vPositionWorldCameraRelative) > 0.0 ? -normal : normal;\n}`);break;case d.WindingOrder:l.code.add(i`vec3 _adjustDoublesided(vec3 normal) {\nreturn gl_FrontFacing ? normal : -normal;\n}`);break;default:e(s.doubleSidedMode);case d.COUNT:}switch(s.normalType){case r.Attribute:case r.CompressedAttribute:t.include(o,s),l.code.add(i`vec3 shadingNormalWorld() {\nreturn _adjustDoublesided(normalize(vNormalWorld));\n}\nvec3 shadingNormal_view() {\nvec3 normal = normalize(vNormalView);\nreturn gl_FrontFacing ? normal : -normal;\n}`);break;case r.ScreenDerivative:t.extensions.add(\"GL_OES_standard_derivatives\"),t.include(a,s),l.code.add(i`vec3 shadingNormalWorld() {\nreturn normalize(cross(\ndFdx(vPositionWorldCameraRelative),\ndFdy(vPositionWorldCameraRelative)\n));\n}\nvec3 shadingNormal_view() {\nreturn normalize(cross(dFdx(vPosition_view),dFdy(vPosition_view)));\n}`);break;case r.Ground:s.spherical?(t.include(a,s),l.code.add(i`vec3 shadingNormalWorld() {\nreturn normalize(positionWorld());\n}`)):l.code.add(i`vec3 shadingNormalWorld() {\nreturn vec3(0.0, 0.0, 1.0);\n}`),t.extensions.add(\"GL_OES_standard_derivatives\"),l.code.add(i`vec3 shadingNormal_view() {\nreturn normalize(cross(dFdx(vPosition_view),dFdy(vPosition_view))).xyz;\n}`);break;default:e(s.normalType);case r.COUNT:}}export{t as ComputeShadingNormal};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,YAAY,IAAIC,CAAC,QAAK,yCAAyC;AAAC,SAAOC,mBAAmB,IAAIC,CAAC,QAAK,uCAAuC;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,oCAAoC;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,sCAAsC;AAAC,SAAOC,sBAAsB,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,IAAI,IAAIC,CAAC,QAAK,mCAAmC;AAAC,SAASC,CAACA,CAACA,CAAC,EAACC,CAAC,EAAC;EAAC,MAAMC,CAAC,GAACF,CAAC,CAACG,QAAQ;EAAC,QAAOF,CAAC,CAACG,eAAe;IAAE,KAAKP,CAAC,CAACQ,IAAI;MAACH,CAAC,CAACI,IAAI,CAACC,GAAG,CAACR,CAAE;AACre;AACA,EAAE,CAAC;MAAC;IAAM,KAAKF,CAAC,CAACW,IAAI;MAACR,CAAC,CAACS,OAAO,CAACd,CAAC,EAACM,CAAC,CAAC,EAACC,CAAC,CAACI,IAAI,CAACC,GAAG,CAACR,CAAE;AAClD;AACA,EAAE,CAAC;MAAC;IAAM,KAAKF,CAAC,CAACa,YAAY;MAACR,CAAC,CAACI,IAAI,CAACC,GAAG,CAACR,CAAE;AAC3C;AACA,EAAE,CAAC;MAAC;IAAM;MAAQV,CAAC,CAACY,CAAC,CAACG,eAAe,CAAC;IAAC,KAAKP,CAAC,CAACc,KAAK;EAAC;EAAC,QAAOV,CAAC,CAACW,UAAU;IAAE,KAAKrB,CAAC,CAACsB,SAAS;IAAC,KAAKtB,CAAC,CAACuB,mBAAmB;MAACd,CAAC,CAACS,OAAO,CAAChB,CAAC,EAACQ,CAAC,CAAC,EAACC,CAAC,CAACI,IAAI,CAACC,GAAG,CAACR,CAAE;AAClJ;AACA;AACA;AACA;AACA;AACA,EAAE,CAAC;MAAC;IAAM,KAAKR,CAAC,CAACwB,gBAAgB;MAACf,CAAC,CAACgB,UAAU,CAACT,GAAG,CAAC,6BAA6B,CAAC,EAACP,CAAC,CAACS,OAAO,CAACd,CAAC,EAACM,CAAC,CAAC,EAACC,CAAC,CAACI,IAAI,CAACC,GAAG,CAACR,CAAE;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,CAAC;MAAC;IAAM,KAAKR,CAAC,CAAC0B,MAAM;MAAChB,CAAC,CAACiB,SAAS,IAAElB,CAAC,CAACS,OAAO,CAACd,CAAC,EAACM,CAAC,CAAC,EAACC,CAAC,CAACI,IAAI,CAACC,GAAG,CAACR,CAAE;AACjE;AACA,EAAE,CAAC,IAAEG,CAAC,CAACI,IAAI,CAACC,GAAG,CAACR,CAAE;AAClB;AACA,EAAE,CAAC,EAACC,CAAC,CAACgB,UAAU,CAACT,GAAG,CAAC,6BAA6B,CAAC,EAACL,CAAC,CAACI,IAAI,CAACC,GAAG,CAACR,CAAE;AACjE;AACA,EAAE,CAAC;MAAC;IAAM;MAAQV,CAAC,CAACY,CAAC,CAACW,UAAU,CAAC;IAAC,KAAKrB,CAAC,CAACoB,KAAK;EAAC;AAAC;AAAC,SAAOX,CAAC,IAAImB,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}