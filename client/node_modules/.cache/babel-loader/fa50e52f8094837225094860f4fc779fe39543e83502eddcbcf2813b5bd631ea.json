{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { createTask as t, resultOrAbort as e } from \"../../../../../core/asyncUtils.js\";\nimport { isNone as s } from \"../../../../../core/maybe.js\";\nimport { create as a, fromExtent as r, intersects as E } from \"../../../../../geometry/support/aaBoundingRect.js\";\nclass o {\n  constructor(t, e) {\n    this.data = t, this.resolution = e, this.state = {\n      type: u.CREATED\n    }, this.alive = !0;\n  }\n  process(t) {\n    switch (this.state.type) {\n      case u.CREATED:\n        return this.state = this._gotoFetchCount(this.state, t), this.state.task.promise.then(t.resume, t.resume);\n      case u.FETCH_COUNT:\n        break;\n      case u.FETCHED_COUNT:\n        return this.state = this._gotoFetchFeatures(this.state, t), this.state.task.promise.then(t.resume, t.resume);\n      case u.FETCH_FEATURES:\n        break;\n      case u.FETCHED_FEATURES:\n        this.state = this._goToDone(this.state, t);\n      case u.DONE:\n    }\n    return null;\n  }\n  get debugInfo() {\n    return {\n      data: this.data,\n      featureCount: this._featureCount,\n      state: this._stateToString\n    };\n  }\n  get _featureCount() {\n    switch (this.state.type) {\n      case u.CREATED:\n      case u.FETCH_COUNT:\n        return 0;\n      case u.FETCHED_COUNT:\n        return this.state.featureCount;\n      case u.FETCH_FEATURES:\n        return this.state.previous.featureCount;\n      case u.FETCHED_FEATURES:\n        return this.state.features.length;\n      case u.DONE:\n        return this.state.previous.features.length;\n    }\n  }\n  get _stateToString() {\n    switch (this.state.type) {\n      case u.CREATED:\n        return \"created\";\n      case u.FETCH_COUNT:\n        return \"fetch-count\";\n      case u.FETCHED_COUNT:\n        return \"fetched-count\";\n      case u.FETCH_FEATURES:\n        return \"fetch-features\";\n      case u.FETCHED_FEATURES:\n        return \"fetched-features\";\n      case u.DONE:\n        return \"done\";\n    }\n  }\n  _gotoFetchCount(s, a) {\n    return {\n      type: u.FETCH_COUNT,\n      previous: s,\n      task: t(async t => {\n        const s = await e(a.fetchCount(this, t));\n        this.state.type === u.FETCH_COUNT && (this.state = this._gotoFetchedCount(this.state, s.ok ? s.value : 1 / 0));\n      })\n    };\n  }\n  _gotoFetchedCount(t, e) {\n    return {\n      type: u.FETCHED_COUNT,\n      featureCount: e,\n      previous: t\n    };\n  }\n  _gotoFetchFeatures(s, a) {\n    return {\n      type: u.FETCH_FEATURES,\n      previous: s,\n      task: t(async t => {\n        const r = await e(a.fetchFeatures(this, s.featureCount, t));\n        this.state.type === u.FETCH_FEATURES && (this.state = this._gotoFetchedFeatures(this.state, r.ok ? r.value : []));\n      })\n    };\n  }\n  _gotoFetchedFeatures(t, e) {\n    return {\n      type: u.FETCHED_FEATURES,\n      previous: t,\n      features: e\n    };\n  }\n  _goToDone(t, e) {\n    return e.finish(this, t.features), {\n      type: u.DONE,\n      previous: t\n    };\n  }\n  reset() {\n    const t = this.state;\n    switch (this.state = {\n      type: u.CREATED\n    }, t.type) {\n      case u.CREATED:\n      case u.FETCHED_COUNT:\n      case u.FETCHED_FEATURES:\n      case u.DONE:\n        break;\n      case u.FETCH_COUNT:\n      case u.FETCH_FEATURES:\n        t.task.abort();\n    }\n  }\n  intersects(t) {\n    return !(!s(t) && this.data.extent) || (r(t, T), E(this.data.extent, T));\n  }\n}\nvar u;\n!function (t) {\n  t[t.CREATED = 0] = \"CREATED\", t[t.FETCH_COUNT = 1] = \"FETCH_COUNT\", t[t.FETCHED_COUNT = 2] = \"FETCHED_COUNT\", t[t.FETCH_FEATURES = 3] = \"FETCH_FEATURES\", t[t.FETCHED_FEATURES = 4] = \"FETCHED_FEATURES\", t[t.DONE = 5] = \"DONE\";\n}(u || (u = {}));\nconst T = a();\nexport { o as PendingFeatureTile, u as StateType };","map":{"version":3,"names":["createTask","t","resultOrAbort","e","isNone","s","create","a","fromExtent","r","intersects","E","o","constructor","data","resolution","state","type","u","CREATED","alive","process","_gotoFetchCount","task","promise","then","resume","FETCH_COUNT","FETCHED_COUNT","_gotoFetchFeatures","FETCH_FEATURES","FETCHED_FEATURES","_goToDone","DONE","debugInfo","featureCount","_featureCount","_stateToString","previous","features","length","fetchCount","_gotoFetchedCount","ok","value","fetchFeatures","_gotoFetchedFeatures","finish","reset","abort","extent","T","PendingFeatureTile","StateType"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/PendingFeatureTile.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{createTask as t,resultOrAbort as e}from\"../../../../../core/asyncUtils.js\";import{isNone as s}from\"../../../../../core/maybe.js\";import{create as a,fromExtent as r,intersects as E}from\"../../../../../geometry/support/aaBoundingRect.js\";class o{constructor(t,e){this.data=t,this.resolution=e,this.state={type:u.CREATED},this.alive=!0}process(t){switch(this.state.type){case u.CREATED:return this.state=this._gotoFetchCount(this.state,t),this.state.task.promise.then(t.resume,t.resume);case u.FETCH_COUNT:break;case u.FETCHED_COUNT:return this.state=this._gotoFetchFeatures(this.state,t),this.state.task.promise.then(t.resume,t.resume);case u.FETCH_FEATURES:break;case u.FETCHED_FEATURES:this.state=this._goToDone(this.state,t);case u.DONE:}return null}get debugInfo(){return{data:this.data,featureCount:this._featureCount,state:this._stateToString}}get _featureCount(){switch(this.state.type){case u.CREATED:case u.FETCH_COUNT:return 0;case u.FETCHED_COUNT:return this.state.featureCount;case u.FETCH_FEATURES:return this.state.previous.featureCount;case u.FETCHED_FEATURES:return this.state.features.length;case u.DONE:return this.state.previous.features.length}}get _stateToString(){switch(this.state.type){case u.CREATED:return\"created\";case u.FETCH_COUNT:return\"fetch-count\";case u.FETCHED_COUNT:return\"fetched-count\";case u.FETCH_FEATURES:return\"fetch-features\";case u.FETCHED_FEATURES:return\"fetched-features\";case u.DONE:return\"done\"}}_gotoFetchCount(s,a){return{type:u.FETCH_COUNT,previous:s,task:t((async t=>{const s=await e(a.fetchCount(this,t));this.state.type===u.FETCH_COUNT&&(this.state=this._gotoFetchedCount(this.state,s.ok?s.value:1/0))}))}}_gotoFetchedCount(t,e){return{type:u.FETCHED_COUNT,featureCount:e,previous:t}}_gotoFetchFeatures(s,a){return{type:u.FETCH_FEATURES,previous:s,task:t((async t=>{const r=await e(a.fetchFeatures(this,s.featureCount,t));this.state.type===u.FETCH_FEATURES&&(this.state=this._gotoFetchedFeatures(this.state,r.ok?r.value:[]))}))}}_gotoFetchedFeatures(t,e){return{type:u.FETCHED_FEATURES,previous:t,features:e}}_goToDone(t,e){return e.finish(this,t.features),{type:u.DONE,previous:t}}reset(){const t=this.state;switch(this.state={type:u.CREATED},t.type){case u.CREATED:case u.FETCHED_COUNT:case u.FETCHED_FEATURES:case u.DONE:break;case u.FETCH_COUNT:case u.FETCH_FEATURES:t.task.abort()}}intersects(t){return!(!s(t)&&this.data.extent)||(r(t,T),E(this.data.extent,T))}}var u;!function(t){t[t.CREATED=0]=\"CREATED\",t[t.FETCH_COUNT=1]=\"FETCH_COUNT\",t[t.FETCHED_COUNT=2]=\"FETCHED_COUNT\",t[t.FETCH_FEATURES=3]=\"FETCH_FEATURES\",t[t.FETCHED_FEATURES=4]=\"FETCHED_FEATURES\",t[t.DONE=5]=\"DONE\"}(u||(u={}));const T=a();export{o as PendingFeatureTile,u as StateType};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}