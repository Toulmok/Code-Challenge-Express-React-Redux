{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../../core/has.js\";\nvar e = new Set([\"+\", \"-\", \"*\", \"/\", \"(\", \")\"]);\nfunction t(t, n) {\n  (t = t.replace(/ /g, \"\")).startsWith(\"-\") && (t = \"0\" + t), t.startsWith(\"+\") && (t = t.slice(1, t.length));\n  var r = t.split(\"\"),\n    l = [],\n    o = [];\n  var s = \"\";\n  for (var a = 0; a < r.length; a++) {\n    var _t = r[a];\n    if (e.has(_t)) \"\" !== s && o.push(parseFloat(s)), l.push(_t), s = \"\";else {\n      if (\"b\" === _t.toLowerCase()) {\n        a++, s = _t.concat(r[a]), o.push(n[parseInt(s[1], 10) - 1]), s = \"\";\n        continue;\n      }\n      s = s.concat(_t), a === r.length - 1 && o.push(parseFloat(s));\n    }\n  }\n  return {\n    ops: l,\n    nums: o\n  };\n}\nfunction n(e, t, n, r) {\n  if (\"number\" == typeof n && \"number\" == typeof r) return n + r;\n  var l;\n  if (\"number\" == typeof n) {\n    l = r.length;\n    var _e = n;\n    (n = new Float32Array(l)).fill(_e);\n  } else if (l = n.length, r.constructor === Number) {\n    var _e2 = r;\n    (r = new Float32Array(l)).fill(_e2);\n  }\n  var o = new Float32Array(l);\n  switch (t) {\n    case \"+\":\n      for (var _t2 = 0; _t2 < l; _t2++) (null == e || e[_t2]) && (o[_t2] = n[_t2] + r[_t2]);\n      break;\n    case \"-\":\n      for (var _t3 = 0; _t3 < l; _t3++) (null == e || e[_t3]) && (o[_t3] = n[_t3] - r[_t3]);\n      break;\n    case \"*\":\n      for (var _t4 = 0; _t4 < l; _t4++) (null == e || e[_t4]) && (o[_t4] = n[_t4] * r[_t4]);\n      break;\n    case \"/\":\n      for (var _t5 = 0; _t5 < l; _t5++) (null == e || e[_t5]) && r[_t5] && (o[_t5] = n[_t5] / r[_t5]);\n      break;\n    case \"(\":\n    case \")\":\n      throw new Error(\"encountered error with custom band index equation\");\n  }\n  return o;\n}\nfunction r(e, t) {\n  e.splice(t, 1);\n  var n = 0,\n    r = 0;\n  do {\n    n = 0, r = 0;\n    for (var _t6 = 0; _t6 < e.length; _t6++) if (\"(\" === e[_t6]) n = _t6;else if (\")\" === e[_t6]) {\n      r = _t6;\n      break;\n    }\n    r === n + 1 && e.splice(n, 2);\n  } while (r === n + 1);\n  return e;\n}\nfunction l(e) {\n  if (1 === e.length) return {\n    opIndex: 0,\n    numIndex: 0\n  };\n  var t = 0,\n    n = 0;\n  for (var s = 0; s < e.length; s++) if (\"(\" === e[s]) t = s;else if (\")\" === e[s]) {\n    n = s;\n    break;\n  }\n  var r = 0 === n ? e : e.slice(t + 1, n);\n  var l = -1;\n  for (var _s = 0; _s < r.length; _s++) if (\"*\" === r[_s] || \"/\" === r[_s]) {\n    l = _s;\n    break;\n  }\n  if (l > -1) n > 0 && (l += t + 1);else {\n    for (var _e3 = 0; _e3 < r.length; _e3++) if (\"+\" === r[_e3] || \"-\" === r[_e3]) {\n      l = _e3;\n      break;\n    }\n    n > 0 && (l += t + 1);\n  }\n  var o = 0;\n  for (var _s2 = 0; _s2 < l; _s2++) \"(\" === e[_s2] && o++;\n  return {\n    opIndex: l,\n    numIndex: l - o\n  };\n}\nfunction o(e, o, s) {\n  var a,\n    _t7 = t(s, o),\n    f = _t7.ops,\n    i = _t7.nums;\n  if (0 === f.length) {\n    var _e4 = 1 === i.length ? i[0] : o[0];\n    if (_e4 instanceof Float32Array) return [_e4];\n    var _t8 = new Float32Array(o[0].length);\n    return \"number\" == typeof _e4 ? _t8.fill(_e4) : _t8.set(_e4), [_t8];\n  }\n  for (; f.length > 0;) {\n    var _l = l(f),\n      _t9 = _l.numIndex,\n      _o = _l.opIndex;\n    if (a = n(e, f[_o], i[_t9], i[_t9 + 1]), 1 === f.length) break;\n    f = r(f, _o), i.splice(_t9, 2, a);\n  }\n  return [a];\n}\nexport { o as calculateCustomBandIndex };","map":{"version":3,"names":["e","Set","t","n","replace","startsWith","slice","length","r","split","l","o","s","a","has","push","parseFloat","toLowerCase","concat","parseInt","ops","nums","Float32Array","fill","constructor","Number","Error","splice","opIndex","numIndex","_t7","f","i","set","_l","calculateCustomBandIndex"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/support/rasterFunctions/customBandIndexUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";const e=new Set([\"+\",\"-\",\"*\",\"/\",\"(\",\")\"]);function t(t,n){(t=t.replace(/ /g,\"\")).startsWith(\"-\")&&(t=\"0\"+t),t.startsWith(\"+\")&&(t=t.slice(1,t.length));const r=t.split(\"\"),l=[],o=[];let s=\"\";for(let a=0;a<r.length;a++){const t=r[a];if(e.has(t))\"\"!==s&&o.push(parseFloat(s)),l.push(t),s=\"\";else{if(\"b\"===t.toLowerCase()){a++,s=t.concat(r[a]),o.push(n[parseInt(s[1],10)-1]),s=\"\";continue}s=s.concat(t),a===r.length-1&&o.push(parseFloat(s))}}return{ops:l,nums:o}}function n(e,t,n,r){if(\"number\"==typeof n&&\"number\"==typeof r)return n+r;let l;if(\"number\"==typeof n){l=r.length;const e=n;(n=new Float32Array(l)).fill(e)}else if(l=n.length,r.constructor===Number){const e=r;(r=new Float32Array(l)).fill(e)}const o=new Float32Array(l);switch(t){case\"+\":for(let t=0;t<l;t++)(null==e||e[t])&&(o[t]=n[t]+r[t]);break;case\"-\":for(let t=0;t<l;t++)(null==e||e[t])&&(o[t]=n[t]-r[t]);break;case\"*\":for(let t=0;t<l;t++)(null==e||e[t])&&(o[t]=n[t]*r[t]);break;case\"/\":for(let t=0;t<l;t++)(null==e||e[t])&&r[t]&&(o[t]=n[t]/r[t]);break;case\"(\":case\")\":throw new Error(\"encountered error with custom band index equation\")}return o}function r(e,t){e.splice(t,1);let n=0,r=0;do{n=0,r=0;for(let t=0;t<e.length;t++)if(\"(\"===e[t])n=t;else if(\")\"===e[t]){r=t;break}r===n+1&&e.splice(n,2)}while(r===n+1);return e}function l(e){if(1===e.length)return{opIndex:0,numIndex:0};let t=0,n=0;for(let s=0;s<e.length;s++)if(\"(\"===e[s])t=s;else if(\")\"===e[s]){n=s;break}const r=0===n?e:e.slice(t+1,n);let l=-1;for(let s=0;s<r.length;s++)if(\"*\"===r[s]||\"/\"===r[s]){l=s;break}if(l>-1)n>0&&(l+=t+1);else{for(let e=0;e<r.length;e++)if(\"+\"===r[e]||\"-\"===r[e]){l=e;break}n>0&&(l+=t+1)}let o=0;for(let s=0;s<l;s++)\"(\"===e[s]&&o++;return{opIndex:l,numIndex:l-o}}function o(e,o,s){let a,{ops:f,nums:i}=t(s,o);if(0===f.length){const e=1===i.length?i[0]:o[0];if(e instanceof Float32Array)return[e];const t=new Float32Array(o[0].length);return\"number\"==typeof e?t.fill(e):t.set(e),[t]}for(;f.length>0;){const{numIndex:t,opIndex:o}=l(f);if(a=n(e,f[o],i[t],i[t+1]),1===f.length)break;f=r(f,o),i.splice(t,2,a)}return[a]}export{o as calculateCustomBandIndex};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}