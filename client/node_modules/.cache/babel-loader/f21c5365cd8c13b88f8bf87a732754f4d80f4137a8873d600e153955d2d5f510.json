{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport o from \"./Collection.js\";\nimport { isSome as s, isNone as r } from \"./maybe.js\";\nimport \"./has.js\";\nimport \"./Error.js\";\nimport \"./Logger.js\";\nimport \"./accessorSupport/watch.js\";\nimport { autorun as e } from \"./accessorSupport/trackingUtils.js\";\nimport { property as i } from \"./accessorSupport/decorators/property.js\";\nimport \"./accessorSupport/ensureType.js\";\nimport \"./arrayUtils.js\";\nimport { subclass as n } from \"./accessorSupport/decorators/subclass.js\";\nvar c = /*#__PURE__*/function (_o) {\n  _inherits(c, _o);\n  var _super = _createSuper(c);\n  function c(t) {\n    var _this;\n    _classCallCheck(this, c);\n    _this = _super.call(this, t), _this.getCollections = null;\n    return _this;\n  }\n  _createClass(c, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n      this.own(e(function () {\n        return _this2._refresh();\n      }));\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.getCollections = null;\n    }\n  }, {\n    key: \"_refresh\",\n    value: function _refresh() {\n      var t = s(this.getCollections) ? this.getCollections() : null;\n      if (r(t)) return void this.removeAll();\n      var o = 0;\n      var _iterator = _createForOfIteratorHelper(t),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _r = _step.value;\n          s(_r) && (o = this._processCollection(o, _r));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      this.splice(o, this.length);\n    }\n  }, {\n    key: \"_createNewInstance\",\n    value: function _createNewInstance(t) {\n      return new o(t);\n    }\n  }, {\n    key: \"_processCollection\",\n    value: function _processCollection(t, o) {\n      if (!o) return t;\n      var s = this.itemFilterFunction ? this.itemFilterFunction : function (t) {\n        return !!t;\n      };\n      var _iterator2 = _createForOfIteratorHelper(o),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _r2 = _step2.value;\n          if (_r2) {\n            if (s(_r2)) {\n              var _o2 = this.indexOf(_r2, t);\n              _o2 >= 0 ? _o2 !== t && this.reorder(_r2, t) : this.add(_r2, t), ++t;\n            }\n            if (this.getChildrenFunction) {\n              var _o3 = this.getChildrenFunction(_r2);\n              if (Array.isArray(_o3)) {\n                var _iterator3 = _createForOfIteratorHelper(_o3),\n                  _step3;\n                try {\n                  for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                    var _s = _step3.value;\n                    t = this._processCollection(t, _s);\n                  }\n                } catch (err) {\n                  _iterator3.e(err);\n                } finally {\n                  _iterator3.f();\n                }\n              } else t = this._processCollection(t, _o3);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      return t;\n    }\n  }]);\n  return c;\n}(o);\nt([i()], c.prototype, \"getCollections\", void 0), t([i()], c.prototype, \"getChildrenFunction\", void 0), t([i()], c.prototype, \"itemFilterFunction\", void 0), c = t([n(\"esri.core.CollectionFlattener\")], c);\nvar l = c;\nexport { l as default };","map":{"version":3,"names":["_","t","o","isSome","s","isNone","r","autorun","e","property","i","subclass","n","c","_o","_inherits","_super","_createSuper","_this","_classCallCheck","call","getCollections","_createClass","key","value","initialize","_this2","own","_refresh","destroy","removeAll","_iterator","_createForOfIteratorHelper","_step","done","_processCollection","err","f","splice","length","_createNewInstance","itemFilterFunction","_iterator2","_step2","indexOf","reorder","add","getChildrenFunction","Array","isArray","_iterator3","_step3","prototype","l","default"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/core/CollectionFlattener.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import o from\"./Collection.js\";import{isSome as s,isNone as r}from\"./maybe.js\";import\"./has.js\";import\"./Error.js\";import\"./Logger.js\";import\"./accessorSupport/watch.js\";import{autorun as e}from\"./accessorSupport/trackingUtils.js\";import{property as i}from\"./accessorSupport/decorators/property.js\";import\"./accessorSupport/ensureType.js\";import\"./arrayUtils.js\";import{subclass as n}from\"./accessorSupport/decorators/subclass.js\";let c=class extends o{constructor(t){super(t),this.getCollections=null}initialize(){this.own(e((()=>this._refresh())))}destroy(){this.getCollections=null}_refresh(){const t=s(this.getCollections)?this.getCollections():null;if(r(t))return void this.removeAll();let o=0;for(const r of t)s(r)&&(o=this._processCollection(o,r));this.splice(o,this.length)}_createNewInstance(t){return new o(t)}_processCollection(t,o){if(!o)return t;const s=this.itemFilterFunction?this.itemFilterFunction:t=>!!t;for(const r of o)if(r){if(s(r)){const o=this.indexOf(r,t);o>=0?o!==t&&this.reorder(r,t):this.add(r,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(r);if(Array.isArray(o))for(const s of o)t=this._processCollection(t,s);else t=this._processCollection(t,o)}}return t}};t([i()],c.prototype,\"getCollections\",void 0),t([i()],c.prototype,\"getChildrenFunction\",void 0),t([i()],c.prototype,\"itemFilterFunction\",void 0),c=t([n(\"esri.core.CollectionFlattener\")],c);const l=c;export{l as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}