{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { onAbortOrThrow as e, always as t } from \"../../../../core/promiseUtils.js\";\nclass r {\n  constructor(e, t) {\n    this._requester = e, this._apiKey = t, this._activeRequests = new Set();\n  }\n  get busy() {\n    return this._requester.busy;\n  }\n  request(r, s, o) {\n    const l = new AbortController(),\n      a = e(o, () => l.abort()),\n      n = {\n        signal: l.signal,\n        query: {\n          token: this._apiKey\n        }\n      },\n      i = this._requester.request(r, s, n),\n      u = {\n        response: i,\n        abortController: l,\n        abortHandle: a\n      };\n    return this._activeRequests.add(u), t(i, () => {\n      u.abortController = null, u.abortHandle?.remove(), u.abortHandle = null, this._activeRequests.delete(u);\n    }), i;\n  }\n  cancelAll() {\n    this._activeRequests.forEach(e => {\n      e.abortController?.abort(), e.abortController = null, e.abortHandle?.remove();\n    }), this._activeRequests.clear();\n  }\n}\nexport { r as I3SStreamDataController };","map":{"version":3,"names":["onAbortOrThrow","e","always","t","r","constructor","_requester","_apiKey","_activeRequests","Set","busy","request","s","o","l","AbortController","a","abort","n","signal","query","token","i","u","response","abortController","abortHandle","add","remove","delete","cancelAll","forEach","clear","I3SStreamDataController"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/i3s/I3SStreamDataController.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{onAbortOrThrow as e,always as t}from\"../../../../core/promiseUtils.js\";class r{constructor(e,t){this._requester=e,this._apiKey=t,this._activeRequests=new Set}get busy(){return this._requester.busy}request(r,s,o){const l=new AbortController,a=e(o,(()=>l.abort())),n={signal:l.signal,query:{token:this._apiKey}},i=this._requester.request(r,s,n),u={response:i,abortController:l,abortHandle:a};return this._activeRequests.add(u),t(i,(()=>{u.abortController=null,u.abortHandle?.remove(),u.abortHandle=null,this._activeRequests.delete(u)})),i}cancelAll(){this._activeRequests.forEach((e=>{e.abortController?.abort(),e.abortController=null,e.abortHandle?.remove()})),this._activeRequests.clear()}}export{r as I3SStreamDataController};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,cAAc,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,QAAK,kCAAkC;AAAC,MAAMC,CAAC;EAACC,WAAWA,CAACJ,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACG,UAAU,GAACL,CAAC,EAAC,IAAI,CAACM,OAAO,GAACJ,CAAC,EAAC,IAAI,CAACK,eAAe,GAAC,IAAIC,GAAG;EAAA;EAAC,IAAIC,IAAIA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACJ,UAAU,CAACI,IAAI;EAAA;EAACC,OAAOA,CAACP,CAAC,EAACQ,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAIC,eAAe;MAACC,CAAC,GAACf,CAAC,CAACY,CAAC,EAAE,MAAIC,CAAC,CAACG,KAAK,EAAE,CAAE;MAACC,CAAC,GAAC;QAACC,MAAM,EAACL,CAAC,CAACK,MAAM;QAACC,KAAK,EAAC;UAACC,KAAK,EAAC,IAAI,CAACd;QAAO;MAAC,CAAC;MAACe,CAAC,GAAC,IAAI,CAAChB,UAAU,CAACK,OAAO,CAACP,CAAC,EAACQ,CAAC,EAACM,CAAC,CAAC;MAACK,CAAC,GAAC;QAACC,QAAQ,EAACF,CAAC;QAACG,eAAe,EAACX,CAAC;QAACY,WAAW,EAACV;MAAC,CAAC;IAAC,OAAO,IAAI,CAACR,eAAe,CAACmB,GAAG,CAACJ,CAAC,CAAC,EAACpB,CAAC,CAACmB,CAAC,EAAE,MAAI;MAACC,CAAC,CAACE,eAAe,GAAC,IAAI,EAACF,CAAC,CAACG,WAAW,EAAEE,MAAM,EAAE,EAACL,CAAC,CAACG,WAAW,GAAC,IAAI,EAAC,IAAI,CAAClB,eAAe,CAACqB,MAAM,CAACN,CAAC,CAAC;IAAA,CAAC,CAAE,EAACD,CAAC;EAAA;EAACQ,SAASA,CAAA,EAAE;IAAC,IAAI,CAACtB,eAAe,CAACuB,OAAO,CAAE9B,CAAC,IAAE;MAACA,CAAC,CAACwB,eAAe,EAAER,KAAK,EAAE,EAAChB,CAAC,CAACwB,eAAe,GAAC,IAAI,EAACxB,CAAC,CAACyB,WAAW,EAAEE,MAAM,EAAE;IAAA,CAAC,CAAE,EAAC,IAAI,CAACpB,eAAe,CAACwB,KAAK,EAAE;EAAA;AAAC;AAAC,SAAO5B,CAAC,IAAI6B,uBAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}