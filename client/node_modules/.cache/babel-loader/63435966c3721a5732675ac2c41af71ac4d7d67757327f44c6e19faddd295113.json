{"ast":null,"code":"import _classCallCheck from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nvar t = \"esriJSAPIOAuth\";\nvar e = /*#__PURE__*/function () {\n  function e(t, _e) {\n    _classCallCheck(this, e);\n    this.oAuthInfo = null, this.storage = null, this.appId = null, this.codeVerifier = null, this.expires = null, this.refreshToken = null, this.ssl = null, this.stateUID = null, this.token = null, this.userId = null, this.oAuthInfo = t, this.storage = _e, this._init();\n  }\n  _createClass(e, [{\n    key: \"isValid\",\n    value: function isValid() {\n      var t = !1;\n      if (this.oAuthInfo && this.userId && (this.refreshToken || this.token)) if (null == this.expires && this.refreshToken) t = !0;else if (this.expires) {\n        var _e2 = Date.now();\n        if (this.expires > _e2) {\n          (this.expires - _e2) / 1e3 > 60 * this.oAuthInfo.minTimeUntilExpiration && (t = !0);\n        }\n      }\n      return t;\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      if (!this.storage) return !1;\n      var _e3 = this._load(),\n        s = this.oAuthInfo;\n      if (s && s.authNamespace && s.portalUrl) {\n        var r = _e3[s.authNamespace];\n        r || (r = _e3[s.authNamespace] = {}), this.appId || (this.appId = s.appId), r[s.portalUrl] = {\n          appId: this.appId,\n          codeVerifier: this.codeVerifier,\n          expires: this.expires,\n          refreshToken: this.refreshToken,\n          ssl: this.ssl,\n          stateUID: this.stateUID,\n          token: this.token,\n          userId: this.userId\n        };\n        try {\n          this.storage.setItem(t, JSON.stringify(_e3));\n        } catch (i) {\n          return console.warn(i), !1;\n        }\n        return !0;\n      }\n      return !1;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _e4 = this._load(),\n        s = this.oAuthInfo;\n      if (s && s.appId && s.portalUrl && (null == this.expires || this.expires > Date.now()) && (this.refreshToken || this.token)) {\n        var _t = s.portalUrl.replace(/^http:/i, \"https:\") + \"/sharing/rest/oauth2/revokeToken\",\n          _e5 = new FormData();\n        if (_e5.append(\"f\", \"json\"), _e5.append(\"auth_token\", this.refreshToken || this.token), _e5.append(\"client_id\", s.appId), _e5.append(\"token_type_hint\", this.refreshToken ? \"refresh_token\" : \"access_token\"), \"function\" == typeof navigator.sendBeacon) navigator.sendBeacon(_t, _e5);else {\n          var _s = new XMLHttpRequest();\n          _s.open(\"POST\", _t), _s.send(_e5);\n        }\n      }\n      if (s && s.authNamespace && s.portalUrl && this.storage) {\n        var r = _e4[s.authNamespace];\n        if (r) {\n          delete r[s.portalUrl];\n          try {\n            this.storage.setItem(t, JSON.stringify(_e4));\n          } catch (i) {\n            console.log(i);\n          }\n        }\n      }\n      s && (s._oAuthCred = null, this.oAuthInfo = null);\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var t = this._load(),\n        _e6 = this.oAuthInfo;\n      if (_e6 && _e6.authNamespace && _e6.portalUrl) {\n        var s = t[_e6.authNamespace];\n        s && (s = s[_e6.portalUrl], s && (this.appId = s.appId, this.codeVerifier = s.codeVerifier, this.expires = s.expires, this.refreshToken = s.refreshToken, this.ssl = s.ssl, this.stateUID = s.stateUID, this.token = s.token, this.userId = s.userId));\n      }\n    }\n  }, {\n    key: \"_load\",\n    value: function _load() {\n      var _e7 = {};\n      if (this.storage) {\n        var i = this.storage.getItem(t);\n        if (i) try {\n          _e7 = JSON.parse(i);\n        } catch (s) {\n          console.warn(s);\n        }\n      }\n      return _e7;\n    }\n  }]);\n  return e;\n}();\ne.prototype.declaredClass = \"esri.identity.OAuthCredential\";\nexport { e as default };","map":{"version":3,"names":["t","e","_classCallCheck","oAuthInfo","storage","appId","codeVerifier","expires","refreshToken","ssl","stateUID","token","userId","_init","_createClass","key","value","isValid","Date","now","minTimeUntilExpiration","save","_load","s","authNamespace","portalUrl","r","setItem","JSON","stringify","i","console","warn","destroy","replace","FormData","append","navigator","sendBeacon","XMLHttpRequest","open","send","log","_oAuthCred","getItem","parse","prototype","declaredClass","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/identity/OAuthCredential.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst t=\"esriJSAPIOAuth\";class e{constructor(t,e){this.oAuthInfo=null,this.storage=null,this.appId=null,this.codeVerifier=null,this.expires=null,this.refreshToken=null,this.ssl=null,this.stateUID=null,this.token=null,this.userId=null,this.oAuthInfo=t,this.storage=e,this._init()}isValid(){let t=!1;if(this.oAuthInfo&&this.userId&&(this.refreshToken||this.token))if(null==this.expires&&this.refreshToken)t=!0;else if(this.expires){const e=Date.now();if(this.expires>e){(this.expires-e)/1e3>60*this.oAuthInfo.minTimeUntilExpiration&&(t=!0)}}return t}save(){if(!this.storage)return!1;const e=this._load(),s=this.oAuthInfo;if(s&&s.authNamespace&&s.portalUrl){let r=e[s.authNamespace];r||(r=e[s.authNamespace]={}),this.appId||(this.appId=s.appId),r[s.portalUrl]={appId:this.appId,codeVerifier:this.codeVerifier,expires:this.expires,refreshToken:this.refreshToken,ssl:this.ssl,stateUID:this.stateUID,token:this.token,userId:this.userId};try{this.storage.setItem(t,JSON.stringify(e))}catch(i){return console.warn(i),!1}return!0}return!1}destroy(){const e=this._load(),s=this.oAuthInfo;if(s&&s.appId&&s.portalUrl&&(null==this.expires||this.expires>Date.now())&&(this.refreshToken||this.token)){const t=s.portalUrl.replace(/^http:/i,\"https:\")+\"/sharing/rest/oauth2/revokeToken\",e=new FormData;if(e.append(\"f\",\"json\"),e.append(\"auth_token\",this.refreshToken||this.token),e.append(\"client_id\",s.appId),e.append(\"token_type_hint\",this.refreshToken?\"refresh_token\":\"access_token\"),\"function\"==typeof navigator.sendBeacon)navigator.sendBeacon(t,e);else{const s=new XMLHttpRequest;s.open(\"POST\",t),s.send(e)}}if(s&&s.authNamespace&&s.portalUrl&&this.storage){const r=e[s.authNamespace];if(r){delete r[s.portalUrl];try{this.storage.setItem(t,JSON.stringify(e))}catch(i){console.log(i)}}}s&&(s._oAuthCred=null,this.oAuthInfo=null)}_init(){const t=this._load(),e=this.oAuthInfo;if(e&&e.authNamespace&&e.portalUrl){let s=t[e.authNamespace];s&&(s=s[e.portalUrl],s&&(this.appId=s.appId,this.codeVerifier=s.codeVerifier,this.expires=s.expires,this.refreshToken=s.refreshToken,this.ssl=s.ssl,this.stateUID=s.stateUID,this.token=s.token,this.userId=s.userId))}}_load(){let e={};if(this.storage){const i=this.storage.getItem(t);if(i)try{e=JSON.parse(i)}catch(s){console.warn(s)}}return e}}e.prototype.declaredClass=\"esri.identity.OAuthCredential\";export{e as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}