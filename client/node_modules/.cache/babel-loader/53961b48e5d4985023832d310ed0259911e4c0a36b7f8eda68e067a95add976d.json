{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { packInterleavedBuffer as e } from \"../../../support/buffer/workerHelper.js\";\nimport { EdgeInputBufferLayout as t } from \"./bufferLayouts.js\";\nimport { extractEdges as n } from \"./edgePreprocessing.js\";\nimport { extract as s, extractEdgeInformation as r, extractEdgeLocationsLayout as i, extractComponentsEdgeLocationsLayout as a } from \"./edgeProcessing.js\";\nclass o {\n  async extract(e) {\n    const t = c(e),\n      n = s(t),\n      r = [t.data.buffer];\n    return {\n      result: l(n, r),\n      transferList: r\n    };\n  }\n  async extractComponentsEdgeLocations(t) {\n    const s = c(t),\n      i = r(s.data, s.skipDeduplicate, s.indices, s.indicesLength),\n      a = n(i, p, g),\n      o = [];\n    return {\n      result: e(a.regular.instancesData, o),\n      transferList: o\n    };\n  }\n  async extractEdgeLocations(t) {\n    const s = c(t),\n      i = r(s.data, s.skipDeduplicate, s.indices, s.indicesLength),\n      a = n(i, f, g),\n      o = [];\n    return {\n      result: e(a.regular.instancesData, o),\n      transferList: o\n    };\n  }\n}\nfunction c(e) {\n  return {\n    data: t.createView(e.dataBuffer),\n    indices: \"Uint32Array\" === e.indicesType ? new Uint32Array(e.indices) : \"Uint16Array\" === e.indicesType ? new Uint16Array(e.indices) : e.indices,\n    indicesLength: e.indicesLength,\n    writerSettings: e.writerSettings,\n    skipDeduplicate: e.skipDeduplicate\n  };\n}\nfunction l(t, n) {\n  n.push(t.regular.lodInfo.lengths.buffer), n.push(t.silhouette.lodInfo.lengths.buffer);\n  return {\n    regular: {\n      instancesData: e(t.regular.instancesData, n),\n      lodInfo: {\n        lengths: t.regular.lodInfo.lengths.buffer\n      }\n    },\n    silhouette: {\n      instancesData: e(t.silhouette.instancesData, n),\n      lodInfo: {\n        lengths: t.silhouette.lodInfo.lengths.buffer\n      }\n    },\n    averageEdgeLength: t.averageEdgeLength\n  };\n}\nclass u {\n  allocate(e) {\n    return i.createBuffer(e);\n  }\n  trim(e, t) {\n    return e.slice(0, t);\n  }\n  write(e, t, n) {\n    e.position0.setVec(t, n.position0), e.position1.setVec(t, n.position1);\n  }\n}\nclass d {\n  allocate(e) {\n    return a.createBuffer(e);\n  }\n  trim(e, t) {\n    return e.slice(0, t);\n  }\n  write(e, t, n) {\n    e.position0.setVec(t, n.position0), e.position1.setVec(t, n.position1), e.componentIndex.set(t, n.componentIndex);\n  }\n}\nconst f = new u(),\n  p = new d(),\n  g = {\n    allocate: () => null,\n    write: () => {},\n    trim: () => null\n  };\nexport { o as default };","map":{"version":3,"names":["packInterleavedBuffer","e","EdgeInputBufferLayout","t","extractEdges","n","extract","s","extractEdgeInformation","r","extractEdgeLocationsLayout","i","extractComponentsEdgeLocationsLayout","a","o","c","data","buffer","result","l","transferList","extractComponentsEdgeLocations","skipDeduplicate","indices","indicesLength","p","g","regular","instancesData","extractEdgeLocations","f","createView","dataBuffer","indicesType","Uint32Array","Uint16Array","writerSettings","push","lodInfo","lengths","silhouette","averageEdgeLength","u","allocate","createBuffer","trim","slice","write","position0","setVec","position1","d","componentIndex","set","default"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{packInterleavedBuffer as e}from\"../../../support/buffer/workerHelper.js\";import{EdgeInputBufferLayout as t}from\"./bufferLayouts.js\";import{extractEdges as n}from\"./edgePreprocessing.js\";import{extract as s,extractEdgeInformation as r,extractEdgeLocationsLayout as i,extractComponentsEdgeLocationsLayout as a}from\"./edgeProcessing.js\";class o{async extract(e){const t=c(e),n=s(t),r=[t.data.buffer];return{result:l(n,r),transferList:r}}async extractComponentsEdgeLocations(t){const s=c(t),i=r(s.data,s.skipDeduplicate,s.indices,s.indicesLength),a=n(i,p,g),o=[];return{result:e(a.regular.instancesData,o),transferList:o}}async extractEdgeLocations(t){const s=c(t),i=r(s.data,s.skipDeduplicate,s.indices,s.indicesLength),a=n(i,f,g),o=[];return{result:e(a.regular.instancesData,o),transferList:o}}}function c(e){return{data:t.createView(e.dataBuffer),indices:\"Uint32Array\"===e.indicesType?new Uint32Array(e.indices):\"Uint16Array\"===e.indicesType?new Uint16Array(e.indices):e.indices,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function l(t,n){n.push(t.regular.lodInfo.lengths.buffer),n.push(t.silhouette.lodInfo.lengths.buffer);return{regular:{instancesData:e(t.regular.instancesData,n),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:e(t.silhouette.instancesData,n),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}class u{allocate(e){return i.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}}class d{allocate(e){return a.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}}const f=new u,p=new d,g={allocate:()=>null,write:()=>{},trim:()=>null};export{o as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}