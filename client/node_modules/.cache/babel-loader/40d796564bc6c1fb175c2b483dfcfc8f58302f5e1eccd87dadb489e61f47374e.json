{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isNone as e } from \"../../../../../../core/maybe.js\";\nimport { MARKER_SIZE_PER_LINE_WIDTH as r } from \"../../../../support/engineContent/marker.js\";\nimport { FloatPassUniform as o } from \"../../shaderModules/FloatPassUniform.js\";\nimport { glsl as a } from \"../../shaderModules/interfaces.js\";\nimport { LineMarkerSpace as t } from \"../../../shaders/LineMarkerTechniqueConfiguration.js\";\nfunction i(i, n) {\n  const d = i.vertex;\n  i.constants.add(\"markerSizePerLineWidth\", \"float\", r), d.uniforms.add(new o(\"pixelRatio\", (e, r) => r.camera.pixelRatio)), e(d.uniforms.get(\"markerScale\")) && d.constants.add(\"markerScale\", \"float\", 1), d.code.add(a`float getLineWidth() {\nreturn max(getSize(), 1.0) * pixelRatio;\n}\nfloat getScreenMarkerSize() {\nreturn markerSizePerLineWidth * markerScale * getLineWidth();\n}`), n.space === t.World && (d.constants.add(\"maxSegmentLengthFraction\", \"float\", .45), d.uniforms.add(new o(\"perRenderPixelRatio\", (e, r) => r.camera.perRenderPixelRatio)), d.code.add(a`float getWorldMarkerSize(vec4 pos) {\nfloat distanceToCamera = length(pos.xyz);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nreturn getScreenMarkerSize() * screenToWorldRatio;\n}\nbool areWorldMarkersHidden(vec4 pos, vec4 other) {\nvec3 midPoint = mix(pos.xyz, other.xyz, 0.5);\nfloat distanceToCamera = length(midPoint);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nfloat worldMarkerSize = getScreenMarkerSize() * screenToWorldRatio;\nfloat segmentLen = length(pos.xyz - other.xyz);\nreturn worldMarkerSize > maxSegmentLengthFraction * segmentLen;\n}`));\n}\nexport { i as MarkerSizing };","map":{"version":3,"names":["isNone","e","MARKER_SIZE_PER_LINE_WIDTH","r","FloatPassUniform","o","glsl","a","LineMarkerSpace","t","i","n","d","vertex","constants","add","uniforms","camera","pixelRatio","get","code","space","World","perRenderPixelRatio","MarkerSizing"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../../core/maybe.js\";import{MARKER_SIZE_PER_LINE_WIDTH as r}from\"../../../../support/engineContent/marker.js\";import{FloatPassUniform as o}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as a}from\"../../shaderModules/interfaces.js\";import{LineMarkerSpace as t}from\"../../../shaders/LineMarkerTechniqueConfiguration.js\";function i(i,n){const d=i.vertex;i.constants.add(\"markerSizePerLineWidth\",\"float\",r),d.uniforms.add(new o(\"pixelRatio\",((e,r)=>r.camera.pixelRatio))),e(d.uniforms.get(\"markerScale\"))&&d.constants.add(\"markerScale\",\"float\",1),d.code.add(a`float getLineWidth() {\nreturn max(getSize(), 1.0) * pixelRatio;\n}\nfloat getScreenMarkerSize() {\nreturn markerSizePerLineWidth * markerScale * getLineWidth();\n}`),n.space===t.World&&(d.constants.add(\"maxSegmentLengthFraction\",\"float\",.45),d.uniforms.add(new o(\"perRenderPixelRatio\",((e,r)=>r.camera.perRenderPixelRatio))),d.code.add(a`float getWorldMarkerSize(vec4 pos) {\nfloat distanceToCamera = length(pos.xyz);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nreturn getScreenMarkerSize() * screenToWorldRatio;\n}\nbool areWorldMarkersHidden(vec4 pos, vec4 other) {\nvec3 midPoint = mix(pos.xyz, other.xyz, 0.5);\nfloat distanceToCamera = length(midPoint);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nfloat worldMarkerSize = getScreenMarkerSize() * screenToWorldRatio;\nfloat segmentLen = length(pos.xyz - other.xyz);\nreturn worldMarkerSize > maxSegmentLengthFraction * segmentLen;\n}`))}export{i as MarkerSizing};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAC,QAAK,iCAAiC;AAAC,SAAOC,0BAA0B,IAAIC,CAAC,QAAK,6CAA6C;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,yCAAyC;AAAC,SAAOC,IAAI,IAAIC,CAAC,QAAK,mCAAmC;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,sDAAsD;AAAC,SAASC,CAACA,CAACA,CAAC,EAACC,CAAC,EAAC;EAAC,MAAMC,CAAC,GAACF,CAAC,CAACG,MAAM;EAACH,CAAC,CAACI,SAAS,CAACC,GAAG,CAAC,wBAAwB,EAAC,OAAO,EAACZ,CAAC,CAAC,EAACS,CAAC,CAACI,QAAQ,CAACD,GAAG,CAAC,IAAIV,CAAC,CAAC,YAAY,EAAE,CAACJ,CAAC,EAACE,CAAC,KAAGA,CAAC,CAACc,MAAM,CAACC,UAAU,CAAE,CAAC,EAACjB,CAAC,CAACW,CAAC,CAACI,QAAQ,CAACG,GAAG,CAAC,aAAa,CAAC,CAAC,IAAEP,CAAC,CAACE,SAAS,CAACC,GAAG,CAAC,aAAa,EAAC,OAAO,EAAC,CAAC,CAAC,EAACH,CAAC,CAACQ,IAAI,CAACL,GAAG,CAACR,CAAE;AAC3lB;AACA;AACA;AACA;AACA,EAAE,CAAC,EAACI,CAAC,CAACU,KAAK,KAAGZ,CAAC,CAACa,KAAK,KAAGV,CAAC,CAACE,SAAS,CAACC,GAAG,CAAC,0BAA0B,EAAC,OAAO,EAAC,GAAG,CAAC,EAACH,CAAC,CAACI,QAAQ,CAACD,GAAG,CAAC,IAAIV,CAAC,CAAC,qBAAqB,EAAE,CAACJ,CAAC,EAACE,CAAC,KAAGA,CAAC,CAACc,MAAM,CAACM,mBAAmB,CAAE,CAAC,EAACX,CAAC,CAACQ,IAAI,CAACL,GAAG,CAACR,CAAE;AAChL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,CAAC,CAAC;AAAA;AAAC,SAAOG,CAAC,IAAIc,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}