{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { clamp as t } from \"../../../../core/mathUtils.js\";\nimport { isSome as e } from \"../../../../core/maybe.js\";\nimport { c as r, g as n } from \"../../../../chunks/vec3.js\";\nimport { c as o } from \"../../../../chunks/vec3f64.js\";\nimport { wrap as i } from \"../../../../geometry/support/ray.js\";\nimport { interactionDirectionTowardsConstraintMinimization as s, defaultConstraintOptions as c, hasConstraintType as a, adjustRangeForInteraction as m } from \"./common.js\";\nimport { ConstraintTypes as u } from \"./ConstraintTypes.js\";\nimport { InteractionType as p } from \"./InteractionType.js\";\nimport { closestPointOnRay as f } from \"../../support/intersectionUtils.js\";\nfunction d(t, n) {\n  let o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : c;\n  const a = l(t, n, o);\n  if (0 === a) return !1;\n  const m = t.renderCoordsHelper,\n    u = m.getAltitude(n.eye) + a,\n    p = s(n, o.interactionDirection, T(t, n, Math.sign(a), M), C),\n    d = r(h, n.viewForward),\n    y = m.intersectInfiniteManifold(i(n.eye, p), u, A);\n  return n.eye = e(y) ? y : m.setAltitude(A, u, n.eye), n.center = f(A, n.eye, d, n.center), !0;\n}\nfunction l(e, r) {\n  let n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : c;\n  if (!y(e, n) || !e.state.constraints.altitude) return 0;\n  const o = x(e.state.constraints.altitude, g);\n  j(e, n, o);\n  const i = e.renderCoordsHelper.getAltitude(r.eye),\n    s = t(i, o.min, o.max) - i;\n  return Math.abs(s) <= 1e-6 ? 0 : s;\n}\nfunction y(t, e) {\n  const r = t.state.constraints.altitude;\n  return !(!t.state.isGlobal || !r) && (e.interactionType !== p.TUMBLE || !a(e.selection, u.TILT));\n}\nfunction j(t, e, r) {\n  const n = e.interactionType;\n  if (n === p.NONE) return;\n  const {\n      min: o,\n      max: i\n    } = r,\n    {\n      interactionStartCamera: s,\n      interactionFactor: c\n    } = e;\n  if (!s) return;\n  const a = n === p.TUMBLE || n === p.ZOOM,\n    u = l(t, s),\n    f = 0 === u ? 0 : t.renderCoordsHelper.getAltitude(s.eye);\n  r.min = o, r.max = i;\n  m(u, f, a, c, .05 * f, r);\n}\nfunction T(t, e, r, o) {\n  return t.renderCoordsHelper.worldUpAtPosition(e.eye, o), n(o, o, r), o;\n}\nfunction x(t, e) {\n  return e.min = t.min, e.max = t.max, e;\n}\nconst g = {\n    min: 0,\n    max: 0\n  },\n  C = o(),\n  M = o(),\n  h = o(),\n  A = o();\nexport { d as applyAltitudeConstraint, l as getAltitudeConstraintError };","map":{"version":3,"names":["clamp","t","isSome","e","c","r","g","n","o","wrap","i","interactionDirectionTowardsConstraintMinimization","s","defaultConstraintOptions","hasConstraintType","a","adjustRangeForInteraction","m","ConstraintTypes","u","InteractionType","p","closestPointOnRay","f","d","arguments","length","undefined","l","renderCoordsHelper","getAltitude","eye","interactionDirection","T","Math","sign","M","C","h","viewForward","y","intersectInfiniteManifold","A","setAltitude","center","state","constraints","altitude","x","j","min","max","abs","isGlobal","interactionType","TUMBLE","selection","TILT","NONE","interactionStartCamera","interactionFactor","ZOOM","worldUpAtPosition","applyAltitudeConstraint","getAltitudeConstraintError"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/camera/constraintUtils/altitude.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{isSome as e}from\"../../../../core/maybe.js\";import{c as r,g as n}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{wrap as i}from\"../../../../geometry/support/ray.js\";import{interactionDirectionTowardsConstraintMinimization as s,defaultConstraintOptions as c,hasConstraintType as a,adjustRangeForInteraction as m}from\"./common.js\";import{ConstraintTypes as u}from\"./ConstraintTypes.js\";import{InteractionType as p}from\"./InteractionType.js\";import{closestPointOnRay as f}from\"../../support/intersectionUtils.js\";function d(t,n,o=c){const a=l(t,n,o);if(0===a)return!1;const m=t.renderCoordsHelper,u=m.getAltitude(n.eye)+a,p=s(n,o.interactionDirection,T(t,n,Math.sign(a),M),C),d=r(h,n.viewForward),y=m.intersectInfiniteManifold(i(n.eye,p),u,A);return n.eye=e(y)?y:m.setAltitude(A,u,n.eye),n.center=f(A,n.eye,d,n.center),!0}function l(e,r,n=c){if(!y(e,n)||!e.state.constraints.altitude)return 0;const o=x(e.state.constraints.altitude,g);j(e,n,o);const i=e.renderCoordsHelper.getAltitude(r.eye),s=t(i,o.min,o.max)-i;return Math.abs(s)<=1e-6?0:s}function y(t,e){const r=t.state.constraints.altitude;return!(!t.state.isGlobal||!r)&&(e.interactionType!==p.TUMBLE||!a(e.selection,u.TILT))}function j(t,e,r){const n=e.interactionType;if(n===p.NONE)return;const{min:o,max:i}=r,{interactionStartCamera:s,interactionFactor:c}=e;if(!s)return;const a=n===p.TUMBLE||n===p.ZOOM,u=l(t,s),f=0===u?0:t.renderCoordsHelper.getAltitude(s.eye);r.min=o,r.max=i;m(u,f,a,c,.05*f,r)}function T(t,e,r,o){return t.renderCoordsHelper.worldUpAtPosition(e.eye,o),n(o,o,r),o}function x(t,e){return e.min=t.min,e.max=t.max,e}const g={min:0,max:0},C=o(),M=o(),h=o(),A=o();export{d as applyAltitudeConstraint,l as getAltitudeConstraintError};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}