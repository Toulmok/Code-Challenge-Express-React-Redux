{"ast":null,"code":"/*!\n * @esri/arcgis-html-sanitizer - v3.0.1 - Tue Nov 15 2022 09:46:54 GMT-0800 (Pacific Standard Time)\n * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.\n * Apache-2.0\n * \n * js-xss\n * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>\n * http://ucdok.com\n * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details\n */\n/**\n * Determine if the value is a plain object.\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n */\nvar isPlainObject = function isPlainObject(value) {\n  if (typeof value !== \"object\" || value === null) {\n    return false;\n  }\n  if (Object.prototype.toString.call(value) !== \"[object Object]\") {\n    return false;\n  }\n  var proto = Object.getPrototypeOf(value);\n  if (proto === null) {\n    return true;\n  }\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\nvar lib$1 = {\n  exports: {}\n};\nvar _default$1 = {};\nvar lib = {\n  exports: {}\n};\nvar _default = {};\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nfunction getDefaultWhiteList$1() {\n  // 白名单值说明：\n  // true: 允许该属性\n  // Function: function (val) { } 返回true表示允许该属性，其他值均表示不允许\n  // RegExp: regexp.test(val) 返回true表示允许该属性，其他值均表示不允许\n  // 除上面列出的值外均表示不允许\n  var whiteList = {};\n  whiteList['align-content'] = false; // default: auto\n  whiteList['align-items'] = false; // default: auto\n  whiteList['align-self'] = false; // default: auto\n  whiteList['alignment-adjust'] = false; // default: auto\n  whiteList['alignment-baseline'] = false; // default: baseline\n  whiteList['all'] = false; // default: depending on individual properties\n  whiteList['anchor-point'] = false; // default: none\n  whiteList['animation'] = false; // default: depending on individual properties\n  whiteList['animation-delay'] = false; // default: 0\n  whiteList['animation-direction'] = false; // default: normal\n  whiteList['animation-duration'] = false; // default: 0\n  whiteList['animation-fill-mode'] = false; // default: none\n  whiteList['animation-iteration-count'] = false; // default: 1\n  whiteList['animation-name'] = false; // default: none\n  whiteList['animation-play-state'] = false; // default: running\n  whiteList['animation-timing-function'] = false; // default: ease\n  whiteList['azimuth'] = false; // default: center\n  whiteList['backface-visibility'] = false; // default: visible\n  whiteList['background'] = true; // default: depending on individual properties\n  whiteList['background-attachment'] = true; // default: scroll\n  whiteList['background-clip'] = true; // default: border-box\n  whiteList['background-color'] = true; // default: transparent\n  whiteList['background-image'] = true; // default: none\n  whiteList['background-origin'] = true; // default: padding-box\n  whiteList['background-position'] = true; // default: 0% 0%\n  whiteList['background-repeat'] = true; // default: repeat\n  whiteList['background-size'] = true; // default: auto\n  whiteList['baseline-shift'] = false; // default: baseline\n  whiteList['binding'] = false; // default: none\n  whiteList['bleed'] = false; // default: 6pt\n  whiteList['bookmark-label'] = false; // default: content()\n  whiteList['bookmark-level'] = false; // default: none\n  whiteList['bookmark-state'] = false; // default: open\n  whiteList['border'] = true; // default: depending on individual properties\n  whiteList['border-bottom'] = true; // default: depending on individual properties\n  whiteList['border-bottom-color'] = true; // default: current color\n  whiteList['border-bottom-left-radius'] = true; // default: 0\n  whiteList['border-bottom-right-radius'] = true; // default: 0\n  whiteList['border-bottom-style'] = true; // default: none\n  whiteList['border-bottom-width'] = true; // default: medium\n  whiteList['border-collapse'] = true; // default: separate\n  whiteList['border-color'] = true; // default: depending on individual properties\n  whiteList['border-image'] = true; // default: none\n  whiteList['border-image-outset'] = true; // default: 0\n  whiteList['border-image-repeat'] = true; // default: stretch\n  whiteList['border-image-slice'] = true; // default: 100%\n  whiteList['border-image-source'] = true; // default: none\n  whiteList['border-image-width'] = true; // default: 1\n  whiteList['border-left'] = true; // default: depending on individual properties\n  whiteList['border-left-color'] = true; // default: current color\n  whiteList['border-left-style'] = true; // default: none\n  whiteList['border-left-width'] = true; // default: medium\n  whiteList['border-radius'] = true; // default: 0\n  whiteList['border-right'] = true; // default: depending on individual properties\n  whiteList['border-right-color'] = true; // default: current color\n  whiteList['border-right-style'] = true; // default: none\n  whiteList['border-right-width'] = true; // default: medium\n  whiteList['border-spacing'] = true; // default: 0\n  whiteList['border-style'] = true; // default: depending on individual properties\n  whiteList['border-top'] = true; // default: depending on individual properties\n  whiteList['border-top-color'] = true; // default: current color\n  whiteList['border-top-left-radius'] = true; // default: 0\n  whiteList['border-top-right-radius'] = true; // default: 0\n  whiteList['border-top-style'] = true; // default: none\n  whiteList['border-top-width'] = true; // default: medium\n  whiteList['border-width'] = true; // default: depending on individual properties\n  whiteList['bottom'] = false; // default: auto\n  whiteList['box-decoration-break'] = true; // default: slice\n  whiteList['box-shadow'] = true; // default: none\n  whiteList['box-sizing'] = true; // default: content-box\n  whiteList['box-snap'] = true; // default: none\n  whiteList['box-suppress'] = true; // default: show\n  whiteList['break-after'] = true; // default: auto\n  whiteList['break-before'] = true; // default: auto\n  whiteList['break-inside'] = true; // default: auto\n  whiteList['caption-side'] = false; // default: top\n  whiteList['chains'] = false; // default: none\n  whiteList['clear'] = true; // default: none\n  whiteList['clip'] = false; // default: auto\n  whiteList['clip-path'] = false; // default: none\n  whiteList['clip-rule'] = false; // default: nonzero\n  whiteList['color'] = true; // default: implementation dependent\n  whiteList['color-interpolation-filters'] = true; // default: auto\n  whiteList['column-count'] = false; // default: auto\n  whiteList['column-fill'] = false; // default: balance\n  whiteList['column-gap'] = false; // default: normal\n  whiteList['column-rule'] = false; // default: depending on individual properties\n  whiteList['column-rule-color'] = false; // default: current color\n  whiteList['column-rule-style'] = false; // default: medium\n  whiteList['column-rule-width'] = false; // default: medium\n  whiteList['column-span'] = false; // default: none\n  whiteList['column-width'] = false; // default: auto\n  whiteList['columns'] = false; // default: depending on individual properties\n  whiteList['contain'] = false; // default: none\n  whiteList['content'] = false; // default: normal\n  whiteList['counter-increment'] = false; // default: none\n  whiteList['counter-reset'] = false; // default: none\n  whiteList['counter-set'] = false; // default: none\n  whiteList['crop'] = false; // default: auto\n  whiteList['cue'] = false; // default: depending on individual properties\n  whiteList['cue-after'] = false; // default: none\n  whiteList['cue-before'] = false; // default: none\n  whiteList['cursor'] = false; // default: auto\n  whiteList['direction'] = false; // default: ltr\n  whiteList['display'] = true; // default: depending on individual properties\n  whiteList['display-inside'] = true; // default: auto\n  whiteList['display-list'] = true; // default: none\n  whiteList['display-outside'] = true; // default: inline-level\n  whiteList['dominant-baseline'] = false; // default: auto\n  whiteList['elevation'] = false; // default: level\n  whiteList['empty-cells'] = false; // default: show\n  whiteList['filter'] = false; // default: none\n  whiteList['flex'] = false; // default: depending on individual properties\n  whiteList['flex-basis'] = false; // default: auto\n  whiteList['flex-direction'] = false; // default: row\n  whiteList['flex-flow'] = false; // default: depending on individual properties\n  whiteList['flex-grow'] = false; // default: 0\n  whiteList['flex-shrink'] = false; // default: 1\n  whiteList['flex-wrap'] = false; // default: nowrap\n  whiteList['float'] = false; // default: none\n  whiteList['float-offset'] = false; // default: 0 0\n  whiteList['flood-color'] = false; // default: black\n  whiteList['flood-opacity'] = false; // default: 1\n  whiteList['flow-from'] = false; // default: none\n  whiteList['flow-into'] = false; // default: none\n  whiteList['font'] = true; // default: depending on individual properties\n  whiteList['font-family'] = true; // default: implementation dependent\n  whiteList['font-feature-settings'] = true; // default: normal\n  whiteList['font-kerning'] = true; // default: auto\n  whiteList['font-language-override'] = true; // default: normal\n  whiteList['font-size'] = true; // default: medium\n  whiteList['font-size-adjust'] = true; // default: none\n  whiteList['font-stretch'] = true; // default: normal\n  whiteList['font-style'] = true; // default: normal\n  whiteList['font-synthesis'] = true; // default: weight style\n  whiteList['font-variant'] = true; // default: normal\n  whiteList['font-variant-alternates'] = true; // default: normal\n  whiteList['font-variant-caps'] = true; // default: normal\n  whiteList['font-variant-east-asian'] = true; // default: normal\n  whiteList['font-variant-ligatures'] = true; // default: normal\n  whiteList['font-variant-numeric'] = true; // default: normal\n  whiteList['font-variant-position'] = true; // default: normal\n  whiteList['font-weight'] = true; // default: normal\n  whiteList['grid'] = false; // default: depending on individual properties\n  whiteList['grid-area'] = false; // default: depending on individual properties\n  whiteList['grid-auto-columns'] = false; // default: auto\n  whiteList['grid-auto-flow'] = false; // default: none\n  whiteList['grid-auto-rows'] = false; // default: auto\n  whiteList['grid-column'] = false; // default: depending on individual properties\n  whiteList['grid-column-end'] = false; // default: auto\n  whiteList['grid-column-start'] = false; // default: auto\n  whiteList['grid-row'] = false; // default: depending on individual properties\n  whiteList['grid-row-end'] = false; // default: auto\n  whiteList['grid-row-start'] = false; // default: auto\n  whiteList['grid-template'] = false; // default: depending on individual properties\n  whiteList['grid-template-areas'] = false; // default: none\n  whiteList['grid-template-columns'] = false; // default: none\n  whiteList['grid-template-rows'] = false; // default: none\n  whiteList['hanging-punctuation'] = false; // default: none\n  whiteList['height'] = true; // default: auto\n  whiteList['hyphens'] = false; // default: manual\n  whiteList['icon'] = false; // default: auto\n  whiteList['image-orientation'] = false; // default: auto\n  whiteList['image-resolution'] = false; // default: normal\n  whiteList['ime-mode'] = false; // default: auto\n  whiteList['initial-letters'] = false; // default: normal\n  whiteList['inline-box-align'] = false; // default: last\n  whiteList['justify-content'] = false; // default: auto\n  whiteList['justify-items'] = false; // default: auto\n  whiteList['justify-self'] = false; // default: auto\n  whiteList['left'] = false; // default: auto\n  whiteList['letter-spacing'] = true; // default: normal\n  whiteList['lighting-color'] = true; // default: white\n  whiteList['line-box-contain'] = false; // default: block inline replaced\n  whiteList['line-break'] = false; // default: auto\n  whiteList['line-grid'] = false; // default: match-parent\n  whiteList['line-height'] = false; // default: normal\n  whiteList['line-snap'] = false; // default: none\n  whiteList['line-stacking'] = false; // default: depending on individual properties\n  whiteList['line-stacking-ruby'] = false; // default: exclude-ruby\n  whiteList['line-stacking-shift'] = false; // default: consider-shifts\n  whiteList['line-stacking-strategy'] = false; // default: inline-line-height\n  whiteList['list-style'] = true; // default: depending on individual properties\n  whiteList['list-style-image'] = true; // default: none\n  whiteList['list-style-position'] = true; // default: outside\n  whiteList['list-style-type'] = true; // default: disc\n  whiteList['margin'] = true; // default: depending on individual properties\n  whiteList['margin-bottom'] = true; // default: 0\n  whiteList['margin-left'] = true; // default: 0\n  whiteList['margin-right'] = true; // default: 0\n  whiteList['margin-top'] = true; // default: 0\n  whiteList['marker-offset'] = false; // default: auto\n  whiteList['marker-side'] = false; // default: list-item\n  whiteList['marks'] = false; // default: none\n  whiteList['mask'] = false; // default: border-box\n  whiteList['mask-box'] = false; // default: see individual properties\n  whiteList['mask-box-outset'] = false; // default: 0\n  whiteList['mask-box-repeat'] = false; // default: stretch\n  whiteList['mask-box-slice'] = false; // default: 0 fill\n  whiteList['mask-box-source'] = false; // default: none\n  whiteList['mask-box-width'] = false; // default: auto\n  whiteList['mask-clip'] = false; // default: border-box\n  whiteList['mask-image'] = false; // default: none\n  whiteList['mask-origin'] = false; // default: border-box\n  whiteList['mask-position'] = false; // default: center\n  whiteList['mask-repeat'] = false; // default: no-repeat\n  whiteList['mask-size'] = false; // default: border-box\n  whiteList['mask-source-type'] = false; // default: auto\n  whiteList['mask-type'] = false; // default: luminance\n  whiteList['max-height'] = true; // default: none\n  whiteList['max-lines'] = false; // default: none\n  whiteList['max-width'] = true; // default: none\n  whiteList['min-height'] = true; // default: 0\n  whiteList['min-width'] = true; // default: 0\n  whiteList['move-to'] = false; // default: normal\n  whiteList['nav-down'] = false; // default: auto\n  whiteList['nav-index'] = false; // default: auto\n  whiteList['nav-left'] = false; // default: auto\n  whiteList['nav-right'] = false; // default: auto\n  whiteList['nav-up'] = false; // default: auto\n  whiteList['object-fit'] = false; // default: fill\n  whiteList['object-position'] = false; // default: 50% 50%\n  whiteList['opacity'] = false; // default: 1\n  whiteList['order'] = false; // default: 0\n  whiteList['orphans'] = false; // default: 2\n  whiteList['outline'] = false; // default: depending on individual properties\n  whiteList['outline-color'] = false; // default: invert\n  whiteList['outline-offset'] = false; // default: 0\n  whiteList['outline-style'] = false; // default: none\n  whiteList['outline-width'] = false; // default: medium\n  whiteList['overflow'] = false; // default: depending on individual properties\n  whiteList['overflow-wrap'] = false; // default: normal\n  whiteList['overflow-x'] = false; // default: visible\n  whiteList['overflow-y'] = false; // default: visible\n  whiteList['padding'] = true; // default: depending on individual properties\n  whiteList['padding-bottom'] = true; // default: 0\n  whiteList['padding-left'] = true; // default: 0\n  whiteList['padding-right'] = true; // default: 0\n  whiteList['padding-top'] = true; // default: 0\n  whiteList['page'] = false; // default: auto\n  whiteList['page-break-after'] = false; // default: auto\n  whiteList['page-break-before'] = false; // default: auto\n  whiteList['page-break-inside'] = false; // default: auto\n  whiteList['page-policy'] = false; // default: start\n  whiteList['pause'] = false; // default: implementation dependent\n  whiteList['pause-after'] = false; // default: implementation dependent\n  whiteList['pause-before'] = false; // default: implementation dependent\n  whiteList['perspective'] = false; // default: none\n  whiteList['perspective-origin'] = false; // default: 50% 50%\n  whiteList['pitch'] = false; // default: medium\n  whiteList['pitch-range'] = false; // default: 50\n  whiteList['play-during'] = false; // default: auto\n  whiteList['position'] = false; // default: static\n  whiteList['presentation-level'] = false; // default: 0\n  whiteList['quotes'] = false; // default: text\n  whiteList['region-fragment'] = false; // default: auto\n  whiteList['resize'] = false; // default: none\n  whiteList['rest'] = false; // default: depending on individual properties\n  whiteList['rest-after'] = false; // default: none\n  whiteList['rest-before'] = false; // default: none\n  whiteList['richness'] = false; // default: 50\n  whiteList['right'] = false; // default: auto\n  whiteList['rotation'] = false; // default: 0\n  whiteList['rotation-point'] = false; // default: 50% 50%\n  whiteList['ruby-align'] = false; // default: auto\n  whiteList['ruby-merge'] = false; // default: separate\n  whiteList['ruby-position'] = false; // default: before\n  whiteList['shape-image-threshold'] = false; // default: 0.0\n  whiteList['shape-outside'] = false; // default: none\n  whiteList['shape-margin'] = false; // default: 0\n  whiteList['size'] = false; // default: auto\n  whiteList['speak'] = false; // default: auto\n  whiteList['speak-as'] = false; // default: normal\n  whiteList['speak-header'] = false; // default: once\n  whiteList['speak-numeral'] = false; // default: continuous\n  whiteList['speak-punctuation'] = false; // default: none\n  whiteList['speech-rate'] = false; // default: medium\n  whiteList['stress'] = false; // default: 50\n  whiteList['string-set'] = false; // default: none\n  whiteList['tab-size'] = false; // default: 8\n  whiteList['table-layout'] = false; // default: auto\n  whiteList['text-align'] = true; // default: start\n  whiteList['text-align-last'] = true; // default: auto\n  whiteList['text-combine-upright'] = true; // default: none\n  whiteList['text-decoration'] = true; // default: none\n  whiteList['text-decoration-color'] = true; // default: currentColor\n  whiteList['text-decoration-line'] = true; // default: none\n  whiteList['text-decoration-skip'] = true; // default: objects\n  whiteList['text-decoration-style'] = true; // default: solid\n  whiteList['text-emphasis'] = true; // default: depending on individual properties\n  whiteList['text-emphasis-color'] = true; // default: currentColor\n  whiteList['text-emphasis-position'] = true; // default: over right\n  whiteList['text-emphasis-style'] = true; // default: none\n  whiteList['text-height'] = true; // default: auto\n  whiteList['text-indent'] = true; // default: 0\n  whiteList['text-justify'] = true; // default: auto\n  whiteList['text-orientation'] = true; // default: mixed\n  whiteList['text-overflow'] = true; // default: clip\n  whiteList['text-shadow'] = true; // default: none\n  whiteList['text-space-collapse'] = true; // default: collapse\n  whiteList['text-transform'] = true; // default: none\n  whiteList['text-underline-position'] = true; // default: auto\n  whiteList['text-wrap'] = true; // default: normal\n  whiteList['top'] = false; // default: auto\n  whiteList['transform'] = false; // default: none\n  whiteList['transform-origin'] = false; // default: 50% 50% 0\n  whiteList['transform-style'] = false; // default: flat\n  whiteList['transition'] = false; // default: depending on individual properties\n  whiteList['transition-delay'] = false; // default: 0s\n  whiteList['transition-duration'] = false; // default: 0s\n  whiteList['transition-property'] = false; // default: all\n  whiteList['transition-timing-function'] = false; // default: ease\n  whiteList['unicode-bidi'] = false; // default: normal\n  whiteList['vertical-align'] = false; // default: baseline\n  whiteList['visibility'] = false; // default: visible\n  whiteList['voice-balance'] = false; // default: center\n  whiteList['voice-duration'] = false; // default: auto\n  whiteList['voice-family'] = false; // default: implementation dependent\n  whiteList['voice-pitch'] = false; // default: medium\n  whiteList['voice-range'] = false; // default: medium\n  whiteList['voice-rate'] = false; // default: normal\n  whiteList['voice-stress'] = false; // default: normal\n  whiteList['voice-volume'] = false; // default: medium\n  whiteList['volume'] = false; // default: medium\n  whiteList['white-space'] = false; // default: normal\n  whiteList['widows'] = false; // default: 2\n  whiteList['width'] = true; // default: auto\n  whiteList['will-change'] = false; // default: auto\n  whiteList['word-break'] = true; // default: normal\n  whiteList['word-spacing'] = true; // default: normal\n  whiteList['word-wrap'] = true; // default: normal\n  whiteList['wrap-flow'] = false; // default: auto\n  whiteList['wrap-through'] = false; // default: wrap\n  whiteList['writing-mode'] = false; // default: horizontal-tb\n  whiteList['z-index'] = false; // default: auto\n\n  return whiteList;\n}\n\n/**\n * 匹配到白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onAttr(name, value, options) {\n  // do nothing\n}\n\n/**\n * 匹配到不在白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreAttr(name, value, options) {\n  // do nothing\n}\nvar REGEXP_URL_JAVASCRIPT = /javascript\\s*\\:/img;\n\n/**\n * 过滤属性值\n *\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction safeAttrValue$1(name, value) {\n  if (REGEXP_URL_JAVASCRIPT.test(value)) return '';\n  return value;\n}\n_default.whiteList = getDefaultWhiteList$1();\n_default.getDefaultWhiteList = getDefaultWhiteList$1;\n_default.onAttr = onAttr;\n_default.onIgnoreAttr = onIgnoreAttr;\n_default.safeAttrValue = safeAttrValue$1;\nvar util$1 = {\n  indexOf: function indexOf(arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function forEach(arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function trim(str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, '');\n  },\n  trimRight: function trimRight(str) {\n    if (String.prototype.trimRight) {\n      return str.trimRight();\n    }\n    return str.replace(/(\\s*$)/g, '');\n  }\n};\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar _$3 = util$1;\n\n/**\n * 解析style\n *\n * @param {String} css\n * @param {Function} onAttr 处理属性的函数\n *   参数格式： function (sourcePosition, position, name, value, source)\n * @return {String}\n */\nfunction parseStyle$1(css, onAttr) {\n  css = _$3.trimRight(css);\n  if (css[css.length - 1] !== ';') css += ';';\n  var cssLength = css.length;\n  var isParenthesisOpen = false;\n  var lastPos = 0;\n  var i = 0;\n  var retCSS = '';\n  function addNewAttr() {\n    // 如果没有正常的闭合圆括号，则直接忽略当前属性\n    if (!isParenthesisOpen) {\n      var source = _$3.trim(css.slice(lastPos, i));\n      var j = source.indexOf(':');\n      if (j !== -1) {\n        var name = _$3.trim(source.slice(0, j));\n        var value = _$3.trim(source.slice(j + 1));\n        // 必须有属性名称\n        if (name) {\n          var ret = onAttr(lastPos, retCSS.length, name, value, source);\n          if (ret) retCSS += ret + '; ';\n        }\n      }\n    }\n    lastPos = i + 1;\n  }\n  for (; i < cssLength; i++) {\n    var c = css[i];\n    if (c === '/' && css[i + 1] === '*') {\n      // 备注开始\n      var j = css.indexOf('*/', i + 2);\n      // 如果没有正常的备注结束，则后面的部分全部跳过\n      if (j === -1) break;\n      // 直接将当前位置调到备注结尾，并且初始化状态\n      i = j + 1;\n      lastPos = i + 1;\n      isParenthesisOpen = false;\n    } else if (c === '(') {\n      isParenthesisOpen = true;\n    } else if (c === ')') {\n      isParenthesisOpen = false;\n    } else if (c === ';') {\n      if (isParenthesisOpen) ;else {\n        addNewAttr();\n      }\n    } else if (c === '\\n') {\n      addNewAttr();\n    }\n  }\n  return _$3.trim(retCSS);\n}\nvar parser$2 = parseStyle$1;\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT$1 = _default;\nvar parseStyle = parser$2;\n\n/**\n * 返回值是否为空\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull$1(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * 浅拷贝对象\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject$1(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * 创建CSS过滤器\n *\n * @param {Object} options\n *   - {Object} whiteList\n *   - {Function} onAttr\n *   - {Function} onIgnoreAttr\n *   - {Function} safeAttrValue\n */\nfunction FilterCSS$2(options) {\n  options = shallowCopyObject$1(options || {});\n  options.whiteList = options.whiteList || DEFAULT$1.whiteList;\n  options.onAttr = options.onAttr || DEFAULT$1.onAttr;\n  options.onIgnoreAttr = options.onIgnoreAttr || DEFAULT$1.onIgnoreAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT$1.safeAttrValue;\n  this.options = options;\n}\nFilterCSS$2.prototype.process = function (css) {\n  // 兼容各种奇葩输入\n  css = css || '';\n  css = css.toString();\n  if (!css) return '';\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onAttr = options.onAttr;\n  var onIgnoreAttr = options.onIgnoreAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var retCSS = parseStyle(css, function (sourcePosition, position, name, value, source) {\n    var check = whiteList[name];\n    var isWhite = false;\n    if (check === true) isWhite = check;else if (typeof check === 'function') isWhite = check(value);else if (check instanceof RegExp) isWhite = check.test(value);\n    if (isWhite !== true) isWhite = false;\n\n    // 如果过滤后 value 为空则直接忽略\n    value = safeAttrValue(name, value);\n    if (!value) return;\n    var opts = {\n      position: position,\n      sourcePosition: sourcePosition,\n      source: source,\n      isWhite: isWhite\n    };\n    if (isWhite) {\n      var ret = onAttr(name, value, opts);\n      if (isNull$1(ret)) {\n        return name + ':' + value;\n      } else {\n        return ret;\n      }\n    } else {\n      var ret = onIgnoreAttr(name, value, opts);\n      if (!isNull$1(ret)) {\n        return ret;\n      }\n    }\n  });\n  return retCSS;\n};\nvar css = FilterCSS$2;\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\n(function (module, exports) {\n  var DEFAULT = _default;\n  var FilterCSS = css;\n\n  /**\n   * XSS过滤\n   *\n   * @param {String} css 要过滤的CSS代码\n   * @param {Object} options 选项：whiteList, onAttr, onIgnoreAttr\n   * @return {String}\n   */\n  function filterCSS(html, options) {\n    var xss = new FilterCSS(options);\n    return xss.process(html);\n  }\n\n  // 输出\n  exports = module.exports = filterCSS;\n  exports.FilterCSS = FilterCSS;\n  for (var i in DEFAULT) exports[i] = DEFAULT[i];\n})(lib, lib.exports);\nvar util = {\n  indexOf: function indexOf(arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function forEach(arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function trim(str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  },\n  spaceIndex: function spaceIndex(str) {\n    var reg = /\\s|\\n|\\t/;\n    var match = reg.exec(str);\n    return match ? match.index : -1;\n  }\n};\n\n/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS$1 = lib.exports.FilterCSS;\nvar getDefaultCSSWhiteList = lib.exports.getDefaultWhiteList;\nvar _$2 = util;\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\"autoplay\", \"controls\", \"crossorigin\", \"loop\", \"muted\", \"preload\", \"src\"],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    figcaption: [],\n    figure: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\"],\n    ins: [\"datetime\"],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    summary: [],\n    sup: [],\n    strong: [],\n    strike: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\"autoplay\", \"controls\", \"crossorigin\", \"loop\", \"muted\", \"playsinline\", \"poster\", \"preload\", \"src\", \"height\", \"width\"]\n  };\n}\nvar defaultCSSFilter = new FilterCSS$1();\n\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onIgnoreTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _$2.trim(value);\n    if (value === \"#\") return \"#\";\n    if (!(value.substr(0, 7) === \"http://\" || value.substr(0, 8) === \"https://\" || value.substr(0, 7) === \"mailto:\" || value.substr(0, 4) === \"tel:\" || value.substr(0, 11) === \"data:image/\" || value.substr(0, 6) === \"ftp://\" || value.substr(0, 2) === \"./\" || value.substr(0, 3) === \"../\" || value[0] === \"#\" || value[0] === \"/\")) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    }\n    // `url()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  }\n\n  // escape `<>\"` before returns\n  value = escapeAttrValue(value);\n  return value;\n}\n\n// RegExp list\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\\/\\*|\\*\\//gm;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 = /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a):/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:\\s*image\\//gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 = /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n\n/**\n * escape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\" ? String.fromCharCode(parseInt(code.substr(1), 16)) : String.fromCharCode(parseInt(code, 10));\n  });\n}\n\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeDangerHtml5Entities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_COLON, \":\").replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n  return _$2.trim(str2);\n}\n\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function next() {};\n  }\n  var isRemoveAllTag = !Array.isArray(tags);\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _$2.indexOf(tags, tag) !== -1;\n  }\n  var removeList = [];\n  var posStart = false;\n  return {\n    onIgnoreTag: function onIgnoreTag(tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([posStart !== false ? posStart : options.position, end]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function remove(html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n      _$2.forEach(removeList, function (pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    }\n  };\n}\n\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripCommentTag(html) {\n  var retHtml = \"\";\n  var lastPos = 0;\n  while (lastPos < html.length) {\n    var i = html.indexOf(\"<!--\", lastPos);\n    if (i === -1) {\n      retHtml += html.slice(lastPos);\n      break;\n    }\n    retHtml += html.slice(lastPos, i);\n    var j = html.indexOf(\"-->\", i);\n    if (j === -1) {\n      break;\n    }\n    lastPos = j + 3;\n  }\n  return retHtml;\n}\n\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function (char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n    return true;\n  });\n  return chars.join(\"\");\n}\n_default$1.whiteList = getDefaultWhiteList();\n_default$1.getDefaultWhiteList = getDefaultWhiteList;\n_default$1.onTag = onTag;\n_default$1.onIgnoreTag = onIgnoreTag;\n_default$1.onTagAttr = onTagAttr;\n_default$1.onIgnoreTagAttr = onIgnoreTagAttr;\n_default$1.safeAttrValue = safeAttrValue;\n_default$1.escapeHtml = escapeHtml;\n_default$1.escapeQuote = escapeQuote;\n_default$1.unescapeQuote = unescapeQuote;\n_default$1.escapeHtmlEntities = escapeHtmlEntities;\n_default$1.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\n_default$1.clearNonPrintableCharacter = clearNonPrintableCharacter;\n_default$1.friendlyAttrValue = friendlyAttrValue;\n_default$1.escapeAttrValue = escapeAttrValue;\n_default$1.onIgnoreTagStripAll = onIgnoreTagStripAll;\n_default$1.StripTagBody = StripTagBody;\n_default$1.stripCommentTag = stripCommentTag;\n_default$1.stripBlankChar = stripBlankChar;\n_default$1.cssFilter = defaultCSSFilter;\n_default$1.getDefaultCSSWhiteList = getDefaultCSSWhiteList;\nvar parser$1 = {};\n\n/**\n * Simple HTML Parser\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar _$1 = util;\n\n/**\n * get tag name\n *\n * @param {String} html e.g. '<a hef=\"#\">'\n * @return {String}\n */\nfunction getTagName(html) {\n  var i = _$1.spaceIndex(html);\n  var tagName;\n  if (i === -1) {\n    tagName = html.slice(1, -1);\n  } else {\n    tagName = html.slice(1, i + 1);\n  }\n  tagName = _$1.trim(tagName).toLowerCase();\n  if (tagName.slice(0, 1) === \"/\") tagName = tagName.slice(1);\n  if (tagName.slice(-1) === \"/\") tagName = tagName.slice(0, -1);\n  return tagName;\n}\n\n/**\n * is close tag?\n *\n * @param {String} html 如：'<a hef=\"#\">'\n * @return {Boolean}\n */\nfunction isClosing(html) {\n  return html.slice(0, 2) === \"</\";\n}\n\n/**\n * parse input html and returns processed html\n *\n * @param {String} html\n * @param {Function} onTag e.g. function (sourcePosition, position, tag, html, isClosing)\n * @param {Function} escapeHtml\n * @return {String}\n */\nfunction parseTag$1(html, onTag, escapeHtml) {\n  var rethtml = \"\";\n  var lastPos = 0;\n  var tagStart = false;\n  var quoteStart = false;\n  var currentPos = 0;\n  var len = html.length;\n  var currentTagName = \"\";\n  var currentHtml = \"\";\n  chariterator: for (currentPos = 0; currentPos < len; currentPos++) {\n    var c = html.charAt(currentPos);\n    if (tagStart === false) {\n      if (c === \"<\") {\n        tagStart = currentPos;\n        continue;\n      }\n    } else {\n      if (quoteStart === false) {\n        if (c === \"<\") {\n          rethtml += escapeHtml(html.slice(lastPos, currentPos));\n          tagStart = currentPos;\n          lastPos = currentPos;\n          continue;\n        }\n        if (c === \">\") {\n          rethtml += escapeHtml(html.slice(lastPos, tagStart));\n          currentHtml = html.slice(tagStart, currentPos + 1);\n          currentTagName = getTagName(currentHtml);\n          rethtml += onTag(tagStart, rethtml.length, currentTagName, currentHtml, isClosing(currentHtml));\n          lastPos = currentPos + 1;\n          tagStart = false;\n          continue;\n        }\n        if (c === '\"' || c === \"'\") {\n          var i = 1;\n          var ic = html.charAt(currentPos - i);\n          while (ic.trim() === \"\" || ic === \"=\") {\n            if (ic === \"=\") {\n              quoteStart = c;\n              continue chariterator;\n            }\n            ic = html.charAt(currentPos - ++i);\n          }\n        }\n      } else {\n        if (c === quoteStart) {\n          quoteStart = false;\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < html.length) {\n    rethtml += escapeHtml(html.substr(lastPos));\n  }\n  return rethtml;\n}\nvar REGEXP_ILLEGAL_ATTR_NAME = /[^a-zA-Z0-9\\\\_:.-]/gim;\n\n/**\n * parse input attributes and returns processed attributes\n *\n * @param {String} html e.g. `href=\"#\" target=\"_blank\"`\n * @param {Function} onAttr e.g. `function (name, value)`\n * @return {String}\n */\nfunction parseAttr$1(html, onAttr) {\n  var lastPos = 0;\n  var lastMarkPos = 0;\n  var retAttrs = [];\n  var tmpName = false;\n  var len = html.length;\n  function addAttr(name, value) {\n    name = _$1.trim(name);\n    name = name.replace(REGEXP_ILLEGAL_ATTR_NAME, \"\").toLowerCase();\n    if (name.length < 1) return;\n    var ret = onAttr(name, value || \"\");\n    if (ret) retAttrs.push(ret);\n  }\n\n  // 逐个分析字符\n  for (var i = 0; i < len; i++) {\n    var c = html.charAt(i);\n    var v, j;\n    if (tmpName === false && c === \"=\") {\n      tmpName = html.slice(lastPos, i);\n      lastPos = i + 1;\n      lastMarkPos = html.charAt(lastPos) === '\"' || html.charAt(lastPos) === \"'\" ? lastPos : findNextQuotationMark(html, i + 1);\n      continue;\n    }\n    if (tmpName !== false) {\n      if (i === lastMarkPos) {\n        j = html.indexOf(c, i + 1);\n        if (j === -1) {\n          break;\n        } else {\n          v = _$1.trim(html.slice(lastMarkPos + 1, j));\n          addAttr(tmpName, v);\n          tmpName = false;\n          i = j;\n          lastPos = i + 1;\n          continue;\n        }\n      }\n    }\n    if (/\\s|\\n|\\t/.test(c)) {\n      html = html.replace(/\\s|\\n|\\t/g, \" \");\n      if (tmpName === false) {\n        j = findNextEqual(html, i);\n        if (j === -1) {\n          v = _$1.trim(html.slice(lastPos, i));\n          addAttr(v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          i = j - 1;\n          continue;\n        }\n      } else {\n        j = findBeforeEqual(html, i - 1);\n        if (j === -1) {\n          v = _$1.trim(html.slice(lastPos, i));\n          v = stripQuoteWrap(v);\n          addAttr(tmpName, v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < html.length) {\n    if (tmpName === false) {\n      addAttr(html.slice(lastPos));\n    } else {\n      addAttr(tmpName, stripQuoteWrap(_$1.trim(html.slice(lastPos))));\n    }\n  }\n  return _$1.trim(retAttrs.join(\" \"));\n}\nfunction findNextEqual(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\nfunction findNextQuotationMark(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"'\" || c === '\"') return i;\n    return -1;\n  }\n}\nfunction findBeforeEqual(str, i) {\n  for (; i > 0; i--) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\nfunction isQuoteWrapString(text) {\n  if (text[0] === '\"' && text[text.length - 1] === '\"' || text[0] === \"'\" && text[text.length - 1] === \"'\") {\n    return true;\n  } else {\n    return false;\n  }\n}\nfunction stripQuoteWrap(text) {\n  if (isQuoteWrapString(text)) {\n    return text.substr(1, text.length - 2);\n  } else {\n    return text;\n  }\n}\nparser$1.parseTag = parseTag$1;\nparser$1.parseAttr = parseAttr$1;\n\n/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = lib.exports.FilterCSS;\nvar DEFAULT = _default$1;\nvar parser = parser$1;\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = util;\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\"\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\nfunction keysToLowerCase(obj) {\n  var ret = {};\n  for (var i in obj) {\n    if (Array.isArray(obj[i])) {\n      ret[i.toLowerCase()] = obj[i].map(function (item) {\n        return item.toLowerCase();\n      });\n    } else {\n      ret[i.toLowerCase()] = obj[i];\n    }\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList (or allowList), onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error('Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time');\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n  if (options.whiteList || options.allowList) {\n    options.whiteList = keysToLowerCase(options.whiteList || options.allowList);\n  } else {\n    options.whiteList = DEFAULT.whiteList;\n  }\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function (html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    stripIgnoreTagBody = DEFAULT.StripTagBody(options.stripIgnoreTagBody, onIgnoreTag);\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n  var retHtml = parseTag(html, function (sourcePosition, position, tag, html, isClosing) {\n    var info = {\n      sourcePosition: sourcePosition,\n      position: position,\n      isClosing: isClosing,\n      isWhite: Object.prototype.hasOwnProperty.call(whiteList, tag)\n    };\n\n    // call `onTag()`\n    var ret = onTag(tag, html, info);\n    if (!isNull(ret)) return ret;\n    if (info.isWhite) {\n      if (info.isClosing) {\n        return \"</\" + tag + \">\";\n      }\n      var attrs = getAttrs(html);\n      var whiteAttrList = whiteList[tag];\n      var attrsHtml = parseAttr(attrs.html, function (name, value) {\n        // call `onTagAttr()`\n        var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n        var ret = onTagAttr(tag, name, value, isWhiteAttr);\n        if (!isNull(ret)) return ret;\n        if (isWhiteAttr) {\n          // call `safeAttrValue()`\n          value = safeAttrValue(tag, name, value, cssFilter);\n          if (value) {\n            return name + '=\"' + value + '\"';\n          } else {\n            return name;\n          }\n        } else {\n          // call `onIgnoreTagAttr()`\n          ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n          return;\n        }\n      });\n\n      // build new tag html\n      html = \"<\" + tag;\n      if (attrsHtml) html += \" \" + attrsHtml;\n      if (attrs.closing) html += \" /\";\n      html += \">\";\n      return html;\n    } else {\n      // call `onIgnoreTag()`\n      ret = onIgnoreTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n      return escapeHtml(html);\n    }\n  }, escapeHtml);\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n  return retHtml;\n};\nvar xss = FilterXSS;\n\n/**\n * xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\n(function (module, exports) {\n  var DEFAULT = _default$1;\n  var parser = parser$1;\n  var FilterXSS = xss;\n\n  /**\n   * filter xss function\n   *\n   * @param {String} html\n   * @param {Object} options { whiteList, onTag, onTagAttr, onIgnoreTag, onIgnoreTagAttr, safeAttrValue, escapeHtml }\n   * @return {String}\n   */\n  function filterXSS(html, options) {\n    var xss = new FilterXSS(options);\n    return xss.process(html);\n  }\n  exports = module.exports = filterXSS;\n  exports.filterXSS = filterXSS;\n  exports.FilterXSS = FilterXSS;\n  (function () {\n    for (var i in DEFAULT) {\n      exports[i] = DEFAULT[i];\n    }\n    for (var j in parser) {\n      exports[j] = parser[j];\n    }\n  })();\n\n  // using `xss` on the WebWorker, output `filterXSS` to the globals\n  function isWorkerEnv() {\n    return typeof self !== \"undefined\" && typeof DedicatedWorkerGlobalScope !== \"undefined\" && self instanceof DedicatedWorkerGlobalScope;\n  }\n  if (isWorkerEnv()) {\n    self.filterXSS = module.exports;\n  }\n})(lib$1, lib$1.exports);\n\n/* Copyright (c) 2020 Environmental Systems Research Institute, Inc.\n * Apache-2.0\n *\n * js-xss\n * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>\n * http://ucdok.com\n * The MIT License, see\n * https://github.com/leizongmin/js-xss/blob/master/LICENSE for details\n * */\n/**\n * The Sanitizer Class\n *\n * @export\n * @class Sanitizer\n */\nvar Sanitizer = /** @class */function () {\n  function Sanitizer(filterOptions, extendDefaults) {\n    var _this = this;\n    // Supported HTML Spec: https://doc.arcgis.com/en/arcgis-online/reference/supported-html.htm\n    this.arcgisWhiteList = {\n      a: [\"href\", \"style\", \"target\"],\n      abbr: [\"title\"],\n      audio: [\"autoplay\", \"controls\", \"loop\", \"muted\", \"preload\"],\n      b: [],\n      br: [],\n      dd: [\"style\"],\n      div: [\"align\", \"style\"],\n      dl: [\"style\"],\n      dt: [\"style\"],\n      em: [],\n      figcaption: [\"style\"],\n      figure: [\"style\"],\n      font: [\"color\", \"face\", \"size\", \"style\"],\n      h1: [\"style\"],\n      h2: [\"style\"],\n      h3: [\"style\"],\n      h4: [\"style\"],\n      h5: [\"style\"],\n      h6: [\"style\"],\n      hr: [],\n      i: [],\n      img: [\"alt\", \"border\", \"height\", \"src\", \"style\", \"width\"],\n      li: [],\n      ol: [],\n      p: [\"style\"],\n      source: [\"media\", \"src\", \"type\"],\n      span: [\"style\"],\n      strong: [],\n      sub: [\"style\"],\n      sup: [\"style\"],\n      table: [\"border\", \"cellpadding\", \"cellspacing\", \"height\", \"style\", \"width\"],\n      tbody: [],\n      tr: [\"align\", \"height\", \"style\", \"valign\"],\n      td: [\"align\", \"colspan\", \"height\", \"nowrap\", \"rowspan\", \"style\", \"valign\", \"width\"],\n      th: [\"align\", \"colspan\", \"height\", \"nowrap\", \"rowspan\", \"style\", \"valign\", \"width\"],\n      u: [],\n      ul: [],\n      video: [\"autoplay\", \"controls\", \"height\", \"loop\", \"muted\", \"poster\", \"preload\", \"width\"]\n    };\n    this.allowedProtocols = [\"http\", \"https\", \"mailto\", \"iform\", \"tel\", \"flow\", \"lfmobile\", \"arcgis-navigator\", \"arcgis-appstudio-player\", \"arcgis-survey123\", \"arcgis-collector\", \"arcgis-workforce\", \"arcgis-explorer\", \"arcgis-trek2there\", \"arcgis-quickcapture\", \"mspbi\", \"comgooglemaps\", \"pdfefile\", \"pdfehttp\", \"pdfehttps\", \"boxapp\", \"boxemm\", \"awb\", \"awbs\", \"gropen\", \"radarscope\"];\n    this.arcgisFilterOptions = {\n      allowCommentTag: true,\n      safeAttrValue: function safeAttrValue(tag, name, value, cssFilter) {\n        // Take over safe attribute filtering for `a` `href`, `img` `src`,\n        // and `source` `src` attributes, otherwise pass onto the\n        // default `XSS.safeAttrValue` method.\n        if (tag === \"a\" && name === \"href\" || (tag === \"img\" || tag === \"source\") && name === \"src\") {\n          return _this.sanitizeUrl(value);\n        }\n        return lib$1.exports.safeAttrValue(tag, name, value, cssFilter);\n      }\n    };\n    this._entityMap = {\n      \"&\": \"&#x38;\",\n      \"<\": \"&#x3C;\",\n      \">\": \"&#x3E;\",\n      '\"': \"&#x22;\",\n      \"'\": \"&#x27;\",\n      \"/\": \"&#x2F;\"\n    };\n    var xssFilterOptions;\n    if (filterOptions && !extendDefaults) {\n      // Override the defaults\n      xssFilterOptions = filterOptions;\n    } else if (filterOptions && extendDefaults) {\n      // Extend the defaults\n      xssFilterOptions = Object.create(this.arcgisFilterOptions);\n      Object.keys(filterOptions).forEach(function (key) {\n        if (key === \"whiteList\") {\n          // Extend the whitelist by concatenating arrays\n          xssFilterOptions.whiteList = _this._extendObjectOfArrays([_this.arcgisWhiteList, filterOptions.whiteList || {}]);\n        } else {\n          xssFilterOptions[key] = filterOptions[key];\n        }\n      });\n    } else {\n      // Only use the defaults\n      xssFilterOptions = Object.create(this.arcgisFilterOptions);\n      xssFilterOptions.whiteList = this.arcgisWhiteList;\n    }\n    this.xssFilterOptions = xssFilterOptions;\n    // Make this readable to tests\n    this._xssFilter = new lib$1.exports.FilterXSS(xssFilterOptions);\n  }\n  /**\n   * Sanitizes value to remove invalid HTML tags.\n   *\n   * Note: If the value passed does not contain a valid JSON data type (String,\n   * Number, JSON Object, Array, Boolean, or null), the value will be nullified.\n   *\n   * @param {any} value The value to sanitize.\n   * @returns {any} The sanitized value.\n   * @memberof Sanitizer\n   */\n  Sanitizer.prototype.sanitize = function (value, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    switch (typeof value) {\n      case \"number\":\n        if (isNaN(value) || !isFinite(value)) {\n          return null;\n        }\n        return value;\n      case \"boolean\":\n        return value;\n      case \"string\":\n        return this._xssFilter.process(value);\n      case \"object\":\n        return this._iterateOverObject(value, options);\n      default:\n        if (options.allowUndefined && typeof value === \"undefined\") {\n          return;\n        }\n        return null;\n    }\n  };\n  /**\n   * Sanitizes a URL string following the allowed protocols and sanitization rules.\n   *\n   * @param {string} value The URL to sanitize.\n   * @param {{ isProtocolRequired: boolean }} options Configuration options for URL checking.\n   * @returns {string} The sanitized URL if it's valid, or an empty string if the URL is invalid.\n   */\n  Sanitizer.prototype.sanitizeUrl = function (value, options) {\n    var _a = (options !== null && options !== void 0 ? options : {}).isProtocolRequired,\n      isProtocolRequired = _a === void 0 ? true : _a;\n    var protocol = this._trim(value.substring(0, value.indexOf(\":\")));\n    var isRootUrl = value === '/';\n    var isUrlFragment = /^#/.test(value);\n    var isValidProtocol = protocol && this.allowedProtocols.indexOf(protocol.toLowerCase()) > -1;\n    if (isRootUrl || isUrlFragment || isValidProtocol) {\n      return lib$1.exports.escapeAttrValue(value);\n    }\n    if (!protocol && !isProtocolRequired) {\n      return lib$1.exports.escapeAttrValue(\"https://\".concat(value));\n    }\n    return \"\";\n  };\n  /**\n   * Sanitizes an HTML attribute value.\n   *\n   * @param {string} tag The tagname of the HTML element.\n   * @param {string} attribute The attribute name of the HTML element.\n   * @param {string} value The raw value to be used for the HTML attribute value.\n   * @param {XSS.ICSSFilter} [cssFilter] The CSS filter to be used.\n   * @returns {string} The sanitized attribute value.\n   * @memberof Sanitizer\n   */\n  Sanitizer.prototype.sanitizeHTMLAttribute = function (tag, attribute, value, cssFilter) {\n    // use the custom safeAttrValue function if provided\n    if (typeof this.xssFilterOptions.safeAttrValue === \"function\") {\n      return this.xssFilterOptions.safeAttrValue(tag, attribute, value,\n      // @ts-expect-error safeAttrValue does handle undefined cssFilter\n      cssFilter);\n    }\n    // otherwise use the default\n    // @ts-ignore safeAttrValue does handle undefined cssFilter\n    return lib$1.exports.safeAttrValue(tag, attribute, value, cssFilter);\n  };\n  /**\n   * Checks if a value only contains valid HTML.\n   *\n   * @param {any} value The value to validate.\n   * @returns {boolean}\n   * @memberof Sanitizer\n   */\n  Sanitizer.prototype.validate = function (value, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    var sanitized = this.sanitize(value, options);\n    return {\n      isValid: value === sanitized,\n      sanitized: sanitized\n    };\n  };\n  /**\n   * Encodes the following characters, `& < > \\\" ' /` to their hexadecimal HTML entity code.\n   * Example: \"&middot;\" => \"&#x38;middot;\"\n   *\n   * @param {string} value The value to encode.\n   * @returns {string} The encoded string value.\n   * @memberof Sanitizer\n   */\n  Sanitizer.prototype.encodeHTML = function (value) {\n    var _this = this;\n    return String(value).replace(/[&<>\"'\\/]/g, function (s) {\n      return _this._entityMap[s];\n    });\n  };\n  /**\n   * Encodes all non-alphanumeric ASCII characters to their hexadecimal HTML entity codes.\n   * Example: \"alert(document.cookie)\" => \"alert&#x28;document&#x2e;cookie&#x29;\"\n   *\n   * @param {string} value The value to encode.\n   * @returns {string} The encoded string value.\n   * @memberof Sanitizer\n   */\n  Sanitizer.prototype.encodeAttrValue = function (value) {\n    var alphanumericRE = /^[a-zA-Z0-9]$/;\n    return String(value).replace(/[\\x00-\\xFF]/g, function (c, idx) {\n      return !alphanumericRE.test(c) ? \"&#x\".concat(Number(value.charCodeAt(idx)).toString(16), \";\") : c;\n    });\n  };\n  /**\n   * Extends an object of arrays by by concatenating arrays of the same object\n   * keys. If the if the previous key's value is not an array, the next key's\n   * value will replace the previous key. This method is used for extending the\n   * whiteList in the XSS filter options.\n   *\n   * @private\n   * @param {Array<{}>} objects An array of objects.\n   * @returns {{}} The extended object.\n   * @memberof Sanitizer\n   */\n  Sanitizer.prototype._extendObjectOfArrays = function (objects) {\n    var finalObj = {};\n    objects.forEach(function (obj) {\n      Object.keys(obj).forEach(function (key) {\n        if (Array.isArray(obj[key]) && Array.isArray(finalObj[key])) {\n          finalObj[key] = finalObj[key].concat(obj[key]);\n        } else {\n          finalObj[key] = obj[key];\n        }\n      });\n    });\n    return finalObj;\n  };\n  /**\n   * Iterate over a plain object or array to deeply sanitize each value.\n   *\n   * @private\n   * @param {object} obj The object to iterate over.\n   * @returns {(object | null)} The sanitized object.\n   * @memberof Sanitizer\n   */\n  Sanitizer.prototype._iterateOverObject = function (obj, options) {\n    var _this = this;\n    if (options === void 0) {\n      options = {};\n    }\n    try {\n      var hasChanged_1 = false;\n      var changedObj = void 0;\n      if (Array.isArray(obj)) {\n        changedObj = obj.reduce(function (prev, value) {\n          var validation = _this.validate(value, options);\n          if (validation.isValid) {\n            return prev.concat([value]);\n          } else {\n            hasChanged_1 = true;\n            return prev.concat([validation.sanitized]);\n          }\n        }, []);\n      } else if (!isPlainObject(obj)) {\n        if (options.allowUndefined && typeof obj === \"undefined\") {\n          return;\n        }\n        return null;\n      } else {\n        var keys = Object.keys(obj);\n        changedObj = keys.reduce(function (prev, key) {\n          var value = obj[key];\n          var validation = _this.validate(value, options);\n          if (validation.isValid) {\n            prev[key] = value;\n          } else {\n            hasChanged_1 = true;\n            prev[key] = validation.sanitized;\n          }\n          return prev;\n        }, {});\n      }\n      if (hasChanged_1) {\n        return changedObj;\n      }\n      return obj;\n    } catch (err) {\n      return null;\n    }\n  };\n  /**\n   * Trim whitespace from the start and ends of a string.\n   * @param {string} val The string to trim.\n   * @returns {string} The trimmed string.\n   */\n  Sanitizer.prototype._trim = function (val) {\n    // @ts-ignore This is used by Jest,\n    // but TypeScript errors since it assumes `trim` is always available.\n    return String.prototype.trim ? val.trim() : val.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  };\n  return Sanitizer;\n}();\nexport { Sanitizer, Sanitizer as default };","map":{"version":3,"names":["isPlainObject","value","Object","prototype","toString","call","proto","getPrototypeOf","lib$1","exports","_default$1","lib","_default","getDefaultWhiteList$1","whiteList","onAttr","name","options","onIgnoreAttr","REGEXP_URL_JAVASCRIPT","safeAttrValue$1","test","getDefaultWhiteList","safeAttrValue","util$1","indexOf","arr","item","i","j","Array","length","forEach","fn","scope","trim","str","String","replace","trimRight","_$3","parseStyle$1","css","cssLength","isParenthesisOpen","lastPos","retCSS","addNewAttr","source","slice","ret","c","parser$2","DEFAULT$1","parseStyle","isNull$1","obj","undefined","shallowCopyObject$1","FilterCSS$2","process","me","sourcePosition","position","check","isWhite","RegExp","opts","module","DEFAULT","FilterCSS","filterCSS","html","xss","util","spaceIndex","reg","match","exec","index","FilterCSS$1","getDefaultCSSWhiteList","_$2","a","abbr","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","caption","center","cite","code","col","colgroup","dd","del","details","div","dl","dt","em","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hr","img","ins","li","mark","nav","ol","p","pre","s","section","small","span","sub","summary","sup","strong","strike","table","tbody","td","tfoot","th","thead","tr","tt","u","ul","video","defaultCSSFilter","onTag","tag","onIgnoreTag","onTagAttr","onIgnoreTagAttr","escapeHtml","REGEXP_LT","REGEXP_GT","cssFilter","friendlyAttrValue","substr","REGEXP_DEFAULT_ON_TAG_ATTR_4","lastIndex","REGEXP_DEFAULT_ON_TAG_ATTR_7","REGEXP_DEFAULT_ON_TAG_ATTR_8","escapeAttrValue","REGEXP_QUOTE","REGEXP_QUOTE_2","REGEXP_ATTR_VALUE_1","REGEXP_ATTR_VALUE_COLON","REGEXP_ATTR_VALUE_NEWLINE","escapeQuote","unescapeQuote","escapeHtmlEntities","replaceUnicode","fromCharCode","parseInt","escapeDangerHtml5Entities","clearNonPrintableCharacter","str2","len","charCodeAt","charAt","onIgnoreTagStripAll","StripTagBody","tags","next","isRemoveAllTag","isArray","isRemoveTag","removeList","posStart","isClosing","end","push","remove","rethtml","pos","stripCommentTag","retHtml","stripBlankChar","chars","split","filter","char","join","parser$1","_$1","getTagName","tagName","toLowerCase","parseTag$1","tagStart","quoteStart","currentPos","currentTagName","currentHtml","chariterator","ic","REGEXP_ILLEGAL_ATTR_NAME","parseAttr$1","lastMarkPos","retAttrs","tmpName","addAttr","v","findNextQuotationMark","findNextEqual","findBeforeEqual","stripQuoteWrap","isQuoteWrapString","text","parseTag","parseAttr","parser","_","isNull","getAttrs","closing","shallowCopyObject","keysToLowerCase","map","FilterXSS","stripIgnoreTag","console","error","allowList","allowCommentTag","stripIgnoreTagBody","info","hasOwnProperty","attrs","whiteAttrList","attrsHtml","isWhiteAttr","filterXSS","isWorkerEnv","self","DedicatedWorkerGlobalScope","Sanitizer","filterOptions","extendDefaults","_this","arcgisWhiteList","allowedProtocols","arcgisFilterOptions","sanitizeUrl","_entityMap","xssFilterOptions","create","keys","key","_extendObjectOfArrays","_xssFilter","sanitize","isNaN","isFinite","_iterateOverObject","allowUndefined","_a","isProtocolRequired","protocol","_trim","substring","isRootUrl","isUrlFragment","isValidProtocol","concat","sanitizeHTMLAttribute","attribute","validate","sanitized","isValid","encodeHTML","encodeAttrValue","alphanumericRE","idx","Number","objects","finalObj","hasChanged_1","changedObj","reduce","prev","validation","err","val","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@esri/arcgis-html-sanitizer/dist/esm/index.js"],"sourcesContent":["/*!\n * @esri/arcgis-html-sanitizer - v3.0.1 - Tue Nov 15 2022 09:46:54 GMT-0800 (Pacific Standard Time)\n * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.\n * Apache-2.0\n * \n * js-xss\n * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>\n * http://ucdok.com\n * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details\n */\n/**\n * Determine if the value is a plain object.\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n */\nvar isPlainObject = function (value) {\n    if (typeof value !== \"object\" || value === null) {\n        return false;\n    }\n    if (Object.prototype.toString.call(value) !== \"[object Object]\") {\n        return false;\n    }\n    var proto = Object.getPrototypeOf(value);\n    if (proto === null) {\n        return true;\n    }\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n};\n\nvar lib$1 = {exports: {}};\n\nvar _default$1 = {};\n\nvar lib = {exports: {}};\n\nvar _default = {};\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nfunction getDefaultWhiteList$1 () {\n  // 白名单值说明：\n  // true: 允许该属性\n  // Function: function (val) { } 返回true表示允许该属性，其他值均表示不允许\n  // RegExp: regexp.test(val) 返回true表示允许该属性，其他值均表示不允许\n  // 除上面列出的值外均表示不允许\n  var whiteList = {};\n\n  whiteList['align-content'] = false; // default: auto\n  whiteList['align-items'] = false; // default: auto\n  whiteList['align-self'] = false; // default: auto\n  whiteList['alignment-adjust'] = false; // default: auto\n  whiteList['alignment-baseline'] = false; // default: baseline\n  whiteList['all'] = false; // default: depending on individual properties\n  whiteList['anchor-point'] = false; // default: none\n  whiteList['animation'] = false; // default: depending on individual properties\n  whiteList['animation-delay'] = false; // default: 0\n  whiteList['animation-direction'] = false; // default: normal\n  whiteList['animation-duration'] = false; // default: 0\n  whiteList['animation-fill-mode'] = false; // default: none\n  whiteList['animation-iteration-count'] = false; // default: 1\n  whiteList['animation-name'] = false; // default: none\n  whiteList['animation-play-state'] = false; // default: running\n  whiteList['animation-timing-function'] = false; // default: ease\n  whiteList['azimuth'] = false; // default: center\n  whiteList['backface-visibility'] = false; // default: visible\n  whiteList['background'] = true; // default: depending on individual properties\n  whiteList['background-attachment'] = true; // default: scroll\n  whiteList['background-clip'] = true; // default: border-box\n  whiteList['background-color'] = true; // default: transparent\n  whiteList['background-image'] = true; // default: none\n  whiteList['background-origin'] = true; // default: padding-box\n  whiteList['background-position'] = true; // default: 0% 0%\n  whiteList['background-repeat'] = true; // default: repeat\n  whiteList['background-size'] = true; // default: auto\n  whiteList['baseline-shift'] = false; // default: baseline\n  whiteList['binding'] = false; // default: none\n  whiteList['bleed'] = false; // default: 6pt\n  whiteList['bookmark-label'] = false; // default: content()\n  whiteList['bookmark-level'] = false; // default: none\n  whiteList['bookmark-state'] = false; // default: open\n  whiteList['border'] = true; // default: depending on individual properties\n  whiteList['border-bottom'] = true; // default: depending on individual properties\n  whiteList['border-bottom-color'] = true; // default: current color\n  whiteList['border-bottom-left-radius'] = true; // default: 0\n  whiteList['border-bottom-right-radius'] = true; // default: 0\n  whiteList['border-bottom-style'] = true; // default: none\n  whiteList['border-bottom-width'] = true; // default: medium\n  whiteList['border-collapse'] = true; // default: separate\n  whiteList['border-color'] = true; // default: depending on individual properties\n  whiteList['border-image'] = true; // default: none\n  whiteList['border-image-outset'] = true; // default: 0\n  whiteList['border-image-repeat'] = true; // default: stretch\n  whiteList['border-image-slice'] = true; // default: 100%\n  whiteList['border-image-source'] = true; // default: none\n  whiteList['border-image-width'] = true; // default: 1\n  whiteList['border-left'] = true; // default: depending on individual properties\n  whiteList['border-left-color'] = true; // default: current color\n  whiteList['border-left-style'] = true; // default: none\n  whiteList['border-left-width'] = true; // default: medium\n  whiteList['border-radius'] = true; // default: 0\n  whiteList['border-right'] = true; // default: depending on individual properties\n  whiteList['border-right-color'] = true; // default: current color\n  whiteList['border-right-style'] = true; // default: none\n  whiteList['border-right-width'] = true; // default: medium\n  whiteList['border-spacing'] = true; // default: 0\n  whiteList['border-style'] = true; // default: depending on individual properties\n  whiteList['border-top'] = true; // default: depending on individual properties\n  whiteList['border-top-color'] = true; // default: current color\n  whiteList['border-top-left-radius'] = true; // default: 0\n  whiteList['border-top-right-radius'] = true; // default: 0\n  whiteList['border-top-style'] = true; // default: none\n  whiteList['border-top-width'] = true; // default: medium\n  whiteList['border-width'] = true; // default: depending on individual properties\n  whiteList['bottom'] = false; // default: auto\n  whiteList['box-decoration-break'] = true; // default: slice\n  whiteList['box-shadow'] = true; // default: none\n  whiteList['box-sizing'] = true; // default: content-box\n  whiteList['box-snap'] = true; // default: none\n  whiteList['box-suppress'] = true; // default: show\n  whiteList['break-after'] = true; // default: auto\n  whiteList['break-before'] = true; // default: auto\n  whiteList['break-inside'] = true; // default: auto\n  whiteList['caption-side'] = false; // default: top\n  whiteList['chains'] = false; // default: none\n  whiteList['clear'] = true; // default: none\n  whiteList['clip'] = false; // default: auto\n  whiteList['clip-path'] = false; // default: none\n  whiteList['clip-rule'] = false; // default: nonzero\n  whiteList['color'] = true; // default: implementation dependent\n  whiteList['color-interpolation-filters'] = true; // default: auto\n  whiteList['column-count'] = false; // default: auto\n  whiteList['column-fill'] = false; // default: balance\n  whiteList['column-gap'] = false; // default: normal\n  whiteList['column-rule'] = false; // default: depending on individual properties\n  whiteList['column-rule-color'] = false; // default: current color\n  whiteList['column-rule-style'] = false; // default: medium\n  whiteList['column-rule-width'] = false; // default: medium\n  whiteList['column-span'] = false; // default: none\n  whiteList['column-width'] = false; // default: auto\n  whiteList['columns'] = false; // default: depending on individual properties\n  whiteList['contain'] = false; // default: none\n  whiteList['content'] = false; // default: normal\n  whiteList['counter-increment'] = false; // default: none\n  whiteList['counter-reset'] = false; // default: none\n  whiteList['counter-set'] = false; // default: none\n  whiteList['crop'] = false; // default: auto\n  whiteList['cue'] = false; // default: depending on individual properties\n  whiteList['cue-after'] = false; // default: none\n  whiteList['cue-before'] = false; // default: none\n  whiteList['cursor'] = false; // default: auto\n  whiteList['direction'] = false; // default: ltr\n  whiteList['display'] = true; // default: depending on individual properties\n  whiteList['display-inside'] = true; // default: auto\n  whiteList['display-list'] = true; // default: none\n  whiteList['display-outside'] = true; // default: inline-level\n  whiteList['dominant-baseline'] = false; // default: auto\n  whiteList['elevation'] = false; // default: level\n  whiteList['empty-cells'] = false; // default: show\n  whiteList['filter'] = false; // default: none\n  whiteList['flex'] = false; // default: depending on individual properties\n  whiteList['flex-basis'] = false; // default: auto\n  whiteList['flex-direction'] = false; // default: row\n  whiteList['flex-flow'] = false; // default: depending on individual properties\n  whiteList['flex-grow'] = false; // default: 0\n  whiteList['flex-shrink'] = false; // default: 1\n  whiteList['flex-wrap'] = false; // default: nowrap\n  whiteList['float'] = false; // default: none\n  whiteList['float-offset'] = false; // default: 0 0\n  whiteList['flood-color'] = false; // default: black\n  whiteList['flood-opacity'] = false; // default: 1\n  whiteList['flow-from'] = false; // default: none\n  whiteList['flow-into'] = false; // default: none\n  whiteList['font'] = true; // default: depending on individual properties\n  whiteList['font-family'] = true; // default: implementation dependent\n  whiteList['font-feature-settings'] = true; // default: normal\n  whiteList['font-kerning'] = true; // default: auto\n  whiteList['font-language-override'] = true; // default: normal\n  whiteList['font-size'] = true; // default: medium\n  whiteList['font-size-adjust'] = true; // default: none\n  whiteList['font-stretch'] = true; // default: normal\n  whiteList['font-style'] = true; // default: normal\n  whiteList['font-synthesis'] = true; // default: weight style\n  whiteList['font-variant'] = true; // default: normal\n  whiteList['font-variant-alternates'] = true; // default: normal\n  whiteList['font-variant-caps'] = true; // default: normal\n  whiteList['font-variant-east-asian'] = true; // default: normal\n  whiteList['font-variant-ligatures'] = true; // default: normal\n  whiteList['font-variant-numeric'] = true; // default: normal\n  whiteList['font-variant-position'] = true; // default: normal\n  whiteList['font-weight'] = true; // default: normal\n  whiteList['grid'] = false; // default: depending on individual properties\n  whiteList['grid-area'] = false; // default: depending on individual properties\n  whiteList['grid-auto-columns'] = false; // default: auto\n  whiteList['grid-auto-flow'] = false; // default: none\n  whiteList['grid-auto-rows'] = false; // default: auto\n  whiteList['grid-column'] = false; // default: depending on individual properties\n  whiteList['grid-column-end'] = false; // default: auto\n  whiteList['grid-column-start'] = false; // default: auto\n  whiteList['grid-row'] = false; // default: depending on individual properties\n  whiteList['grid-row-end'] = false; // default: auto\n  whiteList['grid-row-start'] = false; // default: auto\n  whiteList['grid-template'] = false; // default: depending on individual properties\n  whiteList['grid-template-areas'] = false; // default: none\n  whiteList['grid-template-columns'] = false; // default: none\n  whiteList['grid-template-rows'] = false; // default: none\n  whiteList['hanging-punctuation'] = false; // default: none\n  whiteList['height'] = true; // default: auto\n  whiteList['hyphens'] = false; // default: manual\n  whiteList['icon'] = false; // default: auto\n  whiteList['image-orientation'] = false; // default: auto\n  whiteList['image-resolution'] = false; // default: normal\n  whiteList['ime-mode'] = false; // default: auto\n  whiteList['initial-letters'] = false; // default: normal\n  whiteList['inline-box-align'] = false; // default: last\n  whiteList['justify-content'] = false; // default: auto\n  whiteList['justify-items'] = false; // default: auto\n  whiteList['justify-self'] = false; // default: auto\n  whiteList['left'] = false; // default: auto\n  whiteList['letter-spacing'] = true; // default: normal\n  whiteList['lighting-color'] = true; // default: white\n  whiteList['line-box-contain'] = false; // default: block inline replaced\n  whiteList['line-break'] = false; // default: auto\n  whiteList['line-grid'] = false; // default: match-parent\n  whiteList['line-height'] = false; // default: normal\n  whiteList['line-snap'] = false; // default: none\n  whiteList['line-stacking'] = false; // default: depending on individual properties\n  whiteList['line-stacking-ruby'] = false; // default: exclude-ruby\n  whiteList['line-stacking-shift'] = false; // default: consider-shifts\n  whiteList['line-stacking-strategy'] = false; // default: inline-line-height\n  whiteList['list-style'] = true; // default: depending on individual properties\n  whiteList['list-style-image'] = true; // default: none\n  whiteList['list-style-position'] = true; // default: outside\n  whiteList['list-style-type'] = true; // default: disc\n  whiteList['margin'] = true; // default: depending on individual properties\n  whiteList['margin-bottom'] = true; // default: 0\n  whiteList['margin-left'] = true; // default: 0\n  whiteList['margin-right'] = true; // default: 0\n  whiteList['margin-top'] = true; // default: 0\n  whiteList['marker-offset'] = false; // default: auto\n  whiteList['marker-side'] = false; // default: list-item\n  whiteList['marks'] = false; // default: none\n  whiteList['mask'] = false; // default: border-box\n  whiteList['mask-box'] = false; // default: see individual properties\n  whiteList['mask-box-outset'] = false; // default: 0\n  whiteList['mask-box-repeat'] = false; // default: stretch\n  whiteList['mask-box-slice'] = false; // default: 0 fill\n  whiteList['mask-box-source'] = false; // default: none\n  whiteList['mask-box-width'] = false; // default: auto\n  whiteList['mask-clip'] = false; // default: border-box\n  whiteList['mask-image'] = false; // default: none\n  whiteList['mask-origin'] = false; // default: border-box\n  whiteList['mask-position'] = false; // default: center\n  whiteList['mask-repeat'] = false; // default: no-repeat\n  whiteList['mask-size'] = false; // default: border-box\n  whiteList['mask-source-type'] = false; // default: auto\n  whiteList['mask-type'] = false; // default: luminance\n  whiteList['max-height'] = true; // default: none\n  whiteList['max-lines'] = false; // default: none\n  whiteList['max-width'] = true; // default: none\n  whiteList['min-height'] = true; // default: 0\n  whiteList['min-width'] = true; // default: 0\n  whiteList['move-to'] = false; // default: normal\n  whiteList['nav-down'] = false; // default: auto\n  whiteList['nav-index'] = false; // default: auto\n  whiteList['nav-left'] = false; // default: auto\n  whiteList['nav-right'] = false; // default: auto\n  whiteList['nav-up'] = false; // default: auto\n  whiteList['object-fit'] = false; // default: fill\n  whiteList['object-position'] = false; // default: 50% 50%\n  whiteList['opacity'] = false; // default: 1\n  whiteList['order'] = false; // default: 0\n  whiteList['orphans'] = false; // default: 2\n  whiteList['outline'] = false; // default: depending on individual properties\n  whiteList['outline-color'] = false; // default: invert\n  whiteList['outline-offset'] = false; // default: 0\n  whiteList['outline-style'] = false; // default: none\n  whiteList['outline-width'] = false; // default: medium\n  whiteList['overflow'] = false; // default: depending on individual properties\n  whiteList['overflow-wrap'] = false; // default: normal\n  whiteList['overflow-x'] = false; // default: visible\n  whiteList['overflow-y'] = false; // default: visible\n  whiteList['padding'] = true; // default: depending on individual properties\n  whiteList['padding-bottom'] = true; // default: 0\n  whiteList['padding-left'] = true; // default: 0\n  whiteList['padding-right'] = true; // default: 0\n  whiteList['padding-top'] = true; // default: 0\n  whiteList['page'] = false; // default: auto\n  whiteList['page-break-after'] = false; // default: auto\n  whiteList['page-break-before'] = false; // default: auto\n  whiteList['page-break-inside'] = false; // default: auto\n  whiteList['page-policy'] = false; // default: start\n  whiteList['pause'] = false; // default: implementation dependent\n  whiteList['pause-after'] = false; // default: implementation dependent\n  whiteList['pause-before'] = false; // default: implementation dependent\n  whiteList['perspective'] = false; // default: none\n  whiteList['perspective-origin'] = false; // default: 50% 50%\n  whiteList['pitch'] = false; // default: medium\n  whiteList['pitch-range'] = false; // default: 50\n  whiteList['play-during'] = false; // default: auto\n  whiteList['position'] = false; // default: static\n  whiteList['presentation-level'] = false; // default: 0\n  whiteList['quotes'] = false; // default: text\n  whiteList['region-fragment'] = false; // default: auto\n  whiteList['resize'] = false; // default: none\n  whiteList['rest'] = false; // default: depending on individual properties\n  whiteList['rest-after'] = false; // default: none\n  whiteList['rest-before'] = false; // default: none\n  whiteList['richness'] = false; // default: 50\n  whiteList['right'] = false; // default: auto\n  whiteList['rotation'] = false; // default: 0\n  whiteList['rotation-point'] = false; // default: 50% 50%\n  whiteList['ruby-align'] = false; // default: auto\n  whiteList['ruby-merge'] = false; // default: separate\n  whiteList['ruby-position'] = false; // default: before\n  whiteList['shape-image-threshold'] = false; // default: 0.0\n  whiteList['shape-outside'] = false; // default: none\n  whiteList['shape-margin'] = false; // default: 0\n  whiteList['size'] = false; // default: auto\n  whiteList['speak'] = false; // default: auto\n  whiteList['speak-as'] = false; // default: normal\n  whiteList['speak-header'] = false; // default: once\n  whiteList['speak-numeral'] = false; // default: continuous\n  whiteList['speak-punctuation'] = false; // default: none\n  whiteList['speech-rate'] = false; // default: medium\n  whiteList['stress'] = false; // default: 50\n  whiteList['string-set'] = false; // default: none\n  whiteList['tab-size'] = false; // default: 8\n  whiteList['table-layout'] = false; // default: auto\n  whiteList['text-align'] = true; // default: start\n  whiteList['text-align-last'] = true; // default: auto\n  whiteList['text-combine-upright'] = true; // default: none\n  whiteList['text-decoration'] = true; // default: none\n  whiteList['text-decoration-color'] = true; // default: currentColor\n  whiteList['text-decoration-line'] = true; // default: none\n  whiteList['text-decoration-skip'] = true; // default: objects\n  whiteList['text-decoration-style'] = true; // default: solid\n  whiteList['text-emphasis'] = true; // default: depending on individual properties\n  whiteList['text-emphasis-color'] = true; // default: currentColor\n  whiteList['text-emphasis-position'] = true; // default: over right\n  whiteList['text-emphasis-style'] = true; // default: none\n  whiteList['text-height'] = true; // default: auto\n  whiteList['text-indent'] = true; // default: 0\n  whiteList['text-justify'] = true; // default: auto\n  whiteList['text-orientation'] = true; // default: mixed\n  whiteList['text-overflow'] = true; // default: clip\n  whiteList['text-shadow'] = true; // default: none\n  whiteList['text-space-collapse'] = true; // default: collapse\n  whiteList['text-transform'] = true; // default: none\n  whiteList['text-underline-position'] = true; // default: auto\n  whiteList['text-wrap'] = true; // default: normal\n  whiteList['top'] = false; // default: auto\n  whiteList['transform'] = false; // default: none\n  whiteList['transform-origin'] = false; // default: 50% 50% 0\n  whiteList['transform-style'] = false; // default: flat\n  whiteList['transition'] = false; // default: depending on individual properties\n  whiteList['transition-delay'] = false; // default: 0s\n  whiteList['transition-duration'] = false; // default: 0s\n  whiteList['transition-property'] = false; // default: all\n  whiteList['transition-timing-function'] = false; // default: ease\n  whiteList['unicode-bidi'] = false; // default: normal\n  whiteList['vertical-align'] = false; // default: baseline\n  whiteList['visibility'] = false; // default: visible\n  whiteList['voice-balance'] = false; // default: center\n  whiteList['voice-duration'] = false; // default: auto\n  whiteList['voice-family'] = false; // default: implementation dependent\n  whiteList['voice-pitch'] = false; // default: medium\n  whiteList['voice-range'] = false; // default: medium\n  whiteList['voice-rate'] = false; // default: normal\n  whiteList['voice-stress'] = false; // default: normal\n  whiteList['voice-volume'] = false; // default: medium\n  whiteList['volume'] = false; // default: medium\n  whiteList['white-space'] = false; // default: normal\n  whiteList['widows'] = false; // default: 2\n  whiteList['width'] = true; // default: auto\n  whiteList['will-change'] = false; // default: auto\n  whiteList['word-break'] = true; // default: normal\n  whiteList['word-spacing'] = true; // default: normal\n  whiteList['word-wrap'] = true; // default: normal\n  whiteList['wrap-flow'] = false; // default: auto\n  whiteList['wrap-through'] = false; // default: wrap\n  whiteList['writing-mode'] = false; // default: horizontal-tb\n  whiteList['z-index'] = false; // default: auto\n\n  return whiteList;\n}\n\n\n/**\n * 匹配到白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onAttr (name, value, options) {\n  // do nothing\n}\n\n/**\n * 匹配到不在白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreAttr (name, value, options) {\n  // do nothing\n}\n\nvar REGEXP_URL_JAVASCRIPT = /javascript\\s*\\:/img;\n\n/**\n * 过滤属性值\n *\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction safeAttrValue$1(name, value) {\n  if (REGEXP_URL_JAVASCRIPT.test(value)) return '';\n  return value;\n}\n\n\n_default.whiteList = getDefaultWhiteList$1();\n_default.getDefaultWhiteList = getDefaultWhiteList$1;\n_default.onAttr = onAttr;\n_default.onIgnoreAttr = onIgnoreAttr;\n_default.safeAttrValue = safeAttrValue$1;\n\nvar util$1 = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, '');\n  },\n  trimRight: function (str) {\n    if (String.prototype.trimRight) {\n      return str.trimRight();\n    }\n    return str.replace(/(\\s*$)/g, '');\n  }\n};\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar _$3 = util$1;\n\n\n/**\n * 解析style\n *\n * @param {String} css\n * @param {Function} onAttr 处理属性的函数\n *   参数格式： function (sourcePosition, position, name, value, source)\n * @return {String}\n */\nfunction parseStyle$1 (css, onAttr) {\n  css = _$3.trimRight(css);\n  if (css[css.length - 1] !== ';') css += ';';\n  var cssLength = css.length;\n  var isParenthesisOpen = false;\n  var lastPos = 0;\n  var i = 0;\n  var retCSS = '';\n\n  function addNewAttr () {\n    // 如果没有正常的闭合圆括号，则直接忽略当前属性\n    if (!isParenthesisOpen) {\n      var source = _$3.trim(css.slice(lastPos, i));\n      var j = source.indexOf(':');\n      if (j !== -1) {\n        var name = _$3.trim(source.slice(0, j));\n        var value = _$3.trim(source.slice(j + 1));\n        // 必须有属性名称\n        if (name) {\n          var ret = onAttr(lastPos, retCSS.length, name, value, source);\n          if (ret) retCSS += ret + '; ';\n        }\n      }\n    }\n    lastPos = i + 1;\n  }\n\n  for (; i < cssLength; i++) {\n    var c = css[i];\n    if (c === '/' && css[i + 1] === '*') {\n      // 备注开始\n      var j = css.indexOf('*/', i + 2);\n      // 如果没有正常的备注结束，则后面的部分全部跳过\n      if (j === -1) break;\n      // 直接将当前位置调到备注结尾，并且初始化状态\n      i = j + 1;\n      lastPos = i + 1;\n      isParenthesisOpen = false;\n    } else if (c === '(') {\n      isParenthesisOpen = true;\n    } else if (c === ')') {\n      isParenthesisOpen = false;\n    } else if (c === ';') {\n      if (isParenthesisOpen) ; else {\n        addNewAttr();\n      }\n    } else if (c === '\\n') {\n      addNewAttr();\n    }\n  }\n\n  return _$3.trim(retCSS);\n}\n\nvar parser$2 = parseStyle$1;\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT$1 = _default;\nvar parseStyle = parser$2;\n\n\n/**\n * 返回值是否为空\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull$1 (obj) {\n  return (obj === undefined || obj === null);\n}\n\n/**\n * 浅拷贝对象\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject$1 (obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * 创建CSS过滤器\n *\n * @param {Object} options\n *   - {Object} whiteList\n *   - {Function} onAttr\n *   - {Function} onIgnoreAttr\n *   - {Function} safeAttrValue\n */\nfunction FilterCSS$2 (options) {\n  options = shallowCopyObject$1(options || {});\n  options.whiteList = options.whiteList || DEFAULT$1.whiteList;\n  options.onAttr = options.onAttr || DEFAULT$1.onAttr;\n  options.onIgnoreAttr = options.onIgnoreAttr || DEFAULT$1.onIgnoreAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT$1.safeAttrValue;\n  this.options = options;\n}\n\nFilterCSS$2.prototype.process = function (css) {\n  // 兼容各种奇葩输入\n  css = css || '';\n  css = css.toString();\n  if (!css) return '';\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onAttr = options.onAttr;\n  var onIgnoreAttr = options.onIgnoreAttr;\n  var safeAttrValue = options.safeAttrValue;\n\n  var retCSS = parseStyle(css, function (sourcePosition, position, name, value, source) {\n\n    var check = whiteList[name];\n    var isWhite = false;\n    if (check === true) isWhite = check;\n    else if (typeof check === 'function') isWhite = check(value);\n    else if (check instanceof RegExp) isWhite = check.test(value);\n    if (isWhite !== true) isWhite = false;\n\n    // 如果过滤后 value 为空则直接忽略\n    value = safeAttrValue(name, value);\n    if (!value) return;\n\n    var opts = {\n      position: position,\n      sourcePosition: sourcePosition,\n      source: source,\n      isWhite: isWhite\n    };\n\n    if (isWhite) {\n\n      var ret = onAttr(name, value, opts);\n      if (isNull$1(ret)) {\n        return name + ':' + value;\n      } else {\n        return ret;\n      }\n\n    } else {\n\n      var ret = onIgnoreAttr(name, value, opts);\n      if (!isNull$1(ret)) {\n        return ret;\n      }\n\n    }\n  });\n\n  return retCSS;\n};\n\n\nvar css = FilterCSS$2;\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\n(function (module, exports) {\n\tvar DEFAULT = _default;\n\tvar FilterCSS = css;\n\n\n\t/**\n\t * XSS过滤\n\t *\n\t * @param {String} css 要过滤的CSS代码\n\t * @param {Object} options 选项：whiteList, onAttr, onIgnoreAttr\n\t * @return {String}\n\t */\n\tfunction filterCSS (html, options) {\n\t  var xss = new FilterCSS(options);\n\t  return xss.process(html);\n\t}\n\n\n\t// 输出\n\texports = module.exports = filterCSS;\n\texports.FilterCSS = FilterCSS;\n\tfor (var i in DEFAULT) exports[i] = DEFAULT[i];\n} (lib, lib.exports));\n\nvar util = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  },\n  spaceIndex: function (str) {\n    var reg = /\\s|\\n|\\t/;\n    var match = reg.exec(str);\n    return match ? match.index : -1;\n  },\n};\n\n/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS$1 = lib.exports.FilterCSS;\nvar getDefaultCSSWhiteList = lib.exports.getDefaultWhiteList;\nvar _$2 = util;\n\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"preload\",\n      \"src\",\n    ],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    figcaption: [],\n    figure: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\"],\n    ins: [\"datetime\"],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    summary: [],\n    sup: [],\n    strong: [],\n    strike: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"playsinline\",\n      \"poster\",\n      \"preload\",\n      \"src\",\n      \"height\",\n      \"width\",\n    ],\n  };\n}\n\nvar defaultCSSFilter = new FilterCSS$1();\n\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onIgnoreTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _$2.trim(value);\n    if (value === \"#\") return \"#\";\n    if (\n      !(\n        value.substr(0, 7) === \"http://\" ||\n        value.substr(0, 8) === \"https://\" ||\n        value.substr(0, 7) === \"mailto:\" ||\n        value.substr(0, 4) === \"tel:\" ||\n        value.substr(0, 11) === \"data:image/\" ||\n        value.substr(0, 6) === \"ftp://\" ||\n        value.substr(0, 2) === \"./\" ||\n        value.substr(0, 3) === \"../\" ||\n        value[0] === \"#\" ||\n        value[0] === \"/\"\n      )\n    ) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    }\n    // `url()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  }\n\n  // escape `<>\"` before returns\n  value = escapeAttrValue(value);\n  return value;\n}\n\n// RegExp list\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\\/\\*|\\*\\//gm;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 =\n  /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a):/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:\\s*image\\//gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 =\n  /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n\n/**\n * escape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\"\n      ? String.fromCharCode(parseInt(code.substr(1), 16))\n      : String.fromCharCode(parseInt(code, 10));\n  });\n}\n\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeDangerHtml5Entities(str) {\n  return str\n    .replace(REGEXP_ATTR_VALUE_COLON, \":\")\n    .replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n  return _$2.trim(str2);\n}\n\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function () {};\n  }\n\n  var isRemoveAllTag = !Array.isArray(tags);\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _$2.indexOf(tags, tag) !== -1;\n  }\n\n  var removeList = [];\n  var posStart = false;\n\n  return {\n    onIgnoreTag: function (tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([\n            posStart !== false ? posStart : options.position,\n            end,\n          ]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function (html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n      _$2.forEach(removeList, function (pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    },\n  };\n}\n\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripCommentTag(html) {\n  var retHtml = \"\";\n  var lastPos = 0;\n  while (lastPos < html.length) {\n    var i = html.indexOf(\"<!--\", lastPos);\n    if (i === -1) {\n      retHtml += html.slice(lastPos);\n      break;\n    }\n    retHtml += html.slice(lastPos, i);\n    var j = html.indexOf(\"-->\", i);\n    if (j === -1) {\n      break;\n    }\n    lastPos = j + 3;\n  }\n  return retHtml;\n}\n\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function (char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n    return true;\n  });\n  return chars.join(\"\");\n}\n\n_default$1.whiteList = getDefaultWhiteList();\n_default$1.getDefaultWhiteList = getDefaultWhiteList;\n_default$1.onTag = onTag;\n_default$1.onIgnoreTag = onIgnoreTag;\n_default$1.onTagAttr = onTagAttr;\n_default$1.onIgnoreTagAttr = onIgnoreTagAttr;\n_default$1.safeAttrValue = safeAttrValue;\n_default$1.escapeHtml = escapeHtml;\n_default$1.escapeQuote = escapeQuote;\n_default$1.unescapeQuote = unescapeQuote;\n_default$1.escapeHtmlEntities = escapeHtmlEntities;\n_default$1.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\n_default$1.clearNonPrintableCharacter = clearNonPrintableCharacter;\n_default$1.friendlyAttrValue = friendlyAttrValue;\n_default$1.escapeAttrValue = escapeAttrValue;\n_default$1.onIgnoreTagStripAll = onIgnoreTagStripAll;\n_default$1.StripTagBody = StripTagBody;\n_default$1.stripCommentTag = stripCommentTag;\n_default$1.stripBlankChar = stripBlankChar;\n_default$1.cssFilter = defaultCSSFilter;\n_default$1.getDefaultCSSWhiteList = getDefaultCSSWhiteList;\n\nvar parser$1 = {};\n\n/**\n * Simple HTML Parser\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar _$1 = util;\n\n/**\n * get tag name\n *\n * @param {String} html e.g. '<a hef=\"#\">'\n * @return {String}\n */\nfunction getTagName(html) {\n  var i = _$1.spaceIndex(html);\n  var tagName;\n  if (i === -1) {\n    tagName = html.slice(1, -1);\n  } else {\n    tagName = html.slice(1, i + 1);\n  }\n  tagName = _$1.trim(tagName).toLowerCase();\n  if (tagName.slice(0, 1) === \"/\") tagName = tagName.slice(1);\n  if (tagName.slice(-1) === \"/\") tagName = tagName.slice(0, -1);\n  return tagName;\n}\n\n/**\n * is close tag?\n *\n * @param {String} html 如：'<a hef=\"#\">'\n * @return {Boolean}\n */\nfunction isClosing(html) {\n  return html.slice(0, 2) === \"</\";\n}\n\n/**\n * parse input html and returns processed html\n *\n * @param {String} html\n * @param {Function} onTag e.g. function (sourcePosition, position, tag, html, isClosing)\n * @param {Function} escapeHtml\n * @return {String}\n */\nfunction parseTag$1(html, onTag, escapeHtml) {\n\n  var rethtml = \"\";\n  var lastPos = 0;\n  var tagStart = false;\n  var quoteStart = false;\n  var currentPos = 0;\n  var len = html.length;\n  var currentTagName = \"\";\n  var currentHtml = \"\";\n\n  chariterator: for (currentPos = 0; currentPos < len; currentPos++) {\n    var c = html.charAt(currentPos);\n    if (tagStart === false) {\n      if (c === \"<\") {\n        tagStart = currentPos;\n        continue;\n      }\n    } else {\n      if (quoteStart === false) {\n        if (c === \"<\") {\n          rethtml += escapeHtml(html.slice(lastPos, currentPos));\n          tagStart = currentPos;\n          lastPos = currentPos;\n          continue;\n        }\n        if (c === \">\") {\n          rethtml += escapeHtml(html.slice(lastPos, tagStart));\n          currentHtml = html.slice(tagStart, currentPos + 1);\n          currentTagName = getTagName(currentHtml);\n          rethtml += onTag(\n            tagStart,\n            rethtml.length,\n            currentTagName,\n            currentHtml,\n            isClosing(currentHtml)\n          );\n          lastPos = currentPos + 1;\n          tagStart = false;\n          continue;\n        }\n        if (c === '\"' || c === \"'\") {\n          var i = 1;\n          var ic = html.charAt(currentPos - i);\n\n          while (ic.trim() === \"\" || ic === \"=\") {\n            if (ic === \"=\") {\n              quoteStart = c;\n              continue chariterator;\n            }\n            ic = html.charAt(currentPos - ++i);\n          }\n        }\n      } else {\n        if (c === quoteStart) {\n          quoteStart = false;\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < html.length) {\n    rethtml += escapeHtml(html.substr(lastPos));\n  }\n\n  return rethtml;\n}\n\nvar REGEXP_ILLEGAL_ATTR_NAME = /[^a-zA-Z0-9\\\\_:.-]/gim;\n\n/**\n * parse input attributes and returns processed attributes\n *\n * @param {String} html e.g. `href=\"#\" target=\"_blank\"`\n * @param {Function} onAttr e.g. `function (name, value)`\n * @return {String}\n */\nfunction parseAttr$1(html, onAttr) {\n\n  var lastPos = 0;\n  var lastMarkPos = 0;\n  var retAttrs = [];\n  var tmpName = false;\n  var len = html.length;\n\n  function addAttr(name, value) {\n    name = _$1.trim(name);\n    name = name.replace(REGEXP_ILLEGAL_ATTR_NAME, \"\").toLowerCase();\n    if (name.length < 1) return;\n    var ret = onAttr(name, value || \"\");\n    if (ret) retAttrs.push(ret);\n  }\n\n  // 逐个分析字符\n  for (var i = 0; i < len; i++) {\n    var c = html.charAt(i);\n    var v, j;\n    if (tmpName === false && c === \"=\") {\n      tmpName = html.slice(lastPos, i);\n      lastPos = i + 1;\n      lastMarkPos = html.charAt(lastPos) === '\"' || html.charAt(lastPos) === \"'\" ? lastPos : findNextQuotationMark(html, i + 1);\n      continue;\n    }\n    if (tmpName !== false) {\n      if (\n        i === lastMarkPos\n      ) {\n        j = html.indexOf(c, i + 1);\n        if (j === -1) {\n          break;\n        } else {\n          v = _$1.trim(html.slice(lastMarkPos + 1, j));\n          addAttr(tmpName, v);\n          tmpName = false;\n          i = j;\n          lastPos = i + 1;\n          continue;\n        }\n      }\n    }\n    if (/\\s|\\n|\\t/.test(c)) {\n      html = html.replace(/\\s|\\n|\\t/g, \" \");\n      if (tmpName === false) {\n        j = findNextEqual(html, i);\n        if (j === -1) {\n          v = _$1.trim(html.slice(lastPos, i));\n          addAttr(v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          i = j - 1;\n          continue;\n        }\n      } else {\n        j = findBeforeEqual(html, i - 1);\n        if (j === -1) {\n          v = _$1.trim(html.slice(lastPos, i));\n          v = stripQuoteWrap(v);\n          addAttr(tmpName, v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          continue;\n        }\n      }\n    }\n  }\n\n  if (lastPos < html.length) {\n    if (tmpName === false) {\n      addAttr(html.slice(lastPos));\n    } else {\n      addAttr(tmpName, stripQuoteWrap(_$1.trim(html.slice(lastPos))));\n    }\n  }\n\n  return _$1.trim(retAttrs.join(\" \"));\n}\n\nfunction findNextEqual(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction findNextQuotationMark(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"'\" || c === '\"') return i;\n    return -1;\n  }\n}\n\nfunction findBeforeEqual(str, i) {\n  for (; i > 0; i--) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction isQuoteWrapString(text) {\n  if (\n    (text[0] === '\"' && text[text.length - 1] === '\"') ||\n    (text[0] === \"'\" && text[text.length - 1] === \"'\")\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction stripQuoteWrap(text) {\n  if (isQuoteWrapString(text)) {\n    return text.substr(1, text.length - 2);\n  } else {\n    return text;\n  }\n}\n\nparser$1.parseTag = parseTag$1;\nparser$1.parseAttr = parseAttr$1;\n\n/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = lib.exports.FilterCSS;\nvar DEFAULT = _default$1;\nvar parser = parser$1;\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = util;\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\",\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing,\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\nfunction keysToLowerCase(obj) {\n  var ret = {};\n  for (var i in obj) {\n    if (Array.isArray(obj[i])) {\n      ret[i.toLowerCase()] = obj[i].map(function (item) {\n        return item.toLowerCase();\n      });\n    } else {\n      ret[i.toLowerCase()] = obj[i];\n    }\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList (or allowList), onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error(\n        'Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time'\n      );\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n  if (options.whiteList || options.allowList) {\n    options.whiteList = keysToLowerCase(options.whiteList || options.allowList);\n  } else {\n    options.whiteList = DEFAULT.whiteList;\n  }\n\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function (html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    stripIgnoreTagBody = DEFAULT.StripTagBody(\n      options.stripIgnoreTagBody,\n      onIgnoreTag\n    );\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n\n  var retHtml = parseTag(\n    html,\n    function (sourcePosition, position, tag, html, isClosing) {\n      var info = {\n        sourcePosition: sourcePosition,\n        position: position,\n        isClosing: isClosing,\n        isWhite: Object.prototype.hasOwnProperty.call(whiteList, tag),\n      };\n\n      // call `onTag()`\n      var ret = onTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n\n      if (info.isWhite) {\n        if (info.isClosing) {\n          return \"</\" + tag + \">\";\n        }\n\n        var attrs = getAttrs(html);\n        var whiteAttrList = whiteList[tag];\n        var attrsHtml = parseAttr(attrs.html, function (name, value) {\n          // call `onTagAttr()`\n          var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n          var ret = onTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n\n          if (isWhiteAttr) {\n            // call `safeAttrValue()`\n            value = safeAttrValue(tag, name, value, cssFilter);\n            if (value) {\n              return name + '=\"' + value + '\"';\n            } else {\n              return name;\n            }\n          } else {\n            // call `onIgnoreTagAttr()`\n            ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n            if (!isNull(ret)) return ret;\n            return;\n          }\n        });\n\n        // build new tag html\n        html = \"<\" + tag;\n        if (attrsHtml) html += \" \" + attrsHtml;\n        if (attrs.closing) html += \" /\";\n        html += \">\";\n        return html;\n      } else {\n        // call `onIgnoreTag()`\n        ret = onIgnoreTag(tag, html, info);\n        if (!isNull(ret)) return ret;\n        return escapeHtml(html);\n      }\n    },\n    escapeHtml\n  );\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n\n  return retHtml;\n};\n\nvar xss = FilterXSS;\n\n/**\n * xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\n(function (module, exports) {\n\tvar DEFAULT = _default$1;\n\tvar parser = parser$1;\n\tvar FilterXSS = xss;\n\n\t/**\n\t * filter xss function\n\t *\n\t * @param {String} html\n\t * @param {Object} options { whiteList, onTag, onTagAttr, onIgnoreTag, onIgnoreTagAttr, safeAttrValue, escapeHtml }\n\t * @return {String}\n\t */\n\tfunction filterXSS(html, options) {\n\t  var xss = new FilterXSS(options);\n\t  return xss.process(html);\n\t}\n\n\texports = module.exports = filterXSS;\n\texports.filterXSS = filterXSS;\n\texports.FilterXSS = FilterXSS;\n\n\t(function () {\n\t  for (var i in DEFAULT) {\n\t    exports[i] = DEFAULT[i];\n\t  }\n\t  for (var j in parser) {\n\t    exports[j] = parser[j];\n\t  }\n\t})();\n\n\t// using `xss` on the WebWorker, output `filterXSS` to the globals\n\tfunction isWorkerEnv() {\n\t  return (\n\t    typeof self !== \"undefined\" &&\n\t    typeof DedicatedWorkerGlobalScope !== \"undefined\" &&\n\t    self instanceof DedicatedWorkerGlobalScope\n\t  );\n\t}\n\tif (isWorkerEnv()) {\n\t  self.filterXSS = module.exports;\n\t}\n} (lib$1, lib$1.exports));\n\n/* Copyright (c) 2020 Environmental Systems Research Institute, Inc.\n * Apache-2.0\n *\n * js-xss\n * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>\n * http://ucdok.com\n * The MIT License, see\n * https://github.com/leizongmin/js-xss/blob/master/LICENSE for details\n * */\n/**\n * The Sanitizer Class\n *\n * @export\n * @class Sanitizer\n */\nvar Sanitizer = /** @class */ (function () {\n    function Sanitizer(filterOptions, extendDefaults) {\n        var _this = this;\n        // Supported HTML Spec: https://doc.arcgis.com/en/arcgis-online/reference/supported-html.htm\n        this.arcgisWhiteList = {\n            a: [\"href\", \"style\", \"target\"],\n            abbr: [\"title\"],\n            audio: [\"autoplay\", \"controls\", \"loop\", \"muted\", \"preload\"],\n            b: [],\n            br: [],\n            dd: [\"style\"],\n            div: [\"align\", \"style\"],\n            dl: [\"style\"],\n            dt: [\"style\"],\n            em: [],\n            figcaption: [\"style\"],\n            figure: [\"style\"],\n            font: [\"color\", \"face\", \"size\", \"style\"],\n            h1: [\"style\"],\n            h2: [\"style\"],\n            h3: [\"style\"],\n            h4: [\"style\"],\n            h5: [\"style\"],\n            h6: [\"style\"],\n            hr: [],\n            i: [],\n            img: [\"alt\", \"border\", \"height\", \"src\", \"style\", \"width\"],\n            li: [],\n            ol: [],\n            p: [\"style\"],\n            source: [\"media\", \"src\", \"type\"],\n            span: [\"style\"],\n            strong: [],\n            sub: [\"style\"],\n            sup: [\"style\"],\n            table: [\"border\", \"cellpadding\", \"cellspacing\", \"height\", \"style\", \"width\"],\n            tbody: [],\n            tr: [\"align\", \"height\", \"style\", \"valign\"],\n            td: [\n                \"align\",\n                \"colspan\",\n                \"height\",\n                \"nowrap\",\n                \"rowspan\",\n                \"style\",\n                \"valign\",\n                \"width\",\n            ],\n            th: [\n                \"align\",\n                \"colspan\",\n                \"height\",\n                \"nowrap\",\n                \"rowspan\",\n                \"style\",\n                \"valign\",\n                \"width\",\n            ],\n            u: [],\n            ul: [],\n            video: [\n                \"autoplay\",\n                \"controls\",\n                \"height\",\n                \"loop\",\n                \"muted\",\n                \"poster\",\n                \"preload\",\n                \"width\",\n            ],\n        };\n        this.allowedProtocols = [\n            \"http\",\n            \"https\",\n            \"mailto\",\n            \"iform\",\n            \"tel\",\n            \"flow\",\n            \"lfmobile\",\n            \"arcgis-navigator\",\n            \"arcgis-appstudio-player\",\n            \"arcgis-survey123\",\n            \"arcgis-collector\",\n            \"arcgis-workforce\",\n            \"arcgis-explorer\",\n            \"arcgis-trek2there\",\n            \"arcgis-quickcapture\",\n            \"mspbi\",\n            \"comgooglemaps\",\n            \"pdfefile\",\n            \"pdfehttp\",\n            \"pdfehttps\",\n            \"boxapp\",\n            \"boxemm\",\n            \"awb\",\n            \"awbs\",\n            \"gropen\",\n            \"radarscope\",\n        ];\n        this.arcgisFilterOptions = {\n            allowCommentTag: true,\n            safeAttrValue: function (tag, name, value, cssFilter) {\n                // Take over safe attribute filtering for `a` `href`, `img` `src`,\n                // and `source` `src` attributes, otherwise pass onto the\n                // default `XSS.safeAttrValue` method.\n                if ((tag === \"a\" && name === \"href\") ||\n                    ((tag === \"img\" || tag === \"source\") && name === \"src\")) {\n                    return _this.sanitizeUrl(value);\n                }\n                return lib$1.exports.safeAttrValue(tag, name, value, cssFilter);\n            },\n        };\n        this._entityMap = {\n            \"&\": \"&#x38;\",\n            \"<\": \"&#x3C;\",\n            \">\": \"&#x3E;\",\n            '\"': \"&#x22;\",\n            \"'\": \"&#x27;\",\n            \"/\": \"&#x2F;\",\n        };\n        var xssFilterOptions;\n        if (filterOptions && !extendDefaults) {\n            // Override the defaults\n            xssFilterOptions = filterOptions;\n        }\n        else if (filterOptions && extendDefaults) {\n            // Extend the defaults\n            xssFilterOptions = Object.create(this.arcgisFilterOptions);\n            Object.keys(filterOptions).forEach(function (key) {\n                if (key === \"whiteList\") {\n                    // Extend the whitelist by concatenating arrays\n                    xssFilterOptions.whiteList = _this._extendObjectOfArrays([\n                        _this.arcgisWhiteList,\n                        filterOptions.whiteList || {},\n                    ]);\n                }\n                else {\n                    xssFilterOptions[key] = filterOptions[key];\n                }\n            });\n        }\n        else {\n            // Only use the defaults\n            xssFilterOptions = Object.create(this.arcgisFilterOptions);\n            xssFilterOptions.whiteList = this.arcgisWhiteList;\n        }\n        this.xssFilterOptions = xssFilterOptions;\n        // Make this readable to tests\n        this._xssFilter = new lib$1.exports.FilterXSS(xssFilterOptions);\n    }\n    /**\n     * Sanitizes value to remove invalid HTML tags.\n     *\n     * Note: If the value passed does not contain a valid JSON data type (String,\n     * Number, JSON Object, Array, Boolean, or null), the value will be nullified.\n     *\n     * @param {any} value The value to sanitize.\n     * @returns {any} The sanitized value.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype.sanitize = function (value, options) {\n        if (options === void 0) { options = {}; }\n        switch (typeof value) {\n            case \"number\":\n                if (isNaN(value) || !isFinite(value)) {\n                    return null;\n                }\n                return value;\n            case \"boolean\":\n                return value;\n            case \"string\":\n                return this._xssFilter.process(value);\n            case \"object\":\n                return this._iterateOverObject(value, options);\n            default:\n                if (options.allowUndefined && typeof value === \"undefined\") {\n                    return;\n                }\n                return null;\n        }\n    };\n    /**\n     * Sanitizes a URL string following the allowed protocols and sanitization rules.\n     *\n     * @param {string} value The URL to sanitize.\n     * @param {{ isProtocolRequired: boolean }} options Configuration options for URL checking.\n     * @returns {string} The sanitized URL if it's valid, or an empty string if the URL is invalid.\n     */\n    Sanitizer.prototype.sanitizeUrl = function (value, options) {\n        var _a = (options !== null && options !== void 0 ? options : {}).isProtocolRequired, isProtocolRequired = _a === void 0 ? true : _a;\n        var protocol = this._trim(value.substring(0, value.indexOf(\":\")));\n        var isRootUrl = value === '/';\n        var isUrlFragment = /^#/.test(value);\n        var isValidProtocol = protocol && this.allowedProtocols.indexOf(protocol.toLowerCase()) > -1;\n        if (isRootUrl || isUrlFragment || isValidProtocol) {\n            return lib$1.exports.escapeAttrValue(value);\n        }\n        if (!protocol && !isProtocolRequired) {\n            return lib$1.exports.escapeAttrValue(\"https://\".concat(value));\n        }\n        return \"\";\n    };\n    /**\n     * Sanitizes an HTML attribute value.\n     *\n     * @param {string} tag The tagname of the HTML element.\n     * @param {string} attribute The attribute name of the HTML element.\n     * @param {string} value The raw value to be used for the HTML attribute value.\n     * @param {XSS.ICSSFilter} [cssFilter] The CSS filter to be used.\n     * @returns {string} The sanitized attribute value.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype.sanitizeHTMLAttribute = function (tag, attribute, value, cssFilter) {\n        // use the custom safeAttrValue function if provided\n        if (typeof this.xssFilterOptions.safeAttrValue === \"function\") {\n            return this.xssFilterOptions.safeAttrValue(tag, attribute, value, \n            // @ts-expect-error safeAttrValue does handle undefined cssFilter\n            cssFilter);\n        }\n        // otherwise use the default\n        // @ts-ignore safeAttrValue does handle undefined cssFilter\n        return lib$1.exports.safeAttrValue(tag, attribute, value, cssFilter);\n    };\n    /**\n     * Checks if a value only contains valid HTML.\n     *\n     * @param {any} value The value to validate.\n     * @returns {boolean}\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype.validate = function (value, options) {\n        if (options === void 0) { options = {}; }\n        var sanitized = this.sanitize(value, options);\n        return {\n            isValid: value === sanitized,\n            sanitized: sanitized,\n        };\n    };\n    /**\n     * Encodes the following characters, `& < > \\\" ' /` to their hexadecimal HTML entity code.\n     * Example: \"&middot;\" => \"&#x38;middot;\"\n     *\n     * @param {string} value The value to encode.\n     * @returns {string} The encoded string value.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype.encodeHTML = function (value) {\n        var _this = this;\n        return String(value).replace(/[&<>\"'\\/]/g, function (s) {\n            return _this._entityMap[s];\n        });\n    };\n    /**\n     * Encodes all non-alphanumeric ASCII characters to their hexadecimal HTML entity codes.\n     * Example: \"alert(document.cookie)\" => \"alert&#x28;document&#x2e;cookie&#x29;\"\n     *\n     * @param {string} value The value to encode.\n     * @returns {string} The encoded string value.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype.encodeAttrValue = function (value) {\n        var alphanumericRE = /^[a-zA-Z0-9]$/;\n        return String(value).replace(/[\\x00-\\xFF]/g, function (c, idx) {\n            return !alphanumericRE.test(c)\n                ? \"&#x\".concat(Number(value.charCodeAt(idx)).toString(16), \";\")\n                : c;\n        });\n    };\n    /**\n     * Extends an object of arrays by by concatenating arrays of the same object\n     * keys. If the if the previous key's value is not an array, the next key's\n     * value will replace the previous key. This method is used for extending the\n     * whiteList in the XSS filter options.\n     *\n     * @private\n     * @param {Array<{}>} objects An array of objects.\n     * @returns {{}} The extended object.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype._extendObjectOfArrays = function (objects) {\n        var finalObj = {};\n        objects.forEach(function (obj) {\n            Object.keys(obj).forEach(function (key) {\n                if (Array.isArray(obj[key]) && Array.isArray(finalObj[key])) {\n                    finalObj[key] = finalObj[key].concat(obj[key]);\n                }\n                else {\n                    finalObj[key] = obj[key];\n                }\n            });\n        });\n        return finalObj;\n    };\n    /**\n     * Iterate over a plain object or array to deeply sanitize each value.\n     *\n     * @private\n     * @param {object} obj The object to iterate over.\n     * @returns {(object | null)} The sanitized object.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype._iterateOverObject = function (obj, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        try {\n            var hasChanged_1 = false;\n            var changedObj = void 0;\n            if (Array.isArray(obj)) {\n                changedObj = obj.reduce(function (prev, value) {\n                    var validation = _this.validate(value, options);\n                    if (validation.isValid) {\n                        return prev.concat([value]);\n                    }\n                    else {\n                        hasChanged_1 = true;\n                        return prev.concat([validation.sanitized]);\n                    }\n                }, []);\n            }\n            else if (!isPlainObject(obj)) {\n                if (options.allowUndefined && typeof obj === \"undefined\") {\n                    return;\n                }\n                return null;\n            }\n            else {\n                var keys = Object.keys(obj);\n                changedObj = keys.reduce(function (prev, key) {\n                    var value = obj[key];\n                    var validation = _this.validate(value, options);\n                    if (validation.isValid) {\n                        prev[key] = value;\n                    }\n                    else {\n                        hasChanged_1 = true;\n                        prev[key] = validation.sanitized;\n                    }\n                    return prev;\n                }, {});\n            }\n            if (hasChanged_1) {\n                return changedObj;\n            }\n            return obj;\n        }\n        catch (err) {\n            return null;\n        }\n    };\n    /**\n     * Trim whitespace from the start and ends of a string.\n     * @param {string} val The string to trim.\n     * @returns {string} The trimmed string.\n     */\n    Sanitizer.prototype._trim = function (val) {\n        // @ts-ignore This is used by Jest,\n        // but TypeScript errors since it assumes `trim` is always available.\n        return String.prototype.trim\n            ? val.trim()\n            : val.replace(/(^\\s*)|(\\s*$)/g, \"\");\n    };\n    return Sanitizer;\n}());\n\nexport { Sanitizer, Sanitizer as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}