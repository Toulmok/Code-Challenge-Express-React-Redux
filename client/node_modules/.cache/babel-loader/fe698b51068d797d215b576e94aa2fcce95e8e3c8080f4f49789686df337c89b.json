{"ast":null,"code":"import _toConsumableArray from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { difference as e } from \"../../core/arrayUtils.js\";\nimport t from \"../../core/Error.js\";\nimport r from \"../../core/Logger.js\";\nimport { isNone as a, isSome as o } from \"../../core/maybe.js\";\nimport { debounce as s, eachAlways as l } from \"../../core/promiseUtils.js\";\nimport { updateOrigins as i } from \"../../core/accessorSupport/originUtils.js\";\nimport n from \"../FeatureLayer.js\";\nimport { parse as u } from \"../support/arcgisLayerUrl.js\";\nimport { fetchFeatureService as p } from \"../support/fetchService.js\";\nimport { isFeatureCollectionLayer as c, isFeatureServiceLayer as y } from \"../support/layerUtils.js\";\nimport d from \"../../portal/Portal.js\";\nimport m from \"../../portal/PortalItem.js\";\nimport { createForItemWrite as f } from \"../../portal/support/jsonContext.js\";\nimport { addTypeKeyword as w, TypeKeyword as h, getWGS84ExtentForItem as v, removeTypeKeyword as b } from \"../../portal/support/portalItemUtils.js\";\nvar I = r.getLogger(\"esri.layers.FeatureLayer\"),\n  S = \"Feature Service\";\nfunction g(e, t) {\n  return \"Layer (title: \".concat(e.title, \", id: \").concat(e.id, \") of type '\").concat(e.declaredClass, \"' \").concat(t);\n}\nfunction j(e, r) {\n  if (r.type !== S) throw new t(\"feature-layer:portal-item-wrong-type\", g(e, \"should have portal item of type \\\"\".concat(S, \"\\\"\")));\n}\nfunction L(_x) {\n  return _L.apply(this, arguments);\n}\nfunction _L() {\n  _L = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e) {\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return e.load();\n        case 2:\n          if (!c(e)) {\n            _context2.next = 4;\n            break;\n          }\n          throw new t(\"feature-layer:save\", g(e, \"using an in-memory source cannot be saved to a portal item\"));\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _L.apply(this, arguments);\n}\nfunction P(e, r) {\n  var _e$messages;\n  var a = ((_e$messages = e.messages) !== null && _e$messages !== void 0 ? _e$messages : []).filter(function (_ref) {\n    var e = _ref.type;\n    return \"error\" === e;\n  }).map(function (_ref2) {\n    var e = _ref2.name,\n      r = _ref2.message,\n      a = _ref2.details;\n    return new t(e, r, a);\n  });\n  if (r !== null && r !== void 0 && r.ignoreUnsupported && (a = a.filter(function (_ref3) {\n    var e = _ref3.name;\n    return \"layer:unsupported\" !== e && \"symbol:unsupported\" !== e && \"symbol-layer:unsupported\" !== e && \"property:unsupported\" !== e && \"url:unsupported\" !== e;\n  })), a.length > 0) throw new t(\"feature-layer:save\", \"Failed to save feature layer due to unsupported or invalid content. See 'details.errors' for more detailed information\", {\n    errors: a\n  });\n}\nfunction J(_x2, _x3, _x4) {\n  return _J.apply(this, arguments);\n}\nfunction _J() {\n  _J = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e, t, r) {\n    var a;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.t0 = \"beforeSave\" in e && \"function\" == typeof e.beforeSave;\n          if (!_context3.t0) {\n            _context3.next = 4;\n            break;\n          }\n          _context3.next = 4;\n          return e.beforeSave();\n        case 4:\n          a = e.write({}, t);\n          return _context3.abrupt(\"return\", (P(t, r), a));\n        case 6:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return _J.apply(this, arguments);\n}\nfunction N(e) {\n  var t = e.layer,\n    r = e.layerJSON;\n  return t.isTable ? {\n    layers: [],\n    tables: [r]\n  } : {\n    layers: [r],\n    tables: []\n  };\n}\nfunction O(e) {\n  w(e, h.JSAPI), e.typeKeywords && (e.typeKeywords = e.typeKeywords.filter(function (e, t, r) {\n    return r.indexOf(e) === t;\n  }));\n}\nfunction E(e) {\n  var r = e.portalItem;\n  if (!r) throw I.error(\"save: requires the portalItem property to be set\"), new t(\"feature-layer:portal-item-not-set\", g(e, \"requires the portalItem property to be set\"));\n  if (!r.loaded) throw new t(\"feature-layer:portal-item-not-loaded\", g(e, \"cannot be saved to a portal item that does not exist or is inaccessible\"));\n  j(e, r);\n}\nfunction T(_x5, _x6) {\n  return _T.apply(this, arguments);\n}\nfunction _T() {\n  _T = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(e, t) {\n    var _e$url;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          return _context4.abrupt(\"return\", /\\/\\d+\\/?$/.test((_e$url = e.url) !== null && _e$url !== void 0 ? _e$url : \"\") ? N(t[0]) : $(e, t));\n        case 1:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return _T.apply(this, arguments);\n}\nfunction $(_x7, _x8) {\n  return _$.apply(this, arguments);\n}\nfunction _$() {\n  _$ = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(e, t) {\n    var _t$0$layer, r, a, o, s, _iterator, _step, _l;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _t$0$layer = t[0].layer, r = _t$0$layer.url, a = _t$0$layer.customParameters, o = _t$0$layer.apiKey;\n          _context5.next = 3;\n          return e.fetchData(\"json\");\n        case 3:\n          s = _context5.sent;\n          _context5.t0 = s && null != s.layers && null != s.tables;\n          if (_context5.t0) {\n            _context5.next = 9;\n            break;\n          }\n          _context5.next = 8;\n          return x(s, {\n            url: r !== null && r !== void 0 ? r : \"\",\n            customParameters: a,\n            apiKey: o\n          }, t.map(function (e) {\n            return e.layer.layerId;\n          }));\n        case 8:\n          s = _context5.sent;\n        case 9:\n          _iterator = _createForOfIteratorHelper(t);\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              _l = _step.value;\n              K(_l.layer, _l.layerJSON, s);\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n          return _context5.abrupt(\"return\", s);\n        case 12:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return _$.apply(this, arguments);\n}\nfunction x(_x9, _x10, _x11) {\n  return _x12.apply(this, arguments);\n}\nfunction _x12() {\n  _x12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(e, t, r) {\n    var a, o, s, l, i, _yield$p, n, u, c, y, d, m;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          e || (e = {}), (a = e).layers || (a.layers = []), (o = e).tables || (o.tables = []);\n          s = t.url;\n          l = t.customParameters;\n          i = t.apiKey;\n          _context6.next = 6;\n          return p(s, {\n            customParameters: l,\n            apiKey: i\n          });\n        case 6:\n          _yield$p = _context6.sent;\n          n = _yield$p.serviceJSON;\n          u = _yield$p.layersJSON;\n          c = A(e.layers, n.layers, r);\n          y = A(e.tables, n.tables, r);\n          e.layers = c.itemResources, e.tables = y.itemResources;\n          d = [].concat(_toConsumableArray(c.added), _toConsumableArray(y.added)), m = u ? [].concat(_toConsumableArray(u.layers), _toConsumableArray(u.tables)) : [];\n          _context6.next = 15;\n          return U(e, d, s, m);\n        case 15:\n          return _context6.abrupt(\"return\", e);\n        case 16:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return _x12.apply(this, arguments);\n}\nfunction A(t, r, a) {\n  var o = e(t, r, function (e, t) {\n    return e.id === t.id;\n  });\n  t = t.filter(function (e) {\n    return !o.removed.some(function (t) {\n      return t.id === e.id;\n    });\n  });\n  var s = o.added.map(function (_ref4) {\n    var e = _ref4.id;\n    return {\n      id: e\n    };\n  });\n  return s.forEach(function (_ref5) {\n    var e = _ref5.id;\n    t.push({\n      id: e\n    });\n  }), {\n    itemResources: t,\n    added: s.filter(function (_ref6) {\n      var e = _ref6.id;\n      return !a.includes(e);\n    })\n  };\n}\nfunction U(_x13, _x14, _x15, _x16) {\n  return _U.apply(this, arguments);\n}\nfunction _U() {\n  _U = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(e, t, r, o) {\n    var s;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          s = t.map(function (_ref9) {\n            var e = _ref9.id;\n            return new n({\n              url: r,\n              layerId: e,\n              sourceJSON: o.find(function (_ref10) {\n                var t = _ref10.id;\n                return t === e;\n              })\n            });\n          });\n          _context7.next = 3;\n          return l(s.map(function (e) {\n            return e.load();\n          }));\n        case 3:\n          s.forEach(function (t) {\n            var r = t.layerId,\n              o = t.loaded,\n              s = t.defaultPopupTemplate;\n            if (!o || a(s)) return;\n            K(t, {\n              id: r,\n              popupInfo: s.toJSON()\n            }, e);\n          });\n        case 4:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return _U.apply(this, arguments);\n}\nfunction K(e, t, r) {\n  e.isTable ? F(r.tables, t) : F(r.layers, t);\n}\nfunction F(e, t) {\n  if (!e) return;\n  var r = e.findIndex(function (_ref7) {\n    var e = _ref7.id;\n    return e === t.id;\n  });\n  -1 === r ? e.push(t) : e[r] = t;\n}\nfunction R(e) {\n  var t = e.portalItem;\n  return y(e) && !e.dynamicDataSource && !!(t !== null && t !== void 0 && t.loaded) && t.type === S;\n}\nfunction D(_x17) {\n  return _D.apply(this, arguments);\n}\nfunction _D() {\n  _D = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(e) {\n    var _iterator2, _step2, o, r, a;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          if (e !== null && e !== void 0 && e.length) {\n            _context8.next = 2;\n            break;\n          }\n          throw new t(\"feature-layer-utils-saveall:missing-parameters\", \"'layers' array should contain at least one feature layer\");\n        case 2:\n          _context8.next = 4;\n          return Promise.all(e.map(function (e) {\n            return e.load();\n          }));\n        case 4:\n          _iterator2 = _createForOfIteratorHelper(e);\n          _context8.prev = 5;\n          _iterator2.s();\n        case 7:\n          if ((_step2 = _iterator2.n()).done) {\n            _context8.next = 13;\n            break;\n          }\n          o = _step2.value;\n          if (R(o)) {\n            _context8.next = 11;\n            break;\n          }\n          throw new t(\"feature-layer-utils-saveall:invalid-parameters\", \"'layers' array should only contain layers or tables in a feature service loaded from 'Feature Service' item. \".concat(g(o, \"does not conform\")), {\n            layer: o\n          });\n        case 11:\n          _context8.next = 7;\n          break;\n        case 13:\n          _context8.next = 18;\n          break;\n        case 15:\n          _context8.prev = 15;\n          _context8.t0 = _context8[\"catch\"](5);\n          _iterator2.e(_context8.t0);\n        case 18:\n          _context8.prev = 18;\n          _iterator2.f();\n          return _context8.finish(18);\n        case 21:\n          r = e.map(function (e) {\n            return e.portalItem.id;\n          });\n          if (!(new Set(r).size > 1)) {\n            _context8.next = 24;\n            break;\n          }\n          throw new t(\"feature-layer-utils-saveall:invalid-parameters\", \"All layers in the 'layers' array should be loaded from the same portal item\");\n        case 24:\n          a = e.map(function (e) {\n            return e.layerId;\n          });\n          if (!(new Set(a).size !== a.length)) {\n            _context8.next = 27;\n            break;\n          }\n          throw new t(\"feature-layer-utils-saveall:invalid-parameters\", \"'layers' array should contain only one instance each of layer or table in a feature service\");\n        case 27:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[5, 15, 18, 21]]);\n  }));\n  return _D.apply(this, arguments);\n}\nfunction q(e, t) {\n  var _r$type, _a$portal;\n  var r, a;\n  var o = m.from(t);\n  return o.id && (o = o.clone(), o.id = null), (_r$type = (r = o).type) !== null && _r$type !== void 0 ? _r$type : r.type = S, (_a$portal = (a = o).portal) !== null && _a$portal !== void 0 ? _a$portal : a.portal = d.getDefault(), j(e, o), o;\n}\nfunction z(_x18, _x19) {\n  return _z.apply(this, arguments);\n}\nfunction _z() {\n  _z = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(e, t) {\n    var r, a, s, l, i, n, p;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          r = e.url, a = e.layerId, s = e.title, l = e.fullExtent, i = e.isTable, n = u(r), p = o(n) && \"FeatureServer\" === n.serverType;\n          t.url = p ? r : \"\".concat(r, \"/\").concat(a);\n          t.title || (t.title = s);\n          t.extent = null;\n          _context9.t0 = !i && o(l);\n          if (!_context9.t0) {\n            _context9.next = 9;\n            break;\n          }\n          _context9.next = 8;\n          return v(l);\n        case 8:\n          t.extent = _context9.sent;\n        case 9:\n          b(t, h.METADATA);\n          b(t, h.MULTI_LAYER);\n          w(t, h.SINGLE_LAYER);\n          i && w(t, h.TABLE);\n          O(t);\n        case 14:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }));\n  return _z.apply(this, arguments);\n}\nfunction C(_x20, _x21, _x22) {\n  return _C.apply(this, arguments);\n}\nfunction _C() {\n  _C = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(e, t, r) {\n    var _a$user;\n    var a;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          a = e.portal;\n          _context10.next = 3;\n          return a === null || a === void 0 ? void 0 : a.signIn();\n        case 3:\n          _context10.next = 5;\n          return a === null || a === void 0 ? void 0 : (_a$user = a.user) === null || _a$user === void 0 ? void 0 : _a$user.addItem({\n            item: e,\n            data: t,\n            folder: r === null || r === void 0 ? void 0 : r.folder\n          });\n        case 5:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10);\n  }));\n  return _C.apply(this, arguments);\n}\nvar M = s(Y);\nfunction Y(_x23, _x24) {\n  return _Y.apply(this, arguments);\n}\nfunction _Y() {\n  _Y = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(e, t) {\n    var r, a, o, s;\n    return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.next = 2;\n          return L(e);\n        case 2:\n          E(e);\n          r = e.portalItem;\n          a = f(r);\n          _context11.next = 7;\n          return J(e, a, t);\n        case 7:\n          o = _context11.sent;\n          _context11.next = 10;\n          return T(r, [{\n            layer: e,\n            layerJSON: o\n          }]);\n        case 10:\n          s = _context11.sent;\n          O(r);\n          _context11.next = 14;\n          return r.update({\n            data: s\n          });\n        case 14:\n          i(a);\n          return _context11.abrupt(\"return\", r);\n        case 16:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11);\n  }));\n  return _Y.apply(this, arguments);\n}\nvar _ = s( /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e, t) {\n      var r, a, o, s;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return D(e);\n          case 2:\n            r = e[0].portalItem;\n            a = f(r);\n            _context.next = 6;\n            return Promise.all(e.map(function (e) {\n              return J(e, a, t);\n            }));\n          case 6:\n            o = _context.sent;\n            _context.next = 9;\n            return T(r, e.map(function (e, t) {\n              return {\n                layer: e,\n                layerJSON: o[t]\n              };\n            }));\n          case 9:\n            s = _context.sent;\n            O(r);\n            _context.next = 13;\n            return r.update({\n              data: s\n            });\n          case 13:\n            _context.next = 15;\n            return Promise.all(e.slice(1).map(function (e) {\n              return e.portalItem.reload();\n            }));\n          case 15:\n            i(a);\n            return _context.abrupt(\"return\", r.clone());\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function (_x25, _x26) {\n      return _ref8.apply(this, arguments);\n    };\n  }()),\n  B = s(G);\nfunction G(_x27, _x28, _x29) {\n  return _G.apply(this, arguments);\n}\nfunction _G() {\n  _G = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(e, t, r) {\n    var a, o, s;\n    return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n      while (1) switch (_context12.prev = _context12.next) {\n        case 0:\n          _context12.next = 2;\n          return L(e);\n        case 2:\n          a = q(e, t);\n          o = f(a);\n          _context12.t0 = N;\n          _context12.t1 = e;\n          _context12.next = 8;\n          return J(e, o, r);\n        case 8:\n          _context12.t2 = _context12.sent;\n          _context12.t3 = {\n            layer: _context12.t1,\n            layerJSON: _context12.t2\n          };\n          s = (0, _context12.t0)(_context12.t3);\n          _context12.next = 13;\n          return z(e, a);\n        case 13:\n          _context12.next = 15;\n          return C(a, s, r);\n        case 15:\n          e.portalItem = a;\n          i(o);\n          return _context12.abrupt(\"return\", a);\n        case 18:\n        case \"end\":\n          return _context12.stop();\n      }\n    }, _callee12);\n  }));\n  return _G.apply(this, arguments);\n}\nexport { M as save, _ as saveAll, B as saveAs };","map":{"version":3,"names":["difference","e","t","r","isNone","a","isSome","o","debounce","s","eachAlways","l","updateOrigins","i","n","parse","u","fetchFeatureService","p","isFeatureCollectionLayer","c","isFeatureServiceLayer","y","d","m","createForItemWrite","f","addTypeKeyword","w","TypeKeyword","h","getWGS84ExtentForItem","v","removeTypeKeyword","b","I","getLogger","S","g","concat","title","id","declaredClass","j","type","L","_x","_L","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_callee2$","_context2","prev","next","load","stop","P","_e$messages","messages","filter","_ref","map","_ref2","name","message","details","ignoreUnsupported","_ref3","length","errors","J","_x2","_x3","_x4","_J","_callee3","_callee3$","_context3","t0","beforeSave","write","abrupt","N","layer","layerJSON","isTable","layers","tables","O","JSAPI","typeKeywords","indexOf","E","portalItem","error","loaded","T","_x5","_x6","_T","_callee4","_e$url","_callee4$","_context4","test","url","$","_x7","_x8","_$","_callee5","_t$0$layer","_iterator","_step","_l","_callee5$","_context5","customParameters","apiKey","fetchData","sent","x","layerId","_createForOfIteratorHelper","done","value","K","err","_x9","_x10","_x11","_x12","_callee6","_yield$p","_callee6$","_context6","serviceJSON","layersJSON","A","itemResources","_toConsumableArray","added","U","removed","some","_ref4","forEach","_ref5","push","_ref6","includes","_x13","_x14","_x15","_x16","_U","_callee7","_callee7$","_context7","_ref9","sourceJSON","find","_ref10","defaultPopupTemplate","popupInfo","toJSON","F","findIndex","_ref7","R","dynamicDataSource","D","_x17","_D","_callee8","_iterator2","_step2","_callee8$","_context8","Promise","all","finish","Set","size","q","_r$type","_a$portal","from","clone","portal","getDefault","z","_x18","_x19","_z","_callee9","_callee9$","_context9","fullExtent","serverType","extent","METADATA","MULTI_LAYER","SINGLE_LAYER","TABLE","C","_x20","_x21","_x22","_C","_callee10","_a$user","_callee10$","_context10","signIn","user","addItem","item","data","folder","M","Y","_x23","_x24","_Y","_callee11","_callee11$","_context11","update","_","_ref8","_callee","_callee$","_context","slice","reload","_x25","_x26","B","G","_x27","_x28","_x29","_G","_callee12","_callee12$","_context12","t1","t2","t3","save","saveAll","saveAs"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/save/featureLayerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{difference as e}from\"../../core/arrayUtils.js\";import t from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{isNone as a,isSome as o}from\"../../core/maybe.js\";import{debounce as s,eachAlways as l}from\"../../core/promiseUtils.js\";import{updateOrigins as i}from\"../../core/accessorSupport/originUtils.js\";import n from\"../FeatureLayer.js\";import{parse as u}from\"../support/arcgisLayerUrl.js\";import{fetchFeatureService as p}from\"../support/fetchService.js\";import{isFeatureCollectionLayer as c,isFeatureServiceLayer as y}from\"../support/layerUtils.js\";import d from\"../../portal/Portal.js\";import m from\"../../portal/PortalItem.js\";import{createForItemWrite as f}from\"../../portal/support/jsonContext.js\";import{addTypeKeyword as w,TypeKeyword as h,getWGS84ExtentForItem as v,removeTypeKeyword as b}from\"../../portal/support/portalItemUtils.js\";const I=r.getLogger(\"esri.layers.FeatureLayer\"),S=\"Feature Service\";function g(e,t){return`Layer (title: ${e.title}, id: ${e.id}) of type '${e.declaredClass}' ${t}`}function j(e,r){if(r.type!==S)throw new t(\"feature-layer:portal-item-wrong-type\",g(e,`should have portal item of type \"${S}\"`))}async function L(e){if(await e.load(),c(e))throw new t(\"feature-layer:save\",g(e,\"using an in-memory source cannot be saved to a portal item\"))}function P(e,r){let a=(e.messages??[]).filter((({type:e})=>\"error\"===e)).map((({name:e,message:r,details:a})=>new t(e,r,a)));if(r?.ignoreUnsupported&&(a=a.filter((({name:e})=>\"layer:unsupported\"!==e&&\"symbol:unsupported\"!==e&&\"symbol-layer:unsupported\"!==e&&\"property:unsupported\"!==e&&\"url:unsupported\"!==e))),a.length>0)throw new t(\"feature-layer:save\",\"Failed to save feature layer due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:a})}async function J(e,t,r){\"beforeSave\"in e&&\"function\"==typeof e.beforeSave&&await e.beforeSave();const a=e.write({},t);return P(t,r),a}function N(e){const{layer:t,layerJSON:r}=e;return t.isTable?{layers:[],tables:[r]}:{layers:[r],tables:[]}}function O(e){w(e,h.JSAPI),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)))}function E(e){const r=e.portalItem;if(!r)throw I.error(\"save: requires the portalItem property to be set\"),new t(\"feature-layer:portal-item-not-set\",g(e,\"requires the portalItem property to be set\"));if(!r.loaded)throw new t(\"feature-layer:portal-item-not-loaded\",g(e,\"cannot be saved to a portal item that does not exist or is inaccessible\"));j(e,r)}async function T(e,t){return/\\/\\d+\\/?$/.test(e.url??\"\")?N(t[0]):$(e,t)}async function $(e,t){const{layer:{url:r,customParameters:a,apiKey:o}}=t[0];let s=await e.fetchData(\"json\");s&&null!=s.layers&&null!=s.tables||(s=await x(s,{url:r??\"\",customParameters:a,apiKey:o},t.map((e=>e.layer.layerId))));for(const l of t)K(l.layer,l.layerJSON,s);return s}async function x(e,t,r){var a,o;e||(e={}),(a=e).layers||(a.layers=[]),(o=e).tables||(o.tables=[]);const{url:s,customParameters:l,apiKey:i}=t,{serviceJSON:n,layersJSON:u}=await p(s,{customParameters:l,apiKey:i}),c=A(e.layers,n.layers,r),y=A(e.tables,n.tables,r);e.layers=c.itemResources,e.tables=y.itemResources;const d=[...c.added,...y.added],m=u?[...u.layers,...u.tables]:[];return await U(e,d,s,m),e}function A(t,r,a){const o=e(t,r,((e,t)=>e.id===t.id));t=t.filter((e=>!o.removed.some((t=>t.id===e.id))));const s=o.added.map((({id:e})=>({id:e})));return s.forEach((({id:e})=>{t.push({id:e})})),{itemResources:t,added:s.filter((({id:e})=>!a.includes(e)))}}async function U(e,t,r,o){const s=t.map((({id:e})=>new n({url:r,layerId:e,sourceJSON:o.find((({id:t})=>t===e))})));await l(s.map((e=>e.load()))),s.forEach((t=>{const{layerId:r,loaded:o,defaultPopupTemplate:s}=t;if(!o||a(s))return;K(t,{id:r,popupInfo:s.toJSON()},e)}))}function K(e,t,r){e.isTable?F(r.tables,t):F(r.layers,t)}function F(e,t){if(!e)return;const r=e.findIndex((({id:e})=>e===t.id));-1===r?e.push(t):e[r]=t}function R(e){const{portalItem:t}=e;return y(e)&&!e.dynamicDataSource&&!!t?.loaded&&t.type===S}async function D(e){if(!e?.length)throw new t(\"feature-layer-utils-saveall:missing-parameters\",\"'layers' array should contain at least one feature layer\");await Promise.all(e.map((e=>e.load())));for(const o of e)if(!R(o))throw new t(\"feature-layer-utils-saveall:invalid-parameters\",`'layers' array should only contain layers or tables in a feature service loaded from 'Feature Service' item. ${g(o,\"does not conform\")}`,{layer:o});const r=e.map((e=>e.portalItem.id));if(new Set(r).size>1)throw new t(\"feature-layer-utils-saveall:invalid-parameters\",\"All layers in the 'layers' array should be loaded from the same portal item\");const a=e.map((e=>e.layerId));if(new Set(a).size!==a.length)throw new t(\"feature-layer-utils-saveall:invalid-parameters\",\"'layers' array should contain only one instance each of layer or table in a feature service\")}function q(e,t){var r,a;let o=m.from(t);return o.id&&(o=o.clone(),o.id=null),(r=o).type??(r.type=S),(a=o).portal??(a.portal=d.getDefault()),j(e,o),o}async function z(e,t){const{url:r,layerId:a,title:s,fullExtent:l,isTable:i}=e,n=u(r),p=o(n)&&\"FeatureServer\"===n.serverType;t.url=p?r:`${r}/${a}`,t.title||(t.title=s),t.extent=null,!i&&o(l)&&(t.extent=await v(l)),b(t,h.METADATA),b(t,h.MULTI_LAYER),w(t,h.SINGLE_LAYER),i&&w(t,h.TABLE),O(t)}async function C(e,t,r){const a=e.portal;await(a?.signIn()),await(a?.user?.addItem({item:e,data:t,folder:r?.folder}))}const M=s(Y);async function Y(e,t){await L(e),E(e);const r=e.portalItem,a=f(r),o=await J(e,a,t),s=await T(r,[{layer:e,layerJSON:o}]);return O(r),await r.update({data:s}),i(a),r}const _=s((async(e,t)=>{await D(e);const r=e[0].portalItem,a=f(r),o=await Promise.all(e.map((e=>J(e,a,t)))),s=await T(r,e.map(((e,t)=>({layer:e,layerJSON:o[t]}))));return O(r),await r.update({data:s}),await Promise.all(e.slice(1).map((e=>e.portalItem.reload()))),i(a),r.clone()})),B=s(G);async function G(e,t,r){await L(e);const a=q(e,t),o=f(a),s=N({layer:e,layerJSON:await J(e,o,r)});return await z(e,a),await C(a,s,r),e.portalItem=a,i(o),a}export{M as save,_ as saveAll,B as saveAs};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}