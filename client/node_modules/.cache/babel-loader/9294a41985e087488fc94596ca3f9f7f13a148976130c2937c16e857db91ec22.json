{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../../Color.js\";\nimport { isSome as t, isNone as r, unwrap as o } from \"../../../../core/maybe.js\";\nimport { getMetersPerUnitForSR as i } from \"../../../../core/unitUtils.js\";\nimport { e as n } from \"../../../../chunks/earcut.js\";\nimport { s } from \"../../../../chunks/vec2.js\";\nimport { f as a, a as l } from \"../../../../chunks/vec2f64.js\";\nimport { b as c, s as h } from \"../../../../chunks/vec4.js\";\nimport { t as m } from \"../../../../chunks/common.js\";\nimport { create as p, empty as u, expandWithBuffer as d, intersectsClippingArea as g, expandWithAABB as y } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { create as f, empty as _, expandPointInPlace as v } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { perVertexElevationAligner as x } from \"./ElevationAligners.js\";\nimport { SymbolUpdateType as b, elevationModeChangeUpdateType as D, needsElevationUpdates2D as C } from \"./elevationAlignmentUtils.js\";\nimport { ElevationContext as S } from \"./ElevationContext.js\";\nimport w from \"./Graphics3DDrapedGraphicLayer.js\";\nimport { Graphics3DObject3DGraphicLayer as G } from \"./Graphics3DObject3DGraphicLayer.js\";\nimport { Graphics3DSymbolLayer as j } from \"./Graphics3DSymbolLayer.js\";\nimport { geometryAsPolygon as E, createWaterGeometry as P, PolygonCreationDataBase as A } from \"./polygonUtils.js\";\nimport { geometryToRenderInfo as O, geometryToRenderInfoDraped as R } from \"../../support/renderInfoUtils/polygon.js\";\nimport { newDoubleArray as T, doubleSubArray as L } from \"../../webgl-engine/lib/DoubleArray.js\";\nimport { Object3D as U } from \"../../webgl-engine/lib/Object3D.js\";\nimport { RenderGeometry as B } from \"../../webgl-engine/lib/RenderGeometry.js\";\nimport { WaterMaterialParameters as M, WaterMaterial as V } from \"../../webgl-engine/materials/WaterMaterial.js\";\nimport { wavePresets as I } from \"../../webgl-engine/materials/internal/waterMaterialUtils.js\";\nconst W = [\"polyline\", \"polygon\", \"extent\"];\nclass k extends j {\n  constructor(e, t, r, o) {\n    super(e, t, r, o);\n  }\n  async doLoad() {}\n  destroy() {\n    super.destroy(), this._context.stage.remove(this._material), this._material = null;\n  }\n  createGraphics3DGraphic(e) {\n    const t = e.graphic;\n    if (!this._validateGeometry(t.geometry, W, this.symbolLayer.type)) return null;\n    const r = this.setGraphicElevationContext(t, new S());\n    return this.ensureDrapedStatus(\"on-the-ground\" === r.mode), this.ensureMaterial(), this.draped ? this._createAsOverlay(t) : this._createAs3DShape(t, r, t.uid);\n  }\n  ensureMaterial() {\n    if (t(this._material)) return;\n    const r = new M(),\n      o = this.symbolLayer.color;\n    t(o) && (r.color = e.toUnitRGBA(o));\n    const i = this._getCombinedOpacity(o, {\n      hasIntrinsicColor: !0\n    });\n    r.color = [r.color[0], r.color[1], r.color[2], i], r.transparent = i < 1 || this.needsDrivenTransparentPass, r.waveDirection = t(this.symbolLayer.waveDirection) ? k.headingVectorFromAngle(this.symbolLayer.waveDirection) : a(0, 0);\n    const n = this.symbolLayer.waveStrength + \"-\" + this.symbolLayer.waterbodySize,\n      s = I[n];\n    r.waveStrength = s.waveStrength, r.waveTextureRepeat = s.textureRepeat, r.waveVelocity = s.waveVelocity, r.flowStrength = s.perturbationStrength, r.hasSlicePlane = this._context.slicePlaneEnabled, r.isDraped = this.draped, this._material = new V(r), this._context.stage.add(this._material);\n  }\n  layerOpacityChanged() {\n    if (r(this._material)) return;\n    const e = this._material.parameters.color,\n      t = this._getCombinedOpacity(this.symbolLayer.color, {\n        hasIntrinsicColor: !0\n      }),\n      o = t < 1 || this.needsDrivenTransparentPass;\n    this._material.setParameters({\n      color: [e[0], e[1], e[2], t],\n      transparent: o\n    });\n  }\n  layerElevationInfoChanged(e, t, r) {\n    const o = this._elevationContext.mode,\n      i = D(k.elevationModeChangeTypes, r, o);\n    if (i !== b.UPDATE) return i;\n    const n = C(o);\n    return this.updateGraphics3DGraphicElevationInfo(e, t, () => n);\n  }\n  slicePlaneEnabledChanged() {\n    return t(this._material) && this._material.setParameters({\n      hasSlicePlane: this._context.slicePlaneEnabled\n    }), !0;\n  }\n  physicalBasedRenderingChanged() {\n    return !0;\n  }\n  pixelRatioChanged() {\n    return !0;\n  }\n  skipHighSymbolLodsChanged() {\n    return !0;\n  }\n  _createAs3DShape(e, t, o) {\n    const i = E(e.geometry);\n    if (r(i)) return null;\n    const n = O(i, this._context.elevationProvider, this._context.renderCoordsHelper, t),\n      s = n.position.length / 3,\n      a = T(2 * s);\n    this._createUVCoordsFromVertices(a, n.mapPositions, s, this._context.elevationProvider.spatialReference);\n    const l = new q(n, a);\n    if (this._create3DShapeGeometries(l), this._logGeometryCreationWarnings(l.renderData, i.rings, \"rings\", \"WaterSymbol3DLayer\"), 0 === l.outGeometries.length) return null;\n    const c = new U({\n        geometries: l.outGeometries,\n        castShadow: !1,\n        metadata: {\n          layerUid: this._context.layer.uid,\n          graphicUid: o\n        }\n      }),\n      h = new G(this, c, l.outGeometries, null, null, x, t);\n    return h.alignedSampledElevation = l.renderData.sampledElevation, h.needsElevationUpdates = C(t.mode), h;\n  }\n  _createUVCoordsFromVertices(e, t, r, o) {\n    const n = i(o);\n    _(F);\n    for (let i = 0; i < r; i++) s(H, t[3 * i], t[3 * i + 1]), v(F, H);\n    c(F, F, n);\n    const a = F[0] % k.unitSizeOfTexture,\n      l = F[1] % k.unitSizeOfTexture;\n    z[0] = F[0] - a, z[1] = F[1] - l;\n    for (let i = 0; i < r; i++) e[2 * i] = (t[3 * i] * n - z[0]) / k.unitSizeOfTexture, e[2 * i + 1] = (t[3 * i + 1] * n - z[1]) / k.unitSizeOfTexture;\n  }\n  _create3DShapeGeometries(e) {\n    const r = e.renderData.polygons,\n      i = e.uvCoords;\n    for (const {\n      count: s,\n      index: a,\n      position: l,\n      mapPositions: c,\n      holeIndices: h\n    } of r) {\n      if (t(this._context.clippingExtent) && (u(N), d(N, c), !g(N, this._context.clippingExtent))) continue;\n      const r = n(c, h, 3);\n      if (0 === r.length) continue;\n      const m = L(i, 2 * a, 2 * s),\n        p = P({\n          material: o(this._material),\n          indices: r,\n          mapPositions: c,\n          attributeData: {\n            position: l,\n            uv0: m\n          }\n        });\n      e.outGeometries.push(p);\n    }\n  }\n  _createAsOverlay(e) {\n    const t = E(e.geometry);\n    if (r(t)) return null;\n    o(this._material).renderPriority = this._renderPriority;\n    const i = R(t, this._context.overlaySR),\n      n = i.position.length / 3,\n      s = T(2 * n);\n    this._createUVCoordsFromVertices(s, i.position, n, this._context.overlaySR);\n    const a = new J(i, s, this._context.layer.uid, e.uid);\n    return a.outBoundingBox = u(), this._createAsOverlayWater(a), this._logGeometryCreationWarnings(a.renderData, t.rings, \"rings\", \"WaterSymbol3DLayer\"), 0 === a.outGeometries.length ? null : new w(this, a.outGeometries, a.outBoundingBox, this._context.drapeSourceRenderer);\n  }\n  _createAsOverlayWater(e) {\n    const t = e.uvCoords,\n      r = e.renderData.polygons;\n    for (const {\n      position: i,\n      holeIndices: s,\n      index: a,\n      count: l\n    } of r) {\n      if (u(N), d(N, i), !g(N, this._context.clippingExtent)) continue;\n      y(e.outBoundingBox, N);\n      const r = n(i, s, 3);\n      if (0 === r.length) continue;\n      const c = L(t, 2 * a, 2 * l),\n        m = P({\n          material: o(this._material),\n          indices: r,\n          attributeData: {\n            position: i,\n            uv0: c\n          }\n        }),\n        p = new B(m, e),\n        f = N;\n      h(p.boundingSphere, .5 * (f[0] + f[3]), .5 * (f[1] + f[4]), 0, .5 * Math.sqrt((f[3] - f[0]) * (f[3] - f[0]) + (f[4] - f[1]) * (f[4] - f[1]))), e.outGeometries.push(p);\n    }\n  }\n  static headingVectorFromAngle(e) {\n    const t = l(),\n      r = m(e);\n    return t[0] = Math.sin(r), t[1] = Math.cos(r), t;\n  }\n  test() {\n    return {\n      ...super.test(),\n      create3DShape: e => this._createAs3DShape(e.graphic, e.elevationContext, e.graphicUid),\n      ensureMaterial: () => this.ensureMaterial()\n    };\n  }\n}\nk.unitSizeOfTexture = 100, k.elevationModeChangeTypes = {\n  definedChanged: b.RECREATE,\n  staysOnTheGround: b.NONE,\n  onTheGroundChanged: b.RECREATE\n};\nconst z = l(),\n  F = f(),\n  H = l(),\n  N = p();\nclass q extends A {\n  constructor(e, t) {\n    super(e, null, null), this.uvCoords = t;\n  }\n}\nclass J extends A {\n  constructor(e, t, r, o) {\n    super(e, r, o), this.uvCoords = t;\n  }\n}\nexport { k as Graphics3DWaterSymbolLayer };","map":{"version":3,"names":["e","isSome","t","isNone","r","unwrap","o","getMetersPerUnitForSR","i","n","s","f","a","l","b","c","h","m","create","p","empty","u","expandWithBuffer","d","intersectsClippingArea","g","expandWithAABB","y","_","expandPointInPlace","v","perVertexElevationAligner","x","SymbolUpdateType","elevationModeChangeUpdateType","D","needsElevationUpdates2D","C","ElevationContext","S","w","Graphics3DObject3DGraphicLayer","G","Graphics3DSymbolLayer","j","geometryAsPolygon","E","createWaterGeometry","P","PolygonCreationDataBase","A","geometryToRenderInfo","O","geometryToRenderInfoDraped","R","newDoubleArray","T","doubleSubArray","L","Object3D","U","RenderGeometry","B","WaterMaterialParameters","M","WaterMaterial","V","wavePresets","I","W","k","constructor","doLoad","destroy","_context","stage","remove","_material","createGraphics3DGraphic","graphic","_validateGeometry","geometry","symbolLayer","type","setGraphicElevationContext","ensureDrapedStatus","mode","ensureMaterial","draped","_createAsOverlay","_createAs3DShape","uid","color","toUnitRGBA","_getCombinedOpacity","hasIntrinsicColor","transparent","needsDrivenTransparentPass","waveDirection","headingVectorFromAngle","waveStrength","waterbodySize","waveTextureRepeat","textureRepeat","waveVelocity","flowStrength","perturbationStrength","hasSlicePlane","slicePlaneEnabled","isDraped","add","layerOpacityChanged","parameters","setParameters","layerElevationInfoChanged","_elevationContext","elevationModeChangeTypes","UPDATE","updateGraphics3DGraphicElevationInfo","slicePlaneEnabledChanged","physicalBasedRenderingChanged","pixelRatioChanged","skipHighSymbolLodsChanged","elevationProvider","renderCoordsHelper","position","length","_createUVCoordsFromVertices","mapPositions","spatialReference","q","_create3DShapeGeometries","_logGeometryCreationWarnings","renderData","rings","outGeometries","geometries","castShadow","metadata","layerUid","layer","graphicUid","alignedSampledElevation","sampledElevation","needsElevationUpdates","F","H","unitSizeOfTexture","z","polygons","uvCoords","count","index","holeIndices","clippingExtent","N","material","indices","attributeData","uv0","push","renderPriority","_renderPriority","overlaySR","J","outBoundingBox","_createAsOverlayWater","drapeSourceRenderer","boundingSphere","Math","sqrt","sin","cos","test","create3DShape","elevationContext","definedChanged","RECREATE","staysOnTheGround","NONE","onTheGroundChanged","Graphics3DWaterSymbolLayer"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DWaterSymbolLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{isSome as t,isNone as r,unwrap as o}from\"../../../../core/maybe.js\";import{getMetersPerUnitForSR as i}from\"../../../../core/unitUtils.js\";import{e as n}from\"../../../../chunks/earcut.js\";import{s}from\"../../../../chunks/vec2.js\";import{f as a,a as l}from\"../../../../chunks/vec2f64.js\";import{b as c,s as h}from\"../../../../chunks/vec4.js\";import{t as m}from\"../../../../chunks/common.js\";import{create as p,empty as u,expandWithBuffer as d,intersectsClippingArea as g,expandWithAABB as y}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as f,empty as _,expandPointInPlace as v}from\"../../../../geometry/support/aaBoundingRect.js\";import{perVertexElevationAligner as x}from\"./ElevationAligners.js\";import{SymbolUpdateType as b,elevationModeChangeUpdateType as D,needsElevationUpdates2D as C}from\"./elevationAlignmentUtils.js\";import{ElevationContext as S}from\"./ElevationContext.js\";import w from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as G}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as j}from\"./Graphics3DSymbolLayer.js\";import{geometryAsPolygon as E,createWaterGeometry as P,PolygonCreationDataBase as A}from\"./polygonUtils.js\";import{geometryToRenderInfo as O,geometryToRenderInfoDraped as R}from\"../../support/renderInfoUtils/polygon.js\";import{newDoubleArray as T,doubleSubArray as L}from\"../../webgl-engine/lib/DoubleArray.js\";import{Object3D as U}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as B}from\"../../webgl-engine/lib/RenderGeometry.js\";import{WaterMaterialParameters as M,WaterMaterial as V}from\"../../webgl-engine/materials/WaterMaterial.js\";import{wavePresets as I}from\"../../webgl-engine/materials/internal/waterMaterialUtils.js\";const W=[\"polyline\",\"polygon\",\"extent\"];class k extends j{constructor(e,t,r,o){super(e,t,r,o)}async doLoad(){}destroy(){super.destroy(),this._context.stage.remove(this._material),this._material=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,W,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t,new S);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this.ensureMaterial(),this.draped?this._createAsOverlay(t):this._createAs3DShape(t,r,t.uid)}ensureMaterial(){if(t(this._material))return;const r=new M,o=this.symbolLayer.color;t(o)&&(r.color=e.toUnitRGBA(o));const i=this._getCombinedOpacity(o,{hasIntrinsicColor:!0});r.color=[r.color[0],r.color[1],r.color[2],i],r.transparent=i<1||this.needsDrivenTransparentPass,r.waveDirection=t(this.symbolLayer.waveDirection)?k.headingVectorFromAngle(this.symbolLayer.waveDirection):a(0,0);const n=this.symbolLayer.waveStrength+\"-\"+this.symbolLayer.waterbodySize,s=I[n];r.waveStrength=s.waveStrength,r.waveTextureRepeat=s.textureRepeat,r.waveVelocity=s.waveVelocity,r.flowStrength=s.perturbationStrength,r.hasSlicePlane=this._context.slicePlaneEnabled,r.isDraped=this.draped,this._material=new V(r),this._context.stage.add(this._material)}layerOpacityChanged(){if(r(this._material))return;const e=this._material.parameters.color,t=this._getCombinedOpacity(this.symbolLayer.color,{hasIntrinsicColor:!0}),o=t<1||this.needsDrivenTransparentPass;this._material.setParameters({color:[e[0],e[1],e[2],t],transparent:o})}layerElevationInfoChanged(e,t,r){const o=this._elevationContext.mode,i=D(k.elevationModeChangeTypes,r,o);if(i!==b.UPDATE)return i;const n=C(o);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>n))}slicePlaneEnabledChanged(){return t(this._material)&&this._material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return!0}pixelRatioChanged(){return!0}skipHighSymbolLodsChanged(){return!0}_createAs3DShape(e,t,o){const i=E(e.geometry);if(r(i))return null;const n=O(i,this._context.elevationProvider,this._context.renderCoordsHelper,t),s=n.position.length/3,a=T(2*s);this._createUVCoordsFromVertices(a,n.mapPositions,s,this._context.elevationProvider.spatialReference);const l=new q(n,a);if(this._create3DShapeGeometries(l),this._logGeometryCreationWarnings(l.renderData,i.rings,\"rings\",\"WaterSymbol3DLayer\"),0===l.outGeometries.length)return null;const c=new U({geometries:l.outGeometries,castShadow:!1,metadata:{layerUid:this._context.layer.uid,graphicUid:o}}),h=new G(this,c,l.outGeometries,null,null,x,t);return h.alignedSampledElevation=l.renderData.sampledElevation,h.needsElevationUpdates=C(t.mode),h}_createUVCoordsFromVertices(e,t,r,o){const n=i(o);_(F);for(let i=0;i<r;i++)s(H,t[3*i],t[3*i+1]),v(F,H);c(F,F,n);const a=F[0]%k.unitSizeOfTexture,l=F[1]%k.unitSizeOfTexture;z[0]=F[0]-a,z[1]=F[1]-l;for(let i=0;i<r;i++)e[2*i]=(t[3*i]*n-z[0])/k.unitSizeOfTexture,e[2*i+1]=(t[3*i+1]*n-z[1])/k.unitSizeOfTexture}_create3DShapeGeometries(e){const r=e.renderData.polygons,i=e.uvCoords;for(const{count:s,index:a,position:l,mapPositions:c,holeIndices:h}of r){if(t(this._context.clippingExtent)&&(u(N),d(N,c),!g(N,this._context.clippingExtent)))continue;const r=n(c,h,3);if(0===r.length)continue;const m=L(i,2*a,2*s),p=P({material:o(this._material),indices:r,mapPositions:c,attributeData:{position:l,uv0:m}});e.outGeometries.push(p)}}_createAsOverlay(e){const t=E(e.geometry);if(r(t))return null;o(this._material).renderPriority=this._renderPriority;const i=R(t,this._context.overlaySR),n=i.position.length/3,s=T(2*n);this._createUVCoordsFromVertices(s,i.position,n,this._context.overlaySR);const a=new J(i,s,this._context.layer.uid,e.uid);return a.outBoundingBox=u(),this._createAsOverlayWater(a),this._logGeometryCreationWarnings(a.renderData,t.rings,\"rings\",\"WaterSymbol3DLayer\"),0===a.outGeometries.length?null:new w(this,a.outGeometries,a.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayWater(e){const t=e.uvCoords,r=e.renderData.polygons;for(const{position:i,holeIndices:s,index:a,count:l}of r){if(u(N),d(N,i),!g(N,this._context.clippingExtent))continue;y(e.outBoundingBox,N);const r=n(i,s,3);if(0===r.length)continue;const c=L(t,2*a,2*l),m=P({material:o(this._material),indices:r,attributeData:{position:i,uv0:c}}),p=new B(m,e),f=N;h(p.boundingSphere,.5*(f[0]+f[3]),.5*(f[1]+f[4]),0,.5*Math.sqrt((f[3]-f[0])*(f[3]-f[0])+(f[4]-f[1])*(f[4]-f[1]))),e.outGeometries.push(p)}}static headingVectorFromAngle(e){const t=l(),r=m(e);return t[0]=Math.sin(r),t[1]=Math.cos(r),t}test(){return{...super.test(),create3DShape:e=>this._createAs3DShape(e.graphic,e.elevationContext,e.graphicUid),ensureMaterial:()=>this.ensureMaterial()}}}k.unitSizeOfTexture=100,k.elevationModeChangeTypes={definedChanged:b.RECREATE,staysOnTheGround:b.NONE,onTheGroundChanged:b.RECREATE};const z=l(),F=f(),H=l(),N=p();class q extends A{constructor(e,t){super(e,null,null),this.uvCoords=t}}class J extends A{constructor(e,t,r,o){super(e,r,o),this.uvCoords=t}}export{k as Graphics3DWaterSymbolLayer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}