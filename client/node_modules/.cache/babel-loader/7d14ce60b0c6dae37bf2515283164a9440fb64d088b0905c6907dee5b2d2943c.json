{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isNone as e, unwrap as t, disposeMaybe as s, isSome as i } from \"../../../../core/maybe.js\";\nimport r from \"../../../../core/PooledArray.js\";\nimport { b as n, l as o, g as a, o as h, e as l, p as c } from \"../../../../chunks/vec3.js\";\nimport { c as d } from \"../../../../chunks/vec3f64.js\";\nimport { s as u } from \"../../../../chunks/vec4.js\";\nimport { create as p, offset as m, contains as g, containsPoint as _, set as f, POSITIVE_INFINITY as P, equals as b } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { create as S } from \"../../../../geometry/support/plane.js\";\nimport { fromPoints as x } from \"../../../../geometry/support/ray.js\";\nimport { PclTarget as z } from \"./Intersector.js\";\nimport { PointHighlights as R } from \"./PointHighlights.js\";\nimport { minimumDistancePlane as q, maximumDistancePlane as w, intersectLine as y, toAaBoundingBox as A } from \"../../support/orientedBoundingBox.js\";\nimport { ShaderOutput as j } from \"../../webgl-engine/core/shaderLibrary/ShaderOutput.js\";\nimport { Default3D as I } from \"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { newIntersectorResult as F } from \"../../webgl-engine/lib/Intersector.js\";\nimport { IntersectorType as v, StoreResults as C } from \"../../webgl-engine/lib/IntersectorInterfaces.js\";\nimport { VertexArrayObject as E } from \"../../webgl-engine/lib/VertexArrayObject.js\";\nimport { VertexAttribute as H } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { P as N, a as O, g as L } from \"../../../../chunks/PointRenderer.glsl.js\";\nimport { PointRendererTechnique as T } from \"../../webgl-engine/shaders/PointRendererTechnique.js\";\nimport { PointRendererTechniqueConfiguration as B } from \"../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js\";\nimport { BufferObject as D } from \"../../../webgl/BufferObject.js\";\nimport { DataType as M, PrimitiveType as V, Usage as W } from \"../../../webgl/enums.js\";\nimport { VertexElementDescriptor as U } from \"../../../webgl/VertexElementDescriptor.js\";\nconst k = {\n  positions: [new U(H.POSITION, 3, M.FLOAT, 0, 12)],\n  colors: [new U(H.COLOR, 3, M.UNSIGNED_BYTE, 0, 3, !0)]\n};\nclass G {\n  get needsHighlight() {\n    return this._highlights.hasHighlights;\n  }\n  constructor(e) {\n    this._params = e, this.type = v.PCL, this.isGround = !1, this._passParameters = new N(), this._highlights = new R({\n      forEachNode: e => this.forEachNode(e),\n      addHighlight: (e, t, s) => this._addHighlight(e, t, s),\n      removeHighlight: (e, t) => this._removeHighlight(e, t)\n    }), this.canRender = !0, this.layerUid = \"\", this._slicePlaneEnabled = !1, this._techniqueConfig = new B(), this._nodes = new r();\n  }\n  initializeRenderContext(e) {\n    this._context = e, this._techniqueRepository = this._context.techniqueRepository, e.requestRender();\n  }\n  uninitializeRenderContext() {}\n  intersect(e, t, s, i) {\n    const r = d(),\n      f = d(),\n      P = d(),\n      b = d(),\n      R = S(),\n      j = e.camera.perScreenPixelRatio / 2,\n      I = e.camera.near;\n    n(f, i, s);\n    const v = 1 / o(f);\n    a(f, f, v), h(P, f), u(R, f[0], f[1], f[2], -l(f, s));\n    const E = new te(),\n      H = new te(),\n      N = new Array(),\n      O = p(),\n      L = p(this._passParameters.clipBox);\n    m(L, -s[0], -s[1], -s[2], L), this._nodes.forAll(o => {\n      const a = o.splatSize * this._passParameters.scaleFactor;\n      let h = q(o.obb, R),\n        d = w(o.obb, R);\n      h -= Q(a, h + I, this._passParameters, j, o.isLeaf), d -= Q(a, d + I, this._passParameters, j, o.isLeaf);\n      const u = d < 0,\n        p = null != E.dist && null != H.dist && E.dist < h * v && H.dist > d * v;\n      if (u || p) return;\n      const S = K(a, d + I, this._passParameters, j, o.isLeaf);\n      if (!y(o.obb, s, f, S)) return;\n      const x = S * S;\n      A(o.obb, O), m(O, -s[0], -s[1], -s[2], O);\n      const z = !g(L, O);\n      n(b, o.origin, s);\n      const F = o.coordinates.length / 3;\n      for (let n = 0; n < F; n++) {\n        if (r[0] = b[0] + o.coordinates[3 * n], r[1] = b[1] + o.coordinates[3 * n + 1], r[2] = b[2] + o.coordinates[3 * n + 2], z && !_(L, r)) continue;\n        const h = l(r, f),\n          d = c(r) - h * h;\n        if (d > x) continue;\n        let u = h + I;\n        const p = Q(a, u, this._passParameters, j, o.isLeaf);\n        if (h - p < 0) continue;\n        u -= p;\n        const m = K(a, u, this._passParameters, j, o.isLeaf);\n        if (d > m * m) continue;\n        const g = (h - p) * v,\n          S = e => (e.point = X(o, n, e.point), e.dist = g, e.normal = P, e.node = o, e.pointId = n, e.layerUid = this.layerUid, e);\n        if ((null == E.dist || g < E.dist) && (null == t || t(s, i, g)) && S(E), e.options.store !== C.MIN && (null == H.dist || g > H.dist) && (null == t || t(s, i, g)) && S(H), e.options.store === C.ALL && (null == t || t(s, i, g))) {\n          const e = new te();\n          N.push(S(e));\n        }\n      }\n    });\n    const T = e => {\n        const {\n          layerUid: t,\n          node: s,\n          pointId: i\n        } = e;\n        return new z(e.point, t, i, () => this._params.createGraphic(s, i, e.point));\n      },\n      B = (e, t) => {\n        const s = T(t);\n        e.set(this.type, s, t.dist, t.normal);\n      };\n    if (se(E)) {\n      const t = e.results.min;\n      (null == t.dist || E.dist < t.dist) && B(t, E);\n    }\n    if (se(H) && e.options.store !== C.MIN) {\n      const t = e.results.max;\n      (null == t.dist || H.dist > t.dist) && B(t, H);\n    }\n    if (e.options.store === C.ALL) {\n      const t = x(s, i);\n      for (const s of N) {\n        const i = F(t);\n        B(i, s), e.results.all.push(i);\n      }\n    }\n  }\n  prepareTechnique(e) {\n    return 0 === this._nodes.length || e.output !== j.Color && e.output !== j.Depth && e.output !== j.Highlight ? null : (this._nodes.forAll(t => {\n      null == t.vao && this._initNode(e, t);\n    }), this._techniqueConfig.drawScreenSize = this._passParameters.drawScreenSpace, this._techniqueConfig.useFixedSizes = this._passParameters.useFixedSizes, this._techniqueConfig.hasSlicePlane = this._slicePlaneEnabled, this._techniqueConfig.hasOccludees = e.bindParameters.hasOccludees, this._techniqueConfig.clippingEnabled = this._clippingEnabled, this._techniqueConfig.output = e.output === j.Depth ? j.Depth : e.output === j.Highlight ? j.Highlight : j.Color, this._techniqueRepository.releaseAndAcquire(T, this._techniqueConfig, this._technique));\n  }\n  render(e, t) {\n    const s = e.rctx,\n      i = s.bindTechnique(t, this._passParameters, e.bindParameters),\n      r = e.output === j.Highlight;\n    this._nodes.forAll(t => {\n      0 === t.coordinates.length || r && !t.highlights || (i.bindDraw(t, e.bindParameters, this._passParameters), s.bindVAO(t.vao), r ? this._renderHighlightFragments(s, t) : s.drawArrays(V.POINTS, 0, t.coordinates.length / 3));\n    });\n  }\n  _renderHighlightFragments(s, i) {\n    const r = i.highlights;\n    if (e(r)) return;\n    let n = t(r[0].component),\n      o = n + 1;\n    for (let e = 1; e < r.length; e++) {\n      const i = t(r[e].component);\n      if (i !== o) {\n        const e = o - n;\n        e > 0 && s.drawArrays(V.POINTS, n, e), n = i;\n      }\n      o = i + 1;\n    }\n    const a = o - n;\n    a > 0 && s.drawArrays(V.POINTS, n, a);\n  }\n  set useFixedSizes(e) {\n    this._passParameters.useFixedSizes !== e && (this._passParameters.useFixedSizes = e, this._requestRender());\n  }\n  get useFixedSizes() {\n    return this._passParameters.useFixedSizes;\n  }\n  set scaleFactor(e) {\n    this._passParameters.scaleFactor !== e && (this._passParameters.scaleFactor = e, this._requestRender());\n  }\n  get scaleFactor() {\n    return this._passParameters.scaleFactor;\n  }\n  set minSizePx(e) {\n    this._passParameters.minSizePx !== e && (this._passParameters.minSizePx = e, this._requestRender());\n  }\n  get minSizePx() {\n    return this._passParameters.minSizePx;\n  }\n  set useRealWorldSymbolSizes(e) {\n    this._passParameters.useRealWorldSymbolSizes !== e && (this._passParameters.useRealWorldSymbolSizes = e, this._requestRender());\n  }\n  get useRealWorldSymbolSizes() {\n    return this._passParameters.useRealWorldSymbolSizes;\n  }\n  set size(e) {\n    this._passParameters.size !== e && (this._passParameters.size = e, this._requestRender());\n  }\n  get size() {\n    return this._passParameters.size;\n  }\n  set sizePx(e) {\n    this._passParameters.sizePx !== e && (this._passParameters.sizePx = e, this._requestRender());\n  }\n  get sizePx() {\n    return this._passParameters.sizePx;\n  }\n  set clippingBox(e) {\n    f(this._passParameters.clipBox, e || P);\n  }\n  get _clippingEnabled() {\n    return !b(this._passParameters.clipBox, P, (e, t) => e === t);\n  }\n  get slicePlaneEnabled() {\n    return this._slicePlaneEnabled;\n  }\n  set slicePlaneEnabled(e) {\n    this._slicePlaneEnabled !== e && (this._slicePlaneEnabled = e, this._requestRender());\n  }\n  addNode(e) {\n    this._nodes.push(e), this._highlights.nodeAdded(e), this._requestRender();\n  }\n  removeNode(e) {\n    let t = null;\n    return this._nodes.filterInPlace(i => i.id !== e || (t = i, i.vao = s(i.vao), this._highlights.nodeRemoved(i), !1)), this._requestRender(), t;\n  }\n  forEachNode(e) {\n    this._nodes.forAll(e);\n  }\n  removeAll() {\n    this._nodes.forAll(e => e.vao = s(e.vao)), this._highlights.removeAll(), this._nodes.clear(), this._requestRender();\n  }\n  highlight(e) {\n    return this._highlights.add(e);\n  }\n  _addHighlight(e, t, s) {\n    e.highlights = $(e.highlights, t, s), this._requestRender();\n  }\n  _removeHighlight(e, t) {\n    e.highlights = ee(e.highlights, t), this._requestRender();\n  }\n  _initNode(e, t) {\n    const s = e.rctx;\n    t.vao = new E(s, I, k, {\n      positions: D.createVertex(s, W.STATIC_DRAW, t.coordinates),\n      colors: D.createVertex(s, W.STATIC_DRAW, t.rgb)\n    });\n  }\n  _requestRender() {\n    this._context && this._context.requestRender();\n  }\n}\nclass Y extends O {\n  constructor(e, t, s, i, r, n, o, a) {\n    let h = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : null;\n    let l = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : null;\n    super(s, r, t), this.id = e, this.obb = i, this.coordinates = n, this.rgb = o, this.attributes = a, this.pointIdFilterMap = h, this.highlights = l;\n  }\n}\nfunction J(e) {\n  return e.hasOwnProperty(\"splatSize\");\n}\nfunction K(e, t, s, i, r) {\n  if (s.drawScreenSpace) return s.fixedSize * t * i;\n  const n = L(r) * t * i;\n  return s.useFixedSizes ? Math.min(s.fixedSize / 2, n) : s.screenMinSize > 0 ? Math.min(Math.max(s.screenMinSize * t * i, e / 2), n) : Math.min(e / 2, n);\n}\nfunction Q(e, t, s, i, r) {\n  return s.drawScreenSpace ? 0 : K(e, t, s, i, r);\n}\nfunction X(t, s, i) {\n  return e(i) && (i = d()), i[0] = t.origin[0] + t.coordinates[3 * s], i[1] = t.origin[1] + t.coordinates[3 * s + 1], i[2] = t.origin[2] + t.coordinates[3 * s + 2], i;\n}\nfunction Z(e) {\n  return i(e.component) ? e.component : -1;\n}\nfunction $(t, s, i) {\n  e(t) && (t = []);\n  const r = {\n    component: s,\n    id: i\n  };\n  t.push(r);\n  const n = Z(r);\n  let o = t.length - 1;\n  for (; o > 0 && n < Z(t[o - 1]);) [t[o - 1], t[o]] = [t[o], t[o - 1]], --o;\n  return t;\n}\nfunction ee(t, s) {\n  if (e(t)) return t;\n  const i = t.filter(e => e.id !== s);\n  return 0 === i.length ? null : i;\n}\nclass te {\n  constructor() {\n    this.node = null, this.pointId = null, this.point = null, this.dist = null, this.normal = null, this.layerUid = \"\";\n  }\n}\nfunction se(e) {\n  return i(e.dist) && i(e.point) && i(e.pointId) && i(e.node);\n}\nexport { G as PointRenderer, Y as PointRendererNode, J as isInstanceOfNode };","map":{"version":3,"names":["isNone","e","unwrap","t","disposeMaybe","s","isSome","i","r","b","n","l","o","g","a","h","p","c","d","u","create","offset","m","contains","containsPoint","_","set","f","POSITIVE_INFINITY","P","equals","S","fromPoints","x","PclTarget","z","PointHighlights","R","minimumDistancePlane","q","maximumDistancePlane","w","intersectLine","y","toAaBoundingBox","A","ShaderOutput","j","Default3D","I","newIntersectorResult","F","IntersectorType","v","StoreResults","C","VertexArrayObject","E","VertexAttribute","H","N","O","L","PointRendererTechnique","T","PointRendererTechniqueConfiguration","B","BufferObject","D","DataType","M","PrimitiveType","V","Usage","W","VertexElementDescriptor","U","k","positions","POSITION","FLOAT","colors","COLOR","UNSIGNED_BYTE","G","needsHighlight","_highlights","hasHighlights","constructor","_params","type","PCL","isGround","_passParameters","forEachNode","addHighlight","_addHighlight","removeHighlight","_removeHighlight","canRender","layerUid","_slicePlaneEnabled","_techniqueConfig","_nodes","initializeRenderContext","_context","_techniqueRepository","techniqueRepository","requestRender","uninitializeRenderContext","intersect","camera","perScreenPixelRatio","near","te","Array","clipBox","forAll","splatSize","scaleFactor","obb","Q","isLeaf","dist","K","origin","coordinates","length","point","X","normal","node","pointId","options","store","MIN","ALL","push","createGraphic","se","results","min","max","all","prepareTechnique","output","Color","Depth","Highlight","vao","_initNode","drawScreenSize","drawScreenSpace","useFixedSizes","hasSlicePlane","hasOccludees","bindParameters","clippingEnabled","_clippingEnabled","releaseAndAcquire","_technique","render","rctx","bindTechnique","highlights","bindDraw","bindVAO","_renderHighlightFragments","drawArrays","POINTS","component","_requestRender","minSizePx","useRealWorldSymbolSizes","size","sizePx","clippingBox","slicePlaneEnabled","addNode","nodeAdded","removeNode","filterInPlace","id","nodeRemoved","removeAll","clear","highlight","add","$","ee","createVertex","STATIC_DRAW","rgb","Y","arguments","undefined","attributes","pointIdFilterMap","J","hasOwnProperty","fixedSize","Math","screenMinSize","Z","filter","PointRenderer","PointRendererNode","isInstanceOfNode"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,unwrap as t,disposeMaybe as s,isSome as i}from\"../../../../core/maybe.js\";import r from\"../../../../core/PooledArray.js\";import{b as n,l as o,g as a,o as h,e as l,p as c}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{s as u}from\"../../../../chunks/vec4.js\";import{create as p,offset as m,contains as g,containsPoint as _,set as f,POSITIVE_INFINITY as P,equals as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as S}from\"../../../../geometry/support/plane.js\";import{fromPoints as x}from\"../../../../geometry/support/ray.js\";import{PclTarget as z}from\"./Intersector.js\";import{PointHighlights as R}from\"./PointHighlights.js\";import{minimumDistancePlane as q,maximumDistancePlane as w,intersectLine as y,toAaBoundingBox as A}from\"../../support/orientedBoundingBox.js\";import{ShaderOutput as j}from\"../../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{Default3D as I}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{newIntersectorResult as F}from\"../../webgl-engine/lib/Intersector.js\";import{IntersectorType as v,StoreResults as C}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{VertexArrayObject as E}from\"../../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as H}from\"../../webgl-engine/lib/VertexAttribute.js\";import{P as N,a as O,g as L}from\"../../../../chunks/PointRenderer.glsl.js\";import{PointRendererTechnique as T}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";import{PointRendererTechniqueConfiguration as B}from\"../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js\";import{BufferObject as D}from\"../../../webgl/BufferObject.js\";import{DataType as M,PrimitiveType as V,Usage as W}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as U}from\"../../../webgl/VertexElementDescriptor.js\";const k={positions:[new U(H.POSITION,3,M.FLOAT,0,12)],colors:[new U(H.COLOR,3,M.UNSIGNED_BYTE,0,3,!0)]};class G{get needsHighlight(){return this._highlights.hasHighlights}constructor(e){this._params=e,this.type=v.PCL,this.isGround=!1,this._passParameters=new N,this._highlights=new R({forEachNode:e=>this.forEachNode(e),addHighlight:(e,t,s)=>this._addHighlight(e,t,s),removeHighlight:(e,t)=>this._removeHighlight(e,t)}),this.canRender=!0,this.layerUid=\"\",this._slicePlaneEnabled=!1,this._techniqueConfig=new B,this._nodes=new r}initializeRenderContext(e){this._context=e,this._techniqueRepository=this._context.techniqueRepository,e.requestRender()}uninitializeRenderContext(){}intersect(e,t,s,i){const r=d(),f=d(),P=d(),b=d(),R=S(),j=e.camera.perScreenPixelRatio/2,I=e.camera.near;n(f,i,s);const v=1/o(f);a(f,f,v),h(P,f),u(R,f[0],f[1],f[2],-l(f,s));const E=new te,H=new te,N=new Array,O=p(),L=p(this._passParameters.clipBox);m(L,-s[0],-s[1],-s[2],L),this._nodes.forAll((o=>{const a=o.splatSize*this._passParameters.scaleFactor;let h=q(o.obb,R),d=w(o.obb,R);h-=Q(a,h+I,this._passParameters,j,o.isLeaf),d-=Q(a,d+I,this._passParameters,j,o.isLeaf);const u=d<0,p=null!=E.dist&&null!=H.dist&&E.dist<h*v&&H.dist>d*v;if(u||p)return;const S=K(a,d+I,this._passParameters,j,o.isLeaf);if(!y(o.obb,s,f,S))return;const x=S*S;A(o.obb,O),m(O,-s[0],-s[1],-s[2],O);const z=!g(L,O);n(b,o.origin,s);const F=o.coordinates.length/3;for(let n=0;n<F;n++){if(r[0]=b[0]+o.coordinates[3*n],r[1]=b[1]+o.coordinates[3*n+1],r[2]=b[2]+o.coordinates[3*n+2],z&&!_(L,r))continue;const h=l(r,f),d=c(r)-h*h;if(d>x)continue;let u=h+I;const p=Q(a,u,this._passParameters,j,o.isLeaf);if(h-p<0)continue;u-=p;const m=K(a,u,this._passParameters,j,o.isLeaf);if(d>m*m)continue;const g=(h-p)*v,S=e=>(e.point=X(o,n,e.point),e.dist=g,e.normal=P,e.node=o,e.pointId=n,e.layerUid=this.layerUid,e);if((null==E.dist||g<E.dist)&&(null==t||t(s,i,g))&&S(E),e.options.store!==C.MIN&&(null==H.dist||g>H.dist)&&(null==t||t(s,i,g))&&S(H),e.options.store===C.ALL&&(null==t||t(s,i,g))){const e=new te;N.push(S(e))}}}));const T=e=>{const{layerUid:t,node:s,pointId:i}=e;return new z(e.point,t,i,(()=>this._params.createGraphic(s,i,e.point)))},B=(e,t)=>{const s=T(t);e.set(this.type,s,t.dist,t.normal)};if(se(E)){const t=e.results.min;(null==t.dist||E.dist<t.dist)&&B(t,E)}if(se(H)&&e.options.store!==C.MIN){const t=e.results.max;(null==t.dist||H.dist>t.dist)&&B(t,H)}if(e.options.store===C.ALL){const t=x(s,i);for(const s of N){const i=F(t);B(i,s),e.results.all.push(i)}}}prepareTechnique(e){return 0===this._nodes.length||e.output!==j.Color&&e.output!==j.Depth&&e.output!==j.Highlight?null:(this._nodes.forAll((t=>{null==t.vao&&this._initNode(e,t)})),this._techniqueConfig.drawScreenSize=this._passParameters.drawScreenSpace,this._techniqueConfig.useFixedSizes=this._passParameters.useFixedSizes,this._techniqueConfig.hasSlicePlane=this._slicePlaneEnabled,this._techniqueConfig.hasOccludees=e.bindParameters.hasOccludees,this._techniqueConfig.clippingEnabled=this._clippingEnabled,this._techniqueConfig.output=e.output===j.Depth?j.Depth:e.output===j.Highlight?j.Highlight:j.Color,this._techniqueRepository.releaseAndAcquire(T,this._techniqueConfig,this._technique))}render(e,t){const s=e.rctx,i=s.bindTechnique(t,this._passParameters,e.bindParameters),r=e.output===j.Highlight;this._nodes.forAll((t=>{0===t.coordinates.length||r&&!t.highlights||(i.bindDraw(t,e.bindParameters,this._passParameters),s.bindVAO(t.vao),r?this._renderHighlightFragments(s,t):s.drawArrays(V.POINTS,0,t.coordinates.length/3))}))}_renderHighlightFragments(s,i){const r=i.highlights;if(e(r))return;let n=t(r[0].component),o=n+1;for(let e=1;e<r.length;e++){const i=t(r[e].component);if(i!==o){const e=o-n;e>0&&s.drawArrays(V.POINTS,n,e),n=i}o=i+1}const a=o-n;a>0&&s.drawArrays(V.POINTS,n,a)}set useFixedSizes(e){this._passParameters.useFixedSizes!==e&&(this._passParameters.useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._passParameters.useFixedSizes}set scaleFactor(e){this._passParameters.scaleFactor!==e&&(this._passParameters.scaleFactor=e,this._requestRender())}get scaleFactor(){return this._passParameters.scaleFactor}set minSizePx(e){this._passParameters.minSizePx!==e&&(this._passParameters.minSizePx=e,this._requestRender())}get minSizePx(){return this._passParameters.minSizePx}set useRealWorldSymbolSizes(e){this._passParameters.useRealWorldSymbolSizes!==e&&(this._passParameters.useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._passParameters.useRealWorldSymbolSizes}set size(e){this._passParameters.size!==e&&(this._passParameters.size=e,this._requestRender())}get size(){return this._passParameters.size}set sizePx(e){this._passParameters.sizePx!==e&&(this._passParameters.sizePx=e,this._requestRender())}get sizePx(){return this._passParameters.sizePx}set clippingBox(e){f(this._passParameters.clipBox,e||P)}get _clippingEnabled(){return!b(this._passParameters.clipBox,P,((e,t)=>e===t))}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this._nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let t=null;return this._nodes.filterInPlace((i=>i.id!==e||(t=i,i.vao=s(i.vao),this._highlights.nodeRemoved(i),!1))),this._requestRender(),t}forEachNode(e){this._nodes.forAll(e)}removeAll(){this._nodes.forAll((e=>e.vao=s(e.vao))),this._highlights.removeAll(),this._nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}_addHighlight(e,t,s){e.highlights=$(e.highlights,t,s),this._requestRender()}_removeHighlight(e,t){e.highlights=ee(e.highlights,t),this._requestRender()}_initNode(e,t){const s=e.rctx;t.vao=new E(s,I,k,{positions:D.createVertex(s,W.STATIC_DRAW,t.coordinates),colors:D.createVertex(s,W.STATIC_DRAW,t.rgb)})}_requestRender(){this._context&&this._context.requestRender()}}class Y extends O{constructor(e,t,s,i,r,n,o,a,h=null,l=null){super(s,r,t),this.id=e,this.obb=i,this.coordinates=n,this.rgb=o,this.attributes=a,this.pointIdFilterMap=h,this.highlights=l}}function J(e){return e.hasOwnProperty(\"splatSize\")}function K(e,t,s,i,r){if(s.drawScreenSpace)return s.fixedSize*t*i;const n=L(r)*t*i;return s.useFixedSizes?Math.min(s.fixedSize/2,n):s.screenMinSize>0?Math.min(Math.max(s.screenMinSize*t*i,e/2),n):Math.min(e/2,n)}function Q(e,t,s,i,r){return s.drawScreenSpace?0:K(e,t,s,i,r)}function X(t,s,i){return e(i)&&(i=d()),i[0]=t.origin[0]+t.coordinates[3*s],i[1]=t.origin[1]+t.coordinates[3*s+1],i[2]=t.origin[2]+t.coordinates[3*s+2],i}function Z(e){return i(e.component)?e.component:-1}function $(t,s,i){e(t)&&(t=[]);const r={component:s,id:i};t.push(r);const n=Z(r);let o=t.length-1;for(;o>0&&n<Z(t[o-1]);)[t[o-1],t[o]]=[t[o],t[o-1]],--o;return t}function ee(t,s){if(e(t))return t;const i=t.filter((e=>e.id!==s));return 0===i.length?null:i}class te{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}function se(e){return i(e.dist)&&i(e.point)&&i(e.pointId)&&i(e.node)}export{G as PointRenderer,Y as PointRendererNode,J as isInstanceOfNode};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}