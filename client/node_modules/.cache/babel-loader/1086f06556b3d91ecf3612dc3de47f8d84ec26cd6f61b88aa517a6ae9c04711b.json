{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { replace as e } from \"../../core/string.js\";\nconst n = \"__begin__\",\n  r = \"__end__\",\n  s = new RegExp(n, \"ig\"),\n  t = new RegExp(r, \"ig\"),\n  o = new RegExp(\"^\" + n, \"i\"),\n  i = new RegExp(r + \"$\", \"i\"),\n  l = '\"',\n  a = l + \" + \",\n  c = \" + \" + l;\nfunction p(e) {\n  return e.replace(new RegExp(\"\\\\[\", \"g\"), \"{\").replace(new RegExp(\"\\\\]\", \"g\"), \"}\");\n}\nfunction u(e) {\n  return e.replace(new RegExp(\"\\\\{\", \"g\"), \"[\").replace(new RegExp(\"\\\\}\", \"g\"), \"]\");\n}\nfunction x(e) {\n  const n = {\n    expression: \"\",\n    type: \"none\"\n  };\n  return e.labelExpressionInfo ? e.labelExpressionInfo.value ? (n.expression = e.labelExpressionInfo.value, n.type = \"conventional\") : e.labelExpressionInfo.expression && (n.expression = e.labelExpressionInfo.expression, n.type = \"arcade\") : null != e.labelExpression && (n.expression = p(e.labelExpression), n.type = \"conventional\"), n;\n}\nfunction f(e) {\n  const n = x(e);\n  if (!n) return null;\n  switch (n.type) {\n    case \"conventional\":\n      return w(n.expression);\n    case \"arcade\":\n      return n.expression;\n  }\n  return null;\n}\nfunction g(e) {\n  const n = x(e);\n  if (!n) return null;\n  switch (n.type) {\n    case \"conventional\":\n      return $(n.expression);\n    case \"arcade\":\n      return _(n.expression);\n  }\n  return null;\n}\nfunction w(p) {\n  let u;\n  return p ? (u = e(p, e => n + '$feature[\"' + e + '\"]' + r), u = o.test(u) ? u.replace(o, \"\") : l + u, u = i.test(u) ? u.replace(i, \"\") : u + l, u = u.replace(s, a).replace(t, c)) : u = '\"\"', u;\n}\nconst E = /^\\s*\\{([^}]+)\\}\\s*$/i;\nfunction $(e) {\n  const n = e?.match(E);\n  return n && n[1].trim() || null;\n}\nconst b = /^\\s*(?:(?:\\$feature\\.(\\w+))|(?:\\$feature\\[([\"'])([\\w\\s]+)(\\2)\\]));?\\s*$/i,\n  m = /^\\s*(?:(?:\\$feature\\.(\\w+))|(?:\\$feature\\[([\"'])([\\w\\s]+)(\\2)\\]));?\\s*(?:DomainName\\(\\s*\\$feature\\s*,\\s*([\"'])(\\1|\\3)(\\5)\\s*\\));?\\s*$/i,\n  R = /^\\s*(?:DomainName\\(\\s*\\$feature\\s*,\\s*([\"'])([\\w\\s]+)(\\1)\\s*\\));?\\s*$/i;\nfunction _(e) {\n  if (!e) return null;\n  let n = b.exec(e) || m.exec(e);\n  return n ? n[1] || n[3] : (n = R.exec(e), n ? n[2] : null);\n}\nexport { w as convertTemplatedStringToArcade, x as getLabelExpression, f as getLabelExpressionArcade, g as getLabelExpressionSingleField, _ as getSingleFieldArcadeExpression, $ as getSingleFieldTemplatedString, p as sqlToTemplateString, u as templateStringToSql };","map":{"version":3,"names":["replace","e","n","r","s","RegExp","t","o","i","l","a","c","p","u","x","expression","type","labelExpressionInfo","value","labelExpression","f","w","g","$","_","test","E","match","trim","b","m","R","exec","convertTemplatedStringToArcade","getLabelExpression","getLabelExpressionArcade","getLabelExpressionSingleField","getSingleFieldArcadeExpression","getSingleFieldTemplatedString","sqlToTemplateString","templateStringToSql"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/support/labelUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{replace as e}from\"../../core/string.js\";const n=\"__begin__\",r=\"__end__\",s=new RegExp(n,\"ig\"),t=new RegExp(r,\"ig\"),o=new RegExp(\"^\"+n,\"i\"),i=new RegExp(r+\"$\",\"i\"),l='\"',a=l+\" + \",c=\" + \"+l;function p(e){return e.replace(new RegExp(\"\\\\[\",\"g\"),\"{\").replace(new RegExp(\"\\\\]\",\"g\"),\"}\")}function u(e){return e.replace(new RegExp(\"\\\\{\",\"g\"),\"[\").replace(new RegExp(\"\\\\}\",\"g\"),\"]\")}function x(e){const n={expression:\"\",type:\"none\"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(n.expression=e.labelExpressionInfo.value,n.type=\"conventional\"):e.labelExpressionInfo.expression&&(n.expression=e.labelExpressionInfo.expression,n.type=\"arcade\"):null!=e.labelExpression&&(n.expression=p(e.labelExpression),n.type=\"conventional\"),n}function f(e){const n=x(e);if(!n)return null;switch(n.type){case\"conventional\":return w(n.expression);case\"arcade\":return n.expression}return null}function g(e){const n=x(e);if(!n)return null;switch(n.type){case\"conventional\":return $(n.expression);case\"arcade\":return _(n.expression)}return null}function w(p){let u;return p?(u=e(p,(e=>n+'$feature[\"'+e+'\"]'+r)),u=o.test(u)?u.replace(o,\"\"):l+u,u=i.test(u)?u.replace(i,\"\"):u+l,u=u.replace(s,a).replace(t,c)):u='\"\"',u}const E=/^\\s*\\{([^}]+)\\}\\s*$/i;function $(e){const n=e?.match(E);return n&&n[1].trim()||null}const b=/^\\s*(?:(?:\\$feature\\.(\\w+))|(?:\\$feature\\[([\"'])([\\w\\s]+)(\\2)\\]));?\\s*$/i,m=/^\\s*(?:(?:\\$feature\\.(\\w+))|(?:\\$feature\\[([\"'])([\\w\\s]+)(\\2)\\]));?\\s*(?:DomainName\\(\\s*\\$feature\\s*,\\s*([\"'])(\\1|\\3)(\\5)\\s*\\));?\\s*$/i,R=/^\\s*(?:DomainName\\(\\s*\\$feature\\s*,\\s*([\"'])([\\w\\s]+)(\\1)\\s*\\));?\\s*$/i;function _(e){if(!e)return null;let n=b.exec(e)||m.exec(e);return n?n[1]||n[3]:(n=R.exec(e),n?n[2]:null)}export{w as convertTemplatedStringToArcade,x as getLabelExpression,f as getLabelExpressionArcade,g as getLabelExpressionSingleField,_ as getSingleFieldArcadeExpression,$ as getSingleFieldTemplatedString,p as sqlToTemplateString,u as templateStringToSql};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}