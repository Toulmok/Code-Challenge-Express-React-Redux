{"ast":null,"code":"import _slicedToArray from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { isNone as s } from \"../../../core/maybe.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as e } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { calculateNDVI as n, getBandMatrix3 as o } from \"./bandIndexUtils.js\";\nimport i from \"./BaseRasterFunction.js\";\nimport u from \"./NDVIFunctionArguments.js\";\nvar c = /*#__PURE__*/function (_i) {\n  _inherits(c, _i);\n  var _super = _createSuper(c);\n  function c() {\n    var _this;\n    _classCallCheck(this, c);\n    _this = _super.apply(this, arguments), _this.functionName = \"NDVI\", _this.functionArguments = null, _this.rasterArgumentNames = [\"raster\"];\n    return _this;\n  }\n  _createClass(c, [{\n    key: \"_bindSourceRasters\",\n    value: function _bindSourceRasters() {\n      var t = this.functionArguments.scientificOutput;\n      this.outputPixelType = this._getOutputPixelType(t ? \"f32\" : \"u8\");\n      var s = this.sourceRasterInfos[0].clone();\n      s.pixelType = this.outputPixelType, s.colormap = null, s.histograms = null, s.bandCount = 1;\n      var _ref = t ? [-1, 1, 0, .1] : [0, 200, 100, 10],\n        _ref2 = _slicedToArray(_ref, 4),\n        r = _ref2[0],\n        e = _ref2[1],\n        n = _ref2[2],\n        o = _ref2[3];\n      return s.statistics = [{\n        min: r,\n        max: e,\n        avg: n,\n        stddev: o\n      }], this.rasterInfo = s, {\n        success: !0,\n        supportsGPU: !0\n      };\n    }\n  }, {\n    key: \"_processPixels\",\n    value: function _processPixels(t) {\n      var _t$pixelBlocks;\n      var r = (_t$pixelBlocks = t.pixelBlocks) === null || _t$pixelBlocks === void 0 ? void 0 : _t$pixelBlocks[0];\n      if (s(r)) return null;\n      var _this$functionArgumen = this.functionArguments,\n        e = _this$functionArgumen.visibleBandID,\n        o = _this$functionArgumen.infraredBandID,\n        i = _this$functionArgumen.scientificOutput;\n      return n(r, e, o, !i);\n    }\n  }, {\n    key: \"_getWebGLParameters\",\n    value: function _getWebGLParameters() {\n      var _this$functionArgumen2 = this.functionArguments,\n        t = _this$functionArgumen2.visibleBandID,\n        s = _this$functionArgumen2.infraredBandID,\n        r = _this$functionArgumen2.scientificOutput,\n        e = this.isInputBandIdsSwizzled ? [0, 1, 2] : [s, t, 0];\n      return {\n        bandIndexMat3: o(e),\n        scaled: !r\n      };\n    }\n  }, {\n    key: \"_getInputBandIds\",\n    value: function _getInputBandIds(t) {\n      var _this$functionArgumen3 = this.functionArguments,\n        s = _this$functionArgumen3.visibleBandID,\n        r = _this$functionArgumen3.infraredBandID;\n      return [r, s, 0].map(function (s) {\n        return t[s];\n      });\n    }\n  }]);\n  return c;\n}(i);\nt([r({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], c.prototype, \"functionName\", void 0), t([r({\n  type: u,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], c.prototype, \"functionArguments\", void 0), t([r()], c.prototype, \"rasterArgumentNames\", void 0), c = t([e(\"esri.layers.support.rasterFunctions.NDVIFunction\")], c);\nvar a = c;\nexport { a as default };","map":{"version":3,"names":["_","t","isNone","s","property","r","subclass","e","calculateNDVI","n","getBandMatrix3","o","i","u","c","_i","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","functionName","functionArguments","rasterArgumentNames","_createClass","key","value","_bindSourceRasters","scientificOutput","outputPixelType","_getOutputPixelType","sourceRasterInfos","clone","pixelType","colormap","histograms","bandCount","_ref","_ref2","_slicedToArray","statistics","min","max","avg","stddev","rasterInfo","success","supportsGPU","_processPixels","_t$pixelBlocks","pixelBlocks","_this$functionArgumen","visibleBandID","infraredBandID","_getWebGLParameters","_this$functionArgumen2","isInputBandIdsSwizzled","bandIndexMat3","scaled","_getInputBandIds","_this$functionArgumen3","map","json","write","name","prototype","type","a","default"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/support/rasterFunctions/NDVIFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{isNone as s}from\"../../../core/maybe.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import{calculateNDVI as n,getBandMatrix3 as o}from\"./bandIndexUtils.js\";import i from\"./BaseRasterFunction.js\";import u from\"./NDVIFunctionArguments.js\";let c=class extends i{constructor(){super(...arguments),this.functionName=\"NDVI\",this.functionArguments=null,this.rasterArgumentNames=[\"raster\"]}_bindSourceRasters(){const{scientificOutput:t}=this.functionArguments;this.outputPixelType=this._getOutputPixelType(t?\"f32\":\"u8\");const s=this.sourceRasterInfos[0].clone();s.pixelType=this.outputPixelType,s.colormap=null,s.histograms=null,s.bandCount=1;const[r,e,n,o]=t?[-1,1,0,.1]:[0,200,100,10];return s.statistics=[{min:r,max:e,avg:n,stddev:o}],this.rasterInfo=s,{success:!0,supportsGPU:!0}}_processPixels(t){const r=t.pixelBlocks?.[0];if(s(r))return null;const{visibleBandID:e,infraredBandID:o,scientificOutput:i}=this.functionArguments;return n(r,e,o,!i)}_getWebGLParameters(){const{visibleBandID:t,infraredBandID:s,scientificOutput:r}=this.functionArguments,e=this.isInputBandIdsSwizzled?[0,1,2]:[s,t,0];return{bandIndexMat3:o(e),scaled:!r}}_getInputBandIds(t){const{visibleBandID:s,infraredBandID:r}=this.functionArguments;return[r,s,0].map((s=>t[s]))}};t([r({json:{write:!0,name:\"rasterFunction\"}})],c.prototype,\"functionName\",void 0),t([r({type:u,json:{write:!0,name:\"rasterFunctionArguments\"}})],c.prototype,\"functionArguments\",void 0),t([r()],c.prototype,\"rasterArgumentNames\",void 0),c=t([e(\"esri.layers.support.rasterFunctions.NDVIFunction\")],c);const a=c;export{a as default};\n"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAAOC,MAAM,IAAIC,CAAC,QAAK,wBAAwB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,sDAAsD;AAAC,OAAM,6CAA6C;AAAC,OAAM,6BAA6B;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,sDAAsD;AAAC,SAAOC,aAAa,IAAIC,CAAC,EAACC,cAAc,IAAIC,CAAC,QAAK,qBAAqB;AAAC,OAAOC,CAAC,MAAK,yBAAyB;AAAC,OAAOC,CAAC,MAAK,4BAA4B;AAAC,IAAIC,CAAC,0BAAAC,EAAA;EAAAC,SAAA,CAAAF,CAAA,EAAAC,EAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,CAAA;EAAiB,SAAAA,EAAA,EAAa;IAAA,IAAAK,KAAA;IAAAC,eAAA,OAAAN,CAAA;IAACK,KAAA,GAAAF,MAAA,CAAAI,KAAA,OAASC,SAAS,GAAEH,KAAA,CAAKI,YAAY,GAAC,MAAM,EAACJ,KAAA,CAAKK,iBAAiB,GAAC,IAAI,EAACL,KAAA,CAAKM,mBAAmB,GAAC,CAAC,QAAQ,CAAC;IAAA,OAAAN,KAAA;EAAA;EAACO,YAAA,CAAAZ,CAAA;IAAAa,GAAA;IAAAC,KAAA,WAAAC,mBAAA,EAAoB;MAAC,IAAuB5B,CAAC,GAAE,IAAI,CAACuB,iBAAiB,CAA1CM,gBAAgB;MAA2B,IAAI,CAACC,eAAe,GAAC,IAAI,CAACC,mBAAmB,CAAC/B,CAAC,GAAC,KAAK,GAAC,IAAI,CAAC;MAAC,IAAME,CAAC,GAAC,IAAI,CAAC8B,iBAAiB,CAAC,CAAC,CAAC,CAACC,KAAK,EAAE;MAAC/B,CAAC,CAACgC,SAAS,GAAC,IAAI,CAACJ,eAAe,EAAC5B,CAAC,CAACiC,QAAQ,GAAC,IAAI,EAACjC,CAAC,CAACkC,UAAU,GAAC,IAAI,EAAClC,CAAC,CAACmC,SAAS,GAAC,CAAC;MAAC,IAAAC,IAAA,GAAetC,CAAC,GAAC,CAAC,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,CAAC,GAAC,CAAC,CAAC,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,CAAC;QAAAuC,KAAA,GAAAC,cAAA,CAAAF,IAAA;QAArClC,CAAC,GAAAmC,KAAA;QAACjC,CAAC,GAAAiC,KAAA;QAAC/B,CAAC,GAAA+B,KAAA;QAAC7B,CAAC,GAAA6B,KAAA;MAA+B,OAAOrC,CAAC,CAACuC,UAAU,GAAC,CAAC;QAACC,GAAG,EAACtC,CAAC;QAACuC,GAAG,EAACrC,CAAC;QAACsC,GAAG,EAACpC,CAAC;QAACqC,MAAM,EAACnC;MAAC,CAAC,CAAC,EAAC,IAAI,CAACoC,UAAU,GAAC5C,CAAC,EAAC;QAAC6C,OAAO,EAAC,CAAC,CAAC;QAACC,WAAW,EAAC,CAAC;MAAC,CAAC;IAAA;EAAC;IAAAtB,GAAA;IAAAC,KAAA,WAAAsB,eAAejD,CAAC,EAAC;MAAA,IAAAkD,cAAA;MAAC,IAAM9C,CAAC,IAAA8C,cAAA,GAAClD,CAAC,CAACmD,WAAW,cAAAD,cAAA,uBAAbA,cAAA,CAAgB,CAAC,CAAC;MAAC,IAAGhD,CAAC,CAACE,CAAC,CAAC,EAAC,OAAO,IAAI;MAAC,IAAAgD,qBAAA,GAA2D,IAAI,CAAC7B,iBAAiB;QAA7DjB,CAAC,GAAA8C,qBAAA,CAAfC,aAAa;QAAkB3C,CAAC,GAAA0C,qBAAA,CAAhBE,cAAc;QAAoB3C,CAAC,GAAAyC,qBAAA,CAAlBvB,gBAAgB;MAA2B,OAAOrB,CAAC,CAACJ,CAAC,EAACE,CAAC,EAACI,CAAC,EAAC,CAACC,CAAC,CAAC;IAAA;EAAC;IAAAe,GAAA;IAAAC,KAAA,WAAA4B,oBAAA,EAAqB;MAAC,IAAAC,sBAAA,GAA2D,IAAI,CAACjC,iBAAiB;QAA7DvB,CAAC,GAAAwD,sBAAA,CAAfH,aAAa;QAAkBnD,CAAC,GAAAsD,sBAAA,CAAhBF,cAAc;QAAoBlD,CAAC,GAAAoD,sBAAA,CAAlB3B,gBAAgB;QAA2BvB,CAAC,GAAC,IAAI,CAACmD,sBAAsB,GAAC,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,GAAC,CAACvD,CAAC,EAACF,CAAC,EAAC,CAAC,CAAC;MAAC,OAAM;QAAC0D,aAAa,EAAChD,CAAC,CAACJ,CAAC,CAAC;QAACqD,MAAM,EAAC,CAACvD;MAAC,CAAC;IAAA;EAAC;IAAAsB,GAAA;IAAAC,KAAA,WAAAiC,iBAAiB5D,CAAC,EAAC;MAAC,IAAA6D,sBAAA,GAAwC,IAAI,CAACtC,iBAAiB;QAA1CrB,CAAC,GAAA2D,sBAAA,CAAfR,aAAa;QAAkBjD,CAAC,GAAAyD,sBAAA,CAAhBP,cAAc;MAA2B,OAAM,CAAClD,CAAC,EAACF,CAAC,EAAC,CAAC,CAAC,CAAC4D,GAAG,CAAE,UAAA5D,CAAC;QAAA,OAAEF,CAAC,CAACE,CAAC,CAAC;MAAA,EAAE;IAAA;EAAC;EAAA,OAAAW,CAAA;AAAA,EAAx9BF,CAAC,CAAw9B;AAACX,CAAC,CAAC,CAACI,CAAC,CAAC;EAAC2D,IAAI,EAAC;IAACC,KAAK,EAAC,CAAC,CAAC;IAACC,IAAI,EAAC;EAAgB;AAAC,CAAC,CAAC,CAAC,EAACpD,CAAC,CAACqD,SAAS,EAAC,cAAc,EAAC,KAAK,CAAC,CAAC,EAAClE,CAAC,CAAC,CAACI,CAAC,CAAC;EAAC+D,IAAI,EAACvD,CAAC;EAACmD,IAAI,EAAC;IAACC,KAAK,EAAC,CAAC,CAAC;IAACC,IAAI,EAAC;EAAyB;AAAC,CAAC,CAAC,CAAC,EAACpD,CAAC,CAACqD,SAAS,EAAC,mBAAmB,EAAC,KAAK,CAAC,CAAC,EAAClE,CAAC,CAAC,CAACI,CAAC,EAAE,CAAC,EAACS,CAAC,CAACqD,SAAS,EAAC,qBAAqB,EAAC,KAAK,CAAC,CAAC,EAACrD,CAAC,GAACb,CAAC,CAAC,CAACM,CAAC,CAAC,kDAAkD,CAAC,CAAC,EAACO,CAAC,CAAC;AAAC,IAAMuD,CAAC,GAACvD,CAAC;AAAC,SAAOuD,CAAC,IAAIC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}