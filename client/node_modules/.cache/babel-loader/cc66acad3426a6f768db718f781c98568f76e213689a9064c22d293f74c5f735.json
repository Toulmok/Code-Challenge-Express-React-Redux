{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as r } from \"../../../../core/maybe.js\";\nimport { c as e, b as n, a as t, i as o, r as i } from \"../../../../chunks/vec3.js\";\nimport { c } from \"../../../../chunks/vec3f64.js\";\nimport { wrap as s } from \"../../../../geometry/support/ray.js\";\nimport { i as a, k as f } from \"../../../../chunks/sphere.js\";\nimport { defaultConstraintOptions as m, interactionDirectionTowardsConstraintMinimization as u, adjustRangeForInteraction as p } from \"./common.js\";\nimport { InteractionType as d } from \"./InteractionType.js\";\nfunction y(r, e) {\n  let n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : m;\n  if (!r.state.isLocal) return 0;\n  const t = r.state.constraints.distance;\n  if (!r.pointsOfInterest.surfaceOrigin.renderLocation || t === 1 / 0) return 0;\n  g.min = 0, g.max = t, j(r, n, g);\n  const o = L(r, e),\n    i = g.max - o;\n  return i >= -1e-6 ? 0 : i;\n}\nfunction O(o, i) {\n  let c = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : m;\n  const p = y(o, i, c);\n  if (0 === p) return !1;\n  const d = o.pointsOfInterest.surfaceOrigin;\n  if (!d.renderLocation) return !1;\n  const O = L(o, i) + p,\n    j = e(l, i.eye),\n    g = u(i, c.interactionDirection, x(i, d.renderLocation, k), h);\n  if (!a(f(d.renderLocation, O), s(i.eye, g), C)) return !1;\n  i.eye = C;\n  const N = n(I, i.eye, j);\n  i.center = t(C, i.center, N);\n  const b = o.renderCoordsHelper.getAltitude(i.center),\n    v = o.renderCoordsHelper.intersectInfiniteManifold(i.ray, b, C);\n  return r(v) && (i.center = v), !0;\n}\nfunction j(r, e, n) {\n  const t = e.interactionType;\n  if (t === d.NONE) return;\n  const {\n      min: o,\n      max: i\n    } = n,\n    {\n      interactionStartCamera: c,\n      interactionFactor: s\n    } = e;\n  if (!c) return;\n  const a = t === d.ZOOM || t === d.PAN,\n    f = y(r, c),\n    m = 0 === f ? 0 : L(r, c);\n  n.min = o, n.max = i;\n  p(f, m, a, s, .05 * m, n);\n}\nfunction L(r, e) {\n  const n = r.pointsOfInterest.surfaceOrigin;\n  return n.renderLocation ? o(e.eye, n.renderLocation) : 0;\n}\nfunction x(r, e, n) {\n  return i(n, r.eye, e);\n}\nconst g = {\n    min: 0,\n    max: 0\n  },\n  l = c(),\n  I = c(),\n  h = c(),\n  k = c(),\n  C = c();\nexport { O as applyDistanceConstraint, y as getDistanceConstraintError };","map":{"version":3,"names":["isSome","r","c","e","b","n","a","t","i","o","wrap","s","k","f","defaultConstraintOptions","m","interactionDirectionTowardsConstraintMinimization","u","adjustRangeForInteraction","p","InteractionType","d","y","arguments","length","undefined","state","isLocal","constraints","distance","pointsOfInterest","surfaceOrigin","renderLocation","g","min","max","j","L","O","l","eye","interactionDirection","x","h","C","N","I","center","renderCoordsHelper","getAltitude","v","intersectInfiniteManifold","ray","interactionType","NONE","interactionStartCamera","interactionFactor","ZOOM","PAN","applyDistanceConstraint","getDistanceConstraintError"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/camera/constraintUtils/distance.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../../../../core/maybe.js\";import{c as e,b as n,a as t,i as o,r as i}from\"../../../../chunks/vec3.js\";import{c}from\"../../../../chunks/vec3f64.js\";import{wrap as s}from\"../../../../geometry/support/ray.js\";import{i as a,k as f}from\"../../../../chunks/sphere.js\";import{defaultConstraintOptions as m,interactionDirectionTowardsConstraintMinimization as u,adjustRangeForInteraction as p}from\"./common.js\";import{InteractionType as d}from\"./InteractionType.js\";function y(r,e,n=m){if(!r.state.isLocal)return 0;const t=r.state.constraints.distance;if(!r.pointsOfInterest.surfaceOrigin.renderLocation||t===1/0)return 0;g.min=0,g.max=t,j(r,n,g);const o=L(r,e),i=g.max-o;return i>=-1e-6?0:i}function O(o,i,c=m){const p=y(o,i,c);if(0===p)return!1;const d=o.pointsOfInterest.surfaceOrigin;if(!d.renderLocation)return!1;const O=L(o,i)+p,j=e(l,i.eye),g=u(i,c.interactionDirection,x(i,d.renderLocation,k),h);if(!a(f(d.renderLocation,O),s(i.eye,g),C))return!1;i.eye=C;const N=n(I,i.eye,j);i.center=t(C,i.center,N);const b=o.renderCoordsHelper.getAltitude(i.center),v=o.renderCoordsHelper.intersectInfiniteManifold(i.ray,b,C);return r(v)&&(i.center=v),!0}function j(r,e,n){const t=e.interactionType;if(t===d.NONE)return;const{min:o,max:i}=n,{interactionStartCamera:c,interactionFactor:s}=e;if(!c)return;const a=t===d.ZOOM||t===d.PAN,f=y(r,c),m=0===f?0:L(r,c);n.min=o,n.max=i;p(f,m,a,s,.05*m,n)}function L(r,e){const n=r.pointsOfInterest.surfaceOrigin;return n.renderLocation?o(e.eye,n.renderLocation):0}function x(r,e,n){return i(n,r.eye,e)}const g={min:0,max:0},l=c(),I=c(),h=c(),k=c(),C=c();export{O as applyDistanceConstraint,y as getDistanceConstraintError};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}