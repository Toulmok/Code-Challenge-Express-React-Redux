{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from \"../../../../../core/RandomLCG.js\";\nimport { a as o, n as e } from \"../../../../../chunks/vec3.js\";\nimport { c as n } from \"../../../../../chunks/vec3f64.js\";\nimport { glLayout as i } from \"../../../support/buffer/glUtil.js\";\nimport { RegularEdgeInstancesLayout as r, SilhouetteEdgeInstancesLayout as s } from \"./bufferLayouts.js\";\nclass a {\n  updateSettings(t) {\n    this.settings = t, this._edgeHashFunction = t.reducedPrecision ? f : p;\n  }\n  write(t, o, e) {\n    const n = this._edgeHashFunction(e);\n    y.seed = n;\n    const i = y.getIntRange(0, 255),\n      r = y.getIntRange(0, this.settings.variants - 1),\n      s = .7,\n      a = y.getFloat(),\n      c = 255 * (.5 * g(-(1 - Math.min(a / s, 1)) + Math.max(0, a - s) / (1 - s), 1.2) + .5);\n    t.position0.setVec(o, e.position0), t.position1.setVec(o, e.position1), t.componentIndex.set(o, e.componentIndex), t.variantOffset.set(o, i), t.variantStroke.set(o, r), t.variantExtension.set(o, c);\n  }\n  trim(t, o) {\n    return t.slice(0, o);\n  }\n}\nconst c = new Float32Array(6),\n  m = new Uint32Array(c.buffer),\n  u = new Uint32Array(1);\nfunction p(t) {\n  const o = c;\n  o[0] = t.position0[0], o[1] = t.position0[1], o[2] = t.position0[2], o[3] = t.position1[0], o[4] = t.position1[1], o[5] = t.position1[2], u[0] = 5381;\n  for (let e = 0; e < m.length; e++) u[0] = 31 * u[0] + m[e];\n  return u[0];\n}\nfunction f(t) {\n  const o = c;\n  o[0] = h(t.position0[0]), o[1] = h(t.position0[1]), o[2] = h(t.position0[2]), o[3] = h(t.position1[0]), o[4] = h(t.position1[1]), o[5] = h(t.position1[2]), u[0] = 5381;\n  for (let e = 0; e < m.length; e++) u[0] = 31 * u[0] + m[e];\n  return u[0];\n}\nconst l = 1e4;\nfunction h(t) {\n  return Math.round(t * l) / l;\n}\nfunction g(t, o) {\n  const e = t < 0 ? -1 : 1;\n  return Math.abs(t) ** o * e;\n}\nclass d {\n  constructor() {\n    this._commonWriter = new a();\n  }\n  updateSettings(t) {\n    this._commonWriter.updateSettings(t);\n  }\n  allocate(t) {\n    return r.createBuffer(t);\n  }\n  write(t, n, i) {\n    this._commonWriter.write(t, n, i), o(_, i.faceNormal0, i.faceNormal1), e(_, _), t.normal.setVec(n, _);\n  }\n  trim(t, o) {\n    return this._commonWriter.trim(t, o);\n  }\n}\nd.Layout = r, d.glLayout = i(r, 1);\nclass w {\n  constructor() {\n    this._commonWriter = new a();\n  }\n  updateSettings(t) {\n    this._commonWriter.updateSettings(t);\n  }\n  allocate(t) {\n    return s.createBuffer(t);\n  }\n  write(t, o, e) {\n    this._commonWriter.write(t, o, e), t.normalA.setVec(o, e.faceNormal0), t.normalB.setVec(o, e.faceNormal1);\n  }\n  trim(t, o) {\n    return this._commonWriter.trim(t, o);\n  }\n}\nw.Layout = s, w.glLayout = i(s, 1);\nconst _ = n(),\n  y = new t();\nexport { a as CommonBufferWriter, d as RegularEdgeBufferWriter, w as SilhouetteEdgeBufferWriter };","map":{"version":3,"names":["t","a","o","n","e","c","glLayout","i","RegularEdgeInstancesLayout","r","SilhouetteEdgeInstancesLayout","s","updateSettings","settings","_edgeHashFunction","reducedPrecision","f","p","write","y","seed","getIntRange","variants","getFloat","g","Math","min","max","position0","setVec","position1","componentIndex","set","variantOffset","variantStroke","variantExtension","trim","slice","Float32Array","m","Uint32Array","buffer","u","length","h","l","round","abs","d","constructor","_commonWriter","allocate","createBuffer","_","faceNormal0","faceNormal1","normal","Layout","w","normalA","normalB","CommonBufferWriter","RegularEdgeBufferWriter","SilhouetteEdgeBufferWriter"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/RandomLCG.js\";import{a as o,n as e}from\"../../../../../chunks/vec3.js\";import{c as n}from\"../../../../../chunks/vec3f64.js\";import{glLayout as i}from\"../../../support/buffer/glUtil.js\";import{RegularEdgeInstancesLayout as r,SilhouetteEdgeInstancesLayout as s}from\"./bufferLayouts.js\";class a{updateSettings(t){this.settings=t,this._edgeHashFunction=t.reducedPrecision?f:p}write(t,o,e){const n=this._edgeHashFunction(e);y.seed=n;const i=y.getIntRange(0,255),r=y.getIntRange(0,this.settings.variants-1),s=.7,a=y.getFloat(),c=255*(.5*g(-(1-Math.min(a/s,1))+Math.max(0,a-s)/(1-s),1.2)+.5);t.position0.setVec(o,e.position0),t.position1.setVec(o,e.position1),t.componentIndex.set(o,e.componentIndex),t.variantOffset.set(o,i),t.variantStroke.set(o,r),t.variantExtension.set(o,c)}trim(t,o){return t.slice(0,o)}}const c=new Float32Array(6),m=new Uint32Array(c.buffer),u=new Uint32Array(1);function p(t){const o=c;o[0]=t.position0[0],o[1]=t.position0[1],o[2]=t.position0[2],o[3]=t.position1[0],o[4]=t.position1[1],o[5]=t.position1[2],u[0]=5381;for(let e=0;e<m.length;e++)u[0]=31*u[0]+m[e];return u[0]}function f(t){const o=c;o[0]=h(t.position0[0]),o[1]=h(t.position0[1]),o[2]=h(t.position0[2]),o[3]=h(t.position1[0]),o[4]=h(t.position1[1]),o[5]=h(t.position1[2]),u[0]=5381;for(let e=0;e<m.length;e++)u[0]=31*u[0]+m[e];return u[0]}const l=1e4;function h(t){return Math.round(t*l)/l}function g(t,o){const e=t<0?-1:1;return Math.abs(t)**o*e}class d{constructor(){this._commonWriter=new a}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return r.createBuffer(t)}write(t,n,i){this._commonWriter.write(t,n,i),o(_,i.faceNormal0,i.faceNormal1),e(_,_),t.normal.setVec(n,_)}trim(t,o){return this._commonWriter.trim(t,o)}}d.Layout=r,d.glLayout=i(r,1);class w{constructor(){this._commonWriter=new a}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return s.createBuffer(t)}write(t,o,e){this._commonWriter.write(t,o,e),t.normalA.setVec(o,e.faceNormal0),t.normalB.setVec(o,e.faceNormal1)}trim(t,o){return this._commonWriter.trim(t,o)}}w.Layout=s,w.glLayout=i(s,1);const _=n(),y=new t;export{a as CommonBufferWriter,d as RegularEdgeBufferWriter,w as SilhouetteEdgeBufferWriter};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}