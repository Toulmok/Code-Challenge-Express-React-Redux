{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport { isSome as e, isNone as t, unwrapOr as r, toNullable as s } from \"../../../../core/maybe.js\";\nimport { c as i, b as n, k as a, o } from \"../../../../chunks/vec3.js\";\nimport { c as l, f as h } from \"../../../../chunks/vec3f64.js\";\nimport { g as d, c as _ } from \"../../../../chunks/vec4.js\";\nimport { f as c, c as p } from \"../../../../chunks/vec4f32.js\";\nimport { create as u, fromRay as f, getStart as m, getEnd as y } from \"../../../../geometry/support/clipRay.js\";\nimport { intersectClipRay as g } from \"../../../../geometry/support/frustum.js\";\nimport { create as b, fromPoints as D, pointAt as O } from \"../../../../geometry/support/lineSegment.js\";\nimport { create as w, fromPoints as E } from \"../../../../geometry/support/ray.js\";\nimport { EngineVisualElement as R } from \"./EngineVisualElement.js\";\nimport { LaserlineVisualElement as j } from \"./LaserlineVisualElement.js\";\nimport { DRAPED_Z as A } from \"../../terrain/OverlayRenderer.js\";\nimport { createPolylineGeometry as C } from \"../../webgl-engine/lib/GeometryUtil.js\";\nimport { RenderOccludedFlag as G } from \"../../webgl-engine/lib/Material.js\";\nimport { RenderGeometry as x } from \"../../webgl-engine/lib/RenderGeometry.js\";\nimport { VertexAttribute as P } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { RibbonLineMaterial as S } from \"../../webgl-engine/materials/RibbonLineMaterial.js\";\nclass v extends R {\n  constructor(e) {\n    super(e), this._ray = w(), this._isWorldDown = !1, this._start = l(), this._end = h(1, 0, 0), this._width = 1, this._color = c(1, 0, 1, 1), this._polygonOffset = !1, this._writeDepthEnabled = !0, this._innerWidth = 0, this._innerColor = c(1, 1, 1, 1), this._stipplePattern = null, this._stippleOffColor = null, this._stipplePreferContinuous = !0, this._falloff = 0, this._extensionType = W.LINE, this._laserlineStyle = null, this._laserlineEnabled = !1, this._renderOccluded = G.OccludeAndTransparent, this._fadedExtensions = F, this._laserline = new j({\n      view: this.view\n    }), this.applyProps(e);\n  }\n  destroy() {\n    this._laserline.destroy(), super.destroy();\n  }\n  createObject3DResourceFactory(e) {\n    return {\n      view: e,\n      createResources: e => this._createObject3DResources(e),\n      destroyResources: e => this._destroyExternalResources(e),\n      recreateGeometry: (e, t) => this._recreateObject3DGeometry(e, t),\n      cameraChanged: () => this._updateGeometry()\n    };\n  }\n  createDrapedResourceFactory(e) {\n    return {\n      view: e,\n      createResources: () => this._createDrapedResources(),\n      destroyResources: e => this._destroyExternalResources(e),\n      recreateGeometry: e => this._recreateDrapedGeometry(e)\n    };\n  }\n  updateVisibility(e) {\n    super.updateVisibility(e), this._laserline.visible = e;\n  }\n  onAttachedChange() {\n    this._laserline.attached = this._laserlineAttached;\n  }\n  setStartEndFromWorldDownAtLocation(e) {\n    this._isWorldDown = !0, i(this._start, e), this.view.renderCoordsHelper.worldUpAtPosition(e, this._end), n(this._end, e, this._end), E(this._start, this._end, this._ray), this._updateGeometry();\n  }\n  get start() {\n    return this._start;\n  }\n  set start(e) {\n    this._isWorldDown = !1, a(this._start, e) || (i(this._start, e), E(this._start, this._end, this._ray), this._updateGeometry());\n  }\n  get end() {\n    return this._end;\n  }\n  set end(e) {\n    this._isWorldDown = !1, a(this._end, e) || (i(this._end, e), E(this._start, this._end, this._ray), this._updateGeometry());\n  }\n  get width() {\n    return this._width;\n  }\n  set width(e) {\n    e !== this._width && (this._width = e, this._updateMaterial());\n  }\n  get color() {\n    return this._color;\n  }\n  set color(e) {\n    d(e, this._color) || (_(this._color, e), this._updateMaterial());\n  }\n  get polygonOffset() {\n    return this._polygonOffset;\n  }\n  set polygonOffset(e) {\n    e !== this._polygonOffset && (this._polygonOffset = e, this._updateMaterial());\n  }\n  get writeDepthEnabled() {\n    return this._writeDepthEnabled;\n  }\n  set writeDepthEnabled(e) {\n    this._writeDepthEnabled !== e && (this._writeDepthEnabled = e, this._updateMaterial());\n  }\n  get innerWidth() {\n    return this._innerWidth;\n  }\n  set innerWidth(e) {\n    e !== this._innerWidth && (this._innerWidth = e, this._updateMaterial());\n  }\n  get innerColor() {\n    return this._innerColor;\n  }\n  set innerColor(e) {\n    d(e, this._innerColor) || (_(this._innerColor, e), this._updateMaterial());\n  }\n  get stipplePattern() {\n    return this._stipplePattern;\n  }\n  set stipplePattern(t) {\n    const r = e(t) !== e(this._stipplePattern);\n    this._stipplePattern = t, r ? this.recreate() : this._updateMaterial();\n  }\n  get stippleOffColor() {\n    return this._stippleOffColor;\n  }\n  set stippleOffColor(r) {\n    (t(r) || t(this._stippleOffColor) || !d(r, this._stippleOffColor)) && (this._stippleOffColor = e(r) ? p(r) : null, this._updateMaterial());\n  }\n  get stipplePreferContinuous() {\n    return this._stipplePreferContinuous;\n  }\n  set stipplePreferContinuous(e) {\n    e !== this._stipplePreferContinuous && (this._stipplePreferContinuous = e, this._updateMaterial());\n  }\n  get falloff() {\n    return this._falloff;\n  }\n  set falloff(e) {\n    e !== this._falloff && (this._falloff = e, this._updateMaterial());\n  }\n  get extensionType() {\n    return this._extensionType;\n  }\n  set extensionType(e) {\n    e !== this._extensionType && (this._extensionType = e, this.recreateGeometry());\n  }\n  get _laserlineAttached() {\n    return this._laserlineEnabled && e(this._laserlineStyle) && this.attached && !this.isDraped;\n  }\n  get laserlineStyle() {\n    return this._laserlineStyle;\n  }\n  set laserlineStyle(t) {\n    this._laserlineStyle = t, this._laserline.attached = this._laserlineAttached, e(t) && (this._laserline.style = t);\n  }\n  get laserlineEnabled() {\n    return this._laserlineEnabled;\n  }\n  set laserlineEnabled(e) {\n    this._laserlineEnabled !== e && (this._laserlineEnabled = e, this._laserline.attached = this._laserlineAttached);\n  }\n  get renderOccluded() {\n    return this._renderOccluded;\n  }\n  set renderOccluded(e) {\n    e !== this._renderOccluded && (this._renderOccluded = e, this._updateMaterial());\n  }\n  get _normalizedRenderOccluded() {\n    return this.isDraped && this._renderOccluded === G.OccludeAndTransparentStencil ? G.OccludeAndTransparent : this._renderOccluded;\n  }\n  get fadedExtensions() {\n    return this._fadedExtensions;\n  }\n  set fadedExtensions(e) {\n    this._fadedExtensions = r(e, F), this.recreateGeometry();\n  }\n  _updateMaterial() {\n    const {\n      materialParameters: e\n    } = this;\n    s(this.object3dResources.resources)?.material.setParameters(e), s(this.drapedResources.resources)?.material.setParameters(e);\n  }\n  get materialParameters() {\n    return {\n      width: this._width,\n      color: this._color,\n      stippleOffColor: this._stippleOffColor,\n      stipplePattern: this._stipplePattern,\n      stipplePreferContinuous: this._stipplePreferContinuous,\n      innerWidth: this._innerWidth,\n      innerColor: this._innerColor,\n      falloff: this._falloff,\n      hasPolygonOffset: this._polygonOffset,\n      renderOccluded: this._normalizedRenderOccluded,\n      writeDepth: this._writeDepthEnabled\n    };\n  }\n  _createObject3DResources(e) {\n    const t = new S(this.materialParameters),\n      r = new Array();\n    return this._createObject3DGeometry(t, e, r), {\n      material: t,\n      geometries: r,\n      forEach: e => {\n        e(t), r.forEach(e);\n      }\n    };\n  }\n  _destroyExternalResources(e) {\n    e.geometries = [], e.material.dispose();\n  }\n  _recreateObject3DGeometry(e, t) {\n    e.geometries.length = 0, this._createObject3DGeometry(e.material, t, e.geometries);\n  }\n  _createObject3DGeometry(e, t, r) {\n    const s = this._createGeometry(e);\n    r.push(s), t.addGeometry(s), this._updateVerticesObject3D(t);\n  }\n  _createDrapedResources() {\n    const e = new S(this.materialParameters);\n    return {\n      material: e,\n      geometries: [this._createDrapedGeometry(e)]\n    };\n  }\n  _recreateDrapedGeometry(e) {\n    e.geometries = [this._createDrapedGeometry(e.material)];\n  }\n  _createDrapedGeometry(e) {\n    const t = this._createGeometry(e);\n    this._updateVerticesDraped(t);\n    const r = new x(t, {\n      boundingInfo: t.boundingInfo\n    });\n    return r.computeBoundingSphere(r.transformation, r.boundingSphere), r;\n  }\n  _createGeometry(e) {\n    const t = this.extensionType === W.FADED,\n      r = t ? [l(), l(), l(), l()] : [l(), l()];\n    return C(e, r, null, t ? [1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0] : null);\n  }\n  _updateGeometry() {\n    if (this.isDraped) this.drapedResources.recreateGeometry();else {\n      const e = s(this.object3dResources.object);\n      e && this._updateVerticesObject3D(e);\n    }\n  }\n  _updateVerticesObject3D(e) {\n    const t = this._lineSegment;\n    this._updateVertexAttributesObject3D(e, t), this._laserline.intersectsLine = t;\n  }\n  _updateVerticesDraped(e) {\n    this._updateVertexAttributesDraped(e, this._lineSegment);\n  }\n  get _lineSegment() {\n    return this._extensionType === W.FADED ? this._updateLineSegmentFinite(L) : this._updateLineSegmentInfinite(this._extensionType, L);\n  }\n  _updateLineSegmentFinite(e) {\n    return D(this._start, this._end, e);\n  }\n  _updateLineSegmentInfinite(e, t) {\n    const s = this.view.state.camera;\n    switch (f(this._ray, V), e) {\n      case W.LINE:\n        V.c0 = -Number.MAX_VALUE;\n        break;\n      case W.RAY:\n      case W.GROUND_RAY:\n        {\n          const e = this._ray.origin,\n            t = r(this.view.elevationProvider.getElevation(e[0], e[1], e[2], this.view.renderCoordsHelper.spatialReference, \"ground\"), 0),\n            s = this.view.renderCoordsHelper.getAltitude(e);\n          this._isWorldDown && s < t && o(V.ray.direction, V.ray.direction), this._extensionType === W.GROUND_RAY && null != t && (V.c1 = Math.abs(s - t));\n          break;\n        }\n    }\n    if (!g(s.frustum, V)) return this._updateLineSegmentFinite(t);\n    const i = m(V, M),\n      n = y(V, T);\n    return D(i, n, t);\n  }\n  _updateVertexAttributesObject3D(e, t) {\n    const r = e.geometries[0].getMutableAttribute(P.POSITION)?.data;\n    if (!r) return;\n    let s = 0;\n    for (const i of this._lineVertices(t)) r[s++] = i[0], r[s++] = i[1], r[s++] = i[2];\n    e.geometryVertexAttrsUpdated(e.geometries[0]);\n  }\n  _updateVertexAttributesDraped(e, t) {\n    const r = e.getMutableAttribute(P.POSITION)?.data;\n    if (!r) return;\n    let s = 0;\n    for (const i of this._lineVertices(t)) r[s++] = i[0], r[s++] = i[1], r[s++] = A;\n    e.invalidateBoundingInfo();\n  }\n  *_lineVertices(e) {\n    this.extensionType === W.FADED ? (yield O(e, -this.fadedExtensions.start, M), yield O(e, 0, M), yield O(e, 1, M), yield O(e, 1 + this.fadedExtensions.end, M)) : (yield O(e, 0, M), yield O(e, 1, M));\n  }\n}\nconst V = u(),\n  M = l(),\n  T = l(),\n  L = b();\nvar W;\n!function (e) {\n  e[e.LINE = 0] = \"LINE\", e[e.RAY = 1] = \"RAY\", e[e.GROUND_RAY = 2] = \"GROUND_RAY\", e[e.FADED = 3] = \"FADED\";\n}(W || (W = {}));\nconst I = 1 / 3,\n  F = {\n    start: I,\n    end: I\n  };\nexport { v as ExtendedLineVisualElement, W as ExtensionType };","map":{"version":3,"names":["isSome","e","isNone","t","unwrapOr","r","toNullable","s","c","i","b","n","k","a","o","l","f","h","g","d","_","p","create","u","fromRay","getStart","m","getEnd","y","intersectClipRay","fromPoints","D","pointAt","O","w","E","EngineVisualElement","R","LaserlineVisualElement","j","DRAPED_Z","A","createPolylineGeometry","C","RenderOccludedFlag","G","RenderGeometry","x","VertexAttribute","P","RibbonLineMaterial","S","v","constructor","_ray","_isWorldDown","_start","_end","_width","_color","_polygonOffset","_writeDepthEnabled","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stipplePreferContinuous","_falloff","_extensionType","W","LINE","_laserlineStyle","_laserlineEnabled","_renderOccluded","OccludeAndTransparent","_fadedExtensions","F","_laserline","view","applyProps","destroy","createObject3DResourceFactory","createResources","_createObject3DResources","destroyResources","_destroyExternalResources","recreateGeometry","_recreateObject3DGeometry","cameraChanged","_updateGeometry","createDrapedResourceFactory","_createDrapedResources","_recreateDrapedGeometry","updateVisibility","visible","onAttachedChange","attached","_laserlineAttached","setStartEndFromWorldDownAtLocation","renderCoordsHelper","worldUpAtPosition","start","end","width","_updateMaterial","color","polygonOffset","writeDepthEnabled","innerWidth","innerColor","stipplePattern","recreate","stippleOffColor","stipplePreferContinuous","falloff","extensionType","isDraped","laserlineStyle","style","laserlineEnabled","renderOccluded","_normalizedRenderOccluded","OccludeAndTransparentStencil","fadedExtensions","materialParameters","object3dResources","resources","material","setParameters","drapedResources","hasPolygonOffset","writeDepth","Array","_createObject3DGeometry","geometries","forEach","dispose","length","_createGeometry","push","addGeometry","_updateVerticesObject3D","_createDrapedGeometry","_updateVerticesDraped","boundingInfo","computeBoundingSphere","transformation","boundingSphere","FADED","object","_lineSegment","_updateVertexAttributesObject3D","intersectsLine","_updateVertexAttributesDraped","_updateLineSegmentFinite","L","_updateLineSegmentInfinite","state","camera","V","c0","Number","MAX_VALUE","RAY","GROUND_RAY","origin","elevationProvider","getElevation","spatialReference","getAltitude","ray","direction","c1","Math","abs","frustum","M","T","getMutableAttribute","POSITION","data","_lineVertices","geometryVertexAttrsUpdated","invalidateBoundingInfo","I","ExtendedLineVisualElement","ExtensionType"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as e,isNone as t,unwrapOr as r,toNullable as s}from\"../../../../core/maybe.js\";import{c as i,b as n,k as a,o}from\"../../../../chunks/vec3.js\";import{c as l,f as h}from\"../../../../chunks/vec3f64.js\";import{g as d,c as _}from\"../../../../chunks/vec4.js\";import{f as c,c as p}from\"../../../../chunks/vec4f32.js\";import{create as u,fromRay as f,getStart as m,getEnd as y}from\"../../../../geometry/support/clipRay.js\";import{intersectClipRay as g}from\"../../../../geometry/support/frustum.js\";import{create as b,fromPoints as D,pointAt as O}from\"../../../../geometry/support/lineSegment.js\";import{create as w,fromPoints as E}from\"../../../../geometry/support/ray.js\";import{EngineVisualElement as R}from\"./EngineVisualElement.js\";import{LaserlineVisualElement as j}from\"./LaserlineVisualElement.js\";import{DRAPED_Z as A}from\"../../terrain/OverlayRenderer.js\";import{createPolylineGeometry as C}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as G}from\"../../webgl-engine/lib/Material.js\";import{RenderGeometry as x}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as P}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as S}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class v extends R{constructor(e){super(e),this._ray=w(),this._isWorldDown=!1,this._start=l(),this._end=h(1,0,0),this._width=1,this._color=c(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=c(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=W.LINE,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=G.OccludeAndTransparent,this._fadedExtensions=F,this._laserline=new j({view:this.view}),this.applyProps(e)}destroy(){this._laserline.destroy(),super.destroy()}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:e=>this._destroyExternalResources(e),recreateGeometry:(e,t)=>this._recreateObject3DGeometry(e,t),cameraChanged:()=>this._updateGeometry()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:e=>this._destroyExternalResources(e),recreateGeometry:e=>this._recreateDrapedGeometry(e)}}updateVisibility(e){super.updateVisibility(e),this._laserline.visible=e}onAttachedChange(){this._laserline.attached=this._laserlineAttached}setStartEndFromWorldDownAtLocation(e){this._isWorldDown=!0,i(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),n(this._end,e,this._end),E(this._start,this._end,this._ray),this._updateGeometry()}get start(){return this._start}set start(e){this._isWorldDown=!1,a(this._start,e)||(i(this._start,e),E(this._start,this._end,this._ray),this._updateGeometry())}get end(){return this._end}set end(e){this._isWorldDown=!1,a(this._end,e)||(i(this._end,e),E(this._start,this._end,this._ray),this._updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){d(e,this._color)||(_(this._color,e),this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){d(e,this._innerColor)||(_(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(t(r)||t(this._stippleOffColor)||!d(r,this._stippleOffColor))&&(this._stippleOffColor=e(r)?p(r):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this.recreateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&e(this._laserlineStyle)&&this.attached&&!this.isDraped}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(t){this._laserlineStyle=t,this._laserline.attached=this._laserlineAttached,e(t)&&(this._laserline.style=t)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this._laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get _normalizedRenderOccluded(){return this.isDraped&&this._renderOccluded===G.OccludeAndTransparentStencil?G.OccludeAndTransparent:this._renderOccluded}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=r(e,F),this.recreateGeometry()}_updateMaterial(){const{materialParameters:e}=this;s(this.object3dResources.resources)?.material.setParameters(e),s(this.drapedResources.resources)?.material.setParameters(e)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,hasPolygonOffset:this._polygonOffset,renderOccluded:this._normalizedRenderOccluded,writeDepth:this._writeDepthEnabled}}_createObject3DResources(e){const t=new S(this.materialParameters),r=new Array;return this._createObject3DGeometry(t,e,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_destroyExternalResources(e){e.geometries=[],e.material.dispose()}_recreateObject3DGeometry(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}_createObject3DGeometry(e,t,r){const s=this._createGeometry(e);r.push(s),t.addGeometry(s),this._updateVerticesObject3D(t)}_createDrapedResources(){const e=new S(this.materialParameters);return{material:e,geometries:[this._createDrapedGeometry(e)]}}_recreateDrapedGeometry(e){e.geometries=[this._createDrapedGeometry(e.material)]}_createDrapedGeometry(e){const t=this._createGeometry(e);this._updateVerticesDraped(t);const r=new x(t,{boundingInfo:t.boundingInfo});return r.computeBoundingSphere(r.transformation,r.boundingSphere),r}_createGeometry(e){const t=this.extensionType===W.FADED,r=t?[l(),l(),l(),l()]:[l(),l()];return C(e,r,null,t?[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]:null)}_updateGeometry(){if(this.isDraped)this.drapedResources.recreateGeometry();else{const e=s(this.object3dResources.object);e&&this._updateVerticesObject3D(e)}}_updateVerticesObject3D(e){const t=this._lineSegment;this._updateVertexAttributesObject3D(e,t),this._laserline.intersectsLine=t}_updateVerticesDraped(e){this._updateVertexAttributesDraped(e,this._lineSegment)}get _lineSegment(){return this._extensionType===W.FADED?this._updateLineSegmentFinite(L):this._updateLineSegmentInfinite(this._extensionType,L)}_updateLineSegmentFinite(e){return D(this._start,this._end,e)}_updateLineSegmentInfinite(e,t){const s=this.view.state.camera;switch(f(this._ray,V),e){case W.LINE:V.c0=-Number.MAX_VALUE;break;case W.RAY:case W.GROUND_RAY:{const e=this._ray.origin,t=r(this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,\"ground\"),0),s=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&s<t&&o(V.ray.direction,V.ray.direction),this._extensionType===W.GROUND_RAY&&null!=t&&(V.c1=Math.abs(s-t));break}}if(!g(s.frustum,V))return this._updateLineSegmentFinite(t);const i=m(V,M),n=y(V,T);return D(i,n,t)}_updateVertexAttributesObject3D(e,t){const r=e.geometries[0].getMutableAttribute(P.POSITION)?.data;if(!r)return;let s=0;for(const i of this._lineVertices(t))r[s++]=i[0],r[s++]=i[1],r[s++]=i[2];e.geometryVertexAttrsUpdated(e.geometries[0])}_updateVertexAttributesDraped(e,t){const r=e.getMutableAttribute(P.POSITION)?.data;if(!r)return;let s=0;for(const i of this._lineVertices(t))r[s++]=i[0],r[s++]=i[1],r[s++]=A;e.invalidateBoundingInfo()}*_lineVertices(e){this.extensionType===W.FADED?(yield O(e,-this.fadedExtensions.start,M),yield O(e,0,M),yield O(e,1,M),yield O(e,1+this.fadedExtensions.end,M)):(yield O(e,0,M),yield O(e,1,M))}}const V=u(),M=l(),T=l(),L=b();var W;!function(e){e[e.LINE=0]=\"LINE\",e[e.RAY=1]=\"RAY\",e[e.GROUND_RAY=2]=\"GROUND_RAY\",e[e.FADED=3]=\"FADED\"}(W||(W={}));const I=1/3,F={start:I,end:I};export{v as ExtendedLineVisualElement,W as ExtensionType};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}