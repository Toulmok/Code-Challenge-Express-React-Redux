{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { s as t, k as e } from \"../../../../chunks/vec2.js\";\nimport { a as r } from \"../../../../chunks/vec2f64.js\";\nimport { newLayout as s } from \"../../support/buffer/InterleavedLayout.js\";\nimport { ShaderOutput as i } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport a from \"../lib/GLMaterial.js\";\nimport { Material as o } from \"../lib/Material.js\";\nimport { RenderSlot as n } from \"../lib/RenderSlot.js\";\nimport { VertexAttribute as u } from \"../lib/VertexAttribute.js\";\nimport { writePosition as l, writeBufferFloat as c } from \"./internal/bufferWriterUtils.js\";\nimport { HeatmapDensityPassParameters as f, HeatmapDensityTechniqueConfiguration as m, HeatmapDensityTechnique as T } from \"../shaders/HeatmapDensityTechnique.js\";\nconst h = 2;\nclass p extends f {\n  constructor() {\n    super(...arguments), this.isAttributeDriven = !1, this.usesHalfFloats = !1;\n  }\n}\nclass d extends o {\n  constructor(t) {\n    super(t, new p()), this._configuration = new m();\n  }\n  requiresSlot(t, e) {\n    return t === n.DRAPED_MATERIAL && e === i.Color;\n  }\n  getConfiguration() {\n    return this._configuration.isAttributeDriven = this.parameters.isAttributeDriven, this._configuration.usesHalfFloat = this.parameters.usesHalfFloats, this._configuration;\n  }\n  createGLMaterial(t) {\n    return new A(t);\n  }\n  intersect() {}\n  intersectDraped(r, s, i, a, o, n) {\n    const l = r.vertexAttributes.get(u.POSITION),\n      {\n        parameters: c\n      } = this,\n      {\n        searchRadius: f\n      } = c,\n      {\n        screenToWorldRatio: m\n      } = r,\n      T = f * m + h * m,\n      p = T * T,\n      d = l.data.length / l.size;\n    for (let u = 0; u < d; u++) {\n      const r = u * l.size,\n        s = t(E, l.data[r], l.data[r + 1]);\n      e(s, a) < p && o(n.dist, n.normal, -1, !1);\n    }\n  }\n  createBufferWriter() {\n    return new I(this.parameters.isAttributeDriven ? g : b);\n  }\n}\nclass A extends a {\n  beginSlot(t) {\n    return this.ensureTechnique(T, t);\n  }\n}\nclass I {\n  constructor(t) {\n    this.vertexBufferLayout = t;\n  }\n  allocate(t) {\n    return this.vertexBufferLayout.createBuffer(t);\n  }\n  elementCount(t) {\n    return t.indices.get(u.POSITION).length * v;\n  }\n  write(t, e, r, s, i) {\n    l(r.indices.get(u.POSITION), r.vertexAttributes.get(u.POSITION).data, t, s.position, i, v);\n    const a = r.indices.get(u.POSITION).length,\n      o = s.uv0;\n    let n = i;\n    for (let u = 0; u < a; ++u) o.setValues(n++, -1, -1), o.setValues(n++, 1, -1), o.setValues(n++, 1, 1), o.setValues(n++, 1, 1), o.setValues(n++, -1, 1), o.setValues(n++, -1, -1);\n    const f = u.FEATUREATTRIBUTE in s ? s.featureAttribute : null;\n    f && c(r.indices.get(u.FEATUREATTRIBUTE), r.vertexAttributes.get(u.FEATUREATTRIBUTE).data, f, i, v);\n  }\n}\nconst b = s().vec3f(u.POSITION).vec2f(u.UV0),\n  g = b.clone().f32(u.FEATUREATTRIBUTE),\n  v = 6,\n  E = r();\nexport { d as HeatmapDensityMaterial, p as HeatmapDensityMaterialParameters };","map":{"version":3,"names":["s","t","k","e","a","r","newLayout","ShaderOutput","i","Material","o","RenderSlot","n","VertexAttribute","u","writePosition","l","writeBufferFloat","c","HeatmapDensityPassParameters","f","HeatmapDensityTechniqueConfiguration","m","HeatmapDensityTechnique","T","h","p","constructor","arguments","isAttributeDriven","usesHalfFloats","d","_configuration","requiresSlot","DRAPED_MATERIAL","Color","getConfiguration","parameters","usesHalfFloat","createGLMaterial","A","intersect","intersectDraped","vertexAttributes","get","POSITION","searchRadius","screenToWorldRatio","data","length","size","E","dist","normal","createBufferWriter","I","g","b","beginSlot","ensureTechnique","vertexBufferLayout","allocate","createBuffer","elementCount","indices","v","write","position","uv0","setValues","FEATUREATTRIBUTE","featureAttribute","vec3f","vec2f","UV0","clone","f32","HeatmapDensityMaterial","HeatmapDensityMaterialParameters"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{s as t,k as e}from\"../../../../chunks/vec2.js\";import{a as r}from\"../../../../chunks/vec2f64.js\";import{newLayout as s}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as i}from\"../core/shaderLibrary/ShaderOutput.js\";import a from\"../lib/GLMaterial.js\";import{Material as o}from\"../lib/Material.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{VertexAttribute as u}from\"../lib/VertexAttribute.js\";import{writePosition as l,writeBufferFloat as c}from\"./internal/bufferWriterUtils.js\";import{HeatmapDensityPassParameters as f,HeatmapDensityTechniqueConfiguration as m,HeatmapDensityTechnique as T}from\"../shaders/HeatmapDensityTechnique.js\";const h=2;class p extends f{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloats=!1}}class d extends o{constructor(t){super(t,new p),this._configuration=new m}requiresSlot(t,e){return t===n.DRAPED_MATERIAL&&e===i.Color}getConfiguration(){return this._configuration.isAttributeDriven=this.parameters.isAttributeDriven,this._configuration.usesHalfFloat=this.parameters.usesHalfFloats,this._configuration}createGLMaterial(t){return new A(t)}intersect(){}intersectDraped(r,s,i,a,o,n){const l=r.vertexAttributes.get(u.POSITION),{parameters:c}=this,{searchRadius:f}=c,{screenToWorldRatio:m}=r,T=f*m+h*m,p=T*T,d=l.data.length/l.size;for(let u=0;u<d;u++){const r=u*l.size,s=t(E,l.data[r],l.data[r+1]);e(s,a)<p&&o(n.dist,n.normal,-1,!1)}}createBufferWriter(){return new I(this.parameters.isAttributeDriven?g:b)}}class A extends a{beginSlot(t){return this.ensureTechnique(T,t)}}class I{constructor(t){this.vertexBufferLayout=t}allocate(t){return this.vertexBufferLayout.createBuffer(t)}elementCount(t){return t.indices.get(u.POSITION).length*v}write(t,e,r,s,i){l(r.indices.get(u.POSITION),r.vertexAttributes.get(u.POSITION).data,t,s.position,i,v);const a=r.indices.get(u.POSITION).length,o=s.uv0;let n=i;for(let u=0;u<a;++u)o.setValues(n++,-1,-1),o.setValues(n++,1,-1),o.setValues(n++,1,1),o.setValues(n++,1,1),o.setValues(n++,-1,1),o.setValues(n++,-1,-1);const f=u.FEATUREATTRIBUTE in s?s.featureAttribute:null;f&&c(r.indices.get(u.FEATUREATTRIBUTE),r.vertexAttributes.get(u.FEATUREATTRIBUTE).data,f,i,v)}}const b=s().vec3f(u.POSITION).vec2f(u.UV0),g=b.clone().f32(u.FEATUREATTRIBUTE),v=6,E=r();export{d as HeatmapDensityMaterial,p as HeatmapDensityMaterialParameters};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,EAACC,CAAC,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOC,CAAC,IAAIC,CAAC,QAAK,+BAA+B;AAAC,SAAOC,SAAS,IAAIN,CAAC,QAAK,2CAA2C;AAAC,SAAOO,YAAY,IAAIC,CAAC,QAAK,uCAAuC;AAAC,OAAOJ,CAAC,MAAK,sBAAsB;AAAC,SAAOK,QAAQ,IAAIC,CAAC,QAAK,oBAAoB;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,sBAAsB;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,2BAA2B;AAAC,SAAOC,aAAa,IAAIC,CAAC,EAACC,gBAAgB,IAAIC,CAAC,QAAK,iCAAiC;AAAC,SAAOC,4BAA4B,IAAIC,CAAC,EAACC,oCAAoC,IAAIC,CAAC,EAACC,uBAAuB,IAAIC,CAAC,QAAK,uCAAuC;AAAC,MAAMC,CAAC,GAAC,CAAC;AAAC,MAAMC,CAAC,SAASN,CAAC;EAACO,WAAWA,CAAA,EAAE;IAAC,KAAK,CAAC,GAAGC,SAAS,CAAC,EAAC,IAAI,CAACC,iBAAiB,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,cAAc,GAAC,CAAC,CAAC;EAAA;AAAC;AAAC,MAAMC,CAAC,SAASrB,CAAC;EAACiB,WAAWA,CAAC1B,CAAC,EAAC;IAAC,KAAK,CAACA,CAAC,EAAC,IAAIyB,CAAC,GAAC,EAAC,IAAI,CAACM,cAAc,GAAC,IAAIV,CAAC;EAAA;EAACW,YAAYA,CAAChC,CAAC,EAACE,CAAC,EAAC;IAAC,OAAOF,CAAC,KAAGW,CAAC,CAACsB,eAAe,IAAE/B,CAAC,KAAGK,CAAC,CAAC2B,KAAK;EAAA;EAACC,gBAAgBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACJ,cAAc,CAACH,iBAAiB,GAAC,IAAI,CAACQ,UAAU,CAACR,iBAAiB,EAAC,IAAI,CAACG,cAAc,CAACM,aAAa,GAAC,IAAI,CAACD,UAAU,CAACP,cAAc,EAAC,IAAI,CAACE,cAAc;EAAA;EAACO,gBAAgBA,CAACtC,CAAC,EAAC;IAAC,OAAO,IAAIuC,CAAC,CAACvC,CAAC,CAAC;EAAA;EAACwC,SAASA,CAAA,EAAE,CAAC;EAACC,eAAeA,CAACrC,CAAC,EAACL,CAAC,EAACQ,CAAC,EAACJ,CAAC,EAACM,CAAC,EAACE,CAAC,EAAC;IAAC,MAAMI,CAAC,GAACX,CAAC,CAACsC,gBAAgB,CAACC,GAAG,CAAC9B,CAAC,CAAC+B,QAAQ,CAAC;MAAC;QAACR,UAAU,EAACnB;MAAC,CAAC,GAAC,IAAI;MAAC;QAAC4B,YAAY,EAAC1B;MAAC,CAAC,GAACF,CAAC;MAAC;QAAC6B,kBAAkB,EAACzB;MAAC,CAAC,GAACjB,CAAC;MAACmB,CAAC,GAACJ,CAAC,GAACE,CAAC,GAACG,CAAC,GAACH,CAAC;MAACI,CAAC,GAACF,CAAC,GAACA,CAAC;MAACO,CAAC,GAACf,CAAC,CAACgC,IAAI,CAACC,MAAM,GAACjC,CAAC,CAACkC,IAAI;IAAC,KAAI,IAAIpC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACiB,CAAC,EAACjB,CAAC,EAAE,EAAC;MAAC,MAAMT,CAAC,GAACS,CAAC,GAACE,CAAC,CAACkC,IAAI;QAAClD,CAAC,GAACC,CAAC,CAACkD,CAAC,EAACnC,CAAC,CAACgC,IAAI,CAAC3C,CAAC,CAAC,EAACW,CAAC,CAACgC,IAAI,CAAC3C,CAAC,GAAC,CAAC,CAAC,CAAC;MAACF,CAAC,CAACH,CAAC,EAACI,CAAC,CAAC,GAACsB,CAAC,IAAEhB,CAAC,CAACE,CAAC,CAACwC,IAAI,EAACxC,CAAC,CAACyC,MAAM,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;IAAA;EAAC;EAACC,kBAAkBA,CAAA,EAAE;IAAC,OAAO,IAAIC,CAAC,CAAC,IAAI,CAAClB,UAAU,CAACR,iBAAiB,GAAC2B,CAAC,GAACC,CAAC,CAAC;EAAA;AAAC;AAAC,MAAMjB,CAAC,SAASpC,CAAC;EAACsD,SAASA,CAACzD,CAAC,EAAC;IAAC,OAAO,IAAI,CAAC0D,eAAe,CAACnC,CAAC,EAACvB,CAAC,CAAC;EAAA;AAAC;AAAC,MAAMsD,CAAC;EAAC5B,WAAWA,CAAC1B,CAAC,EAAC;IAAC,IAAI,CAAC2D,kBAAkB,GAAC3D,CAAC;EAAA;EAAC4D,QAAQA,CAAC5D,CAAC,EAAC;IAAC,OAAO,IAAI,CAAC2D,kBAAkB,CAACE,YAAY,CAAC7D,CAAC,CAAC;EAAA;EAAC8D,YAAYA,CAAC9D,CAAC,EAAC;IAAC,OAAOA,CAAC,CAAC+D,OAAO,CAACpB,GAAG,CAAC9B,CAAC,CAAC+B,QAAQ,CAAC,CAACI,MAAM,GAACgB,CAAC;EAAA;EAACC,KAAKA,CAACjE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACL,CAAC,EAACQ,CAAC,EAAC;IAACQ,CAAC,CAACX,CAAC,CAAC2D,OAAO,CAACpB,GAAG,CAAC9B,CAAC,CAAC+B,QAAQ,CAAC,EAACxC,CAAC,CAACsC,gBAAgB,CAACC,GAAG,CAAC9B,CAAC,CAAC+B,QAAQ,CAAC,CAACG,IAAI,EAAC/C,CAAC,EAACD,CAAC,CAACmE,QAAQ,EAAC3D,CAAC,EAACyD,CAAC,CAAC;IAAC,MAAM7D,CAAC,GAACC,CAAC,CAAC2D,OAAO,CAACpB,GAAG,CAAC9B,CAAC,CAAC+B,QAAQ,CAAC,CAACI,MAAM;MAACvC,CAAC,GAACV,CAAC,CAACoE,GAAG;IAAC,IAAIxD,CAAC,GAACJ,CAAC;IAAC,KAAI,IAAIM,CAAC,GAAC,CAAC,EAACA,CAAC,GAACV,CAAC,EAAC,EAAEU,CAAC,EAACJ,CAAC,CAAC2D,SAAS,CAACzD,CAAC,EAAE,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAACF,CAAC,CAAC2D,SAAS,CAACzD,CAAC,EAAE,EAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAACF,CAAC,CAAC2D,SAAS,CAACzD,CAAC,EAAE,EAAC,CAAC,EAAC,CAAC,CAAC,EAACF,CAAC,CAAC2D,SAAS,CAACzD,CAAC,EAAE,EAAC,CAAC,EAAC,CAAC,CAAC,EAACF,CAAC,CAAC2D,SAAS,CAACzD,CAAC,EAAE,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAACF,CAAC,CAAC2D,SAAS,CAACzD,CAAC,EAAE,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;IAAC,MAAMQ,CAAC,GAACN,CAAC,CAACwD,gBAAgB,IAAItE,CAAC,GAACA,CAAC,CAACuE,gBAAgB,GAAC,IAAI;IAACnD,CAAC,IAAEF,CAAC,CAACb,CAAC,CAAC2D,OAAO,CAACpB,GAAG,CAAC9B,CAAC,CAACwD,gBAAgB,CAAC,EAACjE,CAAC,CAACsC,gBAAgB,CAACC,GAAG,CAAC9B,CAAC,CAACwD,gBAAgB,CAAC,CAACtB,IAAI,EAAC5B,CAAC,EAACZ,CAAC,EAACyD,CAAC,CAAC;EAAA;AAAC;AAAC,MAAMR,CAAC,GAACzD,CAAC,EAAE,CAACwE,KAAK,CAAC1D,CAAC,CAAC+B,QAAQ,CAAC,CAAC4B,KAAK,CAAC3D,CAAC,CAAC4D,GAAG,CAAC;EAAClB,CAAC,GAACC,CAAC,CAACkB,KAAK,EAAE,CAACC,GAAG,CAAC9D,CAAC,CAACwD,gBAAgB,CAAC;EAACL,CAAC,GAAC,CAAC;EAACd,CAAC,GAAC9C,CAAC,EAAE;AAAC,SAAO0B,CAAC,IAAI8C,sBAAsB,EAACnD,CAAC,IAAIoD,gCAAgC"},"metadata":{},"sourceType":"module","externalDependencies":[]}