{"ast":null,"code":"/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.8-next.4\n */\nimport { u as queryElementRoots, r as closestElementCrossShadowBoundary } from './dom.js';\n\n/**\n * Exported for testing purposes only\n *\n * @internal\n */\nconst labelClickEvent = \"calciteInternalLabelClick\";\nconst labelConnectedEvent = \"calciteInternalLabelConnected\";\nconst labelDisconnectedEvent = \"calciteInternaLabelDisconnected\";\nconst labelTagName = \"calcite-label\";\nconst onLabelClickMap = new WeakMap();\nconst onLabelConnectedMap = new WeakMap();\nconst onLabelDisconnectedMap = new WeakMap();\nconst unlabeledComponents = new Set();\nconst findLabelForComponent = componentEl => {\n  const {\n    id\n  } = componentEl;\n  const forLabel = id && queryElementRoots(componentEl, {\n    selector: `${labelTagName}[for=\"${id}\"]`\n  });\n  if (forLabel) {\n    return forLabel;\n  }\n  const parentLabel = closestElementCrossShadowBoundary(componentEl, labelTagName);\n  if (!parentLabel ||\n  // labelable components within other custom elements are not considered labelable\n  hasAncestorCustomElements(parentLabel, componentEl)) {\n    return null;\n  }\n  return parentLabel;\n};\nfunction hasAncestorCustomElements(label, componentEl) {\n  let traversedElements;\n  const customElementAncestorCheckEventType = \"custom-element-ancestor-check\";\n  const listener = event => {\n    event.stopImmediatePropagation();\n    const composedPath = event.composedPath();\n    traversedElements = composedPath.slice(composedPath.indexOf(componentEl), composedPath.indexOf(label));\n  };\n  label.addEventListener(customElementAncestorCheckEventType, listener, {\n    once: true\n  });\n  componentEl.dispatchEvent(new CustomEvent(customElementAncestorCheckEventType, {\n    composed: true,\n    bubbles: true\n  }));\n  label.removeEventListener(customElementAncestorCheckEventType, listener);\n  const ancestorCustomElements = traversedElements.filter(el => el !== componentEl && el !== label).filter(el => el.tagName?.includes(\"-\"));\n  return ancestorCustomElements.length > 0;\n}\n/**\n * Helper to set up label interactions on connectedCallback.\n *\n * @param component\n */\nfunction connectLabel(component) {\n  const labelEl = findLabelForComponent(component.el);\n  if (onLabelClickMap.has(labelEl) || !labelEl && unlabeledComponents.has(component)) {\n    return;\n  }\n  const boundOnLabelDisconnected = onLabelDisconnected.bind(component);\n  if (labelEl) {\n    component.labelEl = labelEl;\n    const boundOnLabelClick = onLabelClick.bind(component);\n    onLabelClickMap.set(component.labelEl, boundOnLabelClick);\n    component.labelEl.addEventListener(labelClickEvent, boundOnLabelClick);\n    unlabeledComponents.delete(component);\n    document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));\n    onLabelDisconnectedMap.set(component, boundOnLabelDisconnected);\n    document.addEventListener(labelDisconnectedEvent, boundOnLabelDisconnected);\n  } else if (!unlabeledComponents.has(component)) {\n    boundOnLabelDisconnected();\n    document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));\n  }\n}\n/**\n * Helper to tear down label interactions on disconnectedCallback on labelable components.\n *\n * @param component\n */\nfunction disconnectLabel(component) {\n  unlabeledComponents.delete(component);\n  document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));\n  document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));\n  onLabelConnectedMap.delete(component);\n  onLabelDisconnectedMap.delete(component);\n  if (!component.labelEl) {\n    return;\n  }\n  const boundOnLabelClick = onLabelClickMap.get(component.labelEl);\n  component.labelEl.removeEventListener(labelClickEvent, boundOnLabelClick);\n  onLabelClickMap.delete(component.labelEl);\n}\n/**\n * Helper to get the label text from a component.\n *\n * @param component\n */\nfunction getLabelText(component) {\n  return component.label || component.labelEl?.textContent?.trim() || \"\";\n}\nfunction onLabelClick(event) {\n  if (this.disabled) {\n    return;\n  }\n  const containedLabelableChildClicked = this.el.contains(event.detail.sourceEvent.target);\n  if (containedLabelableChildClicked) {\n    return;\n  }\n  this.onLabelClick(event);\n}\nfunction onLabelConnected() {\n  if (unlabeledComponents.has(this)) {\n    connectLabel(this);\n  }\n}\nfunction onLabelDisconnected() {\n  unlabeledComponents.add(this);\n  const boundOnLabelConnected = onLabelConnectedMap.get(this) || onLabelConnected.bind(this);\n  onLabelConnectedMap.set(this, boundOnLabelConnected);\n  document.addEventListener(labelConnectedEvent, boundOnLabelConnected);\n}\nexport { labelDisconnectedEvent as a, connectLabel as c, disconnectLabel as d, getLabelText as g, labelConnectedEvent as l };","map":{"version":3,"names":["u","queryElementRoots","r","closestElementCrossShadowBoundary","labelClickEvent","labelConnectedEvent","labelDisconnectedEvent","labelTagName","onLabelClickMap","WeakMap","onLabelConnectedMap","onLabelDisconnectedMap","unlabeledComponents","Set","findLabelForComponent","componentEl","id","forLabel","selector","parentLabel","hasAncestorCustomElements","label","traversedElements","customElementAncestorCheckEventType","listener","event","stopImmediatePropagation","composedPath","slice","indexOf","addEventListener","once","dispatchEvent","CustomEvent","composed","bubbles","removeEventListener","ancestorCustomElements","filter","el","tagName","includes","length","connectLabel","component","labelEl","has","boundOnLabelDisconnected","onLabelDisconnected","bind","boundOnLabelClick","onLabelClick","set","delete","document","get","disconnectLabel","getLabelText","textContent","trim","disabled","containedLabelableChildClicked","contains","detail","sourceEvent","target","onLabelConnected","add","boundOnLabelConnected","a","c","d","g","l"],"sources":["C:/code-challenge-react/frontend/node_modules/@esri/calcite-components/dist/components/label2.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.8-next.4\n */\nimport { u as queryElementRoots, r as closestElementCrossShadowBoundary } from './dom.js';\n\n/**\n * Exported for testing purposes only\n *\n * @internal\n */\nconst labelClickEvent = \"calciteInternalLabelClick\";\nconst labelConnectedEvent = \"calciteInternalLabelConnected\";\nconst labelDisconnectedEvent = \"calciteInternaLabelDisconnected\";\nconst labelTagName = \"calcite-label\";\nconst onLabelClickMap = new WeakMap();\nconst onLabelConnectedMap = new WeakMap();\nconst onLabelDisconnectedMap = new WeakMap();\nconst unlabeledComponents = new Set();\nconst findLabelForComponent = (componentEl) => {\n  const { id } = componentEl;\n  const forLabel = id && queryElementRoots(componentEl, { selector: `${labelTagName}[for=\"${id}\"]` });\n  if (forLabel) {\n    return forLabel;\n  }\n  const parentLabel = closestElementCrossShadowBoundary(componentEl, labelTagName);\n  if (!parentLabel ||\n    // labelable components within other custom elements are not considered labelable\n    hasAncestorCustomElements(parentLabel, componentEl)) {\n    return null;\n  }\n  return parentLabel;\n};\nfunction hasAncestorCustomElements(label, componentEl) {\n  let traversedElements;\n  const customElementAncestorCheckEventType = \"custom-element-ancestor-check\";\n  const listener = (event) => {\n    event.stopImmediatePropagation();\n    const composedPath = event.composedPath();\n    traversedElements = composedPath.slice(composedPath.indexOf(componentEl), composedPath.indexOf(label));\n  };\n  label.addEventListener(customElementAncestorCheckEventType, listener, { once: true });\n  componentEl.dispatchEvent(new CustomEvent(customElementAncestorCheckEventType, { composed: true, bubbles: true }));\n  label.removeEventListener(customElementAncestorCheckEventType, listener);\n  const ancestorCustomElements = traversedElements\n    .filter((el) => el !== componentEl && el !== label)\n    .filter((el) => el.tagName?.includes(\"-\"));\n  return ancestorCustomElements.length > 0;\n}\n/**\n * Helper to set up label interactions on connectedCallback.\n *\n * @param component\n */\nfunction connectLabel(component) {\n  const labelEl = findLabelForComponent(component.el);\n  if (onLabelClickMap.has(labelEl) || (!labelEl && unlabeledComponents.has(component))) {\n    return;\n  }\n  const boundOnLabelDisconnected = onLabelDisconnected.bind(component);\n  if (labelEl) {\n    component.labelEl = labelEl;\n    const boundOnLabelClick = onLabelClick.bind(component);\n    onLabelClickMap.set(component.labelEl, boundOnLabelClick);\n    component.labelEl.addEventListener(labelClickEvent, boundOnLabelClick);\n    unlabeledComponents.delete(component);\n    document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));\n    onLabelDisconnectedMap.set(component, boundOnLabelDisconnected);\n    document.addEventListener(labelDisconnectedEvent, boundOnLabelDisconnected);\n  }\n  else if (!unlabeledComponents.has(component)) {\n    boundOnLabelDisconnected();\n    document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));\n  }\n}\n/**\n * Helper to tear down label interactions on disconnectedCallback on labelable components.\n *\n * @param component\n */\nfunction disconnectLabel(component) {\n  unlabeledComponents.delete(component);\n  document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));\n  document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));\n  onLabelConnectedMap.delete(component);\n  onLabelDisconnectedMap.delete(component);\n  if (!component.labelEl) {\n    return;\n  }\n  const boundOnLabelClick = onLabelClickMap.get(component.labelEl);\n  component.labelEl.removeEventListener(labelClickEvent, boundOnLabelClick);\n  onLabelClickMap.delete(component.labelEl);\n}\n/**\n * Helper to get the label text from a component.\n *\n * @param component\n */\nfunction getLabelText(component) {\n  return component.label || component.labelEl?.textContent?.trim() || \"\";\n}\nfunction onLabelClick(event) {\n  if (this.disabled) {\n    return;\n  }\n  const containedLabelableChildClicked = this.el.contains(event.detail.sourceEvent.target);\n  if (containedLabelableChildClicked) {\n    return;\n  }\n  this.onLabelClick(event);\n}\nfunction onLabelConnected() {\n  if (unlabeledComponents.has(this)) {\n    connectLabel(this);\n  }\n}\nfunction onLabelDisconnected() {\n  unlabeledComponents.add(this);\n  const boundOnLabelConnected = onLabelConnectedMap.get(this) || onLabelConnected.bind(this);\n  onLabelConnectedMap.set(this, boundOnLabelConnected);\n  document.addEventListener(labelConnectedEvent, boundOnLabelConnected);\n}\n\nexport { labelDisconnectedEvent as a, connectLabel as c, disconnectLabel as d, getLabelText as g, labelConnectedEvent as l };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}