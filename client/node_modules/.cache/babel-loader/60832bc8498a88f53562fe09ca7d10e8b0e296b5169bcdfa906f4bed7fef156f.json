{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { s as e, l as t, g as i } from \"../../chunks/vec3.js\";\nimport { c as s } from \"../../chunks/vec3f64.js\";\nimport { FilteredFiniteDifference as n } from \"./FilteredFiniteDifference.js\";\nimport { Momentum as r } from \"./Momentum.js\";\nclass c extends r {\n  constructor(e, t, i, s, n) {\n    super(e, t, i), this._sceneVelocity = s, this.direction = n;\n  }\n  value(e) {\n    return super.valueFromInitialVelocity(this._sceneVelocity, e);\n  }\n}\nclass l {\n  constructor() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 300;\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 12;\n    let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : .84;\n    this._minimumInitialVelocity = e, this._stopVelocity = t, this._friction = i, this.enabled = !0, this._time = new n(.6), this._screen = [new n(.4), new n(.4)], this._scene = [new n(.6), new n(.6), new n(.6)], this._tmpDirection = s();\n  }\n  add(e, t, i) {\n    if (this.enabled) {\n      if (this._time.hasLastValue()) {\n        if (this._time.computeDelta(i) < .015) return;\n      }\n      this._screen[0].update(e[0]), this._screen[1].update(e[1]), this._scene[0].update(t[0]), this._scene[1].update(t[1]), this._scene[2].update(t[2]), this._time.update(i);\n    }\n  }\n  reset() {\n    this._screen[0].reset(), this._screen[1].reset(), this._scene[0].reset(), this._scene[1].reset(), this._scene[2].reset(), this._time.reset();\n  }\n  evaluateMomentum() {\n    if (!this.enabled || !this._screen[0].hasFilteredDelta() || !this._time.hasFilteredDelta()) return null;\n    const e = this._screen[0].filteredDelta,\n      t = this._screen[1].filteredDelta,\n      i = null == e || null == t ? 0 : Math.sqrt(e * e + t * t),\n      s = this._time.filteredDelta,\n      n = null == s || null == i ? 0 : i / s;\n    return Math.abs(n) < this._minimumInitialVelocity ? null : this.createMomentum(n, this._stopVelocity, this._friction);\n  }\n  createMomentum(s, n, r) {\n    e(this._tmpDirection, this._scene[0].filteredDelta ?? 0, this._scene[1].filteredDelta ?? 0, this._scene[2].filteredDelta ?? 0);\n    const l = t(this._tmpDirection);\n    l > 0 && i(this._tmpDirection, this._tmpDirection, 1 / l);\n    const h = this._time.filteredDelta;\n    return new c(s, n, r, null == h ? 0 : l / h, this._tmpDirection);\n  }\n}\nexport { c as PanPlanarMomentum, l as PanPlanarMomentumEstimator };","map":{"version":3,"names":["s","e","l","t","g","i","c","FilteredFiniteDifference","n","Momentum","r","constructor","_sceneVelocity","direction","value","valueFromInitialVelocity","arguments","length","undefined","_minimumInitialVelocity","_stopVelocity","_friction","enabled","_time","_screen","_scene","_tmpDirection","add","hasLastValue","computeDelta","update","reset","evaluateMomentum","hasFilteredDelta","filteredDelta","Math","sqrt","abs","createMomentum","h","PanPlanarMomentum","PanPlanarMomentumEstimator"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/navigation/PanPlanarMomentumEstimator.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{s as e,l as t,g as i}from\"../../chunks/vec3.js\";import{c as s}from\"../../chunks/vec3f64.js\";import{FilteredFiniteDifference as n}from\"./FilteredFiniteDifference.js\";import{Momentum as r}from\"./Momentum.js\";class c extends r{constructor(e,t,i,s,n){super(e,t,i),this._sceneVelocity=s,this.direction=n}value(e){return super.valueFromInitialVelocity(this._sceneVelocity,e)}}class l{constructor(e=300,t=12,i=.84){this._minimumInitialVelocity=e,this._stopVelocity=t,this._friction=i,this.enabled=!0,this._time=new n(.6),this._screen=[new n(.4),new n(.4)],this._scene=[new n(.6),new n(.6),new n(.6)],this._tmpDirection=s()}add(e,t,i){if(this.enabled){if(this._time.hasLastValue()){if(this._time.computeDelta(i)<.015)return}this._screen[0].update(e[0]),this._screen[1].update(e[1]),this._scene[0].update(t[0]),this._scene[1].update(t[1]),this._scene[2].update(t[2]),this._time.update(i)}}reset(){this._screen[0].reset(),this._screen[1].reset(),this._scene[0].reset(),this._scene[1].reset(),this._scene[2].reset(),this._time.reset()}evaluateMomentum(){if(!this.enabled||!this._screen[0].hasFilteredDelta()||!this._time.hasFilteredDelta())return null;const e=this._screen[0].filteredDelta,t=this._screen[1].filteredDelta,i=null==e||null==t?0:Math.sqrt(e*e+t*t),s=this._time.filteredDelta,n=null==s||null==i?0:i/s;return Math.abs(n)<this._minimumInitialVelocity?null:this.createMomentum(n,this._stopVelocity,this._friction)}createMomentum(s,n,r){e(this._tmpDirection,this._scene[0].filteredDelta??0,this._scene[1].filteredDelta??0,this._scene[2].filteredDelta??0);const l=t(this._tmpDirection);l>0&&i(this._tmpDirection,this._tmpDirection,1/l);const h=this._time.filteredDelta;return new c(s,n,r,null==h?0:l/h,this._tmpDirection)}}export{c as PanPlanarMomentum,l as PanPlanarMomentumEstimator};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}