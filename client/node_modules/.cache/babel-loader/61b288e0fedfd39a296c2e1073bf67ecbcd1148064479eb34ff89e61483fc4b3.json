{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../chunks/tslib.es6.js\";\nimport s from \"../../core/Accessor.js\";\nimport { JSONMap as e } from \"../../core/jsonMap.js\";\nimport o from \"../../core/Logger.js\";\nimport t from \"../../core/Warning.js\";\nimport { property as a } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as i } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport l from \"./ColorVariable.js\";\nimport n from \"./OpacityVariable.js\";\nimport c from \"./RotationVariable.js\";\nimport p from \"./SizeVariable.js\";\nconst u = {\n    color: l,\n    size: p,\n    opacity: n,\n    rotation: c\n  },\n  b = new e({\n    colorInfo: \"color\",\n    transparencyInfo: \"opacity\",\n    rotationInfo: \"rotation\",\n    sizeInfo: \"size\"\n  }),\n  h = /^\\[([^\\]]+)\\]$/i;\nlet V = class extends s {\n  constructor() {\n    super(...arguments), this.colorVariables = null, this.opacityVariables = null, this.rotationVariables = null, this.sizeVariables = null;\n  }\n  set visualVariables(r) {\n    if (this._resetVariables(), (r = r && r.filter(r => !!r)) && r.length) {\n      for (const s of r) switch (s.type) {\n        case \"color\":\n          this.colorVariables.push(s);\n          break;\n        case \"opacity\":\n          this.opacityVariables.push(s);\n          break;\n        case \"rotation\":\n          this.rotationVariables.push(s);\n          break;\n        case \"size\":\n          this.sizeVariables.push(s);\n      }\n      if (this.sizeVariables.length) {\n        this.sizeVariables.some(r => !!r.target) && r.sort((r, s) => {\n          let e = null;\n          return e = r.target === s.target ? 0 : r.target ? 1 : -1, e;\n        });\n      }\n      for (let s = 0; s < r.length; s++) {\n        r[s].index = s;\n      }\n      this._set(\"visualVariables\", r);\n    } else this._set(\"visualVariables\", r);\n  }\n  readVariables(r, s, e) {\n    const {\n        rotationExpression: a,\n        rotationType: i\n      } = s,\n      l = a && a.match(h),\n      n = l && l[1];\n    if (n && (r || (r = []), r.push({\n      type: \"rotationInfo\",\n      rotationType: i,\n      field: n\n    })), r) return r.map(r => {\n      const s = b.read(r.type),\n        a = u[s];\n      a || (o.getLogger(this.declaredClass).warn(`Unknown variable type: ${s}`), e && e.messages && e.messages.push(new t(\"visual-variable:unsupported\", `visualVariable of type '${s}' is not supported`, {\n        definition: r,\n        context: e\n      })));\n      const i = new a();\n      return i.read(r, e), i;\n    });\n  }\n  writeVariables(r, s) {\n    const e = [];\n    for (const o of r) {\n      const r = o.toJSON(s);\n      r && e.push(r);\n    }\n    return e;\n  }\n  _resetVariables() {\n    this.colorVariables = [], this.opacityVariables = [], this.rotationVariables = [], this.sizeVariables = [];\n  }\n};\nr([a()], V.prototype, \"visualVariables\", null), V = r([i(\"esri.renderers.visualVariables.VisualVariableFactory\")], V);\nconst f = V;\nexport { f as default };","map":{"version":3,"names":["_","r","s","JSONMap","e","o","t","property","a","subclass","i","l","n","c","p","u","color","size","opacity","rotation","b","colorInfo","transparencyInfo","rotationInfo","sizeInfo","h","V","constructor","arguments","colorVariables","opacityVariables","rotationVariables","sizeVariables","visualVariables","_resetVariables","filter","length","type","push","some","target","sort","index","_set","readVariables","rotationExpression","rotationType","match","field","map","read","getLogger","declaredClass","warn","messages","definition","context","writeVariables","toJSON","prototype","f","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/renderers/visualVariables/VisualVariableFactory.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import s from\"../../core/Accessor.js\";import{JSONMap as e}from\"../../core/jsonMap.js\";import o from\"../../core/Logger.js\";import t from\"../../core/Warning.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"./ColorVariable.js\";import n from\"./OpacityVariable.js\";import c from\"./RotationVariable.js\";import p from\"./SizeVariable.js\";const u={color:l,size:p,opacity:n,rotation:c},b=new e({colorInfo:\"color\",transparencyInfo:\"opacity\",rotationInfo:\"rotation\",sizeInfo:\"size\"}),h=/^\\[([^\\]]+)\\]$/i;let V=class extends s{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(r){if(this._resetVariables(),(r=r&&r.filter((r=>!!r)))&&r.length){for(const s of r)switch(s.type){case\"color\":this.colorVariables.push(s);break;case\"opacity\":this.opacityVariables.push(s);break;case\"rotation\":this.rotationVariables.push(s);break;case\"size\":this.sizeVariables.push(s)}if(this.sizeVariables.length){this.sizeVariables.some((r=>!!r.target))&&r.sort(((r,s)=>{let e=null;return e=r.target===s.target?0:r.target?1:-1,e}))}for(let s=0;s<r.length;s++){r[s].index=s}this._set(\"visualVariables\",r)}else this._set(\"visualVariables\",r)}readVariables(r,s,e){const{rotationExpression:a,rotationType:i}=s,l=a&&a.match(h),n=l&&l[1];if(n&&(r||(r=[]),r.push({type:\"rotationInfo\",rotationType:i,field:n})),r)return r.map((r=>{const s=b.read(r.type),a=u[s];a||(o.getLogger(this.declaredClass).warn(`Unknown variable type: ${s}`),e&&e.messages&&e.messages.push(new t(\"visual-variable:unsupported\",`visualVariable of type '${s}' is not supported`,{definition:r,context:e})));const i=new a;return i.read(r,e),i}))}writeVariables(r,s){const e=[];for(const o of r){const r=o.toJSON(s);r&&e.push(r)}return e}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};r([a()],V.prototype,\"visualVariables\",null),V=r([i(\"esri.renderers.visualVariables.VisualVariableFactory\")],V);const f=V;export{f as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}