{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Handles.js\";\nimport { makeHandle as r } from \"../../../../core/handleUtils.js\";\nimport { property as o } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport a from \"../../../../geometry/Polygon.js\";\nimport { toExtent as i } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { TileTreeDebugger as n } from \"../../../support/TileTreeDebugger.js\";\nlet d = class extends n {\n  constructor(e) {\n    super(e), this._handles = new t();\n  }\n  initialize() {\n    const e = setInterval(() => this._fetchDebugInfo(), 2e3);\n    this._handles.add(r(() => clearInterval(e)));\n  }\n  destroy() {\n    this._handles.destroy();\n  }\n  getTiles() {\n    if (!this._debugInfo) return [];\n    const e = new Map(),\n      t = new Map();\n    this._debugInfo.storedTiles.forEach(t => {\n      e.set(t.data.id, t.featureCount);\n    }), this._debugInfo.pendingTiles.forEach(r => {\n      e.set(r.data.id, r.featureCount), t.set(r.data.id, r.state);\n    });\n    const r = r => {\n        const o = t.get(r),\n          s = e.get(r) ?? \"?\";\n        return o ? `${o}:${s}\\n${r}` : `store:${s}\\n${r}`;\n      },\n      o = new Map();\n    return this._debugInfo.storedTiles.forEach(e => {\n      o.set(e.data.id, e.data);\n    }), this._debugInfo.pendingTiles.forEach(e => {\n      o.set(e.data.id, e.data);\n    }), Array.from(o.values()).map(e => ({\n      lij: [e.level, e.row, e.col],\n      geometry: a.fromExtent(i(e.extent, this.view.spatialReference)),\n      label: r(e.id)\n    }));\n  }\n  _fetchDebugInfo() {\n    this.handle.getDebugInfo(null).then(e => {\n      this._debugInfo = e, this.update();\n    });\n  }\n};\ne([o({\n  constructOnly: !0\n})], d.prototype, \"handle\", void 0), d = e([s(\"esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger\")], d);\nexport { d as WorkerTileTreeDebugger };","map":{"version":3,"names":["_","e","t","makeHandle","r","property","o","subclass","s","a","toExtent","i","TileTreeDebugger","n","d","constructor","_handles","initialize","setInterval","_fetchDebugInfo","add","clearInterval","destroy","getTiles","_debugInfo","Map","storedTiles","forEach","set","data","id","featureCount","pendingTiles","state","get","Array","from","values","map","lij","level","row","col","geometry","fromExtent","extent","view","spatialReference","label","handle","getDebugInfo","then","update","constructOnly","prototype","WorkerTileTreeDebugger"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/interactive/snapping/featureSources/WorkerTileTreeDebugger.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Handles.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../../geometry/Polygon.js\";import{toExtent as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{TileTreeDebugger as n}from\"../../../support/TileTreeDebugger.js\";let d=class extends n{constructor(e){super(e),this._handles=new t}initialize(){const e=setInterval((()=>this._fetchDebugInfo()),2e3);this._handles.add(r((()=>clearInterval(e))))}destroy(){this._handles.destroy()}getTiles(){if(!this._debugInfo)return[];const e=new Map,t=new Map;this._debugInfo.storedTiles.forEach((t=>{e.set(t.data.id,t.featureCount)})),this._debugInfo.pendingTiles.forEach((r=>{e.set(r.data.id,r.featureCount),t.set(r.data.id,r.state)}));const r=r=>{const o=t.get(r),s=e.get(r)??\"?\";return o?`${o}:${s}\\n${r}`:`store:${s}\\n${r}`},o=new Map;return this._debugInfo.storedTiles.forEach((e=>{o.set(e.data.id,e.data)})),this._debugInfo.pendingTiles.forEach((e=>{o.set(e.data.id,e.data)})),Array.from(o.values()).map((e=>({lij:[e.level,e.row,e.col],geometry:a.fromExtent(i(e.extent,this.view.spatialReference)),label:r(e.id)})))}_fetchDebugInfo(){this.handle.getDebugInfo(null).then((e=>{this._debugInfo=e,this.update()}))}};e([o({constructOnly:!0})],d.prototype,\"handle\",void 0),d=e([s(\"esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger\")],d);export{d as WorkerTileTreeDebugger};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}