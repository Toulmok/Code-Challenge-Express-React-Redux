{"ast":null,"code":"import _regeneratorRuntime from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../../../../core/has.js\";\nimport e from \"../../../../../core/Error.js\";\nimport { isSome as t, isNone as n } from \"../../../../../core/maybe.js\";\nimport { isDataProtocol as r, dataComponents as a } from \"../../../../../core/urlUtils.js\";\nfunction i(e) {\n  var n = c(e);\n  return t(n) ? n.toDataURL() : \"\";\n}\nfunction o(_x) {\n  return _o.apply(this, arguments);\n}\nfunction _o() {\n  _o = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(t) {\n    var r, a, i;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          r = c(t);\n          if (!n(r)) {\n            _context.next = 3;\n            break;\n          }\n          throw new e(\"imageToArrayBuffer\", \"Unsupported image type\");\n        case 3:\n          _context.next = 5;\n          return m(t);\n        case 5:\n          a = _context.sent;\n          _context.next = 8;\n          return new Promise(function (e) {\n            return r.toBlob(e, a);\n          });\n        case 8:\n          i = _context.sent;\n          if (i) {\n            _context.next = 11;\n            break;\n          }\n          throw new e(\"imageToArrayBuffer\", \"Failed to encode image\");\n        case 11:\n          _context.next = 13;\n          return i.arrayBuffer();\n        case 13:\n          _context.t0 = _context.sent;\n          _context.t1 = a;\n          return _context.abrupt(\"return\", {\n            data: _context.t0,\n            type: _context.t1\n          });\n        case 16:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _o.apply(this, arguments);\n}\nfunction m(_x2) {\n  return _m.apply(this, arguments);\n}\nfunction _m() {\n  _m = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e) {\n    var t, _e;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          if (e instanceof HTMLImageElement) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", \"image/png\");\n        case 2:\n          t = e.src;\n          if (!r(t)) {\n            _context2.next = 6;\n            break;\n          }\n          _e = a(t);\n          return _context2.abrupt(\"return\", \"image/jpeg\" === (_e === null || _e === void 0 ? void 0 : _e.mediaType) ? _e.mediaType : \"image/png\");\n        case 6:\n          return _context2.abrupt(\"return\", /\\.png$/i.test(t) ? \"image/png\" : /\\.(jpg|jpeg)$/i.test(t) ? \"image/jpeg\" : \"image/png\");\n        case 7:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _m.apply(this, arguments);\n}\nfunction c(e) {\n  if (e instanceof HTMLCanvasElement) return e;\n  if (e instanceof HTMLVideoElement) return null;\n  var t = document.createElement(\"canvas\");\n  t.width = e.width, t.height = e.height;\n  var n = t.getContext(\"2d\");\n  return e instanceof HTMLImageElement ? n.drawImage(e, 0, 0, e.width, e.height) : e instanceof ImageData && n.putImageData(e, 0, 0), t;\n}\nfunction s(e) {\n  var t = [],\n    n = new Uint8Array(e);\n  for (var _r = 0; _r < n.length; _r++) t.push(String.fromCharCode(n[_r]));\n  return \"data:application/octet-stream;base64,\" + btoa(t.join(\"\"));\n}\nfunction g(e) {\n  if (e.byteLength < 8) return !1;\n  var t = new Uint8Array(e);\n  return 137 === t[0] && 80 === t[1] && 78 === t[2] && 71 === t[3] && 13 === t[4] && 10 === t[5] && 26 === t[6] && 10 === t[7];\n}\nexport { s as encodeBase64DataUri, o as imageToArrayBuffer, i as imageToDataURI, c as imageTypeToCanvas, g as isArrayBufferPNG };","map":{"version":3,"names":["e","isSome","t","isNone","n","isDataProtocol","r","dataComponents","a","i","c","toDataURL","o","_x","_o","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","m","sent","Promise","toBlob","arrayBuffer","t0","t1","abrupt","data","type","stop","_x2","_m","_callee2","_e","_callee2$","_context2","HTMLImageElement","src","mediaType","test","HTMLCanvasElement","HTMLVideoElement","document","createElement","width","height","getContext","drawImage","ImageData","putImageData","s","Uint8Array","length","push","String","fromCharCode","btoa","join","g","byteLength","encodeBase64DataUri","imageToArrayBuffer","imageToDataURI","imageTypeToCanvas","isArrayBufferPNG"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import e from\"../../../../../core/Error.js\";import{isSome as t,isNone as n}from\"../../../../../core/maybe.js\";import{isDataProtocol as r,dataComponents as a}from\"../../../../../core/urlUtils.js\";function i(e){const n=c(e);return t(n)?n.toDataURL():\"\"}async function o(t){const r=c(t);if(n(r))throw new e(\"imageToArrayBuffer\",\"Unsupported image type\");const a=await m(t),i=await new Promise((e=>r.toBlob(e,a)));if(!i)throw new e(\"imageToArrayBuffer\",\"Failed to encode image\");return{data:await i.arrayBuffer(),type:a}}async function m(e){if(!(e instanceof HTMLImageElement))return\"image/png\";const t=e.src;if(r(t)){const e=a(t);return\"image/jpeg\"===e?.mediaType?e.mediaType:\"image/png\"}return/\\.png$/i.test(t)?\"image/png\":/\\.(jpg|jpeg)$/i.test(t)?\"image/jpeg\":\"image/png\"}function c(e){if(e instanceof HTMLCanvasElement)return e;if(e instanceof HTMLVideoElement)return null;const t=document.createElement(\"canvas\");t.width=e.width,t.height=e.height;const n=t.getContext(\"2d\");return e instanceof HTMLImageElement?n.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&n.putImageData(e,0,0),t}function s(e){const t=[],n=new Uint8Array(e);for(let r=0;r<n.length;r++)t.push(String.fromCharCode(n[r]));return\"data:application/octet-stream;base64,\"+btoa(t.join(\"\"))}function g(e){if(e.byteLength<8)return!1;const t=new Uint8Array(e);return 137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7]}export{s as encodeBase64DataUri,o as imageToArrayBuffer,i as imageToDataURI,c as imageTypeToCanvas,g as isArrayBufferPNG};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}