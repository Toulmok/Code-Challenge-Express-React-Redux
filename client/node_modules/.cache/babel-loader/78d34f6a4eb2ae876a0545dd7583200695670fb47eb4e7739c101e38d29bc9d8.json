{"ast":null,"code":"import _objectSpread from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from \"../../request.js\";\nimport { constant as i } from \"../../core/arrayUtils.js\";\nimport e from \"../../core/Error.js\";\nimport { clone as a } from \"../../core/lang.js\";\nvar l = /*#__PURE__*/function () {\n  function l() {\n    _classCallCheck(this, l);\n    this.location = {\n      left: 0,\n      top: 0,\n      width: 0,\n      height: 0\n    }, this._allAvailability = \"unknown\", this.byteSize = 40;\n  }\n  _createClass(l, [{\n    key: \"getAvailability\",\n    value: function getAvailability(t, i) {\n      if (\"unknown\" !== this._allAvailability) return this._allAvailability;\n      var e = (t - this.location.top) * this.location.width + (i - this.location.left),\n        a = e % 8,\n        _l = e >> 3,\n        o = this._tileAvailabilityBitSet;\n      return _l < 0 || _l > o.length ? \"unknown\" : o[_l] & 1 << a ? \"available\" : \"unavailable\";\n    }\n  }, {\n    key: \"_updateFromData\",\n    value: function _updateFromData(t) {\n      var i = this.location.width,\n        e = this.location.height;\n      var a = !0,\n        _l2 = !0;\n      var o = Math.ceil(i * e / 8),\n        n = new Uint8Array(o);\n      var r = 0;\n      for (var s = 0; s < t.length; s++) {\n        var _i = s % 8;\n        t[s] ? (_l2 = !1, n[r] |= 1 << _i) : a = !1, 7 === _i && ++r;\n      }\n      _l2 ? this._allAvailability = \"unavailable\" : a ? this._allAvailability = \"available\" : (this._allAvailability = \"unknown\", this._tileAvailabilityBitSet = n, this.byteSize += n.length);\n    }\n  }], [{\n    key: \"fromDefinition\",\n    value: function fromDefinition(a, o) {\n      var r = a.service.request || t,\n        s = a.row,\n        h = a.col,\n        c = a.width,\n        m = a.height,\n        d = {\n          query: {\n            f: \"json\"\n          }\n        };\n      return o = o ? _objectSpread(_objectSpread({}, d), o) : d, r(n(a), o).then(function (t) {\n        return t.data;\n      }).catch(function (t) {\n        if (t && t.details && 422 === t.details.httpStatus) return {\n          location: {\n            top: s,\n            left: h,\n            width: c,\n            height: m\n          },\n          valid: !0,\n          data: i(c * m, 0)\n        };\n        throw t;\n      }).then(function (t) {\n        if (t.location && (t.location.top !== s || t.location.left !== h || t.location.width !== c || t.location.height !== m)) throw new e(\"tilemap:location-mismatch\", \"Tilemap response for different location than requested\", {\n          response: t,\n          definition: {\n            top: s,\n            left: h,\n            width: c,\n            height: m\n          }\n        });\n        return l.fromJSON(t);\n      });\n    }\n  }, {\n    key: \"fromJSON\",\n    value: function fromJSON(t) {\n      l._validateJSON(t);\n      var i = new l();\n      return i.location = Object.freeze(a(t.location)), i._updateFromData(t.data), Object.freeze(i);\n    }\n  }, {\n    key: \"_validateJSON\",\n    value: function _validateJSON(t) {\n      if (!t || !t.location) throw new e(\"tilemap:missing-location\", \"Location missing from tilemap response\");\n      if (!1 === t.valid) throw new e(\"tilemap:invalid\", \"Tilemap response was marked as invalid\");\n      if (!t.data) throw new e(\"tilemap:missing-data\", \"Data missing from tilemap response\");\n      if (!Array.isArray(t.data)) throw new e(\"tilemap:data-mismatch\", \"Data must be an array of numbers\");\n      if (t.data.length !== t.location.width * t.location.height) throw new e(\"tilemap:data-mismatch\", \"Number of data items does not match width/height of tilemap\");\n    }\n  }]);\n  return l;\n}();\nfunction o(t) {\n  return \"\".concat(t.level, \"/\").concat(t.row, \"/\").concat(t.col, \"/\").concat(t.width, \"/\").concat(t.height);\n}\nfunction n(t) {\n  var i;\n  if (\"vector-tile\" === t.service.type) i = \"\".concat(t.service.url, \"/tilemap/\").concat(t.level, \"/\").concat(t.row, \"/\").concat(t.col, \"/\").concat(t.width, \"/\").concat(t.height);else {\n    var _e = t.service.tileServers;\n    i = \"\".concat(_e && _e.length ? _e[t.row % _e.length] : t.service.url, \"/tilemap/\").concat(t.level, \"/\").concat(t.row, \"/\").concat(t.col, \"/\").concat(t.width, \"/\").concat(t.height);\n  }\n  var e = t.service.query;\n  return e && (i = \"\".concat(i, \"?\").concat(e)), i;\n}\nexport { l as Tilemap, o as tilemapDefinitionId };","map":{"version":3,"names":["t","constant","i","e","clone","a","l","_classCallCheck","location","left","top","width","height","_allAvailability","byteSize","_createClass","key","value","getAvailability","o","_tileAvailabilityBitSet","length","_updateFromData","Math","ceil","n","Uint8Array","r","s","fromDefinition","service","request","row","h","col","c","m","d","query","f","_objectSpread","then","data","catch","details","httpStatus","valid","response","definition","fromJSON","_validateJSON","Object","freeze","Array","isArray","concat","level","type","url","tileServers","Tilemap","tilemapDefinitionId"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/support/Tilemap.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import{constant as i}from\"../../core/arrayUtils.js\";import e from\"../../core/Error.js\";import{clone as a}from\"../../core/lang.js\";class l{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability=\"unknown\",this.byteSize=40}getAvailability(t,i){if(\"unknown\"!==this._allAvailability)return this._allAvailability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%8,l=e>>3,o=this._tileAvailabilityBitSet;return l<0||l>o.length?\"unknown\":o[l]&1<<a?\"available\":\"unavailable\"}_updateFromData(t){const i=this.location.width,e=this.location.height;let a=!0,l=!0;const o=Math.ceil(i*e/8),n=new Uint8Array(o);let r=0;for(let s=0;s<t.length;s++){const i=s%8;t[s]?(l=!1,n[r]|=1<<i):a=!1,7===i&&++r}l?this._allAvailability=\"unavailable\":a?this._allAvailability=\"available\":(this._allAvailability=\"unknown\",this._tileAvailabilityBitSet=n,this.byteSize+=n.length)}static fromDefinition(a,o){const r=a.service.request||t,{row:s,col:h,width:c,height:m}=a,d={query:{f:\"json\"}};return o=o?{...d,...o}:d,r(n(a),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:s,left:h,width:c,height:m},valid:!0,data:i(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==s||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new e(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:s,left:h,width:c,height:m}});return l.fromJSON(t)}))}static fromJSON(t){l._validateJSON(t);const i=new l;return i.location=Object.freeze(a(t.location)),i._updateFromData(t.data),Object.freeze(i)}static _validateJSON(t){if(!t||!t.location)throw new e(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new e(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new e(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new e(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new e(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}}function o(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(\"vector-tile\"===t.service.type)i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;else{const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}const e=t.service.query;return e&&(i=`${i}?${e}`),i}export{l as Tilemap,o as tilemapDefinitionId};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}