{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from \"../../../core/Logger.js\";\nimport { isSome as e, isNone as r } from \"../../../core/maybe.js\";\nimport { f as o } from \"../../../chunks/mat3.js\";\nimport { c as i } from \"../../../chunks/mat3f64.js\";\nimport { d as s } from \"../../../chunks/mat4.js\";\nimport { c as n } from \"../../../chunks/mat4f64.js\";\nimport { s as a, b as c, a as f, t as p, m } from \"../../../chunks/vec3.js\";\nimport { c as g, Z as l } from \"../../../chunks/vec3f64.js\";\nimport { projectPointToVector as u, computeTranslationToOriginAndRotation as h } from \"../../projection.js\";\nimport { getSphericalPCPF as j } from \"../../spatialReferenceEllipsoidUtils.js\";\nimport { create as v, compose as x, axis as A, angleRad as b } from \"../axisAngleDegrees.js\";\nimport { isGeographicMesh as d } from \"./geographicUtils.js\";\nimport { projectToPCPF as k, projectNormalToPCPF as y, projectTangentToPCPF as w, projectFromPCPF as R, projectNormalFromPCPF as F, projectTangentFromPCPF as L } from \"./projection.js\";\nvar $ = t.getLogger(\"esri.geometry.support.meshUtils.rotate\");\nfunction U(t, r, o) {\n  if (!t.vertexAttributes || !t.vertexAttributes.position || 0 === r[3]) return;\n  var i = t.spatialReference;\n  if (e(t.transform)) {\n    var _o$origin;\n    null != (o === null || o === void 0 ? void 0 : o.geographic) && o.geographic !== t.transform.geographic && $.warn(\"Specifying the 'geographic' parameter (\".concat(o.geographic, \") different from the Mesh transform setting (\").concat(t.transform.geographic, \") is not supported\"));\n    var _e = (_o$origin = o === null || o === void 0 ? void 0 : o.origin) !== null && _o$origin !== void 0 ? _o$origin : t.transform.getOriginPoint(i);\n    z(t.transform, r, _e);\n  } else {\n    var _o$origin2;\n    var _e2 = (_o$origin2 = o === null || o === void 0 ? void 0 : o.origin) !== null && _o$origin2 !== void 0 ? _o$origin2 : t.origin;\n    d(t.spatialReference, o) ? C(t, r, _e2) : I(t, r, _e2);\n  }\n}\nfunction z(t, e, r) {\n  var o = a(E, r.x, r.y, r.z),\n    i = c(E, o, t.origin);\n  t.applyLocalInverse(i, M), t.rotation = x(t.rotation, e, v()), t.applyLocalInverse(i, i), c(i, i, M), t.translation = f(g(), t.translation, i);\n}\nfunction C(t, r, i) {\n  var s = t.spatialReference,\n    n = j(s),\n    a = Z;\n  u(i, a, n) || u(t.origin, a, n);\n  var c = t.vertexAttributes.position,\n    f = t.vertexAttributes.normal,\n    m = t.vertexAttributes.tangent,\n    g = new Float64Array(c.length),\n    l = e(f) ? new Float32Array(f.length) : null,\n    v = e(m) ? new Float32Array(m.length) : null;\n  h(n, a, P, n), o(S, P);\n  var x = O;\n  p(A(O), A(r), S), x[3] = r[3], k(c, s, g), e(f) && e(l) && y(f, c, g, s, l), e(m) && e(v) && w(m, c, g, s, v), D(g, x, 3, a), R(g, c, s), e(f) && e(l) && (D(l, x, 3), F(l, c, g, s, f)), e(m) && e(v) && (D(v, x, 4), L(v, c, g, s, m)), t.vertexAttributesChanged();\n}\nfunction I(t, e, r) {\n  var o = Z;\n  if (!u(r, o, t.spatialReference)) {\n    var _e3 = t.origin;\n    o[0] = _e3.x, o[1] = _e3.y, o[2] = _e3.z, $.error(\"Failed to project specified origin (wkid:\".concat(r.spatialReference.wkid, \") to mesh spatial reference (wkid:\").concat(t.spatialReference.wkid, \").\"));\n  }\n  D(t.vertexAttributes.position, e, 3, o), D(t.vertexAttributes.normal, e, 3), D(t.vertexAttributes.tangent, e, 4), t.vertexAttributesChanged();\n}\nfunction D(t, e, o) {\n  var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : l;\n  if (!r(t)) {\n    s(P, b(e), A(e));\n    for (var _e4 = 0; _e4 < t.length; _e4 += o) {\n      for (var _r = 0; _r < 3; _r++) E[_r] = t[_e4 + _r] - i[_r];\n      m(E, E, P);\n      for (var _r2 = 0; _r2 < 3; _r2++) t[_e4 + _r2] = E[_r2] + i[_r2];\n    }\n  }\n}\nvar E = g(),\n  M = g(),\n  O = v(),\n  P = n(),\n  S = i(),\n  Z = g();\nexport { U as rotate };","map":{"version":3,"names":["t","isSome","e","isNone","r","f","o","c","i","d","s","n","a","b","p","m","g","Z","l","projectPointToVector","u","computeTranslationToOriginAndRotation","h","getSphericalPCPF","j","create","v","compose","x","axis","A","angleRad","isGeographicMesh","projectToPCPF","k","projectNormalToPCPF","y","projectTangentToPCPF","w","projectFromPCPF","R","projectNormalFromPCPF","F","projectTangentFromPCPF","L","$","getLogger","U","vertexAttributes","position","spatialReference","transform","_o$origin","geographic","warn","concat","origin","getOriginPoint","z","_o$origin2","C","I","E","applyLocalInverse","M","rotation","translation","normal","tangent","Float64Array","length","Float32Array","P","S","O","D","vertexAttributesChanged","error","wkid","arguments","undefined","rotate"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/geometry/support/meshUtils/rotate.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Logger.js\";import{isSome as e,isNone as r}from\"../../../core/maybe.js\";import{f as o}from\"../../../chunks/mat3.js\";import{c as i}from\"../../../chunks/mat3f64.js\";import{d as s}from\"../../../chunks/mat4.js\";import{c as n}from\"../../../chunks/mat4f64.js\";import{s as a,b as c,a as f,t as p,m}from\"../../../chunks/vec3.js\";import{c as g,Z as l}from\"../../../chunks/vec3f64.js\";import{projectPointToVector as u,computeTranslationToOriginAndRotation as h}from\"../../projection.js\";import{getSphericalPCPF as j}from\"../../spatialReferenceEllipsoidUtils.js\";import{create as v,compose as x,axis as A,angleRad as b}from\"../axisAngleDegrees.js\";import{isGeographicMesh as d}from\"./geographicUtils.js\";import{projectToPCPF as k,projectNormalToPCPF as y,projectTangentToPCPF as w,projectFromPCPF as R,projectNormalFromPCPF as F,projectTangentFromPCPF as L}from\"./projection.js\";const $=t.getLogger(\"esri.geometry.support.meshUtils.rotate\");function U(t,r,o){if(!t.vertexAttributes||!t.vertexAttributes.position||0===r[3])return;const i=t.spatialReference;if(e(t.transform)){null!=o?.geographic&&o.geographic!==t.transform.geographic&&$.warn(`Specifying the 'geographic' parameter (${o.geographic}) different from the Mesh transform setting (${t.transform.geographic}) is not supported`);const e=o?.origin??t.transform.getOriginPoint(i);z(t.transform,r,e)}else{const e=o?.origin??t.origin;d(t.spatialReference,o)?C(t,r,e):I(t,r,e)}}function z(t,e,r){const o=a(E,r.x,r.y,r.z),i=c(E,o,t.origin);t.applyLocalInverse(i,M),t.rotation=x(t.rotation,e,v()),t.applyLocalInverse(i,i),c(i,i,M),t.translation=f(g(),t.translation,i)}function C(t,r,i){const s=t.spatialReference,n=j(s),a=Z;u(i,a,n)||u(t.origin,a,n);const c=t.vertexAttributes.position,f=t.vertexAttributes.normal,m=t.vertexAttributes.tangent,g=new Float64Array(c.length),l=e(f)?new Float32Array(f.length):null,v=e(m)?new Float32Array(m.length):null;h(n,a,P,n),o(S,P);const x=O;p(A(O),A(r),S),x[3]=r[3],k(c,s,g),e(f)&&e(l)&&y(f,c,g,s,l),e(m)&&e(v)&&w(m,c,g,s,v),D(g,x,3,a),R(g,c,s),e(f)&&e(l)&&(D(l,x,3),F(l,c,g,s,f)),e(m)&&e(v)&&(D(v,x,4),L(v,c,g,s,m)),t.vertexAttributesChanged()}function I(t,e,r){const o=Z;if(!u(r,o,t.spatialReference)){const e=t.origin;o[0]=e.x,o[1]=e.y,o[2]=e.z,$.error(`Failed to project specified origin (wkid:${r.spatialReference.wkid}) to mesh spatial reference (wkid:${t.spatialReference.wkid}).`)}D(t.vertexAttributes.position,e,3,o),D(t.vertexAttributes.normal,e,3),D(t.vertexAttributes.tangent,e,4),t.vertexAttributesChanged()}function D(t,e,o,i=l){if(!r(t)){s(P,b(e),A(e));for(let e=0;e<t.length;e+=o){for(let r=0;r<3;r++)E[r]=t[e+r]-i[r];m(E,E,P);for(let r=0;r<3;r++)t[e+r]=E[r]+i[r]}}}const E=g(),M=g(),O=v(),P=n(),S=i(),Z=g();export{U as rotate};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}