{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as e, isNone as t, unwrap as i } from \"../../../../core/maybe.js\";\nimport s from \"../../../../core/PooledArray.js\";\nimport { isAbortError as n } from \"../../../../core/promiseUtils.js\";\nimport { l as r } from \"../../../../chunks/vec3.js\";\nimport { b as o } from \"../../../../chunks/vec4f64.js\";\nimport { LodMetric as a, NodeBase as d, Node as l, ElevationRange as h, NodeFilterImpact as u, NodeIMModificationImpact as c, NodeTraversalState as _ } from \"./I3SNode.js\";\nimport { invalidateMbs as g, invalidateObb as m, addWraparound as f } from \"./I3SUtil.js\";\nimport { clone as v } from \"../../support/orientedBoundingBox.js\";\nclass b {\n  constructor(e, t, i, s, n) {\n    this.childOffset = e, this.childCount = t, this.visibilityCache = i, this.ref = s, this.node = n, this.useAsHole = 0, this.filterImpact = u.NotChecked;\n  }\n}\nclass p {\n  constructor(e, t, i, n, r, o, d, l, h, u, c, _, g, m) {\n    this._streamDataController = i, this._viewportQueries = n, this._logger = r, this.holeFilling = o, this._isLoaded = d, this._isReloading = l, this._isSelected = h, this._enable = u, this._needsUpdate = c, this._canRequest = _, this._computeVisibilityObb = g, this._computeNodeFiltering = m, this._dirty = !0, this._nodePages = [], this._nodeCount = 0, this._nodesPerPage = 0, this._rootIndex = 0, this._lodMetric = a.None, this._lodConversion = e => e, this._urlPrefix = \"\", this._loading = new Set(), this._failedNodes = new Set(), this._failedPages = new Set(), this._indexMissing = 1, this._maxUnloadedPrio = Number.NEGATIVE_INFINITY, this._maxProcessingPrio = Number.POSITIVE_INFINITY, this._nodeTraversalState = new Map(), this._version = I(0), this._visibilityCacheVersion = I(0), this._maxLevel = 1, this._featureEstimate = {\n      estimate: 0,\n      leavesReached: !1\n    }, this._unloadedMemoryEstimate = 0, this._missing = new s({\n      deallocator: null\n    }), this._prefetch = new s({\n      deallocator: null\n    }), this._updates = new N(this._missing), this._imModificationUncategorized = new s({\n      deallocator: null\n    }), this.ignoreServiceObb = !1, this.progressiveLoadPenalty = 0, this._pageQueue = [], this.needNodeElevationRange = !1, this.layerHasModifications = !1, this._layerHasFilter = !1, this._logLayer = e, e.serviceUpdateTimeStamp && e.serviceUpdateTimeStamp.lastUpdate && (this._lastUpdate = `${e.serviceUpdateTimeStamp.lastUpdate}`), this._maxLodLevel = this._viewportQueries ? this._viewportQueries.maxLodLevel : 1, this._init(t);\n  }\n  _init(e) {\n    if (\"page\" === e.type) {\n      switch (this._urlPrefix = e.urlPrefix, this._nodesPerPage = e.pageSize, this._rootIndex = e.rootIndex, e.lodMetric) {\n        case \"maxScreenThreshold\":\n          this._lodMetric = a.MaxScreenThreshold;\n          break;\n        case \"maxScreenThresholdSQ\":\n          this._lodMetric = a.MaxScreenThreshold, this._lodConversion = V;\n      }\n      this._addPage(S(this._rootIndex, this._nodesPerPage), e.rootPage), this._updateParentsAndLevel();\n    } else if (\"node\" === e.type) {\n      this._urlPrefix = e.urlPrefix, this._nodePages.push({\n        nodes: [],\n        children: [],\n        parents: []\n      }), this._makeRefNode(new d(e.rootNode.id, null), -1);\n      const t = this._validateNode(e.rootNode.id, e.rootNode);\n      t && this._addNode(t, 0);\n    }\n  }\n  _loadPage(e) {\n    this._loading.add(e);\n    const t = this._urlPrefix + e;\n    this._streamDataController.request(t, \"json\").then(t => {\n      this._pageQueue.push({\n        pageIndex: e,\n        page: t\n      });\n    }).catch(t => {\n      this._loading.delete(e), n(t) || (this._failedPages.add(e), this._logger.error(\"#loadPage()\", this._logLayer, `Error when loading page ${e}`, t));\n    });\n  }\n  _addQueuedPages(e) {\n    for (; this._pageQueue.length > 0 && !e.done;) {\n      const {\n        pageIndex: t,\n        page: i\n      } = this._pageQueue.shift();\n      this._addPage(t, i), this._loading.delete(t), e.madeProgress();\n    }\n    this._updateParentsAndLevel();\n  }\n  _addPage(e, t) {\n    for (let r = this._nodePages.length; r < e; r++) this._nodePages[r] = null;\n    const i = [],\n      s = [],\n      n = t.nodes.map((t, n) => {\n        const a = i.length,\n          d = t.children ? t.children.length : 0;\n        s.push(-1);\n        for (let e = 0; e < d; e++) i.push(t.children[e]);\n        const h = `${t.index}`,\n          u = v(t.obb),\n          c = o([u.center[0], u.center[1], u.center[2], r(u.halfSize)]),\n          _ = t.mesh && t.mesh.attribute,\n          g = t.mesh && t.mesh.geometry,\n          m = t.mesh && t.mesh.material,\n          f = {\n            hasSharedResource: !1,\n            hasFeatureData: !!g,\n            attributes: _ && null != _.resource ? `${_.resource}` : void 0,\n            geometry: g && null != g.resource ? `${g.resource}` : void 0,\n            texture: m && null != m.resource ? `${m.resource}` : void 0,\n            geometryDefinition: g ? g.definition : -1,\n            materialDefinition: m ? m.definition : -1\n          },\n          p = new l(h, e * this._nodesPerPage + n, c, d, 0, f, this._lastUpdate, this._lodMetric, this._lodConversion(t.lodThreshold), g ? g.featureCount : null);\n        return p.serviceObb = u, p.visibilityObb = this._computeVisibilityObb(p), p.vertexCount = g ? g.vertexCount : 0, new b(a, d, x(this._visibilityCacheVersion), null, p);\n      });\n    this._nodePages[e] = {\n      nodes: n,\n      children: i,\n      parents: s\n    }, this._nodeCount += n.length;\n  }\n  _updateParentsAndLevel() {\n    const t = new Array(),\n      i = (i, s, n) => {\n        const r = this._getPage(i);\n        if (e(r)) {\n          const o = R(i, this._nodesPerPage);\n          r.parents[o] = s;\n          const a = r.nodes[o].node;\n          e(a) && (a.level = n, t.push(i));\n        }\n      };\n    for (i(this._rootIndex, -1, 0); t.length;) {\n      const s = t.pop(),\n        n = this.getNode(s);\n      if (e(n)) for (let e = 0; e < n.childCount; e++) {\n        i(this.getChildIndex(n.index, e), s, n.level + 1), this._maxLevel = Math.max(this._maxLevel, n.level + 1);\n      }\n    }\n  }\n  _getPage(e) {\n    return this._nodePages[S(e, this._nodesPerPage)];\n  }\n  _getNodeInternal(e) {\n    const i = this._getPage(e);\n    return t(i) ? null : i.nodes[R(e, this._nodesPerPage)];\n  }\n  _addNode(t, s) {\n    null != t.children && this.populateChildren(s, t.children);\n    const n = this.getParent(s),\n      r = e(n) ? n.level + 1 : 0;\n    this._maxLevel = Math.max(this._maxLevel, t.children ? r + 1 : r);\n    const {\n        lodMetric: a,\n        maxError: d\n      } = E(t.lodSelection),\n      h = i(this._getNodeInternal(s));\n    return h.node = new l(t.id, s, o(t.mbs), h.childCount, r, t.resources, t.version, a, d, t.numFeatures), t.obb && (h.node.serviceObb = v(t.obb)), h.node.visibilityObb = this._computeVisibilityObb(h.node), e(h.ref) && (null == h.ref.mbs && (h.ref.mbs = t.mbs), h.node.renderMbs = h.ref.renderMbs, h.node.serviceObbInRenderSR = h.ref.serviceObbInRenderSR, h.ref.visibilityObb = h.node.visibilityObb), h.node;\n  }\n  _makeRefNode(e, t) {\n    const i = this._nodePages[0];\n    if (null == i) return -1;\n    const s = i.nodes.length;\n    return i.nodes.push(new b(0, 0, x(this._visibilityCacheVersion), e, null)), this._nodeCount++, i.parents.push(t), g(e.renderMbs), m(e.serviceObbInRenderSR), s;\n  }\n  populateChildren(e, t) {\n    const s = i(this._getNodeInternal(e)),\n      n = i(this._getPage(e));\n    s.childOffset = n.children.length, s.childCount = t.length;\n    for (let i = 0; i < t.length; i++) {\n      const s = this._makeRefNode(t[i], e);\n      n.children.push(s);\n    }\n  }\n  getNode(t) {\n    const i = this._getNodeInternal(t);\n    return e(i) ? i.node : null;\n  }\n  getIndexById(t) {\n    let i;\n    return this._forAllNodes((s, n) => {\n      (e(s.node) && s.node.id === t || e(s.ref) && s.ref.id === t) && (i = n);\n    }), i;\n  }\n  getNodeById(e) {\n    const t = this.getIndexById(e);\n    return null != t && t >= 0 ? this.getNode(t) : null;\n  }\n  getChildIndex(e, i) {\n    const s = this._getPage(e);\n    if (t(s)) return -1;\n    const n = s.nodes[R(e, this._nodesPerPage)];\n    return s.children[n.childOffset + i];\n  }\n  getParentIndex(t) {\n    const i = this._getPage(t);\n    return e(i) ? i.parents[R(t, this._nodesPerPage)] : -1;\n  }\n  getParent(e) {\n    return (e = this.getParentIndex(e)) >= 0 ? this.getNode(e) : null;\n  }\n  isLeaf(t) {\n    const i = this._getNodeInternal(t);\n    return e(i) && 0 === i.childCount;\n  }\n  get rootNode() {\n    return this.getNode(this._rootIndex);\n  }\n  get size() {\n    return this._nodeCount;\n  }\n  removeAllGeometryObbs() {\n    this._forAllNodes(t => {\n      e(t.node) && (t.node.geometryObb = null);\n    });\n  }\n  invalidateVisibilityCache() {\n    this._visibilityCacheVersion = I(this._visibilityCacheVersion);\n  }\n  invalidateNodeVisibilityCache(t) {\n    const i = this._getNodeInternal(t);\n    e(i) && this.invalidateNodeVisibilityCacheInternal(i);\n  }\n  invalidateNodeVisibilityCacheInternal(e) {\n    e.visibilityCache = x(this._visibilityCacheVersion);\n  }\n  invalidateBoundingVolumeCache(t) {\n    const i = this._getNodeInternal(t);\n    e(i) && (P(i), this.invalidateNodeVisibilityCacheInternal(i));\n  }\n  updateElevationChanged(i) {\n    const s = this._getNodeInternal(i);\n    if (t(s)) return;\n    if (!this.needNodeElevationRange) return void this.invalidateBoundingVolumeCache(i);\n    const n = e(s.node) ? s.node : s.ref;\n    if (t(n)) return;\n    const r = n.elevationRange;\n    t(r) || (r.valid = !1);\n  }\n  invalidateGeometryVisibility(t) {\n    const i = this._getNodeInternal(t);\n    e(i) && e(i.node) && (i.node.geometryObb = null, g(i.node.renderMbs), m(i.node.serviceObbInRenderSR));\n  }\n  invalidateVisibilityObbs() {\n    t(this.rootNode) || this.traverse(this.rootNode, e => (e.visibilityObb = this._computeVisibilityObb(e), e.geometryObb = null, !0));\n  }\n  _updateElevationRange(i) {\n    const s = this._getNodeInternal(i);\n    if (t(s)) return null;\n    const n = e(s.node) ? s.node : s.ref;\n    if (t(n)) return null;\n    const r = n.elevationRange;\n    if (e(r) && r.valid) return r;\n    const o = new h();\n    let a = !1;\n    for (let e = 0; e < s.childCount; e++) {\n      const s = this._updateElevationRange(this.getChildIndex(i, e));\n      t(s) ? a = !0 : (o.min = Math.min(o.min, s.min), o.max = Math.max(o.max, s.max));\n    }\n    if (0 === s.childCount || a && e(s.node) && s.node.resources.geometry) {\n      const t = this._viewportQueries.getElevationRange(n);\n      e(t) && (o.min = Math.min(o.min, t.min), o.max = Math.max(o.max, t.max));\n    }\n    return e(r) && r.min === o.min && r.max === o.max ? (r.valid = !0, r) : (o.valid = !0, n.elevationRange = o, this.invalidateBoundingVolumeCache(i), o);\n  }\n  isNodeVisible(i) {\n    const s = this._getNodeInternal(i);\n    if (t(s) || e(s.ref) && !s.ref.mbs) return !0;\n    if (this.needNodeElevationRange && this._updateElevationRange(i), !w(s.visibilityCache, this._visibilityCacheVersion)) {\n      const i = s.node,\n        n = e(i) && (t(s.ref) || e(i.visibilityObb)) ? i : e(s.ref) ? s.ref : null;\n      if (this._layerHasFilter && this._computeNodeFiltering && (e(i) || e(s.ref)) && s.filterImpact === u.NotChecked) {\n        const t = e(i) ? i.mbs : e(s.ref) ? s.ref.mbs : null;\n        s.filterImpact = null != t ? this._computeNodeFiltering(t) : u.Unmodified;\n      }\n      const r = e(i) && s.filterImpact === u.Culled,\n        o = !(e(i) && i.imModificationImpact === c.Culled) && (!n || this._viewportQueries.isNodeVisible(n)) && !r;\n      return s.visibilityCache = C(o, this._visibilityCacheVersion), o;\n    }\n    return M(s.visibilityCache);\n  }\n  isGeometryVisible(t) {\n    if (!this.isNodeVisible(t)) return !1;\n    const i = this._getNodeInternal(t);\n    return !(e(i) && e(i.node) && e(i.node.geometryObb) && (!this.layerHasModifications || i.node.imModificationImpact !== c.NotChecked)) || this._viewportQueries.isGeometryVisible(i.node);\n  }\n  _traverseCoverage(s, n, r, o, a) {\n    const d = this._getPage(s);\n    if (t(d) || 0 === n.childCount) return;\n    const l = n.childOffset + n.childCount,\n      h = new Array();\n    for (let t = n.childOffset; t < l; ++t) {\n      const i = d.children[t],\n        s = this._getNodeInternal(i);\n      e(s) && e(s.node) && this.isGeometryVisible(i) && h.push(s);\n    }\n    o /= h.length;\n    for (const e of h) {\n      const t = i(e.node).index;\n      this._isLoaded(t) || this._isReloading(t) ? (a.delta = Math.max(a.delta, r), a.coverage += o) : this._traverseCoverage(t, e, r + 1, o, a);\n    }\n  }\n  useNodeAsHole(e) {\n    if (\"off\" === this.holeFilling) return !1;\n    const i = this._getNodeInternal(e);\n    if (t(i)) return !1;\n    if (\"always\" === this.holeFilling) return !0;\n    if (w(i.useAsHole, this._version)) return M(i.useAsHole);\n    const s = {\n      delta: 0,\n      coverage: 0\n    };\n    this._traverseCoverage(e, i, 0, 1, s);\n    const n = s.delta * s.coverage <= .5;\n    return i.useAsHole = C(n, this._version), n;\n  }\n  get maxLevel() {\n    return this._maxLevel;\n  }\n  get dirty() {\n    return this._dirty;\n  }\n  destroy() {\n    this._updates.add.prune(), this._updates.update.prune();\n  }\n  requestUpdate() {\n    this._dirty = !0, this._indexMissing = 1, this._version = I(this._version);\n  }\n  imModificationsChanged(t) {\n    this.layerHasModifications = t, this._forAllNodes(_ref => {\n      let {\n        node: t\n      } = _ref;\n      e(t) && (t.imModificationImpact = c.NotChecked, t.visibilityObb = this._computeVisibilityObb(t), t.hasModifications && this.invalidateGeometryVisibility(t.index));\n    }), this.invalidateVisibilityCache();\n  }\n  layerFilterChanged(t) {\n    this._layerHasFilter = t, this._forAllNodes(t => {\n      if (e(t)) {\n        t.filterImpact = u.NotChecked;\n        const i = t.node;\n        e(i) && this.invalidateNodeVisibilityCache(i.index);\n      }\n    }), this.invalidateVisibilityCache();\n  }\n  update(s, n, r) {\n    if (!this._dirty) return;\n    this._pageQueue.length > 0 && this._addQueuedPages(n), this._maxUnloadedPrio = Number.NEGATIVE_INFINITY, this._maxProcessingPrio = Number.NEGATIVE_INFINITY, this._missing.clear(), this._prefetch.clear(), this._updates.reset(s), y.clear();\n    let o = !0;\n    const a = new O(),\n      d = new O(),\n      l = this._imModificationUncategorized;\n    l.clear();\n    const h = new Set(),\n      u = (u, _, g) => {\n        if (t(_)) {\n          let e = this._entryPriority(u);\n          e === 1 / 0 && (e = this._entryPriority(g));\n          const t = S(u, this._nodesPerPage);\n          return y.set(t, Math.max(e, y.get(t) || 0)), this._loading.has(t) || this._failedPages.has(t) || this._missing.push(t), void (this._maxProcessingPrio = Math.max(this._maxProcessingPrio, e));\n        }\n        const m = _.node;\n        if (this._updateNodeFeatureEstimate(m, d), t(m)) {\n          const e = this._entryPriority(u);\n          return this._loading.has(u) || this._failedNodes.has(u) || (this._missing.push(u), y.set(u, e)), void (this._maxProcessingPrio = Math.max(this._maxProcessingPrio, e));\n        }\n        const f = i(this._getPage(u));\n        if (0 === this._missing.length && 0 === this._nodesPerPage) for (let t = 0; t < _.childCount; t++) {\n          const i = f.children[_.childOffset + t],\n            s = this._getNodeInternal(i);\n          !e(s) || s.node || this._loading.has(i) || this._failedNodes.has(i) || (y.set(i, this._entryPriority(i)), this._prefetch.push(i));\n        }\n        if (m.failed || !m.resources.hasFeatureData) return void (o && _.childCount > 0 && this._isSelected(m) && (o = !1));\n        if (h.add(m.id), this._isLoaded(u)) {\n          if (a.known += m.memory, ++a.knownNodes, this._isSelected(m) ? _.childCount > 0 && (o = !1) : (a.unremoved += m.memory, o = !1), this._needsUpdate(m)) {\n            const e = this._entryPriority(u);\n            y.set(u, e), this._maxProcessingPrio = Math.max(this._maxProcessingPrio, e), this._updates.update.push(u);\n          }\n          return;\n        }\n        if (m.memory && (a.known += m.memory, ++a.knownNodes), !this._isSelected(m)) return void (this._isReloading(u) && this._updates.remove.push(u));\n        if (_.childCount > 0 && (o = !1), m.memory ? (a.missing += m.memory, a.known += m.memory, ++a.knownNodes) : ++a.missingNodes, s.includes(m.index)) return this._maxProcessingPrio = Math.max(this._maxProcessingPrio, this._entryPriority(u)), void (this._updates.cancel = this._updates.cancel.filter(e => e !== m.index));\n        if (!n.done && this._enable(m)) return void n.madeProgress();\n        const v = this._entryPriority(u);\n        y.set(u, v), this._maxProcessingPrio = Math.max(this._maxProcessingPrio, v), this._updates.add.push(u), this.layerHasModifications && r && e(m) && m.imModificationImpact === c.NotChecked && l.push(u);\n      };\n    this.traverseVisible(u);\n    const _ = this._updates.add;\n    _.length > 0 && this.layerHasModifications && (l.length > 0 && r?.(l), _.filterInPlace(e => {\n      const i = this._getNodeInternal(e),\n        s = t(i) || t(i.node) || i.node.imModificationImpact !== c.Culled;\n      return s || this.invalidateNodeVisibilityCache(e), s;\n    })), this._unloadedMemoryEstimate = a.missing - a.unremoved, a.knownNodes > 3 && a.missingNodes > 0 && (this._unloadedMemoryEstimate += a.known / a.knownNodes * a.missingNodes), this._unloadedMemoryEstimate = .8 * Math.max(0, this._unloadedMemoryEstimate), this._featureEstimate.estimate = this._computeFeatureEstimate(d), this._featureEstimate.leavesReached = o, this._missing.sort((e, t) => e - t), this._missing.filterInPlace((e, t) => t < 1 || this._missing.data[t - 1] !== e), this._missing.sort((e, t) => y.get(e) - y.get(t)), this._missing.length > 0 && (this._maxUnloadedPrio = y.get(this._missing.back()), this._prefetch.clear()), this._updates.add.filterInPlace(e => y.get(e) >= this._maxUnloadedPrio).sort((e, t) => y.get(e) - y.get(t)), this._updates.update.sort((e, t) => y.get(e) - y.get(t)), this._indexMissing = this._loading.size + this._missing.length, this._dirty = this._indexMissing > 0, y.clear();\n  }\n  checkFeatureTarget(e, t) {\n    const i = this._viewportQueries.updateScreenSpaceErrorBias(t);\n    let s = t,\n      n = t,\n      r = i,\n      o = 10;\n    for (; o--;) {\n      const i = new O();\n      this._updateFeatureEstimate(s, i);\n      if (this._computeFeatureEstimate(i) <= e) {\n        if (s >= t || i.missingNodes > 0 || 0 === o) break;\n        r = s, s = .5 * (s + n);\n      } else n = s, s = .5 * (s + r);\n    }\n    return this._version = I(this._version), this._viewportQueries.updateScreenSpaceErrorBias(i), Math.min(t, s);\n  }\n  _updateFeatureEstimate(t, i) {\n    this._version = I(this._version), this._viewportQueries.updateScreenSpaceErrorBias(t), this.traverseVisible((t, s) => this._updateNodeFeatureEstimate(e(s) ? s.node : void 0, i));\n  }\n  _updateNodeFeatureEstimate(i, s) {\n    if (!(t(i) || i.failed || t(i.numFeatures))) return this._isLoaded(i.index) ? (s.known += i.numFeatures, ++s.knownNodes, void (this._isSelected(i) || (s.unremoved += i.numFeatures))) : void (this._isSelected(i) && (e(i.numFeatures) ? (s.missing += i.numFeatures, s.known += i.numFeatures, ++s.knownNodes) : ++s.missingNodes));\n  }\n  _computeFeatureEstimate(e) {\n    let t = e.known - e.unremoved;\n    return e.knownNodes > 3 && e.missingNodes > 0 && (t += e.known / e.knownNodes * e.missingNodes), Math.max(0, t);\n  }\n  load() {\n    return this._load(this._missing);\n  }\n  prefetch() {\n    return this._prefetch.sort((e, t) => y.get(e) - y.get(t)), this._load(this._prefetch);\n  }\n  _load(e) {\n    if (0 === e.length || !this._canRequest()) return !1;\n    for (; e.length > 0 && this._canRequest();) 0 === this._nodesPerPage ? this._loadNode(e.pop()) : this._loadPage(e.pop());\n    return !0;\n  }\n  get isLoading() {\n    return this._indexMissing > 0;\n  }\n  get isPrefetching() {\n    return this._prefetch.length > 0;\n  }\n  get indexLoading() {\n    return this._loading.size;\n  }\n  get indexMissing() {\n    return this._indexMissing;\n  }\n  get unloadedMemoryEstimate() {\n    return this._unloadedMemoryEstimate;\n  }\n  get updates() {\n    return this._updates;\n  }\n  get featureEstimate() {\n    return this._featureEstimate;\n  }\n  get maxPriority() {\n    return Math.max(this._maxProcessingPrio, this._maxUnloadedPrio);\n  }\n  nodeTraversalState(e) {\n    if (t(e)) return null;\n    let i = this._nodeTraversalState.get(e.index);\n    if (i && w(i.version, this._version)) return i;\n    const s = this._viewportQueries.getLodLevel(e),\n      n = this._viewportQueries.hasLOD(e);\n    let r = !0;\n    if (n) {\n      const t = this.getParentIndex(e.index);\n      if (t >= 0) {\n        const e = this._nodeTraversalState.get(t);\n        r = !!e && s > e.lodLevel;\n      } else r = s > 0;\n    } else r = 0 === e.childCount;\n    return i ? (i.lodLevel = s, i.isChosen = r, i.version = C(!0, this._version), i) : (i = new _(n, r, s, C(!0, this._version)), this._nodeTraversalState.set(e.index, i), i);\n  }\n  _loadNode(e) {\n    this._loading.add(e);\n    const s = i(this._getNodeInternal(e)).ref;\n    if (t(s)) return void this._failedNodes.add(e);\n    const r = s.id,\n      o = this._urlPrefix + r,\n      a = () => {\n        this._loading.delete(e), 0 === this._missing.length && 0 === this._loading.size && this.requestUpdate();\n      };\n    this._streamDataController.request(o, \"json\").then(t => {\n      a();\n      const i = this._validateNode(r, t);\n      if (null == i) return;\n      i.obb && this.invalidateNodeVisibilityCache(e);\n      const s = this._addNode(i, e);\n      this.nodeTraversalState(s);\n    }, t => {\n      a(), n(t) || (this._logger.error(\"#loadNode()\", this._logLayer, \"Error loading node: \" + o), this._failedNodes.add(e));\n    });\n  }\n  _validateNode(e, t) {\n    if (null == t || \"object\" != typeof t || t.id !== e) return this._logger.error(\"#validateNode()\", this._logLayer, `Invalid node. Wrong type or wrong id \"${e}\"`), null;\n    if (!Array.isArray(t.mbs)) return this._logger.error(\"#validateNode()\", this._logLayer, `Invalid bounding volume on node ${e}.`), null;\n    t.sharedResource && \"./shared\" !== t.sharedResource.href && \"./shared/\" !== t.sharedResource.href && this._logger.warn(\"#validateNode()\", this._logLayer, `Invalid shared resource href on node \"${e}\"`), null == t.geometryData || Array.isArray(t.geometryData) && 1 === t.geometryData.length && \"./geometries/0\" === t.geometryData[0].href || this._logger.warn(\"#validateNode()\", this._logLayer, `Invalid geometry data on node \"${e}\"`), null == t.attributeData || Array.isArray(t.attributeData) && !t.attributeData.some((e, t) => e.href !== `./attributes/f_${t}/0`) || this._logger.warn(\"#validateNode()\", this._logLayer, `Invalid attribute data on node \"${e}\"`), t.featureData && t.featureData.length > 1 && this._logger.warn(\"#validateNode()\", this._logLayer, `Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);\n    const i = t.hasOwnProperty(\"obb\") && !this.ignoreServiceObb ? t.obb : null,\n      s = t.featureData && 1 === t.featureData.length && t.featureData[0].featureRange ? t.featureData[0].featureRange[1] - t.featureData[0].featureRange[0] + 1 : void 0,\n      n = t => {\n        if (null == t) return null;\n        const i = t => this._logger.error(\"#validateNode()\", this._logLayer, `Invalid node reference on node ${e}: ${t}`);\n        if (\"number\" == typeof t.id) i(`id ${t.id} is a number instead of a string.`);else if (\"string\" != typeof t.id || !Array.isArray(t.mbs)) return i(\"Missing or invalid id.\"), null;\n        if (!Array.isArray(t.mbs)) return i(`Invalid bounding volume on reference ${t.id}.`), null;\n        t.href && t.href !== \"../\" + t.id && this._logger.error(\"#validateNode()\", this._logLayer, `Invalid node href on node \"${e}\"`);\n        const s = t.hasOwnProperty(\"obb\") && !this.ignoreServiceObb ? t.obb : null,\n          n = new d(`${t.id}`, t.mbs);\n        return n.serviceObb = s, n.visibilityObb = this._computeVisibilityObb(n), n;\n      },\n      r = Array.isArray(t.children) ? t.children.map(n).filter(e => null != e) : null;\n    return {\n      id: e,\n      mbs: t.mbs,\n      obb: i,\n      children: r,\n      resources: {\n        hasFeatureData: t.featureData && t.featureData.length > 0,\n        hasSharedResource: null != t.sharedResource,\n        attributes: t.attributeData ? e : void 0,\n        texture: t.textureData && t.textureData.length > 0 ? e : void 0,\n        geometry: null != t.geometryData ? e : void 0\n      },\n      version: \"string\" == typeof t.version ? t.version : null,\n      lodSelection: Array.isArray(t.lodSelection) ? t.lodSelection : null,\n      numFeatures: s\n    };\n  }\n  resetFailedNodes() {\n    this._failedNodes.clear(), this._failedPages.clear(), this._forAllNodes(t => {\n      e(t.node) && (t.node.failed = !1);\n    });\n  }\n  _entryPriority(i) {\n    const s = this._getNodeInternal(i),\n      n = this.getParentIndex(i);\n    if (t(s) || n < 0 && null == s.node) return n < 0 ? 1 / 0 : this._entryPriority(n);\n    let r = 0;\n    if (s.node && n >= 0) {\n      const e = this._nodeTraversalState.get(n);\n      null != e && (r = e.lodLevel);\n    }\n    let o = this.progressiveLoadPenalty;\n    for (let e = i; e >= 0; e = this.getParentIndex(e)) if (this._isLoaded(e)) {\n      o = 0;\n      break;\n    }\n    const a = e(s.ref) ? this._viewportQueries.distToPOI(s.ref) : e(s.node) ? this._viewportQueries.distToPOI(s.node) : 0;\n    return -a - r * (a + this.progressiveLoadPenalty) + o;\n  }\n  traverseVisible(e) {\n    const i = this._getNodeInternal(this._rootIndex);\n    t(i) ? e(this._rootIndex, null, null) : this._traverseVisible(this._rootIndex, -1, i, e);\n  }\n  _traverseVisible(t, s, n, r) {\n    if (n.node && 0 === n.childCount) return void (this.isGeometryVisible(t) && r(t, n, s));\n    if (!this.isNodeVisible(t)) return;\n    if (r(t, n, s), null == n.node) return;\n    const o = this.nodeTraversalState(n.node);\n    if (o?.nodeHasLOD && o.lodLevel === this._maxLodLevel) return;\n    const a = i(this._getPage(t));\n    for (let i = 0; i < n.childCount; i++) {\n      const s = a.children[n.childOffset + i],\n        o = this._getNodeInternal(s);\n      e(o) ? this._traverseVisible(s, t, o, r) : r(s, null, t);\n    }\n  }\n  traverse(e, t) {\n    t(e) && this.traverseChildren(e, t);\n  }\n  traverseChildren(t, i) {\n    const s = t.index,\n      n = this._getNodeInternal(s);\n    e(n) && this._traverseChildren(s, n, i);\n  }\n  _traverseChildren(i, s, n) {\n    const r = this._getPage(i);\n    if (t(r)) return;\n    const o = s.childOffset + s.childCount;\n    for (let t = s.childOffset; t < o; ++t) {\n      const i = r.children[t],\n        s = this._getNodeInternal(i);\n      e(s) && e(s.node) && n(s.node) && this._traverseChildren(i, s, n);\n    }\n  }\n  updateChildrenLoaded(t, i) {\n    let s = this.getNode(t);\n    for (; e(s);) s.childrenLoaded += i, s = this.getParent(s.index);\n  }\n  checkChildrenLoadedInvariant() {\n    if (t(this.rootNode)) return !0;\n    const e = [],\n      i = t => {\n        let s = this._isLoaded(t.index) || this._isReloading(t.index) ? 1 : 0;\n        return this.traverseChildren(t, e => (s += i(e), !1)), t.childrenLoaded !== s && e.push(t.index), s;\n      };\n    return i(this.rootNode), e.length && this._logger.error(\"childrenLoaded invariant broken at following nodes: \" + e.join(\",\")), e.length > 0;\n  }\n  updateStats(e) {\n    if (this._updates.add.length > 0 && (e.nodes += \" + \" + this._updates.add.length), (this._indexMissing || this._prefetch.length > 0) && (e.index += \" + \" + this._indexMissing || this._prefetch.length), e.prio = this._maxProcessingPrio, this._featureEstimate.estimate) {\n      const t = this._featureEstimate.estimate - e.features;\n      t > 0 ? e.features += \" + \" + t : t < 0 && (e.features += \" - \" + -t);\n    }\n  }\n  updateElevationInfo(e, t) {\n    this.needNodeElevationRange = t && !!e && (\"relative-to-ground\" === e.mode || \"on-the-ground\" === e.mode), this._viewportQueries.updateElevationInfo(e), this.invalidateAllElevationRanges();\n  }\n  invalidateAllElevationRanges() {\n    this._forAllNodes(t => {\n      P(t), e(t.node) && (t.node.elevationRange = null), e(t.ref) && (t.ref.elevationRange = null);\n    });\n  }\n  _forAllNodes(e) {\n    for (let t = 0; t < this._nodePages.length; t++) {\n      const i = this._nodePages[t];\n      if (i) {\n        const s = t * this._nodesPerPage;\n        for (let t = 0; t < i.nodes.length; t++) e(i.nodes[t], s + t);\n      }\n    }\n  }\n  get test() {\n    return {\n      addNode: (e, t) => this._addNode(e, t)\n    };\n  }\n}\nconst y = new Map();\nclass N {\n  constructor(e) {\n    this.missing = e, this.update = new s({\n      deallocator: null\n    }), this.add = new s({\n      deallocator: null\n    }), this.remove = new s({\n      deallocator: null\n    }), this.cancel = [];\n  }\n  reset(e) {\n    this.add.clear(), this.update.clear(), this.cancel = e;\n  }\n}\nfunction P(t) {\n  e(t.node) && (g(t.node.renderMbs), m(t.node.serviceObbInRenderSR)), e(t.ref) && (g(t.ref.renderMbs), m(t.ref.serviceObbInRenderSR));\n}\nfunction x(e) {\n  return f(e, -2);\n}\nfunction I(e) {\n  return f(e, 2);\n}\nfunction C(e, t) {\n  return t + (e ? 1 : 0);\n}\nfunction w(e, t) {\n  return (-2 & e) === t;\n}\nfunction M(e) {\n  return 1 == (1 & e);\n}\nfunction S(e, t) {\n  return 0 === t ? 0 : e / t | 0;\n}\nfunction R(e, t) {\n  return 0 === t ? e : e % t;\n}\nconst L = [[\"maxScreenThreshold\", a.MaxScreenThreshold], [\"screenSpaceRelative\", a.ScreenSpaceRelative], [\"removedFeatureDiameter\", a.RemovedFeatureDiameter], [\"distanceRangeFromDefaultCamera\", a.DistanceRangeFromDefaultCamera]];\nfunction E(e) {\n  if (e) for (let t = 0; t < e.length; t++) for (const i of L) if (i[0] === e[t].metricType) return {\n    lodMetric: i[1],\n    maxError: e[t].maxError\n  };\n  return {\n    lodMetric: a.None,\n    maxError: 0\n  };\n}\nclass O {\n  constructor() {\n    this.known = 0, this.knownNodes = 0, this.missing = 0, this.missingNodes = 0, this.unremoved = 0;\n  }\n}\nfunction V(e) {\n  return Math.sqrt(e * (4 / Math.PI));\n}\nexport { p as I3SIndex, E as selectErrorMetric };","map":{"version":3,"names":["isSome","e","isNone","t","unwrap","i","s","isAbortError","n","l","r","b","o","LodMetric","a","NodeBase","d","Node","ElevationRange","h","NodeFilterImpact","u","NodeIMModificationImpact","c","NodeTraversalState","_","invalidateMbs","g","invalidateObb","m","addWraparound","f","clone","v","constructor","childOffset","childCount","visibilityCache","ref","node","useAsHole","filterImpact","NotChecked","p","_streamDataController","_viewportQueries","_logger","holeFilling","_isLoaded","_isReloading","_isSelected","_enable","_needsUpdate","_canRequest","_computeVisibilityObb","_computeNodeFiltering","_dirty","_nodePages","_nodeCount","_nodesPerPage","_rootIndex","_lodMetric","None","_lodConversion","_urlPrefix","_loading","Set","_failedNodes","_failedPages","_indexMissing","_maxUnloadedPrio","Number","NEGATIVE_INFINITY","_maxProcessingPrio","POSITIVE_INFINITY","_nodeTraversalState","Map","_version","I","_visibilityCacheVersion","_maxLevel","_featureEstimate","estimate","leavesReached","_unloadedMemoryEstimate","_missing","deallocator","_prefetch","_updates","N","_imModificationUncategorized","ignoreServiceObb","progressiveLoadPenalty","_pageQueue","needNodeElevationRange","layerHasModifications","_layerHasFilter","_logLayer","serviceUpdateTimeStamp","lastUpdate","_lastUpdate","_maxLodLevel","maxLodLevel","_init","type","urlPrefix","pageSize","rootIndex","lodMetric","MaxScreenThreshold","V","_addPage","S","rootPage","_updateParentsAndLevel","push","nodes","children","parents","_makeRefNode","rootNode","id","_validateNode","_addNode","_loadPage","add","request","then","pageIndex","page","catch","delete","error","_addQueuedPages","length","done","shift","madeProgress","map","index","obb","center","halfSize","mesh","attribute","geometry","material","hasSharedResource","hasFeatureData","attributes","resource","texture","geometryDefinition","definition","materialDefinition","lodThreshold","featureCount","serviceObb","visibilityObb","vertexCount","x","Array","_getPage","R","level","pop","getNode","getChildIndex","Math","max","_getNodeInternal","populateChildren","getParent","maxError","E","lodSelection","mbs","resources","version","numFeatures","renderMbs","serviceObbInRenderSR","getIndexById","_forAllNodes","getNodeById","getParentIndex","isLeaf","size","removeAllGeometryObbs","geometryObb","invalidateVisibilityCache","invalidateNodeVisibilityCache","invalidateNodeVisibilityCacheInternal","invalidateBoundingVolumeCache","P","updateElevationChanged","elevationRange","valid","invalidateGeometryVisibility","invalidateVisibilityObbs","traverse","_updateElevationRange","min","getElevationRange","isNodeVisible","w","Unmodified","Culled","imModificationImpact","C","M","isGeometryVisible","_traverseCoverage","delta","coverage","useNodeAsHole","maxLevel","dirty","destroy","prune","update","requestUpdate","imModificationsChanged","_ref","hasModifications","layerFilterChanged","clear","reset","y","O","_entryPriority","set","get","has","_updateNodeFeatureEstimate","failed","known","memory","knownNodes","unremoved","remove","missing","missingNodes","includes","cancel","filter","traverseVisible","filterInPlace","_computeFeatureEstimate","sort","data","back","checkFeatureTarget","updateScreenSpaceErrorBias","_updateFeatureEstimate","load","_load","prefetch","_loadNode","isLoading","isPrefetching","indexLoading","indexMissing","unloadedMemoryEstimate","updates","featureEstimate","maxPriority","nodeTraversalState","getLodLevel","hasLOD","lodLevel","isChosen","isArray","sharedResource","href","warn","geometryData","attributeData","some","featureData","hasOwnProperty","featureRange","textureData","resetFailedNodes","distToPOI","_traverseVisible","nodeHasLOD","traverseChildren","_traverseChildren","updateChildrenLoaded","childrenLoaded","checkChildrenLoadedInvariant","join","updateStats","prio","features","updateElevationInfo","mode","invalidateAllElevationRanges","test","addNode","L","ScreenSpaceRelative","RemovedFeatureDiameter","DistanceRangeFromDefaultCamera","metricType","sqrt","PI","I3SIndex","selectErrorMetric"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/i3s/I3SIndex.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{isAbortError as n}from\"../../../../core/promiseUtils.js\";import{l as r}from\"../../../../chunks/vec3.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{LodMetric as a,NodeBase as d,Node as l,ElevationRange as h,NodeFilterImpact as u,NodeIMModificationImpact as c,NodeTraversalState as _}from\"./I3SNode.js\";import{invalidateMbs as g,invalidateObb as m,addWraparound as f}from\"./I3SUtil.js\";import{clone as v}from\"../../support/orientedBoundingBox.js\";class b{constructor(e,t,i,s,n){this.childOffset=e,this.childCount=t,this.visibilityCache=i,this.ref=s,this.node=n,this.useAsHole=0,this.filterImpact=u.NotChecked}}class p{constructor(e,t,i,n,r,o,d,l,h,u,c,_,g,m){this._streamDataController=i,this._viewportQueries=n,this._logger=r,this.holeFilling=o,this._isLoaded=d,this._isReloading=l,this._isSelected=h,this._enable=u,this._needsUpdate=c,this._canRequest=_,this._computeVisibilityObb=g,this._computeNodeFiltering=m,this._dirty=!0,this._nodePages=[],this._nodeCount=0,this._nodesPerPage=0,this._rootIndex=0,this._lodMetric=a.None,this._lodConversion=e=>e,this._urlPrefix=\"\",this._loading=new Set,this._failedNodes=new Set,this._failedPages=new Set,this._indexMissing=1,this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.POSITIVE_INFINITY,this._nodeTraversalState=new Map,this._version=I(0),this._visibilityCacheVersion=I(0),this._maxLevel=1,this._featureEstimate={estimate:0,leavesReached:!1},this._unloadedMemoryEstimate=0,this._missing=new s({deallocator:null}),this._prefetch=new s({deallocator:null}),this._updates=new N(this._missing),this._imModificationUncategorized=new s({deallocator:null}),this.ignoreServiceObb=!1,this.progressiveLoadPenalty=0,this._pageQueue=[],this.needNodeElevationRange=!1,this.layerHasModifications=!1,this._layerHasFilter=!1,this._logLayer=e,e.serviceUpdateTimeStamp&&e.serviceUpdateTimeStamp.lastUpdate&&(this._lastUpdate=`${e.serviceUpdateTimeStamp.lastUpdate}`),this._maxLodLevel=this._viewportQueries?this._viewportQueries.maxLodLevel:1,this._init(t)}_init(e){if(\"page\"===e.type){switch(this._urlPrefix=e.urlPrefix,this._nodesPerPage=e.pageSize,this._rootIndex=e.rootIndex,e.lodMetric){case\"maxScreenThreshold\":this._lodMetric=a.MaxScreenThreshold;break;case\"maxScreenThresholdSQ\":this._lodMetric=a.MaxScreenThreshold,this._lodConversion=V}this._addPage(S(this._rootIndex,this._nodesPerPage),e.rootPage),this._updateParentsAndLevel()}else if(\"node\"===e.type){this._urlPrefix=e.urlPrefix,this._nodePages.push({nodes:[],children:[],parents:[]}),this._makeRefNode(new d(e.rootNode.id,null),-1);const t=this._validateNode(e.rootNode.id,e.rootNode);t&&this._addNode(t,0)}}_loadPage(e){this._loading.add(e);const t=this._urlPrefix+e;this._streamDataController.request(t,\"json\").then((t=>{this._pageQueue.push({pageIndex:e,page:t})})).catch((t=>{this._loading.delete(e),n(t)||(this._failedPages.add(e),this._logger.error(\"#loadPage()\",this._logLayer,`Error when loading page ${e}`,t))}))}_addQueuedPages(e){for(;this._pageQueue.length>0&&!e.done;){const{pageIndex:t,page:i}=this._pageQueue.shift();this._addPage(t,i),this._loading.delete(t),e.madeProgress()}this._updateParentsAndLevel()}_addPage(e,t){for(let r=this._nodePages.length;r<e;r++)this._nodePages[r]=null;const i=[],s=[],n=t.nodes.map(((t,n)=>{const a=i.length,d=t.children?t.children.length:0;s.push(-1);for(let e=0;e<d;e++)i.push(t.children[e]);const h=`${t.index}`,u=v(t.obb),c=o([u.center[0],u.center[1],u.center[2],r(u.halfSize)]),_=t.mesh&&t.mesh.attribute,g=t.mesh&&t.mesh.geometry,m=t.mesh&&t.mesh.material,f={hasSharedResource:!1,hasFeatureData:!!g,attributes:_&&null!=_.resource?`${_.resource}`:void 0,geometry:g&&null!=g.resource?`${g.resource}`:void 0,texture:m&&null!=m.resource?`${m.resource}`:void 0,geometryDefinition:g?g.definition:-1,materialDefinition:m?m.definition:-1},p=new l(h,e*this._nodesPerPage+n,c,d,0,f,this._lastUpdate,this._lodMetric,this._lodConversion(t.lodThreshold),g?g.featureCount:null);return p.serviceObb=u,p.visibilityObb=this._computeVisibilityObb(p),p.vertexCount=g?g.vertexCount:0,new b(a,d,x(this._visibilityCacheVersion),null,p)}));this._nodePages[e]={nodes:n,children:i,parents:s},this._nodeCount+=n.length}_updateParentsAndLevel(){const t=new Array,i=(i,s,n)=>{const r=this._getPage(i);if(e(r)){const o=R(i,this._nodesPerPage);r.parents[o]=s;const a=r.nodes[o].node;e(a)&&(a.level=n,t.push(i))}};for(i(this._rootIndex,-1,0);t.length;){const s=t.pop(),n=this.getNode(s);if(e(n))for(let e=0;e<n.childCount;e++){i(this.getChildIndex(n.index,e),s,n.level+1),this._maxLevel=Math.max(this._maxLevel,n.level+1)}}}_getPage(e){return this._nodePages[S(e,this._nodesPerPage)]}_getNodeInternal(e){const i=this._getPage(e);return t(i)?null:i.nodes[R(e,this._nodesPerPage)]}_addNode(t,s){null!=t.children&&this.populateChildren(s,t.children);const n=this.getParent(s),r=e(n)?n.level+1:0;this._maxLevel=Math.max(this._maxLevel,t.children?r+1:r);const{lodMetric:a,maxError:d}=E(t.lodSelection),h=i(this._getNodeInternal(s));return h.node=new l(t.id,s,o(t.mbs),h.childCount,r,t.resources,t.version,a,d,t.numFeatures),t.obb&&(h.node.serviceObb=v(t.obb)),h.node.visibilityObb=this._computeVisibilityObb(h.node),e(h.ref)&&(null==h.ref.mbs&&(h.ref.mbs=t.mbs),h.node.renderMbs=h.ref.renderMbs,h.node.serviceObbInRenderSR=h.ref.serviceObbInRenderSR,h.ref.visibilityObb=h.node.visibilityObb),h.node}_makeRefNode(e,t){const i=this._nodePages[0];if(null==i)return-1;const s=i.nodes.length;return i.nodes.push(new b(0,0,x(this._visibilityCacheVersion),e,null)),this._nodeCount++,i.parents.push(t),g(e.renderMbs),m(e.serviceObbInRenderSR),s}populateChildren(e,t){const s=i(this._getNodeInternal(e)),n=i(this._getPage(e));s.childOffset=n.children.length,s.childCount=t.length;for(let i=0;i<t.length;i++){const s=this._makeRefNode(t[i],e);n.children.push(s)}}getNode(t){const i=this._getNodeInternal(t);return e(i)?i.node:null}getIndexById(t){let i;return this._forAllNodes(((s,n)=>{(e(s.node)&&s.node.id===t||e(s.ref)&&s.ref.id===t)&&(i=n)})),i}getNodeById(e){const t=this.getIndexById(e);return null!=t&&t>=0?this.getNode(t):null}getChildIndex(e,i){const s=this._getPage(e);if(t(s))return-1;const n=s.nodes[R(e,this._nodesPerPage)];return s.children[n.childOffset+i]}getParentIndex(t){const i=this._getPage(t);return e(i)?i.parents[R(t,this._nodesPerPage)]:-1}getParent(e){return(e=this.getParentIndex(e))>=0?this.getNode(e):null}isLeaf(t){const i=this._getNodeInternal(t);return e(i)&&0===i.childCount}get rootNode(){return this.getNode(this._rootIndex)}get size(){return this._nodeCount}removeAllGeometryObbs(){this._forAllNodes((t=>{e(t.node)&&(t.node.geometryObb=null)}))}invalidateVisibilityCache(){this._visibilityCacheVersion=I(this._visibilityCacheVersion)}invalidateNodeVisibilityCache(t){const i=this._getNodeInternal(t);e(i)&&this.invalidateNodeVisibilityCacheInternal(i)}invalidateNodeVisibilityCacheInternal(e){e.visibilityCache=x(this._visibilityCacheVersion)}invalidateBoundingVolumeCache(t){const i=this._getNodeInternal(t);e(i)&&(P(i),this.invalidateNodeVisibilityCacheInternal(i))}updateElevationChanged(i){const s=this._getNodeInternal(i);if(t(s))return;if(!this.needNodeElevationRange)return void this.invalidateBoundingVolumeCache(i);const n=e(s.node)?s.node:s.ref;if(t(n))return;const r=n.elevationRange;t(r)||(r.valid=!1)}invalidateGeometryVisibility(t){const i=this._getNodeInternal(t);e(i)&&e(i.node)&&(i.node.geometryObb=null,g(i.node.renderMbs),m(i.node.serviceObbInRenderSR))}invalidateVisibilityObbs(){t(this.rootNode)||this.traverse(this.rootNode,(e=>(e.visibilityObb=this._computeVisibilityObb(e),e.geometryObb=null,!0)))}_updateElevationRange(i){const s=this._getNodeInternal(i);if(t(s))return null;const n=e(s.node)?s.node:s.ref;if(t(n))return null;const r=n.elevationRange;if(e(r)&&r.valid)return r;const o=new h;let a=!1;for(let e=0;e<s.childCount;e++){const s=this._updateElevationRange(this.getChildIndex(i,e));t(s)?a=!0:(o.min=Math.min(o.min,s.min),o.max=Math.max(o.max,s.max))}if(0===s.childCount||a&&e(s.node)&&s.node.resources.geometry){const t=this._viewportQueries.getElevationRange(n);e(t)&&(o.min=Math.min(o.min,t.min),o.max=Math.max(o.max,t.max))}return e(r)&&r.min===o.min&&r.max===o.max?(r.valid=!0,r):(o.valid=!0,n.elevationRange=o,this.invalidateBoundingVolumeCache(i),o)}isNodeVisible(i){const s=this._getNodeInternal(i);if(t(s)||e(s.ref)&&!s.ref.mbs)return!0;if(this.needNodeElevationRange&&this._updateElevationRange(i),!w(s.visibilityCache,this._visibilityCacheVersion)){const i=s.node,n=e(i)&&(t(s.ref)||e(i.visibilityObb))?i:e(s.ref)?s.ref:null;if(this._layerHasFilter&&this._computeNodeFiltering&&(e(i)||e(s.ref))&&s.filterImpact===u.NotChecked){const t=e(i)?i.mbs:e(s.ref)?s.ref.mbs:null;s.filterImpact=null!=t?this._computeNodeFiltering(t):u.Unmodified}const r=e(i)&&s.filterImpact===u.Culled,o=!(e(i)&&i.imModificationImpact===c.Culled)&&(!n||this._viewportQueries.isNodeVisible(n))&&!r;return s.visibilityCache=C(o,this._visibilityCacheVersion),o}return M(s.visibilityCache)}isGeometryVisible(t){if(!this.isNodeVisible(t))return!1;const i=this._getNodeInternal(t);return!(e(i)&&e(i.node)&&e(i.node.geometryObb)&&(!this.layerHasModifications||i.node.imModificationImpact!==c.NotChecked))||this._viewportQueries.isGeometryVisible(i.node)}_traverseCoverage(s,n,r,o,a){const d=this._getPage(s);if(t(d)||0===n.childCount)return;const l=n.childOffset+n.childCount,h=new Array;for(let t=n.childOffset;t<l;++t){const i=d.children[t],s=this._getNodeInternal(i);e(s)&&e(s.node)&&this.isGeometryVisible(i)&&h.push(s)}o/=h.length;for(const e of h){const t=i(e.node).index;this._isLoaded(t)||this._isReloading(t)?(a.delta=Math.max(a.delta,r),a.coverage+=o):this._traverseCoverage(t,e,r+1,o,a)}}useNodeAsHole(e){if(\"off\"===this.holeFilling)return!1;const i=this._getNodeInternal(e);if(t(i))return!1;if(\"always\"===this.holeFilling)return!0;if(w(i.useAsHole,this._version))return M(i.useAsHole);const s={delta:0,coverage:0};this._traverseCoverage(e,i,0,1,s);const n=s.delta*s.coverage<=.5;return i.useAsHole=C(n,this._version),n}get maxLevel(){return this._maxLevel}get dirty(){return this._dirty}destroy(){this._updates.add.prune(),this._updates.update.prune()}requestUpdate(){this._dirty=!0,this._indexMissing=1,this._version=I(this._version)}imModificationsChanged(t){this.layerHasModifications=t,this._forAllNodes((({node:t})=>{e(t)&&(t.imModificationImpact=c.NotChecked,t.visibilityObb=this._computeVisibilityObb(t),t.hasModifications&&this.invalidateGeometryVisibility(t.index))})),this.invalidateVisibilityCache()}layerFilterChanged(t){this._layerHasFilter=t,this._forAllNodes((t=>{if(e(t)){t.filterImpact=u.NotChecked;const i=t.node;e(i)&&this.invalidateNodeVisibilityCache(i.index)}})),this.invalidateVisibilityCache()}update(s,n,r){if(!this._dirty)return;this._pageQueue.length>0&&this._addQueuedPages(n),this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.NEGATIVE_INFINITY,this._missing.clear(),this._prefetch.clear(),this._updates.reset(s),y.clear();let o=!0;const a=new O,d=new O,l=this._imModificationUncategorized;l.clear();const h=new Set,u=(u,_,g)=>{if(t(_)){let e=this._entryPriority(u);e===1/0&&(e=this._entryPriority(g));const t=S(u,this._nodesPerPage);return y.set(t,Math.max(e,y.get(t)||0)),this._loading.has(t)||this._failedPages.has(t)||this._missing.push(t),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const m=_.node;if(this._updateNodeFeatureEstimate(m,d),t(m)){const e=this._entryPriority(u);return this._loading.has(u)||this._failedNodes.has(u)||(this._missing.push(u),y.set(u,e)),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const f=i(this._getPage(u));if(0===this._missing.length&&0===this._nodesPerPage)for(let t=0;t<_.childCount;t++){const i=f.children[_.childOffset+t],s=this._getNodeInternal(i);!e(s)||s.node||this._loading.has(i)||this._failedNodes.has(i)||(y.set(i,this._entryPriority(i)),this._prefetch.push(i))}if(m.failed||!m.resources.hasFeatureData)return void(o&&_.childCount>0&&this._isSelected(m)&&(o=!1));if(h.add(m.id),this._isLoaded(u)){if(a.known+=m.memory,++a.knownNodes,this._isSelected(m)?_.childCount>0&&(o=!1):(a.unremoved+=m.memory,o=!1),this._needsUpdate(m)){const e=this._entryPriority(u);y.set(u,e),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e),this._updates.update.push(u)}return}if(m.memory&&(a.known+=m.memory,++a.knownNodes),!this._isSelected(m))return void(this._isReloading(u)&&this._updates.remove.push(u));if(_.childCount>0&&(o=!1),m.memory?(a.missing+=m.memory,a.known+=m.memory,++a.knownNodes):++a.missingNodes,s.includes(m.index))return this._maxProcessingPrio=Math.max(this._maxProcessingPrio,this._entryPriority(u)),void(this._updates.cancel=this._updates.cancel.filter((e=>e!==m.index)));if(!n.done&&this._enable(m))return void n.madeProgress();const v=this._entryPriority(u);y.set(u,v),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,v),this._updates.add.push(u),this.layerHasModifications&&r&&e(m)&&m.imModificationImpact===c.NotChecked&&l.push(u)};this.traverseVisible(u);const _=this._updates.add;_.length>0&&this.layerHasModifications&&(l.length>0&&r?.(l),_.filterInPlace((e=>{const i=this._getNodeInternal(e),s=t(i)||t(i.node)||i.node.imModificationImpact!==c.Culled;return s||this.invalidateNodeVisibilityCache(e),s}))),this._unloadedMemoryEstimate=a.missing-a.unremoved,a.knownNodes>3&&a.missingNodes>0&&(this._unloadedMemoryEstimate+=a.known/a.knownNodes*a.missingNodes),this._unloadedMemoryEstimate=.8*Math.max(0,this._unloadedMemoryEstimate),this._featureEstimate.estimate=this._computeFeatureEstimate(d),this._featureEstimate.leavesReached=o,this._missing.sort(((e,t)=>e-t)),this._missing.filterInPlace(((e,t)=>t<1||this._missing.data[t-1]!==e)),this._missing.sort(((e,t)=>y.get(e)-y.get(t))),this._missing.length>0&&(this._maxUnloadedPrio=y.get(this._missing.back()),this._prefetch.clear()),this._updates.add.filterInPlace((e=>y.get(e)>=this._maxUnloadedPrio)).sort(((e,t)=>y.get(e)-y.get(t))),this._updates.update.sort(((e,t)=>y.get(e)-y.get(t))),this._indexMissing=this._loading.size+this._missing.length,this._dirty=this._indexMissing>0,y.clear()}checkFeatureTarget(e,t){const i=this._viewportQueries.updateScreenSpaceErrorBias(t);let s=t,n=t,r=i,o=10;for(;o--;){const i=new O;this._updateFeatureEstimate(s,i);if(this._computeFeatureEstimate(i)<=e){if(s>=t||i.missingNodes>0||0===o)break;r=s,s=.5*(s+n)}else n=s,s=.5*(s+r)}return this._version=I(this._version),this._viewportQueries.updateScreenSpaceErrorBias(i),Math.min(t,s)}_updateFeatureEstimate(t,i){this._version=I(this._version),this._viewportQueries.updateScreenSpaceErrorBias(t),this.traverseVisible(((t,s)=>this._updateNodeFeatureEstimate(e(s)?s.node:void 0,i)))}_updateNodeFeatureEstimate(i,s){if(!(t(i)||i.failed||t(i.numFeatures)))return this._isLoaded(i.index)?(s.known+=i.numFeatures,++s.knownNodes,void(this._isSelected(i)||(s.unremoved+=i.numFeatures))):void(this._isSelected(i)&&(e(i.numFeatures)?(s.missing+=i.numFeatures,s.known+=i.numFeatures,++s.knownNodes):++s.missingNodes))}_computeFeatureEstimate(e){let t=e.known-e.unremoved;return e.knownNodes>3&&e.missingNodes>0&&(t+=e.known/e.knownNodes*e.missingNodes),Math.max(0,t)}load(){return this._load(this._missing)}prefetch(){return this._prefetch.sort(((e,t)=>y.get(e)-y.get(t))),this._load(this._prefetch)}_load(e){if(0===e.length||!this._canRequest())return!1;for(;e.length>0&&this._canRequest();)0===this._nodesPerPage?this._loadNode(e.pop()):this._loadPage(e.pop());return!0}get isLoading(){return this._indexMissing>0}get isPrefetching(){return this._prefetch.length>0}get indexLoading(){return this._loading.size}get indexMissing(){return this._indexMissing}get unloadedMemoryEstimate(){return this._unloadedMemoryEstimate}get updates(){return this._updates}get featureEstimate(){return this._featureEstimate}get maxPriority(){return Math.max(this._maxProcessingPrio,this._maxUnloadedPrio)}nodeTraversalState(e){if(t(e))return null;let i=this._nodeTraversalState.get(e.index);if(i&&w(i.version,this._version))return i;const s=this._viewportQueries.getLodLevel(e),n=this._viewportQueries.hasLOD(e);let r=!0;if(n){const t=this.getParentIndex(e.index);if(t>=0){const e=this._nodeTraversalState.get(t);r=!!e&&s>e.lodLevel}else r=s>0}else r=0===e.childCount;return i?(i.lodLevel=s,i.isChosen=r,i.version=C(!0,this._version),i):(i=new _(n,r,s,C(!0,this._version)),this._nodeTraversalState.set(e.index,i),i)}_loadNode(e){this._loading.add(e);const s=i(this._getNodeInternal(e)).ref;if(t(s))return void this._failedNodes.add(e);const r=s.id,o=this._urlPrefix+r,a=()=>{this._loading.delete(e),0===this._missing.length&&0===this._loading.size&&this.requestUpdate()};this._streamDataController.request(o,\"json\").then((t=>{a();const i=this._validateNode(r,t);if(null==i)return;i.obb&&this.invalidateNodeVisibilityCache(e);const s=this._addNode(i,e);this.nodeTraversalState(s)}),(t=>{a(),n(t)||(this._logger.error(\"#loadNode()\",this._logLayer,\"Error loading node: \"+o),this._failedNodes.add(e))}))}_validateNode(e,t){if(null==t||\"object\"!=typeof t||t.id!==e)return this._logger.error(\"#validateNode()\",this._logLayer,`Invalid node. Wrong type or wrong id \"${e}\"`),null;if(!Array.isArray(t.mbs))return this._logger.error(\"#validateNode()\",this._logLayer,`Invalid bounding volume on node ${e}.`),null;t.sharedResource&&\"./shared\"!==t.sharedResource.href&&\"./shared/\"!==t.sharedResource.href&&this._logger.warn(\"#validateNode()\",this._logLayer,`Invalid shared resource href on node \"${e}\"`),null==t.geometryData||Array.isArray(t.geometryData)&&1===t.geometryData.length&&\"./geometries/0\"===t.geometryData[0].href||this._logger.warn(\"#validateNode()\",this._logLayer,`Invalid geometry data on node \"${e}\"`),null==t.attributeData||Array.isArray(t.attributeData)&&!t.attributeData.some(((e,t)=>e.href!==`./attributes/f_${t}/0`))||this._logger.warn(\"#validateNode()\",this._logLayer,`Invalid attribute data on node \"${e}\"`),t.featureData&&t.featureData.length>1&&this._logger.warn(\"#validateNode()\",this._logLayer,`Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);const i=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,s=t.featureData&&1===t.featureData.length&&t.featureData[0].featureRange?t.featureData[0].featureRange[1]-t.featureData[0].featureRange[0]+1:void 0,n=t=>{if(null==t)return null;const i=t=>this._logger.error(\"#validateNode()\",this._logLayer,`Invalid node reference on node ${e}: ${t}`);if(\"number\"==typeof t.id)i(`id ${t.id} is a number instead of a string.`);else if(\"string\"!=typeof t.id||!Array.isArray(t.mbs))return i(\"Missing or invalid id.\"),null;if(!Array.isArray(t.mbs))return i(`Invalid bounding volume on reference ${t.id}.`),null;t.href&&t.href!==\"../\"+t.id&&this._logger.error(\"#validateNode()\",this._logLayer,`Invalid node href on node \"${e}\"`);const s=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,n=new d(`${t.id}`,t.mbs);return n.serviceObb=s,n.visibilityObb=this._computeVisibilityObb(n),n},r=Array.isArray(t.children)?t.children.map(n).filter((e=>null!=e)):null;return{id:e,mbs:t.mbs,obb:i,children:r,resources:{hasFeatureData:t.featureData&&t.featureData.length>0,hasSharedResource:null!=t.sharedResource,attributes:t.attributeData?e:void 0,texture:t.textureData&&t.textureData.length>0?e:void 0,geometry:null!=t.geometryData?e:void 0},version:\"string\"==typeof t.version?t.version:null,lodSelection:Array.isArray(t.lodSelection)?t.lodSelection:null,numFeatures:s}}resetFailedNodes(){this._failedNodes.clear(),this._failedPages.clear(),this._forAllNodes((t=>{e(t.node)&&(t.node.failed=!1)}))}_entryPriority(i){const s=this._getNodeInternal(i),n=this.getParentIndex(i);if(t(s)||n<0&&null==s.node)return n<0?1/0:this._entryPriority(n);let r=0;if(s.node&&n>=0){const e=this._nodeTraversalState.get(n);null!=e&&(r=e.lodLevel)}let o=this.progressiveLoadPenalty;for(let e=i;e>=0;e=this.getParentIndex(e))if(this._isLoaded(e)){o=0;break}const a=e(s.ref)?this._viewportQueries.distToPOI(s.ref):e(s.node)?this._viewportQueries.distToPOI(s.node):0;return-a-r*(a+this.progressiveLoadPenalty)+o}traverseVisible(e){const i=this._getNodeInternal(this._rootIndex);t(i)?e(this._rootIndex,null,null):this._traverseVisible(this._rootIndex,-1,i,e)}_traverseVisible(t,s,n,r){if(n.node&&0===n.childCount)return void(this.isGeometryVisible(t)&&r(t,n,s));if(!this.isNodeVisible(t))return;if(r(t,n,s),null==n.node)return;const o=this.nodeTraversalState(n.node);if(o?.nodeHasLOD&&o.lodLevel===this._maxLodLevel)return;const a=i(this._getPage(t));for(let i=0;i<n.childCount;i++){const s=a.children[n.childOffset+i],o=this._getNodeInternal(s);e(o)?this._traverseVisible(s,t,o,r):r(s,null,t)}}traverse(e,t){t(e)&&this.traverseChildren(e,t)}traverseChildren(t,i){const s=t.index,n=this._getNodeInternal(s);e(n)&&this._traverseChildren(s,n,i)}_traverseChildren(i,s,n){const r=this._getPage(i);if(t(r))return;const o=s.childOffset+s.childCount;for(let t=s.childOffset;t<o;++t){const i=r.children[t],s=this._getNodeInternal(i);e(s)&&e(s.node)&&n(s.node)&&this._traverseChildren(i,s,n)}}updateChildrenLoaded(t,i){let s=this.getNode(t);for(;e(s);)s.childrenLoaded+=i,s=this.getParent(s.index)}checkChildrenLoadedInvariant(){if(t(this.rootNode))return!0;const e=[],i=t=>{let s=this._isLoaded(t.index)||this._isReloading(t.index)?1:0;return this.traverseChildren(t,(e=>(s+=i(e),!1))),t.childrenLoaded!==s&&e.push(t.index),s};return i(this.rootNode),e.length&&this._logger.error(\"childrenLoaded invariant broken at following nodes: \"+e.join(\",\")),e.length>0}updateStats(e){if(this._updates.add.length>0&&(e.nodes+=\" + \"+this._updates.add.length),(this._indexMissing||this._prefetch.length>0)&&(e.index+=\" + \"+this._indexMissing||this._prefetch.length),e.prio=this._maxProcessingPrio,this._featureEstimate.estimate){const t=this._featureEstimate.estimate-e.features;t>0?e.features+=\" + \"+t:t<0&&(e.features+=\" - \"+-t)}}updateElevationInfo(e,t){this.needNodeElevationRange=t&&!!e&&(\"relative-to-ground\"===e.mode||\"on-the-ground\"===e.mode),this._viewportQueries.updateElevationInfo(e),this.invalidateAllElevationRanges()}invalidateAllElevationRanges(){this._forAllNodes((t=>{P(t),e(t.node)&&(t.node.elevationRange=null),e(t.ref)&&(t.ref.elevationRange=null)}))}_forAllNodes(e){for(let t=0;t<this._nodePages.length;t++){const i=this._nodePages[t];if(i){const s=t*this._nodesPerPage;for(let t=0;t<i.nodes.length;t++)e(i.nodes[t],s+t)}}}get test(){return{addNode:(e,t)=>this._addNode(e,t)}}}const y=new Map;class N{constructor(e){this.missing=e,this.update=new s({deallocator:null}),this.add=new s({deallocator:null}),this.remove=new s({deallocator:null}),this.cancel=[]}reset(e){this.add.clear(),this.update.clear(),this.cancel=e}}function P(t){e(t.node)&&(g(t.node.renderMbs),m(t.node.serviceObbInRenderSR)),e(t.ref)&&(g(t.ref.renderMbs),m(t.ref.serviceObbInRenderSR))}function x(e){return f(e,-2)}function I(e){return f(e,2)}function C(e,t){return t+(e?1:0)}function w(e,t){return(-2&e)===t}function M(e){return 1==(1&e)}function S(e,t){return 0===t?0:e/t|0}function R(e,t){return 0===t?e:e%t}const L=[[\"maxScreenThreshold\",a.MaxScreenThreshold],[\"screenSpaceRelative\",a.ScreenSpaceRelative],[\"removedFeatureDiameter\",a.RemovedFeatureDiameter],[\"distanceRangeFromDefaultCamera\",a.DistanceRangeFromDefaultCamera]];function E(e){if(e)for(let t=0;t<e.length;t++)for(const i of L)if(i[0]===e[t].metricType)return{lodMetric:i[1],maxError:e[t].maxError};return{lodMetric:a.None,maxError:0}}class O{constructor(){this.known=0,this.knownNodes=0,this.missing=0,this.missingNodes=0,this.unremoved=0}}function V(e){return Math.sqrt(e*(4/Math.PI))}export{p as I3SIndex,E as selectErrorMetric};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,QAAK,2BAA2B;AAAC,OAAOC,CAAC,MAAK,iCAAiC;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,kCAAkC;AAAC,SAAOC,CAAC,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOC,CAAC,IAAIC,CAAC,QAAK,+BAA+B;AAAC,SAAOC,SAAS,IAAIC,CAAC,EAACC,QAAQ,IAAIC,CAAC,EAACC,IAAI,IAAIR,CAAC,EAACS,cAAc,IAAIC,CAAC,EAACC,gBAAgB,IAAIC,CAAC,EAACC,wBAAwB,IAAIC,CAAC,EAACC,kBAAkB,IAAIC,CAAC,QAAK,cAAc;AAAC,SAAOC,aAAa,IAAIC,CAAC,EAACC,aAAa,IAAIC,CAAC,EAACC,aAAa,IAAIC,CAAC,QAAK,cAAc;AAAC,SAAOC,KAAK,IAAIC,CAAC,QAAK,sCAAsC;AAAC,MAAMtB,CAAC;EAACuB,WAAWA,CAACjC,CAAC,EAACE,CAAC,EAACE,CAAC,EAACC,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAAC2B,WAAW,GAAClC,CAAC,EAAC,IAAI,CAACmC,UAAU,GAACjC,CAAC,EAAC,IAAI,CAACkC,eAAe,GAAChC,CAAC,EAAC,IAAI,CAACiC,GAAG,GAAChC,CAAC,EAAC,IAAI,CAACiC,IAAI,GAAC/B,CAAC,EAAC,IAAI,CAACgC,SAAS,GAAC,CAAC,EAAC,IAAI,CAACC,YAAY,GAACpB,CAAC,CAACqB,UAAU;EAAA;AAAC;AAAC,MAAMC,CAAC;EAACT,WAAWA,CAACjC,CAAC,EAACE,CAAC,EAACE,CAAC,EAACG,CAAC,EAACE,CAAC,EAACE,CAAC,EAACI,CAAC,EAACP,CAAC,EAACU,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACe,qBAAqB,GAACvC,CAAC,EAAC,IAAI,CAACwC,gBAAgB,GAACrC,CAAC,EAAC,IAAI,CAACsC,OAAO,GAACpC,CAAC,EAAC,IAAI,CAACqC,WAAW,GAACnC,CAAC,EAAC,IAAI,CAACoC,SAAS,GAAChC,CAAC,EAAC,IAAI,CAACiC,YAAY,GAACxC,CAAC,EAAC,IAAI,CAACyC,WAAW,GAAC/B,CAAC,EAAC,IAAI,CAACgC,OAAO,GAAC9B,CAAC,EAAC,IAAI,CAAC+B,YAAY,GAAC7B,CAAC,EAAC,IAAI,CAAC8B,WAAW,GAAC5B,CAAC,EAAC,IAAI,CAAC6B,qBAAqB,GAAC3B,CAAC,EAAC,IAAI,CAAC4B,qBAAqB,GAAC1B,CAAC,EAAC,IAAI,CAAC2B,MAAM,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,UAAU,GAAC,EAAE,EAAC,IAAI,CAACC,UAAU,GAAC,CAAC,EAAC,IAAI,CAACC,aAAa,GAAC,CAAC,EAAC,IAAI,CAACC,UAAU,GAAC,CAAC,EAAC,IAAI,CAACC,UAAU,GAAC/C,CAAC,CAACgD,IAAI,EAAC,IAAI,CAACC,cAAc,GAAC9D,CAAC,IAAEA,CAAC,EAAC,IAAI,CAAC+D,UAAU,GAAC,EAAE,EAAC,IAAI,CAACC,QAAQ,GAAC,IAAIC,GAAG,IAAC,IAAI,CAACC,YAAY,GAAC,IAAID,GAAG,IAAC,IAAI,CAACE,YAAY,GAAC,IAAIF,GAAG,IAAC,IAAI,CAACG,aAAa,GAAC,CAAC,EAAC,IAAI,CAACC,gBAAgB,GAACC,MAAM,CAACC,iBAAiB,EAAC,IAAI,CAACC,kBAAkB,GAACF,MAAM,CAACG,iBAAiB,EAAC,IAAI,CAACC,mBAAmB,GAAC,IAAIC,GAAG,IAAC,IAAI,CAACC,QAAQ,GAACC,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACC,uBAAuB,GAACD,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACE,SAAS,GAAC,CAAC,EAAC,IAAI,CAACC,gBAAgB,GAAC;MAACC,QAAQ,EAAC,CAAC;MAACC,aAAa,EAAC,CAAC;IAAC,CAAC,EAAC,IAAI,CAACC,uBAAuB,GAAC,CAAC,EAAC,IAAI,CAACC,QAAQ,GAAC,IAAI/E,CAAC,CAAC;MAACgF,WAAW,EAAC;IAAI,CAAC,CAAC,EAAC,IAAI,CAACC,SAAS,GAAC,IAAIjF,CAAC,CAAC;MAACgF,WAAW,EAAC;IAAI,CAAC,CAAC,EAAC,IAAI,CAACE,QAAQ,GAAC,IAAIC,CAAC,CAAC,IAAI,CAACJ,QAAQ,CAAC,EAAC,IAAI,CAACK,4BAA4B,GAAC,IAAIpF,CAAC,CAAC;MAACgF,WAAW,EAAC;IAAI,CAAC,CAAC,EAAC,IAAI,CAACK,gBAAgB,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,sBAAsB,GAAC,CAAC,EAAC,IAAI,CAACC,UAAU,GAAC,EAAE,EAAC,IAAI,CAACC,sBAAsB,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,qBAAqB,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,eAAe,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,SAAS,GAAChG,CAAC,EAACA,CAAC,CAACiG,sBAAsB,IAAEjG,CAAC,CAACiG,sBAAsB,CAACC,UAAU,KAAG,IAAI,CAACC,WAAW,GAAE,GAAEnG,CAAC,CAACiG,sBAAsB,CAACC,UAAW,EAAC,CAAC,EAAC,IAAI,CAACE,YAAY,GAAC,IAAI,CAACxD,gBAAgB,GAAC,IAAI,CAACA,gBAAgB,CAACyD,WAAW,GAAC,CAAC,EAAC,IAAI,CAACC,KAAK,CAACpG,CAAC,CAAC;EAAA;EAACoG,KAAKA,CAACtG,CAAC,EAAC;IAAC,IAAG,MAAM,KAAGA,CAAC,CAACuG,IAAI,EAAC;MAAC,QAAO,IAAI,CAACxC,UAAU,GAAC/D,CAAC,CAACwG,SAAS,EAAC,IAAI,CAAC9C,aAAa,GAAC1D,CAAC,CAACyG,QAAQ,EAAC,IAAI,CAAC9C,UAAU,GAAC3D,CAAC,CAAC0G,SAAS,EAAC1G,CAAC,CAAC2G,SAAS;QAAE,KAAI,oBAAoB;UAAC,IAAI,CAAC/C,UAAU,GAAC/C,CAAC,CAAC+F,kBAAkB;UAAC;QAAM,KAAI,sBAAsB;UAAC,IAAI,CAAChD,UAAU,GAAC/C,CAAC,CAAC+F,kBAAkB,EAAC,IAAI,CAAC9C,cAAc,GAAC+C,CAAC;MAAA;MAAC,IAAI,CAACC,QAAQ,CAACC,CAAC,CAAC,IAAI,CAACpD,UAAU,EAAC,IAAI,CAACD,aAAa,CAAC,EAAC1D,CAAC,CAACgH,QAAQ,CAAC,EAAC,IAAI,CAACC,sBAAsB,EAAE;IAAA,CAAC,MAAK,IAAG,MAAM,KAAGjH,CAAC,CAACuG,IAAI,EAAC;MAAC,IAAI,CAACxC,UAAU,GAAC/D,CAAC,CAACwG,SAAS,EAAC,IAAI,CAAChD,UAAU,CAAC0D,IAAI,CAAC;QAACC,KAAK,EAAC,EAAE;QAACC,QAAQ,EAAC,EAAE;QAACC,OAAO,EAAC;MAAE,CAAC,CAAC,EAAC,IAAI,CAACC,YAAY,CAAC,IAAIvG,CAAC,CAACf,CAAC,CAACuH,QAAQ,CAACC,EAAE,EAAC,IAAI,CAAC,EAAC,CAAC,CAAC,CAAC;MAAC,MAAMtH,CAAC,GAAC,IAAI,CAACuH,aAAa,CAACzH,CAAC,CAACuH,QAAQ,CAACC,EAAE,EAACxH,CAAC,CAACuH,QAAQ,CAAC;MAACrH,CAAC,IAAE,IAAI,CAACwH,QAAQ,CAACxH,CAAC,EAAC,CAAC,CAAC;IAAA;EAAC;EAACyH,SAASA,CAAC3H,CAAC,EAAC;IAAC,IAAI,CAACgE,QAAQ,CAAC4D,GAAG,CAAC5H,CAAC,CAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAAC6D,UAAU,GAAC/D,CAAC;IAAC,IAAI,CAAC2C,qBAAqB,CAACkF,OAAO,CAAC3H,CAAC,EAAC,MAAM,CAAC,CAAC4H,IAAI,CAAE5H,CAAC,IAAE;MAAC,IAAI,CAAC0F,UAAU,CAACsB,IAAI,CAAC;QAACa,SAAS,EAAC/H,CAAC;QAACgI,IAAI,EAAC9H;MAAC,CAAC,CAAC;IAAA,CAAC,CAAE,CAAC+H,KAAK,CAAE/H,CAAC,IAAE;MAAC,IAAI,CAAC8D,QAAQ,CAACkE,MAAM,CAAClI,CAAC,CAAC,EAACO,CAAC,CAACL,CAAC,CAAC,KAAG,IAAI,CAACiE,YAAY,CAACyD,GAAG,CAAC5H,CAAC,CAAC,EAAC,IAAI,CAAC6C,OAAO,CAACsF,KAAK,CAAC,aAAa,EAAC,IAAI,CAACnC,SAAS,EAAE,2BAA0BhG,CAAE,EAAC,EAACE,CAAC,CAAC,CAAC;IAAA,CAAC,CAAE;EAAA;EAACkI,eAAeA,CAACpI,CAAC,EAAC;IAAC,OAAK,IAAI,CAAC4F,UAAU,CAACyC,MAAM,GAAC,CAAC,IAAE,CAACrI,CAAC,CAACsI,IAAI,GAAE;MAAC,MAAK;QAACP,SAAS,EAAC7H,CAAC;QAAC8H,IAAI,EAAC5H;MAAC,CAAC,GAAC,IAAI,CAACwF,UAAU,CAAC2C,KAAK,EAAE;MAAC,IAAI,CAACzB,QAAQ,CAAC5G,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAAC4D,QAAQ,CAACkE,MAAM,CAAChI,CAAC,CAAC,EAACF,CAAC,CAACwI,YAAY,EAAE;IAAA;IAAC,IAAI,CAACvB,sBAAsB,EAAE;EAAA;EAACH,QAAQA,CAAC9G,CAAC,EAACE,CAAC,EAAC;IAAC,KAAI,IAAIO,CAAC,GAAC,IAAI,CAAC+C,UAAU,CAAC6E,MAAM,EAAC5H,CAAC,GAACT,CAAC,EAACS,CAAC,EAAE,EAAC,IAAI,CAAC+C,UAAU,CAAC/C,CAAC,CAAC,GAAC,IAAI;IAAC,MAAML,CAAC,GAAC,EAAE;MAACC,CAAC,GAAC,EAAE;MAACE,CAAC,GAACL,CAAC,CAACiH,KAAK,CAACsB,GAAG,CAAE,CAACvI,CAAC,EAACK,CAAC,KAAG;QAAC,MAAMM,CAAC,GAACT,CAAC,CAACiI,MAAM;UAACtH,CAAC,GAACb,CAAC,CAACkH,QAAQ,GAAClH,CAAC,CAACkH,QAAQ,CAACiB,MAAM,GAAC,CAAC;QAAChI,CAAC,CAAC6G,IAAI,CAAC,CAAC,CAAC,CAAC;QAAC,KAAI,IAAIlH,CAAC,GAAC,CAAC,EAACA,CAAC,GAACe,CAAC,EAACf,CAAC,EAAE,EAACI,CAAC,CAAC8G,IAAI,CAAChH,CAAC,CAACkH,QAAQ,CAACpH,CAAC,CAAC,CAAC;QAAC,MAAMkB,CAAC,GAAE,GAAEhB,CAAC,CAACwI,KAAM,EAAC;UAACtH,CAAC,GAACY,CAAC,CAAC9B,CAAC,CAACyI,GAAG,CAAC;UAACrH,CAAC,GAACX,CAAC,CAAC,CAACS,CAAC,CAACwH,MAAM,CAAC,CAAC,CAAC,EAACxH,CAAC,CAACwH,MAAM,CAAC,CAAC,CAAC,EAACxH,CAAC,CAACwH,MAAM,CAAC,CAAC,CAAC,EAACnI,CAAC,CAACW,CAAC,CAACyH,QAAQ,CAAC,CAAC,CAAC;UAACrH,CAAC,GAACtB,CAAC,CAAC4I,IAAI,IAAE5I,CAAC,CAAC4I,IAAI,CAACC,SAAS;UAACrH,CAAC,GAACxB,CAAC,CAAC4I,IAAI,IAAE5I,CAAC,CAAC4I,IAAI,CAACE,QAAQ;UAACpH,CAAC,GAAC1B,CAAC,CAAC4I,IAAI,IAAE5I,CAAC,CAAC4I,IAAI,CAACG,QAAQ;UAACnH,CAAC,GAAC;YAACoH,iBAAiB,EAAC,CAAC,CAAC;YAACC,cAAc,EAAC,CAAC,CAACzH,CAAC;YAAC0H,UAAU,EAAC5H,CAAC,IAAE,IAAI,IAAEA,CAAC,CAAC6H,QAAQ,GAAE,GAAE7H,CAAC,CAAC6H,QAAS,EAAC,GAAC,KAAK,CAAC;YAACL,QAAQ,EAACtH,CAAC,IAAE,IAAI,IAAEA,CAAC,CAAC2H,QAAQ,GAAE,GAAE3H,CAAC,CAAC2H,QAAS,EAAC,GAAC,KAAK,CAAC;YAACC,OAAO,EAAC1H,CAAC,IAAE,IAAI,IAAEA,CAAC,CAACyH,QAAQ,GAAE,GAAEzH,CAAC,CAACyH,QAAS,EAAC,GAAC,KAAK,CAAC;YAACE,kBAAkB,EAAC7H,CAAC,GAACA,CAAC,CAAC8H,UAAU,GAAC,CAAC,CAAC;YAACC,kBAAkB,EAAC7H,CAAC,GAACA,CAAC,CAAC4H,UAAU,GAAC,CAAC;UAAC,CAAC;UAAC9G,CAAC,GAAC,IAAIlC,CAAC,CAACU,CAAC,EAAClB,CAAC,GAAC,IAAI,CAAC0D,aAAa,GAACnD,CAAC,EAACe,CAAC,EAACP,CAAC,EAAC,CAAC,EAACe,CAAC,EAAC,IAAI,CAACqE,WAAW,EAAC,IAAI,CAACvC,UAAU,EAAC,IAAI,CAACE,cAAc,CAAC5D,CAAC,CAACwJ,YAAY,CAAC,EAAChI,CAAC,GAACA,CAAC,CAACiI,YAAY,GAAC,IAAI,CAAC;QAAC,OAAOjH,CAAC,CAACkH,UAAU,GAACxI,CAAC,EAACsB,CAAC,CAACmH,aAAa,GAAC,IAAI,CAACxG,qBAAqB,CAACX,CAAC,CAAC,EAACA,CAAC,CAACoH,WAAW,GAACpI,CAAC,GAACA,CAAC,CAACoI,WAAW,GAAC,CAAC,EAAC,IAAIpJ,CAAC,CAACG,CAAC,EAACE,CAAC,EAACgJ,CAAC,CAAC,IAAI,CAACjF,uBAAuB,CAAC,EAAC,IAAI,EAACpC,CAAC,CAAC;MAAA,CAAC,CAAE;IAAC,IAAI,CAACc,UAAU,CAACxD,CAAC,CAAC,GAAC;MAACmH,KAAK,EAAC5G,CAAC;MAAC6G,QAAQ,EAAChH,CAAC;MAACiH,OAAO,EAAChH;IAAC,CAAC,EAAC,IAAI,CAACoD,UAAU,IAAElD,CAAC,CAAC8H,MAAM;EAAA;EAACpB,sBAAsBA,CAAA,EAAE;IAAC,MAAM/G,CAAC,GAAC,IAAI8J,KAAK;MAAC5J,CAAC,GAACA,CAACA,CAAC,EAACC,CAAC,EAACE,CAAC,KAAG;QAAC,MAAME,CAAC,GAAC,IAAI,CAACwJ,QAAQ,CAAC7J,CAAC,CAAC;QAAC,IAAGJ,CAAC,CAACS,CAAC,CAAC,EAAC;UAAC,MAAME,CAAC,GAACuJ,CAAC,CAAC9J,CAAC,EAAC,IAAI,CAACsD,aAAa,CAAC;UAACjD,CAAC,CAAC4G,OAAO,CAAC1G,CAAC,CAAC,GAACN,CAAC;UAAC,MAAMQ,CAAC,GAACJ,CAAC,CAAC0G,KAAK,CAACxG,CAAC,CAAC,CAAC2B,IAAI;UAACtC,CAAC,CAACa,CAAC,CAAC,KAAGA,CAAC,CAACsJ,KAAK,GAAC5J,CAAC,EAACL,CAAC,CAACgH,IAAI,CAAC9G,CAAC,CAAC,CAAC;QAAA;MAAC,CAAC;IAAC,KAAIA,CAAC,CAAC,IAAI,CAACuD,UAAU,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAACzD,CAAC,CAACmI,MAAM,GAAE;MAAC,MAAMhI,CAAC,GAACH,CAAC,CAACkK,GAAG,EAAE;QAAC7J,CAAC,GAAC,IAAI,CAAC8J,OAAO,CAAChK,CAAC,CAAC;MAAC,IAAGL,CAAC,CAACO,CAAC,CAAC,EAAC,KAAI,IAAIP,CAAC,GAAC,CAAC,EAACA,CAAC,GAACO,CAAC,CAAC4B,UAAU,EAACnC,CAAC,EAAE,EAAC;QAACI,CAAC,CAAC,IAAI,CAACkK,aAAa,CAAC/J,CAAC,CAACmI,KAAK,EAAC1I,CAAC,CAAC,EAACK,CAAC,EAACE,CAAC,CAAC4J,KAAK,GAAC,CAAC,CAAC,EAAC,IAAI,CAACpF,SAAS,GAACwF,IAAI,CAACC,GAAG,CAAC,IAAI,CAACzF,SAAS,EAACxE,CAAC,CAAC4J,KAAK,GAAC,CAAC,CAAC;MAAA;IAAC;EAAC;EAACF,QAAQA,CAACjK,CAAC,EAAC;IAAC,OAAO,IAAI,CAACwD,UAAU,CAACuD,CAAC,CAAC/G,CAAC,EAAC,IAAI,CAAC0D,aAAa,CAAC,CAAC;EAAA;EAAC+G,gBAAgBA,CAACzK,CAAC,EAAC;IAAC,MAAMI,CAAC,GAAC,IAAI,CAAC6J,QAAQ,CAACjK,CAAC,CAAC;IAAC,OAAOE,CAAC,CAACE,CAAC,CAAC,GAAC,IAAI,GAACA,CAAC,CAAC+G,KAAK,CAAC+C,CAAC,CAAClK,CAAC,EAAC,IAAI,CAAC0D,aAAa,CAAC,CAAC;EAAA;EAACgE,QAAQA,CAACxH,CAAC,EAACG,CAAC,EAAC;IAAC,IAAI,IAAEH,CAAC,CAACkH,QAAQ,IAAE,IAAI,CAACsD,gBAAgB,CAACrK,CAAC,EAACH,CAAC,CAACkH,QAAQ,CAAC;IAAC,MAAM7G,CAAC,GAAC,IAAI,CAACoK,SAAS,CAACtK,CAAC,CAAC;MAACI,CAAC,GAACT,CAAC,CAACO,CAAC,CAAC,GAACA,CAAC,CAAC4J,KAAK,GAAC,CAAC,GAAC,CAAC;IAAC,IAAI,CAACpF,SAAS,GAACwF,IAAI,CAACC,GAAG,CAAC,IAAI,CAACzF,SAAS,EAAC7E,CAAC,CAACkH,QAAQ,GAAC3G,CAAC,GAAC,CAAC,GAACA,CAAC,CAAC;IAAC,MAAK;QAACkG,SAAS,EAAC9F,CAAC;QAAC+J,QAAQ,EAAC7J;MAAC,CAAC,GAAC8J,CAAC,CAAC3K,CAAC,CAAC4K,YAAY,CAAC;MAAC5J,CAAC,GAACd,CAAC,CAAC,IAAI,CAACqK,gBAAgB,CAACpK,CAAC,CAAC,CAAC;IAAC,OAAOa,CAAC,CAACoB,IAAI,GAAC,IAAI9B,CAAC,CAACN,CAAC,CAACsH,EAAE,EAACnH,CAAC,EAACM,CAAC,CAACT,CAAC,CAAC6K,GAAG,CAAC,EAAC7J,CAAC,CAACiB,UAAU,EAAC1B,CAAC,EAACP,CAAC,CAAC8K,SAAS,EAAC9K,CAAC,CAAC+K,OAAO,EAACpK,CAAC,EAACE,CAAC,EAACb,CAAC,CAACgL,WAAW,CAAC,EAAChL,CAAC,CAACyI,GAAG,KAAGzH,CAAC,CAACoB,IAAI,CAACsH,UAAU,GAAC5H,CAAC,CAAC9B,CAAC,CAACyI,GAAG,CAAC,CAAC,EAACzH,CAAC,CAACoB,IAAI,CAACuH,aAAa,GAAC,IAAI,CAACxG,qBAAqB,CAACnC,CAAC,CAACoB,IAAI,CAAC,EAACtC,CAAC,CAACkB,CAAC,CAACmB,GAAG,CAAC,KAAG,IAAI,IAAEnB,CAAC,CAACmB,GAAG,CAAC0I,GAAG,KAAG7J,CAAC,CAACmB,GAAG,CAAC0I,GAAG,GAAC7K,CAAC,CAAC6K,GAAG,CAAC,EAAC7J,CAAC,CAACoB,IAAI,CAAC6I,SAAS,GAACjK,CAAC,CAACmB,GAAG,CAAC8I,SAAS,EAACjK,CAAC,CAACoB,IAAI,CAAC8I,oBAAoB,GAAClK,CAAC,CAACmB,GAAG,CAAC+I,oBAAoB,EAAClK,CAAC,CAACmB,GAAG,CAACwH,aAAa,GAAC3I,CAAC,CAACoB,IAAI,CAACuH,aAAa,CAAC,EAAC3I,CAAC,CAACoB,IAAI;EAAA;EAACgF,YAAYA,CAACtH,CAAC,EAACE,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACoD,UAAU,CAAC,CAAC,CAAC;IAAC,IAAG,IAAI,IAAEpD,CAAC,EAAC,OAAM,CAAC,CAAC;IAAC,MAAMC,CAAC,GAACD,CAAC,CAAC+G,KAAK,CAACkB,MAAM;IAAC,OAAOjI,CAAC,CAAC+G,KAAK,CAACD,IAAI,CAAC,IAAIxG,CAAC,CAAC,CAAC,EAAC,CAAC,EAACqJ,CAAC,CAAC,IAAI,CAACjF,uBAAuB,CAAC,EAAC9E,CAAC,EAAC,IAAI,CAAC,CAAC,EAAC,IAAI,CAACyD,UAAU,EAAE,EAACrD,CAAC,CAACiH,OAAO,CAACH,IAAI,CAAChH,CAAC,CAAC,EAACwB,CAAC,CAAC1B,CAAC,CAACmL,SAAS,CAAC,EAACvJ,CAAC,CAAC5B,CAAC,CAACoL,oBAAoB,CAAC,EAAC/K,CAAC;EAAA;EAACqK,gBAAgBA,CAAC1K,CAAC,EAACE,CAAC,EAAC;IAAC,MAAMG,CAAC,GAACD,CAAC,CAAC,IAAI,CAACqK,gBAAgB,CAACzK,CAAC,CAAC,CAAC;MAACO,CAAC,GAACH,CAAC,CAAC,IAAI,CAAC6J,QAAQ,CAACjK,CAAC,CAAC,CAAC;IAACK,CAAC,CAAC6B,WAAW,GAAC3B,CAAC,CAAC6G,QAAQ,CAACiB,MAAM,EAAChI,CAAC,CAAC8B,UAAU,GAACjC,CAAC,CAACmI,MAAM;IAAC,KAAI,IAAIjI,CAAC,GAAC,CAAC,EAACA,CAAC,GAACF,CAAC,CAACmI,MAAM,EAACjI,CAAC,EAAE,EAAC;MAAC,MAAMC,CAAC,GAAC,IAAI,CAACiH,YAAY,CAACpH,CAAC,CAACE,CAAC,CAAC,EAACJ,CAAC,CAAC;MAACO,CAAC,CAAC6G,QAAQ,CAACF,IAAI,CAAC7G,CAAC,CAAC;IAAA;EAAC;EAACgK,OAAOA,CAACnK,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACqK,gBAAgB,CAACvK,CAAC,CAAC;IAAC,OAAOF,CAAC,CAACI,CAAC,CAAC,GAACA,CAAC,CAACkC,IAAI,GAAC,IAAI;EAAA;EAAC+I,YAAYA,CAACnL,CAAC,EAAC;IAAC,IAAIE,CAAC;IAAC,OAAO,IAAI,CAACkL,YAAY,CAAE,CAACjL,CAAC,EAACE,CAAC,KAAG;MAAC,CAACP,CAAC,CAACK,CAAC,CAACiC,IAAI,CAAC,IAAEjC,CAAC,CAACiC,IAAI,CAACkF,EAAE,KAAGtH,CAAC,IAAEF,CAAC,CAACK,CAAC,CAACgC,GAAG,CAAC,IAAEhC,CAAC,CAACgC,GAAG,CAACmF,EAAE,KAAGtH,CAAC,MAAIE,CAAC,GAACG,CAAC,CAAC;IAAA,CAAC,CAAE,EAACH,CAAC;EAAA;EAACmL,WAAWA,CAACvL,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACmL,YAAY,CAACrL,CAAC,CAAC;IAAC,OAAO,IAAI,IAAEE,CAAC,IAAEA,CAAC,IAAE,CAAC,GAAC,IAAI,CAACmK,OAAO,CAACnK,CAAC,CAAC,GAAC,IAAI;EAAA;EAACoK,aAAaA,CAACtK,CAAC,EAACI,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAAC4J,QAAQ,CAACjK,CAAC,CAAC;IAAC,IAAGE,CAAC,CAACG,CAAC,CAAC,EAAC,OAAM,CAAC,CAAC;IAAC,MAAME,CAAC,GAACF,CAAC,CAAC8G,KAAK,CAAC+C,CAAC,CAAClK,CAAC,EAAC,IAAI,CAAC0D,aAAa,CAAC,CAAC;IAAC,OAAOrD,CAAC,CAAC+G,QAAQ,CAAC7G,CAAC,CAAC2B,WAAW,GAAC9B,CAAC,CAAC;EAAA;EAACoL,cAAcA,CAACtL,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAAC6J,QAAQ,CAAC/J,CAAC,CAAC;IAAC,OAAOF,CAAC,CAACI,CAAC,CAAC,GAACA,CAAC,CAACiH,OAAO,CAAC6C,CAAC,CAAChK,CAAC,EAAC,IAAI,CAACwD,aAAa,CAAC,CAAC,GAAC,CAAC,CAAC;EAAA;EAACiH,SAASA,CAAC3K,CAAC,EAAC;IAAC,OAAM,CAACA,CAAC,GAAC,IAAI,CAACwL,cAAc,CAACxL,CAAC,CAAC,KAAG,CAAC,GAAC,IAAI,CAACqK,OAAO,CAACrK,CAAC,CAAC,GAAC,IAAI;EAAA;EAACyL,MAAMA,CAACvL,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACqK,gBAAgB,CAACvK,CAAC,CAAC;IAAC,OAAOF,CAAC,CAACI,CAAC,CAAC,IAAE,CAAC,KAAGA,CAAC,CAAC+B,UAAU;EAAA;EAAC,IAAIoF,QAAQA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAC8C,OAAO,CAAC,IAAI,CAAC1G,UAAU,CAAC;EAAA;EAAC,IAAI+H,IAAIA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACjI,UAAU;EAAA;EAACkI,qBAAqBA,CAAA,EAAE;IAAC,IAAI,CAACL,YAAY,CAAEpL,CAAC,IAAE;MAACF,CAAC,CAACE,CAAC,CAACoC,IAAI,CAAC,KAAGpC,CAAC,CAACoC,IAAI,CAACsJ,WAAW,GAAC,IAAI,CAAC;IAAA,CAAC,CAAE;EAAA;EAACC,yBAAyBA,CAAA,EAAE;IAAC,IAAI,CAAC/G,uBAAuB,GAACD,CAAC,CAAC,IAAI,CAACC,uBAAuB,CAAC;EAAA;EAACgH,6BAA6BA,CAAC5L,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACqK,gBAAgB,CAACvK,CAAC,CAAC;IAACF,CAAC,CAACI,CAAC,CAAC,IAAE,IAAI,CAAC2L,qCAAqC,CAAC3L,CAAC,CAAC;EAAA;EAAC2L,qCAAqCA,CAAC/L,CAAC,EAAC;IAACA,CAAC,CAACoC,eAAe,GAAC2H,CAAC,CAAC,IAAI,CAACjF,uBAAuB,CAAC;EAAA;EAACkH,6BAA6BA,CAAC9L,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACqK,gBAAgB,CAACvK,CAAC,CAAC;IAACF,CAAC,CAACI,CAAC,CAAC,KAAG6L,CAAC,CAAC7L,CAAC,CAAC,EAAC,IAAI,CAAC2L,qCAAqC,CAAC3L,CAAC,CAAC,CAAC;EAAA;EAAC8L,sBAAsBA,CAAC9L,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACoK,gBAAgB,CAACrK,CAAC,CAAC;IAAC,IAAGF,CAAC,CAACG,CAAC,CAAC,EAAC;IAAO,IAAG,CAAC,IAAI,CAACwF,sBAAsB,EAAC,OAAO,KAAK,IAAI,CAACmG,6BAA6B,CAAC5L,CAAC,CAAC;IAAC,MAAMG,CAAC,GAACP,CAAC,CAACK,CAAC,CAACiC,IAAI,CAAC,GAACjC,CAAC,CAACiC,IAAI,GAACjC,CAAC,CAACgC,GAAG;IAAC,IAAGnC,CAAC,CAACK,CAAC,CAAC,EAAC;IAAO,MAAME,CAAC,GAACF,CAAC,CAAC4L,cAAc;IAACjM,CAAC,CAACO,CAAC,CAAC,KAAGA,CAAC,CAAC2L,KAAK,GAAC,CAAC,CAAC,CAAC;EAAA;EAACC,4BAA4BA,CAACnM,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACqK,gBAAgB,CAACvK,CAAC,CAAC;IAACF,CAAC,CAACI,CAAC,CAAC,IAAEJ,CAAC,CAACI,CAAC,CAACkC,IAAI,CAAC,KAAGlC,CAAC,CAACkC,IAAI,CAACsJ,WAAW,GAAC,IAAI,EAAClK,CAAC,CAACtB,CAAC,CAACkC,IAAI,CAAC6I,SAAS,CAAC,EAACvJ,CAAC,CAACxB,CAAC,CAACkC,IAAI,CAAC8I,oBAAoB,CAAC,CAAC;EAAA;EAACkB,wBAAwBA,CAAA,EAAE;IAACpM,CAAC,CAAC,IAAI,CAACqH,QAAQ,CAAC,IAAE,IAAI,CAACgF,QAAQ,CAAC,IAAI,CAAChF,QAAQ,EAAEvH,CAAC,KAAGA,CAAC,CAAC6J,aAAa,GAAC,IAAI,CAACxG,qBAAqB,CAACrD,CAAC,CAAC,EAACA,CAAC,CAAC4L,WAAW,GAAC,IAAI,EAAC,CAAC,CAAC,CAAC,CAAE;EAAA;EAACY,qBAAqBA,CAACpM,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACoK,gBAAgB,CAACrK,CAAC,CAAC;IAAC,IAAGF,CAAC,CAACG,CAAC,CAAC,EAAC,OAAO,IAAI;IAAC,MAAME,CAAC,GAACP,CAAC,CAACK,CAAC,CAACiC,IAAI,CAAC,GAACjC,CAAC,CAACiC,IAAI,GAACjC,CAAC,CAACgC,GAAG;IAAC,IAAGnC,CAAC,CAACK,CAAC,CAAC,EAAC,OAAO,IAAI;IAAC,MAAME,CAAC,GAACF,CAAC,CAAC4L,cAAc;IAAC,IAAGnM,CAAC,CAACS,CAAC,CAAC,IAAEA,CAAC,CAAC2L,KAAK,EAAC,OAAO3L,CAAC;IAAC,MAAME,CAAC,GAAC,IAAIO,CAAC;IAAC,IAAIL,CAAC,GAAC,CAAC,CAAC;IAAC,KAAI,IAAIb,CAAC,GAAC,CAAC,EAACA,CAAC,GAACK,CAAC,CAAC8B,UAAU,EAACnC,CAAC,EAAE,EAAC;MAAC,MAAMK,CAAC,GAAC,IAAI,CAACmM,qBAAqB,CAAC,IAAI,CAAClC,aAAa,CAAClK,CAAC,EAACJ,CAAC,CAAC,CAAC;MAACE,CAAC,CAACG,CAAC,CAAC,GAACQ,CAAC,GAAC,CAAC,CAAC,IAAEF,CAAC,CAAC8L,GAAG,GAAClC,IAAI,CAACkC,GAAG,CAAC9L,CAAC,CAAC8L,GAAG,EAACpM,CAAC,CAACoM,GAAG,CAAC,EAAC9L,CAAC,CAAC6J,GAAG,GAACD,IAAI,CAACC,GAAG,CAAC7J,CAAC,CAAC6J,GAAG,EAACnK,CAAC,CAACmK,GAAG,CAAC,CAAC;IAAA;IAAC,IAAG,CAAC,KAAGnK,CAAC,CAAC8B,UAAU,IAAEtB,CAAC,IAAEb,CAAC,CAACK,CAAC,CAACiC,IAAI,CAAC,IAAEjC,CAAC,CAACiC,IAAI,CAAC0I,SAAS,CAAChC,QAAQ,EAAC;MAAC,MAAM9I,CAAC,GAAC,IAAI,CAAC0C,gBAAgB,CAAC8J,iBAAiB,CAACnM,CAAC,CAAC;MAACP,CAAC,CAACE,CAAC,CAAC,KAAGS,CAAC,CAAC8L,GAAG,GAAClC,IAAI,CAACkC,GAAG,CAAC9L,CAAC,CAAC8L,GAAG,EAACvM,CAAC,CAACuM,GAAG,CAAC,EAAC9L,CAAC,CAAC6J,GAAG,GAACD,IAAI,CAACC,GAAG,CAAC7J,CAAC,CAAC6J,GAAG,EAACtK,CAAC,CAACsK,GAAG,CAAC,CAAC;IAAA;IAAC,OAAOxK,CAAC,CAACS,CAAC,CAAC,IAAEA,CAAC,CAACgM,GAAG,KAAG9L,CAAC,CAAC8L,GAAG,IAAEhM,CAAC,CAAC+J,GAAG,KAAG7J,CAAC,CAAC6J,GAAG,IAAE/J,CAAC,CAAC2L,KAAK,GAAC,CAAC,CAAC,EAAC3L,CAAC,KAAGE,CAAC,CAACyL,KAAK,GAAC,CAAC,CAAC,EAAC7L,CAAC,CAAC4L,cAAc,GAACxL,CAAC,EAAC,IAAI,CAACqL,6BAA6B,CAAC5L,CAAC,CAAC,EAACO,CAAC,CAAC;EAAA;EAACgM,aAAaA,CAACvM,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACoK,gBAAgB,CAACrK,CAAC,CAAC;IAAC,IAAGF,CAAC,CAACG,CAAC,CAAC,IAAEL,CAAC,CAACK,CAAC,CAACgC,GAAG,CAAC,IAAE,CAAChC,CAAC,CAACgC,GAAG,CAAC0I,GAAG,EAAC,OAAM,CAAC,CAAC;IAAC,IAAG,IAAI,CAAClF,sBAAsB,IAAE,IAAI,CAAC2G,qBAAqB,CAACpM,CAAC,CAAC,EAAC,CAACwM,CAAC,CAACvM,CAAC,CAAC+B,eAAe,EAAC,IAAI,CAAC0C,uBAAuB,CAAC,EAAC;MAAC,MAAM1E,CAAC,GAACC,CAAC,CAACiC,IAAI;QAAC/B,CAAC,GAACP,CAAC,CAACI,CAAC,CAAC,KAAGF,CAAC,CAACG,CAAC,CAACgC,GAAG,CAAC,IAAErC,CAAC,CAACI,CAAC,CAACyJ,aAAa,CAAC,CAAC,GAACzJ,CAAC,GAACJ,CAAC,CAACK,CAAC,CAACgC,GAAG,CAAC,GAAChC,CAAC,CAACgC,GAAG,GAAC,IAAI;MAAC,IAAG,IAAI,CAAC0D,eAAe,IAAE,IAAI,CAACzC,qBAAqB,KAAGtD,CAAC,CAACI,CAAC,CAAC,IAAEJ,CAAC,CAACK,CAAC,CAACgC,GAAG,CAAC,CAAC,IAAEhC,CAAC,CAACmC,YAAY,KAAGpB,CAAC,CAACqB,UAAU,EAAC;QAAC,MAAMvC,CAAC,GAACF,CAAC,CAACI,CAAC,CAAC,GAACA,CAAC,CAAC2K,GAAG,GAAC/K,CAAC,CAACK,CAAC,CAACgC,GAAG,CAAC,GAAChC,CAAC,CAACgC,GAAG,CAAC0I,GAAG,GAAC,IAAI;QAAC1K,CAAC,CAACmC,YAAY,GAAC,IAAI,IAAEtC,CAAC,GAAC,IAAI,CAACoD,qBAAqB,CAACpD,CAAC,CAAC,GAACkB,CAAC,CAACyL,UAAU;MAAA;MAAC,MAAMpM,CAAC,GAACT,CAAC,CAACI,CAAC,CAAC,IAAEC,CAAC,CAACmC,YAAY,KAAGpB,CAAC,CAAC0L,MAAM;QAACnM,CAAC,GAAC,EAAEX,CAAC,CAACI,CAAC,CAAC,IAAEA,CAAC,CAAC2M,oBAAoB,KAAGzL,CAAC,CAACwL,MAAM,CAAC,KAAG,CAACvM,CAAC,IAAE,IAAI,CAACqC,gBAAgB,CAAC+J,aAAa,CAACpM,CAAC,CAAC,CAAC,IAAE,CAACE,CAAC;MAAC,OAAOJ,CAAC,CAAC+B,eAAe,GAAC4K,CAAC,CAACrM,CAAC,EAAC,IAAI,CAACmE,uBAAuB,CAAC,EAACnE,CAAC;IAAA;IAAC,OAAOsM,CAAC,CAAC5M,CAAC,CAAC+B,eAAe,CAAC;EAAA;EAAC8K,iBAAiBA,CAAChN,CAAC,EAAC;IAAC,IAAG,CAAC,IAAI,CAACyM,aAAa,CAACzM,CAAC,CAAC,EAAC,OAAM,CAAC,CAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACqK,gBAAgB,CAACvK,CAAC,CAAC;IAAC,OAAM,EAAEF,CAAC,CAACI,CAAC,CAAC,IAAEJ,CAAC,CAACI,CAAC,CAACkC,IAAI,CAAC,IAAEtC,CAAC,CAACI,CAAC,CAACkC,IAAI,CAACsJ,WAAW,CAAC,KAAG,CAAC,IAAI,CAAC9F,qBAAqB,IAAE1F,CAAC,CAACkC,IAAI,CAACyK,oBAAoB,KAAGzL,CAAC,CAACmB,UAAU,CAAC,CAAC,IAAE,IAAI,CAACG,gBAAgB,CAACsK,iBAAiB,CAAC9M,CAAC,CAACkC,IAAI,CAAC;EAAA;EAAC6K,iBAAiBA,CAAC9M,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACkJ,QAAQ,CAAC5J,CAAC,CAAC;IAAC,IAAGH,CAAC,CAACa,CAAC,CAAC,IAAE,CAAC,KAAGR,CAAC,CAAC4B,UAAU,EAAC;IAAO,MAAM3B,CAAC,GAACD,CAAC,CAAC2B,WAAW,GAAC3B,CAAC,CAAC4B,UAAU;MAACjB,CAAC,GAAC,IAAI8I,KAAK;IAAC,KAAI,IAAI9J,CAAC,GAACK,CAAC,CAAC2B,WAAW,EAAChC,CAAC,GAACM,CAAC,EAAC,EAAEN,CAAC,EAAC;MAAC,MAAME,CAAC,GAACW,CAAC,CAACqG,QAAQ,CAAClH,CAAC,CAAC;QAACG,CAAC,GAAC,IAAI,CAACoK,gBAAgB,CAACrK,CAAC,CAAC;MAACJ,CAAC,CAACK,CAAC,CAAC,IAAEL,CAAC,CAACK,CAAC,CAACiC,IAAI,CAAC,IAAE,IAAI,CAAC4K,iBAAiB,CAAC9M,CAAC,CAAC,IAAEc,CAAC,CAACgG,IAAI,CAAC7G,CAAC,CAAC;IAAA;IAACM,CAAC,IAAEO,CAAC,CAACmH,MAAM;IAAC,KAAI,MAAMrI,CAAC,IAAIkB,CAAC,EAAC;MAAC,MAAMhB,CAAC,GAACE,CAAC,CAACJ,CAAC,CAACsC,IAAI,CAAC,CAACoG,KAAK;MAAC,IAAI,CAAC3F,SAAS,CAAC7C,CAAC,CAAC,IAAE,IAAI,CAAC8C,YAAY,CAAC9C,CAAC,CAAC,IAAEW,CAAC,CAACuM,KAAK,GAAC7C,IAAI,CAACC,GAAG,CAAC3J,CAAC,CAACuM,KAAK,EAAC3M,CAAC,CAAC,EAACI,CAAC,CAACwM,QAAQ,IAAE1M,CAAC,IAAE,IAAI,CAACwM,iBAAiB,CAACjN,CAAC,EAACF,CAAC,EAACS,CAAC,GAAC,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC;IAAA;EAAC;EAACyM,aAAaA,CAACtN,CAAC,EAAC;IAAC,IAAG,KAAK,KAAG,IAAI,CAAC8C,WAAW,EAAC,OAAM,CAAC,CAAC;IAAC,MAAM1C,CAAC,GAAC,IAAI,CAACqK,gBAAgB,CAACzK,CAAC,CAAC;IAAC,IAAGE,CAAC,CAACE,CAAC,CAAC,EAAC,OAAM,CAAC,CAAC;IAAC,IAAG,QAAQ,KAAG,IAAI,CAAC0C,WAAW,EAAC,OAAM,CAAC,CAAC;IAAC,IAAG8J,CAAC,CAACxM,CAAC,CAACmC,SAAS,EAAC,IAAI,CAACqC,QAAQ,CAAC,EAAC,OAAOqI,CAAC,CAAC7M,CAAC,CAACmC,SAAS,CAAC;IAAC,MAAMlC,CAAC,GAAC;MAAC+M,KAAK,EAAC,CAAC;MAACC,QAAQ,EAAC;IAAC,CAAC;IAAC,IAAI,CAACF,iBAAiB,CAACnN,CAAC,EAACI,CAAC,EAAC,CAAC,EAAC,CAAC,EAACC,CAAC,CAAC;IAAC,MAAME,CAAC,GAACF,CAAC,CAAC+M,KAAK,GAAC/M,CAAC,CAACgN,QAAQ,IAAE,EAAE;IAAC,OAAOjN,CAAC,CAACmC,SAAS,GAACyK,CAAC,CAACzM,CAAC,EAAC,IAAI,CAACqE,QAAQ,CAAC,EAACrE,CAAC;EAAA;EAAC,IAAIgN,QAAQA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACxI,SAAS;EAAA;EAAC,IAAIyI,KAAKA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACjK,MAAM;EAAA;EAACkK,OAAOA,CAAA,EAAE;IAAC,IAAI,CAAClI,QAAQ,CAACqC,GAAG,CAAC8F,KAAK,EAAE,EAAC,IAAI,CAACnI,QAAQ,CAACoI,MAAM,CAACD,KAAK,EAAE;EAAA;EAACE,aAAaA,CAAA,EAAE;IAAC,IAAI,CAACrK,MAAM,GAAC,CAAC,CAAC,EAAC,IAAI,CAACa,aAAa,GAAC,CAAC,EAAC,IAAI,CAACQ,QAAQ,GAACC,CAAC,CAAC,IAAI,CAACD,QAAQ,CAAC;EAAA;EAACiJ,sBAAsBA,CAAC3N,CAAC,EAAC;IAAC,IAAI,CAAC4F,qBAAqB,GAAC5F,CAAC,EAAC,IAAI,CAACoL,YAAY,CAAEwC,IAAA,IAAY;MAAA,IAAX;QAACxL,IAAI,EAACpC;MAAC,CAAC,GAAA4N,IAAA;MAAI9N,CAAC,CAACE,CAAC,CAAC,KAAGA,CAAC,CAAC6M,oBAAoB,GAACzL,CAAC,CAACmB,UAAU,EAACvC,CAAC,CAAC2J,aAAa,GAAC,IAAI,CAACxG,qBAAqB,CAACnD,CAAC,CAAC,EAACA,CAAC,CAAC6N,gBAAgB,IAAE,IAAI,CAAC1B,4BAA4B,CAACnM,CAAC,CAACwI,KAAK,CAAC,CAAC;IAAA,CAAC,CAAE,EAAC,IAAI,CAACmD,yBAAyB,EAAE;EAAA;EAACmC,kBAAkBA,CAAC9N,CAAC,EAAC;IAAC,IAAI,CAAC6F,eAAe,GAAC7F,CAAC,EAAC,IAAI,CAACoL,YAAY,CAAEpL,CAAC,IAAE;MAAC,IAAGF,CAAC,CAACE,CAAC,CAAC,EAAC;QAACA,CAAC,CAACsC,YAAY,GAACpB,CAAC,CAACqB,UAAU;QAAC,MAAMrC,CAAC,GAACF,CAAC,CAACoC,IAAI;QAACtC,CAAC,CAACI,CAAC,CAAC,IAAE,IAAI,CAAC0L,6BAA6B,CAAC1L,CAAC,CAACsI,KAAK,CAAC;MAAA;IAAC,CAAC,CAAE,EAAC,IAAI,CAACmD,yBAAyB,EAAE;EAAA;EAAC8B,MAAMA,CAACtN,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAG,CAAC,IAAI,CAAC8C,MAAM,EAAC;IAAO,IAAI,CAACqC,UAAU,CAACyC,MAAM,GAAC,CAAC,IAAE,IAAI,CAACD,eAAe,CAAC7H,CAAC,CAAC,EAAC,IAAI,CAAC8D,gBAAgB,GAACC,MAAM,CAACC,iBAAiB,EAAC,IAAI,CAACC,kBAAkB,GAACF,MAAM,CAACC,iBAAiB,EAAC,IAAI,CAACa,QAAQ,CAAC6I,KAAK,EAAE,EAAC,IAAI,CAAC3I,SAAS,CAAC2I,KAAK,EAAE,EAAC,IAAI,CAAC1I,QAAQ,CAAC2I,KAAK,CAAC7N,CAAC,CAAC,EAAC8N,CAAC,CAACF,KAAK,EAAE;IAAC,IAAItN,CAAC,GAAC,CAAC,CAAC;IAAC,MAAME,CAAC,GAAC,IAAIuN,CAAC;MAACrN,CAAC,GAAC,IAAIqN,CAAC;MAAC5N,CAAC,GAAC,IAAI,CAACiF,4BAA4B;IAACjF,CAAC,CAACyN,KAAK,EAAE;IAAC,MAAM/M,CAAC,GAAC,IAAI+C,GAAG;MAAC7C,CAAC,GAACA,CAACA,CAAC,EAACI,CAAC,EAACE,CAAC,KAAG;QAAC,IAAGxB,CAAC,CAACsB,CAAC,CAAC,EAAC;UAAC,IAAIxB,CAAC,GAAC,IAAI,CAACqO,cAAc,CAACjN,CAAC,CAAC;UAACpB,CAAC,KAAG,CAAC,GAAC,CAAC,KAAGA,CAAC,GAAC,IAAI,CAACqO,cAAc,CAAC3M,CAAC,CAAC,CAAC;UAAC,MAAMxB,CAAC,GAAC6G,CAAC,CAAC3F,CAAC,EAAC,IAAI,CAACsC,aAAa,CAAC;UAAC,OAAOyK,CAAC,CAACG,GAAG,CAACpO,CAAC,EAACqK,IAAI,CAACC,GAAG,CAACxK,CAAC,EAACmO,CAAC,CAACI,GAAG,CAACrO,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC,EAAC,IAAI,CAAC8D,QAAQ,CAACwK,GAAG,CAACtO,CAAC,CAAC,IAAE,IAAI,CAACiE,YAAY,CAACqK,GAAG,CAACtO,CAAC,CAAC,IAAE,IAAI,CAACkF,QAAQ,CAAC8B,IAAI,CAAChH,CAAC,CAAC,EAAC,MAAK,IAAI,CAACsE,kBAAkB,GAAC+F,IAAI,CAACC,GAAG,CAAC,IAAI,CAAChG,kBAAkB,EAACxE,CAAC,CAAC,CAAC;QAAA;QAAC,MAAM4B,CAAC,GAACJ,CAAC,CAACc,IAAI;QAAC,IAAG,IAAI,CAACmM,0BAA0B,CAAC7M,CAAC,EAACb,CAAC,CAAC,EAACb,CAAC,CAAC0B,CAAC,CAAC,EAAC;UAAC,MAAM5B,CAAC,GAAC,IAAI,CAACqO,cAAc,CAACjN,CAAC,CAAC;UAAC,OAAO,IAAI,CAAC4C,QAAQ,CAACwK,GAAG,CAACpN,CAAC,CAAC,IAAE,IAAI,CAAC8C,YAAY,CAACsK,GAAG,CAACpN,CAAC,CAAC,KAAG,IAAI,CAACgE,QAAQ,CAAC8B,IAAI,CAAC9F,CAAC,CAAC,EAAC+M,CAAC,CAACG,GAAG,CAAClN,CAAC,EAACpB,CAAC,CAAC,CAAC,EAAC,MAAK,IAAI,CAACwE,kBAAkB,GAAC+F,IAAI,CAACC,GAAG,CAAC,IAAI,CAAChG,kBAAkB,EAACxE,CAAC,CAAC,CAAC;QAAA;QAAC,MAAM8B,CAAC,GAAC1B,CAAC,CAAC,IAAI,CAAC6J,QAAQ,CAAC7I,CAAC,CAAC,CAAC;QAAC,IAAG,CAAC,KAAG,IAAI,CAACgE,QAAQ,CAACiD,MAAM,IAAE,CAAC,KAAG,IAAI,CAAC3E,aAAa,EAAC,KAAI,IAAIxD,CAAC,GAAC,CAAC,EAACA,CAAC,GAACsB,CAAC,CAACW,UAAU,EAACjC,CAAC,EAAE,EAAC;UAAC,MAAME,CAAC,GAAC0B,CAAC,CAACsF,QAAQ,CAAC5F,CAAC,CAACU,WAAW,GAAChC,CAAC,CAAC;YAACG,CAAC,GAAC,IAAI,CAACoK,gBAAgB,CAACrK,CAAC,CAAC;UAAC,CAACJ,CAAC,CAACK,CAAC,CAAC,IAAEA,CAAC,CAACiC,IAAI,IAAE,IAAI,CAAC0B,QAAQ,CAACwK,GAAG,CAACpO,CAAC,CAAC,IAAE,IAAI,CAAC8D,YAAY,CAACsK,GAAG,CAACpO,CAAC,CAAC,KAAG+N,CAAC,CAACG,GAAG,CAAClO,CAAC,EAAC,IAAI,CAACiO,cAAc,CAACjO,CAAC,CAAC,CAAC,EAAC,IAAI,CAACkF,SAAS,CAAC4B,IAAI,CAAC9G,CAAC,CAAC,CAAC;QAAA;QAAC,IAAGwB,CAAC,CAAC8M,MAAM,IAAE,CAAC9M,CAAC,CAACoJ,SAAS,CAAC7B,cAAc,EAAC,OAAO,MAAKxI,CAAC,IAAEa,CAAC,CAACW,UAAU,GAAC,CAAC,IAAE,IAAI,CAACc,WAAW,CAACrB,CAAC,CAAC,KAAGjB,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC;QAAC,IAAGO,CAAC,CAAC0G,GAAG,CAAChG,CAAC,CAAC4F,EAAE,CAAC,EAAC,IAAI,CAACzE,SAAS,CAAC3B,CAAC,CAAC,EAAC;UAAC,IAAGP,CAAC,CAAC8N,KAAK,IAAE/M,CAAC,CAACgN,MAAM,EAAC,EAAE/N,CAAC,CAACgO,UAAU,EAAC,IAAI,CAAC5L,WAAW,CAACrB,CAAC,CAAC,GAACJ,CAAC,CAACW,UAAU,GAAC,CAAC,KAAGxB,CAAC,GAAC,CAAC,CAAC,CAAC,IAAEE,CAAC,CAACiO,SAAS,IAAElN,CAAC,CAACgN,MAAM,EAACjO,CAAC,GAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACwC,YAAY,CAACvB,CAAC,CAAC,EAAC;YAAC,MAAM5B,CAAC,GAAC,IAAI,CAACqO,cAAc,CAACjN,CAAC,CAAC;YAAC+M,CAAC,CAACG,GAAG,CAAClN,CAAC,EAACpB,CAAC,CAAC,EAAC,IAAI,CAACwE,kBAAkB,GAAC+F,IAAI,CAACC,GAAG,CAAC,IAAI,CAAChG,kBAAkB,EAACxE,CAAC,CAAC,EAAC,IAAI,CAACuF,QAAQ,CAACoI,MAAM,CAACzG,IAAI,CAAC9F,CAAC,CAAC;UAAA;UAAC;QAAM;QAAC,IAAGQ,CAAC,CAACgN,MAAM,KAAG/N,CAAC,CAAC8N,KAAK,IAAE/M,CAAC,CAACgN,MAAM,EAAC,EAAE/N,CAAC,CAACgO,UAAU,CAAC,EAAC,CAAC,IAAI,CAAC5L,WAAW,CAACrB,CAAC,CAAC,EAAC,OAAO,MAAK,IAAI,CAACoB,YAAY,CAAC5B,CAAC,CAAC,IAAE,IAAI,CAACmE,QAAQ,CAACwJ,MAAM,CAAC7H,IAAI,CAAC9F,CAAC,CAAC,CAAC;QAAC,IAAGI,CAAC,CAACW,UAAU,GAAC,CAAC,KAAGxB,CAAC,GAAC,CAAC,CAAC,CAAC,EAACiB,CAAC,CAACgN,MAAM,IAAE/N,CAAC,CAACmO,OAAO,IAAEpN,CAAC,CAACgN,MAAM,EAAC/N,CAAC,CAAC8N,KAAK,IAAE/M,CAAC,CAACgN,MAAM,EAAC,EAAE/N,CAAC,CAACgO,UAAU,IAAE,EAAEhO,CAAC,CAACoO,YAAY,EAAC5O,CAAC,CAAC6O,QAAQ,CAACtN,CAAC,CAAC8G,KAAK,CAAC,EAAC,OAAO,IAAI,CAAClE,kBAAkB,GAAC+F,IAAI,CAACC,GAAG,CAAC,IAAI,CAAChG,kBAAkB,EAAC,IAAI,CAAC6J,cAAc,CAACjN,CAAC,CAAC,CAAC,EAAC,MAAK,IAAI,CAACmE,QAAQ,CAAC4J,MAAM,GAAC,IAAI,CAAC5J,QAAQ,CAAC4J,MAAM,CAACC,MAAM,CAAEpP,CAAC,IAAEA,CAAC,KAAG4B,CAAC,CAAC8G,KAAK,CAAE,CAAC;QAAC,IAAG,CAACnI,CAAC,CAAC+H,IAAI,IAAE,IAAI,CAACpF,OAAO,CAACtB,CAAC,CAAC,EAAC,OAAO,KAAKrB,CAAC,CAACiI,YAAY,EAAE;QAAC,MAAMxG,CAAC,GAAC,IAAI,CAACqM,cAAc,CAACjN,CAAC,CAAC;QAAC+M,CAAC,CAACG,GAAG,CAAClN,CAAC,EAACY,CAAC,CAAC,EAAC,IAAI,CAACwC,kBAAkB,GAAC+F,IAAI,CAACC,GAAG,CAAC,IAAI,CAAChG,kBAAkB,EAACxC,CAAC,CAAC,EAAC,IAAI,CAACuD,QAAQ,CAACqC,GAAG,CAACV,IAAI,CAAC9F,CAAC,CAAC,EAAC,IAAI,CAAC0E,qBAAqB,IAAErF,CAAC,IAAET,CAAC,CAAC4B,CAAC,CAAC,IAAEA,CAAC,CAACmL,oBAAoB,KAAGzL,CAAC,CAACmB,UAAU,IAAEjC,CAAC,CAAC0G,IAAI,CAAC9F,CAAC,CAAC;MAAA,CAAC;IAAC,IAAI,CAACiO,eAAe,CAACjO,CAAC,CAAC;IAAC,MAAMI,CAAC,GAAC,IAAI,CAAC+D,QAAQ,CAACqC,GAAG;IAACpG,CAAC,CAAC6G,MAAM,GAAC,CAAC,IAAE,IAAI,CAACvC,qBAAqB,KAAGtF,CAAC,CAAC6H,MAAM,GAAC,CAAC,IAAE5H,CAAC,GAAGD,CAAC,CAAC,EAACgB,CAAC,CAAC8N,aAAa,CAAEtP,CAAC,IAAE;MAAC,MAAMI,CAAC,GAAC,IAAI,CAACqK,gBAAgB,CAACzK,CAAC,CAAC;QAACK,CAAC,GAACH,CAAC,CAACE,CAAC,CAAC,IAAEF,CAAC,CAACE,CAAC,CAACkC,IAAI,CAAC,IAAElC,CAAC,CAACkC,IAAI,CAACyK,oBAAoB,KAAGzL,CAAC,CAACwL,MAAM;MAAC,OAAOzM,CAAC,IAAE,IAAI,CAACyL,6BAA6B,CAAC9L,CAAC,CAAC,EAACK,CAAC;IAAA,CAAC,CAAE,CAAC,EAAC,IAAI,CAAC8E,uBAAuB,GAACtE,CAAC,CAACmO,OAAO,GAACnO,CAAC,CAACiO,SAAS,EAACjO,CAAC,CAACgO,UAAU,GAAC,CAAC,IAAEhO,CAAC,CAACoO,YAAY,GAAC,CAAC,KAAG,IAAI,CAAC9J,uBAAuB,IAAEtE,CAAC,CAAC8N,KAAK,GAAC9N,CAAC,CAACgO,UAAU,GAAChO,CAAC,CAACoO,YAAY,CAAC,EAAC,IAAI,CAAC9J,uBAAuB,GAAC,EAAE,GAACoF,IAAI,CAACC,GAAG,CAAC,CAAC,EAAC,IAAI,CAACrF,uBAAuB,CAAC,EAAC,IAAI,CAACH,gBAAgB,CAACC,QAAQ,GAAC,IAAI,CAACsK,uBAAuB,CAACxO,CAAC,CAAC,EAAC,IAAI,CAACiE,gBAAgB,CAACE,aAAa,GAACvE,CAAC,EAAC,IAAI,CAACyE,QAAQ,CAACoK,IAAI,CAAE,CAACxP,CAAC,EAACE,CAAC,KAAGF,CAAC,GAACE,CAAC,CAAE,EAAC,IAAI,CAACkF,QAAQ,CAACkK,aAAa,CAAE,CAACtP,CAAC,EAACE,CAAC,KAAGA,CAAC,GAAC,CAAC,IAAE,IAAI,CAACkF,QAAQ,CAACqK,IAAI,CAACvP,CAAC,GAAC,CAAC,CAAC,KAAGF,CAAC,CAAE,EAAC,IAAI,CAACoF,QAAQ,CAACoK,IAAI,CAAE,CAACxP,CAAC,EAACE,CAAC,KAAGiO,CAAC,CAACI,GAAG,CAACvO,CAAC,CAAC,GAACmO,CAAC,CAACI,GAAG,CAACrO,CAAC,CAAC,CAAE,EAAC,IAAI,CAACkF,QAAQ,CAACiD,MAAM,GAAC,CAAC,KAAG,IAAI,CAAChE,gBAAgB,GAAC8J,CAAC,CAACI,GAAG,CAAC,IAAI,CAACnJ,QAAQ,CAACsK,IAAI,EAAE,CAAC,EAAC,IAAI,CAACpK,SAAS,CAAC2I,KAAK,EAAE,CAAC,EAAC,IAAI,CAAC1I,QAAQ,CAACqC,GAAG,CAAC0H,aAAa,CAAEtP,CAAC,IAAEmO,CAAC,CAACI,GAAG,CAACvO,CAAC,CAAC,IAAE,IAAI,CAACqE,gBAAgB,CAAE,CAACmL,IAAI,CAAE,CAACxP,CAAC,EAACE,CAAC,KAAGiO,CAAC,CAACI,GAAG,CAACvO,CAAC,CAAC,GAACmO,CAAC,CAACI,GAAG,CAACrO,CAAC,CAAC,CAAE,EAAC,IAAI,CAACqF,QAAQ,CAACoI,MAAM,CAAC6B,IAAI,CAAE,CAACxP,CAAC,EAACE,CAAC,KAAGiO,CAAC,CAACI,GAAG,CAACvO,CAAC,CAAC,GAACmO,CAAC,CAACI,GAAG,CAACrO,CAAC,CAAC,CAAE,EAAC,IAAI,CAACkE,aAAa,GAAC,IAAI,CAACJ,QAAQ,CAAC0H,IAAI,GAAC,IAAI,CAACtG,QAAQ,CAACiD,MAAM,EAAC,IAAI,CAAC9E,MAAM,GAAC,IAAI,CAACa,aAAa,GAAC,CAAC,EAAC+J,CAAC,CAACF,KAAK,EAAE;EAAA;EAAC0B,kBAAkBA,CAAC3P,CAAC,EAACE,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACwC,gBAAgB,CAACgN,0BAA0B,CAAC1P,CAAC,CAAC;IAAC,IAAIG,CAAC,GAACH,CAAC;MAACK,CAAC,GAACL,CAAC;MAACO,CAAC,GAACL,CAAC;MAACO,CAAC,GAAC,EAAE;IAAC,OAAKA,CAAC,EAAE,GAAE;MAAC,MAAMP,CAAC,GAAC,IAAIgO,CAAC;MAAC,IAAI,CAACyB,sBAAsB,CAACxP,CAAC,EAACD,CAAC,CAAC;MAAC,IAAG,IAAI,CAACmP,uBAAuB,CAACnP,CAAC,CAAC,IAAEJ,CAAC,EAAC;QAAC,IAAGK,CAAC,IAAEH,CAAC,IAAEE,CAAC,CAAC6O,YAAY,GAAC,CAAC,IAAE,CAAC,KAAGtO,CAAC,EAAC;QAAMF,CAAC,GAACJ,CAAC,EAACA,CAAC,GAAC,EAAE,IAAEA,CAAC,GAACE,CAAC,CAAC;MAAA,CAAC,MAAKA,CAAC,GAACF,CAAC,EAACA,CAAC,GAAC,EAAE,IAAEA,CAAC,GAACI,CAAC,CAAC;IAAA;IAAC,OAAO,IAAI,CAACmE,QAAQ,GAACC,CAAC,CAAC,IAAI,CAACD,QAAQ,CAAC,EAAC,IAAI,CAAChC,gBAAgB,CAACgN,0BAA0B,CAACxP,CAAC,CAAC,EAACmK,IAAI,CAACkC,GAAG,CAACvM,CAAC,EAACG,CAAC,CAAC;EAAA;EAACwP,sBAAsBA,CAAC3P,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACwE,QAAQ,GAACC,CAAC,CAAC,IAAI,CAACD,QAAQ,CAAC,EAAC,IAAI,CAAChC,gBAAgB,CAACgN,0BAA0B,CAAC1P,CAAC,CAAC,EAAC,IAAI,CAACmP,eAAe,CAAE,CAACnP,CAAC,EAACG,CAAC,KAAG,IAAI,CAACoO,0BAA0B,CAACzO,CAAC,CAACK,CAAC,CAAC,GAACA,CAAC,CAACiC,IAAI,GAAC,KAAK,CAAC,EAAClC,CAAC,CAAC,CAAE;EAAA;EAACqO,0BAA0BA,CAACrO,CAAC,EAACC,CAAC,EAAC;IAAC,IAAG,EAAEH,CAAC,CAACE,CAAC,CAAC,IAAEA,CAAC,CAACsO,MAAM,IAAExO,CAAC,CAACE,CAAC,CAAC8K,WAAW,CAAC,CAAC,EAAC,OAAO,IAAI,CAACnI,SAAS,CAAC3C,CAAC,CAACsI,KAAK,CAAC,IAAErI,CAAC,CAACsO,KAAK,IAAEvO,CAAC,CAAC8K,WAAW,EAAC,EAAE7K,CAAC,CAACwO,UAAU,EAAC,MAAK,IAAI,CAAC5L,WAAW,CAAC7C,CAAC,CAAC,KAAGC,CAAC,CAACyO,SAAS,IAAE1O,CAAC,CAAC8K,WAAW,CAAC,CAAC,IAAE,MAAK,IAAI,CAACjI,WAAW,CAAC7C,CAAC,CAAC,KAAGJ,CAAC,CAACI,CAAC,CAAC8K,WAAW,CAAC,IAAE7K,CAAC,CAAC2O,OAAO,IAAE5O,CAAC,CAAC8K,WAAW,EAAC7K,CAAC,CAACsO,KAAK,IAAEvO,CAAC,CAAC8K,WAAW,EAAC,EAAE7K,CAAC,CAACwO,UAAU,IAAE,EAAExO,CAAC,CAAC4O,YAAY,CAAC,CAAC;EAAA;EAACM,uBAAuBA,CAACvP,CAAC,EAAC;IAAC,IAAIE,CAAC,GAACF,CAAC,CAAC2O,KAAK,GAAC3O,CAAC,CAAC8O,SAAS;IAAC,OAAO9O,CAAC,CAAC6O,UAAU,GAAC,CAAC,IAAE7O,CAAC,CAACiP,YAAY,GAAC,CAAC,KAAG/O,CAAC,IAAEF,CAAC,CAAC2O,KAAK,GAAC3O,CAAC,CAAC6O,UAAU,GAAC7O,CAAC,CAACiP,YAAY,CAAC,EAAC1E,IAAI,CAACC,GAAG,CAAC,CAAC,EAACtK,CAAC,CAAC;EAAA;EAAC4P,IAAIA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACC,KAAK,CAAC,IAAI,CAAC3K,QAAQ,CAAC;EAAA;EAAC4K,QAAQA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAC1K,SAAS,CAACkK,IAAI,CAAE,CAACxP,CAAC,EAACE,CAAC,KAAGiO,CAAC,CAACI,GAAG,CAACvO,CAAC,CAAC,GAACmO,CAAC,CAACI,GAAG,CAACrO,CAAC,CAAC,CAAE,EAAC,IAAI,CAAC6P,KAAK,CAAC,IAAI,CAACzK,SAAS,CAAC;EAAA;EAACyK,KAAKA,CAAC/P,CAAC,EAAC;IAAC,IAAG,CAAC,KAAGA,CAAC,CAACqI,MAAM,IAAE,CAAC,IAAI,CAACjF,WAAW,EAAE,EAAC,OAAM,CAAC,CAAC;IAAC,OAAKpD,CAAC,CAACqI,MAAM,GAAC,CAAC,IAAE,IAAI,CAACjF,WAAW,EAAE,GAAE,CAAC,KAAG,IAAI,CAACM,aAAa,GAAC,IAAI,CAACuM,SAAS,CAACjQ,CAAC,CAACoK,GAAG,EAAE,CAAC,GAAC,IAAI,CAACzC,SAAS,CAAC3H,CAAC,CAACoK,GAAG,EAAE,CAAC;IAAC,OAAM,CAAC,CAAC;EAAA;EAAC,IAAI8F,SAASA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAC9L,aAAa,GAAC,CAAC;EAAA;EAAC,IAAI+L,aAAaA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAC7K,SAAS,CAAC+C,MAAM,GAAC,CAAC;EAAA;EAAC,IAAI+H,YAAYA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACpM,QAAQ,CAAC0H,IAAI;EAAA;EAAC,IAAI2E,YAAYA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACjM,aAAa;EAAA;EAAC,IAAIkM,sBAAsBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACnL,uBAAuB;EAAA;EAAC,IAAIoL,OAAOA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAChL,QAAQ;EAAA;EAAC,IAAIiL,eAAeA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACxL,gBAAgB;EAAA;EAAC,IAAIyL,WAAWA,CAAA,EAAE;IAAC,OAAOlG,IAAI,CAACC,GAAG,CAAC,IAAI,CAAChG,kBAAkB,EAAC,IAAI,CAACH,gBAAgB,CAAC;EAAA;EAACqM,kBAAkBA,CAAC1Q,CAAC,EAAC;IAAC,IAAGE,CAAC,CAACF,CAAC,CAAC,EAAC,OAAO,IAAI;IAAC,IAAII,CAAC,GAAC,IAAI,CAACsE,mBAAmB,CAAC6J,GAAG,CAACvO,CAAC,CAAC0I,KAAK,CAAC;IAAC,IAAGtI,CAAC,IAAEwM,CAAC,CAACxM,CAAC,CAAC6K,OAAO,EAAC,IAAI,CAACrG,QAAQ,CAAC,EAAC,OAAOxE,CAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACuC,gBAAgB,CAAC+N,WAAW,CAAC3Q,CAAC,CAAC;MAACO,CAAC,GAAC,IAAI,CAACqC,gBAAgB,CAACgO,MAAM,CAAC5Q,CAAC,CAAC;IAAC,IAAIS,CAAC,GAAC,CAAC,CAAC;IAAC,IAAGF,CAAC,EAAC;MAAC,MAAML,CAAC,GAAC,IAAI,CAACsL,cAAc,CAACxL,CAAC,CAAC0I,KAAK,CAAC;MAAC,IAAGxI,CAAC,IAAE,CAAC,EAAC;QAAC,MAAMF,CAAC,GAAC,IAAI,CAAC0E,mBAAmB,CAAC6J,GAAG,CAACrO,CAAC,CAAC;QAACO,CAAC,GAAC,CAAC,CAACT,CAAC,IAAEK,CAAC,GAACL,CAAC,CAAC6Q,QAAQ;MAAA,CAAC,MAAKpQ,CAAC,GAACJ,CAAC,GAAC,CAAC;IAAA,CAAC,MAAKI,CAAC,GAAC,CAAC,KAAGT,CAAC,CAACmC,UAAU;IAAC,OAAO/B,CAAC,IAAEA,CAAC,CAACyQ,QAAQ,GAACxQ,CAAC,EAACD,CAAC,CAAC0Q,QAAQ,GAACrQ,CAAC,EAACL,CAAC,CAAC6K,OAAO,GAAC+B,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACpI,QAAQ,CAAC,EAACxE,CAAC,KAAGA,CAAC,GAAC,IAAIoB,CAAC,CAACjB,CAAC,EAACE,CAAC,EAACJ,CAAC,EAAC2M,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACpI,QAAQ,CAAC,CAAC,EAAC,IAAI,CAACF,mBAAmB,CAAC4J,GAAG,CAACtO,CAAC,CAAC0I,KAAK,EAACtI,CAAC,CAAC,EAACA,CAAC,CAAC;EAAA;EAAC6P,SAASA,CAACjQ,CAAC,EAAC;IAAC,IAAI,CAACgE,QAAQ,CAAC4D,GAAG,CAAC5H,CAAC,CAAC;IAAC,MAAMK,CAAC,GAACD,CAAC,CAAC,IAAI,CAACqK,gBAAgB,CAACzK,CAAC,CAAC,CAAC,CAACqC,GAAG;IAAC,IAAGnC,CAAC,CAACG,CAAC,CAAC,EAAC,OAAO,KAAK,IAAI,CAAC6D,YAAY,CAAC0D,GAAG,CAAC5H,CAAC,CAAC;IAAC,MAAMS,CAAC,GAACJ,CAAC,CAACmH,EAAE;MAAC7G,CAAC,GAAC,IAAI,CAACoD,UAAU,GAACtD,CAAC;MAACI,CAAC,GAACA,CAAA,KAAI;QAAC,IAAI,CAACmD,QAAQ,CAACkE,MAAM,CAAClI,CAAC,CAAC,EAAC,CAAC,KAAG,IAAI,CAACoF,QAAQ,CAACiD,MAAM,IAAE,CAAC,KAAG,IAAI,CAACrE,QAAQ,CAAC0H,IAAI,IAAE,IAAI,CAACkC,aAAa,EAAE;MAAA,CAAC;IAAC,IAAI,CAACjL,qBAAqB,CAACkF,OAAO,CAAClH,CAAC,EAAC,MAAM,CAAC,CAACmH,IAAI,CAAE5H,CAAC,IAAE;MAACW,CAAC,EAAE;MAAC,MAAMT,CAAC,GAAC,IAAI,CAACqH,aAAa,CAAChH,CAAC,EAACP,CAAC,CAAC;MAAC,IAAG,IAAI,IAAEE,CAAC,EAAC;MAAOA,CAAC,CAACuI,GAAG,IAAE,IAAI,CAACmD,6BAA6B,CAAC9L,CAAC,CAAC;MAAC,MAAMK,CAAC,GAAC,IAAI,CAACqH,QAAQ,CAACtH,CAAC,EAACJ,CAAC,CAAC;MAAC,IAAI,CAAC0Q,kBAAkB,CAACrQ,CAAC,CAAC;IAAA,CAAC,EAAGH,CAAC,IAAE;MAACW,CAAC,EAAE,EAACN,CAAC,CAACL,CAAC,CAAC,KAAG,IAAI,CAAC2C,OAAO,CAACsF,KAAK,CAAC,aAAa,EAAC,IAAI,CAACnC,SAAS,EAAC,sBAAsB,GAACrF,CAAC,CAAC,EAAC,IAAI,CAACuD,YAAY,CAAC0D,GAAG,CAAC5H,CAAC,CAAC,CAAC;IAAA,CAAC,CAAE;EAAA;EAACyH,aAAaA,CAACzH,CAAC,EAACE,CAAC,EAAC;IAAC,IAAG,IAAI,IAAEA,CAAC,IAAE,QAAQ,IAAE,OAAOA,CAAC,IAAEA,CAAC,CAACsH,EAAE,KAAGxH,CAAC,EAAC,OAAO,IAAI,CAAC6C,OAAO,CAACsF,KAAK,CAAC,iBAAiB,EAAC,IAAI,CAACnC,SAAS,EAAE,yCAAwChG,CAAE,GAAE,CAAC,EAAC,IAAI;IAAC,IAAG,CAACgK,KAAK,CAAC+G,OAAO,CAAC7Q,CAAC,CAAC6K,GAAG,CAAC,EAAC,OAAO,IAAI,CAAClI,OAAO,CAACsF,KAAK,CAAC,iBAAiB,EAAC,IAAI,CAACnC,SAAS,EAAE,mCAAkChG,CAAE,GAAE,CAAC,EAAC,IAAI;IAACE,CAAC,CAAC8Q,cAAc,IAAE,UAAU,KAAG9Q,CAAC,CAAC8Q,cAAc,CAACC,IAAI,IAAE,WAAW,KAAG/Q,CAAC,CAAC8Q,cAAc,CAACC,IAAI,IAAE,IAAI,CAACpO,OAAO,CAACqO,IAAI,CAAC,iBAAiB,EAAC,IAAI,CAAClL,SAAS,EAAE,yCAAwChG,CAAE,GAAE,CAAC,EAAC,IAAI,IAAEE,CAAC,CAACiR,YAAY,IAAEnH,KAAK,CAAC+G,OAAO,CAAC7Q,CAAC,CAACiR,YAAY,CAAC,IAAE,CAAC,KAAGjR,CAAC,CAACiR,YAAY,CAAC9I,MAAM,IAAE,gBAAgB,KAAGnI,CAAC,CAACiR,YAAY,CAAC,CAAC,CAAC,CAACF,IAAI,IAAE,IAAI,CAACpO,OAAO,CAACqO,IAAI,CAAC,iBAAiB,EAAC,IAAI,CAAClL,SAAS,EAAE,kCAAiChG,CAAE,GAAE,CAAC,EAAC,IAAI,IAAEE,CAAC,CAACkR,aAAa,IAAEpH,KAAK,CAAC+G,OAAO,CAAC7Q,CAAC,CAACkR,aAAa,CAAC,IAAE,CAAClR,CAAC,CAACkR,aAAa,CAACC,IAAI,CAAE,CAACrR,CAAC,EAACE,CAAC,KAAGF,CAAC,CAACiR,IAAI,KAAI,kBAAiB/Q,CAAE,IAAG,CAAE,IAAE,IAAI,CAAC2C,OAAO,CAACqO,IAAI,CAAC,iBAAiB,EAAC,IAAI,CAAClL,SAAS,EAAE,mCAAkChG,CAAE,GAAE,CAAC,EAACE,CAAC,CAACoR,WAAW,IAAEpR,CAAC,CAACoR,WAAW,CAACjJ,MAAM,GAAC,CAAC,IAAE,IAAI,CAACxF,OAAO,CAACqO,IAAI,CAAC,iBAAiB,EAAC,IAAI,CAAClL,SAAS,EAAE,QAAOhG,CAAE,QAAOE,CAAC,CAACoR,WAAW,CAACjJ,MAAO,iDAAgD,CAAC;IAAC,MAAMjI,CAAC,GAACF,CAAC,CAACqR,cAAc,CAAC,KAAK,CAAC,IAAE,CAAC,IAAI,CAAC7L,gBAAgB,GAACxF,CAAC,CAACyI,GAAG,GAAC,IAAI;MAACtI,CAAC,GAACH,CAAC,CAACoR,WAAW,IAAE,CAAC,KAAGpR,CAAC,CAACoR,WAAW,CAACjJ,MAAM,IAAEnI,CAAC,CAACoR,WAAW,CAAC,CAAC,CAAC,CAACE,YAAY,GAACtR,CAAC,CAACoR,WAAW,CAAC,CAAC,CAAC,CAACE,YAAY,CAAC,CAAC,CAAC,GAACtR,CAAC,CAACoR,WAAW,CAAC,CAAC,CAAC,CAACE,YAAY,CAAC,CAAC,CAAC,GAAC,CAAC,GAAC,KAAK,CAAC;MAACjR,CAAC,GAACL,CAAC,IAAE;QAAC,IAAG,IAAI,IAAEA,CAAC,EAAC,OAAO,IAAI;QAAC,MAAME,CAAC,GAACF,CAAC,IAAE,IAAI,CAAC2C,OAAO,CAACsF,KAAK,CAAC,iBAAiB,EAAC,IAAI,CAACnC,SAAS,EAAE,kCAAiChG,CAAE,KAAIE,CAAE,EAAC,CAAC;QAAC,IAAG,QAAQ,IAAE,OAAOA,CAAC,CAACsH,EAAE,EAACpH,CAAC,CAAE,MAAKF,CAAC,CAACsH,EAAG,mCAAkC,CAAC,CAAC,KAAK,IAAG,QAAQ,IAAE,OAAOtH,CAAC,CAACsH,EAAE,IAAE,CAACwC,KAAK,CAAC+G,OAAO,CAAC7Q,CAAC,CAAC6K,GAAG,CAAC,EAAC,OAAO3K,CAAC,CAAC,wBAAwB,CAAC,EAAC,IAAI;QAAC,IAAG,CAAC4J,KAAK,CAAC+G,OAAO,CAAC7Q,CAAC,CAAC6K,GAAG,CAAC,EAAC,OAAO3K,CAAC,CAAE,wCAAuCF,CAAC,CAACsH,EAAG,GAAE,CAAC,EAAC,IAAI;QAACtH,CAAC,CAAC+Q,IAAI,IAAE/Q,CAAC,CAAC+Q,IAAI,KAAG,KAAK,GAAC/Q,CAAC,CAACsH,EAAE,IAAE,IAAI,CAAC3E,OAAO,CAACsF,KAAK,CAAC,iBAAiB,EAAC,IAAI,CAACnC,SAAS,EAAE,8BAA6BhG,CAAE,GAAE,CAAC;QAAC,MAAMK,CAAC,GAACH,CAAC,CAACqR,cAAc,CAAC,KAAK,CAAC,IAAE,CAAC,IAAI,CAAC7L,gBAAgB,GAACxF,CAAC,CAACyI,GAAG,GAAC,IAAI;UAACpI,CAAC,GAAC,IAAIQ,CAAC,CAAE,GAAEb,CAAC,CAACsH,EAAG,EAAC,EAACtH,CAAC,CAAC6K,GAAG,CAAC;QAAC,OAAOxK,CAAC,CAACqJ,UAAU,GAACvJ,CAAC,EAACE,CAAC,CAACsJ,aAAa,GAAC,IAAI,CAACxG,qBAAqB,CAAC9C,CAAC,CAAC,EAACA,CAAC;MAAA,CAAC;MAACE,CAAC,GAACuJ,KAAK,CAAC+G,OAAO,CAAC7Q,CAAC,CAACkH,QAAQ,CAAC,GAAClH,CAAC,CAACkH,QAAQ,CAACqB,GAAG,CAAClI,CAAC,CAAC,CAAC6O,MAAM,CAAEpP,CAAC,IAAE,IAAI,IAAEA,CAAC,CAAE,GAAC,IAAI;IAAC,OAAM;MAACwH,EAAE,EAACxH,CAAC;MAAC+K,GAAG,EAAC7K,CAAC,CAAC6K,GAAG;MAACpC,GAAG,EAACvI,CAAC;MAACgH,QAAQ,EAAC3G,CAAC;MAACuK,SAAS,EAAC;QAAC7B,cAAc,EAACjJ,CAAC,CAACoR,WAAW,IAAEpR,CAAC,CAACoR,WAAW,CAACjJ,MAAM,GAAC,CAAC;QAACa,iBAAiB,EAAC,IAAI,IAAEhJ,CAAC,CAAC8Q,cAAc;QAAC5H,UAAU,EAAClJ,CAAC,CAACkR,aAAa,GAACpR,CAAC,GAAC,KAAK,CAAC;QAACsJ,OAAO,EAACpJ,CAAC,CAACuR,WAAW,IAAEvR,CAAC,CAACuR,WAAW,CAACpJ,MAAM,GAAC,CAAC,GAACrI,CAAC,GAAC,KAAK,CAAC;QAACgJ,QAAQ,EAAC,IAAI,IAAE9I,CAAC,CAACiR,YAAY,GAACnR,CAAC,GAAC,KAAK;MAAC,CAAC;MAACiL,OAAO,EAAC,QAAQ,IAAE,OAAO/K,CAAC,CAAC+K,OAAO,GAAC/K,CAAC,CAAC+K,OAAO,GAAC,IAAI;MAACH,YAAY,EAACd,KAAK,CAAC+G,OAAO,CAAC7Q,CAAC,CAAC4K,YAAY,CAAC,GAAC5K,CAAC,CAAC4K,YAAY,GAAC,IAAI;MAACI,WAAW,EAAC7K;IAAC,CAAC;EAAA;EAACqR,gBAAgBA,CAAA,EAAE;IAAC,IAAI,CAACxN,YAAY,CAAC+J,KAAK,EAAE,EAAC,IAAI,CAAC9J,YAAY,CAAC8J,KAAK,EAAE,EAAC,IAAI,CAAC3C,YAAY,CAAEpL,CAAC,IAAE;MAACF,CAAC,CAACE,CAAC,CAACoC,IAAI,CAAC,KAAGpC,CAAC,CAACoC,IAAI,CAACoM,MAAM,GAAC,CAAC,CAAC,CAAC;IAAA,CAAC,CAAE;EAAA;EAACL,cAAcA,CAACjO,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACoK,gBAAgB,CAACrK,CAAC,CAAC;MAACG,CAAC,GAAC,IAAI,CAACiL,cAAc,CAACpL,CAAC,CAAC;IAAC,IAAGF,CAAC,CAACG,CAAC,CAAC,IAAEE,CAAC,GAAC,CAAC,IAAE,IAAI,IAAEF,CAAC,CAACiC,IAAI,EAAC,OAAO/B,CAAC,GAAC,CAAC,GAAC,CAAC,GAAC,CAAC,GAAC,IAAI,CAAC8N,cAAc,CAAC9N,CAAC,CAAC;IAAC,IAAIE,CAAC,GAAC,CAAC;IAAC,IAAGJ,CAAC,CAACiC,IAAI,IAAE/B,CAAC,IAAE,CAAC,EAAC;MAAC,MAAMP,CAAC,GAAC,IAAI,CAAC0E,mBAAmB,CAAC6J,GAAG,CAAChO,CAAC,CAAC;MAAC,IAAI,IAAEP,CAAC,KAAGS,CAAC,GAACT,CAAC,CAAC6Q,QAAQ,CAAC;IAAA;IAAC,IAAIlQ,CAAC,GAAC,IAAI,CAACgF,sBAAsB;IAAC,KAAI,IAAI3F,CAAC,GAACI,CAAC,EAACJ,CAAC,IAAE,CAAC,EAACA,CAAC,GAAC,IAAI,CAACwL,cAAc,CAACxL,CAAC,CAAC,EAAC,IAAG,IAAI,CAAC+C,SAAS,CAAC/C,CAAC,CAAC,EAAC;MAACW,CAAC,GAAC,CAAC;MAAC;IAAK;IAAC,MAAME,CAAC,GAACb,CAAC,CAACK,CAAC,CAACgC,GAAG,CAAC,GAAC,IAAI,CAACO,gBAAgB,CAAC+O,SAAS,CAACtR,CAAC,CAACgC,GAAG,CAAC,GAACrC,CAAC,CAACK,CAAC,CAACiC,IAAI,CAAC,GAAC,IAAI,CAACM,gBAAgB,CAAC+O,SAAS,CAACtR,CAAC,CAACiC,IAAI,CAAC,GAAC,CAAC;IAAC,OAAM,CAACzB,CAAC,GAACJ,CAAC,IAAEI,CAAC,GAAC,IAAI,CAAC8E,sBAAsB,CAAC,GAAChF,CAAC;EAAA;EAAC0O,eAAeA,CAACrP,CAAC,EAAC;IAAC,MAAMI,CAAC,GAAC,IAAI,CAACqK,gBAAgB,CAAC,IAAI,CAAC9G,UAAU,CAAC;IAACzD,CAAC,CAACE,CAAC,CAAC,GAACJ,CAAC,CAAC,IAAI,CAAC2D,UAAU,EAAC,IAAI,EAAC,IAAI,CAAC,GAAC,IAAI,CAACiO,gBAAgB,CAAC,IAAI,CAACjO,UAAU,EAAC,CAAC,CAAC,EAACvD,CAAC,EAACJ,CAAC,CAAC;EAAA;EAAC4R,gBAAgBA,CAAC1R,CAAC,EAACG,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAGF,CAAC,CAAC+B,IAAI,IAAE,CAAC,KAAG/B,CAAC,CAAC4B,UAAU,EAAC,OAAO,MAAK,IAAI,CAAC+K,iBAAiB,CAAChN,CAAC,CAAC,IAAEO,CAAC,CAACP,CAAC,EAACK,CAAC,EAACF,CAAC,CAAC,CAAC;IAAC,IAAG,CAAC,IAAI,CAACsM,aAAa,CAACzM,CAAC,CAAC,EAAC;IAAO,IAAGO,CAAC,CAACP,CAAC,EAACK,CAAC,EAACF,CAAC,CAAC,EAAC,IAAI,IAAEE,CAAC,CAAC+B,IAAI,EAAC;IAAO,MAAM3B,CAAC,GAAC,IAAI,CAAC+P,kBAAkB,CAACnQ,CAAC,CAAC+B,IAAI,CAAC;IAAC,IAAG3B,CAAC,EAAEkR,UAAU,IAAElR,CAAC,CAACkQ,QAAQ,KAAG,IAAI,CAACzK,YAAY,EAAC;IAAO,MAAMvF,CAAC,GAACT,CAAC,CAAC,IAAI,CAAC6J,QAAQ,CAAC/J,CAAC,CAAC,CAAC;IAAC,KAAI,IAAIE,CAAC,GAAC,CAAC,EAACA,CAAC,GAACG,CAAC,CAAC4B,UAAU,EAAC/B,CAAC,EAAE,EAAC;MAAC,MAAMC,CAAC,GAACQ,CAAC,CAACuG,QAAQ,CAAC7G,CAAC,CAAC2B,WAAW,GAAC9B,CAAC,CAAC;QAACO,CAAC,GAAC,IAAI,CAAC8J,gBAAgB,CAACpK,CAAC,CAAC;MAACL,CAAC,CAACW,CAAC,CAAC,GAAC,IAAI,CAACiR,gBAAgB,CAACvR,CAAC,EAACH,CAAC,EAACS,CAAC,EAACF,CAAC,CAAC,GAACA,CAAC,CAACJ,CAAC,EAAC,IAAI,EAACH,CAAC,CAAC;IAAA;EAAC;EAACqM,QAAQA,CAACvM,CAAC,EAACE,CAAC,EAAC;IAACA,CAAC,CAACF,CAAC,CAAC,IAAE,IAAI,CAAC8R,gBAAgB,CAAC9R,CAAC,EAACE,CAAC,CAAC;EAAA;EAAC4R,gBAAgBA,CAAC5R,CAAC,EAACE,CAAC,EAAC;IAAC,MAAMC,CAAC,GAACH,CAAC,CAACwI,KAAK;MAACnI,CAAC,GAAC,IAAI,CAACkK,gBAAgB,CAACpK,CAAC,CAAC;IAACL,CAAC,CAACO,CAAC,CAAC,IAAE,IAAI,CAACwR,iBAAiB,CAAC1R,CAAC,EAACE,CAAC,EAACH,CAAC,CAAC;EAAA;EAAC2R,iBAAiBA,CAAC3R,CAAC,EAACC,CAAC,EAACE,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACwJ,QAAQ,CAAC7J,CAAC,CAAC;IAAC,IAAGF,CAAC,CAACO,CAAC,CAAC,EAAC;IAAO,MAAME,CAAC,GAACN,CAAC,CAAC6B,WAAW,GAAC7B,CAAC,CAAC8B,UAAU;IAAC,KAAI,IAAIjC,CAAC,GAACG,CAAC,CAAC6B,WAAW,EAAChC,CAAC,GAACS,CAAC,EAAC,EAAET,CAAC,EAAC;MAAC,MAAME,CAAC,GAACK,CAAC,CAAC2G,QAAQ,CAAClH,CAAC,CAAC;QAACG,CAAC,GAAC,IAAI,CAACoK,gBAAgB,CAACrK,CAAC,CAAC;MAACJ,CAAC,CAACK,CAAC,CAAC,IAAEL,CAAC,CAACK,CAAC,CAACiC,IAAI,CAAC,IAAE/B,CAAC,CAACF,CAAC,CAACiC,IAAI,CAAC,IAAE,IAAI,CAACyP,iBAAiB,CAAC3R,CAAC,EAACC,CAAC,EAACE,CAAC,CAAC;IAAA;EAAC;EAACyR,oBAAoBA,CAAC9R,CAAC,EAACE,CAAC,EAAC;IAAC,IAAIC,CAAC,GAAC,IAAI,CAACgK,OAAO,CAACnK,CAAC,CAAC;IAAC,OAAKF,CAAC,CAACK,CAAC,CAAC,GAAEA,CAAC,CAAC4R,cAAc,IAAE7R,CAAC,EAACC,CAAC,GAAC,IAAI,CAACsK,SAAS,CAACtK,CAAC,CAACqI,KAAK,CAAC;EAAA;EAACwJ,4BAA4BA,CAAA,EAAE;IAAC,IAAGhS,CAAC,CAAC,IAAI,CAACqH,QAAQ,CAAC,EAAC,OAAM,CAAC,CAAC;IAAC,MAAMvH,CAAC,GAAC,EAAE;MAACI,CAAC,GAACF,CAAC,IAAE;QAAC,IAAIG,CAAC,GAAC,IAAI,CAAC0C,SAAS,CAAC7C,CAAC,CAACwI,KAAK,CAAC,IAAE,IAAI,CAAC1F,YAAY,CAAC9C,CAAC,CAACwI,KAAK,CAAC,GAAC,CAAC,GAAC,CAAC;QAAC,OAAO,IAAI,CAACoJ,gBAAgB,CAAC5R,CAAC,EAAEF,CAAC,KAAGK,CAAC,IAAED,CAAC,CAACJ,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAE,EAACE,CAAC,CAAC+R,cAAc,KAAG5R,CAAC,IAAEL,CAAC,CAACkH,IAAI,CAAChH,CAAC,CAACwI,KAAK,CAAC,EAACrI,CAAC;MAAA,CAAC;IAAC,OAAOD,CAAC,CAAC,IAAI,CAACmH,QAAQ,CAAC,EAACvH,CAAC,CAACqI,MAAM,IAAE,IAAI,CAACxF,OAAO,CAACsF,KAAK,CAAC,sDAAsD,GAACnI,CAAC,CAACmS,IAAI,CAAC,GAAG,CAAC,CAAC,EAACnS,CAAC,CAACqI,MAAM,GAAC,CAAC;EAAA;EAAC+J,WAAWA,CAACpS,CAAC,EAAC;IAAC,IAAG,IAAI,CAACuF,QAAQ,CAACqC,GAAG,CAACS,MAAM,GAAC,CAAC,KAAGrI,CAAC,CAACmH,KAAK,IAAE,KAAK,GAAC,IAAI,CAAC5B,QAAQ,CAACqC,GAAG,CAACS,MAAM,CAAC,EAAC,CAAC,IAAI,CAACjE,aAAa,IAAE,IAAI,CAACkB,SAAS,CAAC+C,MAAM,GAAC,CAAC,MAAIrI,CAAC,CAAC0I,KAAK,IAAE,KAAK,GAAC,IAAI,CAACtE,aAAa,IAAE,IAAI,CAACkB,SAAS,CAAC+C,MAAM,CAAC,EAACrI,CAAC,CAACqS,IAAI,GAAC,IAAI,CAAC7N,kBAAkB,EAAC,IAAI,CAACQ,gBAAgB,CAACC,QAAQ,EAAC;MAAC,MAAM/E,CAAC,GAAC,IAAI,CAAC8E,gBAAgB,CAACC,QAAQ,GAACjF,CAAC,CAACsS,QAAQ;MAACpS,CAAC,GAAC,CAAC,GAACF,CAAC,CAACsS,QAAQ,IAAE,KAAK,GAACpS,CAAC,GAACA,CAAC,GAAC,CAAC,KAAGF,CAAC,CAACsS,QAAQ,IAAE,KAAK,GAAC,CAACpS,CAAC,CAAC;IAAA;EAAC;EAACqS,mBAAmBA,CAACvS,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAAC2F,sBAAsB,GAAC3F,CAAC,IAAE,CAAC,CAACF,CAAC,KAAG,oBAAoB,KAAGA,CAAC,CAACwS,IAAI,IAAE,eAAe,KAAGxS,CAAC,CAACwS,IAAI,CAAC,EAAC,IAAI,CAAC5P,gBAAgB,CAAC2P,mBAAmB,CAACvS,CAAC,CAAC,EAAC,IAAI,CAACyS,4BAA4B,EAAE;EAAA;EAACA,4BAA4BA,CAAA,EAAE;IAAC,IAAI,CAACnH,YAAY,CAAEpL,CAAC,IAAE;MAAC+L,CAAC,CAAC/L,CAAC,CAAC,EAACF,CAAC,CAACE,CAAC,CAACoC,IAAI,CAAC,KAAGpC,CAAC,CAACoC,IAAI,CAAC6J,cAAc,GAAC,IAAI,CAAC,EAACnM,CAAC,CAACE,CAAC,CAACmC,GAAG,CAAC,KAAGnC,CAAC,CAACmC,GAAG,CAAC8J,cAAc,GAAC,IAAI,CAAC;IAAA,CAAC,CAAE;EAAA;EAACb,YAAYA,CAACtL,CAAC,EAAC;IAAC,KAAI,IAAIE,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,IAAI,CAACsD,UAAU,CAAC6E,MAAM,EAACnI,CAAC,EAAE,EAAC;MAAC,MAAME,CAAC,GAAC,IAAI,CAACoD,UAAU,CAACtD,CAAC,CAAC;MAAC,IAAGE,CAAC,EAAC;QAAC,MAAMC,CAAC,GAACH,CAAC,GAAC,IAAI,CAACwD,aAAa;QAAC,KAAI,IAAIxD,CAAC,GAAC,CAAC,EAACA,CAAC,GAACE,CAAC,CAAC+G,KAAK,CAACkB,MAAM,EAACnI,CAAC,EAAE,EAACF,CAAC,CAACI,CAAC,CAAC+G,KAAK,CAACjH,CAAC,CAAC,EAACG,CAAC,GAACH,CAAC,CAAC;MAAA;IAAC;EAAC;EAAC,IAAIwS,IAAIA,CAAA,EAAE;IAAC,OAAM;MAACC,OAAO,EAACA,CAAC3S,CAAC,EAACE,CAAC,KAAG,IAAI,CAACwH,QAAQ,CAAC1H,CAAC,EAACE,CAAC;IAAC,CAAC;EAAA;AAAC;AAAC,MAAMiO,CAAC,GAAC,IAAIxJ,GAAG;AAAC,MAAMa,CAAC;EAACvD,WAAWA,CAACjC,CAAC,EAAC;IAAC,IAAI,CAACgP,OAAO,GAAChP,CAAC,EAAC,IAAI,CAAC2N,MAAM,GAAC,IAAItN,CAAC,CAAC;MAACgF,WAAW,EAAC;IAAI,CAAC,CAAC,EAAC,IAAI,CAACuC,GAAG,GAAC,IAAIvH,CAAC,CAAC;MAACgF,WAAW,EAAC;IAAI,CAAC,CAAC,EAAC,IAAI,CAAC0J,MAAM,GAAC,IAAI1O,CAAC,CAAC;MAACgF,WAAW,EAAC;IAAI,CAAC,CAAC,EAAC,IAAI,CAAC8J,MAAM,GAAC,EAAE;EAAA;EAACjB,KAAKA,CAAClO,CAAC,EAAC;IAAC,IAAI,CAAC4H,GAAG,CAACqG,KAAK,EAAE,EAAC,IAAI,CAACN,MAAM,CAACM,KAAK,EAAE,EAAC,IAAI,CAACkB,MAAM,GAACnP,CAAC;EAAA;AAAC;AAAC,SAASiM,CAACA,CAAC/L,CAAC,EAAC;EAACF,CAAC,CAACE,CAAC,CAACoC,IAAI,CAAC,KAAGZ,CAAC,CAACxB,CAAC,CAACoC,IAAI,CAAC6I,SAAS,CAAC,EAACvJ,CAAC,CAAC1B,CAAC,CAACoC,IAAI,CAAC8I,oBAAoB,CAAC,CAAC,EAACpL,CAAC,CAACE,CAAC,CAACmC,GAAG,CAAC,KAAGX,CAAC,CAACxB,CAAC,CAACmC,GAAG,CAAC8I,SAAS,CAAC,EAACvJ,CAAC,CAAC1B,CAAC,CAACmC,GAAG,CAAC+I,oBAAoB,CAAC,CAAC;AAAA;AAAC,SAASrB,CAACA,CAAC/J,CAAC,EAAC;EAAC,OAAO8B,CAAC,CAAC9B,CAAC,EAAC,CAAC,CAAC,CAAC;AAAA;AAAC,SAAS6E,CAACA,CAAC7E,CAAC,EAAC;EAAC,OAAO8B,CAAC,CAAC9B,CAAC,EAAC,CAAC,CAAC;AAAA;AAAC,SAASgN,CAACA,CAAChN,CAAC,EAACE,CAAC,EAAC;EAAC,OAAOA,CAAC,IAAEF,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC;AAAA;AAAC,SAAS4M,CAACA,CAAC5M,CAAC,EAACE,CAAC,EAAC;EAAC,OAAM,CAAC,CAAC,CAAC,GAACF,CAAC,MAAIE,CAAC;AAAA;AAAC,SAAS+M,CAACA,CAACjN,CAAC,EAAC;EAAC,OAAO,CAAC,KAAG,CAAC,GAACA,CAAC,CAAC;AAAA;AAAC,SAAS+G,CAACA,CAAC/G,CAAC,EAACE,CAAC,EAAC;EAAC,OAAO,CAAC,KAAGA,CAAC,GAAC,CAAC,GAACF,CAAC,GAACE,CAAC,GAAC,CAAC;AAAA;AAAC,SAASgK,CAACA,CAAClK,CAAC,EAACE,CAAC,EAAC;EAAC,OAAO,CAAC,KAAGA,CAAC,GAACF,CAAC,GAACA,CAAC,GAACE,CAAC;AAAA;AAAC,MAAM0S,CAAC,GAAC,CAAC,CAAC,oBAAoB,EAAC/R,CAAC,CAAC+F,kBAAkB,CAAC,EAAC,CAAC,qBAAqB,EAAC/F,CAAC,CAACgS,mBAAmB,CAAC,EAAC,CAAC,wBAAwB,EAAChS,CAAC,CAACiS,sBAAsB,CAAC,EAAC,CAAC,gCAAgC,EAACjS,CAAC,CAACkS,8BAA8B,CAAC,CAAC;AAAC,SAASlI,CAACA,CAAC7K,CAAC,EAAC;EAAC,IAAGA,CAAC,EAAC,KAAI,IAAIE,CAAC,GAAC,CAAC,EAACA,CAAC,GAACF,CAAC,CAACqI,MAAM,EAACnI,CAAC,EAAE,EAAC,KAAI,MAAME,CAAC,IAAIwS,CAAC,EAAC,IAAGxS,CAAC,CAAC,CAAC,CAAC,KAAGJ,CAAC,CAACE,CAAC,CAAC,CAAC8S,UAAU,EAAC,OAAM;IAACrM,SAAS,EAACvG,CAAC,CAAC,CAAC,CAAC;IAACwK,QAAQ,EAAC5K,CAAC,CAACE,CAAC,CAAC,CAAC0K;EAAQ,CAAC;EAAC,OAAM;IAACjE,SAAS,EAAC9F,CAAC,CAACgD,IAAI;IAAC+G,QAAQ,EAAC;EAAC,CAAC;AAAA;AAAC,MAAMwD,CAAC;EAACnM,WAAWA,CAAA,EAAE;IAAC,IAAI,CAAC0M,KAAK,GAAC,CAAC,EAAC,IAAI,CAACE,UAAU,GAAC,CAAC,EAAC,IAAI,CAACG,OAAO,GAAC,CAAC,EAAC,IAAI,CAACC,YAAY,GAAC,CAAC,EAAC,IAAI,CAACH,SAAS,GAAC,CAAC;EAAA;AAAC;AAAC,SAASjI,CAACA,CAAC7G,CAAC,EAAC;EAAC,OAAOuK,IAAI,CAAC0I,IAAI,CAACjT,CAAC,IAAE,CAAC,GAACuK,IAAI,CAAC2I,EAAE,CAAC,CAAC;AAAA;AAAC,SAAOxQ,CAAC,IAAIyQ,QAAQ,EAACtI,CAAC,IAAIuI,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}