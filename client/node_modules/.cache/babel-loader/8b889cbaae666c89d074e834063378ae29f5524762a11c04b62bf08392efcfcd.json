{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { result as i } from \"../../../core/asyncUtils.js\";\nimport r from \"../../../core/Collection.js\";\nimport \"../../../core/has.js\";\nimport s from \"../../../core/Error.js\";\nimport a from \"../../../core/Handles.js\";\nimport { clone as o } from \"../../../core/lang.js\";\nimport n from \"../../../core/Logger.js\";\nimport { isSome as l, destroyMaybe as h, removeMaybe as c, abortMaybe as u, isNone as d } from \"../../../core/maybe.js\";\nimport { EsriPromiseMixin as m } from \"../../../core/Promise.js\";\nimport { createAbortError as p, isAbortError as _, eachAlways as f } from \"../../../core/promiseUtils.js\";\nimport { initial as y, whenOnce as g, watch as x, syncAndInitial as F, sync as v } from \"../../../core/reactiveUtils.js\";\nimport { property as T } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as E } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { WatchUpdatingTracking as w } from \"../../../core/support/WatchUpdatingTracking.js\";\nimport { isHostedAgolService as C } from \"../../support/arcgisLayerUrl.js\";\nimport { getEffectiveLayerCapabilities as D } from \"../../support/layerUtils.js\";\nimport { projectGeometry as b } from \"../../../portal/support/geometryServiceUtils.js\";\nimport S from \"../../../rest/support/StatisticDefinition.js\";\nimport { FeatureTileFetcher3D as O } from \"../../../views/3d/layers/support/FeatureTileFetcher3D.js\";\nimport { FeatureTileFetcher3DDebugger as I } from \"../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js\";\nimport V from \"../../../views/3d/support/debugFlags.js\";\nlet U = class extends m(t) {\n  set extent(e) {\n    if (l(e) && !e.spatialReference.equals(this.layerView.view.spatialReference)) return void n.getLogger(this.declaredClass).error(\"#extent=\", \"extent needs to be in the same spatial reference as the view\");\n    const t = this._get(\"extent\");\n    if (t === e) return;\n    if (l(t) && e && t.equals(e)) return;\n    const i = l(e) ? e.clone() : null;\n    this._set(\"extent\", i);\n  }\n  get updating() {\n    return !!(l(this._tileFetcher) && this._tileFetcher.updating || null != this._fetchDataInfoPromise || \"tiles\" === this.mode && this.layerView.view.featureTiles && this.layerView.view.featureTiles.updating || this._watchUpdatingTracking && this._watchUpdatingTracking.updating);\n  }\n  get updatingTotal() {\n    return this.updating && l(this._tileFetcher) ? this._tileFetcher.updatingTotal : 0;\n  }\n  get updatingRemaining() {\n    return this.updating && l(this._tileFetcher) ? this._tileFetcher.updatingRemaining : 0;\n  }\n  get expectedFeatureDiff() {\n    return this.updating && l(this._tileFetcher) ? this._tileFetcher.expectedFeatureDiff : 0;\n  }\n  get memoryForUnusedFeatures() {\n    return l(this._tileFetcher) ? this._tileFetcher.memoryForUnusedFeatures : 0;\n  }\n  get maximumNumberOfFeaturesExceeded() {\n    return !(!l(this._tileFetcher) || !this._tileFetcher.maximumNumberOfFeaturesExceeded);\n  }\n  get maximumNumberOfFeatures() {\n    return l(this.displayFeatureLimit) ? this.displayFeatureLimit.maximumNumberOfFeatures : 0;\n  }\n  set maximumNumberOfFeatures(e) {\n    e !== this.maximumNumberOfFeatures && this._overrideIfSome(\"maximumNumberOfFeatures\", e);\n  }\n  get hasMaximumNumberOfFeaturesOverride() {\n    return this._isOverridden(\"maximumNumberOfFeatures\");\n  }\n  get mode() {\n    const e = this.layerView.layer;\n    if (\"feature\" === e.type && l(e.infoFor3D)) return \"snapshot\";\n    if (!1 === this.layerView.view.qualitySettings?.graphics3D?.snapshotAvailable || this.serviceDataCount === j.NO_SERVICE_DATA_COUNT || this.vertexLimitExceeded) return \"tiles\";\n    const t = this.layerView.view,\n      i = t && t.featureTiles,\n      r = i && i.tilingScheme;\n    if (e && e.minScale && this.serviceDataExtent && r) {\n      const t = this._approximateExtentSizeAtScale(e.minScale, r);\n      if ((this.serviceDataExtent.width / t + this.serviceDataExtent.height / t) / 2 > j.MAX_SNAPSHOT_MIN_SCALE_FACTOR) return \"tiles\";\n    }\n    return !this.maximumNumberOfFeatures || this.serviceDataCount <= this.maximumNumberOfFeatures ? \"snapshot\" : \"tiles\";\n  }\n  get maxTotalSnapshotVertices() {\n    const e = this._get(\"maxTotalSnapshotVertices\") || 0,\n      t = \"snapshot\" === this.mode && l(this._tileFetcher) && this._tileFetcher.totalVertices || 0;\n    return Math.max(e, t);\n  }\n  _approximateExtentSizeAtScale(e, t) {\n    const i = this.layerView.view,\n      r = Math.ceil((i.width / t.pixelSize + i.height / t.pixelSize) / 2),\n      s = t.levels[0];\n    return r * ((s.tileSize[0] / (s.scale / e) + s.tileSize[1] / (s.scale / e)) / 2);\n  }\n  get tileDescriptors() {\n    return \"snapshot\" === this.mode ? new r([{\n      id: \"dummy-tile-full-extent\",\n      lij: [0, 0, 0]\n    }]) : this.layerView.view.featureTiles ? this.layerView.view.featureTiles.tiles : new r();\n  }\n  get test() {\n    return {\n      fetchDataInfoPromise: this._fetchDataInfoPromise,\n      tileFetcher: this._tileFetcher\n    };\n  }\n  constructor(e) {\n    super(e), this.type = \"feature-tile-3d\", this._watchUpdatingTracking = new w(), this.serviceDataExtent = null, this.serviceDataCount = j.NO_SERVICE_DATA_COUNT, this.vertexLimitExceeded = !1, this.displayFeatureLimit = null, this._suspended = !1, this._tileFetcher = null, this._handles = new a(), this._fetchDataInfoPromise = null, this._fetchDataInfoAbortController = null, this._lifeCycleAbortController = new AbortController();\n  }\n  initialize() {\n    this._watchUpdatingTracking.add(() => this.vertexLimitInfo, () => this._watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null, this._lifeCycleAbortController.signal))), this._watchUpdatingTracking.add(() => this.mode, () => this._modeChanged(), y), this.addResolvingPromise(Promise.resolve().then(() => this._verifyCapabilities()).then(() => this._watchUpdatingTracking.addPromise(this._fetchServiceDataInfo())).then(() => this._initializeTileFetcher()));\n  }\n  _verifyCapabilities() {\n    const e = this.layerView.layer;\n    if (\"ogc-feature\" !== e.type && !D(e)?.operations.supportsQuery) throw new s(\"graphicscontroller:query-capability-required\", \"Service requires query capabilities to be used as a feature layer\", {\n      layer: e\n    });\n  }\n  destroy() {\n    this._cancelFetchServiceDataInfo(), this._tileFetcher = h(this._tileFetcher), this._handles = h(this._handles), this._tilesHandle = c(this._tilesHandle), this._lifeCycleAbortController = u(this._lifeCycleAbortController), this._watchUpdatingTracking.destroy(), this._set(\"watchUpdatingTracking\", null);\n  }\n  suspend() {\n    this._suspended || (this._suspended = !0, l(this._tileFetcher) && this._tileFetcher.suspend());\n  }\n  resume() {\n    this._suspended && (this._suspended = !1, l(this._tileFetcher) && this._tileFetcher.resume());\n  }\n  restart() {\n    const e = () => {\n      l(this._tileFetcher) && this._tileFetcher.restart();\n    };\n    this._watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e, e));\n  }\n  refetch() {\n    const e = () => {\n      l(this._tileFetcher) && this._tileFetcher.refetch();\n    };\n    this._watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e, e));\n  }\n  _initializeTileFetcher() {\n    const e = this.layerView.view;\n    if (!e) return;\n    const t = g(() => e.featureTiles?.tilingScheme, this._lifeCycleAbortController.signal);\n    this._watchUpdatingTracking.addPromise(t), t.then(() => {\n      const {\n          layerView: t,\n          tileDescriptors: i\n        } = this,\n        r = t.layer,\n        s = new O({\n          context: this.context,\n          filterExtent: this.extent,\n          tileDescriptors: i,\n          features: this.graphics\n        });\n      this._tileFetcher = s, this._suspended ? this._tileFetcher.suspend() : this._tileFetcher.resume();\n      const a = this.layerView.view.resourceController;\n      a && this._handles.add(x(() => a.memoryController.memoryFactor, e => s.memoryFactor = e, F));\n      const o = \"polygon\" === this.context.geometryType ? \"polygonLodFactor\" : \"polyline\" === this.context.geometryType ? \"polylineLodFactor\" : null;\n      o && this._handles.add(x(() => this.layerView.view?.qualitySettings?.graphics3D?.[o], e => s.lodFactor = e || 1, y));\n      const n = e => {\n          s.maximumNumberOfFeatures = e, s.useTileCount = this.serviceDataCount > e;\n        },\n        l = e => s.useTileCount = e > this.maximumNumberOfFeatures;\n      \"ogc-feature\" !== r.type && this._watchUpdatingTracking.add(() => r.createQueryVersion, () => this._dataFilterChanged()), this._watchUpdatingTracking.add(() => t.availableFields, (e, t) => this._availableFieldsChanged(t, e)), this._watchUpdatingTracking.add(() => t.requiredFields, (e, t) => this._requiredFieldsChanged(t, e)), this._handles.add([r.on(\"apply-edits\", e => this._applyEdits(e)), x(() => this.extent, e => s.filterExtent = e, v), x(() => this.tileDescriptors, e => s.tileDescriptors = e, v), x(() => this.maximumNumberOfFeatures, n, F), x(() => this.serviceDataCount, l, F), x(() => V.FEATURE_TILE_FETCH_SHOW_TILES, t => {\n        t && s && !s.debugger ? (s.debugger = new I(s, e.featureTiles.tilingScheme.toTileInfo(), e), s.debugger.update()) : !t && this._tileFetcher && s.debugger && (s.debugger.destroy(), s.debugger = null);\n      }, F)]), this._supportsExceedsLimitQuery || this._watchUpdatingTracking.add(() => this.maxTotalSnapshotVertices, () => this._watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null, this._lifeCycleAbortController.signal)));\n    }).catch(() => {});\n  }\n  _modeChanged() {\n    switch (this.mode) {\n      case \"tiles\":\n        this._tilesHandle || (this._tilesHandle = this.layerView.view.featureTiles.addClient());\n        break;\n      default:\n        n.getLogger(this.declaredClass).warn(\"Unhandled feature layer mode \" + this.mode);\n      case \"snapshot\":\n        l(this._tilesHandle) && (this._tilesHandle.remove(), this._tilesHandle = null);\n    }\n  }\n  _dataFilterChanged() {\n    this._set(\"maxTotalSnapshotVertices\", 0), this.notifyChange(\"maxTotalSnapshotVertices\"), this.refetch();\n  }\n  _applyEdits(e) {\n    d(this._tileFetcher) || this._tileFetcher.applyEdits(e).then(e => {\n      if (e) {\n        if (!this._lifeCycleAbortController) throw p();\n        (e.deletedFeatures.length || e.updatedFeatures.length || e.addedFeatures.length) && this._watchUpdatingTracking.addPromise(this._updateServiceDataExtent(this._lifeCycleAbortController.signal));\n      }\n    }).catch(e => {\n      if (!_(e)) throw e;\n    });\n  }\n  _availableFieldsChanged(e, t) {\n    l(this._tileFetcher) && R(this._tileFetcher.availableFields, t) && this.refetch();\n  }\n  _requiredFieldsChanged(e, t) {\n    l(this._tileFetcher) && R(this._tileFetcher.availableFields, t) && this.restart();\n  }\n  _createVertexLimitExceededQuery(e) {\n    const t = this.layerView.layer,\n      i = t.createQuery();\n    return i.outStatistics = [new S({\n      statisticType: \"exceedslimit\",\n      maxVertexCount: e,\n      outStatisticFieldName: \"exceedslimit\",\n      maxPointCount: 1e8,\n      maxRecordCount: 1e8\n    })], t.capabilities?.query.supportsCacheHint && (i.cacheHint = !0), i;\n  }\n  _createDataInfoQuery() {\n    const e = this.layerView.layer,\n      t = e.createQuery();\n    return t.outSpatialReference = this.layerView.view.spatialReference, e.capabilities?.query.supportsCacheHint && (t.cacheHint = !0), t;\n  }\n  _fullExtentIsAccurate() {\n    const e = this.layerView.layer;\n    if (e.definitionExpression) return !1;\n    switch (e.type) {\n      case \"feature\":\n      case \"oriented-imagery\":\n        return C(e.url);\n      case \"csv\":\n      case \"geojson\":\n      case \"ogc-feature\":\n      case \"wfs\":\n        return !0;\n      default:\n        return;\n    }\n  }\n  async _updateServiceDataExtent(e) {\n    try {\n      await this._tryUpdateServiceDataExtent(e);\n    } catch (t) {\n      _(t) || this._set(\"serviceDataExtent\", o(this.layerView.fullExtentInLocalViewSpatialReference));\n    }\n  }\n  async _tryUpdateServiceDataExtent(e) {\n    const t = this.layerView,\n      i = t.layer,\n      r = i.capabilities?.query.supportsExtent ?? !1,\n      s = o(t.fullExtentInLocalViewSpatialReference),\n      a = i.fullExtent,\n      n = this._fullExtentIsAccurate(),\n      h = this.serviceDataCount;\n    if (r && h <= j.MAX_FEATURE_COUNT_FOR_EXTENT && (!s || !n) && \"queryExtent\" in i) {\n      const t = this._createDataInfoQuery(),\n        r = await i.queryExtent(t, {\n          timeout: j.QUERY_EXTENT_TIMEOUT,\n          signal: e\n        });\n      this._set(\"serviceDataExtent\", r.extent);\n    } else if (s) this._set(\"serviceDataExtent\", s);else if (l(a)) {\n      const r = \"portalItem\" in i ? i.portalItem : null,\n        s = await b(a, t.view.spatialReference, r, e);\n      this._set(\"serviceDataExtent\", s);\n    } else this._set(\"serviceDataExtent\", null);\n  }\n  async _updateServiceDataCount(e) {\n    const t = this.layerView.layer;\n    if (!(\"queryFeatureCount\" in t)) return void this._set(\"serviceDataCount\", j.NO_SERVICE_DATA_COUNT);\n    const r = await i(t.queryFeatureCount(this._createDataInfoQuery(), {\n      timeout: j.QUERY_STATISTICS_TIMEOUT,\n      signal: e\n    }));\n    if (!0 === r.ok) this._set(\"serviceDataCount\", r.value);else {\n      if (_(r.error)) throw r.error;\n      this._set(\"serviceDataCount\", j.NO_SERVICE_DATA_COUNT);\n    }\n  }\n  get vertexLimitInfo() {\n    if (d(this.displayFeatureLimit) || d(this.displayFeatureLimit.averageSymbolComplexity)) return null;\n    const {\n        averageSymbolComplexity: e,\n        maximumTotalNumberOfPrimitives: t\n      } = this.displayFeatureLimit,\n      {\n        primitivesPerCoordinate: i,\n        primitivesPerFeature: r\n      } = e,\n      s = this._get(\"vertexLimitInfo\");\n    return d(s) || s.maximumTotalNumberOfPrimitives !== t || s.primitivesPerCoordinate !== i || s.primitivesPerFeature !== r ? {\n      primitivesPerCoordinate: i,\n      primitivesPerFeature: r,\n      maximumTotalNumberOfPrimitives: t\n    } : s;\n  }\n  get _supportsExceedsLimitQuery() {\n    const e = this.layerView.layer;\n    return null != e.capabilities && e.capabilities.operations && e.capabilities.operations.supportsExceedsLimitStatistics;\n  }\n  get _minimumNumberOfVerticesForGeometry() {\n    switch (this.layerView.layer.geometryType) {\n      case \"point\":\n      case \"multipoint\":\n        return 1;\n      case \"polygon\":\n        return 4;\n      case \"polyline\":\n        return 2;\n      case \"multipatch\":\n      case \"mesh\":\n        return 3;\n      default:\n        return 0;\n    }\n  }\n  async _updateVertexLimitExceeded(e, t) {\n    const r = this.vertexLimitInfo;\n    if (d(r)) return void this._set(\"vertexLimitExceeded\", !1);\n    const s = r.primitivesPerFeature <= 0,\n      a = this._minimumNumberOfVerticesForGeometry > 1;\n    if (!s && !a) return void this._set(\"vertexLimitExceeded\", !1);\n    const {\n      primitivesPerFeature: o,\n      primitivesPerCoordinate: n,\n      maximumTotalNumberOfPrimitives: h\n    } = r;\n    let c;\n    0 !== o && l(e) && (await e);\n    const u = this.serviceDataCount,\n      m = u !== j.NO_SERVICE_DATA_COUNT;\n    if (c = m ? Math.ceil((h - u * o) / (n || 1)) : Math.ceil(h / (n || 1)), a && (c = Math.min(c, P)), m && this._minimumNumberOfVerticesForGeometry * u > c) return void this._set(\"vertexLimitExceeded\", !0);\n    if (!this._supportsExceedsLimitQuery) return void this._set(\"vertexLimitExceeded\", this.maxTotalSnapshotVertices > c);\n    const p = await i(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(c), {\n      timeout: j.QUERY_STATISTICS_TIMEOUT,\n      signal: t\n    }));\n    if (!1 === p.ok) {\n      if (_(p.error)) throw p.error;\n      return void this._set(\"vertexLimitExceeded\", !1);\n    }\n    const f = p.value.features[0];\n    f && f.attributes ? this._set(\"vertexLimitExceeded\", !!f.attributes.exceedslimit) : this._set(\"vertexLimitExceeded\", !1);\n  }\n  async _fetchServiceDataInfo() {\n    this._cancelFetchServiceDataInfo();\n    let e = new AbortController();\n    const t = e.signal,\n      i = this._updateServiceDataCount(t),\n      r = f([i, this._updateVertexLimitExceeded(i, t)]),\n      s = r.then(() => this._updateServiceDataExtent(t)).catch(e => {\n        _(e) || n.getLogger(this.declaredClass).error(\"#fetchServiceDataInfo()\", e);\n      }).then(() => {\n        s === this._fetchDataInfoPromise && (this._fetchDataInfoPromise = null, this._fetchDataInfoAbortController = null), e = null;\n      });\n    return e && (this._fetchDataInfoPromise = s), this._fetchDataInfoAbortController = e, r.then(() => {}, () => {});\n  }\n  _cancelFetchServiceDataInfo() {\n    const e = this._fetchDataInfoAbortController;\n    e && (this._fetchDataInfoAbortController = null, this._fetchDataInfoPromise = null, e.abort());\n  }\n  get debug() {\n    return {\n      storedFeatures: l(this._tileFetcher) ? this._tileFetcher.storedFeatures : 0,\n      totalFeatures: l(this._tileFetcher) ? this._tileFetcher.totalFeatures : 0,\n      totalVertices: l(this._tileFetcher) ? this._tileFetcher.totalVertices : 0,\n      missingTiles: l(this._tileFetcher) ? this._tileFetcher.missingTiles : 0\n    };\n  }\n};\ne([T({\n  readOnly: !0\n})], U.prototype, \"type\", void 0), e([T({\n  constructOnly: !0\n})], U.prototype, \"graphics\", void 0), e([T({\n  constructOnly: !0\n})], U.prototype, \"layerView\", void 0), e([T({\n  constructOnly: !0\n})], U.prototype, \"context\", void 0), e([T()], U.prototype, \"extent\", null), e([T()], U.prototype, \"updating\", null), e([T({\n  readOnly: !0\n})], U.prototype, \"_watchUpdatingTracking\", void 0), e([T()], U.prototype, \"updatingTotal\", null), e([T()], U.prototype, \"updatingRemaining\", null), e([T()], U.prototype, \"expectedFeatureDiff\", null), e([T()], U.prototype, \"memoryForUnusedFeatures\", null), e([T()], U.prototype, \"maximumNumberOfFeaturesExceeded\", null), e([T({\n  readOnly: !0\n})], U.prototype, \"serviceDataExtent\", void 0), e([T({\n  readOnly: !0\n})], U.prototype, \"serviceDataCount\", void 0), e([T({\n  readOnly: !0\n})], U.prototype, \"vertexLimitExceeded\", void 0), e([T()], U.prototype, \"displayFeatureLimit\", void 0), e([T({\n  type: Number\n})], U.prototype, \"maximumNumberOfFeatures\", null), e([T({\n  readOnly: !0\n})], U.prototype, \"mode\", null), e([T({\n  readOnly: !0\n})], U.prototype, \"maxTotalSnapshotVertices\", null), e([T({\n  readOnly: !0,\n  dependsOn: [\"mode\"]\n})], U.prototype, \"tileDescriptors\", null), e([T()], U.prototype, \"_tileFetcher\", void 0), e([T()], U.prototype, \"_fetchDataInfoPromise\", void 0), e([T({\n  readOnly: !0\n})], U.prototype, \"vertexLimitInfo\", null), U = e([E(\"esri.layers.graphics.controllers.FeatureTileController3D\")], U);\nconst A = 1e4,\n  N = 12e3,\n  L = 1e4,\n  P = 5e6;\nfunction R(e, t) {\n  if (!t) return !1;\n  for (const i of t) if (!e.has(i)) return !0;\n  return !1;\n}\nvar j;\n!function (e) {\n  function t() {\n    e.MAX_FEATURE_COUNT_FOR_EXTENT = A, e.QUERY_STATISTICS_TIMEOUT = N, e.QUERY_EXTENT_TIMEOUT = L;\n  }\n  e.NO_SERVICE_DATA_COUNT = 1 / 0, e.MAX_SNAPSHOT_MIN_SCALE_FACTOR = 5, e.reset = t;\n}(j || (j = {})), j.reset();\nexport { U as FeatureTileController3D, j as FeatureTileController3DConstants };","map":{"version":3,"names":["_","e","t","result","i","r","s","a","clone","o","n","isSome","l","destroyMaybe","h","removeMaybe","c","abortMaybe","u","isNone","d","EsriPromiseMixin","m","createAbortError","p","isAbortError","eachAlways","f","initial","y","whenOnce","g","watch","x","syncAndInitial","F","sync","v","property","T","subclass","E","WatchUpdatingTracking","w","isHostedAgolService","C","getEffectiveLayerCapabilities","D","projectGeometry","b","S","FeatureTileFetcher3D","O","FeatureTileFetcher3DDebugger","I","V","U","extent","spatialReference","equals","layerView","view","getLogger","declaredClass","error","_get","_set","updating","_tileFetcher","_fetchDataInfoPromise","mode","featureTiles","_watchUpdatingTracking","updatingTotal","updatingRemaining","expectedFeatureDiff","memoryForUnusedFeatures","maximumNumberOfFeaturesExceeded","maximumNumberOfFeatures","displayFeatureLimit","_overrideIfSome","hasMaximumNumberOfFeaturesOverride","_isOverridden","layer","type","infoFor3D","qualitySettings","graphics3D","snapshotAvailable","serviceDataCount","j","NO_SERVICE_DATA_COUNT","vertexLimitExceeded","tilingScheme","minScale","serviceDataExtent","_approximateExtentSizeAtScale","width","height","MAX_SNAPSHOT_MIN_SCALE_FACTOR","maxTotalSnapshotVertices","totalVertices","Math","max","ceil","pixelSize","levels","tileSize","scale","tileDescriptors","id","lij","tiles","test","fetchDataInfoPromise","tileFetcher","constructor","_suspended","_handles","_fetchDataInfoAbortController","_lifeCycleAbortController","AbortController","initialize","add","vertexLimitInfo","addPromise","_updateVertexLimitExceeded","signal","_modeChanged","addResolvingPromise","Promise","resolve","then","_verifyCapabilities","_fetchServiceDataInfo","_initializeTileFetcher","operations","supportsQuery","destroy","_cancelFetchServiceDataInfo","_tilesHandle","suspend","resume","restart","refetch","context","filterExtent","features","graphics","resourceController","memoryController","memoryFactor","geometryType","lodFactor","useTileCount","createQueryVersion","_dataFilterChanged","availableFields","_availableFieldsChanged","requiredFields","_requiredFieldsChanged","on","_applyEdits","FEATURE_TILE_FETCH_SHOW_TILES","debugger","toTileInfo","update","_supportsExceedsLimitQuery","catch","addClient","warn","remove","notifyChange","applyEdits","deletedFeatures","length","updatedFeatures","addedFeatures","_updateServiceDataExtent","R","_createVertexLimitExceededQuery","createQuery","outStatistics","statisticType","maxVertexCount","outStatisticFieldName","maxPointCount","maxRecordCount","capabilities","query","supportsCacheHint","cacheHint","_createDataInfoQuery","outSpatialReference","_fullExtentIsAccurate","definitionExpression","url","_tryUpdateServiceDataExtent","fullExtentInLocalViewSpatialReference","supportsExtent","fullExtent","MAX_FEATURE_COUNT_FOR_EXTENT","queryExtent","timeout","QUERY_EXTENT_TIMEOUT","portalItem","_updateServiceDataCount","queryFeatureCount","QUERY_STATISTICS_TIMEOUT","ok","value","averageSymbolComplexity","maximumTotalNumberOfPrimitives","primitivesPerCoordinate","primitivesPerFeature","supportsExceedsLimitStatistics","_minimumNumberOfVerticesForGeometry","min","P","queryFeatures","attributes","exceedslimit","abort","debug","storedFeatures","totalFeatures","missingTiles","readOnly","prototype","constructOnly","Number","dependsOn","A","N","L","has","reset","FeatureTileController3D","FeatureTileController3DConstants"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{result as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import\"../../../core/has.js\";import s from\"../../../core/Error.js\";import a from\"../../../core/Handles.js\";import{clone as o}from\"../../../core/lang.js\";import n from\"../../../core/Logger.js\";import{isSome as l,destroyMaybe as h,removeMaybe as c,abortMaybe as u,isNone as d}from\"../../../core/maybe.js\";import{EsriPromiseMixin as m}from\"../../../core/Promise.js\";import{createAbortError as p,isAbortError as _,eachAlways as f}from\"../../../core/promiseUtils.js\";import{initial as y,whenOnce as g,watch as x,syncAndInitial as F,sync as v}from\"../../../core/reactiveUtils.js\";import{property as T}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as E}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WatchUpdatingTracking as w}from\"../../../core/support/WatchUpdatingTracking.js\";import{isHostedAgolService as C}from\"../../support/arcgisLayerUrl.js\";import{getEffectiveLayerCapabilities as D}from\"../../support/layerUtils.js\";import{projectGeometry as b}from\"../../../portal/support/geometryServiceUtils.js\";import S from\"../../../rest/support/StatisticDefinition.js\";import{FeatureTileFetcher3D as O}from\"../../../views/3d/layers/support/FeatureTileFetcher3D.js\";import{FeatureTileFetcher3DDebugger as I}from\"../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js\";import V from\"../../../views/3d/support/debugFlags.js\";let U=class extends(m(t)){set extent(e){if(l(e)&&!e.spatialReference.equals(this.layerView.view.spatialReference))return void n.getLogger(this.declaredClass).error(\"#extent=\",\"extent needs to be in the same spatial reference as the view\");const t=this._get(\"extent\");if(t===e)return;if(l(t)&&e&&t.equals(e))return;const i=l(e)?e.clone():null;this._set(\"extent\",i)}get updating(){return!!(l(this._tileFetcher)&&this._tileFetcher.updating||null!=this._fetchDataInfoPromise||\"tiles\"===this.mode&&this.layerView.view.featureTiles&&this.layerView.view.featureTiles.updating||this._watchUpdatingTracking&&this._watchUpdatingTracking.updating)}get updatingTotal(){return this.updating&&l(this._tileFetcher)?this._tileFetcher.updatingTotal:0}get updatingRemaining(){return this.updating&&l(this._tileFetcher)?this._tileFetcher.updatingRemaining:0}get expectedFeatureDiff(){return this.updating&&l(this._tileFetcher)?this._tileFetcher.expectedFeatureDiff:0}get memoryForUnusedFeatures(){return l(this._tileFetcher)?this._tileFetcher.memoryForUnusedFeatures:0}get maximumNumberOfFeaturesExceeded(){return!(!l(this._tileFetcher)||!this._tileFetcher.maximumNumberOfFeaturesExceeded)}get maximumNumberOfFeatures(){return l(this.displayFeatureLimit)?this.displayFeatureLimit.maximumNumberOfFeatures:0}set maximumNumberOfFeatures(e){e!==this.maximumNumberOfFeatures&&this._overrideIfSome(\"maximumNumberOfFeatures\",e)}get hasMaximumNumberOfFeaturesOverride(){return this._isOverridden(\"maximumNumberOfFeatures\")}get mode(){const e=this.layerView.layer;if(\"feature\"===e.type&&l(e.infoFor3D))return\"snapshot\";if(!1===this.layerView.view.qualitySettings?.graphics3D?.snapshotAvailable||this.serviceDataCount===j.NO_SERVICE_DATA_COUNT||this.vertexLimitExceeded)return\"tiles\";const t=this.layerView.view,i=t&&t.featureTiles,r=i&&i.tilingScheme;if(e&&e.minScale&&this.serviceDataExtent&&r){const t=this._approximateExtentSizeAtScale(e.minScale,r);if((this.serviceDataExtent.width/t+this.serviceDataExtent.height/t)/2>j.MAX_SNAPSHOT_MIN_SCALE_FACTOR)return\"tiles\"}return!this.maximumNumberOfFeatures||this.serviceDataCount<=this.maximumNumberOfFeatures?\"snapshot\":\"tiles\"}get maxTotalSnapshotVertices(){const e=this._get(\"maxTotalSnapshotVertices\")||0,t=\"snapshot\"===this.mode&&l(this._tileFetcher)&&this._tileFetcher.totalVertices||0;return Math.max(e,t)}_approximateExtentSizeAtScale(e,t){const i=this.layerView.view,r=Math.ceil((i.width/t.pixelSize+i.height/t.pixelSize)/2),s=t.levels[0];return r*((s.tileSize[0]/(s.scale/e)+s.tileSize[1]/(s.scale/e))/2)}get tileDescriptors(){return\"snapshot\"===this.mode?new r([{id:\"dummy-tile-full-extent\",lij:[0,0,0]}]):this.layerView.view.featureTiles?this.layerView.view.featureTiles.tiles:new r}get test(){return{fetchDataInfoPromise:this._fetchDataInfoPromise,tileFetcher:this._tileFetcher}}constructor(e){super(e),this.type=\"feature-tile-3d\",this._watchUpdatingTracking=new w,this.serviceDataExtent=null,this.serviceDataCount=j.NO_SERVICE_DATA_COUNT,this.vertexLimitExceeded=!1,this.displayFeatureLimit=null,this._suspended=!1,this._tileFetcher=null,this._handles=new a,this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null,this._lifeCycleAbortController=new AbortController}initialize(){this._watchUpdatingTracking.add((()=>this.vertexLimitInfo),(()=>this._watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null,this._lifeCycleAbortController.signal)))),this._watchUpdatingTracking.add((()=>this.mode),(()=>this._modeChanged()),y),this.addResolvingPromise(Promise.resolve().then((()=>this._verifyCapabilities())).then((()=>this._watchUpdatingTracking.addPromise(this._fetchServiceDataInfo()))).then((()=>this._initializeTileFetcher())))}_verifyCapabilities(){const e=this.layerView.layer;if(\"ogc-feature\"!==e.type&&!D(e)?.operations.supportsQuery)throw new s(\"graphicscontroller:query-capability-required\",\"Service requires query capabilities to be used as a feature layer\",{layer:e})}destroy(){this._cancelFetchServiceDataInfo(),this._tileFetcher=h(this._tileFetcher),this._handles=h(this._handles),this._tilesHandle=c(this._tilesHandle),this._lifeCycleAbortController=u(this._lifeCycleAbortController),this._watchUpdatingTracking.destroy(),this._set(\"watchUpdatingTracking\",null)}suspend(){this._suspended||(this._suspended=!0,l(this._tileFetcher)&&this._tileFetcher.suspend())}resume(){this._suspended&&(this._suspended=!1,l(this._tileFetcher)&&this._tileFetcher.resume())}restart(){const e=()=>{l(this._tileFetcher)&&this._tileFetcher.restart()};this._watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e,e))}refetch(){const e=()=>{l(this._tileFetcher)&&this._tileFetcher.refetch()};this._watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e,e))}_initializeTileFetcher(){const e=this.layerView.view;if(!e)return;const t=g((()=>e.featureTiles?.tilingScheme),this._lifeCycleAbortController.signal);this._watchUpdatingTracking.addPromise(t),t.then((()=>{const{layerView:t,tileDescriptors:i}=this,r=t.layer,s=new O({context:this.context,filterExtent:this.extent,tileDescriptors:i,features:this.graphics});this._tileFetcher=s,this._suspended?this._tileFetcher.suspend():this._tileFetcher.resume();const a=this.layerView.view.resourceController;a&&this._handles.add(x((()=>a.memoryController.memoryFactor),(e=>s.memoryFactor=e),F));const o=\"polygon\"===this.context.geometryType?\"polygonLodFactor\":\"polyline\"===this.context.geometryType?\"polylineLodFactor\":null;o&&this._handles.add(x((()=>this.layerView.view?.qualitySettings?.graphics3D?.[o]),(e=>s.lodFactor=e||1),y));const n=e=>{s.maximumNumberOfFeatures=e,s.useTileCount=this.serviceDataCount>e},l=e=>s.useTileCount=e>this.maximumNumberOfFeatures;\"ogc-feature\"!==r.type&&this._watchUpdatingTracking.add((()=>r.createQueryVersion),(()=>this._dataFilterChanged())),this._watchUpdatingTracking.add((()=>t.availableFields),((e,t)=>this._availableFieldsChanged(t,e))),this._watchUpdatingTracking.add((()=>t.requiredFields),((e,t)=>this._requiredFieldsChanged(t,e))),this._handles.add([r.on(\"apply-edits\",(e=>this._applyEdits(e))),x((()=>this.extent),(e=>s.filterExtent=e),v),x((()=>this.tileDescriptors),(e=>s.tileDescriptors=e),v),x((()=>this.maximumNumberOfFeatures),n,F),x((()=>this.serviceDataCount),l,F),x((()=>V.FEATURE_TILE_FETCH_SHOW_TILES),(t=>{t&&s&&!s.debugger?(s.debugger=new I(s,e.featureTiles.tilingScheme.toTileInfo(),e),s.debugger.update()):!t&&this._tileFetcher&&s.debugger&&(s.debugger.destroy(),s.debugger=null)}),F)]),this._supportsExceedsLimitQuery||this._watchUpdatingTracking.add((()=>this.maxTotalSnapshotVertices),(()=>this._watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null,this._lifeCycleAbortController.signal))))})).catch((()=>{}))}_modeChanged(){switch(this.mode){case\"tiles\":this._tilesHandle||(this._tilesHandle=this.layerView.view.featureTiles.addClient());break;default:n.getLogger(this.declaredClass).warn(\"Unhandled feature layer mode \"+this.mode);case\"snapshot\":l(this._tilesHandle)&&(this._tilesHandle.remove(),this._tilesHandle=null)}}_dataFilterChanged(){this._set(\"maxTotalSnapshotVertices\",0),this.notifyChange(\"maxTotalSnapshotVertices\"),this.refetch()}_applyEdits(e){d(this._tileFetcher)||this._tileFetcher.applyEdits(e).then((e=>{if(e){if(!this._lifeCycleAbortController)throw p();(e.deletedFeatures.length||e.updatedFeatures.length||e.addedFeatures.length)&&this._watchUpdatingTracking.addPromise(this._updateServiceDataExtent(this._lifeCycleAbortController.signal))}})).catch((e=>{if(!_(e))throw e}))}_availableFieldsChanged(e,t){l(this._tileFetcher)&&R(this._tileFetcher.availableFields,t)&&this.refetch()}_requiredFieldsChanged(e,t){l(this._tileFetcher)&&R(this._tileFetcher.availableFields,t)&&this.restart()}_createVertexLimitExceededQuery(e){const t=this.layerView.layer,i=t.createQuery();return i.outStatistics=[new S({statisticType:\"exceedslimit\",maxVertexCount:e,outStatisticFieldName:\"exceedslimit\",maxPointCount:1e8,maxRecordCount:1e8})],t.capabilities?.query.supportsCacheHint&&(i.cacheHint=!0),i}_createDataInfoQuery(){const e=this.layerView.layer,t=e.createQuery();return t.outSpatialReference=this.layerView.view.spatialReference,e.capabilities?.query.supportsCacheHint&&(t.cacheHint=!0),t}_fullExtentIsAccurate(){const e=this.layerView.layer;if(e.definitionExpression)return!1;switch(e.type){case\"feature\":case\"oriented-imagery\":return C(e.url);case\"csv\":case\"geojson\":case\"ogc-feature\":case\"wfs\":return!0;default:return}}async _updateServiceDataExtent(e){try{await this._tryUpdateServiceDataExtent(e)}catch(t){_(t)||this._set(\"serviceDataExtent\",o(this.layerView.fullExtentInLocalViewSpatialReference))}}async _tryUpdateServiceDataExtent(e){const t=this.layerView,i=t.layer,r=i.capabilities?.query.supportsExtent??!1,s=o(t.fullExtentInLocalViewSpatialReference),a=i.fullExtent,n=this._fullExtentIsAccurate(),h=this.serviceDataCount;if(r&&h<=j.MAX_FEATURE_COUNT_FOR_EXTENT&&(!s||!n)&&\"queryExtent\"in i){const t=this._createDataInfoQuery(),r=await i.queryExtent(t,{timeout:j.QUERY_EXTENT_TIMEOUT,signal:e});this._set(\"serviceDataExtent\",r.extent)}else if(s)this._set(\"serviceDataExtent\",s);else if(l(a)){const r=\"portalItem\"in i?i.portalItem:null,s=await b(a,t.view.spatialReference,r,e);this._set(\"serviceDataExtent\",s)}else this._set(\"serviceDataExtent\",null)}async _updateServiceDataCount(e){const t=this.layerView.layer;if(!(\"queryFeatureCount\"in t))return void this._set(\"serviceDataCount\",j.NO_SERVICE_DATA_COUNT);const r=await i(t.queryFeatureCount(this._createDataInfoQuery(),{timeout:j.QUERY_STATISTICS_TIMEOUT,signal:e}));if(!0===r.ok)this._set(\"serviceDataCount\",r.value);else{if(_(r.error))throw r.error;this._set(\"serviceDataCount\",j.NO_SERVICE_DATA_COUNT)}}get vertexLimitInfo(){if(d(this.displayFeatureLimit)||d(this.displayFeatureLimit.averageSymbolComplexity))return null;const{averageSymbolComplexity:e,maximumTotalNumberOfPrimitives:t}=this.displayFeatureLimit,{primitivesPerCoordinate:i,primitivesPerFeature:r}=e,s=this._get(\"vertexLimitInfo\");return d(s)||s.maximumTotalNumberOfPrimitives!==t||s.primitivesPerCoordinate!==i||s.primitivesPerFeature!==r?{primitivesPerCoordinate:i,primitivesPerFeature:r,maximumTotalNumberOfPrimitives:t}:s}get _supportsExceedsLimitQuery(){const e=this.layerView.layer;return null!=e.capabilities&&e.capabilities.operations&&e.capabilities.operations.supportsExceedsLimitStatistics}get _minimumNumberOfVerticesForGeometry(){switch(this.layerView.layer.geometryType){case\"point\":case\"multipoint\":return 1;case\"polygon\":return 4;case\"polyline\":return 2;case\"multipatch\":case\"mesh\":return 3;default:return 0}}async _updateVertexLimitExceeded(e,t){const r=this.vertexLimitInfo;if(d(r))return void this._set(\"vertexLimitExceeded\",!1);const s=r.primitivesPerFeature<=0,a=this._minimumNumberOfVerticesForGeometry>1;if(!s&&!a)return void this._set(\"vertexLimitExceeded\",!1);const{primitivesPerFeature:o,primitivesPerCoordinate:n,maximumTotalNumberOfPrimitives:h}=r;let c;0!==o&&l(e)&&await e;const u=this.serviceDataCount,m=u!==j.NO_SERVICE_DATA_COUNT;if(c=m?Math.ceil((h-u*o)/(n||1)):Math.ceil(h/(n||1)),a&&(c=Math.min(c,P)),m&&this._minimumNumberOfVerticesForGeometry*u>c)return void this._set(\"vertexLimitExceeded\",!0);if(!this._supportsExceedsLimitQuery)return void this._set(\"vertexLimitExceeded\",this.maxTotalSnapshotVertices>c);const p=await i(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(c),{timeout:j.QUERY_STATISTICS_TIMEOUT,signal:t}));if(!1===p.ok){if(_(p.error))throw p.error;return void this._set(\"vertexLimitExceeded\",!1)}const f=p.value.features[0];f&&f.attributes?this._set(\"vertexLimitExceeded\",!!f.attributes.exceedslimit):this._set(\"vertexLimitExceeded\",!1)}async _fetchServiceDataInfo(){this._cancelFetchServiceDataInfo();let e=new AbortController;const t=e.signal,i=this._updateServiceDataCount(t),r=f([i,this._updateVertexLimitExceeded(i,t)]),s=r.then((()=>this._updateServiceDataExtent(t))).catch((e=>{_(e)||n.getLogger(this.declaredClass).error(\"#fetchServiceDataInfo()\",e)})).then((()=>{s===this._fetchDataInfoPromise&&(this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null),e=null}));return e&&(this._fetchDataInfoPromise=s),this._fetchDataInfoAbortController=e,r.then((()=>{}),(()=>{}))}_cancelFetchServiceDataInfo(){const e=this._fetchDataInfoAbortController;e&&(this._fetchDataInfoAbortController=null,this._fetchDataInfoPromise=null,e.abort())}get debug(){return{storedFeatures:l(this._tileFetcher)?this._tileFetcher.storedFeatures:0,totalFeatures:l(this._tileFetcher)?this._tileFetcher.totalFeatures:0,totalVertices:l(this._tileFetcher)?this._tileFetcher.totalVertices:0,missingTiles:l(this._tileFetcher)?this._tileFetcher.missingTiles:0}}};e([T({readOnly:!0})],U.prototype,\"type\",void 0),e([T({constructOnly:!0})],U.prototype,\"graphics\",void 0),e([T({constructOnly:!0})],U.prototype,\"layerView\",void 0),e([T({constructOnly:!0})],U.prototype,\"context\",void 0),e([T()],U.prototype,\"extent\",null),e([T()],U.prototype,\"updating\",null),e([T({readOnly:!0})],U.prototype,\"_watchUpdatingTracking\",void 0),e([T()],U.prototype,\"updatingTotal\",null),e([T()],U.prototype,\"updatingRemaining\",null),e([T()],U.prototype,\"expectedFeatureDiff\",null),e([T()],U.prototype,\"memoryForUnusedFeatures\",null),e([T()],U.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([T({readOnly:!0})],U.prototype,\"serviceDataExtent\",void 0),e([T({readOnly:!0})],U.prototype,\"serviceDataCount\",void 0),e([T({readOnly:!0})],U.prototype,\"vertexLimitExceeded\",void 0),e([T()],U.prototype,\"displayFeatureLimit\",void 0),e([T({type:Number})],U.prototype,\"maximumNumberOfFeatures\",null),e([T({readOnly:!0})],U.prototype,\"mode\",null),e([T({readOnly:!0})],U.prototype,\"maxTotalSnapshotVertices\",null),e([T({readOnly:!0,dependsOn:[\"mode\"]})],U.prototype,\"tileDescriptors\",null),e([T()],U.prototype,\"_tileFetcher\",void 0),e([T()],U.prototype,\"_fetchDataInfoPromise\",void 0),e([T({readOnly:!0})],U.prototype,\"vertexLimitInfo\",null),U=e([E(\"esri.layers.graphics.controllers.FeatureTileController3D\")],U);const A=1e4,N=12e3,L=1e4,P=5e6;function R(e,t){if(!t)return!1;for(const i of t)if(!e.has(i))return!0;return!1}var j;!function(e){function t(){e.MAX_FEATURE_COUNT_FOR_EXTENT=A,e.QUERY_STATISTICS_TIMEOUT=N,e.QUERY_EXTENT_TIMEOUT=L}e.NO_SERVICE_DATA_COUNT=1/0,e.MAX_SNAPSHOT_MIN_SCALE_FACTOR=5,e.reset=t}(j||(j={})),j.reset();export{U as FeatureTileController3D,j as FeatureTileController3DConstants};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}