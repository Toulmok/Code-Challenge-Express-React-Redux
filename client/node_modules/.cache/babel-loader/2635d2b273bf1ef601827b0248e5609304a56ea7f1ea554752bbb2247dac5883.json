{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../Camera.js\";\nimport \"../geometry.js\";\nimport i from \"../Graphic.js\";\nimport r from \"../Viewpoint.js\";\nimport s from \"../core/Collection.js\";\nimport { byId as a } from \"../core/domUtils.js\";\nimport n from \"../core/Error.js\";\nimport { on as o } from \"../core/events.js\";\nimport { handlesGroup as l, makeHandle as p } from \"../core/handleUtils.js\";\nimport has from \"../core/has.js\";\nimport { isIterable as h } from \"../core/iteratorUtils.js\";\nimport d from \"../core/Logger.js\";\nimport { destroyMaybe as c, isNone as u, isSome as g, unwrapOr as m, removeMaybe as y } from \"../core/maybe.js\";\nimport { ObservableChangesType as f } from \"../core/ObservableChangesType.js\";\nimport { throwIfAborted as w } from \"../core/promiseUtils.js\";\nimport { on as v, watch as _, initial as b, syncAndInitial as M, whenOnce as S, sync as C } from \"../core/reactiveUtils.js\";\nimport { setFrameDuration as R } from \"../core/scheduling.js\";\nimport { screenPointObjectToArray as V, createScreenPoint as x, createScreenPointArray as T } from \"../core/screenUtils.js\";\nimport { initialize as O } from \"../core/workers/workers.js\";\nimport { property as j } from \"../core/accessorSupport/decorators/property.js\";\nimport { cast as E } from \"../core/accessorSupport/decorators/cast.js\";\nimport \"../core/arrayUtils.js\";\nimport { subclass as I } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { ensureType as L } from \"../core/accessorSupport/ensureType.js\";\nimport { c as P } from \"../chunks/vec3f64.js\";\nimport { owningCollectionProperty as A } from \"../core/support/OwningCollection.js\";\nimport G from \"../geometry/HeightModelInfo.js\";\nimport { projectPointToVector as H, projectVectorToVector as U, canProjectWithoutEngine as W, project as D, projectBoundingRect as F } from \"../geometry/projection.js\";\nimport { create as k, toExtent as q } from \"../geometry/support/aaBoundingRect.js\";\nimport { B as z, c as N } from \"../chunks/boundedPlane.js\";\nimport { renderSRFromViewSR as B } from \"../geometry/support/coordinateSystem.js\";\nimport { getResolutionForScale as Q } from \"../geometry/support/scaleUtils.js\";\nimport { fallbackObjectIDAttribute as $ } from \"../layers/LayerConstants.js\";\nimport { isImageryTileLayer as X, isTiledLayer as Y, isVoxelLayer as Z } from \"../layers/support/layerUtils.js\";\nimport { AnalysesCollection as J } from \"../support/AnalysesCollection.js\";\nimport { BreakpointsOwner as K } from \"./BreakpointsOwner.js\";\nimport { DOMContainer as ee } from \"./DOMContainer.js\";\nimport te from \"./GroundView.js\";\nimport { PopupView as ie } from \"./PopupView.js\";\nimport re from \"./View.js\";\nimport se from \"./ViewAnimation.js\";\nimport { ViewingMode as ae, stringFromViewingMode as ne, viewingModeFromString as oe } from \"./ViewingMode.js\";\nimport { layerView3DImporter as le } from \"./3d/layerViewModuleImportUtils.js\";\nimport pe from \"./3d/analysis/AnalysisViewManager3D.js\";\nimport { Constraints as he } from \"./3d/constraints/Constraints.js\";\nimport de from \"./3d/environment/SceneViewEnvironment.js\";\nimport { SceneViewEnvironmentManager as ce } from \"./3d/environment/SceneViewEnvironmentManager.js\";\nimport ue from \"./3d/input/SceneInputManager.js\";\nimport { GraphicsDeconflictor as ge } from \"./3d/layers/graphics/GraphicsDeconflictor.js\";\nimport { Labeler as me } from \"./3d/layers/graphics/Labeler.js\";\nimport { FeatureTileTree3D as ye } from \"./3d/layers/support/FeatureTileTree3D.js\";\nimport fe from \"./3d/state/ViewState.js\";\nimport { ViewStateManager as we } from \"./3d/state/ViewStateManager.js\";\nimport { SceneIntersectionHelper as ve } from \"./3d/state/helpers/SceneIntersectionHelper.js\";\nimport { CombinedElevationProvider as _e } from \"./3d/support/CombinedElevationProvider.js\";\nimport be from \"./3d/support/debugFlags.js\";\nimport Me from \"./3d/support/DisplayQualityProfile.js\";\nimport { getElevationAtPoint as Se } from \"./3d/support/ElevationProvider.js\";\nimport Ce from \"./3d/support/HighlightOptions.js\";\nimport { MapCoordsHelper as Re } from \"./3d/support/MapCoordsHelper.js\";\nimport { PropertiesPool as Ve } from \"./3d/support/PropertiesPool.js\";\nimport xe from \"./3d/support/QualitySettings.js\";\nimport { RenderCoordsHelper as Te } from \"./3d/support/RenderCoordsHelper.js\";\nimport { newResourceController as Oe } from \"./3d/support/ResourceController.js\";\nimport je from \"./3d/support/SceneViewPerformanceInfo.js\";\nimport { SharedSymbolResources as Ee } from \"./3d/support/SharedSymbolResources.js\";\nimport { PointsOfInterest as Ie } from \"./3d/support/pointsOfInterest/PointsOfInterest.js\";\nimport Le from \"./3d/terrain/TerrainSurface.js\";\nimport { isSurfaceLayerView as Pe, getTiledLayerInfo as Ae, checkIfTileInfoSupportedForView as Ge } from \"./3d/terrain/terrainUtils.js\";\nimport { Stage as He } from \"./3d/webgl-engine/Stage.js\";\nimport { newIntersector as Ue, DEFAULT_TOLERANCE as We } from \"./3d/webgl-engine/lib/Intersector.js\";\nimport { StoreResults as De, IntersectorType as Fe } from \"./3d/webgl-engine/lib/IntersectorInterfaces.js\";\nimport { isValidIntersectorResult as ke } from \"./3d/webgl-engine/lib/intersectorUtils.js\";\nimport { toHit as qe, toOwner as ze } from \"./3d/webgl-engine/lib/intersectorUtilsConversions.js\";\nimport { TERRAIN_ID as Ne } from \"./3d/webgl-engine/lib/verticalOffsetUtils.js\";\nimport { hitTestSelectSimilarDistance as Be } from \"./support/hitTestSelectUtils.js\";\nimport { occludeesSupported as Qe } from \"./support/layerViewUtils.js\";\nimport { RenderState as $e } from \"./support/RenderState.js\";\nimport { encode as Xe, encodeData as Ye, toRenderSettings as Ze, screenshotSuperSampleSettings as Je } from \"./support/screenshotUtils.js\";\nimport { isSupportedScreenPointEvent as Ke, createScreenPointFromSupportedEvent as et } from \"./support/screenUtils.js\";\nimport { isSpatialReferenceSupported as tt } from \"./support/spatialReferenceSupport.js\";\nimport { check as it } from \"./support/WebGLRequirements.js\";\nimport rt from \"./ui/3d/DefaultUI3D.js\";\nimport st from \"../webscene/Environment.js\";\nimport at from \"../geometry/Extent.js\";\nimport nt from \"../geometry/SpatialReference.js\";\nimport ot from \"../geometry/Point.js\";\nlet lt = class extends K(ee(ie(re))) {\n  constructor(e) {\n    var _this;\n    (super(e), _this = this), this._userClippingArea = null, this._clippingArea = null, this._initialDefaultSpatialReference = null, this._defaults = {}, this._externallySet = {\n      environment: !1\n    }, this._createGraphicsViewController = null, this._lostWebGLContextHandle = null, this._resolveWhenReady = [], this._propertiesPool = new Ve({\n      slicePlane: z\n    }, this), this._resourceController = Oe(this), this._defaultToMapOptions = {\n      include: new Set()\n    }, this._defaultHitTestOptions = {\n      exclude: new Set()\n    }, this.deconflictor = new ge({\n      view: this\n    }), this.labeler = new me({\n      view: this,\n      deconflictor: this.deconflictor.labels\n    }), this.sharedSymbolResources = null, this.analyses = new J(), this.basemapTerrain = null, this.elevationProvider = null, this.canvas = null, this.constraints = new he(), this.environmentManager = new ce(), this.floors = new s(), this.fullOpacity = 1, this.graphicsView = null, this.analysisViewManager = new pe({\n      view: this\n    }), this.groundView = null, this.map = null, this.screenSizePerspectiveEnabled = !0, this.state = new fe(), this.spatialReference = null, this.alphaCompositingEnabled = !1, this.preserveDrawingBufferEnabled = !1, this.supersampleScreenshotsEnabled = !0, this.type = \"3d\", this.ui = new rt(), this._numUpdating = 0, this._lastUpdateTime = 0, this.updatingProgress = .5, this.highlightOptions = new Ce(), this.voxelWasm = null, this.voxelWasmPromise = null, O(), e && e.environment || (this._defaults.environment = new de(), this.environment = this._defaults.environment);\n    const t = function () {\n      let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      g(e) && e.type === f.MOVE || (_this._updatingChanged(), _this.map && _this.map.allLayers.forEach(async e => {\n        try {\n          await e.when();\n        } catch {}\n        _this._updatingChanged();\n      }));\n    };\n    this.handles.add([v(() => this.map?.allLayers, \"after-changes\", e => t(e), {\n      onListenerAdd: () => t(),\n      onListenerRemove: () => t(),\n      sync: !0\n    }), this.allLayerViews.on(\"after-changes\", e => this._updateUpdatingMonitors(e)), _(() => this.map, e => {\n      e && \"load\" in e && e.load && e.load().catch(() => {});\n    })]), this.inputManager = new ue({\n      view: this\n    }), this.stateManager = new we({\n      view: this\n    });\n  }\n  initialize() {\n    this.groundView = new te({\n      view: this\n    }), this._updateUpdatingMonitors();\n    const e = () => this._updateDefaultToMapOptions();\n    this.handles.add(v(() => this.map?.allLayers, \"after-changes\", e, {\n      onListenerAdd: e,\n      onListenerRemove: e\n    })), this.updatingHandles.add(() => this.qualitySettings.memoryLimit, e => {\n      this.resourceController && (this.resourceController.memoryController.maxMemory = e);\n    }, b), this.updatingHandles.add(() => this.qualitySettings.additionalCacheMemory, e => {\n      this.resourceController && (this.resourceController.memoryController.additionalCacheMemory = e);\n    }, b), this.updatingHandles.add(() => this.qualitySettings.frameRate ?? 0, e => R(e > 0 ? 1e3 / Math.ceil(e) : 0), b), this.updatingHandles.add(() => this.map?.ground, e, M), this.updatingHandles.add(() => this.map?.ground?.opacity, () => this._updateDefaultHitTestOptions(), M), this.handles.add(_(() => this.spatialReference, () => this.notifyChange(\"clippingArea\"), C));\n  }\n  destroy() {\n    this.destroyed || (this.invalidate(), this.activeTool = null, this.layerViewManager.clear(), this._exitSurface(), this._disposeGraphicsView(), this.sharedSymbolResources = c(this.sharedSymbolResources), this._set(\"labeler\", c(this.labeler)), this._set(\"deconflictor\", c(this.deconflictor)), this._resourceController = c(this._resourceController), this._set(\"stateManager\", c(this.stateManager)), this._set(\"inputManager\", c(this.inputManager)), this.state.destroy(), this._propertiesPool.destroy(), this.handles.remove(\"updatingMonitors\"), this._set(\"environmentManager\", c(this.environmentManager)), this.groundView = c(this.groundView));\n  }\n  get renderSpatialReference() {\n    return this.renderCoordsHelper && this.renderCoordsHelper.spatialReference;\n  }\n  get basemapSpatialReference() {\n    return this.basemapTerrain?.spatialReference;\n  }\n  get animation() {\n    return this.state?.animation;\n  }\n  get camera() {\n    return this.stateManager?.camera;\n  }\n  set camera(e) {\n    this.stateManager && (this.stateManager.camera = e);\n  }\n  get contentCamera() {\n    return this.stateManager?.contentCamera;\n  }\n  set contentCamera(e) {\n    this.stateManager && (this.stateManager.contentCamera = e);\n  }\n  installContentCameraReset() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      sticky: !1\n    };\n    return this.stateManager.installContentCameraReset(e);\n  }\n  get center() {\n    return this.stateManager?.center;\n  }\n  set center(e) {\n    this.stateManager && (this.stateManager.center = e);\n  }\n  get clippingArea() {\n    if (\"global\" === this.viewingMode) return null;\n    let e = this._userClippingArea || (\"clippingArea\" in this.map ? this.map?.clippingArea : void 0);\n    return !(!!this._userClippingArea || this.get(\"map.clippingEnabled\")) || u(e) ? (this._clippingArea = null, null) : e instanceof at ? this.spatialReference && (e = dt(e, this.spatialReference), u(e)) ? (d.getLogger(this.declaredClass).error(\"#clippingArea\", \"setting clippingArea with incompatible SpatialReference\"), this._clippingArea) : (e = e.clone(), u(e.intersection(this._groundAndLayersExtent)) && (e.xmin = e.xmax, e.ymin = e.ymax), e.zmin = void 0, e.zmax = void 0, e.equals(this._clippingArea) || (this._clippingArea = e), this._clippingArea) : (d.getLogger(this.declaredClass).error(\"#clippingArea\", \"only clippingArea geometries of type Extent are supported\"), this._clippingArea);\n  }\n  set clippingArea(e) {\n    this.ready && \"global\" === this.viewingMode && g(e) ? d.getLogger(this.declaredClass).error(\"#clippingArea=\", \"Clipping area is only supported in local viewingMode\") : this._userClippingArea = e;\n  }\n  get renderDataExtent() {\n    if (this.state.viewingMode === ae.Global) return null;\n    const e = this.renderSpatialReference,\n      t = this.dataExtent;\n    return u(t) || u(e) || t.spatialReference.equals(e) ? t : dt(t, e);\n  }\n  get dataExtent() {\n    let e = this._groundAndLayersExtent;\n    const t = this.spatialReference || nt.WGS84,\n      i = dt(this.clippingArea, t);\n    g(i) && (e = g(e) ? e.intersection(i) : i);\n    const r = this._get(\"dataExtent\");\n    return g(e) && e.equals(r) ? r : e;\n  }\n  get _groundAndLayersExtent() {\n    const e = this.spatialReference || nt.WGS84;\n    let t;\n    const i = i => {\n        const r = dt(i, e);\n        u(r) || (g(t) ? t.union(r) : t = r.clone());\n      },\n      r = this.basemapTerrain;\n    if (r?.spatialReference) {\n      const e = r.groundExtent;\n      i(new at({\n        xmin: e[0],\n        ymin: e[1],\n        zmin: 0,\n        xmax: e[2],\n        ymax: e[3],\n        zmax: 0,\n        spatialReference: r.spatialReference\n      }));\n    }\n    if (this.map) {\n      const e = e => {\n        !g(e.fullExtent) || \"graphics\" === e.type && e.internal || i(e.fullExtent);\n      };\n      this.map.allLayers.forEach(t => e(t));\n    }\n    if (u(t)) return null;\n    t.hasZ ? (t.zmin = Math.min(0, t.zmin ?? 0), t.zmax = Math.max(0, t.zmax ?? 0)) : (t.zmin = 0, t.zmax = 0);\n    const s = this._get(\"_groundAndLayersExtent\");\n    return t.equals(s) ? s : t;\n  }\n  set environment(e) {\n    e !== this._defaults.environment && (this._externallySet.environment = !0), this._set(\"environment\", e);\n  }\n  castEnvironment(e) {\n    return e ? e instanceof de ? e : e instanceof st ? null != this.environment ? this.environment.cloneWithWebsceneEnvironment(e) : de.fromWebsceneEnvironment(e) : L(de, e) : new de();\n  }\n  get extent() {\n    return this.stateManager?.extent;\n  }\n  set extent(e) {\n    this.stateManager && (this.stateManager.extent = e);\n  }\n  get screenCenter() {\n    return this.stateManager?.screenCenter;\n  }\n  get frustum() {\n    return this.stateManager?.frustum;\n  }\n  get initialExtentRequired() {\n    return this.stateManager && !this.stateManager.hasInitialView;\n  }\n  get _defaultsFromMapSettings() {\n    return {\n      required: {\n        tileInfo: !1,\n        heightModelInfo: !0,\n        extent: !1\n      }\n    };\n  }\n  get interacting() {\n    return this.navigating || g(this.activeTool) && this.activeTool.visible;\n  }\n  get stationary() {\n    return !this.animation && !this.resizing && (u(this.state) || this.state.stationary);\n  }\n  get navigating() {\n    return this.state?.navigating ?? !1;\n  }\n  get padding() {\n    return this.stateManager?.padding;\n  }\n  set padding(e) {\n    this.stateManager && (this.stateManager.padding = e);\n  }\n  set qualityProfile(e) {\n    Me.isValidProfile(e) && (Me.apply(e, this.qualitySettings), this._set(\"qualityProfile\", e));\n  }\n  get qualityProfile() {\n    return this._get(\"qualityProfile\") || Me.getDefaultProfile();\n  }\n  set slicePlane(e) {\n    if (g(this._stage) && this._stage.renderer.setParameters({\n      slicePlane: e\n    }), u(e)) return void this._set(\"slicePlane\", null);\n    const t = this._propertiesPool.get(\"slicePlane\");\n    N(e, t), this._set(\"slicePlane\", t);\n  }\n  get typeSpecificPreconditionsReady() {\n    return !!this.viewingMode;\n  }\n  get resolution() {\n    return null != this.spatialReference ? Q(this.scale, this.spatialReference) : 0;\n  }\n  get scale() {\n    return this.stateManager?.scale;\n  }\n  set scale(e) {\n    this.stateManager && (this.stateManager.scale = e);\n  }\n  get heightModelInfo() {\n    const e = this.getDefaultHeightModelInfo();\n    return null != e ? G.deriveUnitFromSR(e, this.spatialReference) : null;\n  }\n  get updating() {\n    if (this.destroyed) return !1;\n    let e = 0,\n      t = this.layerViewManager.updating,\n      i = t ? this.layerViewManager.updatingRemaining : 0;\n    this.allLayerViews.forEach(r => {\n      if (r.isFulfilled()) {\n        if (r.updating) {\n          if (t = !0, r.suspended || Pe(r)) return;\n          ++i, e += r.updatingProgress;\n        }\n      } else ++i;\n    });\n    for (const s of [this.graphicsView, this.basemapView, this._resourceController, this._stage, this.featureTiles, this.pointsOfInterest, this.environmentManager, this.overlay, this._featureTreeDebugger, this.toolViewManager, this.analysisViewManager]) if (g(s) && s.updating) {\n      const t = .1;\n      i += t, e += .5 * t;\n    }\n    for (const s of [this.deconflictor, this.labeler, this.basemapTerrain]) g(s) && s.updating && (++i, e += s.updatingProgress);\n    const r = this.stateManager.test.updatingIgnoreRenderState ? $e.IDLE : this.state.mode;\n    if (t = !!(t || i > 0 || this.updatingHandles.updating || !this.ready || !this.stationary || r !== $e.IDLE || this._createGraphicsViewController || this.inputManager?.hasPendingInputs || this.map?.allLayers?.some(e => !e.isFulfilled())), t ? (this._numUpdating = Math.max(i, this._numUpdating), e += this._numUpdating - i) : this._numUpdating = 0, this._numUpdating > 0 ? e /= this._numUpdating : e = t ? 0 : 1, this._get(\"updatingProgress\") !== e) {\n      const i = performance.now();\n      if (e < 1) {\n        const t = Math.min((i - this._lastUpdateTime) / 2e3, 1);\n        e = this.updatingProgress * (1 - t) + e * t;\n      }\n      this._set(\"updatingProgress\", e), this._lastUpdateTime = t && e < 1 ? i : 0;\n    }\n    return t;\n  }\n  get viewingMode() {\n    const e = this._predeterminedViewingMode;\n    if (g(e)) return ne(e);\n    const t = this.spatialReference;\n    return t ? g(this.defaultsFromMap?.viewingMode) && t.equals(this.defaultsFromMap.spatialReference) ? ne(this.defaultsFromMap.viewingMode) : tt(t, ae.Global) ? \"global\" : \"local\" : \"global\";\n  }\n  set viewingMode(e) {\n    this.ready ? d.getLogger(this.declaredClass).error(\"#viewingMode\", \"viewingMode cannot be set once view is ready\") : this._overrideIfSome(\"viewingMode\", e);\n  }\n  get viewpoint() {\n    return this.stateManager?.viewpoint;\n  }\n  set viewpoint(e) {\n    this.stateManager && (this.stateManager.viewpoint = e);\n  }\n  get zoom() {\n    return this.stateManager.zoom;\n  }\n  set zoom(e) {\n    this.stateManager && (this.stateManager.zoom = e);\n  }\n  get resourceController() {\n    return this._resourceController;\n  }\n  get performanceInfo() {\n    return new je(this);\n  }\n  on(e, t, i, r) {\n    const s = this.viewEvents.on(e, t, i, r);\n    return s || super.on(e, t);\n  }\n  hasEventListener(e) {\n    return super.hasEventListener(e) || this.viewEvents.hasHandler(e);\n  }\n  toMap(e, t) {\n    if (!this.ready) return d.getLogger(this.declaredClass).error(\"#toMap()\", \"Scene view cannot be used before it is ready\"), null;\n    const i = t ? this.externalToInternalIntersectOptions(t) : this._defaultToMapOptions,\n      r = g(i.graphics) && (g(i.graphics.include) || g(i.graphics.exclude)),\n      s = Ke(e) ? et(this, e) : e,\n      a = V(s);\n    i.enableDraped = i.include && !i.include.has(Ne) || i.exclude && i.exclude.has(Ne);\n    const n = this.sceneIntersectionHelper,\n      o = Ue(this.state.viewingMode);\n    if (o.options.selectionMode = !0, o.options.store = r ? De.ALL : De.MIN, n.intersectIntersectorScreen(a, o, i), r) {\n      for (const e of o.results.all) {\n        const t = qe(e, this);\n        if (u(t)) return this._intersectResultToMapPoint(e);\n        if (\"graphic\" !== t.type || this._testGraphicUidFilter(i.graphics, t.graphic)) return this._intersectResultToMapPoint(e);\n      }\n      return null;\n    }\n    return this._intersectResultToMapPoint(o.results.min);\n  }\n  toScreen(e) {\n    if (!this.ready) return d.getLogger(this.declaredClass).error(\"#toScreen()\", \"Scene view cannot be used before it is ready\"), null;\n    const t = m(null == e.z ? Se(this.elevationProvider, e) : null, 0);\n    return H(e, ut, this.renderSpatialReference, t), this.state.camera.projectToScreen(ut, gt), x(gt[0], gt[1]);\n  }\n  pixelSizeAt(e) {\n    return this.ready ? e ? (H(e, ut, this.renderSpatialReference), this.state.camera.computeScreenPixelSizeAt(ut)) : 0 : (d.getLogger(this.declaredClass).error(\"#pixelSizeAt()\", \"Scene view cannot be used before it is ready\"), null);\n  }\n  overlayPixelSizeInMapUnits(e) {\n    const t = this.basemapTerrain.overlayManager;\n    return t ? t.overlayPixelSizeInMapUnits(e) : 1;\n  }\n  hitTest(e, t) {\n    if (!this.ready) return d.getLogger(this.declaredClass).error(\"#hitTest()\", \"Scene view cannot be used before it is ready\"), null;\n    const i = Ke(e) ? et(this, e) : e,\n      r = T(i.x, i.y),\n      s = t ? this.externalToInternalIntersectOptions(t) : this._defaultHitTestOptions;\n    s.requiresGroundFeedback = !0, s.enableDraped = !0;\n    const a = Ue(this.state.viewingMode);\n    a.options.selectionMode = !0, a.options.store = De.ALL, this.sceneIntersectionHelper.intersectIntersectorScreen(r, a, s);\n    const n = this._intersectResultsToHits(a.results.all, s.graphics),\n      o = a.results.ground,\n      l = ze(o, this),\n      p = g(l) && \"type\" in l && \"integrated-mesh\" === l.type ? l : null,\n      h = {\n        screenPoint: i,\n        results: n,\n        ground: {\n          mapPoint: this._intersectResultToMapPoint(o),\n          distance: ke(o) ? o.distanceInRenderSpace : 0,\n          layer: p\n        }\n      };\n    return be.SCENEVIEW_HITTEST_RETURN_INTERSECTOR && (h.intersector = a), Promise.resolve(h);\n  }\n  async popupHitTest(e) {\n    const {\n      results: t,\n      ground: i\n    } = await Be(this, e);\n    let r = null;\n    return !(0 === t.length || Math.abs(m(t[0].distance, 0) - i.distance) < 1e-5) || i.layer && \"integrated-mesh\" === i.layer.type || (r = i.mapPoint), {\n      results: t,\n      screenPoint: e,\n      mapPoint: r\n    };\n  }\n  goTo(e, t) {\n    return this.updatingHandles.addPromise(this.stateManager.goTo(e, t));\n  }\n  async whenAnalysisView(e) {\n    if (u(e.parent)) throw new n(\"view:no-analysisview-for-analysis\", \"The analysis has not been added to view.analyses\", {\n      analysis: e\n    });\n    switch (e.parent.type) {\n      case \"line-of-sight\":\n      case \"dimension\":\n        return (await this.whenLayerView(e.parent)).whenAnalysisView();\n      default:\n        return this.analysisViewManager.whenAnalysisView(e);\n    }\n  }\n  whenLayerView(e) {\n    return super.whenLayerView(e);\n  }\n  async takeScreenshot(e) {\n    const t = this._completeSettings(e);\n    await this.whenReady();\n    const i = await this._stage.renderView.takeScreenshot(t);\n    return Xe(i, t, this._pixelFormat());\n  }\n  async _takeScreenshot(e) {\n    const t = this._completeSettings(e);\n    await this.whenReady();\n    const i = await this._stage.renderView.takeScreenshot(t);\n    return Ye(i, this._pixelFormat());\n  }\n  async _takeScreenshotWithObjectAndLayerId(e) {\n    const t = this._completeSettings(e);\n    await this.whenReady();\n    const i = await this._stage.renderView.takeScreenshotWithOID(t);\n    return [Ye(i[0], this._pixelFormat()), Ye(i[1], this._pixelFormat())];\n  }\n  _completeSettings(e) {\n    const t = Ze(e, this);\n    return t.pixelRatio /= this.state.pixelRatio, Je(t, this.supersampleScreenshotsEnabled, this.padding);\n  }\n  _pixelFormat() {\n    return {\n      flipY: !0,\n      premultipliedAlpha: this._stage.renderView.getAlpha()\n    };\n  }\n  get test() {\n    return {\n      takeScreenshot: e => this._takeScreenshot(e),\n      takeScreenshotWithObjectAndLayerId: e => this._takeScreenshotWithObjectAndLayerId(e)\n    };\n  }\n  async takeScreenshotWithObjectAndLayerId(e) {\n    if (!has(\"enable-feature:objectAndLayerId-rendering\")) throw new Error(\"has enable-feature:objectAndLayerId-rendering must be true\");\n    const t = this._completeSettings(e);\n    await this.whenReady();\n    const i = await this._stage.renderView.takeScreenshotWithOID(t),\n      r = Xe(i[0], t, this._pixelFormat()),\n      s = this._completeSettings(e);\n    s.format = \"png\";\n    return [r, Xe(i[1], s, this._pixelFormat())];\n  }\n  getColorToObjectAndLayerIdMapping() {\n    if (u(this._stage.renderView.objectAndLayerIdRenderHelper)) throw new Error(\"has enable-feature:objectAndLayerId-rendering must be true\");\n    return this._stage.renderView.objectAndLayerIdRenderHelper.getColorToObjectAndLayerIdMapping();\n  }\n  addUpdatingPromise(e) {\n    return this.updatingHandles.addPromise(e);\n  }\n  importLayerView(e) {\n    return le.importLayerView(e);\n  }\n  hasLayerViewModule(e) {\n    return le.hasLayerViewModule(e);\n  }\n  forceDOMReadyCycle() {\n    this.forceReadyCycle();\n  }\n  getDefaultSpatialReference() {\n    return this.map && \"initialViewProperties\" in this.map && this.map?.initialViewProperties?.spatialReference || this.defaultsFromMap?.spatialReference || this.defaultsFromMap?.ready && this._initialDefaultSpatialReference || null;\n  }\n  async validate() {\n    let e = it(this.type);\n    const t = has(\"safari\");\n    if (t && t < 9 && (e = new n(\"sceneview:browser-not-supported\", \"This browser is not supported by SceneView (Safari < 9)\", {\n      type: \"safari\",\n      requiredVersion: 9,\n      detectedVersion: t\n    })), g(e)) throw d.getLogger(this.declaredClass).warn(\"#validate()\", e.message), e;\n  }\n  get _predeterminedViewingMode() {\n    const e = this._isOverridden(\"viewingMode\") ? this._get(\"viewingMode\") : (this.map && \"initialViewProperties\" in this.map ? this.map.initialViewProperties?.viewingMode : null) ?? null;\n    return g(e) ? oe(e) : null;\n  }\n  getSpatialReferenceSupport(_ref) {\n    let {\n      spatialReference: e,\n      layer: t\n    } = _ref;\n    const i = this._predeterminedViewingMode;\n    if (g(i)) return this._validateSpatialReferenceForViewingMode(e, t, i) ? {\n      constraints: this._makeSpatialReferenceConstraints(e, t, i)\n    } : null;\n    const r = this._validateSpatialReferenceForViewingMode(e, t, ae.Local),\n      s = this._validateSpatialReferenceForViewingMode(e, t, ae.Global);\n    return r || s ? r && s ? {\n      constraints: this._makeSpatialReferenceConstraints(e, t, null)\n    } : r ? {\n      constraints: this._makeSpatialReferenceConstraints(e, t, ae.Local)\n    } : {\n      constraints: this._makeSpatialReferenceConstraints(e, t, ae.Global)\n    } : null;\n  }\n  _validateSpatialReferenceForViewingMode(e, t, i) {\n    return !!tt(e, i) && (!!u(t) || !!X(t) || (!Y(t) || !u(Ae(t, e, i))) && (!Z(t) || i !== ae.Global));\n  }\n  _makeSpatialReferenceConstraints(e, t, i) {\n    if (u(t)) return [{\n      spatialReference: e,\n      viewingMode: i\n    }];\n    const r = e.isWebMercator,\n      s = e.isWGS84;\n    if (X(t) && (r || s)) {\n      return !s || i === ae.Local || null === Ge(t.tileInfo, t.fullExtent, e, ae.Global) ? [{\n        spatialReference: e,\n        viewingMode: i\n      }, {\n        spatialReference: nt.WebMercator,\n        viewingMode: i\n      }] : [{\n        spatialReference: r ? nt.WGS84 : nt.WebMercator,\n        viewingMode: i\n      }];\n    }\n    return Y(t) || Z(t) || !r && !s ? Y(t) && r && i !== ae.Global ? [{\n      spatialReference: e,\n      viewingMode: i\n    }, {\n      spatialReference: nt.WGS84,\n      viewingMode: ae.Local\n    }] : [{\n      spatialReference: e,\n      viewingMode: i\n    }] : [{\n      spatialReference: e,\n      viewingMode: i\n    }, {\n      spatialReference: r ? nt.WGS84 : nt.WebMercator,\n      viewingMode: i\n    }];\n  }\n  _validateSpatialReference(e) {\n    const t = g(this.getSpatialReferenceSupport({\n        spatialReference: e\n      })),\n      i = this._predeterminedViewingMode;\n    return t || (g(i) ? d.getLogger(this.declaredClass).warnOnce(`Spatial reference defined on view not supported in ${ne(i)} viewing mode.`) : e.isGeographic && d.getLogger(this.declaredClass).warnOnce(\"Spatial reference is geographic but not supported.\")), t;\n  }\n  whenReady() {\n    return new Promise(e => {\n      this.ready ? e(this) : this._resolveWhenReady.push(e);\n    });\n  }\n  computeMapPointFromVec3d(e, t) {\n    let i = this.spatialReference || nt.WGS84;\n    return U(e, this.renderSpatialReference, e, i) || (i = nt.WGS84, U(e, this.renderSpatialReference, e, i)), t ? (t.x = e[0], t.y = e[1], t.z = e[2], t.spatialReference = i) : t = new ot(e, i), t;\n  }\n  trackGraphicState(e) {\n    if (!e.graphic) return d.getLogger(this.declaredClass).error(\"trackGraphicState\", \"GraphicState.graphic must not be null or undefined to start tracking\"), null;\n    const t = this.getViewForGraphic(e.graphic);\n    let i = null,\n      r = !1;\n    const s = t => {\n      !r && g(t) && \"processor\" in t && \"graphics-3d\" === t.processor?.type && t.processor.graphicsCore && (i = t.processor.graphicsCore.trackGraphicState(e));\n    };\n    return g(t) ? s(t) : this.whenViewForGraphic(e.graphic, {\n      waitForLayer: !0\n    }).then(e => s(e), () => {}).catch(() => {}), {\n      remove: () => {\n        r = !0, g(i) && (i.remove(), i = null);\n      }\n    };\n  }\n  highlight(e) {\n    if (Array.isArray(e)) return l(e.map(e => this.highlight(e)));\n    if (s.isCollection(e)) return l(e.toArray().map(e => this.highlight(e)));\n    const t = this.getViewForGraphic(e);\n    return t && \"highlight\" in t ? t.highlight(e) : p();\n  }\n  maskOccludee(e) {\n    if (!e) return d.getLogger(this.declaredClass).error(\"maskOccludee\", \"GraphicState.graphic must not be null or undefined to mask an occludee\"), null;\n    const t = this.getViewForGraphic(e);\n    let i = null,\n      r = !1;\n    const s = t => {\n      !r && g(t) && Qe(t) && (i = t.maskOccludee(e));\n    };\n    return g(t) ? s(t) : this.whenViewForGraphic(e, {\n      waitForLayer: !0\n    }).then(e => s(e), () => {}).catch(() => {}), {\n      remove: () => {\n        r = !0, g(i) && (i.remove(), i = null);\n      }\n    };\n  }\n  getViewForGraphic(e) {\n    return e.layer === this.graphics ? this.graphicsView : e.layer ? this.allLayerViews.find(t => t.layer === e.layer) : null;\n  }\n  graphicChanged(e) {\n    g(this.graphicsView) && this.graphicsView.graphicChanged(e);\n  }\n  async whenViewForGraphic(e, t) {\n    if (e.layer === this) return await S(() => this.graphicsView), this.graphicsView;\n    if (!e.layer || !this.map) throw new n(\"no-view-for-graphic\");\n    return t && t.waitForLayer && !this.map.allLayers.includes(e.layer) ? new Promise((t, i) => {\n      const r = this.map.allLayers.on(\"change\", s => {\n        s.added.includes(e.layer) && (r.remove(), this.whenLayerView(e.layer).then(t, i));\n      });\n    }) : this.whenLayerView(e.layer);\n  }\n  externalToInternalIntersectOptions(e) {\n    const t = this._externalToInternalRenderItems(e.include, ct.INCLUDE),\n      i = this._externalToInternalRenderItems(e.exclude, ct.EXCLUDE);\n    return {\n      include: t.layerUids,\n      exclude: i.layerUids,\n      graphics: {\n        include: t.graphicUids,\n        exclude: i.graphicUids\n      }\n    };\n  }\n  _intersectResultToMapPoint(e, t) {\n    return e.getIntersectionPoint(ut) ? (t = this.computeMapPointFromVec3d(ut, t), e.intersector === Fe.TERRAIN && this.basemapTerrain && (t.z = m(Se(this.basemapTerrain, t), 0)), t) : null;\n  }\n  _intersectResultsToHits(e, t) {\n    const i = new Array();\n    let r = null;\n    for (let s = 0; s < e.length; s++) {\n      const a = e[s],\n        n = ze(a, this);\n      if (g(n) && (n === this.map.ground || \"type\" in n && \"integrated-mesh\" === n.type)) break;\n      const o = qe(a, this);\n      if (u(o)) continue;\n      if (\"graphic\" === o.type) {\n        if (u(r) && s !== e.length - 1 && (r = new Set()), g(r)) {\n          const e = this._getGraphicFilterUid(o.graphic);\n          if (r.has(e)) continue;\n          r.add(e);\n        }\n        if (!this._testGraphicUidFilter(t, o.graphic)) continue;\n      }\n      const l = this._intersectResultToMapPoint(a),\n        p = a.distanceInRenderSpace;\n      i.push({\n        ...o,\n        mapPoint: l,\n        distance: p\n      });\n    }\n    return i;\n  }\n  _getGraphicFilterUid(e) {\n    const t = e.sourceLayer,\n      i = e.layer,\n      r = t && \"objectIdField\" in t ? t : i && \"objectIdField\" in i ? i : t;\n    if (r) {\n      const t = r.objectIdField ?? $,\n        i = e.attributes?.[t];\n      if (i) return `o-${r.id}-${i}`;\n    }\n    return `u-${e.uid}`;\n  }\n  _testGraphicUidFilter(e, t) {\n    const i = this._getGraphicFilterUid(t);\n    return u(e) || (u(e.include) || e.include.has(i)) && (u(e.exclude) || !e.exclude.has(i));\n  }\n  _externalToInternalRenderItems(e, t) {\n    let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n      layerUids: void 0,\n      graphicUids: void 0\n    };\n    if (!e) return r;\n    if (e instanceof i) ht(r, this._getGraphicFilterUid(e)), t === ct.INCLUDE && (g(this.graphicsView) && e.layer === this ? pt(r, this.graphicsView.processor.layer.id) : e.layer && pt(r, e.layer.uid));else if (h(e)) for (const i of e) i === this.graphics && g(this.graphicsView) ? pt(r, this.graphicsView.processor.layer.id) : i === this.map.ground ? pt(r, Ne) : this._externalToInternalRenderItems(i, t, r);else \"uid\" in e && pt(r, e.uid);\n    return r;\n  }\n  _initBasemapTerrain() {\n    this._set(\"basemapTerrain\", new Le({\n      view: this\n    })), this._set(\"elevationProvider\", new _e({\n      view: this\n    })), this.elevationProvider.register(\"ground\", this.basemapTerrain);\n  }\n  _exitBasemapTerrain() {\n    this.basemapTerrain && (this.elevationProvider.unregister(this.basemapTerrain), this.elevationProvider.destroy(), this._set(\"elevationProvider\", null), this.basemapTerrain.destroy(), this._set(\"basemapTerrain\", null));\n  }\n  _initGlobe() {\n    this._initCoordinateSystem(), this.state.createInitialCamera(), this._initBasemapTerrain(), this._set(\"pointsOfInterest\", new Ie({\n      view: this\n    })), this._set(\"featureTiles\", new ye({\n      renderCoordsHelper: this.renderCoordsHelper,\n      cameraOnSurface: this.pointsOfInterest.cameraOnSurface,\n      focus: this.pointsOfInterest.focus,\n      tilingSchemeOwner: this.basemapTerrain,\n      viewState: this.state,\n      scheduler: this._resourceController.scheduler,\n      terrain: this.basemapTerrain\n    }));\n    const e = () => {\n      const e = this.basemapTerrain?.extent;\n      if (this.clippingArea || e) {\n        if (e && this.basemapTerrain.spatialReference) {\n          const e = g(this.basemapTerrain.extent) && g(this.basemapTerrain.spatialReference) ? D(q(this.basemapTerrain.extent, this.basemapTerrain.spatialReference), this.spatialReference) : null;\n          g(this.clippingArea) ? this.featureTiles.filterExtent = this.clippingArea.intersection(e) : this.featureTiles.filterExtent = e;\n        } else this.featureTiles.filterExtent = this.clippingArea;\n      } else this.featureTiles.filterExtent = null;\n    };\n    this.handles.add([this.updatingHandles.add(() => be.FEATURE_TILE_TREE_SHOW_TILES, e => {\n      e && this.featureTiles && !this._featureTreeDebugger ? this.updatingHandles.addPromise(import(\"./3d/layers/support/FeatureTileTree3DDebugger.js\")).then(_ref2 => {\n        let {\n          FeatureTileTree3DDebugger: e\n        } = _ref2;\n        !this._featureTreeDebugger && be.FEATURE_TILE_TREE_SHOW_TILES && (this._featureTreeDebugger = new e({\n          view: this\n        }));\n      }) : e || !this._featureTreeDebugger || be.FEATURE_TILE_TREE_SHOW_TILES || (this._featureTreeDebugger.destroy(), this._featureTreeDebugger = null);\n    }, M), this.updatingHandles.add(() => this.clippingArea, e, M), this.updatingHandles.add(() => this.basemapTerrain.extent, e, M)], \"feature-tiles\"), this.stateManager.init();\n  }\n  _exitGlobe() {\n    this.state && (this.stateManager.exit(), this.handles.remove(\"render-coords-helper\"), this.handles.remove(\"feature-tiles\"), this.featureTiles.destroy(), this._set(\"featureTiles\", null), this.pointsOfInterest.destroy(), this._set(\"pointsOfInterest\", null), this._exitBasemapTerrain(), this.state.exit(), this._exitCoordinateSystem());\n  }\n  _initCoordinateSystem() {\n    if (this.spatialReference) {\n      const e = this.spatialReference;\n      this.mapCoordsHelper && this.mapCoordsHelper.spatialReference.equals(e) || this._set(\"mapCoordsHelper\", new Re(this.map, e));\n      const t = this.state.isGlobal,\n        i = B(t, e);\n      i !== this.renderSpatialReference && (this._set(\"renderCoordsHelper\", Te.create(this.state.viewingMode, i)), t || this.handles.add(_(() => this.basemapTerrain?.extent, e => {\n        const t = this.renderCoordsHelper.spatialReference;\n        g(e) && (0 !== e[0] || 0 !== e[1] || 0 !== e[2] || 0 !== e[3]) && F(e, this.basemapTerrain.spatialReference, mt, t) && (this.renderCoordsHelper.extent = mt);\n      }, C), \"render-coords-helper\"), this.sceneIntersectionHelper && this.sceneIntersectionHelper.setTolerance(We / this.renderCoordsHelper.unitInMeters));\n    } else this._set(\"mapCoordsHelper\", null), this._set(\"renderCoordsHelper\", null);\n  }\n  _exitCoordinateSystem() {\n    this.mapCoordsHelper && (this.handles.remove(\"render-coords-helper\"), this._set(\"renderCoordsHelper\", null), this._set(\"mapCoordsHelper\", null));\n  }\n  _updatingChanged() {\n    this.notifyChange(\"updating\");\n  }\n  _updateUpdatingMonitors() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    g(e) && e.type === f.MOVE || (this.handles.remove(\"updatingMonitors\"), this.allLayerViews.forEach(e => {\n      e.destroyed || (this.handles.add(_(() => [e.updating, e.updatingProgress], () => this._updatingChanged(), C), \"updatingMonitors\"), e.when(() => this._updatingChanged(), () => this._updatingChanged()));\n    }), this._updatingChanged());\n  }\n  async _prepareScreenshotOverlay() {\n    this.overlay && (await this.overlay.prepare());\n  }\n  _renderScreenshotOverlay(e, t) {\n    if (!this.overlay || !this.overlay.hasVisibleItems) return t;\n    const i = e.getContext(\"2d\");\n    return i.putImageData(t, 0, 0), this.overlay.renderCanvas(e), i.getImageData(0, 0, t.width, t.height);\n  }\n  _initStage() {\n    const e = {\n        deactivatedWebGLExtensions: this.deactivatedWebGLExtensions,\n        debugWebGLExtensions: this.debugWebGLExtensions,\n        alpha: this.alphaCompositingEnabled,\n        preserveDrawingBuffer: this.preserveDrawingBufferEnabled,\n        canvas: this.renderCanvas,\n        screenshot: {\n          prepareOverlay: () => this._prepareScreenshotOverlay(),\n          renderOverlay: (e, t) => this._renderScreenshotOverlay(e, t)\n        }\n      },\n      t = new ve(this.state.viewingMode, e => this._stage.layers.forAll(e), this);\n    this._set(\"sceneIntersectionHelper\", t);\n    const i = a(this.surface);\n    this._stage = new He({\n      view: this,\n      options: e,\n      container: i\n    }), this._stage.renderer.setParameters({\n      slicePlane: this.slicePlane\n    }), this._lostWebGLContextHandle = o(this._stage.renderView.canvas, \"webglcontextlost\", () => this.fatalError = new n(\"webgl-context-lost\")), this.handles.add([this.updatingHandles.add(() => this.qualitySettings.antialiasingEnabled, () => this._stage.renderer.setParameters({\n      antialiasingEnabled: this.qualitySettings.antialiasingEnabled\n    }), b), this.updatingHandles.add(() => this.qualitySettings.highQualityTransparency, e => this._stage.renderer.setParameters({\n      highQualityTransparency: e\n    }), b), _(() => this.magnifier, e => this._stage.renderView.magnifier = e, M), this.on(\"pointer-move\", () => this._stage?.renderer.resetAnimation())], \"stage\");\n    const r = () => {\n      this._stage.renderer.setParameters({\n        defaultHighlightOptions: Ce.toEngineOptions(this.highlightOptions)\n      });\n    };\n    this.handles.add(this.updatingHandles.add(() => [this.highlightOptions.color, this.highlightOptions.haloColor, this.highlightOptions.haloOpacity, this.highlightOptions.fillOpacity, this.highlightOptions.shadowOpacity, this.highlightOptions.shadowColor, this.highlightOptions.shadowDifference], r), \"stage\"), r(), this.renderCoordsHelper && this.sceneIntersectionHelper.setTolerance(We / this.renderCoordsHelper.unitInMeters), this._set(\"canvas\", this._stage.renderView.canvas);\n  }\n  _exitStage() {\n    this._set(\"sceneIntersectionHelper\", null), this._stage = c(this._stage), this._lostWebGLContextHandle = y(this._lostWebGLContextHandle), this.handles.remove(\"stage\"), this._set(\"canvas\", null);\n  }\n  _initSurface(e) {\n    this._exitSurface(), this.state.init(e, this.spatialReference), this._initStage(), this._initGlobe(), this.sharedSymbolResources = new Ee({\n      view: this,\n      viewingMode: e,\n      resourceController: this._resourceController,\n      pointsOfInterest: this.pointsOfInterest,\n      viewState: this.state\n    });\n  }\n  _exitSurface() {\n    this.sharedSymbolResources && (this.sharedSymbolResources.objectResourceCache.destroy(), this.sharedSymbolResources.destroy(), this.sharedSymbolResources = null, this._exitGlobe(), this._exitStage());\n  }\n  _createGraphicsViewIfNeeded() {\n    if (this.graphicsView || this._createGraphicsViewController) return;\n    if (0 === this.graphics.length) return;\n    this.handles.remove(\"graphics-view\"), this._createGraphicsViewController = new AbortController();\n    const e = () => {\n      this._createGraphicsViewController = null, this._updatingChanged();\n    };\n    this._createGraphicsViewAsync(this._createGraphicsViewController.signal).then(e, e), this._updatingChanged();\n  }\n  async _createGraphicsViewAsync(e) {\n    const t = (await import(\"./3d/layers/GraphicsView3D.js\")).default;\n    w(e), await S(() => this.basemapTerrain?.ready, e), this._set(\"graphicsView\", new t({\n      view: this\n    }));\n  }\n  _disposeGraphicsView() {\n    this._createGraphicsViewController && (this._createGraphicsViewController.abort(), this._createGraphicsViewController = null), this.handles.remove(\"graphics-view\"), g(this.graphicsView) && (this.handles.remove(this.graphicsView.processor.layer.id), this.graphicsView.destroy(), this._set(\"graphicsView\", null));\n  }\n  _startup() {\n    const e = oe(this.viewingMode);\n    if (e === ae.Global && (this._clippingArea = null), this._initSurface(e), this._set(\"ready\", !0), this.handles.add(v(() => this.graphics, \"after-changes\", () => this._createGraphicsViewIfNeeded()), \"graphics-view\"), this._createGraphicsViewIfNeeded(), !this._externallySet.environment) {\n      const e = this.get(\"map.initialViewProperties.environment\");\n      e && (this.environment = e);\n    }\n    this.labeler.setup(), this.environmentManager.connectView(this), this.inputManager.connect();\n    const t = this._resolveWhenReady;\n    this._resolveWhenReady = [], t.forEach(e => e(this));\n  }\n  _teardown() {\n    this._initialDefaultSpatialReference = null, this.inputManager.disconnect(), this.environmentManager.disconnectView(), this.labeler.dispose(), this._disposeGraphicsView(), this.handles.remove(\"graphics-view\"), this._exitSurface(), this._set(\"ready\", !1);\n  }\n  _updateDefaultToMapOptions() {\n    if (this._defaultToMapOptions.include.clear(), this.map) {\n      this.map.ground && this._defaultToMapOptions.include.add(Ne);\n      for (const e of this.map.allLayers.items) \"integrated-mesh\" === e.type && this._defaultToMapOptions.include.add(e.uid);\n    }\n  }\n  _updateDefaultHitTestOptions() {\n    if (this._defaultHitTestOptions.exclude.clear(), this.map) {\n      this.map.ground && this.map.ground.opacity < 1 && this._defaultHitTestOptions.exclude.add(Ne);\n      for (const e of this.map.allLayers.items) \"integrated-mesh\" === e.type && e.opacity < 1 && this._defaultHitTestOptions.exclude.add(e.uid);\n    }\n  }\n  addVoxelLayerViewToWasm(e) {\n    return u(this.voxelWasm) ? (u(this.voxelWasmPromise) && (this.voxelWasmPromise = import(\"../layers/VoxelWasmPerSceneView.js\").then(e => (this.voxelWasm = new e.default(this), this.voxelWasm))), this.voxelWasmPromise.then(t => t.addVoxelLayer(e))) : this.voxelWasm.addVoxelLayer(e);\n  }\n  removeVoxelLayerViewFromWasm(e) {\n    if (g(this.voxelWasm)) {\n      this.voxelWasm.removeVoxelLayer(e) < 1 && (this.voxelWasm = null, this.voxelWasmPromise = null);\n    }\n  }\n};\nfunction pt(e, t) {\n  e.layerUids || (e.layerUids = new Set()), e.layerUids.add(t);\n}\nfunction ht(e, t) {\n  e.graphicUids || (e.graphicUids = new Set()), e.graphicUids.add(t);\n}\nfunction dt(e, t) {\n  return g(e) && W(e.spatialReference, t) ? D(e, t) : null;\n}\nvar ct;\nlt.type = \"3d\", e([j()], lt.prototype, \"_userClippingArea\", void 0), e([j()], lt.prototype, \"_resourceController\", void 0), e([j()], lt.prototype, \"_stage\", void 0), e([j({\n  readOnly: !0\n})], lt.prototype, \"deconflictor\", void 0), e([j({\n  readOnly: !0\n})], lt.prototype, \"labeler\", void 0), e([j(A(J, \"analyses\"))], lt.prototype, \"analyses\", void 0), e([j({\n  type: se,\n  readOnly: !0\n})], lt.prototype, \"animation\", null), e([j({\n  readOnly: !0\n})], lt.prototype, \"basemapTerrain\", void 0), e([j({\n  readOnly: !0\n})], lt.prototype, \"elevationProvider\", void 0), e([j()], lt.prototype, \"camera\", null), e([j({\n  type: t\n})], lt.prototype, \"contentCamera\", null), e([j({\n  readOnly: !0\n})], lt.prototype, \"canvas\", void 0), e([j({\n  type: ot\n})], lt.prototype, \"center\", null), e([j({\n  type: at\n})], lt.prototype, \"clippingArea\", null), e([j({\n  type: he\n})], lt.prototype, \"constraints\", void 0), e([j({\n  type: at,\n  readOnly: !0\n})], lt.prototype, \"renderDataExtent\", null), e([j({\n  type: at,\n  readOnly: !0\n})], lt.prototype, \"dataExtent\", null), e([j({\n  type: at,\n  readOnly: !0\n})], lt.prototype, \"_groundAndLayersExtent\", null), e([j({\n  value: null,\n  type: de\n})], lt.prototype, \"environment\", null), e([E(\"environment\")], lt.prototype, \"castEnvironment\", null), e([j({\n  readOnly: !0\n})], lt.prototype, \"environmentManager\", void 0), e([j({\n  type: at\n})], lt.prototype, \"extent\", null), e([j()], lt.prototype, \"floors\", void 0), e([j()], lt.prototype, \"screenCenter\", null), e([j()], lt.prototype, \"frustum\", null), e([j({\n  type: Number,\n  readOnly: !0\n})], lt.prototype, \"fullOpacity\", void 0), e([j({\n  readOnly: !0\n})], lt.prototype, \"graphicsView\", void 0), e([j({\n  readOnly: !0\n})], lt.prototype, \"analysisViewManager\", void 0), e([j()], lt.prototype, \"groundView\", void 0), e([j({\n  type: Boolean\n})], lt.prototype, \"initialExtentRequired\", null), e([j()], lt.prototype, \"_defaultsFromMapSettings\", null), e([j()], lt.prototype, \"interacting\", null), e([j()], lt.prototype, \"stationary\", null), e([j()], lt.prototype, \"navigating\", null), e([j()], lt.prototype, \"map\", void 0), e([j({\n  readOnly: !0\n})], lt.prototype, \"mapCoordsHelper\", void 0), e([j()], lt.prototype, \"padding\", null), e([j({\n  type: Ie,\n  readOnly: !0\n})], lt.prototype, \"pointsOfInterest\", void 0), e([j({\n  type: ye,\n  readOnly: !0\n})], lt.prototype, \"featureTiles\", void 0), e([j()], lt.prototype, \"_featureTreeDebugger\", void 0), e([j({\n  type: Boolean\n})], lt.prototype, \"screenSizePerspectiveEnabled\", void 0), e([j({\n  constructOnly: !0\n})], lt.prototype, \"deactivatedWebGLExtensions\", void 0), e([j({\n  constructOnly: !0\n})], lt.prototype, \"debugWebGLExtensions\", void 0), e([j({\n  constructOnly: !0\n})], lt.prototype, \"renderCanvas\", void 0), e([j({\n  constructOnly: !0\n})], lt.prototype, \"state\", void 0), e([j({\n  readOnly: !0\n})], lt.prototype, \"inputManager\", void 0), e([j({\n  readOnly: !0\n})], lt.prototype, \"stateManager\", void 0), e([j({\n  type: [\"low\", \"medium\", \"high\"]\n})], lt.prototype, \"qualityProfile\", null), e([j({\n  type: xe,\n  get() {\n    let e = this._get(\"qualitySettings\");\n    return e || (e = new xe(), Me.apply(this.qualityProfile, e)), e;\n  }\n})], lt.prototype, \"qualitySettings\", void 0), e([j()], lt.prototype, \"slicePlane\", null), e([j({\n  readOnly: !0\n})], lt.prototype, \"typeSpecificPreconditionsReady\", null), e([j({\n  readOnly: !0\n})], lt.prototype, \"renderCoordsHelper\", void 0), e([j({\n  readOnly: !0\n})], lt.prototype, \"sceneIntersectionHelper\", void 0), e([j({\n  type: Number,\n  dependsOn: [\"scale\", \"spatialReference\"],\n  readOnly: !0\n})], lt.prototype, \"resolution\", null), e([j({\n  type: Number\n})], lt.prototype, \"scale\", null), e([j()], lt.prototype, \"heightModelInfo\", null), e([j()], lt.prototype, \"spatialReference\", void 0), e([j({\n  type: Boolean,\n  constructOnly: !0\n})], lt.prototype, \"alphaCompositingEnabled\", void 0), e([j({\n  constructOnly: !0\n})], lt.prototype, \"preserveDrawingBufferEnabled\", void 0), e([j({\n  type: Boolean\n})], lt.prototype, \"supersampleScreenshotsEnabled\", void 0), e([j({\n  readOnly: !0\n})], lt.prototype, \"type\", void 0), e([j({\n  type: rt\n})], lt.prototype, \"ui\", void 0), e([j({\n  type: Boolean,\n  readOnly: !0,\n  dependsOn: [\"graphicsView.updating\", \"basemapView.updating\", \"basemapTerrain.updating\", \"layerViewManager.updating\", \"layerViewManager.updatingRemaining\", \"_resourceController.updating\", \"_stage.updating\", \"featureTiles.updating\", \"pointsOfInterest.updating\", \"environmentManager.updating\", \"overlay.updating\", \"updatingHandles.updating\", \"featureTreeDebugger.updating\", \"labeler.updating\", \"deconflictor.updating\", \"ready\", \"stationary\", \"inputManager.hasPendingInputs\", \"toolViewManager.updating\", \"analysisViewManager.updating\", \"state.mode\"]\n})], lt.prototype, \"updating\", null), e([j({\n  type: Number,\n  readOnly: !0,\n  dependsOn: [\"updating\"]\n})], lt.prototype, \"updatingProgress\", void 0), e([j({\n  type: [\"global\", \"local\"]\n})], lt.prototype, \"viewingMode\", null), e([j({\n  type: r\n})], lt.prototype, \"viewpoint\", null), e([j({\n  type: Number\n})], lt.prototype, \"zoom\", null), e([j({\n  type: Ce\n})], lt.prototype, \"highlightOptions\", void 0), lt = e([I(\"esri.views.SceneView\")], lt), function (e) {\n  e[e.INCLUDE = 0] = \"INCLUDE\", e[e.EXCLUDE = 1] = \"EXCLUDE\";\n}(ct || (ct = {}));\nconst ut = P(),\n  gt = T(),\n  mt = k(),\n  yt = lt;\nexport { yt as default };","map":{"version":3,"names":["_","e","t","i","r","s","byId","a","n","on","o","handlesGroup","l","makeHandle","p","has","isIterable","h","d","destroyMaybe","c","isNone","u","isSome","g","unwrapOr","m","removeMaybe","y","ObservableChangesType","f","throwIfAborted","w","v","watch","initial","b","syncAndInitial","M","whenOnce","S","sync","C","setFrameDuration","R","screenPointObjectToArray","V","createScreenPoint","x","createScreenPointArray","T","initialize","O","property","j","cast","E","subclass","I","ensureType","L","P","owningCollectionProperty","A","G","projectPointToVector","H","projectVectorToVector","U","canProjectWithoutEngine","W","project","D","projectBoundingRect","F","create","k","toExtent","q","B","z","N","renderSRFromViewSR","getResolutionForScale","Q","fallbackObjectIDAttribute","$","isImageryTileLayer","X","isTiledLayer","Y","isVoxelLayer","Z","AnalysesCollection","J","BreakpointsOwner","K","DOMContainer","ee","te","PopupView","ie","re","se","ViewingMode","ae","stringFromViewingMode","ne","viewingModeFromString","oe","layerView3DImporter","le","pe","Constraints","he","de","SceneViewEnvironmentManager","ce","ue","GraphicsDeconflictor","ge","Labeler","me","FeatureTileTree3D","ye","fe","ViewStateManager","we","SceneIntersectionHelper","ve","CombinedElevationProvider","_e","be","Me","getElevationAtPoint","Se","Ce","MapCoordsHelper","Re","PropertiesPool","Ve","xe","RenderCoordsHelper","Te","newResourceController","Oe","je","SharedSymbolResources","Ee","PointsOfInterest","Ie","Le","isSurfaceLayerView","Pe","getTiledLayerInfo","Ae","checkIfTileInfoSupportedForView","Ge","Stage","He","newIntersector","Ue","DEFAULT_TOLERANCE","We","StoreResults","De","IntersectorType","Fe","isValidIntersectorResult","ke","toHit","qe","toOwner","ze","TERRAIN_ID","Ne","hitTestSelectSimilarDistance","Be","occludeesSupported","Qe","RenderState","$e","encode","Xe","encodeData","Ye","toRenderSettings","Ze","screenshotSuperSampleSettings","Je","isSupportedScreenPointEvent","Ke","createScreenPointFromSupportedEvent","et","isSpatialReferenceSupported","tt","check","it","rt","st","at","nt","ot","lt","constructor","_this","this","_userClippingArea","_clippingArea","_initialDefaultSpatialReference","_defaults","_externallySet","environment","_createGraphicsViewController","_lostWebGLContextHandle","_resolveWhenReady","_propertiesPool","slicePlane","_resourceController","_defaultToMapOptions","include","Set","_defaultHitTestOptions","exclude","deconflictor","view","labeler","labels","sharedSymbolResources","analyses","basemapTerrain","elevationProvider","canvas","constraints","environmentManager","floors","fullOpacity","graphicsView","analysisViewManager","groundView","map","screenSizePerspectiveEnabled","state","spatialReference","alphaCompositingEnabled","preserveDrawingBufferEnabled","supersampleScreenshotsEnabled","type","ui","_numUpdating","_lastUpdateTime","updatingProgress","highlightOptions","voxelWasm","voxelWasmPromise","arguments","length","undefined","MOVE","_updatingChanged","allLayers","forEach","when","handles","add","onListenerAdd","onListenerRemove","allLayerViews","_updateUpdatingMonitors","load","catch","inputManager","stateManager","_updateDefaultToMapOptions","updatingHandles","qualitySettings","memoryLimit","resourceController","memoryController","maxMemory","additionalCacheMemory","frameRate","Math","ceil","ground","opacity","_updateDefaultHitTestOptions","notifyChange","destroy","destroyed","invalidate","activeTool","layerViewManager","clear","_exitSurface","_disposeGraphicsView","_set","remove","renderSpatialReference","renderCoordsHelper","basemapSpatialReference","animation","camera","contentCamera","installContentCameraReset","sticky","center","clippingArea","viewingMode","get","dt","getLogger","declaredClass","error","clone","intersection","_groundAndLayersExtent","xmin","xmax","ymin","ymax","zmin","zmax","equals","ready","renderDataExtent","Global","dataExtent","WGS84","_get","union","groundExtent","fullExtent","internal","hasZ","min","max","castEnvironment","cloneWithWebsceneEnvironment","fromWebsceneEnvironment","extent","screenCenter","frustum","initialExtentRequired","hasInitialView","_defaultsFromMapSettings","required","tileInfo","heightModelInfo","interacting","navigating","visible","stationary","resizing","padding","qualityProfile","isValidProfile","apply","getDefaultProfile","_stage","renderer","setParameters","typeSpecificPreconditionsReady","resolution","scale","getDefaultHeightModelInfo","deriveUnitFromSR","updating","updatingRemaining","isFulfilled","suspended","basemapView","featureTiles","pointsOfInterest","overlay","_featureTreeDebugger","toolViewManager","test","updatingIgnoreRenderState","IDLE","mode","hasPendingInputs","some","performance","now","_predeterminedViewingMode","defaultsFromMap","_overrideIfSome","viewpoint","zoom","performanceInfo","viewEvents","hasEventListener","hasHandler","toMap","externalToInternalIntersectOptions","graphics","enableDraped","sceneIntersectionHelper","options","selectionMode","store","ALL","MIN","intersectIntersectorScreen","results","all","_intersectResultToMapPoint","_testGraphicUidFilter","graphic","toScreen","ut","projectToScreen","gt","pixelSizeAt","computeScreenPixelSizeAt","overlayPixelSizeInMapUnits","overlayManager","hitTest","requiresGroundFeedback","_intersectResultsToHits","screenPoint","mapPoint","distance","distanceInRenderSpace","layer","SCENEVIEW_HITTEST_RETURN_INTERSECTOR","intersector","Promise","resolve","popupHitTest","abs","goTo","addPromise","whenAnalysisView","parent","analysis","whenLayerView","takeScreenshot","_completeSettings","whenReady","renderView","_pixelFormat","_takeScreenshot","_takeScreenshotWithObjectAndLayerId","takeScreenshotWithOID","pixelRatio","flipY","premultipliedAlpha","getAlpha","takeScreenshotWithObjectAndLayerId","Error","format","getColorToObjectAndLayerIdMapping","objectAndLayerIdRenderHelper","addUpdatingPromise","importLayerView","hasLayerViewModule","forceDOMReadyCycle","forceReadyCycle","getDefaultSpatialReference","initialViewProperties","validate","requiredVersion","detectedVersion","warn","message","_isOverridden","getSpatialReferenceSupport","_ref","_validateSpatialReferenceForViewingMode","_makeSpatialReferenceConstraints","Local","isWebMercator","isWGS84","WebMercator","_validateSpatialReference","warnOnce","isGeographic","push","computeMapPointFromVec3d","trackGraphicState","getViewForGraphic","processor","graphicsCore","whenViewForGraphic","waitForLayer","then","highlight","Array","isArray","isCollection","toArray","maskOccludee","find","graphicChanged","includes","added","_externalToInternalRenderItems","ct","INCLUDE","EXCLUDE","layerUids","graphicUids","getIntersectionPoint","TERRAIN","_getGraphicFilterUid","sourceLayer","objectIdField","attributes","id","uid","ht","pt","_initBasemapTerrain","register","_exitBasemapTerrain","unregister","_initGlobe","_initCoordinateSystem","createInitialCamera","cameraOnSurface","focus","tilingSchemeOwner","viewState","scheduler","terrain","filterExtent","FEATURE_TILE_TREE_SHOW_TILES","_ref2","FeatureTileTree3DDebugger","init","_exitGlobe","exit","_exitCoordinateSystem","mapCoordsHelper","isGlobal","mt","setTolerance","unitInMeters","_prepareScreenshotOverlay","prepare","_renderScreenshotOverlay","hasVisibleItems","getContext","putImageData","renderCanvas","getImageData","width","height","_initStage","deactivatedWebGLExtensions","debugWebGLExtensions","alpha","preserveDrawingBuffer","screenshot","prepareOverlay","renderOverlay","layers","forAll","surface","container","fatalError","antialiasingEnabled","highQualityTransparency","magnifier","resetAnimation","defaultHighlightOptions","toEngineOptions","color","haloColor","haloOpacity","fillOpacity","shadowOpacity","shadowColor","shadowDifference","_exitStage","_initSurface","objectResourceCache","_createGraphicsViewIfNeeded","AbortController","_createGraphicsViewAsync","signal","default","abort","_startup","setup","connectView","connect","_teardown","disconnect","disconnectView","dispose","items","addVoxelLayerViewToWasm","addVoxelLayer","removeVoxelLayerViewFromWasm","removeVoxelLayer","prototype","readOnly","value","Number","Boolean","constructOnly","dependsOn","yt"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/SceneView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../Camera.js\";import\"../geometry.js\";import i from\"../Graphic.js\";import r from\"../Viewpoint.js\";import s from\"../core/Collection.js\";import{byId as a}from\"../core/domUtils.js\";import n from\"../core/Error.js\";import{on as o}from\"../core/events.js\";import{handlesGroup as l,makeHandle as p}from\"../core/handleUtils.js\";import has from\"../core/has.js\";import{isIterable as h}from\"../core/iteratorUtils.js\";import d from\"../core/Logger.js\";import{destroyMaybe as c,isNone as u,isSome as g,unwrapOr as m,removeMaybe as y}from\"../core/maybe.js\";import{ObservableChangesType as f}from\"../core/ObservableChangesType.js\";import{throwIfAborted as w}from\"../core/promiseUtils.js\";import{on as v,watch as _,initial as b,syncAndInitial as M,whenOnce as S,sync as C}from\"../core/reactiveUtils.js\";import{setFrameDuration as R}from\"../core/scheduling.js\";import{screenPointObjectToArray as V,createScreenPoint as x,createScreenPointArray as T}from\"../core/screenUtils.js\";import{initialize as O}from\"../core/workers/workers.js\";import{property as j}from\"../core/accessorSupport/decorators/property.js\";import{cast as E}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/arrayUtils.js\";import{subclass as I}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureType as L}from\"../core/accessorSupport/ensureType.js\";import{c as P}from\"../chunks/vec3f64.js\";import{owningCollectionProperty as A}from\"../core/support/OwningCollection.js\";import G from\"../geometry/HeightModelInfo.js\";import{projectPointToVector as H,projectVectorToVector as U,canProjectWithoutEngine as W,project as D,projectBoundingRect as F}from\"../geometry/projection.js\";import{create as k,toExtent as q}from\"../geometry/support/aaBoundingRect.js\";import{B as z,c as N}from\"../chunks/boundedPlane.js\";import{renderSRFromViewSR as B}from\"../geometry/support/coordinateSystem.js\";import{getResolutionForScale as Q}from\"../geometry/support/scaleUtils.js\";import{fallbackObjectIDAttribute as $}from\"../layers/LayerConstants.js\";import{isImageryTileLayer as X,isTiledLayer as Y,isVoxelLayer as Z}from\"../layers/support/layerUtils.js\";import{AnalysesCollection as J}from\"../support/AnalysesCollection.js\";import{BreakpointsOwner as K}from\"./BreakpointsOwner.js\";import{DOMContainer as ee}from\"./DOMContainer.js\";import te from\"./GroundView.js\";import{PopupView as ie}from\"./PopupView.js\";import re from\"./View.js\";import se from\"./ViewAnimation.js\";import{ViewingMode as ae,stringFromViewingMode as ne,viewingModeFromString as oe}from\"./ViewingMode.js\";import{layerView3DImporter as le}from\"./3d/layerViewModuleImportUtils.js\";import pe from\"./3d/analysis/AnalysisViewManager3D.js\";import{Constraints as he}from\"./3d/constraints/Constraints.js\";import de from\"./3d/environment/SceneViewEnvironment.js\";import{SceneViewEnvironmentManager as ce}from\"./3d/environment/SceneViewEnvironmentManager.js\";import ue from\"./3d/input/SceneInputManager.js\";import{GraphicsDeconflictor as ge}from\"./3d/layers/graphics/GraphicsDeconflictor.js\";import{Labeler as me}from\"./3d/layers/graphics/Labeler.js\";import{FeatureTileTree3D as ye}from\"./3d/layers/support/FeatureTileTree3D.js\";import fe from\"./3d/state/ViewState.js\";import{ViewStateManager as we}from\"./3d/state/ViewStateManager.js\";import{SceneIntersectionHelper as ve}from\"./3d/state/helpers/SceneIntersectionHelper.js\";import{CombinedElevationProvider as _e}from\"./3d/support/CombinedElevationProvider.js\";import be from\"./3d/support/debugFlags.js\";import Me from\"./3d/support/DisplayQualityProfile.js\";import{getElevationAtPoint as Se}from\"./3d/support/ElevationProvider.js\";import Ce from\"./3d/support/HighlightOptions.js\";import{MapCoordsHelper as Re}from\"./3d/support/MapCoordsHelper.js\";import{PropertiesPool as Ve}from\"./3d/support/PropertiesPool.js\";import xe from\"./3d/support/QualitySettings.js\";import{RenderCoordsHelper as Te}from\"./3d/support/RenderCoordsHelper.js\";import{newResourceController as Oe}from\"./3d/support/ResourceController.js\";import je from\"./3d/support/SceneViewPerformanceInfo.js\";import{SharedSymbolResources as Ee}from\"./3d/support/SharedSymbolResources.js\";import{PointsOfInterest as Ie}from\"./3d/support/pointsOfInterest/PointsOfInterest.js\";import Le from\"./3d/terrain/TerrainSurface.js\";import{isSurfaceLayerView as Pe,getTiledLayerInfo as Ae,checkIfTileInfoSupportedForView as Ge}from\"./3d/terrain/terrainUtils.js\";import{Stage as He}from\"./3d/webgl-engine/Stage.js\";import{newIntersector as Ue,DEFAULT_TOLERANCE as We}from\"./3d/webgl-engine/lib/Intersector.js\";import{StoreResults as De,IntersectorType as Fe}from\"./3d/webgl-engine/lib/IntersectorInterfaces.js\";import{isValidIntersectorResult as ke}from\"./3d/webgl-engine/lib/intersectorUtils.js\";import{toHit as qe,toOwner as ze}from\"./3d/webgl-engine/lib/intersectorUtilsConversions.js\";import{TERRAIN_ID as Ne}from\"./3d/webgl-engine/lib/verticalOffsetUtils.js\";import{hitTestSelectSimilarDistance as Be}from\"./support/hitTestSelectUtils.js\";import{occludeesSupported as Qe}from\"./support/layerViewUtils.js\";import{RenderState as $e}from\"./support/RenderState.js\";import{encode as Xe,encodeData as Ye,toRenderSettings as Ze,screenshotSuperSampleSettings as Je}from\"./support/screenshotUtils.js\";import{isSupportedScreenPointEvent as Ke,createScreenPointFromSupportedEvent as et}from\"./support/screenUtils.js\";import{isSpatialReferenceSupported as tt}from\"./support/spatialReferenceSupport.js\";import{check as it}from\"./support/WebGLRequirements.js\";import rt from\"./ui/3d/DefaultUI3D.js\";import st from\"../webscene/Environment.js\";import at from\"../geometry/Extent.js\";import nt from\"../geometry/SpatialReference.js\";import ot from\"../geometry/Point.js\";let lt=class extends(K(ee(ie(re)))){constructor(e){super(e),this._userClippingArea=null,this._clippingArea=null,this._initialDefaultSpatialReference=null,this._defaults={},this._externallySet={environment:!1},this._createGraphicsViewController=null,this._lostWebGLContextHandle=null,this._resolveWhenReady=[],this._propertiesPool=new Ve({slicePlane:z},this),this._resourceController=Oe(this),this._defaultToMapOptions={include:new Set},this._defaultHitTestOptions={exclude:new Set},this.deconflictor=new ge({view:this}),this.labeler=new me({view:this,deconflictor:this.deconflictor.labels}),this.sharedSymbolResources=null,this.analyses=new J,this.basemapTerrain=null,this.elevationProvider=null,this.canvas=null,this.constraints=new he,this.environmentManager=new ce,this.floors=new s,this.fullOpacity=1,this.graphicsView=null,this.analysisViewManager=new pe({view:this}),this.groundView=null,this.map=null,this.screenSizePerspectiveEnabled=!0,this.state=new fe,this.spatialReference=null,this.alphaCompositingEnabled=!1,this.preserveDrawingBufferEnabled=!1,this.supersampleScreenshotsEnabled=!0,this.type=\"3d\",this.ui=new rt,this._numUpdating=0,this._lastUpdateTime=0,this.updatingProgress=.5,this.highlightOptions=new Ce,this.voxelWasm=null,this.voxelWasmPromise=null,O(),e&&e.environment||(this._defaults.environment=new de,this.environment=this._defaults.environment);const t=(e=null)=>{g(e)&&e.type===f.MOVE||(this._updatingChanged(),this.map&&this.map.allLayers.forEach((async e=>{try{await e.when()}catch{}this._updatingChanged()})))};this.handles.add([v((()=>this.map?.allLayers),\"after-changes\",(e=>t(e)),{onListenerAdd:()=>t(),onListenerRemove:()=>t(),sync:!0}),this.allLayerViews.on(\"after-changes\",(e=>this._updateUpdatingMonitors(e))),_((()=>this.map),(e=>{e&&\"load\"in e&&e.load&&e.load().catch((()=>{}))}))]),this.inputManager=new ue({view:this}),this.stateManager=new we({view:this})}initialize(){this.groundView=new te({view:this}),this._updateUpdatingMonitors();const e=()=>this._updateDefaultToMapOptions();this.handles.add(v((()=>this.map?.allLayers),\"after-changes\",e,{onListenerAdd:e,onListenerRemove:e})),this.updatingHandles.add((()=>this.qualitySettings.memoryLimit),(e=>{this.resourceController&&(this.resourceController.memoryController.maxMemory=e)}),b),this.updatingHandles.add((()=>this.qualitySettings.additionalCacheMemory),(e=>{this.resourceController&&(this.resourceController.memoryController.additionalCacheMemory=e)}),b),this.updatingHandles.add((()=>this.qualitySettings.frameRate??0),(e=>R(e>0?1e3/Math.ceil(e):0)),b),this.updatingHandles.add((()=>this.map?.ground),e,M),this.updatingHandles.add((()=>this.map?.ground?.opacity),(()=>this._updateDefaultHitTestOptions()),M),this.handles.add(_((()=>this.spatialReference),(()=>this.notifyChange(\"clippingArea\")),C))}destroy(){this.destroyed||(this.invalidate(),this.activeTool=null,this.layerViewManager.clear(),this._exitSurface(),this._disposeGraphicsView(),this.sharedSymbolResources=c(this.sharedSymbolResources),this._set(\"labeler\",c(this.labeler)),this._set(\"deconflictor\",c(this.deconflictor)),this._resourceController=c(this._resourceController),this._set(\"stateManager\",c(this.stateManager)),this._set(\"inputManager\",c(this.inputManager)),this.state.destroy(),this._propertiesPool.destroy(),this.handles.remove(\"updatingMonitors\"),this._set(\"environmentManager\",c(this.environmentManager)),this.groundView=c(this.groundView))}get renderSpatialReference(){return this.renderCoordsHelper&&this.renderCoordsHelper.spatialReference}get basemapSpatialReference(){return this.basemapTerrain?.spatialReference}get animation(){return this.state?.animation}get camera(){return this.stateManager?.camera}set camera(e){this.stateManager&&(this.stateManager.camera=e)}get contentCamera(){return this.stateManager?.contentCamera}set contentCamera(e){this.stateManager&&(this.stateManager.contentCamera=e)}installContentCameraReset(e={sticky:!1}){return this.stateManager.installContentCameraReset(e)}get center(){return this.stateManager?.center}set center(e){this.stateManager&&(this.stateManager.center=e)}get clippingArea(){if(\"global\"===this.viewingMode)return null;let e=this._userClippingArea||(\"clippingArea\"in this.map?this.map?.clippingArea:void 0);return!(!!this._userClippingArea||this.get(\"map.clippingEnabled\"))||u(e)?(this._clippingArea=null,null):e instanceof at?this.spatialReference&&(e=dt(e,this.spatialReference),u(e))?(d.getLogger(this.declaredClass).error(\"#clippingArea\",\"setting clippingArea with incompatible SpatialReference\"),this._clippingArea):(e=e.clone(),u(e.intersection(this._groundAndLayersExtent))&&(e.xmin=e.xmax,e.ymin=e.ymax),e.zmin=void 0,e.zmax=void 0,e.equals(this._clippingArea)||(this._clippingArea=e),this._clippingArea):(d.getLogger(this.declaredClass).error(\"#clippingArea\",\"only clippingArea geometries of type Extent are supported\"),this._clippingArea)}set clippingArea(e){this.ready&&\"global\"===this.viewingMode&&g(e)?d.getLogger(this.declaredClass).error(\"#clippingArea=\",\"Clipping area is only supported in local viewingMode\"):this._userClippingArea=e}get renderDataExtent(){if(this.state.viewingMode===ae.Global)return null;const e=this.renderSpatialReference,t=this.dataExtent;return u(t)||u(e)||t.spatialReference.equals(e)?t:dt(t,e)}get dataExtent(){let e=this._groundAndLayersExtent;const t=this.spatialReference||nt.WGS84,i=dt(this.clippingArea,t);g(i)&&(e=g(e)?e.intersection(i):i);const r=this._get(\"dataExtent\");return g(e)&&e.equals(r)?r:e}get _groundAndLayersExtent(){const e=this.spatialReference||nt.WGS84;let t;const i=i=>{const r=dt(i,e);u(r)||(g(t)?t.union(r):t=r.clone())},r=this.basemapTerrain;if(r?.spatialReference){const e=r.groundExtent;i(new at({xmin:e[0],ymin:e[1],zmin:0,xmax:e[2],ymax:e[3],zmax:0,spatialReference:r.spatialReference}))}if(this.map){const e=e=>{!g(e.fullExtent)||\"graphics\"===e.type&&e.internal||i(e.fullExtent)};this.map.allLayers.forEach((t=>e(t)))}if(u(t))return null;t.hasZ?(t.zmin=Math.min(0,t.zmin??0),t.zmax=Math.max(0,t.zmax??0)):(t.zmin=0,t.zmax=0);const s=this._get(\"_groundAndLayersExtent\");return t.equals(s)?s:t}set environment(e){e!==this._defaults.environment&&(this._externallySet.environment=!0),this._set(\"environment\",e)}castEnvironment(e){return e?e instanceof de?e:e instanceof st?null!=this.environment?this.environment.cloneWithWebsceneEnvironment(e):de.fromWebsceneEnvironment(e):L(de,e):new de}get extent(){return this.stateManager?.extent}set extent(e){this.stateManager&&(this.stateManager.extent=e)}get screenCenter(){return this.stateManager?.screenCenter}get frustum(){return this.stateManager?.frustum}get initialExtentRequired(){return this.stateManager&&!this.stateManager.hasInitialView}get _defaultsFromMapSettings(){return{required:{tileInfo:!1,heightModelInfo:!0,extent:!1}}}get interacting(){return this.navigating||g(this.activeTool)&&this.activeTool.visible}get stationary(){return!this.animation&&!this.resizing&&(u(this.state)||this.state.stationary)}get navigating(){return this.state?.navigating??!1}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}set qualityProfile(e){Me.isValidProfile(e)&&(Me.apply(e,this.qualitySettings),this._set(\"qualityProfile\",e))}get qualityProfile(){return this._get(\"qualityProfile\")||Me.getDefaultProfile()}set slicePlane(e){if(g(this._stage)&&this._stage.renderer.setParameters({slicePlane:e}),u(e))return void this._set(\"slicePlane\",null);const t=this._propertiesPool.get(\"slicePlane\");N(e,t),this._set(\"slicePlane\",t)}get typeSpecificPreconditionsReady(){return!!this.viewingMode}get resolution(){return null!=this.spatialReference?Q(this.scale,this.spatialReference):0}get scale(){return this.stateManager?.scale}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get heightModelInfo(){const e=this.getDefaultHeightModelInfo();return null!=e?G.deriveUnitFromSR(e,this.spatialReference):null}get updating(){if(this.destroyed)return!1;let e=0,t=this.layerViewManager.updating,i=t?this.layerViewManager.updatingRemaining:0;this.allLayerViews.forEach((r=>{if(r.isFulfilled()){if(r.updating){if(t=!0,r.suspended||Pe(r))return;++i,e+=r.updatingProgress}}else++i}));for(const s of[this.graphicsView,this.basemapView,this._resourceController,this._stage,this.featureTiles,this.pointsOfInterest,this.environmentManager,this.overlay,this._featureTreeDebugger,this.toolViewManager,this.analysisViewManager])if(g(s)&&s.updating){const t=.1;i+=t,e+=.5*t}for(const s of[this.deconflictor,this.labeler,this.basemapTerrain])g(s)&&s.updating&&(++i,e+=s.updatingProgress);const r=this.stateManager.test.updatingIgnoreRenderState?$e.IDLE:this.state.mode;if(t=!!(t||i>0||this.updatingHandles.updating||!this.ready||!this.stationary||r!==$e.IDLE||this._createGraphicsViewController||this.inputManager?.hasPendingInputs||this.map?.allLayers?.some((e=>!e.isFulfilled()))),t?(this._numUpdating=Math.max(i,this._numUpdating),e+=this._numUpdating-i):this._numUpdating=0,this._numUpdating>0?e/=this._numUpdating:e=t?0:1,this._get(\"updatingProgress\")!==e){const i=performance.now();if(e<1){const t=Math.min((i-this._lastUpdateTime)/2e3,1);e=this.updatingProgress*(1-t)+e*t}this._set(\"updatingProgress\",e),this._lastUpdateTime=t&&e<1?i:0}return t}get viewingMode(){const e=this._predeterminedViewingMode;if(g(e))return ne(e);const t=this.spatialReference;return t?g(this.defaultsFromMap?.viewingMode)&&t.equals(this.defaultsFromMap.spatialReference)?ne(this.defaultsFromMap.viewingMode):tt(t,ae.Global)?\"global\":\"local\":\"global\"}set viewingMode(e){this.ready?d.getLogger(this.declaredClass).error(\"#viewingMode\",\"viewingMode cannot be set once view is ready\"):this._overrideIfSome(\"viewingMode\",e)}get viewpoint(){return this.stateManager?.viewpoint}set viewpoint(e){this.stateManager&&(this.stateManager.viewpoint=e)}get zoom(){return this.stateManager.zoom}set zoom(e){this.stateManager&&(this.stateManager.zoom=e)}get resourceController(){return this._resourceController}get performanceInfo(){return new je(this)}on(e,t,i,r){const s=this.viewEvents.on(e,t,i,r);return s||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}toMap(e,t){if(!this.ready)return d.getLogger(this.declaredClass).error(\"#toMap()\",\"Scene view cannot be used before it is ready\"),null;const i=t?this.externalToInternalIntersectOptions(t):this._defaultToMapOptions,r=g(i.graphics)&&(g(i.graphics.include)||g(i.graphics.exclude)),s=Ke(e)?et(this,e):e,a=V(s);i.enableDraped=i.include&&!i.include.has(Ne)||i.exclude&&i.exclude.has(Ne);const n=this.sceneIntersectionHelper,o=Ue(this.state.viewingMode);if(o.options.selectionMode=!0,o.options.store=r?De.ALL:De.MIN,n.intersectIntersectorScreen(a,o,i),r){for(const e of o.results.all){const t=qe(e,this);if(u(t))return this._intersectResultToMapPoint(e);if(\"graphic\"!==t.type||this._testGraphicUidFilter(i.graphics,t.graphic))return this._intersectResultToMapPoint(e)}return null}return this._intersectResultToMapPoint(o.results.min)}toScreen(e){if(!this.ready)return d.getLogger(this.declaredClass).error(\"#toScreen()\",\"Scene view cannot be used before it is ready\"),null;const t=m(null==e.z?Se(this.elevationProvider,e):null,0);return H(e,ut,this.renderSpatialReference,t),this.state.camera.projectToScreen(ut,gt),x(gt[0],gt[1])}pixelSizeAt(e){return this.ready?e?(H(e,ut,this.renderSpatialReference),this.state.camera.computeScreenPixelSizeAt(ut)):0:(d.getLogger(this.declaredClass).error(\"#pixelSizeAt()\",\"Scene view cannot be used before it is ready\"),null)}overlayPixelSizeInMapUnits(e){const t=this.basemapTerrain.overlayManager;return t?t.overlayPixelSizeInMapUnits(e):1}hitTest(e,t){if(!this.ready)return d.getLogger(this.declaredClass).error(\"#hitTest()\",\"Scene view cannot be used before it is ready\"),null;const i=Ke(e)?et(this,e):e,r=T(i.x,i.y),s=t?this.externalToInternalIntersectOptions(t):this._defaultHitTestOptions;s.requiresGroundFeedback=!0,s.enableDraped=!0;const a=Ue(this.state.viewingMode);a.options.selectionMode=!0,a.options.store=De.ALL,this.sceneIntersectionHelper.intersectIntersectorScreen(r,a,s);const n=this._intersectResultsToHits(a.results.all,s.graphics),o=a.results.ground,l=ze(o,this),p=g(l)&&\"type\"in l&&\"integrated-mesh\"===l.type?l:null,h={screenPoint:i,results:n,ground:{mapPoint:this._intersectResultToMapPoint(o),distance:ke(o)?o.distanceInRenderSpace:0,layer:p}};return be.SCENEVIEW_HITTEST_RETURN_INTERSECTOR&&(h.intersector=a),Promise.resolve(h)}async popupHitTest(e){const{results:t,ground:i}=await Be(this,e);let r=null;return!(0===t.length||Math.abs(m(t[0].distance,0)-i.distance)<1e-5)||i.layer&&\"integrated-mesh\"===i.layer.type||(r=i.mapPoint),{results:t,screenPoint:e,mapPoint:r}}goTo(e,t){return this.updatingHandles.addPromise(this.stateManager.goTo(e,t))}async whenAnalysisView(e){if(u(e.parent))throw new n(\"view:no-analysisview-for-analysis\",\"The analysis has not been added to view.analyses\",{analysis:e});switch(e.parent.type){case\"line-of-sight\":case\"dimension\":return(await this.whenLayerView(e.parent)).whenAnalysisView();default:return this.analysisViewManager.whenAnalysisView(e)}}whenLayerView(e){return super.whenLayerView(e)}async takeScreenshot(e){const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshot(t);return Xe(i,t,this._pixelFormat())}async _takeScreenshot(e){const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshot(t);return Ye(i,this._pixelFormat())}async _takeScreenshotWithObjectAndLayerId(e){const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshotWithOID(t);return[Ye(i[0],this._pixelFormat()),Ye(i[1],this._pixelFormat())]}_completeSettings(e){const t=Ze(e,this);return t.pixelRatio/=this.state.pixelRatio,Je(t,this.supersampleScreenshotsEnabled,this.padding)}_pixelFormat(){return{flipY:!0,premultipliedAlpha:this._stage.renderView.getAlpha()}}get test(){return{takeScreenshot:e=>this._takeScreenshot(e),takeScreenshotWithObjectAndLayerId:e=>this._takeScreenshotWithObjectAndLayerId(e)}}async takeScreenshotWithObjectAndLayerId(e){if(!has(\"enable-feature:objectAndLayerId-rendering\"))throw new Error(\"has enable-feature:objectAndLayerId-rendering must be true\");const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshotWithOID(t),r=Xe(i[0],t,this._pixelFormat()),s=this._completeSettings(e);s.format=\"png\";return[r,Xe(i[1],s,this._pixelFormat())]}getColorToObjectAndLayerIdMapping(){if(u(this._stage.renderView.objectAndLayerIdRenderHelper))throw new Error(\"has enable-feature:objectAndLayerId-rendering must be true\");return this._stage.renderView.objectAndLayerIdRenderHelper.getColorToObjectAndLayerIdMapping()}addUpdatingPromise(e){return this.updatingHandles.addPromise(e)}importLayerView(e){return le.importLayerView(e)}hasLayerViewModule(e){return le.hasLayerViewModule(e)}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&\"initialViewProperties\"in this.map&&this.map?.initialViewProperties?.spatialReference||this.defaultsFromMap?.spatialReference||this.defaultsFromMap?.ready&&this._initialDefaultSpatialReference||null}async validate(){let e=it(this.type);const t=has(\"safari\");if(t&&t<9&&(e=new n(\"sceneview:browser-not-supported\",\"This browser is not supported by SceneView (Safari < 9)\",{type:\"safari\",requiredVersion:9,detectedVersion:t})),g(e))throw d.getLogger(this.declaredClass).warn(\"#validate()\",e.message),e}get _predeterminedViewingMode(){const e=this._isOverridden(\"viewingMode\")?this._get(\"viewingMode\"):(this.map&&\"initialViewProperties\"in this.map?this.map.initialViewProperties?.viewingMode:null)??null;return g(e)?oe(e):null}getSpatialReferenceSupport({spatialReference:e,layer:t}){const i=this._predeterminedViewingMode;if(g(i))return this._validateSpatialReferenceForViewingMode(e,t,i)?{constraints:this._makeSpatialReferenceConstraints(e,t,i)}:null;const r=this._validateSpatialReferenceForViewingMode(e,t,ae.Local),s=this._validateSpatialReferenceForViewingMode(e,t,ae.Global);return r||s?r&&s?{constraints:this._makeSpatialReferenceConstraints(e,t,null)}:r?{constraints:this._makeSpatialReferenceConstraints(e,t,ae.Local)}:{constraints:this._makeSpatialReferenceConstraints(e,t,ae.Global)}:null}_validateSpatialReferenceForViewingMode(e,t,i){return!!tt(e,i)&&(!!u(t)||(!!X(t)||(!Y(t)||!u(Ae(t,e,i)))&&(!Z(t)||i!==ae.Global)))}_makeSpatialReferenceConstraints(e,t,i){if(u(t))return[{spatialReference:e,viewingMode:i}];const r=e.isWebMercator,s=e.isWGS84;if(X(t)&&(r||s)){return!s||i===ae.Local||null===Ge(t.tileInfo,t.fullExtent,e,ae.Global)?[{spatialReference:e,viewingMode:i},{spatialReference:nt.WebMercator,viewingMode:i}]:[{spatialReference:r?nt.WGS84:nt.WebMercator,viewingMode:i}]}return Y(t)||Z(t)||!r&&!s?Y(t)&&r&&i!==ae.Global?[{spatialReference:e,viewingMode:i},{spatialReference:nt.WGS84,viewingMode:ae.Local}]:[{spatialReference:e,viewingMode:i}]:[{spatialReference:e,viewingMode:i},{spatialReference:r?nt.WGS84:nt.WebMercator,viewingMode:i}]}_validateSpatialReference(e){const t=g(this.getSpatialReferenceSupport({spatialReference:e})),i=this._predeterminedViewingMode;return t||(g(i)?d.getLogger(this.declaredClass).warnOnce(`Spatial reference defined on view not supported in ${ne(i)} viewing mode.`):e.isGeographic&&d.getLogger(this.declaredClass).warnOnce(\"Spatial reference is geographic but not supported.\")),t}whenReady(){return new Promise((e=>{this.ready?e(this):this._resolveWhenReady.push(e)}))}computeMapPointFromVec3d(e,t){let i=this.spatialReference||nt.WGS84;return U(e,this.renderSpatialReference,e,i)||(i=nt.WGS84,U(e,this.renderSpatialReference,e,i)),t?(t.x=e[0],t.y=e[1],t.z=e[2],t.spatialReference=i):t=new ot(e,i),t}trackGraphicState(e){if(!e.graphic)return d.getLogger(this.declaredClass).error(\"trackGraphicState\",\"GraphicState.graphic must not be null or undefined to start tracking\"),null;const t=this.getViewForGraphic(e.graphic);let i=null,r=!1;const s=t=>{!r&&g(t)&&\"processor\"in t&&\"graphics-3d\"===t.processor?.type&&t.processor.graphicsCore&&(i=t.processor.graphicsCore.trackGraphicState(e))};return g(t)?s(t):this.whenViewForGraphic(e.graphic,{waitForLayer:!0}).then((e=>s(e)),(()=>{})).catch((()=>{})),{remove:()=>{r=!0,g(i)&&(i.remove(),i=null)}}}highlight(e){if(Array.isArray(e))return l(e.map((e=>this.highlight(e))));if(s.isCollection(e))return l(e.toArray().map((e=>this.highlight(e))));const t=this.getViewForGraphic(e);return t&&\"highlight\"in t?t.highlight(e):p()}maskOccludee(e){if(!e)return d.getLogger(this.declaredClass).error(\"maskOccludee\",\"GraphicState.graphic must not be null or undefined to mask an occludee\"),null;const t=this.getViewForGraphic(e);let i=null,r=!1;const s=t=>{!r&&g(t)&&Qe(t)&&(i=t.maskOccludee(e))};return g(t)?s(t):this.whenViewForGraphic(e,{waitForLayer:!0}).then((e=>s(e)),(()=>{})).catch((()=>{})),{remove:()=>{r=!0,g(i)&&(i.remove(),i=null)}}}getViewForGraphic(e){return e.layer===this.graphics?this.graphicsView:e.layer?this.allLayerViews.find((t=>t.layer===e.layer)):null}graphicChanged(e){g(this.graphicsView)&&this.graphicsView.graphicChanged(e)}async whenViewForGraphic(e,t){if(e.layer===this)return await S((()=>this.graphicsView)),this.graphicsView;if(!e.layer||!this.map)throw new n(\"no-view-for-graphic\");return t&&t.waitForLayer&&!this.map.allLayers.includes(e.layer)?new Promise(((t,i)=>{const r=this.map.allLayers.on(\"change\",(s=>{s.added.includes(e.layer)&&(r.remove(),this.whenLayerView(e.layer).then(t,i))}))})):this.whenLayerView(e.layer)}externalToInternalIntersectOptions(e){const t=this._externalToInternalRenderItems(e.include,ct.INCLUDE),i=this._externalToInternalRenderItems(e.exclude,ct.EXCLUDE);return{include:t.layerUids,exclude:i.layerUids,graphics:{include:t.graphicUids,exclude:i.graphicUids}}}_intersectResultToMapPoint(e,t){return e.getIntersectionPoint(ut)?(t=this.computeMapPointFromVec3d(ut,t),e.intersector===Fe.TERRAIN&&this.basemapTerrain&&(t.z=m(Se(this.basemapTerrain,t),0)),t):null}_intersectResultsToHits(e,t){const i=new Array;let r=null;for(let s=0;s<e.length;s++){const a=e[s],n=ze(a,this);if(g(n)&&(n===this.map.ground||\"type\"in n&&\"integrated-mesh\"===n.type))break;const o=qe(a,this);if(u(o))continue;if(\"graphic\"===o.type){if(u(r)&&s!==e.length-1&&(r=new Set),g(r)){const e=this._getGraphicFilterUid(o.graphic);if(r.has(e))continue;r.add(e)}if(!this._testGraphicUidFilter(t,o.graphic))continue}const l=this._intersectResultToMapPoint(a),p=a.distanceInRenderSpace;i.push({...o,mapPoint:l,distance:p})}return i}_getGraphicFilterUid(e){const t=e.sourceLayer,i=e.layer,r=t&&\"objectIdField\"in t?t:i&&\"objectIdField\"in i?i:t;if(r){const t=r.objectIdField??$,i=e.attributes?.[t];if(i)return`o-${r.id}-${i}`}return`u-${e.uid}`}_testGraphicUidFilter(e,t){const i=this._getGraphicFilterUid(t);return u(e)||(u(e.include)||e.include.has(i))&&(u(e.exclude)||!e.exclude.has(i))}_externalToInternalRenderItems(e,t,r={layerUids:void 0,graphicUids:void 0}){if(!e)return r;if(e instanceof i)ht(r,this._getGraphicFilterUid(e)),t===ct.INCLUDE&&(g(this.graphicsView)&&e.layer===this?pt(r,this.graphicsView.processor.layer.id):e.layer&&pt(r,e.layer.uid));else if(h(e))for(const i of e)i===this.graphics&&g(this.graphicsView)?pt(r,this.graphicsView.processor.layer.id):i===this.map.ground?pt(r,Ne):this._externalToInternalRenderItems(i,t,r);else\"uid\"in e&&pt(r,e.uid);return r}_initBasemapTerrain(){this._set(\"basemapTerrain\",new Le({view:this})),this._set(\"elevationProvider\",new _e({view:this})),this.elevationProvider.register(\"ground\",this.basemapTerrain)}_exitBasemapTerrain(){this.basemapTerrain&&(this.elevationProvider.unregister(this.basemapTerrain),this.elevationProvider.destroy(),this._set(\"elevationProvider\",null),this.basemapTerrain.destroy(),this._set(\"basemapTerrain\",null))}_initGlobe(){this._initCoordinateSystem(),this.state.createInitialCamera(),this._initBasemapTerrain(),this._set(\"pointsOfInterest\",new Ie({view:this})),this._set(\"featureTiles\",new ye({renderCoordsHelper:this.renderCoordsHelper,cameraOnSurface:this.pointsOfInterest.cameraOnSurface,focus:this.pointsOfInterest.focus,tilingSchemeOwner:this.basemapTerrain,viewState:this.state,scheduler:this._resourceController.scheduler,terrain:this.basemapTerrain}));const e=()=>{const e=this.basemapTerrain?.extent;if(this.clippingArea||e)if(e&&this.basemapTerrain.spatialReference){const e=g(this.basemapTerrain.extent)&&g(this.basemapTerrain.spatialReference)?D(q(this.basemapTerrain.extent,this.basemapTerrain.spatialReference),this.spatialReference):null;g(this.clippingArea)?this.featureTiles.filterExtent=this.clippingArea.intersection(e):this.featureTiles.filterExtent=e}else this.featureTiles.filterExtent=this.clippingArea;else this.featureTiles.filterExtent=null};this.handles.add([this.updatingHandles.add((()=>be.FEATURE_TILE_TREE_SHOW_TILES),(e=>{e&&this.featureTiles&&!this._featureTreeDebugger?this.updatingHandles.addPromise(import(\"./3d/layers/support/FeatureTileTree3DDebugger.js\")).then((({FeatureTileTree3DDebugger:e})=>{!this._featureTreeDebugger&&be.FEATURE_TILE_TREE_SHOW_TILES&&(this._featureTreeDebugger=new e({view:this}))})):e||!this._featureTreeDebugger||be.FEATURE_TILE_TREE_SHOW_TILES||(this._featureTreeDebugger.destroy(),this._featureTreeDebugger=null)}),M),this.updatingHandles.add((()=>this.clippingArea),e,M),this.updatingHandles.add((()=>this.basemapTerrain.extent),e,M)],\"feature-tiles\"),this.stateManager.init()}_exitGlobe(){this.state&&(this.stateManager.exit(),this.handles.remove(\"render-coords-helper\"),this.handles.remove(\"feature-tiles\"),this.featureTiles.destroy(),this._set(\"featureTiles\",null),this.pointsOfInterest.destroy(),this._set(\"pointsOfInterest\",null),this._exitBasemapTerrain(),this.state.exit(),this._exitCoordinateSystem())}_initCoordinateSystem(){if(this.spatialReference){const e=this.spatialReference;this.mapCoordsHelper&&this.mapCoordsHelper.spatialReference.equals(e)||this._set(\"mapCoordsHelper\",new Re(this.map,e));const t=this.state.isGlobal,i=B(t,e);i!==this.renderSpatialReference&&(this._set(\"renderCoordsHelper\",Te.create(this.state.viewingMode,i)),t||this.handles.add(_((()=>this.basemapTerrain?.extent),(e=>{const t=this.renderCoordsHelper.spatialReference;g(e)&&(0!==e[0]||0!==e[1]||0!==e[2]||0!==e[3])&&F(e,this.basemapTerrain.spatialReference,mt,t)&&(this.renderCoordsHelper.extent=mt)}),C),\"render-coords-helper\"),this.sceneIntersectionHelper&&this.sceneIntersectionHelper.setTolerance(We/this.renderCoordsHelper.unitInMeters))}else this._set(\"mapCoordsHelper\",null),this._set(\"renderCoordsHelper\",null)}_exitCoordinateSystem(){this.mapCoordsHelper&&(this.handles.remove(\"render-coords-helper\"),this._set(\"renderCoordsHelper\",null),this._set(\"mapCoordsHelper\",null))}_updatingChanged(){this.notifyChange(\"updating\")}_updateUpdatingMonitors(e=null){g(e)&&e.type===f.MOVE||(this.handles.remove(\"updatingMonitors\"),this.allLayerViews.forEach((e=>{e.destroyed||(this.handles.add(_((()=>[e.updating,e.updatingProgress]),(()=>this._updatingChanged()),C),\"updatingMonitors\"),e.when((()=>this._updatingChanged()),(()=>this._updatingChanged())))})),this._updatingChanged())}async _prepareScreenshotOverlay(){this.overlay&&await this.overlay.prepare()}_renderScreenshotOverlay(e,t){if(!this.overlay||!this.overlay.hasVisibleItems)return t;const i=e.getContext(\"2d\");return i.putImageData(t,0,0),this.overlay.renderCanvas(e),i.getImageData(0,0,t.width,t.height)}_initStage(){const e={deactivatedWebGLExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions,alpha:this.alphaCompositingEnabled,preserveDrawingBuffer:this.preserveDrawingBufferEnabled,canvas:this.renderCanvas,screenshot:{prepareOverlay:()=>this._prepareScreenshotOverlay(),renderOverlay:(e,t)=>this._renderScreenshotOverlay(e,t)}},t=new ve(this.state.viewingMode,(e=>this._stage.layers.forAll(e)),this);this._set(\"sceneIntersectionHelper\",t);const i=a(this.surface);this._stage=new He({view:this,options:e,container:i}),this._stage.renderer.setParameters({slicePlane:this.slicePlane}),this._lostWebGLContextHandle=o(this._stage.renderView.canvas,\"webglcontextlost\",(()=>this.fatalError=new n(\"webgl-context-lost\"))),this.handles.add([this.updatingHandles.add((()=>this.qualitySettings.antialiasingEnabled),(()=>this._stage.renderer.setParameters({antialiasingEnabled:this.qualitySettings.antialiasingEnabled})),b),this.updatingHandles.add((()=>this.qualitySettings.highQualityTransparency),(e=>this._stage.renderer.setParameters({highQualityTransparency:e})),b),_((()=>this.magnifier),(e=>this._stage.renderView.magnifier=e),M),this.on(\"pointer-move\",(()=>this._stage?.renderer.resetAnimation()))],\"stage\");const r=()=>{this._stage.renderer.setParameters({defaultHighlightOptions:Ce.toEngineOptions(this.highlightOptions)})};this.handles.add(this.updatingHandles.add((()=>[this.highlightOptions.color,this.highlightOptions.haloColor,this.highlightOptions.haloOpacity,this.highlightOptions.fillOpacity,this.highlightOptions.shadowOpacity,this.highlightOptions.shadowColor,this.highlightOptions.shadowDifference]),r),\"stage\"),r(),this.renderCoordsHelper&&this.sceneIntersectionHelper.setTolerance(We/this.renderCoordsHelper.unitInMeters),this._set(\"canvas\",this._stage.renderView.canvas)}_exitStage(){this._set(\"sceneIntersectionHelper\",null),this._stage=c(this._stage),this._lostWebGLContextHandle=y(this._lostWebGLContextHandle),this.handles.remove(\"stage\"),this._set(\"canvas\",null)}_initSurface(e){this._exitSurface(),this.state.init(e,this.spatialReference),this._initStage(),this._initGlobe(),this.sharedSymbolResources=new Ee({view:this,viewingMode:e,resourceController:this._resourceController,pointsOfInterest:this.pointsOfInterest,viewState:this.state})}_exitSurface(){this.sharedSymbolResources&&(this.sharedSymbolResources.objectResourceCache.destroy(),this.sharedSymbolResources.destroy(),this.sharedSymbolResources=null,this._exitGlobe(),this._exitStage())}_createGraphicsViewIfNeeded(){if(this.graphicsView||this._createGraphicsViewController)return;if(0===this.graphics.length)return;this.handles.remove(\"graphics-view\"),this._createGraphicsViewController=new AbortController;const e=()=>{this._createGraphicsViewController=null,this._updatingChanged()};this._createGraphicsViewAsync(this._createGraphicsViewController.signal).then(e,e),this._updatingChanged()}async _createGraphicsViewAsync(e){const t=(await import(\"./3d/layers/GraphicsView3D.js\")).default;w(e),await S((()=>this.basemapTerrain?.ready),e),this._set(\"graphicsView\",new t({view:this}))}_disposeGraphicsView(){this._createGraphicsViewController&&(this._createGraphicsViewController.abort(),this._createGraphicsViewController=null),this.handles.remove(\"graphics-view\"),g(this.graphicsView)&&(this.handles.remove(this.graphicsView.processor.layer.id),this.graphicsView.destroy(),this._set(\"graphicsView\",null))}_startup(){const e=oe(this.viewingMode);if(e===ae.Global&&(this._clippingArea=null),this._initSurface(e),this._set(\"ready\",!0),this.handles.add(v((()=>this.graphics),\"after-changes\",(()=>this._createGraphicsViewIfNeeded())),\"graphics-view\"),this._createGraphicsViewIfNeeded(),!this._externallySet.environment){const e=this.get(\"map.initialViewProperties.environment\");e&&(this.environment=e)}this.labeler.setup(),this.environmentManager.connectView(this),this.inputManager.connect();const t=this._resolveWhenReady;this._resolveWhenReady=[],t.forEach((e=>e(this)))}_teardown(){this._initialDefaultSpatialReference=null,this.inputManager.disconnect(),this.environmentManager.disconnectView(),this.labeler.dispose(),this._disposeGraphicsView(),this.handles.remove(\"graphics-view\"),this._exitSurface(),this._set(\"ready\",!1)}_updateDefaultToMapOptions(){if(this._defaultToMapOptions.include.clear(),this.map){this.map.ground&&this._defaultToMapOptions.include.add(Ne);for(const e of this.map.allLayers.items)\"integrated-mesh\"===e.type&&this._defaultToMapOptions.include.add(e.uid)}}_updateDefaultHitTestOptions(){if(this._defaultHitTestOptions.exclude.clear(),this.map){this.map.ground&&this.map.ground.opacity<1&&this._defaultHitTestOptions.exclude.add(Ne);for(const e of this.map.allLayers.items)\"integrated-mesh\"===e.type&&e.opacity<1&&this._defaultHitTestOptions.exclude.add(e.uid)}}addVoxelLayerViewToWasm(e){return u(this.voxelWasm)?(u(this.voxelWasmPromise)&&(this.voxelWasmPromise=import(\"../layers/VoxelWasmPerSceneView.js\").then((e=>(this.voxelWasm=new e.default(this),this.voxelWasm)))),this.voxelWasmPromise.then((t=>t.addVoxelLayer(e)))):this.voxelWasm.addVoxelLayer(e)}removeVoxelLayerViewFromWasm(e){if(g(this.voxelWasm)){this.voxelWasm.removeVoxelLayer(e)<1&&(this.voxelWasm=null,this.voxelWasmPromise=null)}}};function pt(e,t){e.layerUids||(e.layerUids=new Set),e.layerUids.add(t)}function ht(e,t){e.graphicUids||(e.graphicUids=new Set),e.graphicUids.add(t)}function dt(e,t){return g(e)&&W(e.spatialReference,t)?D(e,t):null}var ct;lt.type=\"3d\",e([j()],lt.prototype,\"_userClippingArea\",void 0),e([j()],lt.prototype,\"_resourceController\",void 0),e([j()],lt.prototype,\"_stage\",void 0),e([j({readOnly:!0})],lt.prototype,\"deconflictor\",void 0),e([j({readOnly:!0})],lt.prototype,\"labeler\",void 0),e([j(A(J,\"analyses\"))],lt.prototype,\"analyses\",void 0),e([j({type:se,readOnly:!0})],lt.prototype,\"animation\",null),e([j({readOnly:!0})],lt.prototype,\"basemapTerrain\",void 0),e([j({readOnly:!0})],lt.prototype,\"elevationProvider\",void 0),e([j()],lt.prototype,\"camera\",null),e([j({type:t})],lt.prototype,\"contentCamera\",null),e([j({readOnly:!0})],lt.prototype,\"canvas\",void 0),e([j({type:ot})],lt.prototype,\"center\",null),e([j({type:at})],lt.prototype,\"clippingArea\",null),e([j({type:he})],lt.prototype,\"constraints\",void 0),e([j({type:at,readOnly:!0})],lt.prototype,\"renderDataExtent\",null),e([j({type:at,readOnly:!0})],lt.prototype,\"dataExtent\",null),e([j({type:at,readOnly:!0})],lt.prototype,\"_groundAndLayersExtent\",null),e([j({value:null,type:de})],lt.prototype,\"environment\",null),e([E(\"environment\")],lt.prototype,\"castEnvironment\",null),e([j({readOnly:!0})],lt.prototype,\"environmentManager\",void 0),e([j({type:at})],lt.prototype,\"extent\",null),e([j()],lt.prototype,\"floors\",void 0),e([j()],lt.prototype,\"screenCenter\",null),e([j()],lt.prototype,\"frustum\",null),e([j({type:Number,readOnly:!0})],lt.prototype,\"fullOpacity\",void 0),e([j({readOnly:!0})],lt.prototype,\"graphicsView\",void 0),e([j({readOnly:!0})],lt.prototype,\"analysisViewManager\",void 0),e([j()],lt.prototype,\"groundView\",void 0),e([j({type:Boolean})],lt.prototype,\"initialExtentRequired\",null),e([j()],lt.prototype,\"_defaultsFromMapSettings\",null),e([j()],lt.prototype,\"interacting\",null),e([j()],lt.prototype,\"stationary\",null),e([j()],lt.prototype,\"navigating\",null),e([j()],lt.prototype,\"map\",void 0),e([j({readOnly:!0})],lt.prototype,\"mapCoordsHelper\",void 0),e([j()],lt.prototype,\"padding\",null),e([j({type:Ie,readOnly:!0})],lt.prototype,\"pointsOfInterest\",void 0),e([j({type:ye,readOnly:!0})],lt.prototype,\"featureTiles\",void 0),e([j()],lt.prototype,\"_featureTreeDebugger\",void 0),e([j({type:Boolean})],lt.prototype,\"screenSizePerspectiveEnabled\",void 0),e([j({constructOnly:!0})],lt.prototype,\"deactivatedWebGLExtensions\",void 0),e([j({constructOnly:!0})],lt.prototype,\"debugWebGLExtensions\",void 0),e([j({constructOnly:!0})],lt.prototype,\"renderCanvas\",void 0),e([j({constructOnly:!0})],lt.prototype,\"state\",void 0),e([j({readOnly:!0})],lt.prototype,\"inputManager\",void 0),e([j({readOnly:!0})],lt.prototype,\"stateManager\",void 0),e([j({type:[\"low\",\"medium\",\"high\"]})],lt.prototype,\"qualityProfile\",null),e([j({type:xe,get(){let e=this._get(\"qualitySettings\");return e||(e=new xe,Me.apply(this.qualityProfile,e)),e}})],lt.prototype,\"qualitySettings\",void 0),e([j()],lt.prototype,\"slicePlane\",null),e([j({readOnly:!0})],lt.prototype,\"typeSpecificPreconditionsReady\",null),e([j({readOnly:!0})],lt.prototype,\"renderCoordsHelper\",void 0),e([j({readOnly:!0})],lt.prototype,\"sceneIntersectionHelper\",void 0),e([j({type:Number,dependsOn:[\"scale\",\"spatialReference\"],readOnly:!0})],lt.prototype,\"resolution\",null),e([j({type:Number})],lt.prototype,\"scale\",null),e([j()],lt.prototype,\"heightModelInfo\",null),e([j()],lt.prototype,\"spatialReference\",void 0),e([j({type:Boolean,constructOnly:!0})],lt.prototype,\"alphaCompositingEnabled\",void 0),e([j({constructOnly:!0})],lt.prototype,\"preserveDrawingBufferEnabled\",void 0),e([j({type:Boolean})],lt.prototype,\"supersampleScreenshotsEnabled\",void 0),e([j({readOnly:!0})],lt.prototype,\"type\",void 0),e([j({type:rt})],lt.prototype,\"ui\",void 0),e([j({type:Boolean,readOnly:!0,dependsOn:[\"graphicsView.updating\",\"basemapView.updating\",\"basemapTerrain.updating\",\"layerViewManager.updating\",\"layerViewManager.updatingRemaining\",\"_resourceController.updating\",\"_stage.updating\",\"featureTiles.updating\",\"pointsOfInterest.updating\",\"environmentManager.updating\",\"overlay.updating\",\"updatingHandles.updating\",\"featureTreeDebugger.updating\",\"labeler.updating\",\"deconflictor.updating\",\"ready\",\"stationary\",\"inputManager.hasPendingInputs\",\"toolViewManager.updating\",\"analysisViewManager.updating\",\"state.mode\"]})],lt.prototype,\"updating\",null),e([j({type:Number,readOnly:!0,dependsOn:[\"updating\"]})],lt.prototype,\"updatingProgress\",void 0),e([j({type:[\"global\",\"local\"]})],lt.prototype,\"viewingMode\",null),e([j({type:r})],lt.prototype,\"viewpoint\",null),e([j({type:Number})],lt.prototype,\"zoom\",null),e([j({type:Ce})],lt.prototype,\"highlightOptions\",void 0),lt=e([I(\"esri.views.SceneView\")],lt),function(e){e[e.INCLUDE=0]=\"INCLUDE\",e[e.EXCLUDE=1]=\"EXCLUDE\"}(ct||(ct={}));const ut=P(),gt=T(),mt=k(),yt=lt;export{yt as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}