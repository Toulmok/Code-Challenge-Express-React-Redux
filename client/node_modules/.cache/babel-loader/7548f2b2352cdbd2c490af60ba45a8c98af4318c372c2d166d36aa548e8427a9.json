{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport has from \"../has.js\";\nvar t;\n!function (t) {\n  t[t.HANDSHAKE = 0] = \"HANDSHAKE\", t[t.OPEN = 1] = \"OPEN\", t[t.OPENED = 2] = \"OPENED\", t[t.RESPONSE = 3] = \"RESPONSE\", t[t.INVOKE = 4] = \"INVOKE\", t[t.ABORT = 5] = \"ABORT\", t[t.CLOSE = 6] = \"CLOSE\", t[t.OPEN_PORT = 7] = \"OPEN_PORT\", t[t.ON = 8] = \"ON\";\n}(t || (t = {}));\nlet e = 0;\nfunction r() {\n  return e++;\n}\nfunction n(t) {\n  return t && \"object\" == typeof t && (\"result\" in t || \"transferList\" in t);\n}\nfunction s(t) {\n  return t ? \"string\" == typeof t ? JSON.stringify({\n    name: \"message\",\n    message: t\n  }) : t.toJSON ? JSON.stringify(t) : JSON.stringify({\n    name: t.name,\n    message: t.message,\n    details: t.details || {\n      stack: t.stack\n    }\n  }) : null;\n}\nfunction o(e, r, f, a) {\n  if (r.type === t.OPEN_PORT) return void e.postMessage(r, [r.port]);\n  if (r.type !== t.INVOKE && r.type !== t.RESPONSE) return void e.postMessage(r);\n  let u;\n  if (n(f) ? (u = i(f.transferList), r.data = f.result) : (u = i(a), r.data = f), u) {\n    if (has(\"ff\")) for (const n of u) if (\"byteLength\" in n && n.byteLength > 267386880) {\n      const n = \"Worker call with large ArrayBuffer would crash Firefox\";\n      switch (r.type) {\n        case t.INVOKE:\n          throw n;\n        case t.RESPONSE:\n          return void o(e, {\n            type: t.RESPONSE,\n            jobId: r.jobId,\n            error: s(n)\n          });\n      }\n    }\n    e.postMessage(r, u);\n  } else e.postMessage(r);\n}\nfunction f(t) {\n  if (!t) return null;\n  const e = t.data;\n  return e ? \"string\" == typeof e ? JSON.parse(e) : e : null;\n}\nfunction i(t) {\n  if (!t || !t.length) return null;\n  if (has(\"esri-workers-arraybuffer-transfer\")) return t;\n  const e = t.filter(t => !a(t));\n  return e.length ? e : null;\n}\nfunction a(t) {\n  return t instanceof ArrayBuffer || t && t.constructor && \"ArrayBuffer\" === t.constructor.name;\n}\nexport { t as MessageType, n as isTranferableResult, r as newJobId, o as postMessage, f as receiveMessage, s as toInvokeError };","map":{"version":3,"names":["has","t","HANDSHAKE","OPEN","OPENED","RESPONSE","INVOKE","ABORT","CLOSE","OPEN_PORT","ON","e","r","n","s","JSON","stringify","name","message","toJSON","details","stack","o","f","a","type","postMessage","port","u","i","transferList","data","result","byteLength","jobId","error","parse","length","filter","ArrayBuffer","constructor","MessageType","isTranferableResult","newJobId","receiveMessage","toInvokeError"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/core/workers/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport has from\"../has.js\";var t;!function(t){t[t.HANDSHAKE=0]=\"HANDSHAKE\",t[t.OPEN=1]=\"OPEN\",t[t.OPENED=2]=\"OPENED\",t[t.RESPONSE=3]=\"RESPONSE\",t[t.INVOKE=4]=\"INVOKE\",t[t.ABORT=5]=\"ABORT\",t[t.CLOSE=6]=\"CLOSE\",t[t.OPEN_PORT=7]=\"OPEN_PORT\",t[t.ON=8]=\"ON\"}(t||(t={}));let e=0;function r(){return e++}function n(t){return t&&\"object\"==typeof t&&(\"result\"in t||\"transferList\"in t)}function s(t){return t?\"string\"==typeof t?JSON.stringify({name:\"message\",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function o(e,r,f,a){if(r.type===t.OPEN_PORT)return void e.postMessage(r,[r.port]);if(r.type!==t.INVOKE&&r.type!==t.RESPONSE)return void e.postMessage(r);let u;if(n(f)?(u=i(f.transferList),r.data=f.result):(u=i(a),r.data=f),u){if(has(\"ff\"))for(const n of u)if(\"byteLength\"in n&&n.byteLength>267386880){const n=\"Worker call with large ArrayBuffer would crash Firefox\";switch(r.type){case t.INVOKE:throw n;case t.RESPONSE:return void o(e,{type:t.RESPONSE,jobId:r.jobId,error:s(n)})}}e.postMessage(r,u)}else e.postMessage(r)}function f(t){if(!t)return null;const e=t.data;return e?\"string\"==typeof e?JSON.parse(e):e:null}function i(t){if(!t||!t.length)return null;if(has(\"esri-workers-arraybuffer-transfer\"))return t;const e=t.filter((t=>!a(t)));return e.length?e:null}function a(t){return t instanceof ArrayBuffer||t&&t.constructor&&\"ArrayBuffer\"===t.constructor.name}export{t as MessageType,n as isTranferableResult,r as newJobId,o as postMessage,f as receiveMessage,s as toInvokeError};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,GAAG,MAAK,WAAW;AAAC,IAAIC,CAAC;AAAC,CAAC,UAASA,CAAC,EAAC;EAACA,CAAC,CAACA,CAAC,CAACC,SAAS,GAAC,CAAC,CAAC,GAAC,WAAW,EAACD,CAAC,CAACA,CAAC,CAACE,IAAI,GAAC,CAAC,CAAC,GAAC,MAAM,EAACF,CAAC,CAACA,CAAC,CAACG,MAAM,GAAC,CAAC,CAAC,GAAC,QAAQ,EAACH,CAAC,CAACA,CAAC,CAACI,QAAQ,GAAC,CAAC,CAAC,GAAC,UAAU,EAACJ,CAAC,CAACA,CAAC,CAACK,MAAM,GAAC,CAAC,CAAC,GAAC,QAAQ,EAACL,CAAC,CAACA,CAAC,CAACM,KAAK,GAAC,CAAC,CAAC,GAAC,OAAO,EAACN,CAAC,CAACA,CAAC,CAACO,KAAK,GAAC,CAAC,CAAC,GAAC,OAAO,EAACP,CAAC,CAACA,CAAC,CAACQ,SAAS,GAAC,CAAC,CAAC,GAAC,WAAW,EAACR,CAAC,CAACA,CAAC,CAACS,EAAE,GAAC,CAAC,CAAC,GAAC,IAAI;AAAA,CAAC,CAACT,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC;AAAC,IAAIU,CAAC,GAAC,CAAC;AAAC,SAASC,CAACA,CAAA,EAAE;EAAC,OAAOD,CAAC,EAAE;AAAA;AAAC,SAASE,CAACA,CAACZ,CAAC,EAAC;EAAC,OAAOA,CAAC,IAAE,QAAQ,IAAE,OAAOA,CAAC,KAAG,QAAQ,IAAGA,CAAC,IAAE,cAAc,IAAGA,CAAC,CAAC;AAAA;AAAC,SAASa,CAACA,CAACb,CAAC,EAAC;EAAC,OAAOA,CAAC,GAAC,QAAQ,IAAE,OAAOA,CAAC,GAACc,IAAI,CAACC,SAAS,CAAC;IAACC,IAAI,EAAC,SAAS;IAACC,OAAO,EAACjB;EAAC,CAAC,CAAC,GAACA,CAAC,CAACkB,MAAM,GAACJ,IAAI,CAACC,SAAS,CAACf,CAAC,CAAC,GAACc,IAAI,CAACC,SAAS,CAAC;IAACC,IAAI,EAAChB,CAAC,CAACgB,IAAI;IAACC,OAAO,EAACjB,CAAC,CAACiB,OAAO;IAACE,OAAO,EAACnB,CAAC,CAACmB,OAAO,IAAE;MAACC,KAAK,EAACpB,CAAC,CAACoB;IAAK;EAAC,CAAC,CAAC,GAAC,IAAI;AAAA;AAAC,SAASC,CAACA,CAACX,CAAC,EAACC,CAAC,EAACW,CAAC,EAACC,CAAC,EAAC;EAAC,IAAGZ,CAAC,CAACa,IAAI,KAAGxB,CAAC,CAACQ,SAAS,EAAC,OAAO,KAAKE,CAAC,CAACe,WAAW,CAACd,CAAC,EAAC,CAACA,CAAC,CAACe,IAAI,CAAC,CAAC;EAAC,IAAGf,CAAC,CAACa,IAAI,KAAGxB,CAAC,CAACK,MAAM,IAAEM,CAAC,CAACa,IAAI,KAAGxB,CAAC,CAACI,QAAQ,EAAC,OAAO,KAAKM,CAAC,CAACe,WAAW,CAACd,CAAC,CAAC;EAAC,IAAIgB,CAAC;EAAC,IAAGf,CAAC,CAACU,CAAC,CAAC,IAAEK,CAAC,GAACC,CAAC,CAACN,CAAC,CAACO,YAAY,CAAC,EAAClB,CAAC,CAACmB,IAAI,GAACR,CAAC,CAACS,MAAM,KAAGJ,CAAC,GAACC,CAAC,CAACL,CAAC,CAAC,EAACZ,CAAC,CAACmB,IAAI,GAACR,CAAC,CAAC,EAACK,CAAC,EAAC;IAAC,IAAG5B,GAAG,CAAC,IAAI,CAAC,EAAC,KAAI,MAAMa,CAAC,IAAIe,CAAC,EAAC,IAAG,YAAY,IAAGf,CAAC,IAAEA,CAAC,CAACoB,UAAU,GAAC,SAAS,EAAC;MAAC,MAAMpB,CAAC,GAAC,wDAAwD;MAAC,QAAOD,CAAC,CAACa,IAAI;QAAE,KAAKxB,CAAC,CAACK,MAAM;UAAC,MAAMO,CAAC;QAAC,KAAKZ,CAAC,CAACI,QAAQ;UAAC,OAAO,KAAKiB,CAAC,CAACX,CAAC,EAAC;YAACc,IAAI,EAACxB,CAAC,CAACI,QAAQ;YAAC6B,KAAK,EAACtB,CAAC,CAACsB,KAAK;YAACC,KAAK,EAACrB,CAAC,CAACD,CAAC;UAAC,CAAC,CAAC;MAAA;IAAC;IAACF,CAAC,CAACe,WAAW,CAACd,CAAC,EAACgB,CAAC,CAAC;EAAA,CAAC,MAAKjB,CAAC,CAACe,WAAW,CAACd,CAAC,CAAC;AAAA;AAAC,SAASW,CAACA,CAACtB,CAAC,EAAC;EAAC,IAAG,CAACA,CAAC,EAAC,OAAO,IAAI;EAAC,MAAMU,CAAC,GAACV,CAAC,CAAC8B,IAAI;EAAC,OAAOpB,CAAC,GAAC,QAAQ,IAAE,OAAOA,CAAC,GAACI,IAAI,CAACqB,KAAK,CAACzB,CAAC,CAAC,GAACA,CAAC,GAAC,IAAI;AAAA;AAAC,SAASkB,CAACA,CAAC5B,CAAC,EAAC;EAAC,IAAG,CAACA,CAAC,IAAE,CAACA,CAAC,CAACoC,MAAM,EAAC,OAAO,IAAI;EAAC,IAAGrC,GAAG,CAAC,mCAAmC,CAAC,EAAC,OAAOC,CAAC;EAAC,MAAMU,CAAC,GAACV,CAAC,CAACqC,MAAM,CAAErC,CAAC,IAAE,CAACuB,CAAC,CAACvB,CAAC,CAAC,CAAE;EAAC,OAAOU,CAAC,CAAC0B,MAAM,GAAC1B,CAAC,GAAC,IAAI;AAAA;AAAC,SAASa,CAACA,CAACvB,CAAC,EAAC;EAAC,OAAOA,CAAC,YAAYsC,WAAW,IAAEtC,CAAC,IAAEA,CAAC,CAACuC,WAAW,IAAE,aAAa,KAAGvC,CAAC,CAACuC,WAAW,CAACvB,IAAI;AAAA;AAAC,SAAOhB,CAAC,IAAIwC,WAAW,EAAC5B,CAAC,IAAI6B,mBAAmB,EAAC9B,CAAC,IAAI+B,QAAQ,EAACrB,CAAC,IAAII,WAAW,EAACH,CAAC,IAAIqB,cAAc,EAAC9B,CAAC,IAAI+B,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}