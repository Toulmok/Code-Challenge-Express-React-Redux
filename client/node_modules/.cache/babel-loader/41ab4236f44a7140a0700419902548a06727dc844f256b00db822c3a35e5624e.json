{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport { toHSV as t } from \"../../core/colorUtils.js\";\nimport { JSONSupport as r } from \"../../core/JSONSupport.js\";\nimport s from \"../../core/Logger.js\";\nimport { unwrap as o, isSome as a, isNone as n } from \"../../core/maybe.js\";\nimport { property as i } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as l } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport u from \"../../layers/support/RasterInfo.js\";\nimport { extractBands as c, colorize as p, remapColor as d, lookupPixels as h, createColormapLUT as m, isValidPixelBlock as f } from \"../../layers/support/rasterFunctions/pixelUtils.js\";\nimport { stretch as y, getStretchCutoff as b, createStretchLUT as g, computeGammaValues as S, createHistogramEqualizationLUT as k } from \"../../layers/support/rasterFunctions/stretchUtils.js\";\nimport { hillshade as R, tintHillshade as x, calculateHillshadeParams as I } from \"../../layers/support/rasterFunctions/surfaceUtils.js\";\nimport { convertColorRampToColormap as C } from \"./colorRampUtils.js\";\nfunction L(e, t) {\n  const {\n    attributeTable: r,\n    bandCount: s\n  } = e;\n  if (n(r) || s > 1) return !1;\n  if (t) {\n    if (null == r.fields.find(e => e.name.toLowerCase() === t.toLowerCase())) return !1;\n  }\n  return !0;\n}\nfunction _(e) {\n  const {\n    bandCount: t,\n    dataType: r,\n    pixelType: s\n  } = e;\n  return \"elevation\" === r || \"generic\" === r && 1 === t && (\"s16\" === s || \"f32\" === s || \"f64\" === s);\n}\nfunction V(e) {\n  const {\n    bandCount: t,\n    colormap: r\n  } = e;\n  return a(r) && r.length > 0 && 1 === t;\n}\nlet v = class extends r {\n  constructor(e) {\n    super(e);\n  }\n  bind() {\n    const {\n      rendererJSON: e\n    } = this;\n    if (!e) return {\n      success: !1\n    };\n    let t;\n    switch (this.lookup = {\n      rendererJSON: {}\n    }, e.type) {\n      case \"uniqueValue\":\n        t = this._updateUVRenderer(e);\n        break;\n      case \"rasterColormap\":\n        t = this._updateColormapRenderer(e);\n        break;\n      case \"rasterStretch\":\n        t = this._updateStretchRenderer(e);\n        break;\n      case \"classBreaks\":\n        t = this._updateClassBreaksRenderer(e);\n        break;\n      case \"rasterShadedRelief\":\n        t = this._updateShadedReliefRenderer(e);\n        break;\n      case \"vectorField\":\n        t = this._updateVectorFieldRenderer();\n        break;\n      case \"flowRenderer\":\n        t = this._updateFlowRenderer();\n    }\n    return t;\n  }\n  symbolize(e) {\n    let t = e && e.pixelBlock;\n    if (!O(t)) return t;\n    if (e.simpleStretchParams && \"rasterStretch\" === this.rendererJSON.type) return this.simpleStretch(t, e.simpleStretchParams);\n    try {\n      let r;\n      switch (t.pixels.length > 3 && (t = c(t, [0, 1, 2])), this.rendererJSON.type) {\n        case \"uniqueValue\":\n        case \"rasterColormap\":\n          r = this._symbolizeColormap(t);\n          break;\n        case \"classBreaks\":\n          r = this._symbolizeClassBreaks(t);\n          break;\n        case \"rasterStretch\":\n          r = this._symbolizeStretch(t, e.bandIds);\n          break;\n        case \"rasterShadedRelief\":\n          {\n            const s = e.extent,\n              o = s.spatialReference.isGeographic,\n              a = {\n                x: (s.xmax - s.xmin) / t.width,\n                y: (s.ymax - s.ymin) / t.height\n              };\n            r = this._symbolizeShadedRelief(t, {\n              isGCS: o,\n              resolution: a\n            });\n            break;\n          }\n      }\n      return r;\n    } catch (r) {\n      return s.getLogger(this.declaredClass).error(\"symbolize\", r.message), t;\n    }\n  }\n  simpleStretch(e, t) {\n    if (!O(e)) return e;\n    try {\n      return e.pixels.length > 3 && (e = c(e, [0, 1, 2])), y(e, {\n        ...t,\n        isRenderer: !0\n      });\n    } catch (r) {\n      return s.getLogger(this.declaredClass).error(\"symbolize\", r.message), e;\n    }\n  }\n  generateWebGLParameters(e) {\n    if ([\"uniqueValue\", \"rasterColormap\", \"classBreaks\"].includes(this.rendererJSON.type)) {\n      const {\n        indexedColormap: e,\n        offset: t\n      } = this.lookup.colormapLut || {};\n      return {\n        colormap: e,\n        colormapOffset: t,\n        type: \"lut\"\n      };\n    }\n    const {\n        pixelBlock: t,\n        isGCS: r,\n        resolution: s,\n        bandIds: o\n      } = e,\n      {\n        rendererJSON: a\n      } = this;\n    return \"rasterStretch\" === a.type ? this._generateStretchWebGLParams(t, a, o) : \"rasterShadedRelief\" === a.type ? this._generateShadedReliefWebGLParams(a, r, s ?? void 0) : \"vectorField\" === a.type ? this._generateVectorFieldWebGLParams(a) : null;\n  }\n  _isLUTChanged(e) {\n    if (!this.lookup || !this.lookup.rendererJSON) return !0;\n    if (\"colorRamp\" in this.rendererJSON) {\n      const t = this.rendererJSON.colorRamp;\n      return e ? JSON.stringify(t) !== JSON.stringify(this.lookup.rendererJSON.colorRamp) : (this.rendererJSON, this.lookup.rendererJSON, JSON.stringify(this.rendererJSON) !== JSON.stringify(this.lookup.rendererJSON));\n    }\n    return JSON.stringify(this.rendererJSON) !== JSON.stringify(this.lookup.rendererJSON);\n  }\n  _symbolizeColormap(e) {\n    if (this._isLUTChanged()) {\n      if (!this.bind().success) return e;\n    }\n    return p(e, this.lookup.colormapLut);\n  }\n  _symbolizeClassBreaks(e) {\n    const {\n      canUseIndexedLUT: t\n    } = this._analyzeClassBreaks(this.rendererJSON);\n    if (this._isLUTChanged()) {\n      if (!this.bind().success) return e;\n    }\n    return t ? p(e, this.lookup.colormapLut) : d(e, this.lookup.remapLut ?? []);\n  }\n  _symbolizeStretch(e, t) {\n    const {\n        rasterInfo: r\n      } = this,\n      {\n        pixelType: s,\n        bandCount: a\n      } = r,\n      n = this.rendererJSON,\n      i = [\"u8\", \"u16\", \"s8\", \"s16\"].includes(s);\n    let l, u;\n    const {\n        dra: c\n      } = n,\n      {\n        gamma: d\n      } = this.lookup;\n    if (\"histogramEqualization\" === n.stretchType) {\n      const s = c ? null : this.lookup?.histogramLut,\n        o = b(n, {\n          rasterInfo: r,\n          pixelBlock: e,\n          bandIds: t,\n          returnHistogramLut: !s\n        }),\n        a = y(e, {\n          ...o,\n          gamma: d,\n          isRenderer: !0\n        });\n      u = h(a, {\n        lut: c ? o.histogramLut : s,\n        offset: 0\n      });\n    } else if (i) {\n      if (c) {\n        const o = b(n, {\n          rasterInfo: r,\n          pixelBlock: e,\n          bandIds: t\n        });\n        l = g({\n          pixelType: s,\n          ...o,\n          gamma: d,\n          rounding: \"floor\"\n        });\n      } else if (this._isLUTChanged()) {\n        if (!this.bind().success) return e;\n        l = this.lookup ? this.lookup.stretchLut : null;\n      } else l = this.lookup ? this.lookup.stretchLut : null;\n      if (!l) return e;\n      a > 1 && t?.length === o(e)?.pixels.length && l?.lut.length === a && (l = {\n        lut: t.map(e => l.lut[e]),\n        offset: l.offset\n      }), u = h(e, l);\n    } else {\n      const s = b(n, {\n        rasterInfo: r,\n        pixelBlock: e,\n        bandIds: t\n      });\n      u = y(e, {\n        ...s,\n        gamma: d,\n        isRenderer: !0\n      });\n    }\n    if (n.colorRamp) {\n      if (this._isLUTChanged(!0)) {\n        if (!this.bind().success) return e;\n      }\n      u = p(u, this.lookup?.colormapLut);\n    }\n    return u;\n  }\n  _symbolizeShadedRelief(e, t) {\n    const r = this.rendererJSON,\n      s = {\n        ...r,\n        ...t\n      },\n      a = R(e, s);\n    if (!r.colorRamp) return a;\n    let n;\n    if (this._isLUTChanged(!0)) {\n      if (!this.bind().success) return a;\n      n = this.lookup ? this.lookup.hsvMap : null;\n    } else n = this.lookup ? this.lookup.hsvMap : null;\n    if (!n) return a;\n    const i = o(this.rasterInfo.statistics)?.[0] ?? {\n      min: 0,\n      max: 8e3\n    };\n    return x(a, e, n, i), a;\n  }\n  _isVectorFieldData() {\n    const {\n      bandCount: e,\n      dataType: t\n    } = this.rasterInfo;\n    return 2 === e && (\"vector-magdir\" === t || \"vector-uv\" === t);\n  }\n  _updateVectorFieldRenderer() {\n    return this._isVectorFieldData() ? {\n      success: !0\n    } : {\n      success: !1,\n      error: `Unsupported data type \"${this.rasterInfo.dataType}\"; VectorFieldRenderer only supports \"vector-magdir\" and \"vector-uv\".`\n    };\n  }\n  _updateFlowRenderer() {\n    return this._isVectorFieldData() ? {\n      success: !0\n    } : {\n      success: !1,\n      error: `Unsupported data type \"${this.rasterInfo.dataType}\"; FlowRenderer only supports \"vector-magdir\" and \"vector-uv\".`\n    };\n  }\n  _updateUVRenderer(e) {\n    const {\n        bandCount: t,\n        attributeTable: r,\n        pixelType: s\n      } = this.rasterInfo,\n      o = e.field1;\n    if (!o) return {\n      success: !1,\n      error: \"Unsupported renderer; missing UniqueValueRenderer.field.\"\n    };\n    const n = e.defaultSymbol,\n      i = 1 === t && [\"u8\", \"s8\"].includes(s);\n    if (!L(this.rasterInfo, o) && !i) return {\n      success: !1,\n      error: \"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table.\"\n    };\n    const l = [];\n    if (a(r)) {\n      const t = r.fields.find(e => \"value\" === e.name.toLowerCase());\n      if (!t) return {\n        success: !1,\n        error: \"Unsupported data; the data's raster attribute table does not have a value field.\"\n      };\n      r.features.forEach(r => {\n        const s = e.uniqueValueInfos?.find(e => String(e.value) === String(r.attributes[o])),\n          a = s?.symbol?.color;\n        a ? l.push([r.attributes[t.name]].concat(a)) : n && l.push([r.attributes[t.name]].concat(n.color));\n      });\n    } else {\n      if (\"value\" !== o.toLowerCase()) return {\n        success: !1,\n        error: 'Unsupported renderer; UniqueValueRenderer.field must be \"Value\" when raster attribute table is not availalbe.'\n      };\n      e.uniqueValueInfos?.forEach(e => {\n        const t = e?.symbol?.color;\n        t ? l.push([parseInt(\"\" + e.value, 10)].concat(t)) : n && l.push([parseInt(\"\" + e.value, 10)].concat(n?.color));\n      });\n    }\n    if (0 === l.length) return {\n      success: !1,\n      error: \"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table.\"\n    };\n    const u = m({\n      colormap: l\n    });\n    return this.lookup = {\n      rendererJSON: e,\n      colormapLut: u\n    }, this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n  _updateColormapRenderer(e) {\n    if (!V(this.rasterInfo)) return {\n      success: !1,\n      error: \"Unsupported data; the data source does not have a colormap.\"\n    };\n    const t = e.colormapInfos.map(e => [e.value].concat(e.color)).sort((e, t) => e[0] - t[0]);\n    if (!t || 0 === t.length) return {\n      success: !1,\n      error: \"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos.\"\n    };\n    const r = m({\n      colormap: t\n    });\n    return this.lookup = {\n      rendererJSON: e,\n      colormapLut: r\n    }, this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n  _updateShadedReliefRenderer(e) {\n    if (!_(this.rasterInfo)) return {\n      success: !1,\n      error: `Unsupported data type \"${this.rasterInfo.dataType}\"; ShadedReliefRenderer only supports \"elevation\", or single band float/s16 data.`\n    };\n    if (e.colorRamp) {\n      const r = C(e.colorRamp, {\n          interpolateAlpha: !0\n        }),\n        s = m({\n          colormap: r\n        }),\n        o = [],\n        a = s.indexedColormap;\n      for (let e = 0; e < a.length; e += 4) {\n        const r = t({\n          r: a[e],\n          g: a[e + 1],\n          b: a[e + 2]\n        });\n        o.push([r.h / 60, r.s / 100, 255 * r.v / 100]);\n      }\n      this.lookup = {\n        rendererJSON: e,\n        colormapLut: s,\n        hsvMap: o\n      };\n    } else this.lookup = null;\n    return this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n  _analyzeClassBreaks(e) {\n    const {\n        attributeTable: t,\n        pixelType: r\n      } = this.rasterInfo,\n      s = a(t) ? t.fields.find(e => \"value\" === e.name.toLowerCase()) : null,\n      o = a(t) ? t.fields.find(t => t.name.toLowerCase() === e.field.toLowerCase()) : null,\n      n = null != s && null !== o;\n    return {\n      canUseIndexedLUT: [\"u8\", \"u16\", \"s8\", \"s16\"].includes(r) || n,\n      tableValueField: s,\n      tableBreakField: o\n    };\n  }\n  _updateClassBreaksRenderer(e) {\n    const {\n        attributeTable: t\n      } = this.rasterInfo,\n      {\n        canUseIndexedLUT: r,\n        tableValueField: s,\n        tableBreakField: o\n      } = this._analyzeClassBreaks(e),\n      n = e.classBreakInfos;\n    if (!n?.length) return {\n      success: !1,\n      error: \"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos.\"\n    };\n    const i = n.sort((e, t) => e.classMaxValue - t.classMaxValue),\n      l = i[i.length - 1];\n    let u = e.minValue;\n    if (!r) {\n      const t = [];\n      for (let e = 0; e < i.length; e++) t.push({\n        value: i[e].classMinValue ?? u,\n        mappedColor: i[e].symbol.color\n      }), u = i[e].classMaxValue;\n      return t.push({\n        value: l.classMaxValue,\n        mappedColor: l.symbol.color\n      }), this.lookup = {\n        rendererJSON: e,\n        remapLut: t\n      }, this.canRenderInWebGL = !1, {\n        success: !0\n      };\n    }\n    const c = [];\n    if (a(t) && null != s && null !== o && s !== o) {\n      const r = s.name,\n        a = o.name,\n        n = i[i.length - 1],\n        {\n          classMaxValue: l\n        } = n;\n      u = e.minValue;\n      for (const e of t.features) {\n        const t = e.attributes[r],\n          s = e.attributes[a],\n          o = s === l ? n : s < u ? null : i.find(_ref => {\n            let {\n              classMaxValue: e\n            } = _ref;\n            return e > s;\n          });\n        o && c.push([t].concat(o.symbol.color));\n      }\n    } else {\n      u = Math.floor(e.minValue);\n      for (let e = 0; e < i.length; e++) {\n        const t = i[e];\n        for (let e = u; e < t.classMaxValue; e++) c.push([e].concat(t.symbol.color));\n        u = Math.ceil(t.classMaxValue);\n      }\n      l.classMaxValue === u && c.push([l.classMaxValue].concat(l.symbol.color));\n    }\n    const p = m({\n      colormap: c,\n      fillUnspecified: !1\n    });\n    return this.lookup = {\n      rendererJSON: e,\n      colormapLut: p\n    }, this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n  _isHistogramRequired(e) {\n    return \"percentClip\" === e || \"histogramEqualization\" === e;\n  }\n  _isValidRasterStatistics(e) {\n    return a(e) && e.length > 0 && null != e[0].min && null != e[0].max;\n  }\n  _updateStretchRenderer(e) {\n    let {\n      stretchType: t,\n      dra: r\n    } = e;\n    if (!(\"none\" === t || e.statistics?.length || this._isValidRasterStatistics(this.rasterInfo.statistics) || r)) return {\n      success: !1,\n      error: \"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used.\"\n    };\n    const s = o(e.histograms || this.rasterInfo.histograms);\n    !this._isHistogramRequired(e.stretchType) || s?.length || r || (t = \"minMax\");\n    const {\n      computeGamma: a,\n      useGamma: n,\n      colorRamp: i\n    } = e;\n    let {\n      gamma: l\n    } = e;\n    if (n && a && !l?.length) {\n      const t = e.statistics?.length ? e.statistics : o(this.rasterInfo.statistics);\n      l = S(this.rasterInfo.pixelType, t);\n    }\n    const u = this.rasterInfo.pixelType,\n      c = !r && [\"u8\", \"u16\", \"s8\", \"s16\"].includes(u);\n    if (\"histogramEqualization\" === t) {\n      const t = s.map(e => k(e));\n      this.lookup = {\n        rendererJSON: e,\n        histogramLut: t\n      };\n    } else if (c) {\n      const t = b(e, {\n          rasterInfo: this.rasterInfo\n        }),\n        r = g({\n          pixelType: u,\n          ...t,\n          gamma: n ? l : null,\n          rounding: \"floor\"\n        });\n      this.lookup = {\n        rendererJSON: e,\n        stretchLut: r\n      };\n    }\n    if (i) {\n      const t = C(i, {\n        interpolateAlpha: !0\n      });\n      this.lookup || (this.lookup = {\n        rendererJSON: e\n      }), this.lookup.colormapLut = m({\n        colormap: t\n      }), this.lookup.rendererJSON = e;\n    }\n    return this.lookup.gamma = n && l?.length ? l : null, this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n  _generateStretchWebGLParams(e, t, r) {\n    let s = null,\n      o = null;\n    const n = this.lookup && this.lookup.colormapLut;\n    t.colorRamp && n && (s = n.indexedColormap, o = n.offset), \"histogramEqualization\" === t.stretchType && (t = {\n      ...t,\n      stretchType: \"minMax\"\n    });\n    const {\n        gamma: i\n      } = this.lookup,\n      l = !!(t.useGamma && i && i.some(e => 1 !== e)),\n      {\n        minCutOff: u,\n        maxCutOff: c,\n        outMin: p,\n        outMax: d\n      } = b(t, {\n        rasterInfo: this.rasterInfo,\n        pixelBlock: e,\n        bandIds: r\n      });\n    let h = 0;\n    a(e) && (h = e.getPlaneCount(), 2 === h && ((e = e.clone()).statistics = [e.statistics[0]], e.pixels = [e.pixels[0]]));\n    const {\n        bandCount: m\n      } = this.rasterInfo,\n      f = Math.min(3, r?.length || h || m, m),\n      y = new Float32Array(f),\n      g = s || l ? 1 : 255;\n    let S;\n    for (S = 0; S < u.length; S++) y[S] = c[S] === u[S] ? 0 : (d - p) / (c[S] - u[S]) / g;\n    const k = new Float32Array(f);\n    if (l && i) for (S = 0; S < f; S++) i[S] > 1 ? i[S] > 2 ? k[S] = 6.5 + (i[S] - 2) ** 2.5 : k[S] = 6.5 + 100 * (2 - i[S]) ** 4 : k[S] = 1;\n    return {\n      bandCount: f,\n      outMin: p / g,\n      outMax: d / g,\n      minCutOff: u,\n      maxCutOff: c,\n      factor: y,\n      useGamma: l,\n      gamma: l ? i : [1, 1, 1],\n      gammaCorrection: l ? k : [1, 1, 1],\n      colormap: s,\n      colormapOffset: o,\n      stretchType: t.stretchType,\n      type: \"stretch\"\n    };\n  }\n  _generateShadedReliefWebGLParams(e) {\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n    let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n      x: 0,\n      y: 0\n    };\n    let s = null,\n      a = null;\n    const n = this.lookup && this.lookup.colormapLut;\n    e.colorRamp && n && (s = n.indexedColormap, a = n.offset);\n    const i = {\n        ...e,\n        isGCS: t,\n        resolution: r\n      },\n      l = I(i),\n      u = o(this.rasterInfo.statistics)?.[0];\n    return {\n      ...l,\n      minValue: u?.min ?? 0,\n      maxValue: u?.max ?? 8e3,\n      hillshadeType: \"traditional\" === e.hillshadeType ? 0 : 1,\n      type: \"hillshade\",\n      colormap: s,\n      colormapOffset: a\n    };\n  }\n  _generateVectorFieldWebGLParams(e) {\n    const {\n      style: t,\n      inputUnit: r,\n      outputUnit: s,\n      visualVariables: o,\n      symbolTileSize: n,\n      flowRepresentation: i\n    } = e;\n    let l;\n    const u = this.rasterInfo.statistics?.[0].min ?? 0,\n      c = this.rasterInfo.statistics?.[0].max ?? 50,\n      p = o?.find(e => \"sizeInfo\" === e.type) ?? {\n        type: \"sizeInfo\",\n        field: \"Magnitude\",\n        maxDataValue: c,\n        maxSize: .8 * n,\n        minDataValue: u,\n        minSize: .2 * n\n      },\n      d = p.minDataValue ?? u,\n      h = p.maxDataValue ?? c,\n      m = a(p.maxSize) && a(p.minSize) ? [p.minSize / n, p.maxSize / n] : [.2, .8];\n    if (\"wind_speed\" === t) {\n      const e = (m[0] + m[1]) / 2;\n      m[0] = m[1] = e;\n    }\n    const f = a(d) && a(h) ? [d, h] : null;\n    if (\"classified_arrow\" === t) if (a(d) && a(h) && a(p)) {\n      l = [];\n      const e = (p.maxDataValue - p.minDataValue) / 5;\n      for (let t = 0; t < 6; t++) l.push(p.minDataValue + e * t);\n    } else l = [0, 1e-6, 3.5, 7, 10.5, 14];\n    const y = \"flow_to\" === i === (\"ocean_current_kn\" === t || \"ocean_current_m\" === t) ? 0 : Math.PI,\n      b = o?.find(e => \"rotationInfo\" === e.type);\n    return {\n      breakValues: l,\n      dataRange: f,\n      inputUnit: r,\n      outputUnit: s,\n      symbolTileSize: n,\n      symbolPercentRange: m,\n      style: t || \"single_arrow\",\n      rotation: y,\n      rotationType: this.rasterInfo.storageInfo?.tileInfo && \"vector-uv\" === this.rasterInfo.dataType ? \"geographic\" : b?.rotationType || e.rotationType,\n      type: \"vectorField\"\n    };\n  }\n};\nfunction O(e) {\n  return f(e) && 0 !== e.validPixelCount;\n}\ne([i({\n  json: {\n    write: !0\n  }\n})], v.prototype, \"rendererJSON\", void 0), e([i({\n  type: u,\n  json: {\n    write: !0\n  }\n})], v.prototype, \"rasterInfo\", void 0), e([i({\n  json: {\n    write: !0\n  }\n})], v.prototype, \"lookup\", void 0), e([i()], v.prototype, \"canRenderInWebGL\", void 0), v = e([l(\"esri.renderers.support.RasterSymbolizer\")], v);\nconst T = v;\nexport { T as default };","map":{"version":3,"names":["_","e","toHSV","t","JSONSupport","r","s","unwrap","o","isSome","a","isNone","n","property","i","subclass","l","u","extractBands","c","colorize","p","remapColor","d","lookupPixels","h","createColormapLUT","m","isValidPixelBlock","f","stretch","y","getStretchCutoff","b","createStretchLUT","g","computeGammaValues","S","createHistogramEqualizationLUT","k","hillshade","R","tintHillshade","x","calculateHillshadeParams","I","convertColorRampToColormap","C","L","attributeTable","bandCount","fields","find","name","toLowerCase","dataType","pixelType","V","colormap","length","v","constructor","bind","rendererJSON","success","lookup","type","_updateUVRenderer","_updateColormapRenderer","_updateStretchRenderer","_updateClassBreaksRenderer","_updateShadedReliefRenderer","_updateVectorFieldRenderer","_updateFlowRenderer","symbolize","pixelBlock","O","simpleStretchParams","simpleStretch","pixels","_symbolizeColormap","_symbolizeClassBreaks","_symbolizeStretch","bandIds","extent","spatialReference","isGeographic","xmax","xmin","width","ymax","ymin","height","_symbolizeShadedRelief","isGCS","resolution","getLogger","declaredClass","error","message","isRenderer","generateWebGLParameters","includes","indexedColormap","offset","colormapLut","colormapOffset","_generateStretchWebGLParams","_generateShadedReliefWebGLParams","_generateVectorFieldWebGLParams","_isLUTChanged","colorRamp","JSON","stringify","canUseIndexedLUT","_analyzeClassBreaks","remapLut","rasterInfo","dra","gamma","stretchType","histogramLut","returnHistogramLut","lut","rounding","stretchLut","map","hsvMap","statistics","min","max","_isVectorFieldData","field1","defaultSymbol","features","forEach","uniqueValueInfos","String","value","attributes","symbol","color","push","concat","parseInt","canRenderInWebGL","colormapInfos","sort","interpolateAlpha","field","tableValueField","tableBreakField","classBreakInfos","classMaxValue","minValue","classMinValue","mappedColor","_ref","Math","floor","ceil","fillUnspecified","_isHistogramRequired","_isValidRasterStatistics","histograms","computeGamma","useGamma","some","minCutOff","maxCutOff","outMin","outMax","getPlaneCount","clone","Float32Array","factor","gammaCorrection","arguments","undefined","maxValue","hillshadeType","style","inputUnit","outputUnit","visualVariables","symbolTileSize","flowRepresentation","maxDataValue","maxSize","minDataValue","minSize","PI","breakValues","dataRange","symbolPercentRange","rotation","rotationType","storageInfo","tileInfo","validPixelCount","json","write","prototype","T","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/renderers/support/RasterSymbolizer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{toHSV as t}from\"../../core/colorUtils.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import s from\"../../core/Logger.js\";import{unwrap as o,isSome as a,isNone as n}from\"../../core/maybe.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import u from\"../../layers/support/RasterInfo.js\";import{extractBands as c,colorize as p,remapColor as d,lookupPixels as h,createColormapLUT as m,isValidPixelBlock as f}from\"../../layers/support/rasterFunctions/pixelUtils.js\";import{stretch as y,getStretchCutoff as b,createStretchLUT as g,computeGammaValues as S,createHistogramEqualizationLUT as k}from\"../../layers/support/rasterFunctions/stretchUtils.js\";import{hillshade as R,tintHillshade as x,calculateHillshadeParams as I}from\"../../layers/support/rasterFunctions/surfaceUtils.js\";import{convertColorRampToColormap as C}from\"./colorRampUtils.js\";function L(e,t){const{attributeTable:r,bandCount:s}=e;if(n(r)||s>1)return!1;if(t){if(null==r.fields.find((e=>e.name.toLowerCase()===t.toLowerCase())))return!1}return!0}function _(e){const{bandCount:t,dataType:r,pixelType:s}=e;return\"elevation\"===r||\"generic\"===r&&1===t&&(\"s16\"===s||\"f32\"===s||\"f64\"===s)}function V(e){const{bandCount:t,colormap:r}=e;return a(r)&&r.length>0&&1===t}let v=class extends r{constructor(e){super(e)}bind(){const{rendererJSON:e}=this;if(!e)return{success:!1};let t;switch(this.lookup={rendererJSON:{}},e.type){case\"uniqueValue\":t=this._updateUVRenderer(e);break;case\"rasterColormap\":t=this._updateColormapRenderer(e);break;case\"rasterStretch\":t=this._updateStretchRenderer(e);break;case\"classBreaks\":t=this._updateClassBreaksRenderer(e);break;case\"rasterShadedRelief\":t=this._updateShadedReliefRenderer(e);break;case\"vectorField\":t=this._updateVectorFieldRenderer();break;case\"flowRenderer\":t=this._updateFlowRenderer()}return t}symbolize(e){let t=e&&e.pixelBlock;if(!O(t))return t;if(e.simpleStretchParams&&\"rasterStretch\"===this.rendererJSON.type)return this.simpleStretch(t,e.simpleStretchParams);try{let r;switch(t.pixels.length>3&&(t=c(t,[0,1,2])),this.rendererJSON.type){case\"uniqueValue\":case\"rasterColormap\":r=this._symbolizeColormap(t);break;case\"classBreaks\":r=this._symbolizeClassBreaks(t);break;case\"rasterStretch\":r=this._symbolizeStretch(t,e.bandIds);break;case\"rasterShadedRelief\":{const s=e.extent,o=s.spatialReference.isGeographic,a={x:(s.xmax-s.xmin)/t.width,y:(s.ymax-s.ymin)/t.height};r=this._symbolizeShadedRelief(t,{isGCS:o,resolution:a});break}}return r}catch(r){return s.getLogger(this.declaredClass).error(\"symbolize\",r.message),t}}simpleStretch(e,t){if(!O(e))return e;try{return e.pixels.length>3&&(e=c(e,[0,1,2])),y(e,{...t,isRenderer:!0})}catch(r){return s.getLogger(this.declaredClass).error(\"symbolize\",r.message),e}}generateWebGLParameters(e){if([\"uniqueValue\",\"rasterColormap\",\"classBreaks\"].includes(this.rendererJSON.type)){const{indexedColormap:e,offset:t}=this.lookup.colormapLut||{};return{colormap:e,colormapOffset:t,type:\"lut\"}}const{pixelBlock:t,isGCS:r,resolution:s,bandIds:o}=e,{rendererJSON:a}=this;return\"rasterStretch\"===a.type?this._generateStretchWebGLParams(t,a,o):\"rasterShadedRelief\"===a.type?this._generateShadedReliefWebGLParams(a,r,s??void 0):\"vectorField\"===a.type?this._generateVectorFieldWebGLParams(a):null}_isLUTChanged(e){if(!this.lookup||!this.lookup.rendererJSON)return!0;if(\"colorRamp\"in this.rendererJSON){const t=this.rendererJSON.colorRamp;return e?JSON.stringify(t)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):(this.rendererJSON,this.lookup.rendererJSON,JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON))}return JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}_symbolizeColormap(e){if(this._isLUTChanged()){if(!this.bind().success)return e}return p(e,this.lookup.colormapLut)}_symbolizeClassBreaks(e){const{canUseIndexedLUT:t}=this._analyzeClassBreaks(this.rendererJSON);if(this._isLUTChanged()){if(!this.bind().success)return e}return t?p(e,this.lookup.colormapLut):d(e,this.lookup.remapLut??[])}_symbolizeStretch(e,t){const{rasterInfo:r}=this,{pixelType:s,bandCount:a}=r,n=this.rendererJSON,i=[\"u8\",\"u16\",\"s8\",\"s16\"].includes(s);let l,u;const{dra:c}=n,{gamma:d}=this.lookup;if(\"histogramEqualization\"===n.stretchType){const s=c?null:this.lookup?.histogramLut,o=b(n,{rasterInfo:r,pixelBlock:e,bandIds:t,returnHistogramLut:!s}),a=y(e,{...o,gamma:d,isRenderer:!0});u=h(a,{lut:c?o.histogramLut:s,offset:0})}else if(i){if(c){const o=b(n,{rasterInfo:r,pixelBlock:e,bandIds:t});l=g({pixelType:s,...o,gamma:d,rounding:\"floor\"})}else if(this._isLUTChanged()){if(!this.bind().success)return e;l=this.lookup?this.lookup.stretchLut:null}else l=this.lookup?this.lookup.stretchLut:null;if(!l)return e;a>1&&t?.length===o(e)?.pixels.length&&l?.lut.length===a&&(l={lut:t.map((e=>l.lut[e])),offset:l.offset}),u=h(e,l)}else{const s=b(n,{rasterInfo:r,pixelBlock:e,bandIds:t});u=y(e,{...s,gamma:d,isRenderer:!0})}if(n.colorRamp){if(this._isLUTChanged(!0)){if(!this.bind().success)return e}u=p(u,this.lookup?.colormapLut)}return u}_symbolizeShadedRelief(e,t){const r=this.rendererJSON,s={...r,...t},a=R(e,s);if(!r.colorRamp)return a;let n;if(this._isLUTChanged(!0)){if(!this.bind().success)return a;n=this.lookup?this.lookup.hsvMap:null}else n=this.lookup?this.lookup.hsvMap:null;if(!n)return a;const i=o(this.rasterInfo.statistics)?.[0]??{min:0,max:8e3};return x(a,e,n,i),a}_isVectorFieldData(){const{bandCount:e,dataType:t}=this.rasterInfo;return 2===e&&(\"vector-magdir\"===t||\"vector-uv\"===t)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type \"${this.rasterInfo.dataType}\"; VectorFieldRenderer only supports \"vector-magdir\" and \"vector-uv\".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type \"${this.rasterInfo.dataType}\"; FlowRenderer only supports \"vector-magdir\" and \"vector-uv\".`}}_updateUVRenderer(e){const{bandCount:t,attributeTable:r,pixelType:s}=this.rasterInfo,o=e.field1;if(!o)return{success:!1,error:\"Unsupported renderer; missing UniqueValueRenderer.field.\"};const n=e.defaultSymbol,i=1===t&&[\"u8\",\"s8\"].includes(s);if(!L(this.rasterInfo,o)&&!i)return{success:!1,error:\"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table.\"};const l=[];if(a(r)){const t=r.fields.find((e=>\"value\"===e.name.toLowerCase()));if(!t)return{success:!1,error:\"Unsupported data; the data's raster attribute table does not have a value field.\"};r.features.forEach((r=>{const s=e.uniqueValueInfos?.find((e=>String(e.value)===String(r.attributes[o]))),a=s?.symbol?.color;a?l.push([r.attributes[t.name]].concat(a)):n&&l.push([r.attributes[t.name]].concat(n.color))}))}else{if(\"value\"!==o.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be \"Value\" when raster attribute table is not availalbe.'};e.uniqueValueInfos?.forEach((e=>{const t=e?.symbol?.color;t?l.push([parseInt(\"\"+e.value,10)].concat(t)):n&&l.push([parseInt(\"\"+e.value,10)].concat(n?.color))}))}if(0===l.length)return{success:!1,error:\"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table.\"};const u=m({colormap:l});return this.lookup={rendererJSON:e,colormapLut:u},this.canRenderInWebGL=!0,{success:!0}}_updateColormapRenderer(e){if(!V(this.rasterInfo))return{success:!1,error:\"Unsupported data; the data source does not have a colormap.\"};const t=e.colormapInfos.map((e=>[e.value].concat(e.color))).sort(((e,t)=>e[0]-t[0]));if(!t||0===t.length)return{success:!1,error:\"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos.\"};const r=m({colormap:t});return this.lookup={rendererJSON:e,colormapLut:r},this.canRenderInWebGL=!0,{success:!0}}_updateShadedReliefRenderer(e){if(!_(this.rasterInfo))return{success:!1,error:`Unsupported data type \"${this.rasterInfo.dataType}\"; ShadedReliefRenderer only supports \"elevation\", or single band float/s16 data.`};if(e.colorRamp){const r=C(e.colorRamp,{interpolateAlpha:!0}),s=m({colormap:r}),o=[],a=s.indexedColormap;for(let e=0;e<a.length;e+=4){const r=t({r:a[e],g:a[e+1],b:a[e+2]});o.push([r.h/60,r.s/100,255*r.v/100])}this.lookup={rendererJSON:e,colormapLut:s,hsvMap:o}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(e){const{attributeTable:t,pixelType:r}=this.rasterInfo,s=a(t)?t.fields.find((e=>\"value\"===e.name.toLowerCase())):null,o=a(t)?t.fields.find((t=>t.name.toLowerCase()===e.field.toLowerCase())):null,n=null!=s&&null!==o;return{canUseIndexedLUT:[\"u8\",\"u16\",\"s8\",\"s16\"].includes(r)||n,tableValueField:s,tableBreakField:o}}_updateClassBreaksRenderer(e){const{attributeTable:t}=this.rasterInfo,{canUseIndexedLUT:r,tableValueField:s,tableBreakField:o}=this._analyzeClassBreaks(e),n=e.classBreakInfos;if(!n?.length)return{success:!1,error:\"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos.\"};const i=n.sort(((e,t)=>e.classMaxValue-t.classMaxValue)),l=i[i.length-1];let u=e.minValue;if(!r){const t=[];for(let e=0;e<i.length;e++)t.push({value:i[e].classMinValue??u,mappedColor:i[e].symbol.color}),u=i[e].classMaxValue;return t.push({value:l.classMaxValue,mappedColor:l.symbol.color}),this.lookup={rendererJSON:e,remapLut:t},this.canRenderInWebGL=!1,{success:!0}}const c=[];if(a(t)&&null!=s&&null!==o&&s!==o){const r=s.name,a=o.name,n=i[i.length-1],{classMaxValue:l}=n;u=e.minValue;for(const e of t.features){const t=e.attributes[r],s=e.attributes[a],o=s===l?n:s<u?null:i.find((({classMaxValue:e})=>e>s));o&&c.push([t].concat(o.symbol.color))}}else{u=Math.floor(e.minValue);for(let e=0;e<i.length;e++){const t=i[e];for(let e=u;e<t.classMaxValue;e++)c.push([e].concat(t.symbol.color));u=Math.ceil(t.classMaxValue)}l.classMaxValue===u&&c.push([l.classMaxValue].concat(l.symbol.color))}const p=m({colormap:c,fillUnspecified:!1});return this.lookup={rendererJSON:e,colormapLut:p},this.canRenderInWebGL=!0,{success:!0}}_isHistogramRequired(e){return\"percentClip\"===e||\"histogramEqualization\"===e}_isValidRasterStatistics(e){return a(e)&&e.length>0&&null!=e[0].min&&null!=e[0].max}_updateStretchRenderer(e){let{stretchType:t,dra:r}=e;if(!(\"none\"===t||e.statistics?.length||this._isValidRasterStatistics(this.rasterInfo.statistics)||r))return{success:!1,error:\"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used.\"};const s=o(e.histograms||this.rasterInfo.histograms);!this._isHistogramRequired(e.stretchType)||s?.length||r||(t=\"minMax\");const{computeGamma:a,useGamma:n,colorRamp:i}=e;let{gamma:l}=e;if(n&&a&&!l?.length){const t=e.statistics?.length?e.statistics:o(this.rasterInfo.statistics);l=S(this.rasterInfo.pixelType,t)}const u=this.rasterInfo.pixelType,c=!r&&[\"u8\",\"u16\",\"s8\",\"s16\"].includes(u);if(\"histogramEqualization\"===t){const t=s.map((e=>k(e)));this.lookup={rendererJSON:e,histogramLut:t}}else if(c){const t=b(e,{rasterInfo:this.rasterInfo}),r=g({pixelType:u,...t,gamma:n?l:null,rounding:\"floor\"});this.lookup={rendererJSON:e,stretchLut:r}}if(i){const t=C(i,{interpolateAlpha:!0});this.lookup||(this.lookup={rendererJSON:e}),this.lookup.colormapLut=m({colormap:t}),this.lookup.rendererJSON=e}return this.lookup.gamma=n&&l?.length?l:null,this.canRenderInWebGL=!0,{success:!0}}_generateStretchWebGLParams(e,t,r){let s=null,o=null;const n=this.lookup&&this.lookup.colormapLut;t.colorRamp&&n&&(s=n.indexedColormap,o=n.offset),\"histogramEqualization\"===t.stretchType&&(t={...t,stretchType:\"minMax\"});const{gamma:i}=this.lookup,l=!!(t.useGamma&&i&&i.some((e=>1!==e))),{minCutOff:u,maxCutOff:c,outMin:p,outMax:d}=b(t,{rasterInfo:this.rasterInfo,pixelBlock:e,bandIds:r});let h=0;a(e)&&(h=e.getPlaneCount(),2===h&&((e=e.clone()).statistics=[e.statistics[0]],e.pixels=[e.pixels[0]]));const{bandCount:m}=this.rasterInfo,f=Math.min(3,r?.length||h||m,m),y=new Float32Array(f),g=s||l?1:255;let S;for(S=0;S<u.length;S++)y[S]=c[S]===u[S]?0:(d-p)/(c[S]-u[S])/g;const k=new Float32Array(f);if(l&&i)for(S=0;S<f;S++)i[S]>1?i[S]>2?k[S]=6.5+(i[S]-2)**2.5:k[S]=6.5+100*(2-i[S])**4:k[S]=1;return{bandCount:f,outMin:p/g,outMax:d/g,minCutOff:u,maxCutOff:c,factor:y,useGamma:l,gamma:l?i:[1,1,1],gammaCorrection:l?k:[1,1,1],colormap:s,colormapOffset:o,stretchType:t.stretchType,type:\"stretch\"}}_generateShadedReliefWebGLParams(e,t=!1,r={x:0,y:0}){let s=null,a=null;const n=this.lookup&&this.lookup.colormapLut;e.colorRamp&&n&&(s=n.indexedColormap,a=n.offset);const i={...e,isGCS:t,resolution:r},l=I(i),u=o(this.rasterInfo.statistics)?.[0];return{...l,minValue:u?.min??0,maxValue:u?.max??8e3,hillshadeType:\"traditional\"===e.hillshadeType?0:1,type:\"hillshade\",colormap:s,colormapOffset:a}}_generateVectorFieldWebGLParams(e){const{style:t,inputUnit:r,outputUnit:s,visualVariables:o,symbolTileSize:n,flowRepresentation:i}=e;let l;const u=this.rasterInfo.statistics?.[0].min??0,c=this.rasterInfo.statistics?.[0].max??50,p=o?.find((e=>\"sizeInfo\"===e.type))??{type:\"sizeInfo\",field:\"Magnitude\",maxDataValue:c,maxSize:.8*n,minDataValue:u,minSize:.2*n},d=p.minDataValue??u,h=p.maxDataValue??c,m=a(p.maxSize)&&a(p.minSize)?[p.minSize/n,p.maxSize/n]:[.2,.8];if(\"wind_speed\"===t){const e=(m[0]+m[1])/2;m[0]=m[1]=e}const f=a(d)&&a(h)?[d,h]:null;if(\"classified_arrow\"===t)if(a(d)&&a(h)&&a(p)){l=[];const e=(p.maxDataValue-p.minDataValue)/5;for(let t=0;t<6;t++)l.push(p.minDataValue+e*t)}else l=[0,1e-6,3.5,7,10.5,14];const y=\"flow_to\"===i===(\"ocean_current_kn\"===t||\"ocean_current_m\"===t)?0:Math.PI,b=o?.find((e=>\"rotationInfo\"===e.type));return{breakValues:l,dataRange:f,inputUnit:r,outputUnit:s,symbolTileSize:n,symbolPercentRange:m,style:t||\"single_arrow\",rotation:y,rotationType:this.rasterInfo.storageInfo?.tileInfo&&\"vector-uv\"===this.rasterInfo.dataType?\"geographic\":b?.rotationType||e.rotationType,type:\"vectorField\"}}};function O(e){return f(e)&&0!==e.validPixelCount}e([i({json:{write:!0}})],v.prototype,\"rendererJSON\",void 0),e([i({type:u,json:{write:!0}})],v.prototype,\"rasterInfo\",void 0),e([i({json:{write:!0}})],v.prototype,\"lookup\",void 0),e([i()],v.prototype,\"canRenderInWebGL\",void 0),v=e([l(\"esri.renderers.support.RasterSymbolizer\")],v);const T=v;export{T as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}