{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../core/maybe.js\";\nimport { watch as t, syncAndInitial as n } from \"../../../core/reactiveUtils.js\";\nimport { d as o } from \"../../../chunks/vec3.js\";\nimport { makeDehydratedPoint as r } from \"../../../layers/graphics/dehydratedFeatures.js\";\nimport { ViewEventPriorities as i } from \"../../input/InputManager.js\";\nimport { SNAPPING_KEYS as s } from \"../keybindings.js\";\nimport { anyMapPointToSnappingPoint as a } from \"./SnappingPoint.js\";\nfunction p(e, t) {\n  const n = e.length === t.length && e[0] === t[0] && e[1] === t[1];\n  switch (e.length) {\n    case 2:\n      return n;\n    case 3:\n      return n && e[2] === t[2];\n    case 4:\n      return n && e[2] === t[2] && e[3] === t[3];\n  }\n  return !1;\n}\nfunction c(e, t) {\n  const n = e.x - t.x,\n    o = e.y - t.y;\n  return n * n + o * o;\n}\nfunction g(e, t) {\n  return Math.sqrt(c(e, t));\n}\nfunction d(e, t) {\n  t.sort((t, n) => o(t.targetPoint, e) - o(n.targetPoint, e));\n}\nvar u;\nfunction l(_ref, s, a) {\n  let {\n    point: t,\n    distance: n,\n    types: o,\n    coordinateHelper: {\n      spatialReference: i\n    }\n  } = _ref;\n  return {\n    point: r(t[0], t[1], t[2], i.toJSON()),\n    mode: s,\n    distance: n,\n    types: o,\n    query: e(a) ? a.toJSON() : {\n      where: \"1=1\"\n    }\n  };\n}\nfunction E(e, t, n) {\n  return {\n    left: a(e.leftVertex.pos, t, n),\n    right: a(e.rightVertex.pos, t, n)\n  };\n}\nfunction f(e) {\n  return e.createQuery();\n}\nfunction m(o) {\n  let r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : () => {};\n  const a = t(() => ({\n    view: o.view,\n    snappingOptions: o.snappingOptions\n  }), _ref2 => {\n    let {\n      view: t,\n      snappingOptions: n\n    } = _ref2;\n    const a = \"snapping-toggle\",\n      p = i.TOOL;\n    if (o.removeHandles(a), t && e(n)) {\n      const e = [t.on(\"key-down\", e => {\n        e.key !== s.toggle || e.repeat || (n.enabledToggled = !0, r());\n      }, p), t.on(\"key-up\", e => {\n        e.key === s.toggle && (n.enabledToggled = !1, r());\n      }, p), t.on(\"pointer-move\", e => {\n        const t = e.native.ctrlKey;\n        n.enabledToggled !== t && (n.enabledToggled = t, r());\n      }, p)];\n      o.addHandles(e, a);\n    }\n  }, n);\n  o.addHandles(a);\n}\n!function (e) {\n  e[e.TARGET = 0] = \"TARGET\", e[e.REFERENCE = 1] = \"REFERENCE\", e[e.REFERENCE_EXTENSION = 2] = \"REFERENCE_EXTENSION\";\n}(u || (u = {}));\nexport { u as LineSegmentHintType, E as editEdgeToSnappingEdge, f as makeFilter, l as makeSnappingQuery, p as objectEqual, g as screenDistance, m as setupSnappingToggleHandles, d as sortCandidatesInPlace, c as squaredScreenDistance };","map":{"version":3,"names":["isSome","e","watch","t","syncAndInitial","n","d","o","makeDehydratedPoint","r","ViewEventPriorities","i","SNAPPING_KEYS","s","anyMapPointToSnappingPoint","a","p","length","c","x","y","g","Math","sqrt","sort","targetPoint","u","l","_ref","point","distance","types","coordinateHelper","spatialReference","toJSON","mode","query","where","E","left","leftVertex","pos","right","rightVertex","f","createQuery","m","arguments","undefined","view","snappingOptions","_ref2","TOOL","removeHandles","on","key","toggle","repeat","enabledToggled","native","ctrlKey","addHandles","TARGET","REFERENCE","REFERENCE_EXTENSION","LineSegmentHintType","editEdgeToSnappingEdge","makeFilter","makeSnappingQuery","objectEqual","screenDistance","setupSnappingToggleHandles","sortCandidatesInPlace","squaredScreenDistance"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{watch as t,syncAndInitial as n}from\"../../../core/reactiveUtils.js\";import{d as o}from\"../../../chunks/vec3.js\";import{makeDehydratedPoint as r}from\"../../../layers/graphics/dehydratedFeatures.js\";import{ViewEventPriorities as i}from\"../../input/InputManager.js\";import{SNAPPING_KEYS as s}from\"../keybindings.js\";import{anyMapPointToSnappingPoint as a}from\"./SnappingPoint.js\";function p(e,t){const n=e.length===t.length&&e[0]===t[0]&&e[1]===t[1];switch(e.length){case 2:return n;case 3:return n&&e[2]===t[2];case 4:return n&&e[2]===t[2]&&e[3]===t[3]}return!1}function c(e,t){const n=e.x-t.x,o=e.y-t.y;return n*n+o*o}function g(e,t){return Math.sqrt(c(e,t))}function d(e,t){t.sort(((t,n)=>o(t.targetPoint,e)-o(n.targetPoint,e)))}var u;function l({point:t,distance:n,types:o,coordinateHelper:{spatialReference:i}},s,a){return{point:r(t[0],t[1],t[2],i.toJSON()),mode:s,distance:n,types:o,query:e(a)?a.toJSON():{where:\"1=1\"}}}function E(e,t,n){return{left:a(e.leftVertex.pos,t,n),right:a(e.rightVertex.pos,t,n)}}function f(e){return e.createQuery()}function m(o,r=(()=>{})){const a=t((()=>({view:o.view,snappingOptions:o.snappingOptions})),(({view:t,snappingOptions:n})=>{const a=\"snapping-toggle\",p=i.TOOL;if(o.removeHandles(a),t&&e(n)){const e=[t.on(\"key-down\",(e=>{e.key!==s.toggle||e.repeat||(n.enabledToggled=!0,r())}),p),t.on(\"key-up\",(e=>{e.key===s.toggle&&(n.enabledToggled=!1,r())}),p),t.on(\"pointer-move\",(e=>{const t=e.native.ctrlKey;n.enabledToggled!==t&&(n.enabledToggled=t,r())}),p)];o.addHandles(e,a)}}),n);o.addHandles(a)}!function(e){e[e.TARGET=0]=\"TARGET\",e[e.REFERENCE=1]=\"REFERENCE\",e[e.REFERENCE_EXTENSION=2]=\"REFERENCE_EXTENSION\"}(u||(u={}));export{u as LineSegmentHintType,E as editEdgeToSnappingEdge,f as makeFilter,l as makeSnappingQuery,p as objectEqual,g as screenDistance,m as setupSnappingToggleHandles,d as sortCandidatesInPlace,c as squaredScreenDistance};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}