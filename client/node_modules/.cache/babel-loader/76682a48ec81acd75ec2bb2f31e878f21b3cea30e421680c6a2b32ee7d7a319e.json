{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { a as t } from \"../../chunks/vec2f64.js\";\nimport { p as e, n as i, c as s } from \"../../chunks/vec3.js\";\nimport { c as a } from \"../../chunks/vec3f64.js\";\nimport { rotationAngleAndAxisDirectRotation as l, rotationAnglesAndAxesHeadingPreserving as n } from \"../3d/state/utils/navigationUtils.js\";\nimport { FilteredFiniteDifference as h } from \"./FilteredFiniteDifference.js\";\nimport { FilteredValue as r } from \"./FilteredValue.js\";\nimport { Momentum as _ } from \"./Momentum.js\";\nconst u = 1e-5;\nclass m extends _ {\n  constructor(t, e, i, s, a) {\n    let l = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n    let n = arguments.length > 6 ? arguments[6] : undefined;\n    super(t, e, i), this._angularVelocity1 = s, this.axis1 = a, this.angularVelocity2 = l, this.axis2 = n;\n  }\n  value1(t) {\n    return super.valueFromInitialVelocity(this._angularVelocity1, t);\n  }\n  value2(t) {\n    return super.valueFromInitialVelocity(this.angularVelocity2, t);\n  }\n}\nclass c {\n  constructor() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 300;\n    let i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 12;\n    let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : .84;\n    this._minimumInitialVelocity = e, this._stopVelocity = i, this._friction = s, this.enabled = !0, this._tmpAxis1 = a(), this._tmpAxis2 = a(), this._tmpAngles = t(), this._time = new h(.3), this._screen = [new h(.4), new h(.4)], this._angle1 = new r(.6), this._angle2 = new r(.6), this._axis1 = a(), this._axis2 = a(), this._lastScene = a();\n  }\n  addMomentumDirectRotation(t, a, n, h, r, _) {\n    if (this.enabled) {\n      if (this._time.hasLastValue()) {\n        if (this._time.computeDelta(n) < .01) return;\n        let t = l(this._lastScene, a, this._tmpAxis2, h, r, _);\n        this._angle2.update(0), e(this._tmpAxis2) < u ? t = 0 : i(this._axis1, this._tmpAxis2), this._angle1.update(t), s(this._lastScene, a);\n      }\n      this._screen[0].update(t[0]), this._screen[1].update(t[1]), this._time.update(n);\n    }\n  }\n  addMomentumPreserveHeading(t, a, l, h, r, _, m) {\n    if (this.enabled) {\n      if (this._time.hasLastValue()) {\n        if (this._time.computeDelta(l) < .01) return;\n        n(this._lastScene, a, this._tmpAxis2, this._tmpAxis1, this._tmpAngles, h, r, _, m, !1), e(this._tmpAxis2) < u ? (this._angle1.update(0), this._angle2.update(0)) : (this._angle1.update(this._tmpAngles[1]), this._angle2.update(this._tmpAngles[0]), i(this._axis1, this._tmpAxis1), i(this._axis2, this._tmpAxis2)), s(this._lastScene, a);\n      }\n      this._screen[0].update(t[0]), this._screen[1].update(t[1]), this._time.update(l);\n    }\n  }\n  reset() {\n    this._screen[0].reset(), this._screen[1].reset(), this._angle1.reset(), this._angle2.reset(), this._time.reset();\n  }\n  evaluateMomentum() {\n    if (!this.enabled || !this._screen[0].hasFilteredDelta()) return null;\n    const t = this._screen[0].filteredDelta,\n      e = this._screen[1].filteredDelta,\n      i = null == t || null == e ? null : Math.sqrt(t * t + e * e),\n      s = this._time.filteredDelta,\n      a = null == i || null == s ? 0 : i / s;\n    return Math.abs(a) < this._minimumInitialVelocity ? null : this.createMomentum(a, this._stopVelocity, this._friction);\n  }\n  createMomentum(t, e, i) {\n    const s = this._time.filteredDelta,\n      a = this._angle1.filteredValue,\n      l = this._angle2.filteredValue,\n      n = null == s || null == l ? 0 : l / s;\n    return new m(t, e, i, null == s || null == a ? 0 : a / s, this._axis1, n, this._axis2);\n  }\n}\nexport { m as PanSphericalMomentum, c as PanSphericalMomentumEstimator };","map":{"version":3,"names":["a","t","p","e","n","i","c","s","rotationAngleAndAxisDirectRotation","l","rotationAnglesAndAxesHeadingPreserving","FilteredFiniteDifference","h","FilteredValue","r","Momentum","_","u","m","constructor","arguments","length","undefined","_angularVelocity1","axis1","angularVelocity2","axis2","value1","valueFromInitialVelocity","value2","_minimumInitialVelocity","_stopVelocity","_friction","enabled","_tmpAxis1","_tmpAxis2","_tmpAngles","_time","_screen","_angle1","_angle2","_axis1","_axis2","_lastScene","addMomentumDirectRotation","hasLastValue","computeDelta","update","addMomentumPreserveHeading","reset","evaluateMomentum","hasFilteredDelta","filteredDelta","Math","sqrt","abs","createMomentum","filteredValue","PanSphericalMomentum","PanSphericalMomentumEstimator"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/navigation/PanSphericalMomentumEstimator.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{a as t}from\"../../chunks/vec2f64.js\";import{p as e,n as i,c as s}from\"../../chunks/vec3.js\";import{c as a}from\"../../chunks/vec3f64.js\";import{rotationAngleAndAxisDirectRotation as l,rotationAnglesAndAxesHeadingPreserving as n}from\"../3d/state/utils/navigationUtils.js\";import{FilteredFiniteDifference as h}from\"./FilteredFiniteDifference.js\";import{FilteredValue as r}from\"./FilteredValue.js\";import{Momentum as _}from\"./Momentum.js\";const u=1e-5;class m extends _{constructor(t,e,i,s,a,l=0,n){super(t,e,i),this._angularVelocity1=s,this.axis1=a,this.angularVelocity2=l,this.axis2=n}value1(t){return super.valueFromInitialVelocity(this._angularVelocity1,t)}value2(t){return super.valueFromInitialVelocity(this.angularVelocity2,t)}}class c{constructor(e=300,i=12,s=.84){this._minimumInitialVelocity=e,this._stopVelocity=i,this._friction=s,this.enabled=!0,this._tmpAxis1=a(),this._tmpAxis2=a(),this._tmpAngles=t(),this._time=new h(.3),this._screen=[new h(.4),new h(.4)],this._angle1=new r(.6),this._angle2=new r(.6),this._axis1=a(),this._axis2=a(),this._lastScene=a()}addMomentumDirectRotation(t,a,n,h,r,_){if(this.enabled){if(this._time.hasLastValue()){if(this._time.computeDelta(n)<.01)return;let t=l(this._lastScene,a,this._tmpAxis2,h,r,_);this._angle2.update(0),e(this._tmpAxis2)<u?t=0:i(this._axis1,this._tmpAxis2),this._angle1.update(t),s(this._lastScene,a)}this._screen[0].update(t[0]),this._screen[1].update(t[1]),this._time.update(n)}}addMomentumPreserveHeading(t,a,l,h,r,_,m){if(this.enabled){if(this._time.hasLastValue()){if(this._time.computeDelta(l)<.01)return;n(this._lastScene,a,this._tmpAxis2,this._tmpAxis1,this._tmpAngles,h,r,_,m,!1),e(this._tmpAxis2)<u?(this._angle1.update(0),this._angle2.update(0)):(this._angle1.update(this._tmpAngles[1]),this._angle2.update(this._tmpAngles[0]),i(this._axis1,this._tmpAxis1),i(this._axis2,this._tmpAxis2)),s(this._lastScene,a)}this._screen[0].update(t[0]),this._screen[1].update(t[1]),this._time.update(l)}}reset(){this._screen[0].reset(),this._screen[1].reset(),this._angle1.reset(),this._angle2.reset(),this._time.reset()}evaluateMomentum(){if(!this.enabled||!this._screen[0].hasFilteredDelta())return null;const t=this._screen[0].filteredDelta,e=this._screen[1].filteredDelta,i=null==t||null==e?null:Math.sqrt(t*t+e*e),s=this._time.filteredDelta,a=null==i||null==s?0:i/s;return Math.abs(a)<this._minimumInitialVelocity?null:this.createMomentum(a,this._stopVelocity,this._friction)}createMomentum(t,e,i){const s=this._time.filteredDelta,a=this._angle1.filteredValue,l=this._angle2.filteredValue,n=null==s||null==l?0:l/s;return new m(t,e,i,null==s||null==a?0:a/s,this._axis1,n,this._axis2)}}export{m as PanSphericalMomentum,c as PanSphericalMomentumEstimator};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}