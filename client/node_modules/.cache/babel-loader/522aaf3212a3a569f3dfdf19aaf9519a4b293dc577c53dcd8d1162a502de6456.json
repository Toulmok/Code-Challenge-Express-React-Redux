{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nimport t from \"../../layers/Layer.js\";\nimport { isArcGISUrl as r } from \"../../layers/support/arcgisLayerUrl.js\";\nimport { fetchFeatureService as a } from \"../../layers/support/fetchService.js\";\nimport n from \"../Portal.js\";\nimport o from \"../PortalItem.js\";\nimport { createForItemRead as l } from \"./jsonContext.js\";\nimport { hasTypeKeyword as s } from \"./portalItemUtils.js\";\nimport { loadStyleRenderer as i } from \"../../renderers/support/styleUtils.js\";\nimport { fetchArcGISServiceJSON as u } from \"../../support/requestPresets.js\";\nasync function p(e, t) {\n  const r = e.instance.portalItem;\n  if (r && r.id) return await r.load(t), c(e), y(e, t);\n}\nfunction c(t) {\n  const r = t.instance.portalItem;\n  if (!r?.type || !t.supportedTypes.includes(r.type)) throw new e(\"portal:invalid-layer-item-type\", \"Invalid layer item type '${type}', expected '${expectedType}'\", {\n    type: r?.type,\n    expectedType: t.supportedTypes.join(\", \")\n  });\n}\nasync function y(e, t) {\n  const r = e.instance,\n    a = r.portalItem;\n  if (!a) return;\n  const {\n      url: n,\n      title: o\n    } = a,\n    s = l(a);\n  if (\"group\" === r.type) return r.read({\n    title: o\n  }, s), d(r, e);\n  n && r.read({\n    url: n\n  }, s);\n  const u = await h(e, t);\n  return u && r.read(u, s), r.resourceReferences = {\n    portalItem: a,\n    paths: s.readResourcePaths ?? []\n  }, \"subtype-group\" !== r.type && r.read({\n    title: o\n  }, s), i(r, s);\n}\nasync function d(t, r) {\n  let a;\n  const {\n    portalItem: n\n  } = t;\n  if (!n) return;\n  const o = n.type,\n    l = r.layerModuleTypeMap,\n    i = s(n, \"Oriented Imagery Layer\") ?? !1;\n  switch (o) {\n    case \"Feature Service\":\n      a = i ? l.OrientedImageryLayer : l.FeatureLayer;\n      break;\n    case \"Stream Service\":\n      a = l.StreamLayer;\n      break;\n    case \"Scene Service\":\n      a = l.SceneLayer;\n      break;\n    case \"Feature Collection\":\n      a = l.FeatureLayer;\n      break;\n    default:\n      throw new e(\"portal:unsupported-item-type-as-group\", `The item type '${o}' is not supported as a 'IGroupLayer'`);\n  }\n  let [u, p] = await Promise.all([a(), h(r)]),\n    c = () => u;\n  if (\"Feature Service\" === o) {\n    p = n.url ? await w(p, n.url) : {};\n    if (j(p).length) {\n      const e = l.SubtypeGroupLayer,\n        t = await e();\n      c = e => \"SubtypeGroupLayer\" === e.layerType ? t : u;\n    }\n    return b(t, c, p, await P(n.url));\n  }\n  return v(p) > 0 ? b(t, c, p) : f(t, c);\n}\nasync function f(e, t) {\n  const {\n    portalItem: r\n  } = e;\n  if (!r?.url) return;\n  const a = await u(r.url);\n  a && b(e, t, {\n    layers: a.layers?.map(m),\n    tables: a.tables?.map(m)\n  });\n}\nfunction m(e) {\n  return {\n    id: e.id,\n    name: e.name\n  };\n}\nfunction b(e, t, r, a) {\n  let n = r.layers || [];\n  const o = r.tables || [];\n  if (\"Feature Collection\" === e.portalItem?.type && (n.forEach(e => {\n    \"Table\" === e?.layerDefinition?.type && o.push(e);\n  }), n = n.filter(e => \"Table\" !== e?.layerDefinition?.type)), \"coverage\" in r) {\n    const t = T(r);\n    t && e.add(t);\n  }\n  n.reverse().forEach(n => {\n    const o = g(e, t(n), r, n, a?.(n));\n    e.add(o);\n  }), o.reverse().forEach(n => {\n    const o = g(e, t(n), r, n, a?.(n));\n    e.tables.add(o);\n  });\n}\nfunction g(e, t, r, a, o) {\n  const l = e.portalItem,\n    s = new t({\n      portalItem: l.clone(),\n      layerId: a.id\n    });\n  if (\"sourceJSON\" in s && (s.sourceJSON = o), \"subtype-group\" !== s.type && (s.sublayerTitleMode = \"service-name\"), \"Feature Collection\" === l.type) {\n    const e = {\n      origin: \"portal-item\",\n      portal: l.portal || n.getDefault()\n    };\n    s.read(a, e);\n    const t = r.showLegend;\n    null != t && s.read({\n      showLegend: t\n    }, e);\n  }\n  return s;\n}\nasync function h(e, t) {\n  if (!1 === e.supportsData) return;\n  const r = e.instance,\n    a = r.portalItem;\n  if (!a) return;\n  let n = null;\n  try {\n    n = await a.fetchData(\"json\", t);\n  } catch (o) {}\n  if (S(r)) {\n    let e = null,\n      t = !0;\n    if (n && v(n) > 0) {\n      if (null == r.layerId) {\n        const e = j(n);\n        r.layerId = \"subtype-group\" === r.type ? e?.[0] : I(n);\n      }\n      e = L(n, r), e && (1 === v(n) && (t = !1), null != n.showLegend && (e.showLegend = n.showLegend));\n    }\n    return t && \"service-name\" !== r.sublayerTitleMode && (r.sublayerTitleMode = \"item-title-and-service-name\"), e;\n  }\n  return n;\n}\nasync function w(e, t) {\n  if (null == e?.layers || null == e?.tables) {\n    const r = await u(t);\n    (e = e || {}).layers = e.layers || r?.layers, e.tables = e.tables || r?.tables;\n  }\n  return e;\n}\nfunction I(e) {\n  const t = e.layers;\n  if (t && t.length) return t[0].id;\n  const r = e.tables;\n  return r && r.length ? r[0].id : null;\n}\nfunction L(e, t) {\n  const {\n      layerId: r\n    } = t,\n    a = e.layers?.find(e => e.id === r) || e.tables?.find(e => e.id === r);\n  return a && F(a, t) ? a : null;\n}\nfunction v(e) {\n  return (e?.layers?.length ?? 0) + (e?.tables?.length ?? 0);\n}\nfunction S(e) {\n  return \"stream\" !== e.type && \"oriented-imagery\" !== e.type && \"layerId\" in e;\n}\nfunction T(a) {\n  const {\n    coverage: n\n  } = a;\n  if (!n) return null;\n  const l = new URL(n);\n  if (n.toLowerCase().includes(\"item.html\")) {\n    const e = l.searchParams.get(\"id\"),\n      r = l.origin;\n    return t.fromPortalItem({\n      portalItem: new o({\n        id: e,\n        url: r\n      })\n    });\n  }\n  if (r(n)) return t.fromArcGISServerUrl({\n    url: n\n  });\n  throw new e(\"portal:oriented-imagery-layer-coverage\", \"the provided coverage url couldn't be loaded as a layer\");\n}\nfunction j(e) {\n  const t = [];\n  return e?.layers?.forEach(e => {\n    \"SubtypeGroupLayer\" === e.layerType && t.push(e.id);\n  }), t;\n}\nfunction F(e, t) {\n  return !(\"feature\" === t.type && \"layerType\" in e && \"SubtypeGroupLayer\" === e.layerType || \"subtype-group\" === t.type && !(\"layerType\" in e));\n}\nasync function P(e) {\n  const {\n    layersJSON: t\n  } = await a(e);\n  if (!t) return null;\n  const r = [...t.layers, ...t.tables];\n  return e => r.find(t => t.id === e.id);\n}\nexport { I as getFirstLayerOrTableId, v as getNumLayersAndTables, j as getSubtypeGroupLayerIds, p as load, w as preprocessFSItemData };","map":{"version":3,"names":["e","t","isArcGISUrl","r","fetchFeatureService","a","n","o","createForItemRead","l","hasTypeKeyword","s","loadStyleRenderer","i","fetchArcGISServiceJSON","u","p","instance","portalItem","id","load","c","y","type","supportedTypes","includes","expectedType","join","url","title","read","d","h","resourceReferences","paths","readResourcePaths","layerModuleTypeMap","OrientedImageryLayer","FeatureLayer","StreamLayer","SceneLayer","Promise","all","w","j","length","SubtypeGroupLayer","layerType","b","P","v","f","layers","map","m","tables","name","forEach","layerDefinition","push","filter","T","add","reverse","g","clone","layerId","sourceJSON","sublayerTitleMode","origin","portal","getDefault","showLegend","supportsData","fetchData","S","I","L","find","F","coverage","URL","toLowerCase","searchParams","get","fromPortalItem","fromArcGISServerUrl","layersJSON","getFirstLayerOrTableId","getNumLayersAndTables","getSubtypeGroupLayerIds","preprocessFSItemData"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/portal/support/layersLoader.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import t from\"../../layers/Layer.js\";import{isArcGISUrl as r}from\"../../layers/support/arcgisLayerUrl.js\";import{fetchFeatureService as a}from\"../../layers/support/fetchService.js\";import n from\"../Portal.js\";import o from\"../PortalItem.js\";import{createForItemRead as l}from\"./jsonContext.js\";import{hasTypeKeyword as s}from\"./portalItemUtils.js\";import{loadStyleRenderer as i}from\"../../renderers/support/styleUtils.js\";import{fetchArcGISServiceJSON as u}from\"../../support/requestPresets.js\";async function p(e,t){const r=e.instance.portalItem;if(r&&r.id)return await r.load(t),c(e),y(e,t)}function c(t){const r=t.instance.portalItem;if(!r?.type||!t.supportedTypes.includes(r.type))throw new e(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}'\",{type:r?.type,expectedType:t.supportedTypes.join(\", \")})}async function y(e,t){const r=e.instance,a=r.portalItem;if(!a)return;const{url:n,title:o}=a,s=l(a);if(\"group\"===r.type)return r.read({title:o},s),d(r,e);n&&r.read({url:n},s);const u=await h(e,t);return u&&r.read(u,s),r.resourceReferences={portalItem:a,paths:s.readResourcePaths??[]},\"subtype-group\"!==r.type&&r.read({title:o},s),i(r,s)}async function d(t,r){let a;const{portalItem:n}=t;if(!n)return;const o=n.type,l=r.layerModuleTypeMap,i=s(n,\"Oriented Imagery Layer\")??!1;switch(o){case\"Feature Service\":a=i?l.OrientedImageryLayer:l.FeatureLayer;break;case\"Stream Service\":a=l.StreamLayer;break;case\"Scene Service\":a=l.SceneLayer;break;case\"Feature Collection\":a=l.FeatureLayer;break;default:throw new e(\"portal:unsupported-item-type-as-group\",`The item type '${o}' is not supported as a 'IGroupLayer'`)}let[u,p]=await Promise.all([a(),h(r)]),c=()=>u;if(\"Feature Service\"===o){p=n.url?await w(p,n.url):{};if(j(p).length){const e=l.SubtypeGroupLayer,t=await e();c=e=>\"SubtypeGroupLayer\"===e.layerType?t:u}return b(t,c,p,await P(n.url))}return v(p)>0?b(t,c,p):f(t,c)}async function f(e,t){const{portalItem:r}=e;if(!r?.url)return;const a=await u(r.url);a&&b(e,t,{layers:a.layers?.map(m),tables:a.tables?.map(m)})}function m(e){return{id:e.id,name:e.name}}function b(e,t,r,a){let n=r.layers||[];const o=r.tables||[];if(\"Feature Collection\"===e.portalItem?.type&&(n.forEach((e=>{\"Table\"===e?.layerDefinition?.type&&o.push(e)})),n=n.filter((e=>\"Table\"!==e?.layerDefinition?.type))),\"coverage\"in r){const t=T(r);t&&e.add(t)}n.reverse().forEach((n=>{const o=g(e,t(n),r,n,a?.(n));e.add(o)})),o.reverse().forEach((n=>{const o=g(e,t(n),r,n,a?.(n));e.tables.add(o)}))}function g(e,t,r,a,o){const l=e.portalItem,s=new t({portalItem:l.clone(),layerId:a.id});if(\"sourceJSON\"in s&&(s.sourceJSON=o),\"subtype-group\"!==s.type&&(s.sublayerTitleMode=\"service-name\"),\"Feature Collection\"===l.type){const e={origin:\"portal-item\",portal:l.portal||n.getDefault()};s.read(a,e);const t=r.showLegend;null!=t&&s.read({showLegend:t},e)}return s}async function h(e,t){if(!1===e.supportsData)return;const r=e.instance,a=r.portalItem;if(!a)return;let n=null;try{n=await a.fetchData(\"json\",t)}catch(o){}if(S(r)){let e=null,t=!0;if(n&&v(n)>0){if(null==r.layerId){const e=j(n);r.layerId=\"subtype-group\"===r.type?e?.[0]:I(n)}e=L(n,r),e&&(1===v(n)&&(t=!1),null!=n.showLegend&&(e.showLegend=n.showLegend))}return t&&\"service-name\"!==r.sublayerTitleMode&&(r.sublayerTitleMode=\"item-title-and-service-name\"),e}return n}async function w(e,t){if(null==e?.layers||null==e?.tables){const r=await u(t);(e=e||{}).layers=e.layers||r?.layers,e.tables=e.tables||r?.tables}return e}function I(e){const t=e.layers;if(t&&t.length)return t[0].id;const r=e.tables;return r&&r.length?r[0].id:null}function L(e,t){const{layerId:r}=t,a=e.layers?.find((e=>e.id===r))||e.tables?.find((e=>e.id===r));return a&&F(a,t)?a:null}function v(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function S(e){return\"stream\"!==e.type&&\"oriented-imagery\"!==e.type&&\"layerId\"in e}function T(a){const{coverage:n}=a;if(!n)return null;const l=new URL(n);if(n.toLowerCase().includes(\"item.html\")){const e=l.searchParams.get(\"id\"),r=l.origin;return t.fromPortalItem({portalItem:new o({id:e,url:r})})}if(r(n))return t.fromArcGISServerUrl({url:n});throw new e(\"portal:oriented-imagery-layer-coverage\",\"the provided coverage url couldn't be loaded as a layer\")}function j(e){const t=[];return e?.layers?.forEach((e=>{\"SubtypeGroupLayer\"===e.layerType&&t.push(e.id)})),t}function F(e,t){return!(\"feature\"===t.type&&\"layerType\"in e&&\"SubtypeGroupLayer\"===e.layerType||\"subtype-group\"===t.type&&!(\"layerType\"in e))}async function P(e){const{layersJSON:t}=await a(e);if(!t)return null;const r=[...t.layers,...t.tables];return e=>r.find((t=>t.id===e.id))}export{I as getFirstLayerOrTableId,v as getNumLayersAndTables,j as getSubtypeGroupLayerIds,p as load,w as preprocessFSItemData};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}