{"ast":null,"code":"import _regeneratorRuntime from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { clone as t } from \"../../../../../core/lang.js\";\nimport { urlToObject as e, isAbsolute as i, join as r, addQueryParameters as l } from \"../../../../../core/urlUtils.js\";\nimport s from \"../../../../../geometry/Extent.js\";\nimport { readServiceTileInfo as o } from \"../../../../../layers/support/serviceTileInfoProperty.js\";\nimport { TilemapCache as a } from \"../../../../../layers/support/TilemapCache.js\";\nimport n from \"../TilemapIndex.js\";\nimport p from \"../TilemapRequest.js\";\nimport { request as u } from \"./VectorTilesRequestManager.js\";\nvar h = /*#__PURE__*/function () {\n  function h(u, _h, m) {\n    var _f$query;\n    _classCallCheck(this, h);\n    this.tilemap = null, this.tileInfo = null, this.capabilities = null, this.fullExtent = null, this.name = u, this.sourceUrl = _h;\n    var f = e(this.sourceUrl),\n      c = t(m),\n      x = c.tiles;\n    if (f) for (var _t = 0; _t < x.length; _t++) {\n      var _s = e(x[_t]);\n      _s && (i(_s.path) || (_s.path = r(f.path, _s.path)), x[_t] = l(_s.path, _objectSpread(_objectSpread({}, f.query), _s.query)));\n    }\n    this.tileServers = x;\n    var d = m.capabilities && m.capabilities.split(\",\").map(function (t) {\n        return t.toLowerCase().trim();\n      }),\n      y = !0 === (m === null || m === void 0 ? void 0 : m.exportTilesAllowed),\n      T = !0 === (d === null || d === void 0 ? void 0 : d.includes(\"tilemap\")),\n      g = y && m.hasOwnProperty(\"maxExportTilesCount\") ? m.maxExportTilesCount : 0;\n    this.capabilities = {\n      operations: {\n        supportsExportTiles: y,\n        supportsTileMap: T\n      },\n      exportTiles: y ? {\n        maxExportTilesCount: +g\n      } : null\n    }, this.tileInfo = o(c.tileInfo, c, null, {\n      ignoreMinMaxLOD: !0\n    });\n    var M = m.tileMap ? l(r(f.path, m.tileMap), (_f$query = f.query) !== null && _f$query !== void 0 ? _f$query : {}) : null;\n    T ? (this.type = \"vector-tile\", this.tilemap = new p(new a({\n      layer: {\n        parsedUrl: f,\n        tileInfo: this.tileInfo,\n        type: \"vector-tile\",\n        tileServers: this.tileServers\n      }\n    }), M)) : M && (this.tilemap = new n(M)), this.fullExtent = s.fromJSON(m.fullExtent);\n  }\n  _createClass(h, [{\n    key: \"destroy\",\n    value: function destroy() {}\n  }, {\n    key: \"getRefKey\",\n    value: function () {\n      var _getRefKey = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(t, e) {\n        var _yield$this$tilemap$d, _this$tilemap;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return (_this$tilemap = this.tilemap) === null || _this$tilemap === void 0 ? void 0 : _this$tilemap.dataKey(t, e);\n            case 2:\n              _context.t1 = _yield$this$tilemap$d = _context.sent;\n              _context.t0 = _context.t1 !== null;\n              if (!_context.t0) {\n                _context.next = 6;\n                break;\n              }\n              _context.t0 = _yield$this$tilemap$d !== void 0;\n            case 6:\n              if (!_context.t0) {\n                _context.next = 10;\n                break;\n              }\n              _context.t2 = _yield$this$tilemap$d;\n              _context.next = 11;\n              break;\n            case 10:\n              _context.t2 = t;\n            case 11:\n              return _context.abrupt(\"return\", _context.t2);\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function getRefKey(_x, _x2) {\n        return _getRefKey.apply(this, arguments);\n      }\n      return getRefKey;\n    }()\n  }, {\n    key: \"requestTile\",\n    value: function requestTile(t, e, i, r) {\n      var l = this.tileServers[e % this.tileServers.length];\n      return u(l, t, e, i, r);\n    }\n  }, {\n    key: \"isCompatibleWith\",\n    value: function isCompatibleWith(t) {\n      var e = this.tileInfo,\n        i = t.tileInfo;\n      if (!e.spatialReference.equals(i.spatialReference)) return !1;\n      if (!e.origin.equals(i.origin)) return !1;\n      if (Math.round(e.dpi) !== Math.round(i.dpi)) return !1;\n      var r = e.lods,\n        l = i.lods,\n        s = Math.min(r.length, l.length);\n      for (var _o = 0; _o < s; _o++) {\n        var _t2 = r[_o],\n          _e = l[_o];\n        if (_t2.level !== _e.level || Math.round(_t2.scale) !== Math.round(_e.scale)) return !1;\n      }\n      return !0;\n    }\n  }]);\n  return h;\n}();\nexport { h as default };","map":{"version":3,"names":["clone","t","urlToObject","e","isAbsolute","i","join","r","addQueryParameters","l","s","readServiceTileInfo","o","TilemapCache","a","n","p","request","u","h","m","_f$query","_classCallCheck","tilemap","tileInfo","capabilities","fullExtent","name","sourceUrl","f","c","x","tiles","length","path","_objectSpread","query","tileServers","d","split","map","toLowerCase","trim","y","exportTilesAllowed","T","includes","g","hasOwnProperty","maxExportTilesCount","operations","supportsExportTiles","supportsTileMap","exportTiles","ignoreMinMaxLOD","M","tileMap","type","layer","parsedUrl","fromJSON","_createClass","key","value","destroy","_getRefKey","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$this$tilemap$d","_this$tilemap","wrap","_callee$","_context","prev","next","dataKey","t1","sent","t0","t2","abrupt","stop","getRefKey","_x","_x2","apply","arguments","requestTile","isCompatibleWith","spatialReference","equals","origin","Math","round","dpi","lods","min","level","scale","default"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/VectorTileSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../../../core/lang.js\";import{urlToObject as e,isAbsolute as i,join as r,addQueryParameters as l}from\"../../../../../core/urlUtils.js\";import s from\"../../../../../geometry/Extent.js\";import{readServiceTileInfo as o}from\"../../../../../layers/support/serviceTileInfoProperty.js\";import{TilemapCache as a}from\"../../../../../layers/support/TilemapCache.js\";import n from\"../TilemapIndex.js\";import p from\"../TilemapRequest.js\";import{request as u}from\"./VectorTilesRequestManager.js\";class h{constructor(u,h,m){this.tilemap=null,this.tileInfo=null,this.capabilities=null,this.fullExtent=null,this.name=u,this.sourceUrl=h;const f=e(this.sourceUrl),c=t(m),x=c.tiles;if(f)for(let t=0;t<x.length;t++){const s=e(x[t]);s&&(i(s.path)||(s.path=r(f.path,s.path)),x[t]=l(s.path,{...f.query,...s.query}))}this.tileServers=x;const d=m.capabilities&&m.capabilities.split(\",\").map((t=>t.toLowerCase().trim())),y=!0===m?.exportTilesAllowed,T=!0===d?.includes(\"tilemap\"),g=y&&m.hasOwnProperty(\"maxExportTilesCount\")?m.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:y,supportsTileMap:T},exportTiles:y?{maxExportTilesCount:+g}:null},this.tileInfo=o(c.tileInfo,c,null,{ignoreMinMaxLOD:!0});const M=m.tileMap?l(r(f.path,m.tileMap),f.query??{}):null;T?(this.type=\"vector-tile\",this.tilemap=new p(new a({layer:{parsedUrl:f,tileInfo:this.tileInfo,type:\"vector-tile\",tileServers:this.tileServers}}),M)):M&&(this.tilemap=new n(M)),this.fullExtent=s.fromJSON(m.fullExtent)}destroy(){}async getRefKey(t,e){return await(this.tilemap?.dataKey(t,e))??t}requestTile(t,e,i,r){const l=this.tileServers[e%this.tileServers.length];return u(l,t,e,i,r)}isCompatibleWith(t){const e=this.tileInfo,i=t.tileInfo;if(!e.spatialReference.equals(i.spatialReference))return!1;if(!e.origin.equals(i.origin))return!1;if(Math.round(e.dpi)!==Math.round(i.dpi))return!1;const r=e.lods,l=i.lods,s=Math.min(r.length,l.length);for(let o=0;o<s;o++){const t=r[o],e=l[o];if(t.level!==e.level||Math.round(t.scale)!==Math.round(e.scale))return!1}return!0}}export{h as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}