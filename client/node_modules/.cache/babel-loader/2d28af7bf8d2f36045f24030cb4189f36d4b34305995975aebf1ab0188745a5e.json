{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { eachAlways as e } from \"../../../../../core/promiseUtils.js\";\nimport t from \"../../../../Point.js\";\nimport { GLB as r } from \"./glb.js\";\nimport { GLTF as o } from \"./gltf.js\";\nimport { ImageOutputType as n, BufferOutputType as s } from \"./types.js\";\nexport { AlphaMode, AttributeType, ColorMode, MeshMode } from \"./types.js\";\nimport { isArrayBufferPNG as i, encodeBase64DataUri as a } from \"./imageutils.js\";\nexport { Asset } from \"./asset.js\";\nexport { Scene } from \"./scene.js\";\nexport { Node } from \"./node.js\";\nvar f = \"model.gltf\",\n  u = \"model.glb\";\nfunction p(p, m, c) {\n  var _d$extras$promises, _d$extras;\n  var l = new o(p, m = m || {}, c);\n  var g = l.params;\n  g ? g.origin || (g.origin = new t({\n    x: -1,\n    y: -1,\n    z: -1\n  })) : g = {\n    origin: new t({\n      x: -1,\n      y: -1,\n      z: -1\n    })\n  };\n  var y = g.origin,\n    d = l.gltf,\n    j = (_d$extras$promises = (_d$extras = d.extras) === null || _d$extras === void 0 ? void 0 : _d$extras.promises) !== null && _d$extras$promises !== void 0 ? _d$extras$promises : [];\n  var x = 1,\n    b = 1,\n    h = null;\n  return e(j).then(function () {\n    var e = {\n      origin: y\n    };\n    delete d.extras;\n    var t = \"number\" == typeof m.jsonSpacing ? m.jsonSpacing : 4,\n      o = JSON.stringify(d, function (t, r) {\n        if (\"extras\" !== t) {\n          if (r instanceof ArrayBuffer) {\n            if (i(r)) switch (m.imageOutputType) {\n              case n.DataURI:\n              case n.GLB:\n                break;\n              case n.External:\n              default:\n                {\n                  var _t = \"img\".concat(b, \".png\");\n                  return b++, e[_t] = r, _t;\n                }\n            }\n            switch (m.bufferOutputType) {\n              case s.DataURI:\n                return a(r);\n              case s.GLB:\n                if (h) throw new Error(\"Already encountered an ArrayBuffer, there should only be one in the GLB format.\");\n                return void (h = r);\n              case s.External:\n              default:\n                {\n                  var _t2 = \"data\".concat(x, \".bin\");\n                  return x++, e[_t2] = r, _t2;\n                }\n            }\n          }\n          return r;\n        }\n      }, t);\n    return m.bufferOutputType === s.GLB || m.imageOutputType === n.GLB ? e[u] = new r(o, h).buffer : e[f] = o, e;\n  });\n}\nfunction m(e, t) {\n  return p(e, {\n    bufferOutputType: s.GLB,\n    imageOutputType: n.GLB,\n    jsonSpacing: 0\n  }, t);\n}\nexport { s as BufferOutputType, n as ImageOutputType, u as MODEL_NAME_GLB, f as MODEL_NAME_GLTF, m as exportGLB, p as exportGLTF };","map":{"version":3,"names":["eachAlways","e","t","GLB","r","GLTF","o","ImageOutputType","n","BufferOutputType","s","AlphaMode","AttributeType","ColorMode","MeshMode","isArrayBufferPNG","i","encodeBase64DataUri","a","Asset","Scene","Node","f","u","p","m","c","_d$extras$promises","_d$extras","l","g","params","origin","x","y","z","d","gltf","j","extras","promises","b","h","then","jsonSpacing","JSON","stringify","ArrayBuffer","imageOutputType","DataURI","External","concat","bufferOutputType","Error","buffer","MODEL_NAME_GLB","MODEL_NAME_GLTF","exportGLB","exportGLTF"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/index.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{eachAlways as e}from\"../../../../../core/promiseUtils.js\";import t from\"../../../../Point.js\";import{GLB as r}from\"./glb.js\";import{GLTF as o}from\"./gltf.js\";import{ImageOutputType as n,BufferOutputType as s}from\"./types.js\";export{AlphaMode,AttributeType,ColorMode,MeshMode}from\"./types.js\";import{isArrayBufferPNG as i,encodeBase64DataUri as a}from\"./imageutils.js\";export{Asset}from\"./asset.js\";export{Scene}from\"./scene.js\";export{Node}from\"./node.js\";const f=\"model.gltf\",u=\"model.glb\";function p(p,m,c){const l=new o(p,m=m||{},c);let g=l.params;g?g.origin||(g.origin=new t({x:-1,y:-1,z:-1})):g={origin:new t({x:-1,y:-1,z:-1})};const y=g.origin,d=l.gltf,j=d.extras?.promises??[];let x=1,b=1,h=null;return e(j).then((()=>{const e={origin:y};delete d.extras;const t=\"number\"==typeof m.jsonSpacing?m.jsonSpacing:4,o=JSON.stringify(d,((t,r)=>{if(\"extras\"!==t){if(r instanceof ArrayBuffer){if(i(r))switch(m.imageOutputType){case n.DataURI:case n.GLB:break;case n.External:default:{const t=`img${b}.png`;return b++,e[t]=r,t}}switch(m.bufferOutputType){case s.DataURI:return a(r);case s.GLB:if(h)throw new Error(\"Already encountered an ArrayBuffer, there should only be one in the GLB format.\");return void(h=r);case s.External:default:{const t=`data${x}.bin`;return x++,e[t]=r,t}}}return r}}),t);return m.bufferOutputType===s.GLB||m.imageOutputType===n.GLB?e[u]=new r(o,h).buffer:e[f]=o,e}))}function m(e,t){return p(e,{bufferOutputType:s.GLB,imageOutputType:n.GLB,jsonSpacing:0},t)}export{s as BufferOutputType,n as ImageOutputType,u as MODEL_NAME_GLB,f as MODEL_NAME_GLTF,m as exportGLB,p as exportGLTF};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}