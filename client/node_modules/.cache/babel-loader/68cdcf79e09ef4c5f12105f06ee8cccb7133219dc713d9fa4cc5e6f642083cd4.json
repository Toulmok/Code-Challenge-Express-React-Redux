{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from \"../../../core/Logger.js\";\nimport { isSome as e, isNone as r } from \"../../../core/maybe.js\";\nimport { f as o } from \"../../../chunks/mat3.js\";\nimport { c as i } from \"../../../chunks/mat3f64.js\";\nimport { d as s } from \"../../../chunks/mat4.js\";\nimport { c as n } from \"../../../chunks/mat4f64.js\";\nimport { s as a, b as c, a as f, t as p, m } from \"../../../chunks/vec3.js\";\nimport { c as g, Z as l } from \"../../../chunks/vec3f64.js\";\nimport { projectPointToVector as u, computeTranslationToOriginAndRotation as h } from \"../../projection.js\";\nimport { getSphericalPCPF as j } from \"../../spatialReferenceEllipsoidUtils.js\";\nimport { create as v, compose as x, axis as A, angleRad as b } from \"../axisAngleDegrees.js\";\nimport { isGeographicMesh as d } from \"./geographicUtils.js\";\nimport { projectToPCPF as k, projectNormalToPCPF as y, projectTangentToPCPF as w, projectFromPCPF as R, projectNormalFromPCPF as F, projectTangentFromPCPF as L } from \"./projection.js\";\nconst $ = t.getLogger(\"esri.geometry.support.meshUtils.rotate\");\nfunction U(t, r, o) {\n  if (!t.vertexAttributes || !t.vertexAttributes.position || 0 === r[3]) return;\n  const i = t.spatialReference;\n  if (e(t.transform)) {\n    null != o?.geographic && o.geographic !== t.transform.geographic && $.warn(`Specifying the 'geographic' parameter (${o.geographic}) different from the Mesh transform setting (${t.transform.geographic}) is not supported`);\n    const e = o?.origin ?? t.transform.getOriginPoint(i);\n    z(t.transform, r, e);\n  } else {\n    const e = o?.origin ?? t.origin;\n    d(t.spatialReference, o) ? C(t, r, e) : I(t, r, e);\n  }\n}\nfunction z(t, e, r) {\n  const o = a(E, r.x, r.y, r.z),\n    i = c(E, o, t.origin);\n  t.applyLocalInverse(i, M), t.rotation = x(t.rotation, e, v()), t.applyLocalInverse(i, i), c(i, i, M), t.translation = f(g(), t.translation, i);\n}\nfunction C(t, r, i) {\n  const s = t.spatialReference,\n    n = j(s),\n    a = Z;\n  u(i, a, n) || u(t.origin, a, n);\n  const c = t.vertexAttributes.position,\n    f = t.vertexAttributes.normal,\n    m = t.vertexAttributes.tangent,\n    g = new Float64Array(c.length),\n    l = e(f) ? new Float32Array(f.length) : null,\n    v = e(m) ? new Float32Array(m.length) : null;\n  h(n, a, P, n), o(S, P);\n  const x = O;\n  p(A(O), A(r), S), x[3] = r[3], k(c, s, g), e(f) && e(l) && y(f, c, g, s, l), e(m) && e(v) && w(m, c, g, s, v), D(g, x, 3, a), R(g, c, s), e(f) && e(l) && (D(l, x, 3), F(l, c, g, s, f)), e(m) && e(v) && (D(v, x, 4), L(v, c, g, s, m)), t.vertexAttributesChanged();\n}\nfunction I(t, e, r) {\n  const o = Z;\n  if (!u(r, o, t.spatialReference)) {\n    const e = t.origin;\n    o[0] = e.x, o[1] = e.y, o[2] = e.z, $.error(`Failed to project specified origin (wkid:${r.spatialReference.wkid}) to mesh spatial reference (wkid:${t.spatialReference.wkid}).`);\n  }\n  D(t.vertexAttributes.position, e, 3, o), D(t.vertexAttributes.normal, e, 3), D(t.vertexAttributes.tangent, e, 4), t.vertexAttributesChanged();\n}\nfunction D(t, e, o) {\n  let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : l;\n  if (!r(t)) {\n    s(P, b(e), A(e));\n    for (let e = 0; e < t.length; e += o) {\n      for (let r = 0; r < 3; r++) E[r] = t[e + r] - i[r];\n      m(E, E, P);\n      for (let r = 0; r < 3; r++) t[e + r] = E[r] + i[r];\n    }\n  }\n}\nconst E = g(),\n  M = g(),\n  O = v(),\n  P = n(),\n  S = i(),\n  Z = g();\nexport { U as rotate };","map":{"version":3,"names":["t","isSome","e","isNone","r","f","o","c","i","d","s","n","a","b","p","m","g","Z","l","projectPointToVector","u","computeTranslationToOriginAndRotation","h","getSphericalPCPF","j","create","v","compose","x","axis","A","angleRad","isGeographicMesh","projectToPCPF","k","projectNormalToPCPF","y","projectTangentToPCPF","w","projectFromPCPF","R","projectNormalFromPCPF","F","projectTangentFromPCPF","L","$","getLogger","U","vertexAttributes","position","spatialReference","transform","geographic","warn","origin","getOriginPoint","z","C","I","E","applyLocalInverse","M","rotation","translation","normal","tangent","Float64Array","length","Float32Array","P","S","O","D","vertexAttributesChanged","error","wkid","arguments","undefined","rotate"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/geometry/support/meshUtils/rotate.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Logger.js\";import{isSome as e,isNone as r}from\"../../../core/maybe.js\";import{f as o}from\"../../../chunks/mat3.js\";import{c as i}from\"../../../chunks/mat3f64.js\";import{d as s}from\"../../../chunks/mat4.js\";import{c as n}from\"../../../chunks/mat4f64.js\";import{s as a,b as c,a as f,t as p,m}from\"../../../chunks/vec3.js\";import{c as g,Z as l}from\"../../../chunks/vec3f64.js\";import{projectPointToVector as u,computeTranslationToOriginAndRotation as h}from\"../../projection.js\";import{getSphericalPCPF as j}from\"../../spatialReferenceEllipsoidUtils.js\";import{create as v,compose as x,axis as A,angleRad as b}from\"../axisAngleDegrees.js\";import{isGeographicMesh as d}from\"./geographicUtils.js\";import{projectToPCPF as k,projectNormalToPCPF as y,projectTangentToPCPF as w,projectFromPCPF as R,projectNormalFromPCPF as F,projectTangentFromPCPF as L}from\"./projection.js\";const $=t.getLogger(\"esri.geometry.support.meshUtils.rotate\");function U(t,r,o){if(!t.vertexAttributes||!t.vertexAttributes.position||0===r[3])return;const i=t.spatialReference;if(e(t.transform)){null!=o?.geographic&&o.geographic!==t.transform.geographic&&$.warn(`Specifying the 'geographic' parameter (${o.geographic}) different from the Mesh transform setting (${t.transform.geographic}) is not supported`);const e=o?.origin??t.transform.getOriginPoint(i);z(t.transform,r,e)}else{const e=o?.origin??t.origin;d(t.spatialReference,o)?C(t,r,e):I(t,r,e)}}function z(t,e,r){const o=a(E,r.x,r.y,r.z),i=c(E,o,t.origin);t.applyLocalInverse(i,M),t.rotation=x(t.rotation,e,v()),t.applyLocalInverse(i,i),c(i,i,M),t.translation=f(g(),t.translation,i)}function C(t,r,i){const s=t.spatialReference,n=j(s),a=Z;u(i,a,n)||u(t.origin,a,n);const c=t.vertexAttributes.position,f=t.vertexAttributes.normal,m=t.vertexAttributes.tangent,g=new Float64Array(c.length),l=e(f)?new Float32Array(f.length):null,v=e(m)?new Float32Array(m.length):null;h(n,a,P,n),o(S,P);const x=O;p(A(O),A(r),S),x[3]=r[3],k(c,s,g),e(f)&&e(l)&&y(f,c,g,s,l),e(m)&&e(v)&&w(m,c,g,s,v),D(g,x,3,a),R(g,c,s),e(f)&&e(l)&&(D(l,x,3),F(l,c,g,s,f)),e(m)&&e(v)&&(D(v,x,4),L(v,c,g,s,m)),t.vertexAttributesChanged()}function I(t,e,r){const o=Z;if(!u(r,o,t.spatialReference)){const e=t.origin;o[0]=e.x,o[1]=e.y,o[2]=e.z,$.error(`Failed to project specified origin (wkid:${r.spatialReference.wkid}) to mesh spatial reference (wkid:${t.spatialReference.wkid}).`)}D(t.vertexAttributes.position,e,3,o),D(t.vertexAttributes.normal,e,3),D(t.vertexAttributes.tangent,e,4),t.vertexAttributesChanged()}function D(t,e,o,i=l){if(!r(t)){s(P,b(e),A(e));for(let e=0;e<t.length;e+=o){for(let r=0;r<3;r++)E[r]=t[e+r]-i[r];m(E,E,P);for(let r=0;r<3;r++)t[e+r]=E[r]+i[r]}}}const E=g(),M=g(),O=v(),P=n(),S=i(),Z=g();export{U as rotate};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}