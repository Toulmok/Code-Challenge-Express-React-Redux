{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../../../core/Accessor.js\";\nimport { isSome as r, isNone as i } from \"../../../../../../core/maybe.js\";\nimport { watch as o, sync as s } from \"../../../../../../core/reactiveUtils.js\";\nimport { property as l } from \"../../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../../../core/arrayUtils.js\";\nimport { subclass as n } from \"../../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { TileKey as a } from \"../../../../../../layers/support/TileKey.js\";\nimport { distanceToTile as p } from \"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";\nimport { scaleBoundsPredicate as c } from \"../../../../../support/layerViewUtils.js\";\nlet u = class extends t {\n  get tiles() {\n    const e = this.tilesCoveringView,\n      t = r(this.pointOfInterest) ? this.pointOfInterest : this.view.center;\n    return e.sort((e, r) => p(t, e) - p(t, r)), e;\n  }\n  _scaleEnabled() {\n    return c(this.view.scale, this.layer.minScale || 0, this.layer.maxScale || 0);\n  }\n  get tilesCoveringView() {\n    if (!this.view.ready || !this.view.featuresTilingScheme || !this.view.state || i(this.tileInfo)) return [];\n    if (!this._scaleEnabled) return [];\n    const {\n        spans: e,\n        lodInfo: t\n      } = this.view.featuresTilingScheme.getTileCoverage(this.view.state, 0),\n      {\n        level: r\n      } = t,\n      o = [];\n    for (const {\n      row: i,\n      colFrom: s,\n      colTo: l\n    } of e) for (let e = s; e <= l; e++) {\n      const s = t.normalizeCol(e),\n        l = new a(null, r, i, s);\n      this.tileInfo.updateTileInfo(l), o.push(l);\n    }\n    return o;\n  }\n  get tileInfo() {\n    return this.view.featuresTilingScheme?.tileInfo ?? null;\n  }\n  get tileSize() {\n    return r(this.tileInfo) ? this.tileInfo.size[0] : 256;\n  }\n  constructor(e) {\n    super(e), this.pointOfInterest = null;\n  }\n  initialize() {\n    this.addHandles(o(() => this.view?.state?.viewpoint, () => this.notifyChange(\"tilesCoveringView\"), s));\n  }\n};\ne([l({\n  readOnly: !0\n})], u.prototype, \"tiles\", null), e([l({\n  readOnly: !0\n})], u.prototype, \"_scaleEnabled\", null), e([l({\n  readOnly: !0\n})], u.prototype, \"tilesCoveringView\", null), e([l({\n  readOnly: !0\n})], u.prototype, \"tileInfo\", null), e([l({\n  readOnly: !0\n})], u.prototype, \"tileSize\", null), e([l({\n  constructOnly: !0\n})], u.prototype, \"view\", void 0), e([l({\n  constructOnly: !0\n})], u.prototype, \"layer\", void 0), e([l()], u.prototype, \"pointOfInterest\", void 0), u = e([n(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D\")], u);\nexport { u as FeatureServiceTiles2D };","map":{"version":3,"names":["_","e","t","isSome","r","isNone","i","watch","o","sync","s","property","l","subclass","n","TileKey","a","distanceToTile","p","scaleBoundsPredicate","c","u","tiles","tilesCoveringView","pointOfInterest","view","center","sort","_scaleEnabled","scale","layer","minScale","maxScale","ready","featuresTilingScheme","state","tileInfo","spans","lodInfo","getTileCoverage","level","row","colFrom","colTo","normalizeCol","updateTileInfo","push","tileSize","size","constructor","initialize","addHandles","viewpoint","notifyChange","readOnly","prototype","constructOnly","FeatureServiceTiles2D"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import t from\"../../../../../../core/Accessor.js\";import{isSome as r,isNone as i}from\"../../../../../../core/maybe.js\";import{watch as o,sync as s}from\"../../../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../../core/arrayUtils.js\";import{subclass as n}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{TileKey as a}from\"../../../../../../layers/support/TileKey.js\";import{distanceToTile as p}from\"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";import{scaleBoundsPredicate as c}from\"../../../../../support/layerViewUtils.js\";let u=class extends t{get tiles(){const e=this.tilesCoveringView,t=r(this.pointOfInterest)?this.pointOfInterest:this.view.center;return e.sort(((e,r)=>p(t,e)-p(t,r))),e}_scaleEnabled(){return c(this.view.scale,this.layer.minScale||0,this.layer.maxScale||0)}get tilesCoveringView(){if(!this.view.ready||!this.view.featuresTilingScheme||!this.view.state||i(this.tileInfo))return[];if(!this._scaleEnabled)return[];const{spans:e,lodInfo:t}=this.view.featuresTilingScheme.getTileCoverage(this.view.state,0),{level:r}=t,o=[];for(const{row:i,colFrom:s,colTo:l}of e)for(let e=s;e<=l;e++){const s=t.normalizeCol(e),l=new a(null,r,i,s);this.tileInfo.updateTileInfo(l),o.push(l)}return o}get tileInfo(){return this.view.featuresTilingScheme?.tileInfo??null}get tileSize(){return r(this.tileInfo)?this.tileInfo.size[0]:256}constructor(e){super(e),this.pointOfInterest=null}initialize(){this.addHandles(o((()=>this.view?.state?.viewpoint),(()=>this.notifyChange(\"tilesCoveringView\")),s))}};e([l({readOnly:!0})],u.prototype,\"tiles\",null),e([l({readOnly:!0})],u.prototype,\"_scaleEnabled\",null),e([l({readOnly:!0})],u.prototype,\"tilesCoveringView\",null),e([l({readOnly:!0})],u.prototype,\"tileInfo\",null),e([l({readOnly:!0})],u.prototype,\"tileSize\",null),e([l({constructOnly:!0})],u.prototype,\"view\",void 0),e([l({constructOnly:!0})],u.prototype,\"layer\",void 0),e([l()],u.prototype,\"pointOfInterest\",void 0),u=e([n(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D\")],u);export{u as FeatureServiceTiles2D};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}