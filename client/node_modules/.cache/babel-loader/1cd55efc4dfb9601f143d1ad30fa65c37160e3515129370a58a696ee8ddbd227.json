{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport r from \"../../core/Error.js\";\nimport { isNone as t, isSome as o } from \"../../core/maybe.js\";\nimport { property as s } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as p } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport i from \"../../geometry/Point.js\";\nimport { combinedViewLayerTimeExtentProperty as a } from \"../../layers/support/commonProperties.js\";\nimport n from \"../../rest/support/Query.js\";\nimport { getFetchPopupTemplate as u } from \"./support/popupUtils.js\";\nconst m = m => {\n  let c = class extends m {\n    constructor() {\n      super(...arguments), this.view = null;\n    }\n    async fetchPopupFeatures(e, s) {\n      const {\n        layer: p\n      } = this;\n      if (!e) throw new r(\"imagerylayerview:fetchPopupFeatures\", \"Nothing to fetch without area\", {\n        layer: p\n      });\n      const {\n          popupEnabled: a\n        } = p,\n        m = u(p, s);\n      if (!a || t(m)) throw new r(\"imagerylayerview:fetchPopupFeatures\", \"Missing required popupTemplate or popupEnabled\", {\n        popupEnabled: a,\n        popupTemplate: m\n      });\n      const c = await m.getRequiredFields(),\n        l = new n();\n      l.timeExtent = this.timeExtent, l.geometry = e, l.outFields = c, l.outSpatialReference = e.spatialReference;\n      const {\n          resolution: y,\n          spatialReference: d\n        } = this.view,\n        w = \"2d\" === this.view.type ? new i(y, y, d) : new i(.5 * y, .5 * y, d),\n        {\n          returnTopmostRaster: f,\n          showNoDataRecords: h\n        } = m.layerOptions || {\n          returnTopmostRaster: !0,\n          showNoDataRecords: !1\n        },\n        R = {\n          returnDomainValues: !0,\n          returnTopmostRaster: f,\n          pixelSize: w,\n          showNoDataRecords: h,\n          signal: o(s) ? s.signal : null\n        };\n      return p.queryVisibleRasters(l, R).then(e => e);\n    }\n    canResume() {\n      return !!super.canResume() && !this.timeExtent?.isEmpty;\n    }\n  };\n  return e([s()], c.prototype, \"layer\", void 0), e([s()], c.prototype, \"suspended\", void 0), e([s(a)], c.prototype, \"timeExtent\", void 0), e([s()], c.prototype, \"view\", void 0), c = e([p(\"esri.views.layers.ImageryLayerView\")], c), c;\n};\nexport { m as default };","map":{"version":3,"names":["_","e","r","isNone","t","isSome","o","property","s","subclass","p","i","combinedViewLayerTimeExtentProperty","a","n","getFetchPopupTemplate","u","m","c","constructor","arguments","view","fetchPopupFeatures","layer","popupEnabled","popupTemplate","getRequiredFields","l","timeExtent","geometry","outFields","outSpatialReference","spatialReference","resolution","y","d","w","type","returnTopmostRaster","f","showNoDataRecords","h","layerOptions","R","returnDomainValues","pixelSize","signal","queryVisibleRasters","then","canResume","isEmpty","prototype","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/layers/ImageryLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{isNone as t,isSome as o}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";import{combinedViewLayerTimeExtentProperty as a}from\"../../layers/support/commonProperties.js\";import n from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as u}from\"./support/popupUtils.js\";const m=m=>{let c=class extends m{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,s){const{layer:p}=this;if(!e)throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:p});const{popupEnabled:a}=p,m=u(p,s);if(!a||t(m))throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:m});const c=await m.getRequiredFields(),l=new n;l.timeExtent=this.timeExtent,l.geometry=e,l.outFields=c,l.outSpatialReference=e.spatialReference;const{resolution:y,spatialReference:d}=this.view,w=\"2d\"===this.view.type?new i(y,y,d):new i(.5*y,.5*y,d),{returnTopmostRaster:f,showNoDataRecords:h}=m.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},R={returnDomainValues:!0,returnTopmostRaster:f,pixelSize:w,showNoDataRecords:h,signal:o(s)?s.signal:null};return p.queryVisibleRasters(l,R).then((e=>e))}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([s()],c.prototype,\"layer\",void 0),e([s()],c.prototype,\"suspended\",void 0),e([s(a)],c.prototype,\"timeExtent\",void 0),e([s()],c.prototype,\"view\",void 0),c=e([p(\"esri.views.layers.ImageryLayerView\")],c),c};export{m as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}