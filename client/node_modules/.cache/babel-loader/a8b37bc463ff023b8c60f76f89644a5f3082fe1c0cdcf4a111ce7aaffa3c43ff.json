{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../core/maybe.js\";\nimport { Edge as t } from \"../EditGeometry.js\";\nclass r {\n  constructor(e, t) {\n    let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    this._editGeometry = e, this._vertices = t, this._minNumberOfVertices = r, this.removedVertices = null;\n  }\n  apply() {\n    let t = \"redo\";\n    if (null == this.removedVertices) {\n      const r = this.removedVertices = [];\n      this._vertices.forEach(t => {\n        const i = this._removeVertex(t);\n        e(i) && r.push(i);\n      }), t = \"apply\";\n    } else this.removedVertices.forEach(e => {\n      this._removeVertex(e.removedVertex);\n    });\n    this._editGeometry.notifyChanges({\n      operation: t,\n      removedVertices: this._vertices\n    });\n  }\n  undo() {\n    this.removedVertices?.forEach(e => {\n      this._undoRemoveVertex(e);\n    }), this._editGeometry.notifyChanges({\n      operation: \"undo\",\n      addedVertices: this._vertices\n    });\n  }\n  accumulate() {\n    return !1;\n  }\n  _removeVertex(e) {\n    const r = e.component;\n    if (r.vertices.length <= this._minNumberOfVertices) return null;\n    const i = {\n        removedVertex: e,\n        createdEdge: null\n      },\n      s = e.leftEdge,\n      d = e.rightEdge;\n    return r.vertices.splice(r.vertices.indexOf(e), 1), s && (r.edges.splice(r.edges.indexOf(s), 1), s.leftVertex.rightEdge = null), d && (r.edges.splice(r.edges.indexOf(d), 1), d.rightVertex.leftEdge = null), 0 === e.index && d && this._vertices.length > 0 && r.swapVertices(r.vertices.indexOf(d.rightVertex), 0), s && d && (i.createdEdge = new t(r, s.leftVertex, d.rightVertex), r.edges.push(i.createdEdge)), d && r.updateVertexIndex(d.rightVertex, d.rightVertex.index - 1), i;\n  }\n  _undoRemoveVertex(e) {\n    const t = e.removedVertex,\n      r = e.removedVertex.component,\n      i = t.leftEdge,\n      s = t.rightEdge;\n    e.createdEdge && r.edges.splice(r.edges.indexOf(e.createdEdge), 1), r.vertices.push(t), i && (r.edges.push(i), i.leftVertex.rightEdge = i), s && (r.edges.push(s), s.rightVertex.leftEdge = s), r.updateVertexIndex(t, t.index);\n  }\n}\nexport { r as RemoveVertices };","map":{"version":3,"names":["isSome","e","Edge","t","r","constructor","arguments","length","undefined","_editGeometry","_vertices","_minNumberOfVertices","removedVertices","apply","forEach","i","_removeVertex","push","removedVertex","notifyChanges","operation","undo","_undoRemoveVertex","addedVertices","accumulate","component","vertices","createdEdge","s","leftEdge","d","rightEdge","splice","indexOf","edges","leftVertex","rightVertex","index","swapVertices","updateVertexIndex","RemoveVertices"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/interactive/editGeometry/operations/RemoveVertices.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{Edge as t}from\"../EditGeometry.js\";class r{constructor(e,t,r=0){this._editGeometry=e,this._vertices=t,this._minNumberOfVertices=r,this.removedVertices=null}apply(){let t=\"redo\";if(null==this.removedVertices){const r=this.removedVertices=[];this._vertices.forEach((t=>{const i=this._removeVertex(t);e(i)&&r.push(i)})),t=\"apply\"}else this.removedVertices.forEach((e=>{this._removeVertex(e.removedVertex)}));this._editGeometry.notifyChanges({operation:t,removedVertices:this._vertices})}undo(){this.removedVertices?.forEach((e=>{this._undoRemoveVertex(e)})),this._editGeometry.notifyChanges({operation:\"undo\",addedVertices:this._vertices})}accumulate(){return!1}_removeVertex(e){const r=e.component;if(r.vertices.length<=this._minNumberOfVertices)return null;const i={removedVertex:e,createdEdge:null},s=e.leftEdge,d=e.rightEdge;return r.vertices.splice(r.vertices.indexOf(e),1),s&&(r.edges.splice(r.edges.indexOf(s),1),s.leftVertex.rightEdge=null),d&&(r.edges.splice(r.edges.indexOf(d),1),d.rightVertex.leftEdge=null),0===e.index&&d&&this._vertices.length>0&&r.swapVertices(r.vertices.indexOf(d.rightVertex),0),s&&d&&(i.createdEdge=new t(r,s.leftVertex,d.rightVertex),r.edges.push(i.createdEdge)),d&&r.updateVertexIndex(d.rightVertex,d.rightVertex.index-1),i}_undoRemoveVertex(e){const t=e.removedVertex,r=e.removedVertex.component,i=t.leftEdge,s=t.rightEdge;e.createdEdge&&r.edges.splice(r.edges.indexOf(e.createdEdge),1),r.vertices.push(t),i&&(r.edges.push(i),i.leftVertex.rightEdge=i),s&&(r.edges.push(s),s.rightVertex.leftEdge=s),r.updateVertexIndex(t,t.index)}}export{r as RemoveVertices};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}