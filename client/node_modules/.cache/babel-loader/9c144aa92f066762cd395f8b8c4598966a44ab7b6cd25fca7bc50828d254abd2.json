{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport r from \"../../PopupTemplate.js\";\nimport \"../../renderers/ClassBreaksRenderer.js\";\nimport \"../../renderers/DictionaryRenderer.js\";\nimport \"../../renderers/DotDensityRenderer.js\";\nimport \"../../renderers/HeatmapRenderer.js\";\nimport \"../../renderers/PieChartRenderer.js\";\nimport \"../../renderers/Renderer.js\";\nimport \"../../renderers/SimpleRenderer.js\";\nimport \"../../renderers/UniqueValueRenderer.js\";\nimport \"../../renderers/support/jsonUtils.js\";\nimport { rendererTypes as t, webSceneRendererTypes as i } from \"../../renderers/support/types.js\";\nimport o from \"../../request.js\";\nimport { isSymbol3D as s } from \"../../symbols.js\";\nimport a from \"../../core/Collection.js\";\nimport l from \"../../core/Error.js\";\nimport { HandleOwnerMixin as n } from \"../../core/HandleOwner.js\";\nimport has from \"../../core/has.js\";\nimport { IdentifiableMixin as p } from \"../../core/Identifiable.js\";\nimport { clone as y } from \"../../core/lang.js\";\nimport d from \"../../core/Loadable.js\";\nimport u from \"../../core/Logger.js\";\nimport { isSome as c } from \"../../core/maybe.js\";\nimport { MultiOriginJSONMixin as f } from \"../../core/MultiOriginJSONSupport.js\";\nimport { sqlAnd as m } from \"../../core/sql.js\";\nimport { objectToQuery as h } from \"../../core/urlUtils.js\";\nimport { property as b } from \"../../core/accessorSupport/decorators/property.js\";\nimport { cast as g } from \"../../core/accessorSupport/decorators/cast.js\";\nimport { reader as S } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as I } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as w } from \"../../core/accessorSupport/decorators/writer.js\";\nimport { ensureInteger as v, ensureType as j, Integer as L, ensureClass as D } from \"../../core/accessorSupport/ensureType.js\";\nimport { OriginId as E, nameToId as F } from \"../../core/accessorSupport/PropertyOrigin.js\";\nimport { getProperties as P } from \"../../core/accessorSupport/utils.js\";\nimport x from \"../graphics/sources/support/QueryTask.js\";\nimport O from \"./FeatureType.js\";\nimport T from \"./Field.js\";\nimport _ from \"./FieldsIndex.js\";\nimport A from \"./LabelClass.js\";\nimport { validateLabelingInfo as V } from \"./labelingInfo.js\";\nimport N from \"./LayerFloorInfo.js\";\nimport { getFeatureLayerCapabilities as M } from \"./serviceCapabilitiesUtils.js\";\nimport { DataLayerSource as C } from \"./source/DataLayerSource.js\";\nimport { MapLayerSource as q } from \"./source/MapLayerSource.js\";\nimport U from \"../../rest/support/AttachmentQuery.js\";\nimport k from \"../../rest/support/Query.js\";\nimport { createPopupTemplate as R } from \"../../support/popupUtils.js\";\nimport Q from \"../../geometry/Extent.js\";\nimport { featureGeometryTypeKebabDictionary as B } from \"../../geometry/support/typeUtils.js\";\nvar J;\nfunction $(e) {\n  return null != e && \"esriSMS\" === e.type;\n}\nfunction G(e, r, t) {\n  const i = this.originIdOf(r) >= F(t.origin);\n  return {\n    ignoreOrigin: !0,\n    allowNull: i,\n    enabled: !!t && \"map-image\" === t.layer?.type && (t.writeSublayerStructure || i)\n  };\n}\nfunction H(e, r, t) {\n  return {\n    enabled: !!t && \"tile\" === t.layer?.type && this._isOverridden(r)\n  };\n}\nfunction z(e, r, t) {\n  return {\n    ignoreOrigin: !0,\n    enabled: t && t.writeSublayerStructure || !1\n  };\n}\nfunction K(e, r, t) {\n  return {\n    ignoreOrigin: !0,\n    enabled: !!t && (t.writeSublayerStructure || this.originIdOf(r) >= F(t.origin))\n  };\n}\nlet W = 0;\nconst X = new Set();\nX.add(\"layer\"), X.add(\"parent\"), X.add(\"loaded\"), X.add(\"loadStatus\"), X.add(\"loadError\"), X.add(\"loadWarnings\");\nlet Y = J = class extends n(f(p(d))) {\n  constructor(e) {\n    super(e), this.capabilities = void 0, this.fields = null, this.fullExtent = null, this.geometryType = null, this.globalIdField = null, this.legendEnabled = !0, this.objectIdField = null, this.popupEnabled = !0, this.popupTemplate = null, this.sourceJSON = null, this.title = null, this.typeIdField = null, this.types = null, this._lastParsedUrl = null;\n  }\n  async load(e) {\n    return this.addResolvingPromise((async () => {\n      const {\n        layer: r,\n        source: t,\n        url: i\n      } = this;\n      if (!r && !i) throw new l(\"sublayer:missing-layer\", \"Sublayer can't be loaded without being part of a layer\", {\n        sublayer: this\n      });\n      let s = null;\n      if (!r || this.originIdOf(\"url\") > E.SERVICE || \"data-layer\" === t?.type) {\n        s = (await o(i, {\n          responseType: \"json\",\n          query: {\n            f: \"json\"\n          },\n          ...e\n        })).data;\n      } else {\n        let i = this.id;\n        \"map-layer\" === t?.type && (i = t.mapLayerId), s = await r.fetchSublayerInfo(i, e);\n      }\n      s && (this.sourceJSON = s, this.read({\n        layerDefinition: s\n      }, {\n        origin: \"service\"\n      }));\n    })()), this;\n  }\n  readCapabilities(e, r) {\n    r = r.layerDefinition || r;\n    const {\n      operations: {\n        supportsQuery: t,\n        supportsQueryAttachments: i\n      },\n      query: {\n        supportsFormatPBF: o\n      },\n      data: {\n        supportsAttachment: s\n      }\n    } = M(r, this.url);\n    return {\n      exportMap: {\n        supportsModification: !!r.canModifyLayer\n      },\n      operations: {\n        supportsQuery: t,\n        supportsQueryAttachments: i\n      },\n      data: {\n        supportsAttachment: s\n      },\n      query: {\n        supportsFormatPBF: o\n      }\n    };\n  }\n  get defaultPopupTemplate() {\n    return this.createPopupTemplate();\n  }\n  set definitionExpression(e) {\n    this._setAndNotifyLayer(\"definitionExpression\", e);\n  }\n  get fieldsIndex() {\n    return new _(this.fields || []);\n  }\n  set floorInfo(e) {\n    this._setAndNotifyLayer(\"floorInfo\", e);\n  }\n  readGlobalIdFieldFromService(e, r) {\n    if ((r = r.layerDefinition || r).globalIdField) return r.globalIdField;\n    if (r.fields) for (const t of r.fields) if (\"esriFieldTypeGlobalID\" === t.type) return t.name;\n  }\n  get id() {\n    const e = this._get(\"id\");\n    return e ?? W++;\n  }\n  set id(e) {\n    this._get(\"id\") !== e && (!1 !== this.layer?.capabilities?.exportMap?.supportsDynamicLayers ? this._set(\"id\", e) : this._logLockedError(\"id\", \"capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'\"));\n  }\n  set labelingInfo(e) {\n    this._setAndNotifyLayer(\"labelingInfo\", e);\n  }\n  writeLabelingInfo(e, r, t, i) {\n    e && e.length && (r.layerDefinition = {\n      drawingInfo: {\n        labelingInfo: e.map(e => e.write({}, i))\n      }\n    });\n  }\n  set labelsVisible(e) {\n    this._setAndNotifyLayer(\"labelsVisible\", e);\n  }\n  set layer(e) {\n    this._set(\"layer\", e), this.sublayers && this.sublayers.forEach(r => r.layer = e);\n  }\n  set listMode(e) {\n    this._set(\"listMode\", e);\n  }\n  set minScale(e) {\n    this._setAndNotifyLayer(\"minScale\", e);\n  }\n  readMinScale(e, r) {\n    return r.minScale || r.layerDefinition && r.layerDefinition.minScale || 0;\n  }\n  set maxScale(e) {\n    this._setAndNotifyLayer(\"maxScale\", e);\n  }\n  readMaxScale(e, r) {\n    return r.maxScale || r.layerDefinition && r.layerDefinition.maxScale || 0;\n  }\n  get effectiveScaleRange() {\n    const {\n      minScale: e,\n      maxScale: r\n    } = this;\n    return {\n      minScale: e,\n      maxScale: r\n    };\n  }\n  readObjectIdFieldFromService(e, r) {\n    if ((r = r.layerDefinition || r).objectIdField) return r.objectIdField;\n    if (r.fields) for (const t of r.fields) if (\"esriFieldTypeOID\" === t.type) return t.name;\n  }\n  set opacity(e) {\n    this._setAndNotifyLayer(\"opacity\", e);\n  }\n  readOpacity(e, r) {\n    const t = r.layerDefinition;\n    return 1 - .01 * ((null != t?.transparency ? t.transparency : t?.drawingInfo?.transparency) ?? 0);\n  }\n  writeOpacity(e, r, t, i) {\n    r.layerDefinition = {\n      drawingInfo: {\n        transparency: 100 - 100 * e\n      }\n    };\n  }\n  writeParent(e, r) {\n    this.parent && this.parent !== this.layer ? r.parentLayerId = v(this.parent.id) : r.parentLayerId = -1;\n  }\n  get queryTask() {\n    if (!this.layer) return null;\n    const {\n        spatialReference: e\n      } = this.layer,\n      r = \"gdbVersion\" in this.layer ? this.layer.gdbVersion : void 0,\n      {\n        capabilities: t,\n        fieldsIndex: i\n      } = this,\n      o = has(\"featurelayer-pbf\") && t?.query.supportsFormatPBF,\n      s = t?.operations?.supportsQueryAttachments ?? !1;\n    return new x({\n      url: this.url,\n      pbfSupported: o,\n      fieldsIndex: i,\n      gdbVersion: r,\n      sourceSpatialReference: e,\n      queryAttachmentsSupported: s\n    });\n  }\n  set renderer(e) {\n    if (e) for (const r of e.getSymbols()) if (s(r)) {\n      u.getLogger(this.declaredClass).warn(\"Sublayer renderer should use 2D symbols\");\n      break;\n    }\n    this._setAndNotifyLayer(\"renderer\", e);\n  }\n  get source() {\n    return this._get(\"source\") || new q({\n      mapLayerId: this.id\n    });\n  }\n  set source(e) {\n    this._setAndNotifyLayer(\"source\", e);\n  }\n  set sublayers(e) {\n    this._handleSublayersChange(e, this._get(\"sublayers\")), this._set(\"sublayers\", e);\n  }\n  castSublayers(e) {\n    return j(a.ofType(J), e);\n  }\n  writeSublayers(e, r, t) {\n    this.sublayers?.length && (r[t] = this.sublayers.map(e => e.id).toArray().reverse());\n  }\n  readTypeIdField(e, r) {\n    let t = (r = r.layerDefinition || r).typeIdField;\n    if (t && r.fields) {\n      t = t.toLowerCase();\n      const e = r.fields.find(e => e.name.toLowerCase() === t);\n      e && (t = e.name);\n    }\n    return t;\n  }\n  get url() {\n    const e = this.layer?.parsedUrl ?? this._lastParsedUrl,\n      r = this.source;\n    if (!e) return null;\n    if (this._lastParsedUrl = e, \"map-layer\" === r?.type) return `${e.path}/${r.mapLayerId}`;\n    const t = {\n      layer: JSON.stringify({\n        source: this.source\n      })\n    };\n    return `${e.path}/dynamicLayer?${h(t)}`;\n  }\n  set url(e) {\n    this._overrideIfSome(\"url\", e);\n  }\n  set visible(e) {\n    this._setAndNotifyLayer(\"visible\", e);\n  }\n  writeVisible(e, r, t, i) {\n    r[t] = this.getAtOrigin(\"defaultVisibility\", \"service\") || e;\n  }\n  clone() {\n    const {\n        store: e\n      } = P(this),\n      r = new J();\n    return P(r).store = e.clone(X), this.commitProperty(\"url\"), r._lastParsedUrl = this._lastParsedUrl, r;\n  }\n  createPopupTemplate(e) {\n    return R(this, e);\n  }\n  createQuery() {\n    return new k({\n      returnGeometry: !0,\n      where: this.definitionExpression || \"1=1\"\n    });\n  }\n  async createFeatureLayer() {\n    if (this.hasOwnProperty(\"sublayers\")) return null;\n    const {\n        layer: e\n      } = this,\n      r = e?.parsedUrl,\n      t = new (0, (await import(\"../FeatureLayer.js\")).default)({\n        url: r?.path\n      });\n    return r && this.source && (\"map-layer\" === this.source.type ? t.layerId = this.source.mapLayerId : t.dynamicDataSource = this.source), null != e?.refreshInterval && (t.refreshInterval = e.refreshInterval), this.definitionExpression && (t.definitionExpression = this.definitionExpression), this.floorInfo && (t.floorInfo = y(this.floorInfo)), this.originIdOf(\"labelingInfo\") > E.SERVICE && (t.labelingInfo = y(this.labelingInfo)), this.originIdOf(\"labelsVisible\") > E.DEFAULTS && (t.labelsVisible = this.labelsVisible), this.originIdOf(\"legendEnabled\") > E.DEFAULTS && (t.legendEnabled = this.legendEnabled), this.originIdOf(\"visible\") > E.DEFAULTS && (t.visible = this.visible), this.originIdOf(\"minScale\") > E.DEFAULTS && (t.minScale = this.minScale), this.originIdOf(\"maxScale\") > E.DEFAULTS && (t.maxScale = this.maxScale), this.originIdOf(\"opacity\") > E.DEFAULTS && (t.opacity = this.opacity), this.originIdOf(\"popupTemplate\") > E.DEFAULTS && (t.popupTemplate = y(this.popupTemplate)), this.originIdOf(\"renderer\") > E.SERVICE && (t.renderer = y(this.renderer)), \"data-layer\" === this.source?.type && (t.dynamicDataSource = this.source.clone()), this.originIdOf(\"title\") > E.DEFAULTS && (t.title = this.title), \"map-image\" === e?.type && e.originIdOf(\"customParameters\") > E.DEFAULTS && (t.customParameters = e.customParameters), \"tile\" === e?.type && e.originIdOf(\"customParameters\") > E.DEFAULTS && (t.customParameters = e.customParameters), t;\n  }\n  getField(e) {\n    return this.fieldsIndex.get(e);\n  }\n  getFeatureType(e) {\n    const {\n      typeIdField: r,\n      types: t\n    } = this;\n    if (!r || !e) return null;\n    const i = e.attributes ? e.attributes[r] : void 0;\n    if (null == i) return null;\n    let o = null;\n    return t?.some(e => {\n      const {\n        id: r\n      } = e;\n      return null != r && (r.toString() === i.toString() && (o = e), !!o);\n    }), o;\n  }\n  getFieldDomain(e, r) {\n    const t = r && r.feature,\n      i = this.getFeatureType(t);\n    if (i) {\n      const r = i.domains && i.domains[e];\n      if (r && \"inherited\" !== r.type) return r;\n    }\n    return this._getLayerDomain(e);\n  }\n  async queryAttachments(e, r) {\n    await this.load(), e = U.from(e);\n    const t = this.capabilities;\n    if (!t?.data?.supportsAttachment) throw new l(\"queryAttachments:not-supported\", \"this layer doesn't support attachments\");\n    const {\n      attachmentTypes: i,\n      objectIds: o,\n      globalIds: s,\n      num: a,\n      size: n,\n      start: p,\n      where: y\n    } = e;\n    if (!t?.operations?.supportsQueryAttachments) {\n      if (i?.length > 0 || s?.length > 0 || n?.length > 0 || a || p || y) throw new l(\"queryAttachments:option-not-supported\", \"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported\", e);\n    }\n    if (!(o?.length || s?.length || y)) throw new l(\"queryAttachments:invalid-query\", \"'objectIds', 'globalIds', or 'where' are required to perform attachment query\", e);\n    return this.queryTask.executeAttachmentQuery(e, r);\n  }\n  async queryFeatures() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.createQuery();\n    let r = arguments.length > 1 ? arguments[1] : undefined;\n    if (await this.load(), !this.capabilities.operations.supportsQuery) throw new l(\"queryFeatures:not-supported\", \"this layer doesn't support queries.\");\n    if (!this.url) throw new l(\"queryFeatures:not-supported\", \"this layer has no url.\");\n    const t = await this.queryTask.execute(e, {\n      ...r,\n      query: {\n        ...this.layer?.customParameters,\n        token: this.layer?.apiKey\n      }\n    });\n    if (t?.features) for (const i of t.features) i.sourceLayer = this;\n    return t;\n  }\n  toExportImageJSON(e) {\n    const r = {\n        id: this.id,\n        source: this.source?.toJSON() || {\n          mapLayerId: this.id,\n          type: \"mapLayer\"\n        }\n      },\n      t = m(e, this.definitionExpression);\n    c(t) && (r.definitionExpression = t);\n    const i = [\"renderer\", \"labelingInfo\", \"opacity\", \"labelsVisible\"].reduce((e, r) => (e[r] = this.originIdOf(r), e), {}),\n      o = Object.keys(i).some(e => i[e] > E.SERVICE);\n    if (o) {\n      const e = r.drawingInfo = {};\n      if (i.renderer > E.SERVICE && (e.renderer = this.renderer ? this.renderer.toJSON() : null), i.labelsVisible > E.SERVICE && (e.showLabels = this.labelsVisible), this.labelsVisible && i.labelingInfo > E.SERVICE) {\n        !this.loaded && this.labelingInfo.some(e => !e.labelPlacement) && u.getLogger(this.declaredClass).warnOnce(`A Sublayer (title: ${this.title}, id: ${this.id}) has an undefined 'labelPlacement' and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type.`, {\n          sublayer: this\n        });\n        let r = this.labelingInfo;\n        c(this.geometryType) && (r = V(this.labelingInfo, B.toJSON(this.geometryType))), e.labelingInfo = r.filter(e => e.labelPlacement).map(e => e.toJSON({\n          origin: \"service\",\n          layer: this.layer\n        })), e.showLabels = !0;\n      }\n      i.opacity > E.SERVICE && (e.transparency = 100 - 100 * this.opacity), this._assignDefaultSymbolColors(e.renderer);\n    }\n    return r;\n  }\n  _assignDefaultSymbolColors(e) {\n    this._forEachSimpleMarkerSymbols(e, e => {\n      e.color || \"esriSMSX\" !== e.style && \"esriSMSCross\" !== e.style || (e.outline && e.outline.color ? e.color = e.outline.color : e.color = [0, 0, 0, 0]);\n    });\n  }\n  _forEachSimpleMarkerSymbols(e, r) {\n    if (e) {\n      const t = (\"uniqueValueInfos\" in e ? e.uniqueValueInfos : \"classBreakInfos\" in e ? e.classBreakInfos : null) ?? [];\n      for (const e of t) $(e.symbol) && r(e.symbol);\n      \"symbol\" in e && $(e.symbol) && r(e.symbol), \"defaultSymbol\" in e && $(e.defaultSymbol) && r(e.defaultSymbol);\n    }\n  }\n  _setAndNotifyLayer(e, r) {\n    const t = this.layer,\n      i = this._get(e);\n    let o, s;\n    switch (e) {\n      case \"definitionExpression\":\n      case \"floorInfo\":\n        o = \"supportsSublayerDefinitionExpression\";\n        break;\n      case \"minScale\":\n      case \"maxScale\":\n      case \"visible\":\n        o = \"supportsSublayerVisibility\";\n        break;\n      case \"labelingInfo\":\n      case \"labelsVisible\":\n      case \"opacity\":\n      case \"renderer\":\n      case \"source\":\n        o = \"supportsDynamicLayers\", s = \"supportsModification\";\n    }\n    const a = P(this).getDefaultOrigin();\n    if (\"service\" !== a) {\n      if (o && !1 === this.layer?.capabilities?.exportMap?.[o]) return void this._logLockedError(e, `capability not available 'layer.capabilities.exportMap.${o}'`);\n      if (s && !1 === this.capabilities?.exportMap[s]) return void this._logLockedError(e, `capability not available 'capabilities.exportMap.${s}'`);\n    }\n    \"source\" !== e || \"not-loaded\" === this.loadStatus ? (this._set(e, r), \"service\" !== a && i !== r && t && t.emit && t.emit(\"sublayer-update\", {\n      propertyName: e,\n      target: this\n    })) : this._logLockedError(e, \"'source' can't be changed after calling sublayer.load()\");\n  }\n  _handleSublayersChange(e, r) {\n    r && (r.forEach(e => {\n      e.parent = null, e.layer = null;\n    }), this.handles.removeAll()), e && (e.forEach(e => {\n      e.parent = this, e.layer = this.layer;\n    }), this.handles.add([e.on(\"after-add\", _ref => {\n      let {\n        item: e\n      } = _ref;\n      e.parent = this, e.layer = this.layer;\n    }), e.on(\"after-remove\", _ref2 => {\n      let {\n        item: e\n      } = _ref2;\n      e.parent = null, e.layer = null;\n    }), e.on(\"before-changes\", e => {\n      const r = this.layer?.capabilities?.exportMap?.supportsSublayersChanges;\n      null == r || r || (u.getLogger(this.declaredClass).error(new l(\"sublayer:sublayers-non-modifiable\", \"Sublayer can't be added, moved, or removed from the layer's sublayers\", {\n        sublayer: this,\n        layer: this.layer\n      })), e.preventDefault());\n    })]));\n  }\n  _logLockedError(e, r) {\n    const {\n      layer: t,\n      declaredClass: i\n    } = this;\n    u.getLogger(i).error(new l(\"sublayer:locked\", `Property '${String(e)}' can't be changed on Sublayer from the layer '${t?.id}'`, {\n      reason: r,\n      sublayer: this,\n      layer: t\n    }));\n  }\n  _getLayerDomain(e) {\n    const r = this.fieldsIndex.get(e);\n    return r ? r.domain : null;\n  }\n};\nY.test = {\n  isMapImageLayerOverridePolicy: e => e === z || e === G,\n  isTileImageLayerOverridePolicy: e => e === H\n}, e([b({\n  readOnly: !0\n})], Y.prototype, \"capabilities\", void 0), e([S(\"service\", \"capabilities\", [\"layerDefinition.canModifyLayer\", \"layerDefinition.capabilities\"])], Y.prototype, \"readCapabilities\", null), e([b()], Y.prototype, \"defaultPopupTemplate\", null), e([b({\n  type: String,\n  value: null,\n  json: {\n    name: \"layerDefinition.definitionExpression\",\n    write: {\n      allowNull: !0,\n      overridePolicy: G\n    }\n  }\n})], Y.prototype, \"definitionExpression\", null), e([b({\n  type: [T],\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"layerDefinition.fields\"\n        }\n      }\n    }\n  }\n})], Y.prototype, \"fields\", void 0), e([b({\n  readOnly: !0\n})], Y.prototype, \"fieldsIndex\", null), e([b({\n  type: N,\n  value: null,\n  json: {\n    name: \"layerDefinition.floorInfo\",\n    read: {\n      source: \"layerDefinition.floorInfo\"\n    },\n    write: {\n      target: \"layerDefinition.floorInfo\",\n      overridePolicy: G\n    },\n    origins: {\n      \"web-scene\": {\n        read: !1,\n        write: !1\n      }\n    }\n  }\n})], Y.prototype, \"floorInfo\", null), e([b({\n  type: Q,\n  json: {\n    read: {\n      source: \"layerDefinition.extent\"\n    }\n  }\n})], Y.prototype, \"fullExtent\", void 0), e([b({\n  type: B.apiValues,\n  json: {\n    origins: {\n      service: {\n        name: \"layerDefinition.geometryType\",\n        read: {\n          reader: B.read\n        }\n      }\n    }\n  }\n})], Y.prototype, \"geometryType\", void 0), e([b({\n  type: String\n})], Y.prototype, \"globalIdField\", void 0), e([S(\"service\", \"globalIdField\", [\"layerDefinition.globalIdField\", \"layerDefinition.fields\"])], Y.prototype, \"readGlobalIdFieldFromService\", null), e([b({\n  type: L,\n  json: {\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], Y.prototype, \"id\", null), e([b({\n  value: null,\n  type: [A],\n  json: {\n    read: {\n      source: \"layerDefinition.drawingInfo.labelingInfo\"\n    },\n    write: {\n      target: \"layerDefinition.drawingInfo.labelingInfo\",\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"labelingInfo\", null), e([w(\"labelingInfo\")], Y.prototype, \"writeLabelingInfo\", null), e([b({\n  type: Boolean,\n  value: !0,\n  json: {\n    read: {\n      source: \"layerDefinition.drawingInfo.showLabels\"\n    },\n    write: {\n      target: \"layerDefinition.drawingInfo.showLabels\",\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"labelsVisible\", null), e([b({\n  value: null\n})], Y.prototype, \"layer\", null), e([b({\n  type: Boolean,\n  value: !0,\n  json: {\n    origins: {\n      service: {\n        read: {\n          enabled: !1\n        }\n      }\n    },\n    read: {\n      source: \"showLegend\"\n    },\n    write: {\n      target: \"showLegend\",\n      overridePolicy: K\n    }\n  }\n})], Y.prototype, \"legendEnabled\", void 0), e([b({\n  type: [\"show\", \"hide\", \"hide-children\"],\n  value: \"show\",\n  json: {\n    read: !1,\n    write: !1,\n    origins: {\n      \"web-scene\": {\n        read: !0,\n        write: !0\n      }\n    }\n  }\n})], Y.prototype, \"listMode\", null), e([b({\n  type: Number,\n  value: 0,\n  json: {\n    write: {\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"minScale\", null), e([S(\"minScale\", [\"minScale\", \"layerDefinition.minScale\"])], Y.prototype, \"readMinScale\", null), e([b({\n  type: Number,\n  value: 0,\n  json: {\n    write: {\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"maxScale\", null), e([S(\"maxScale\", [\"maxScale\", \"layerDefinition.maxScale\"])], Y.prototype, \"readMaxScale\", null), e([b({\n  readOnly: !0\n})], Y.prototype, \"effectiveScaleRange\", null), e([b({\n  type: String\n})], Y.prototype, \"objectIdField\", void 0), e([S(\"service\", \"objectIdField\", [\"layerDefinition.objectIdField\", \"layerDefinition.fields\"])], Y.prototype, \"readObjectIdFieldFromService\", null), e([b({\n  type: Number,\n  value: 1,\n  json: {\n    write: {\n      target: \"layerDefinition.drawingInfo.transparency\",\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"opacity\", null), e([S(\"opacity\", [\"layerDefinition.drawingInfo.transparency\", \"layerDefinition.transparency\"])], Y.prototype, \"readOpacity\", null), e([w(\"opacity\")], Y.prototype, \"writeOpacity\", null), e([b({\n  json: {\n    type: L,\n    write: {\n      target: \"parentLayerId\",\n      writerEnsuresNonNull: !0,\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"parent\", void 0), e([w(\"parent\")], Y.prototype, \"writeParent\", null), e([b({\n  type: Boolean,\n  value: !0,\n  json: {\n    read: {\n      source: \"disablePopup\",\n      reader: (e, r) => !r.disablePopup\n    },\n    write: {\n      target: \"disablePopup\",\n      overridePolicy: K,\n      writer(e, r, t) {\n        r[t] = !e;\n      }\n    }\n  }\n})], Y.prototype, \"popupEnabled\", void 0), e([b({\n  type: r,\n  json: {\n    read: {\n      source: \"popupInfo\"\n    },\n    write: {\n      target: \"popupInfo\",\n      overridePolicy: K\n    }\n  }\n})], Y.prototype, \"popupTemplate\", void 0), e([b({\n  readOnly: !0\n})], Y.prototype, \"queryTask\", null), e([b({\n  types: t,\n  value: null,\n  json: {\n    name: \"layerDefinition.drawingInfo.renderer\",\n    write: {\n      overridePolicy: z\n    },\n    origins: {\n      \"web-scene\": {\n        types: i,\n        name: \"layerDefinition.drawingInfo.renderer\",\n        write: {\n          overridePolicy: z\n        }\n      }\n    }\n  }\n})], Y.prototype, \"renderer\", null), e([b({\n  types: {\n    key: \"type\",\n    base: null,\n    typeMap: {\n      \"data-layer\": C,\n      \"map-layer\": q\n    }\n  },\n  cast(e) {\n    if (e) {\n      if (\"mapLayerId\" in e) return D(q, e);\n      if (\"dataSource\" in e) return D(C, e);\n    }\n    return e;\n  },\n  json: {\n    name: \"layerDefinition.source\",\n    write: {\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"source\", null), e([b()], Y.prototype, \"sourceJSON\", void 0), e([b({\n  value: null,\n  json: {\n    type: [L],\n    write: {\n      target: \"subLayerIds\",\n      allowNull: !0,\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"sublayers\", null), e([g(\"sublayers\")], Y.prototype, \"castSublayers\", null), e([w(\"sublayers\")], Y.prototype, \"writeSublayers\", null), e([b({\n  type: String,\n  json: {\n    name: \"name\",\n    write: {\n      overridePolicy: K\n    }\n  }\n})], Y.prototype, \"title\", void 0), e([b({\n  type: String\n})], Y.prototype, \"typeIdField\", void 0), e([S(\"typeIdField\", [\"layerDefinition.typeIdField\"])], Y.prototype, \"readTypeIdField\", null), e([b({\n  type: [O],\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"layerDefinition.types\"\n        }\n      }\n    }\n  }\n})], Y.prototype, \"types\", void 0), e([b({\n  type: String,\n  json: {\n    read: {\n      source: \"layerUrl\"\n    },\n    write: {\n      target: \"layerUrl\",\n      overridePolicy: H\n    }\n  }\n})], Y.prototype, \"url\", null), e([b({\n  type: Boolean,\n  value: !0,\n  json: {\n    read: {\n      source: \"defaultVisibility\"\n    },\n    write: {\n      target: \"defaultVisibility\",\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"visible\", null), e([w(\"visible\")], Y.prototype, \"writeVisible\", null), Y = J = e([I(\"esri.layers.support.Sublayer\")], Y);\nconst Z = Y;\nexport { Z as default };","map":{"version":3,"names":["_","e","r","rendererTypes","t","webSceneRendererTypes","i","o","isSymbol3D","s","a","l","HandleOwnerMixin","n","has","IdentifiableMixin","p","clone","y","d","u","isSome","c","MultiOriginJSONMixin","f","sqlAnd","m","objectToQuery","h","property","b","cast","g","reader","S","subclass","I","writer","w","ensureInteger","v","ensureType","j","Integer","L","ensureClass","D","OriginId","E","nameToId","F","getProperties","P","x","O","T","A","validateLabelingInfo","V","N","getFeatureLayerCapabilities","M","DataLayerSource","C","MapLayerSource","q","U","k","createPopupTemplate","R","Q","featureGeometryTypeKebabDictionary","B","J","$","type","G","originIdOf","origin","ignoreOrigin","allowNull","enabled","layer","writeSublayerStructure","H","_isOverridden","z","K","W","X","Set","add","Y","constructor","capabilities","fields","fullExtent","geometryType","globalIdField","legendEnabled","objectIdField","popupEnabled","popupTemplate","sourceJSON","title","typeIdField","types","_lastParsedUrl","load","addResolvingPromise","source","url","sublayer","SERVICE","responseType","query","data","id","mapLayerId","fetchSublayerInfo","read","layerDefinition","readCapabilities","operations","supportsQuery","supportsQueryAttachments","supportsFormatPBF","supportsAttachment","exportMap","supportsModification","canModifyLayer","defaultPopupTemplate","definitionExpression","_setAndNotifyLayer","fieldsIndex","floorInfo","readGlobalIdFieldFromService","name","_get","supportsDynamicLayers","_set","_logLockedError","labelingInfo","writeLabelingInfo","length","drawingInfo","map","write","labelsVisible","sublayers","forEach","listMode","minScale","readMinScale","maxScale","readMaxScale","effectiveScaleRange","readObjectIdFieldFromService","opacity","readOpacity","transparency","writeOpacity","writeParent","parent","parentLayerId","queryTask","spatialReference","gdbVersion","pbfSupported","sourceSpatialReference","queryAttachmentsSupported","renderer","getSymbols","getLogger","declaredClass","warn","_handleSublayersChange","castSublayers","ofType","writeSublayers","toArray","reverse","readTypeIdField","toLowerCase","find","parsedUrl","path","JSON","stringify","_overrideIfSome","visible","writeVisible","getAtOrigin","store","commitProperty","createQuery","returnGeometry","where","createFeatureLayer","hasOwnProperty","default","layerId","dynamicDataSource","refreshInterval","DEFAULTS","customParameters","getField","get","getFeatureType","attributes","some","toString","getFieldDomain","feature","domains","_getLayerDomain","queryAttachments","from","attachmentTypes","objectIds","globalIds","num","size","start","executeAttachmentQuery","queryFeatures","arguments","undefined","execute","token","apiKey","features","sourceLayer","toExportImageJSON","toJSON","reduce","Object","keys","showLabels","loaded","labelPlacement","warnOnce","filter","_assignDefaultSymbolColors","_forEachSimpleMarkerSymbols","color","style","outline","uniqueValueInfos","classBreakInfos","symbol","defaultSymbol","getDefaultOrigin","loadStatus","emit","propertyName","target","handles","removeAll","on","_ref","item","_ref2","supportsSublayersChanges","error","preventDefault","String","reason","domain","test","isMapImageLayerOverridePolicy","isTileImageLayerOverridePolicy","readOnly","prototype","value","json","overridePolicy","origins","service","apiValues","Boolean","Number","writerEnsuresNonNull","disablePopup","key","base","typeMap","Z"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/layers/support/Sublayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import r from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/PieChartRenderer.js\";import\"../../renderers/Renderer.js\";import\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import\"../../renderers/support/jsonUtils.js\";import{rendererTypes as t,webSceneRendererTypes as i}from\"../../renderers/support/types.js\";import o from\"../../request.js\";import{isSymbol3D as s}from\"../../symbols.js\";import a from\"../../core/Collection.js\";import l from\"../../core/Error.js\";import{HandleOwnerMixin as n}from\"../../core/HandleOwner.js\";import has from\"../../core/has.js\";import{IdentifiableMixin as p}from\"../../core/Identifiable.js\";import{clone as y}from\"../../core/lang.js\";import d from\"../../core/Loadable.js\";import u from\"../../core/Logger.js\";import{isSome as c}from\"../../core/maybe.js\";import{MultiOriginJSONMixin as f}from\"../../core/MultiOriginJSONSupport.js\";import{sqlAnd as m}from\"../../core/sql.js\";import{objectToQuery as h}from\"../../core/urlUtils.js\";import{property as b}from\"../../core/accessorSupport/decorators/property.js\";import{cast as g}from\"../../core/accessorSupport/decorators/cast.js\";import{reader as S}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as I}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as w}from\"../../core/accessorSupport/decorators/writer.js\";import{ensureInteger as v,ensureType as j,Integer as L,ensureClass as D}from\"../../core/accessorSupport/ensureType.js\";import{OriginId as E,nameToId as F}from\"../../core/accessorSupport/PropertyOrigin.js\";import{getProperties as P}from\"../../core/accessorSupport/utils.js\";import x from\"../graphics/sources/support/QueryTask.js\";import O from\"./FeatureType.js\";import T from\"./Field.js\";import _ from\"./FieldsIndex.js\";import A from\"./LabelClass.js\";import{validateLabelingInfo as V}from\"./labelingInfo.js\";import N from\"./LayerFloorInfo.js\";import{getFeatureLayerCapabilities as M}from\"./serviceCapabilitiesUtils.js\";import{DataLayerSource as C}from\"./source/DataLayerSource.js\";import{MapLayerSource as q}from\"./source/MapLayerSource.js\";import U from\"../../rest/support/AttachmentQuery.js\";import k from\"../../rest/support/Query.js\";import{createPopupTemplate as R}from\"../../support/popupUtils.js\";import Q from\"../../geometry/Extent.js\";import{featureGeometryTypeKebabDictionary as B}from\"../../geometry/support/typeUtils.js\";var J;function $(e){return null!=e&&\"esriSMS\"===e.type}function G(e,r,t){const i=this.originIdOf(r)>=F(t.origin);return{ignoreOrigin:!0,allowNull:i,enabled:!!t&&(\"map-image\"===t.layer?.type&&(t.writeSublayerStructure||i))}}function H(e,r,t){return{enabled:!!t&&(\"tile\"===t.layer?.type&&this._isOverridden(r))}}function z(e,r,t){return{ignoreOrigin:!0,enabled:t&&t.writeSublayerStructure||!1}}function K(e,r,t){return{ignoreOrigin:!0,enabled:!!t&&(t.writeSublayerStructure||this.originIdOf(r)>=F(t.origin))}}let W=0;const X=new Set;X.add(\"layer\"),X.add(\"parent\"),X.add(\"loaded\"),X.add(\"loadStatus\"),X.add(\"loadError\"),X.add(\"loadWarnings\");let Y=J=class extends(n(f(p(d)))){constructor(e){super(e),this.capabilities=void 0,this.fields=null,this.fullExtent=null,this.geometryType=null,this.globalIdField=null,this.legendEnabled=!0,this.objectIdField=null,this.popupEnabled=!0,this.popupTemplate=null,this.sourceJSON=null,this.title=null,this.typeIdField=null,this.types=null,this._lastParsedUrl=null}async load(e){return this.addResolvingPromise((async()=>{const{layer:r,source:t,url:i}=this;if(!r&&!i)throw new l(\"sublayer:missing-layer\",\"Sublayer can't be loaded without being part of a layer\",{sublayer:this});let s=null;if(!r||this.originIdOf(\"url\")>E.SERVICE||\"data-layer\"===t?.type){s=(await o(i,{responseType:\"json\",query:{f:\"json\"},...e})).data}else{let i=this.id;\"map-layer\"===t?.type&&(i=t.mapLayerId),s=await r.fetchSublayerInfo(i,e)}s&&(this.sourceJSON=s,this.read({layerDefinition:s},{origin:\"service\"}))})()),this}readCapabilities(e,r){r=r.layerDefinition||r;const{operations:{supportsQuery:t,supportsQueryAttachments:i},query:{supportsFormatPBF:o},data:{supportsAttachment:s}}=M(r,this.url);return{exportMap:{supportsModification:!!r.canModifyLayer},operations:{supportsQuery:t,supportsQueryAttachments:i},data:{supportsAttachment:s},query:{supportsFormatPBF:o}}}get defaultPopupTemplate(){return this.createPopupTemplate()}set definitionExpression(e){this._setAndNotifyLayer(\"definitionExpression\",e)}get fieldsIndex(){return new _(this.fields||[])}set floorInfo(e){this._setAndNotifyLayer(\"floorInfo\",e)}readGlobalIdFieldFromService(e,r){if((r=r.layerDefinition||r).globalIdField)return r.globalIdField;if(r.fields)for(const t of r.fields)if(\"esriFieldTypeGlobalID\"===t.type)return t.name}get id(){const e=this._get(\"id\");return e??W++}set id(e){this._get(\"id\")!==e&&(!1!==this.layer?.capabilities?.exportMap?.supportsDynamicLayers?this._set(\"id\",e):this._logLockedError(\"id\",\"capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'\"))}set labelingInfo(e){this._setAndNotifyLayer(\"labelingInfo\",e)}writeLabelingInfo(e,r,t,i){e&&e.length&&(r.layerDefinition={drawingInfo:{labelingInfo:e.map((e=>e.write({},i)))}})}set labelsVisible(e){this._setAndNotifyLayer(\"labelsVisible\",e)}set layer(e){this._set(\"layer\",e),this.sublayers&&this.sublayers.forEach((r=>r.layer=e))}set listMode(e){this._set(\"listMode\",e)}set minScale(e){this._setAndNotifyLayer(\"minScale\",e)}readMinScale(e,r){return r.minScale||r.layerDefinition&&r.layerDefinition.minScale||0}set maxScale(e){this._setAndNotifyLayer(\"maxScale\",e)}readMaxScale(e,r){return r.maxScale||r.layerDefinition&&r.layerDefinition.maxScale||0}get effectiveScaleRange(){const{minScale:e,maxScale:r}=this;return{minScale:e,maxScale:r}}readObjectIdFieldFromService(e,r){if((r=r.layerDefinition||r).objectIdField)return r.objectIdField;if(r.fields)for(const t of r.fields)if(\"esriFieldTypeOID\"===t.type)return t.name}set opacity(e){this._setAndNotifyLayer(\"opacity\",e)}readOpacity(e,r){const t=r.layerDefinition;return 1-.01*((null!=t?.transparency?t.transparency:t?.drawingInfo?.transparency)??0)}writeOpacity(e,r,t,i){r.layerDefinition={drawingInfo:{transparency:100-100*e}}}writeParent(e,r){this.parent&&this.parent!==this.layer?r.parentLayerId=v(this.parent.id):r.parentLayerId=-1}get queryTask(){if(!this.layer)return null;const{spatialReference:e}=this.layer,r=\"gdbVersion\"in this.layer?this.layer.gdbVersion:void 0,{capabilities:t,fieldsIndex:i}=this,o=has(\"featurelayer-pbf\")&&t?.query.supportsFormatPBF,s=t?.operations?.supportsQueryAttachments??!1;return new x({url:this.url,pbfSupported:o,fieldsIndex:i,gdbVersion:r,sourceSpatialReference:e,queryAttachmentsSupported:s})}set renderer(e){if(e)for(const r of e.getSymbols())if(s(r)){u.getLogger(this.declaredClass).warn(\"Sublayer renderer should use 2D symbols\");break}this._setAndNotifyLayer(\"renderer\",e)}get source(){return this._get(\"source\")||new q({mapLayerId:this.id})}set source(e){this._setAndNotifyLayer(\"source\",e)}set sublayers(e){this._handleSublayersChange(e,this._get(\"sublayers\")),this._set(\"sublayers\",e)}castSublayers(e){return j(a.ofType(J),e)}writeSublayers(e,r,t){this.sublayers?.length&&(r[t]=this.sublayers.map((e=>e.id)).toArray().reverse())}readTypeIdField(e,r){let t=(r=r.layerDefinition||r).typeIdField;if(t&&r.fields){t=t.toLowerCase();const e=r.fields.find((e=>e.name.toLowerCase()===t));e&&(t=e.name)}return t}get url(){const e=this.layer?.parsedUrl??this._lastParsedUrl,r=this.source;if(!e)return null;if(this._lastParsedUrl=e,\"map-layer\"===r?.type)return`${e.path}/${r.mapLayerId}`;const t={layer:JSON.stringify({source:this.source})};return`${e.path}/dynamicLayer?${h(t)}`}set url(e){this._overrideIfSome(\"url\",e)}set visible(e){this._setAndNotifyLayer(\"visible\",e)}writeVisible(e,r,t,i){r[t]=this.getAtOrigin(\"defaultVisibility\",\"service\")||e}clone(){const{store:e}=P(this),r=new J;return P(r).store=e.clone(X),this.commitProperty(\"url\"),r._lastParsedUrl=this._lastParsedUrl,r}createPopupTemplate(e){return R(this,e)}createQuery(){return new k({returnGeometry:!0,where:this.definitionExpression||\"1=1\"})}async createFeatureLayer(){if(this.hasOwnProperty(\"sublayers\"))return null;const{layer:e}=this,r=e?.parsedUrl,t=new(0,(await import(\"../FeatureLayer.js\")).default)({url:r?.path});return r&&this.source&&(\"map-layer\"===this.source.type?t.layerId=this.source.mapLayerId:t.dynamicDataSource=this.source),null!=e?.refreshInterval&&(t.refreshInterval=e.refreshInterval),this.definitionExpression&&(t.definitionExpression=this.definitionExpression),this.floorInfo&&(t.floorInfo=y(this.floorInfo)),this.originIdOf(\"labelingInfo\")>E.SERVICE&&(t.labelingInfo=y(this.labelingInfo)),this.originIdOf(\"labelsVisible\")>E.DEFAULTS&&(t.labelsVisible=this.labelsVisible),this.originIdOf(\"legendEnabled\")>E.DEFAULTS&&(t.legendEnabled=this.legendEnabled),this.originIdOf(\"visible\")>E.DEFAULTS&&(t.visible=this.visible),this.originIdOf(\"minScale\")>E.DEFAULTS&&(t.minScale=this.minScale),this.originIdOf(\"maxScale\")>E.DEFAULTS&&(t.maxScale=this.maxScale),this.originIdOf(\"opacity\")>E.DEFAULTS&&(t.opacity=this.opacity),this.originIdOf(\"popupTemplate\")>E.DEFAULTS&&(t.popupTemplate=y(this.popupTemplate)),this.originIdOf(\"renderer\")>E.SERVICE&&(t.renderer=y(this.renderer)),\"data-layer\"===this.source?.type&&(t.dynamicDataSource=this.source.clone()),this.originIdOf(\"title\")>E.DEFAULTS&&(t.title=this.title),\"map-image\"===e?.type&&e.originIdOf(\"customParameters\")>E.DEFAULTS&&(t.customParameters=e.customParameters),\"tile\"===e?.type&&e.originIdOf(\"customParameters\")>E.DEFAULTS&&(t.customParameters=e.customParameters),t}getField(e){return this.fieldsIndex.get(e)}getFeatureType(e){const{typeIdField:r,types:t}=this;if(!r||!e)return null;const i=e.attributes?e.attributes[r]:void 0;if(null==i)return null;let o=null;return t?.some((e=>{const{id:r}=e;return null!=r&&(r.toString()===i.toString()&&(o=e),!!o)})),o}getFieldDomain(e,r){const t=r&&r.feature,i=this.getFeatureType(t);if(i){const r=i.domains&&i.domains[e];if(r&&\"inherited\"!==r.type)return r}return this._getLayerDomain(e)}async queryAttachments(e,r){await this.load(),e=U.from(e);const t=this.capabilities;if(!t?.data?.supportsAttachment)throw new l(\"queryAttachments:not-supported\",\"this layer doesn't support attachments\");const{attachmentTypes:i,objectIds:o,globalIds:s,num:a,size:n,start:p,where:y}=e;if(!t?.operations?.supportsQueryAttachments){if(i?.length>0||s?.length>0||n?.length>0||a||p||y)throw new l(\"queryAttachments:option-not-supported\",\"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported\",e)}if(!(o?.length||s?.length||y))throw new l(\"queryAttachments:invalid-query\",\"'objectIds', 'globalIds', or 'where' are required to perform attachment query\",e);return this.queryTask.executeAttachmentQuery(e,r)}async queryFeatures(e=this.createQuery(),r){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new l(\"queryFeatures:not-supported\",\"this layer doesn't support queries.\");if(!this.url)throw new l(\"queryFeatures:not-supported\",\"this layer has no url.\");const t=await this.queryTask.execute(e,{...r,query:{...this.layer?.customParameters,token:this.layer?.apiKey}});if(t?.features)for(const i of t.features)i.sourceLayer=this;return t}toExportImageJSON(e){const r={id:this.id,source:this.source?.toJSON()||{mapLayerId:this.id,type:\"mapLayer\"}},t=m(e,this.definitionExpression);c(t)&&(r.definitionExpression=t);const i=[\"renderer\",\"labelingInfo\",\"opacity\",\"labelsVisible\"].reduce(((e,r)=>(e[r]=this.originIdOf(r),e)),{}),o=Object.keys(i).some((e=>i[e]>E.SERVICE));if(o){const e=r.drawingInfo={};if(i.renderer>E.SERVICE&&(e.renderer=this.renderer?this.renderer.toJSON():null),i.labelsVisible>E.SERVICE&&(e.showLabels=this.labelsVisible),this.labelsVisible&&i.labelingInfo>E.SERVICE){!this.loaded&&this.labelingInfo.some((e=>!e.labelPlacement))&&u.getLogger(this.declaredClass).warnOnce(`A Sublayer (title: ${this.title}, id: ${this.id}) has an undefined 'labelPlacement' and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type.`,{sublayer:this});let r=this.labelingInfo;c(this.geometryType)&&(r=V(this.labelingInfo,B.toJSON(this.geometryType))),e.labelingInfo=r.filter((e=>e.labelPlacement)).map((e=>e.toJSON({origin:\"service\",layer:this.layer}))),e.showLabels=!0}i.opacity>E.SERVICE&&(e.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(e.renderer)}return r}_assignDefaultSymbolColors(e){this._forEachSimpleMarkerSymbols(e,(e=>{e.color||\"esriSMSX\"!==e.style&&\"esriSMSCross\"!==e.style||(e.outline&&e.outline.color?e.color=e.outline.color:e.color=[0,0,0,0])}))}_forEachSimpleMarkerSymbols(e,r){if(e){const t=(\"uniqueValueInfos\"in e?e.uniqueValueInfos:\"classBreakInfos\"in e?e.classBreakInfos:null)??[];for(const e of t)$(e.symbol)&&r(e.symbol);\"symbol\"in e&&$(e.symbol)&&r(e.symbol),\"defaultSymbol\"in e&&$(e.defaultSymbol)&&r(e.defaultSymbol)}}_setAndNotifyLayer(e,r){const t=this.layer,i=this._get(e);let o,s;switch(e){case\"definitionExpression\":case\"floorInfo\":o=\"supportsSublayerDefinitionExpression\";break;case\"minScale\":case\"maxScale\":case\"visible\":o=\"supportsSublayerVisibility\";break;case\"labelingInfo\":case\"labelsVisible\":case\"opacity\":case\"renderer\":case\"source\":o=\"supportsDynamicLayers\",s=\"supportsModification\"}const a=P(this).getDefaultOrigin();if(\"service\"!==a){if(o&&!1===this.layer?.capabilities?.exportMap?.[o])return void this._logLockedError(e,`capability not available 'layer.capabilities.exportMap.${o}'`);if(s&&!1===this.capabilities?.exportMap[s])return void this._logLockedError(e,`capability not available 'capabilities.exportMap.${s}'`)}\"source\"!==e||\"not-loaded\"===this.loadStatus?(this._set(e,r),\"service\"!==a&&i!==r&&t&&t.emit&&t.emit(\"sublayer-update\",{propertyName:e,target:this})):this._logLockedError(e,\"'source' can't be changed after calling sublayer.load()\")}_handleSublayersChange(e,r){r&&(r.forEach((e=>{e.parent=null,e.layer=null})),this.handles.removeAll()),e&&(e.forEach((e=>{e.parent=this,e.layer=this.layer})),this.handles.add([e.on(\"after-add\",(({item:e})=>{e.parent=this,e.layer=this.layer})),e.on(\"after-remove\",(({item:e})=>{e.parent=null,e.layer=null})),e.on(\"before-changes\",(e=>{const r=this.layer?.capabilities?.exportMap?.supportsSublayersChanges;null==r||r||(u.getLogger(this.declaredClass).error(new l(\"sublayer:sublayers-non-modifiable\",\"Sublayer can't be added, moved, or removed from the layer's sublayers\",{sublayer:this,layer:this.layer})),e.preventDefault())}))]))}_logLockedError(e,r){const{layer:t,declaredClass:i}=this;u.getLogger(i).error(new l(\"sublayer:locked\",`Property '${String(e)}' can't be changed on Sublayer from the layer '${t?.id}'`,{reason:r,sublayer:this,layer:t}))}_getLayerDomain(e){const r=this.fieldsIndex.get(e);return r?r.domain:null}};Y.test={isMapImageLayerOverridePolicy:e=>e===z||e===G,isTileImageLayerOverridePolicy:e=>e===H},e([b({readOnly:!0})],Y.prototype,\"capabilities\",void 0),e([S(\"service\",\"capabilities\",[\"layerDefinition.canModifyLayer\",\"layerDefinition.capabilities\"])],Y.prototype,\"readCapabilities\",null),e([b()],Y.prototype,\"defaultPopupTemplate\",null),e([b({type:String,value:null,json:{name:\"layerDefinition.definitionExpression\",write:{allowNull:!0,overridePolicy:G}}})],Y.prototype,\"definitionExpression\",null),e([b({type:[T],json:{origins:{service:{read:{source:\"layerDefinition.fields\"}}}}})],Y.prototype,\"fields\",void 0),e([b({readOnly:!0})],Y.prototype,\"fieldsIndex\",null),e([b({type:N,value:null,json:{name:\"layerDefinition.floorInfo\",read:{source:\"layerDefinition.floorInfo\"},write:{target:\"layerDefinition.floorInfo\",overridePolicy:G},origins:{\"web-scene\":{read:!1,write:!1}}}})],Y.prototype,\"floorInfo\",null),e([b({type:Q,json:{read:{source:\"layerDefinition.extent\"}}})],Y.prototype,\"fullExtent\",void 0),e([b({type:B.apiValues,json:{origins:{service:{name:\"layerDefinition.geometryType\",read:{reader:B.read}}}}})],Y.prototype,\"geometryType\",void 0),e([b({type:String})],Y.prototype,\"globalIdField\",void 0),e([S(\"service\",\"globalIdField\",[\"layerDefinition.globalIdField\",\"layerDefinition.fields\"])],Y.prototype,\"readGlobalIdFieldFromService\",null),e([b({type:L,json:{write:{ignoreOrigin:!0}}})],Y.prototype,\"id\",null),e([b({value:null,type:[A],json:{read:{source:\"layerDefinition.drawingInfo.labelingInfo\"},write:{target:\"layerDefinition.drawingInfo.labelingInfo\",overridePolicy:z}}})],Y.prototype,\"labelingInfo\",null),e([w(\"labelingInfo\")],Y.prototype,\"writeLabelingInfo\",null),e([b({type:Boolean,value:!0,json:{read:{source:\"layerDefinition.drawingInfo.showLabels\"},write:{target:\"layerDefinition.drawingInfo.showLabels\",overridePolicy:z}}})],Y.prototype,\"labelsVisible\",null),e([b({value:null})],Y.prototype,\"layer\",null),e([b({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:\"showLegend\"},write:{target:\"showLegend\",overridePolicy:K}}})],Y.prototype,\"legendEnabled\",void 0),e([b({type:[\"show\",\"hide\",\"hide-children\"],value:\"show\",json:{read:!1,write:!1,origins:{\"web-scene\":{read:!0,write:!0}}}})],Y.prototype,\"listMode\",null),e([b({type:Number,value:0,json:{write:{overridePolicy:z}}})],Y.prototype,\"minScale\",null),e([S(\"minScale\",[\"minScale\",\"layerDefinition.minScale\"])],Y.prototype,\"readMinScale\",null),e([b({type:Number,value:0,json:{write:{overridePolicy:z}}})],Y.prototype,\"maxScale\",null),e([S(\"maxScale\",[\"maxScale\",\"layerDefinition.maxScale\"])],Y.prototype,\"readMaxScale\",null),e([b({readOnly:!0})],Y.prototype,\"effectiveScaleRange\",null),e([b({type:String})],Y.prototype,\"objectIdField\",void 0),e([S(\"service\",\"objectIdField\",[\"layerDefinition.objectIdField\",\"layerDefinition.fields\"])],Y.prototype,\"readObjectIdFieldFromService\",null),e([b({type:Number,value:1,json:{write:{target:\"layerDefinition.drawingInfo.transparency\",overridePolicy:z}}})],Y.prototype,\"opacity\",null),e([S(\"opacity\",[\"layerDefinition.drawingInfo.transparency\",\"layerDefinition.transparency\"])],Y.prototype,\"readOpacity\",null),e([w(\"opacity\")],Y.prototype,\"writeOpacity\",null),e([b({json:{type:L,write:{target:\"parentLayerId\",writerEnsuresNonNull:!0,overridePolicy:z}}})],Y.prototype,\"parent\",void 0),e([w(\"parent\")],Y.prototype,\"writeParent\",null),e([b({type:Boolean,value:!0,json:{read:{source:\"disablePopup\",reader:(e,r)=>!r.disablePopup},write:{target:\"disablePopup\",overridePolicy:K,writer(e,r,t){r[t]=!e}}}})],Y.prototype,\"popupEnabled\",void 0),e([b({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\",overridePolicy:K}}})],Y.prototype,\"popupTemplate\",void 0),e([b({readOnly:!0})],Y.prototype,\"queryTask\",null),e([b({types:t,value:null,json:{name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:z},origins:{\"web-scene\":{types:i,name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:z}}}}})],Y.prototype,\"renderer\",null),e([b({types:{key:\"type\",base:null,typeMap:{\"data-layer\":C,\"map-layer\":q}},cast(e){if(e){if(\"mapLayerId\"in e)return D(q,e);if(\"dataSource\"in e)return D(C,e)}return e},json:{name:\"layerDefinition.source\",write:{overridePolicy:z}}})],Y.prototype,\"source\",null),e([b()],Y.prototype,\"sourceJSON\",void 0),e([b({value:null,json:{type:[L],write:{target:\"subLayerIds\",allowNull:!0,overridePolicy:z}}})],Y.prototype,\"sublayers\",null),e([g(\"sublayers\")],Y.prototype,\"castSublayers\",null),e([w(\"sublayers\")],Y.prototype,\"writeSublayers\",null),e([b({type:String,json:{name:\"name\",write:{overridePolicy:K}}})],Y.prototype,\"title\",void 0),e([b({type:String})],Y.prototype,\"typeIdField\",void 0),e([S(\"typeIdField\",[\"layerDefinition.typeIdField\"])],Y.prototype,\"readTypeIdField\",null),e([b({type:[O],json:{origins:{service:{read:{source:\"layerDefinition.types\"}}}}})],Y.prototype,\"types\",void 0),e([b({type:String,json:{read:{source:\"layerUrl\"},write:{target:\"layerUrl\",overridePolicy:H}}})],Y.prototype,\"url\",null),e([b({type:Boolean,value:!0,json:{read:{source:\"defaultVisibility\"},write:{target:\"defaultVisibility\",overridePolicy:z}}})],Y.prototype,\"visible\",null),e([w(\"visible\")],Y.prototype,\"writeVisible\",null),Y=J=e([I(\"esri.layers.support.Sublayer\")],Y);const Z=Y;export{Z as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}