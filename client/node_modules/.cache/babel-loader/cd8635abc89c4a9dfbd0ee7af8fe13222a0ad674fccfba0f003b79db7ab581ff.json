{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from \"../../Graphic.js\";\nimport { isSome as e } from \"../../core/maybe.js\";\nimport r from \"../../geometry/Extent.js\";\nimport n from \"../../geometry/Mesh.js\";\nimport o from \"../../geometry/Point.js\";\nimport s from \"../../geometry/SpatialReference.js\";\nimport { fromAxisAndAngle as a } from \"../../geometry/support/axisAngleDegrees.js\";\nimport i from \"../../geometry/support/MeshTransform.js\";\nimport c from \"./FeatureSet.js\";\nfunction u(r, n, o) {\n  var _i$spatialReference;\n  var a = o.features;\n  o.features = [], delete o.geometryType;\n  var i = c.fromJSON(o);\n  if (i.geometryType = \"mesh\", !o.assetMaps) return i;\n  var u = E(n, o.assetMaps),\n    m = (_i$spatialReference = i.spatialReference) !== null && _i$spatialReference !== void 0 ? _i$spatialReference : s.WGS84,\n    p = o.globalIdFieldName,\n    g = r.outFields,\n    D = e(g) && g.length > 0 ? l(g.includes(\"*\") ? null : new Set(g)) : function () {\n      return {};\n    };\n  var _iterator = _createForOfIteratorHelper(a),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _s = _step.value;\n      var _r = f(_s, p, m, n, u);\n      e(_r) && i.features.push(new t({\n        geometry: _r,\n        attributes: D(_s)\n      }));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return i;\n}\nfunction l(t) {\n  return function (_ref) {\n    var e = _ref.attributes;\n    if (!e) return {};\n    if (!t) return e;\n    for (var _r2 in e) t.has(_r2) || delete e[_r2];\n    return e;\n  };\n}\nfunction f(t, e, o, s, a) {\n  var i = t.attributes[e],\n    c = a.get(i);\n  if (null == c || c.status === g.FAILED || null == c.url) return null;\n  var u = m(t, o, s),\n    l = r.fromJSON(t.geometry);\n  l.spatialReference = o;\n  var f = p(t.attributes, s, c.projectVertices);\n  return c.status === g.PENDING ? n.createIncomplete(u, {\n    extent: l,\n    transform: f\n  }) : n.createWithExternalSource(u, [{\n    name: c.name,\n    source: c.url\n  }], {\n    extent: l,\n    transform: f\n  });\n}\nfunction m(_ref2, e, _ref3) {\n  var t = _ref2.attributes;\n  var r = _ref3.transformFieldRoles;\n  return new o({\n    x: t[r.originX],\n    y: t[r.originY],\n    z: t[r.originZ],\n    spatialReference: e\n  });\n}\nfunction p(t, _ref4, r) {\n  var e = _ref4.transformFieldRoles;\n  return new i({\n    translation: [t[e.translationX], -t[e.translationZ], t[e.translationY]],\n    rotation: a([t[e.rotationX], t[e.rotationZ], t[e.rotationY]], t[e.rotationDeg]),\n    scale: [t[e.scaleX], t[e.scaleY], t[e.scaleZ]],\n    geographic: r\n  });\n}\nvar g;\nfunction E(t, e) {\n  var r = new Map();\n  var _iterator2 = _createForOfIteratorHelper(e),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _n = _step2.value;\n      var _t = _n.parentGlobalId;\n      if (null == _t) continue;\n      var _e = _n.assetName,\n        _o = _n.assetURL,\n        _s2 = _n.conversionStatus;\n      var _a = r.get(_t);\n      if (null == _a) switch (_a = {\n        name: _e,\n        status: g.FAILED,\n        url: _o,\n        projectVertices: D(_n.flags).projectVertices\n      }, r.set(_t, _a), _s2) {\n        case \"COMPLETED\":\n        case \"SUBMITTED\":\n          _a.status = g.COMPLETED;\n          break;\n        case \"INPROGRESS\":\n          _a.status = g.PENDING;\n          break;\n        default:\n          _a.status = g.FAILED;\n      } else console.warn(\"Multiple asset parts not expected. Ignoring additional parts. conflicting assetname: \".concat(_n.assetName));\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  return r;\n}\nfunction D(t) {\n  return {\n    projectVertices: t.includes(\"PROJECT_VERTICES\")\n  };\n}\n!function (t) {\n  t[t.FAILED = 0] = \"FAILED\", t[t.PENDING = 1] = \"PENDING\", t[t.COMPLETED = 2] = \"COMPLETED\";\n}(g || (g = {}));\nexport { u as meshFeatureSetFromJSON };","map":{"version":3,"names":["t","isSome","e","r","n","o","s","fromAxisAndAngle","a","i","c","u","_i$spatialReference","features","geometryType","fromJSON","assetMaps","E","m","spatialReference","WGS84","p","globalIdFieldName","g","outFields","D","length","l","includes","Set","_iterator","_createForOfIteratorHelper","_step","done","value","f","push","geometry","attributes","err","_ref","has","get","status","FAILED","url","projectVertices","PENDING","createIncomplete","extent","transform","createWithExternalSource","name","source","_ref2","_ref3","transformFieldRoles","x","originX","y","originY","z","originZ","_ref4","translation","translationX","translationZ","translationY","rotation","rotationX","rotationZ","rotationY","rotationDeg","scale","scaleX","scaleY","scaleZ","geographic","Map","_iterator2","_step2","parentGlobalId","assetName","assetURL","conversionStatus","flags","set","COMPLETED","console","warn","concat","meshFeatureSetFromJSON"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/rest/support/meshFeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../Graphic.js\";import{isSome as e}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import n from\"../../geometry/Mesh.js\";import o from\"../../geometry/Point.js\";import s from\"../../geometry/SpatialReference.js\";import{fromAxisAndAngle as a}from\"../../geometry/support/axisAngleDegrees.js\";import i from\"../../geometry/support/MeshTransform.js\";import c from\"./FeatureSet.js\";function u(r,n,o){const a=o.features;o.features=[],delete o.geometryType;const i=c.fromJSON(o);if(i.geometryType=\"mesh\",!o.assetMaps)return i;const u=E(n,o.assetMaps),m=i.spatialReference??s.WGS84,p=o.globalIdFieldName,{outFields:g}=r,D=e(g)&&g.length>0?l(g.includes(\"*\")?null:new Set(g)):()=>({});for(const s of a){const r=f(s,p,m,n,u);e(r)&&i.features.push(new t({geometry:r,attributes:D(s)}))}return i}function l(t){return({attributes:e})=>{if(!e)return{};if(!t)return e;for(const r in e)t.has(r)||delete e[r];return e}}function f(t,e,o,s,a){const i=t.attributes[e],c=a.get(i);if(null==c||c.status===g.FAILED||null==c.url)return null;const u=m(t,o,s),l=r.fromJSON(t.geometry);l.spatialReference=o;const f=p(t.attributes,s,c.projectVertices);return c.status===g.PENDING?n.createIncomplete(u,{extent:l,transform:f}):n.createWithExternalSource(u,[{name:c.name,source:c.url}],{extent:l,transform:f})}function m({attributes:t},e,{transformFieldRoles:r}){return new o({x:t[r.originX],y:t[r.originY],z:t[r.originZ],spatialReference:e})}function p(t,{transformFieldRoles:e},r){return new i({translation:[t[e.translationX],-t[e.translationZ],t[e.translationY]],rotation:a([t[e.rotationX],t[e.rotationZ],t[e.rotationY]],t[e.rotationDeg]),scale:[t[e.scaleX],t[e.scaleY],t[e.scaleZ]],geographic:r})}var g;function E(t,e){const r=new Map;for(const n of e){const t=n.parentGlobalId;if(null==t)continue;const e=n.assetName,o=n.assetURL,s=n.conversionStatus;let a=r.get(t);if(null==a)switch(a={name:e,status:g.FAILED,url:o,projectVertices:D(n.flags).projectVertices},r.set(t,a),s){case\"COMPLETED\":case\"SUBMITTED\":a.status=g.COMPLETED;break;case\"INPROGRESS\":a.status=g.PENDING;break;default:a.status=g.FAILED}else console.warn(`Multiple asset parts not expected. Ignoring additional parts. conflicting assetname: ${n.assetName}`)}return r}function D(t){return{projectVertices:t.includes(\"PROJECT_VERTICES\")}}!function(t){t[t.FAILED=0]=\"FAILED\",t[t.PENDING=1]=\"PENDING\",t[t.COMPLETED=2]=\"COMPLETED\"}(g||(g={}));export{u as meshFeatureSetFromJSON};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}