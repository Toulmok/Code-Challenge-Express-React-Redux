{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { makeHandle as t, handlesGroup as r, destroyHandle as i } from \"../../../core/handleUtils.js\";\nimport { isNone as s, isSome as n } from \"../../../core/maybe.js\";\nimport { debounce as a, isPromiseLike as o } from \"../../../core/promiseUtils.js\";\nimport { on as d } from \"../../../core/reactiveUtils.js\";\nimport { property as l } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as m } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { toExtent as p } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { MediaElementView as h } from \"../../../layers/support/MediaElementView.js\";\nimport { DrapeSourceType as c } from \"./interfaces.js\";\nimport { LayerView3D as u } from \"./LayerView3D.js\";\nimport { DRAPED_Z as y } from \"../terrain/OverlayRenderer.js\";\nimport { Attribute as _ } from \"../webgl-engine/lib/Attribute.js\";\nimport { PowerOfTwoResizeMode as g } from \"../webgl-engine/lib/basicInterfaces.js\";\nimport { Geometry as f } from \"../webgl-engine/lib/Geometry.js\";\nimport { DirtyOperation as E, DirtyState as w } from \"../webgl-engine/lib/ModelDirtyTypes.js\";\nimport { RenderGeometry as D } from \"../webgl-engine/lib/RenderGeometry.js\";\nimport { Texture as v } from \"../webgl-engine/lib/Texture.js\";\nimport { UpdatePolicy as R } from \"../webgl-engine/lib/UpdatePolicy.js\";\nimport { VertexAttribute as b } from \"../webgl-engine/lib/VertexAttribute.js\";\nimport { ImageMaterial as T } from \"../webgl-engine/materials/ImageMaterial.js\";\nimport j from \"../../layers/LayerView.js\";\nimport { TextureWrapMode as x } from \"../../webgl/enums.js\";\nlet M = class extends u(j) {\n  constructor() {\n    super(...arguments), this.type = \"media-3d\", this.drapeSourceType = c.RasterImage, this.updatePolicy = R.ASYNC, this._uidToElement = new Map(), this._renderedElements = new Map(), this._lastDrapingExtent = null, this._update = a(async (e, t, r) => {\n      const i = await this._collectMediaElements(e, t, r);\n      this._synchronizeRenderElements(i);\n    }, 0);\n  }\n  initialize() {\n    this._renderer = this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this);\n    const e = () => this._updateWithLastDrapingExtent();\n    this.handles.add([t(() => this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)), d(() => this.layer.effectiveSource, \"change\", e), d(() => this.layer.effectiveSource, \"refresh\", e)]), this.updatingHandles.add(() => this.suspended, e);\n  }\n  setDrapingExtent(e, t) {\n    this._lastDrapingExtent = {\n      overlays: e,\n      spatialReference: t\n    }, this._updateWithLastDrapingExtent();\n  }\n  getHit(e) {\n    const t = this._uidToElement.get(e);\n    return t ? {\n      type: \"media\",\n      element: t,\n      layer: this.layer\n    } : null;\n  }\n  _updateWithLastDrapingExtent() {\n    if (s(this._lastDrapingExtent) || this.suspended) return void (this._renderer && this._synchronizeRenderElements(new Set()));\n    const {\n      overlays: e,\n      spatialReference: t\n    } = this._lastDrapingExtent;\n    this.updatingHandles.addPromise(this._update(e, t).catch(() => {}));\n  }\n  async _collectMediaElements(e, t, r) {\n    const i = this.layer.effectiveSource;\n    return s(i) ? new Set() : new Set((await Promise.all(e.map(e => i.queryElements(p(e.extent, t), {\n      signal: r\n    })))).flat());\n  }\n  _synchronizeRenderElements(e) {\n    this._synchronizeRenderElementsRemove(e), this._synchronizeRenderElementsAdd(e);\n  }\n  _synchronizeRenderElementsRemove(e) {\n    const t = new Set(),\n      r = [];\n    this._renderedElements.forEach((i, s) => {\n      e.has(s) || (t.add(s), n(i.renderData) && r.push(i.renderData.renderGeometry), this._removeElement(s, i));\n    }), this._renderer.removeGeometries(r, E.REMOVE);\n  }\n  _synchronizeRenderElementsAdd(e) {\n    for (const t of e) this._renderedElements.has(t) || this._createRenderElement(t);\n  }\n  _removeElement(e, _ref) {\n    let {\n      renderData: t,\n      handle: r\n    } = _ref;\n    this._destroyRenderData(t), this._renderedElements.delete(e), this._uidToElement.delete(e.uid), r.remove();\n  }\n  async _createRenderElement(e) {\n    const t = new h({\n        spatialReference: this.view.spatialReference,\n        element: e\n      }),\n      s = {\n        renderData: null,\n        handle: r([this.updatingHandles.add(() => e.opacity, e => {\n          n(s.renderData) && s.renderData.material.setParameters({\n            opacity: e\n          });\n        }), this.updatingHandles.add(() => t.coords, e => {\n          n(s.renderData) ? this._updateGeometry(s, s.renderData, e) : this._initializeRenderData(t, s);\n        }), this.updatingHandles.add(() => e.content, () => this._initializeRenderData(t, s)), i(t)])\n      };\n    this._renderedElements.set(e, s), this._uidToElement.set(e.uid, e), this.updatingHandles.addPromise(e.load().catch(() => {})), this._initializeRenderData(t, s);\n  }\n  _initializeRenderData(e, t) {\n    const {\n      coords: r,\n      element: i\n    } = e;\n    if (s(r) || s(i.content)) return void (t.renderData = this._destroyRenderData(t.renderData));\n    if (n(t.renderData)) return;\n    const a = this._createTexture(i.content);\n    this.view._stage.add(a);\n    const d = this.view._stage.loadImmediate(a);\n    o(d) && this.updatingHandles.addPromise(d);\n    const l = new T({\n        initTextureTransparent: !0,\n        textureId: a.id,\n        opacity: i.opacity,\n        transparent: !0\n      }),\n      m = this._positionVertexBufferFromCoordinates(r),\n      p = [0, 0, 1, 0, 1, 1, 0, 1],\n      h = [0, 1, 2, 0, 2, 3],\n      c = new f(l, [[b.POSITION, new _(m, 3, !0)], [b.UV0, new _(p, 2, !0)]], [[b.POSITION, h], [b.UV0, h]]),\n      u = new D(c, {\n        layerUid: this.layer.uid,\n        graphicUid: i.uid\n      });\n    this._renderer.addGeometries([u], E.ADD), t.renderData = {\n      renderGeometry: u,\n      texture: a,\n      material: l\n    };\n  }\n  _updateGeometry(e, t, r) {\n    if (s(r)) return void (e.renderData = this._destroyRenderData(e.renderData));\n    const i = this._positionVertexBufferFromCoordinates(r);\n    t.renderGeometry.vertexAttributes.get(b.POSITION).data = i, this._renderer.modifyGeometries([t.renderGeometry], w.GEOMETRY);\n  }\n  _positionVertexBufferFromCoordinates(e) {\n    const [t, r, i, s] = e.rings[0];\n    return [t[0], t[1], y, s[0], s[1], y, i[0], i[1], y, r[0], r[1], y];\n  }\n  _destroyRenderData(e) {\n    return s(e) || (this.view._stage.remove(e.texture), this._renderer.removeGeometries([e.renderGeometry], E.REMOVE), e.material.dispose()), null;\n  }\n  _createTexture(e) {\n    const t = e instanceof HTMLImageElement ? e.naturalWidth : e.width,\n      r = e instanceof HTMLImageElement ? e.naturalHeight : e.height;\n    return new v(e, {\n      wrap: {\n        s: x.CLAMP_TO_EDGE,\n        t: x.CLAMP_TO_EDGE\n      },\n      preMultiplyAlpha: !0,\n      width: t,\n      height: r,\n      mipmap: !0,\n      powerOfTwoResizeMode: g.STRETCH,\n      updateCallback: () => this.view.basemapTerrain.overlayManager.setDrawTexturesDirty()\n    });\n  }\n  get test() {\n    const e = this;\n    return {\n      get numberOfElements() {\n        return e._renderedElements.size;\n      }\n    };\n  }\n};\ne([l({\n  readOnly: !0\n})], M.prototype, \"type\", void 0), e([l()], M.prototype, \"layer\", void 0), M = e([m(\"esri.views.3d.layers.MediaLayerView3D\")], M);\nconst S = M;\nexport { S as default };","map":{"version":3,"names":["_","e","makeHandle","t","handlesGroup","r","destroyHandle","i","isNone","s","isSome","n","debounce","a","isPromiseLike","o","on","d","property","l","subclass","m","toExtent","p","MediaElementView","h","DrapeSourceType","c","LayerView3D","u","DRAPED_Z","y","Attribute","PowerOfTwoResizeMode","g","Geometry","f","DirtyOperation","E","DirtyState","w","RenderGeometry","D","Texture","v","UpdatePolicy","R","VertexAttribute","b","ImageMaterial","T","j","TextureWrapMode","x","M","constructor","arguments","type","drapeSourceType","RasterImage","updatePolicy","ASYNC","_uidToElement","Map","_renderedElements","_lastDrapingExtent","_update","_collectMediaElements","_synchronizeRenderElements","initialize","_renderer","view","basemapTerrain","overlayManager","registerGeometryDrapeSource","_updateWithLastDrapingExtent","handles","add","unregisterDrapeSource","layer","effectiveSource","updatingHandles","suspended","setDrapingExtent","overlays","spatialReference","getHit","get","element","Set","addPromise","catch","Promise","all","map","queryElements","extent","signal","flat","_synchronizeRenderElementsRemove","_synchronizeRenderElementsAdd","forEach","has","renderData","push","renderGeometry","_removeElement","removeGeometries","REMOVE","_createRenderElement","_ref","handle","_destroyRenderData","delete","uid","remove","opacity","material","setParameters","coords","_updateGeometry","_initializeRenderData","content","set","load","_createTexture","_stage","loadImmediate","initTextureTransparent","textureId","id","transparent","_positionVertexBufferFromCoordinates","POSITION","UV0","layerUid","graphicUid","addGeometries","ADD","texture","vertexAttributes","data","modifyGeometries","GEOMETRY","rings","dispose","HTMLImageElement","naturalWidth","width","naturalHeight","height","wrap","CLAMP_TO_EDGE","preMultiplyAlpha","mipmap","powerOfTwoResizeMode","STRETCH","updateCallback","setDrawTexturesDirty","test","numberOfElements","size","readOnly","prototype","S","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/MediaLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t,handlesGroup as r,destroyHandle as i}from\"../../../core/handleUtils.js\";import{isNone as s,isSome as n}from\"../../../core/maybe.js\";import{debounce as a,isPromiseLike as o}from\"../../../core/promiseUtils.js\";import{on as d}from\"../../../core/reactiveUtils.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import{toExtent as p}from\"../../../geometry/support/aaBoundingRect.js\";import{MediaElementView as h}from\"../../../layers/support/MediaElementView.js\";import{DrapeSourceType as c}from\"./interfaces.js\";import{LayerView3D as u}from\"./LayerView3D.js\";import{DRAPED_Z as y}from\"../terrain/OverlayRenderer.js\";import{Attribute as _}from\"../webgl-engine/lib/Attribute.js\";import{PowerOfTwoResizeMode as g}from\"../webgl-engine/lib/basicInterfaces.js\";import{Geometry as f}from\"../webgl-engine/lib/Geometry.js\";import{DirtyOperation as E,DirtyState as w}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as D}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as v}from\"../webgl-engine/lib/Texture.js\";import{UpdatePolicy as R}from\"../webgl-engine/lib/UpdatePolicy.js\";import{VertexAttribute as b}from\"../webgl-engine/lib/VertexAttribute.js\";import{ImageMaterial as T}from\"../webgl-engine/materials/ImageMaterial.js\";import j from\"../../layers/LayerView.js\";import{TextureWrapMode as x}from\"../../webgl/enums.js\";let M=class extends(u(j)){constructor(){super(...arguments),this.type=\"media-3d\",this.drapeSourceType=c.RasterImage,this.updatePolicy=R.ASYNC,this._uidToElement=new Map,this._renderedElements=new Map,this._lastDrapingExtent=null,this._update=a((async(e,t,r)=>{const i=await this._collectMediaElements(e,t,r);this._synchronizeRenderElements(i)}),0)}initialize(){this._renderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this);const e=()=>this._updateWithLastDrapingExtent();this.handles.add([t((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this))),d((()=>this.layer.effectiveSource),\"change\",e),d((()=>this.layer.effectiveSource),\"refresh\",e)]),this.updatingHandles.add((()=>this.suspended),e)}setDrapingExtent(e,t){this._lastDrapingExtent={overlays:e,spatialReference:t},this._updateWithLastDrapingExtent()}getHit(e){const t=this._uidToElement.get(e);return t?{type:\"media\",element:t,layer:this.layer}:null}_updateWithLastDrapingExtent(){if(s(this._lastDrapingExtent)||this.suspended)return void(this._renderer&&this._synchronizeRenderElements(new Set));const{overlays:e,spatialReference:t}=this._lastDrapingExtent;this.updatingHandles.addPromise(this._update(e,t).catch((()=>{})))}async _collectMediaElements(e,t,r){const i=this.layer.effectiveSource;return s(i)?new Set:new Set((await Promise.all(e.map((e=>i.queryElements(p(e.extent,t),{signal:r}))))).flat())}_synchronizeRenderElements(e){this._synchronizeRenderElementsRemove(e),this._synchronizeRenderElementsAdd(e)}_synchronizeRenderElementsRemove(e){const t=new Set,r=[];this._renderedElements.forEach(((i,s)=>{e.has(s)||(t.add(s),n(i.renderData)&&r.push(i.renderData.renderGeometry),this._removeElement(s,i))})),this._renderer.removeGeometries(r,E.REMOVE)}_synchronizeRenderElementsAdd(e){for(const t of e)this._renderedElements.has(t)||this._createRenderElement(t)}_removeElement(e,{renderData:t,handle:r}){this._destroyRenderData(t),this._renderedElements.delete(e),this._uidToElement.delete(e.uid),r.remove()}async _createRenderElement(e){const t=new h({spatialReference:this.view.spatialReference,element:e}),s={renderData:null,handle:r([this.updatingHandles.add((()=>e.opacity),(e=>{n(s.renderData)&&s.renderData.material.setParameters({opacity:e})})),this.updatingHandles.add((()=>t.coords),(e=>{n(s.renderData)?this._updateGeometry(s,s.renderData,e):this._initializeRenderData(t,s)})),this.updatingHandles.add((()=>e.content),(()=>this._initializeRenderData(t,s))),i(t)])};this._renderedElements.set(e,s),this._uidToElement.set(e.uid,e),this.updatingHandles.addPromise(e.load().catch((()=>{}))),this._initializeRenderData(t,s)}_initializeRenderData(e,t){const{coords:r,element:i}=e;if(s(r)||s(i.content))return void(t.renderData=this._destroyRenderData(t.renderData));if(n(t.renderData))return;const a=this._createTexture(i.content);this.view._stage.add(a);const d=this.view._stage.loadImmediate(a);o(d)&&this.updatingHandles.addPromise(d);const l=new T({initTextureTransparent:!0,textureId:a.id,opacity:i.opacity,transparent:!0}),m=this._positionVertexBufferFromCoordinates(r),p=[0,0,1,0,1,1,0,1],h=[0,1,2,0,2,3],c=new f(l,[[b.POSITION,new _(m,3,!0)],[b.UV0,new _(p,2,!0)]],[[b.POSITION,h],[b.UV0,h]]),u=new D(c,{layerUid:this.layer.uid,graphicUid:i.uid});this._renderer.addGeometries([u],E.ADD),t.renderData={renderGeometry:u,texture:a,material:l}}_updateGeometry(e,t,r){if(s(r))return void(e.renderData=this._destroyRenderData(e.renderData));const i=this._positionVertexBufferFromCoordinates(r);t.renderGeometry.vertexAttributes.get(b.POSITION).data=i,this._renderer.modifyGeometries([t.renderGeometry],w.GEOMETRY)}_positionVertexBufferFromCoordinates(e){const[t,r,i,s]=e.rings[0];return[t[0],t[1],y,s[0],s[1],y,i[0],i[1],y,r[0],r[1],y]}_destroyRenderData(e){return s(e)||(this.view._stage.remove(e.texture),this._renderer.removeGeometries([e.renderGeometry],E.REMOVE),e.material.dispose()),null}_createTexture(e){const t=e instanceof HTMLImageElement?e.naturalWidth:e.width,r=e instanceof HTMLImageElement?e.naturalHeight:e.height;return new v(e,{wrap:{s:x.CLAMP_TO_EDGE,t:x.CLAMP_TO_EDGE},preMultiplyAlpha:!0,width:t,height:r,mipmap:!0,powerOfTwoResizeMode:g.STRETCH,updateCallback:()=>this.view.basemapTerrain.overlayManager.setDrawTexturesDirty()})}get test(){const e=this;return{get numberOfElements(){return e._renderedElements.size}}}};e([l({readOnly:!0})],M.prototype,\"type\",void 0),e([l()],M.prototype,\"layer\",void 0),M=e([m(\"esri.views.3d.layers.MediaLayerView3D\")],M);const S=M;export{S as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}