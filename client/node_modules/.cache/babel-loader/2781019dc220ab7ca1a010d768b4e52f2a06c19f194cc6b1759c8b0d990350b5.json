{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport r from \"../core/Accessor.js\";\nimport e from \"../core/Error.js\";\nimport o from \"../core/Logger.js\";\nimport { isSome as s, isNone as a, get as p } from \"../core/maybe.js\";\nimport { isAbsolute as l, makeRelative as i } from \"../core/urlUtils.js\";\nimport { property as c } from \"../core/accessorSupport/decorators/property.js\";\nimport { cast as m } from \"../core/accessorSupport/decorators/cast.js\";\nimport \"../core/arrayUtils.js\";\nimport { subclass as u } from \"../core/accessorSupport/decorators/subclass.js\";\nlet h = class extends r {\n  constructor(t) {\n    super(t), this.portalItem = null;\n  }\n  normalizeCtorArgs(t) {\n    return t && t.portalItem && t.path ? {\n      ...t,\n      path: this._normalizePath(t.path, t.portalItem)\n    } : t;\n  }\n  set path(t) {\n    s(t) && l(t) ? o.getLogger(this.declaredClass).error(\"portalitemresource:invalid-path\", \"A portal item resource path must be relative\") : this._set(\"path\", t);\n  }\n  _castPath(t) {\n    return this._normalizePath(t, this.portalItem);\n  }\n  get url() {\n    return this.portalItem && this.path ? `${this.portalItem.itemUrl}/resources/${this.path}` : null;\n  }\n  get itemRelativeUrl() {\n    return this.portalItem && this.path ? `./resources/${this.path}` : null;\n  }\n  fetch() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"json\";\n    let r = arguments.length > 1 ? arguments[1] : undefined;\n    const o = this.url;\n    if (a(o)) throw new e(\"portal-item-resource:fetch\", \"Portal item resource does not refer to a valid item or path\");\n    return this.portalItem.portal.request(o, {\n      responseType: t,\n      query: {\n        token: this.portalItem.apiKey\n      },\n      signal: p(r, \"signal\")\n    });\n  }\n  async update(t, r) {\n    return (await import(\"./support/resourceUtils.js\")).addOrUpdateResource(this, \"update\", t, r);\n  }\n  hasPath() {\n    return s(this.path);\n  }\n  _normalizePath(t, r) {\n    return a(t) ? t : (t = t.replace(/^\\/+/, \"\"), s(r) && l(t) && (t = i(t, r.itemUrl)), t?.replace(/^\\/+/, \"\").replace(/^(\\.\\/)?resources\\//, \"\"));\n  }\n};\nt([c()], h.prototype, \"portalItem\", void 0), t([c({\n  type: String,\n  value: null\n})], h.prototype, \"path\", null), t([m(\"path\")], h.prototype, \"_castPath\", null), t([c({\n  type: String,\n  readOnly: !0\n})], h.prototype, \"url\", null), t([c({\n  type: String,\n  readOnly: !0\n})], h.prototype, \"itemRelativeUrl\", null), h = t([u(\"esri.portal.PortalItemResource\")], h);\nconst n = h;\nexport { n as default };","map":{"version":3,"names":["_","t","r","e","o","isSome","s","isNone","a","get","p","isAbsolute","l","makeRelative","i","property","c","cast","m","subclass","u","h","constructor","portalItem","normalizeCtorArgs","path","_normalizePath","getLogger","declaredClass","error","_set","_castPath","url","itemUrl","itemRelativeUrl","fetch","arguments","length","undefined","portal","request","responseType","query","token","apiKey","signal","update","addOrUpdateResource","hasPath","replace","prototype","type","String","value","readOnly","n","default"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/portal/PortalItemResource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import r from\"../core/Accessor.js\";import e from\"../core/Error.js\";import o from\"../core/Logger.js\";import{isSome as s,isNone as a,get as p}from\"../core/maybe.js\";import{isAbsolute as l,makeRelative as i}from\"../core/urlUtils.js\";import{property as c}from\"../core/accessorSupport/decorators/property.js\";import{cast as m}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/arrayUtils.js\";import{subclass as u}from\"../core/accessorSupport/decorators/subclass.js\";let h=class extends r{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t&&t.portalItem&&t.path?{...t,path:this._normalizePath(t.path,t.portalItem)}:t}set path(t){s(t)&&l(t)?o.getLogger(this.declaredClass).error(\"portalitemresource:invalid-path\",\"A portal item resource path must be relative\"):this._set(\"path\",t)}_castPath(t){return this._normalizePath(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t=\"json\",r){const o=this.url;if(a(o))throw new e(\"portal-item-resource:fetch\",\"Portal item resource does not refer to a valid item or path\");return this.portalItem.portal.request(o,{responseType:t,query:{token:this.portalItem.apiKey},signal:p(r,\"signal\")})}async update(t,r){return(await import(\"./support/resourceUtils.js\")).addOrUpdateResource(this,\"update\",t,r)}hasPath(){return s(this.path)}_normalizePath(t,r){return a(t)?t:(t=t.replace(/^\\/+/,\"\"),s(r)&&l(t)&&(t=i(t,r.itemUrl)),t?.replace(/^\\/+/,\"\").replace(/^(\\.\\/)?resources\\//,\"\"))}};t([c()],h.prototype,\"portalItem\",void 0),t([c({type:String,value:null})],h.prototype,\"path\",null),t([m(\"path\")],h.prototype,\"_castPath\",null),t([c({type:String,readOnly:!0})],h.prototype,\"url\",null),t([c({type:String,readOnly:!0})],h.prototype,\"itemRelativeUrl\",null),h=t([u(\"esri.portal.PortalItemResource\")],h);const n=h;export{n as default};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,QAAK,wBAAwB;AAAC,OAAOC,CAAC,MAAK,qBAAqB;AAAC,OAAOC,CAAC,MAAK,kBAAkB;AAAC,OAAOC,CAAC,MAAK,mBAAmB;AAAC,SAAOC,MAAM,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,EAACC,GAAG,IAAIC,CAAC,QAAK,kBAAkB;AAAC,SAAOC,UAAU,IAAIC,CAAC,EAACC,YAAY,IAAIC,CAAC,QAAK,qBAAqB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,gDAAgD;AAAC,SAAOC,IAAI,IAAIC,CAAC,QAAK,4CAA4C;AAAC,OAAM,uBAAuB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,gDAAgD;AAAC,IAAIC,CAAC,GAAC,cAAcnB,CAAC;EAACoB,WAAWA,CAACrB,CAAC,EAAC;IAAC,KAAK,CAACA,CAAC,CAAC,EAAC,IAAI,CAACsB,UAAU,GAAC,IAAI;EAAA;EAACC,iBAAiBA,CAACvB,CAAC,EAAC;IAAC,OAAOA,CAAC,IAAEA,CAAC,CAACsB,UAAU,IAAEtB,CAAC,CAACwB,IAAI,GAAC;MAAC,GAAGxB,CAAC;MAACwB,IAAI,EAAC,IAAI,CAACC,cAAc,CAACzB,CAAC,CAACwB,IAAI,EAACxB,CAAC,CAACsB,UAAU;IAAC,CAAC,GAACtB,CAAC;EAAA;EAAC,IAAIwB,IAAIA,CAACxB,CAAC,EAAC;IAACK,CAAC,CAACL,CAAC,CAAC,IAAEW,CAAC,CAACX,CAAC,CAAC,GAACG,CAAC,CAACuB,SAAS,CAAC,IAAI,CAACC,aAAa,CAAC,CAACC,KAAK,CAAC,iCAAiC,EAAC,8CAA8C,CAAC,GAAC,IAAI,CAACC,IAAI,CAAC,MAAM,EAAC7B,CAAC,CAAC;EAAA;EAAC8B,SAASA,CAAC9B,CAAC,EAAC;IAAC,OAAO,IAAI,CAACyB,cAAc,CAACzB,CAAC,EAAC,IAAI,CAACsB,UAAU,CAAC;EAAA;EAAC,IAAIS,GAAGA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACT,UAAU,IAAE,IAAI,CAACE,IAAI,GAAE,GAAE,IAAI,CAACF,UAAU,CAACU,OAAQ,cAAa,IAAI,CAACR,IAAK,EAAC,GAAC,IAAI;EAAA;EAAC,IAAIS,eAAeA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACX,UAAU,IAAE,IAAI,CAACE,IAAI,GAAE,eAAc,IAAI,CAACA,IAAK,EAAC,GAAC,IAAI;EAAA;EAACU,KAAKA,CAAA,EAAY;IAAA,IAAXlC,CAAC,GAAAmC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAC,MAAM;IAAA,IAAClC,CAAC,GAAAkC,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;IAAE,MAAMlC,CAAC,GAAC,IAAI,CAAC4B,GAAG;IAAC,IAAGxB,CAAC,CAACJ,CAAC,CAAC,EAAC,MAAM,IAAID,CAAC,CAAC,4BAA4B,EAAC,6DAA6D,CAAC;IAAC,OAAO,IAAI,CAACoB,UAAU,CAACgB,MAAM,CAACC,OAAO,CAACpC,CAAC,EAAC;MAACqC,YAAY,EAACxC,CAAC;MAACyC,KAAK,EAAC;QAACC,KAAK,EAAC,IAAI,CAACpB,UAAU,CAACqB;MAAM,CAAC;MAACC,MAAM,EAACnC,CAAC,CAACR,CAAC,EAAC,QAAQ;IAAC,CAAC,CAAC;EAAA;EAAC,MAAM4C,MAAMA,CAAC7C,CAAC,EAACC,CAAC,EAAC;IAAC,OAAM,CAAC,MAAM,MAAM,CAAC,4BAA4B,CAAC,EAAE6C,mBAAmB,CAAC,IAAI,EAAC,QAAQ,EAAC9C,CAAC,EAACC,CAAC,CAAC;EAAA;EAAC8C,OAAOA,CAAA,EAAE;IAAC,OAAO1C,CAAC,CAAC,IAAI,CAACmB,IAAI,CAAC;EAAA;EAACC,cAAcA,CAACzB,CAAC,EAACC,CAAC,EAAC;IAAC,OAAOM,CAAC,CAACP,CAAC,CAAC,GAACA,CAAC,IAAEA,CAAC,GAACA,CAAC,CAACgD,OAAO,CAAC,MAAM,EAAC,EAAE,CAAC,EAAC3C,CAAC,CAACJ,CAAC,CAAC,IAAEU,CAAC,CAACX,CAAC,CAAC,KAAGA,CAAC,GAACa,CAAC,CAACb,CAAC,EAACC,CAAC,CAAC+B,OAAO,CAAC,CAAC,EAAChC,CAAC,EAAEgD,OAAO,CAAC,MAAM,EAAC,EAAE,CAAC,CAACA,OAAO,CAAC,qBAAqB,EAAC,EAAE,CAAC,CAAC;EAAA;AAAC,CAAC;AAAChD,CAAC,CAAC,CAACe,CAAC,EAAE,CAAC,EAACK,CAAC,CAAC6B,SAAS,EAAC,YAAY,EAAC,KAAK,CAAC,CAAC,EAACjD,CAAC,CAAC,CAACe,CAAC,CAAC;EAACmC,IAAI,EAACC,MAAM;EAACC,KAAK,EAAC;AAAI,CAAC,CAAC,CAAC,EAAChC,CAAC,CAAC6B,SAAS,EAAC,MAAM,EAAC,IAAI,CAAC,EAACjD,CAAC,CAAC,CAACiB,CAAC,CAAC,MAAM,CAAC,CAAC,EAACG,CAAC,CAAC6B,SAAS,EAAC,WAAW,EAAC,IAAI,CAAC,EAACjD,CAAC,CAAC,CAACe,CAAC,CAAC;EAACmC,IAAI,EAACC,MAAM;EAACE,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAACjC,CAAC,CAAC6B,SAAS,EAAC,KAAK,EAAC,IAAI,CAAC,EAACjD,CAAC,CAAC,CAACe,CAAC,CAAC;EAACmC,IAAI,EAACC,MAAM;EAACE,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAACjC,CAAC,CAAC6B,SAAS,EAAC,iBAAiB,EAAC,IAAI,CAAC,EAAC7B,CAAC,GAACpB,CAAC,CAAC,CAACmB,CAAC,CAAC,gCAAgC,CAAC,CAAC,EAACC,CAAC,CAAC;AAAC,MAAMkC,CAAC,GAAClC,CAAC;AAAC,SAAOkC,CAAC,IAAIC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}