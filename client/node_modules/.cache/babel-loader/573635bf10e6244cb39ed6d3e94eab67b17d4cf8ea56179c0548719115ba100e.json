{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSymbol3D as t } from \"../../symbols.js\";\nimport { isDevEnvironment as e, adjustStaticAGOUrl as r } from \"../../core/devEnvironmentUtils.js\";\nimport o from \"../../core/Error.js\";\nimport { unwrapOrThrow as l, isSome as n } from \"../../core/maybe.js\";\nimport { urlToObject as m, removeFile as s } from \"../../core/urlUtils.js\";\nimport a from \"../../portal/Portal.js\";\nimport { f as i } from \"../../chunks/persistableUrlUtils.js\";\nimport { fromJSON as p } from \"./jsonUtils.js\";\nimport u from \"./StyleOrigin.js\";\nimport { fetchStyle as f, symbolUrlFromStyleItem as y, requestJSON as c, makeCIMSymbolRef as b, Style2DUrlTemplate as g } from \"./styleUtils.js\";\nimport { Thumbnail as j } from \"./Thumbnail.js\";\nfunction h(t, e, r, n) {\n  return t.name ? t.styleName && \"Esri2DPointSymbolsStyle\" === t.styleName ? U(t, e, n) : f(t, e, n).then(function (o) {\n    return d(l(o), t.name, e, r, n);\n  }) : Promise.reject(new o(\"symbolstyleutils:style-symbol-reference-name-missing\", \"Missing name in style symbol reference\"));\n}\nfunction d(l, f, g, h, d) {\n  var _S$thumbnail$href, _S$thumbnail, _r;\n  var U = l.data,\n    N = g && n(g.portal) ? g.portal : a.getDefault(),\n    w = {\n      portal: N,\n      url: m(l.baseUrl),\n      origin: \"portal-item\"\n    },\n    S = U.items.find(function (t) {\n      return t.name === f;\n    });\n  if (!S) {\n    var _t = \"The symbol name '\".concat(f, \"' could not be found\");\n    return Promise.reject(new o(\"symbolstyleutils:symbol-name-not-found\", _t, {\n      symbolName: f\n    }));\n  }\n  var D = i(y(S, h), w),\n    O = (_S$thumbnail$href = (_S$thumbnail = S.thumbnail) === null || _S$thumbnail === void 0 ? void 0 : _S$thumbnail.href) !== null && _S$thumbnail$href !== void 0 ? _S$thumbnail$href : null;\n  var P = S.thumbnail && S.thumbnail.imageData;\n  e() && (D = (_r = r(D)) !== null && _r !== void 0 ? _r : \"\", O = r(O));\n  var E = {\n    portal: N,\n    url: m(s(D)),\n    origin: \"portal-item\"\n  };\n  return c(D, d).then(function (e) {\n    var r = \"cimRef\" === h ? b(e.data) : e.data,\n      o = p(r, E);\n    if (o && t(o)) {\n      if (O) {\n        var _t2 = i(O, w);\n        o.thumbnail = new j({\n          url: _t2\n        });\n      } else P && (o.thumbnail = new j({\n        url: \"data:image/png;base64,\".concat(P)\n      }));\n      l.styleUrl ? o.styleOrigin = new u({\n        portal: g.portal,\n        styleUrl: l.styleUrl,\n        name: f\n      }) : l.styleName && (o.styleOrigin = new u({\n        portal: g.portal,\n        styleName: l.styleName,\n        name: f\n      }));\n    }\n    return o;\n  });\n}\nfunction U(t, e, r) {\n  var o = g.replace(/\\{SymbolName\\}/gi, t.name),\n    l = n(e.portal) ? e.portal : a.getDefault();\n  return c(o, r).then(function (t) {\n    var e = b(t.data);\n    return p(e, {\n      portal: l,\n      url: m(s(o)),\n      origin: \"portal-item\"\n    });\n  });\n}\nexport { d as fetchSymbolFromStyle, h as resolveWebStyleSymbol };","map":{"version":3,"names":["isSymbol3D","t","isDevEnvironment","e","adjustStaticAGOUrl","r","o","unwrapOrThrow","l","isSome","n","urlToObject","m","removeFile","s","a","f","i","fromJSON","p","u","fetchStyle","symbolUrlFromStyleItem","y","requestJSON","c","makeCIMSymbolRef","b","Style2DUrlTemplate","g","Thumbnail","j","h","name","styleName","U","then","d","Promise","reject","_S$thumbnail$href","_S$thumbnail","_r","data","N","portal","getDefault","w","url","baseUrl","origin","S","items","find","concat","symbolName","D","O","thumbnail","href","P","imageData","E","styleUrl","styleOrigin","replace","fetchSymbolFromStyle","resolveWebStyleSymbol"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as e,adjustStaticAGOUrl as r}from\"../../core/devEnvironmentUtils.js\";import o from\"../../core/Error.js\";import{unwrapOrThrow as l,isSome as n}from\"../../core/maybe.js\";import{urlToObject as m,removeFile as s}from\"../../core/urlUtils.js\";import a from\"../../portal/Portal.js\";import{f as i}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as p}from\"./jsonUtils.js\";import u from\"./StyleOrigin.js\";import{fetchStyle as f,symbolUrlFromStyleItem as y,requestJSON as c,makeCIMSymbolRef as b,Style2DUrlTemplate as g}from\"./styleUtils.js\";import{Thumbnail as j}from\"./Thumbnail.js\";function h(t,e,r,n){return t.name?t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?U(t,e,n):f(t,e,n).then((o=>d(l(o),t.name,e,r,n))):Promise.reject(new o(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"))}function d(l,f,g,h,d){const U=l.data,N=g&&n(g.portal)?g.portal:a.getDefault(),w={portal:N,url:m(l.baseUrl),origin:\"portal-item\"},S=U.items.find((t=>t.name===f));if(!S){const t=`The symbol name '${f}' could not be found`;return Promise.reject(new o(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:f}))}let D=i(y(S,h),w),O=S.thumbnail?.href??null;const P=S.thumbnail&&S.thumbnail.imageData;e()&&(D=r(D)??\"\",O=r(O));const E={portal:N,url:m(s(D)),origin:\"portal-item\"};return c(D,d).then((e=>{const r=\"cimRef\"===h?b(e.data):e.data,o=p(r,E);if(o&&t(o)){if(O){const t=i(O,w);o.thumbnail=new j({url:t})}else P&&(o.thumbnail=new j({url:`data:image/png;base64,${P}`}));l.styleUrl?o.styleOrigin=new u({portal:g.portal,styleUrl:l.styleUrl,name:f}):l.styleName&&(o.styleOrigin=new u({portal:g.portal,styleName:l.styleName,name:f}))}return o}))}function U(t,e,r){const o=g.replace(/\\{SymbolName\\}/gi,t.name),l=n(e.portal)?e.portal:a.getDefault();return c(o,r).then((t=>{const e=b(t.data);return p(e,{portal:l,url:m(s(o)),origin:\"portal-item\"})}))}export{d as fetchSymbolFromStyle,h as resolveWebStyleSymbol};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,UAAU,IAAIC,CAAC,QAAK,kBAAkB;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,EAACC,kBAAkB,IAAIC,CAAC,QAAK,mCAAmC;AAAC,OAAOC,CAAC,MAAK,qBAAqB;AAAC,SAAOC,aAAa,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,QAAK,qBAAqB;AAAC,SAAOC,WAAW,IAAIC,CAAC,EAACC,UAAU,IAAIC,CAAC,QAAK,wBAAwB;AAAC,OAAOC,CAAC,MAAK,wBAAwB;AAAC,SAAOC,CAAC,IAAIC,CAAC,QAAK,qCAAqC;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,gBAAgB;AAAC,OAAOC,CAAC,MAAK,kBAAkB;AAAC,SAAOC,UAAU,IAAIL,CAAC,EAACM,sBAAsB,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,EAACC,gBAAgB,IAAIC,CAAC,EAACC,kBAAkB,IAAIC,CAAC,QAAK,iBAAiB;AAAC,SAAOC,SAAS,IAAIC,CAAC,QAAK,gBAAgB;AAAC,SAASC,CAACA,CAAC/B,CAAC,EAACE,CAAC,EAACE,CAAC,EAACK,CAAC,EAAC;EAAC,OAAOT,CAAC,CAACgC,IAAI,GAAChC,CAAC,CAACiC,SAAS,IAAE,yBAAyB,KAAGjC,CAAC,CAACiC,SAAS,GAACC,CAAC,CAAClC,CAAC,EAACE,CAAC,EAACO,CAAC,CAAC,GAACM,CAAC,CAACf,CAAC,EAACE,CAAC,EAACO,CAAC,CAAC,CAAC0B,IAAI,CAAE,UAAA9B,CAAC;IAAA,OAAE+B,CAAC,CAAC7B,CAAC,CAACF,CAAC,CAAC,EAACL,CAAC,CAACgC,IAAI,EAAC9B,CAAC,EAACE,CAAC,EAACK,CAAC,CAAC;EAAA,EAAE,GAAC4B,OAAO,CAACC,MAAM,CAAC,IAAIjC,CAAC,CAAC,sDAAsD,EAAC,wCAAwC,CAAC,CAAC;AAAA;AAAC,SAAS+B,CAACA,CAAC7B,CAAC,EAACQ,CAAC,EAACa,CAAC,EAACG,CAAC,EAACK,CAAC,EAAC;EAAA,IAAAG,iBAAA,EAAAC,YAAA,EAAAC,EAAA;EAAC,IAAMP,CAAC,GAAC3B,CAAC,CAACmC,IAAI;IAACC,CAAC,GAACf,CAAC,IAAEnB,CAAC,CAACmB,CAAC,CAACgB,MAAM,CAAC,GAAChB,CAAC,CAACgB,MAAM,GAAC9B,CAAC,CAAC+B,UAAU,EAAE;IAACC,CAAC,GAAC;MAACF,MAAM,EAACD,CAAC;MAACI,GAAG,EAACpC,CAAC,CAACJ,CAAC,CAACyC,OAAO,CAAC;MAACC,MAAM,EAAC;IAAa,CAAC;IAACC,CAAC,GAAChB,CAAC,CAACiB,KAAK,CAACC,IAAI,CAAE,UAAApD,CAAC;MAAA,OAAEA,CAAC,CAACgC,IAAI,KAAGjB,CAAC;IAAA,EAAE;EAAC,IAAG,CAACmC,CAAC,EAAC;IAAC,IAAMlD,EAAC,uBAAAqD,MAAA,CAAqBtC,CAAC,yBAAsB;IAAC,OAAOsB,OAAO,CAACC,MAAM,CAAC,IAAIjC,CAAC,CAAC,wCAAwC,EAACL,EAAC,EAAC;MAACsD,UAAU,EAACvC;IAAC,CAAC,CAAC,CAAC;EAAA;EAAC,IAAIwC,CAAC,GAACvC,CAAC,CAACM,CAAC,CAAC4B,CAAC,EAACnB,CAAC,CAAC,EAACe,CAAC,CAAC;IAACU,CAAC,IAAAjB,iBAAA,IAAAC,YAAA,GAACU,CAAC,CAACO,SAAS,cAAAjB,YAAA,uBAAXA,YAAA,CAAakB,IAAI,cAAAnB,iBAAA,cAAAA,iBAAA,GAAE,IAAI;EAAC,IAAMoB,CAAC,GAACT,CAAC,CAACO,SAAS,IAAEP,CAAC,CAACO,SAAS,CAACG,SAAS;EAAC1D,CAAC,EAAE,KAAGqD,CAAC,IAAAd,EAAA,GAACrC,CAAC,CAACmD,CAAC,CAAC,cAAAd,EAAA,cAAAA,EAAA,GAAE,EAAE,EAACe,CAAC,GAACpD,CAAC,CAACoD,CAAC,CAAC,CAAC;EAAC,IAAMK,CAAC,GAAC;IAACjB,MAAM,EAACD,CAAC;IAACI,GAAG,EAACpC,CAAC,CAACE,CAAC,CAAC0C,CAAC,CAAC,CAAC;IAACN,MAAM,EAAC;EAAa,CAAC;EAAC,OAAOzB,CAAC,CAAC+B,CAAC,EAACnB,CAAC,CAAC,CAACD,IAAI,CAAE,UAAAjC,CAAC,EAAE;IAAC,IAAME,CAAC,GAAC,QAAQ,KAAG2B,CAAC,GAACL,CAAC,CAACxB,CAAC,CAACwC,IAAI,CAAC,GAACxC,CAAC,CAACwC,IAAI;MAACrC,CAAC,GAACa,CAAC,CAACd,CAAC,EAACyD,CAAC,CAAC;IAAC,IAAGxD,CAAC,IAAEL,CAAC,CAACK,CAAC,CAAC,EAAC;MAAC,IAAGmD,CAAC,EAAC;QAAC,IAAMxD,GAAC,GAACgB,CAAC,CAACwC,CAAC,EAACV,CAAC,CAAC;QAACzC,CAAC,CAACoD,SAAS,GAAC,IAAI3B,CAAC,CAAC;UAACiB,GAAG,EAAC/C;QAAC,CAAC,CAAC;MAAA,CAAC,MAAK2D,CAAC,KAAGtD,CAAC,CAACoD,SAAS,GAAC,IAAI3B,CAAC,CAAC;QAACiB,GAAG,2BAAAM,MAAA,CAA0BM,CAAC;MAAE,CAAC,CAAC,CAAC;MAACpD,CAAC,CAACuD,QAAQ,GAACzD,CAAC,CAAC0D,WAAW,GAAC,IAAI5C,CAAC,CAAC;QAACyB,MAAM,EAAChB,CAAC,CAACgB,MAAM;QAACkB,QAAQ,EAACvD,CAAC,CAACuD,QAAQ;QAAC9B,IAAI,EAACjB;MAAC,CAAC,CAAC,GAACR,CAAC,CAAC0B,SAAS,KAAG5B,CAAC,CAAC0D,WAAW,GAAC,IAAI5C,CAAC,CAAC;QAACyB,MAAM,EAAChB,CAAC,CAACgB,MAAM;QAACX,SAAS,EAAC1B,CAAC,CAAC0B,SAAS;QAACD,IAAI,EAACjB;MAAC,CAAC,CAAC,CAAC;IAAA;IAAC,OAAOV,CAAC;EAAA,CAAC,CAAE;AAAA;AAAC,SAAS6B,CAACA,CAAClC,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;EAAC,IAAMC,CAAC,GAACuB,CAAC,CAACoC,OAAO,CAAC,kBAAkB,EAAChE,CAAC,CAACgC,IAAI,CAAC;IAACzB,CAAC,GAACE,CAAC,CAACP,CAAC,CAAC0C,MAAM,CAAC,GAAC1C,CAAC,CAAC0C,MAAM,GAAC9B,CAAC,CAAC+B,UAAU,EAAE;EAAC,OAAOrB,CAAC,CAACnB,CAAC,EAACD,CAAC,CAAC,CAAC+B,IAAI,CAAE,UAAAnC,CAAC,EAAE;IAAC,IAAME,CAAC,GAACwB,CAAC,CAAC1B,CAAC,CAAC0C,IAAI,CAAC;IAAC,OAAOxB,CAAC,CAAChB,CAAC,EAAC;MAAC0C,MAAM,EAACrC,CAAC;MAACwC,GAAG,EAACpC,CAAC,CAACE,CAAC,CAACR,CAAC,CAAC,CAAC;MAAC4C,MAAM,EAAC;IAAa,CAAC,CAAC;EAAA,CAAC,CAAE;AAAA;AAAC,SAAOb,CAAC,IAAI6B,oBAAoB,EAAClC,CAAC,IAAImC,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}