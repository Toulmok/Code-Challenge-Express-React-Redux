{"ast":null,"code":"import _classCallCheck from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nvar t = /*#__PURE__*/function () {\n  function t() {\n    var _t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 15e3;\n    var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5e3;\n    _classCallCheck(this, t);\n    this._timer = null, this._cachedBlocks = new Map(), this._size = -1, this._duration = _t, this._interval = Math.min(_t, e);\n  }\n  _createClass(t, [{\n    key: \"decreaseRefCount\",\n    value: function decreaseRefCount(_t2, e) {\n      var s = _t2 + \"/\" + e,\n        r = this._cachedBlocks;\n      if (r.has(s)) {\n        var _t3 = r.get(s);\n        return _t3.refCount--, _t3.refCount <= 0 && (r.delete(s), _t3.controller && _t3.controller.abort()), _t3.refCount;\n      }\n      return 0;\n    }\n  }, {\n    key: \"getBlock\",\n    value: function getBlock(_t4, e) {\n      var s = _t4 + \"/\" + e,\n        r = this._cachedBlocks;\n      if (r.has(s)) {\n        var _t5 = r.get(s);\n        return _t5.ts = Date.now(), _t5.refCount++, r.delete(s), r.set(s, _t5), _t5.block;\n      }\n      return null;\n    }\n  }, {\n    key: \"putBlock\",\n    value: function putBlock(_t6, e, s, r) {\n      var i = this._cachedBlocks,\n        c = _t6 + \"/\" + e;\n      if (i.has(c)) {\n        var _t7 = i.get(c);\n        _t7.ts = Date.now(), _t7.refCount++;\n      } else i.set(c, {\n        block: s,\n        ts: Date.now(),\n        refCount: 1,\n        controller: r\n      });\n      this._trim(), this._updateTimer();\n    }\n  }, {\n    key: \"deleteBlock\",\n    value: function deleteBlock(_t8, e) {\n      var s = this._cachedBlocks,\n        r = _t8 + \"/\" + e;\n      s.has(r) && s.delete(r);\n    }\n  }, {\n    key: \"updateMaxSize\",\n    value: function updateMaxSize(_t9) {\n      this._size = _t9, this._trim();\n    }\n  }, {\n    key: \"empty\",\n    value: function empty() {\n      this._cachedBlocks.clear(), this._clearTimer();\n    }\n  }, {\n    key: \"getCurrentSize\",\n    value: function getCurrentSize() {\n      return this._cachedBlocks.size;\n    }\n  }, {\n    key: \"_updateTimer\",\n    value: function _updateTimer() {\n      var _this = this;\n      if (null != this._timer) return;\n      var _t10 = this._cachedBlocks;\n      this._timer = setInterval(function () {\n        var e = Array.from(_t10),\n          s = Date.now();\n        for (var r = 0; r < e.length && e[r][1].ts <= s - _this._duration; r++) _t10.delete(e[r][0]);\n        0 === _t10.size && _this._clearTimer();\n      }, this._interval);\n    }\n  }, {\n    key: \"_trim\",\n    value: function _trim() {\n      var _t11 = this._cachedBlocks;\n      if (-1 === this._size || this._size >= _t11.size) return;\n      var e = Array.from(_t11);\n      for (var s = 0; s < e.length - this._size; s++) _t11.delete(e[s][0]);\n    }\n  }, {\n    key: \"_clearTimer\",\n    value: function _clearTimer() {\n      null != this._timer && (clearInterval(this._timer), this._timer = null);\n    }\n  }]);\n  return t;\n}();\nexport { t as default };","map":{"version":3,"names":["t","arguments","length","undefined","e","_classCallCheck","_timer","_cachedBlocks","Map","_size","_duration","_interval","Math","min","_createClass","key","value","decreaseRefCount","s","r","has","get","refCount","delete","controller","abort","getBlock","ts","Date","now","set","block","putBlock","i","c","_trim","_updateTimer","deleteBlock","updateMaxSize","empty","clear","_clearTimer","getCurrentSize","size","_this","setInterval","Array","from","clearInterval","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this._trim(),this._updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this._trim()}empty(){this._cachedBlocks.clear(),this._clearTimer()}getCurrentSize(){return this._cachedBlocks.size}_updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this._clearTimer()}),this._interval)}_trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}_clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export{t as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}