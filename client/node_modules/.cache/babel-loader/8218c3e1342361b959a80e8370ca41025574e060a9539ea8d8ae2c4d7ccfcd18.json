{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Evented.js\";\nimport { clone as s } from \"../../core/lang.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/Error.js\";\nimport \"../../core/has.js\";\nimport { subclass as r } from \"../../core/accessorSupport/decorators/subclass.js\";\nconst d = new t.EventEmitter(),\n  i = \"esri.layers.mixins.EditBusLayer\",\n  l = Symbol(i);\nfunction o(e) {\n  return null != e && \"object\" == typeof e && l in e;\n}\nconst a = t => {\n  var o;\n  let a = class extends t {\n    constructor() {\n      super(...arguments), this[o] = !0, this.when().then(() => {\n        this.own([d.on(\"edits\", e => {\n          const t = \"layer\" in e ? e.layer : null,\n            r = \"layer\" in e ? e.layer?.url : e.serviceUrl,\n            d = \"layer\" in e ? e.layer?.layerId : e.layerId,\n            i = e.event;\n          if (t === this || r !== this.url) return;\n          if (null != d && null != this.layerId && d === this.layerId) return void this.emit(\"edits\", s(i));\n          const l = i.editedFeatures?.find(_ref => {\n            let {\n              layerId: e\n            } = _ref;\n            return e === this.layerId;\n          });\n          if (l) {\n            const {\n                adds: e,\n                updates: t,\n                deletes: r\n              } = l.editedFeatures,\n              d = {\n                edits: null,\n                addedAttachments: [],\n                deletedAttachments: [],\n                updatedAttachments: [],\n                addedFeatures: e ? e.map(_ref2 => {\n                  let {\n                    attributes: e\n                  } = _ref2;\n                  return {\n                    objectId: this.objectIdField && e[this.objectIdField],\n                    globalId: this.globalIdField && e[this.globalIdField]\n                  };\n                }) : [],\n                deletedFeatures: r ? r.map(_ref3 => {\n                  let {\n                    attributes: e\n                  } = _ref3;\n                  return {\n                    objectId: this.objectIdField && e[this.objectIdField],\n                    globalId: this.globalIdField && e[this.globalIdField]\n                  };\n                }) : [],\n                updatedFeatures: t ? t.map(_ref4 => {\n                  let {\n                    current: {\n                      attributes: e\n                    }\n                  } = _ref4;\n                  return {\n                    objectId: this.objectIdField && e[this.objectIdField],\n                    globalId: this.globalIdField && e[this.globalIdField]\n                  };\n                }) : [],\n                editedFeatures: s(i.editedFeatures),\n                exceededTransferLimit: !1\n              };\n            this.emit(\"edits\", d);\n          }\n        })]);\n      }, () => {});\n    }\n  };\n  return o = l, a = e([r(i)], a), a;\n};\nexport { a as EditBusLayer, d as editEventBus, o as isEditBusLayer };","map":{"version":3,"names":["_","e","t","clone","s","subclass","r","d","EventEmitter","i","l","Symbol","o","a","constructor","arguments","when","then","own","on","layer","url","serviceUrl","layerId","event","emit","editedFeatures","find","_ref","adds","updates","deletes","edits","addedAttachments","deletedAttachments","updatedAttachments","addedFeatures","map","_ref2","attributes","objectId","objectIdField","globalId","globalIdField","deletedFeatures","_ref3","updatedFeatures","_ref4","current","exceededTransferLimit","EditBusLayer","editEventBus","isEditBusLayer"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/mixins/EditBusLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{clone as s}from\"../../core/lang.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Error.js\";import\"../../core/has.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";const d=new t.EventEmitter,i=\"esri.layers.mixins.EditBusLayer\",l=Symbol(i);function o(e){return null!=e&&\"object\"==typeof e&&l in e}const a=t=>{var o;let a=class extends t{constructor(...e){super(...e),this[o]=!0,this.when().then((()=>{this.own([d.on(\"edits\",(e=>{const t=\"layer\"in e?e.layer:null,r=\"layer\"in e?e.layer?.url:e.serviceUrl,d=\"layer\"in e?e.layer?.layerId:e.layerId,i=e.event;if(t===this||r!==this.url)return;if(null!=d&&null!=this.layerId&&d===this.layerId)return void this.emit(\"edits\",s(i));const l=i.editedFeatures?.find((({layerId:e})=>e===this.layerId));if(l){const{adds:e,updates:t,deletes:r}=l.editedFeatures,d={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:e?e.map((({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],deletedFeatures:r?r.map((({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],updatedFeatures:t?t.map((({current:{attributes:e}})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],editedFeatures:s(i.editedFeatures),exceededTransferLimit:!1};this.emit(\"edits\",d)}}))])}),(()=>{}))}};return o=l,a=e([r(i)],a),a};export{a as EditBusLayer,d as editEventBus,o as isEditBusLayer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}