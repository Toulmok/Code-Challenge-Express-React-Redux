{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport { isNone as t } from \"../../../core/maybe.js\";\nimport { isExtent as e, isPolygon as s, isPolyline as i } from \"../../../geometry/support/jsonUtils.js\";\nimport { clipPolygonToTileExtent as n, clipPolylineToTileExtent as o } from \"../CIMEffects.js\";\nimport { CurveHelper as r, PIXEL_TOLERANCE as f } from \"../CurveHelper.js\";\nimport { GeometricEffectOffsetMethod as m } from \"../enums.js\";\nimport h from \"../../../geometry/SpatialReference.js\";\nclass a {\n  static local() {\n    return null === a.instance && (a.instance = new a()), a.instance;\n  }\n  execute(t, e, s, i, n) {\n    return new l(t, e, s, i, n);\n  }\n}\na.instance = null;\nclass l {\n  constructor(t, e, s, i, n) {\n    this._inputGeometries = t, this._tileKey = i, this._geometryEngine = n, this._curveHelper = new r(), this._offset = (e.offset ?? 1) * s, this._method = e.method, this._option = e.option, this._offsetFlattenError = f * s;\n  }\n  next() {\n    let r;\n    for (; r = this._inputGeometries.next();) {\n      if (0 === this._offset) return r;\n      if (e(r)) {\n        if (this._method === m.Rounded && this._offset > 0) {\n          const t = [[r.xmin, r.ymin], [r.xmin, r.ymax], [r.xmax, r.ymax], [r.xmax, r.ymin], [r.xmin, r.ymin]],\n            e = this._curveHelper.offset(t, -this._offset, this._method, 4, this._offsetFlattenError);\n          return e ? {\n            rings: [e]\n          } : null;\n        }\n        if (Math.min(r.xmax - r.xmin, r.ymax - r.ymin) + 2 * this._offset > 0) return {\n          xmin: r.xmin - this._offset,\n          xmax: r.xmax + this._offset,\n          ymin: r.ymin - this._offset,\n          ymax: r.ymax + this._offset\n        };\n      }\n      const f = this._geometryEngine;\n      if (t(f)) return null;\n      let a = r;\n      if (s(r)) {\n        if (this._tileKey && (a = n(r, Math.abs(this._offset) + 1), !a || !a.rings || 0 === a.rings.length)) continue;\n      } else if (i(r) && this._tileKey && (a = o(r, Math.abs(this._offset) + 1), !a || !a.paths || 0 === a.paths.length)) continue;\n      return f.offset(h.WebMercator, a, -this._offset, 1, this._method, 4, this._offsetFlattenError);\n    }\n    return null;\n  }\n}\nexport { a as EffectOffset };","map":{"version":3,"names":["isNone","t","isExtent","e","isPolygon","s","isPolyline","i","clipPolygonToTileExtent","n","clipPolylineToTileExtent","o","CurveHelper","r","PIXEL_TOLERANCE","f","GeometricEffectOffsetMethod","m","h","a","local","instance","execute","l","constructor","_inputGeometries","_tileKey","_geometryEngine","_curveHelper","_offset","offset","_method","method","_option","option","_offsetFlattenError","next","Rounded","xmin","ymin","ymax","xmax","rings","Math","min","abs","length","paths","WebMercator","EffectOffset"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/symbols/cim/effects/EffectOffset.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isNone as t}from\"../../../core/maybe.js\";import{isExtent as e,isPolygon as s,isPolyline as i}from\"../../../geometry/support/jsonUtils.js\";import{clipPolygonToTileExtent as n,clipPolylineToTileExtent as o}from\"../CIMEffects.js\";import{CurveHelper as r,PIXEL_TOLERANCE as f}from\"../CurveHelper.js\";import{GeometricEffectOffsetMethod as m}from\"../enums.js\";import h from\"../../../geometry/SpatialReference.js\";class a{static local(){return null===a.instance&&(a.instance=new a),a.instance}execute(t,e,s,i,n){return new l(t,e,s,i,n)}}a.instance=null;class l{constructor(t,e,s,i,n){this._inputGeometries=t,this._tileKey=i,this._geometryEngine=n,this._curveHelper=new r,this._offset=(e.offset??1)*s,this._method=e.method,this._option=e.option,this._offsetFlattenError=f*s}next(){let r;for(;r=this._inputGeometries.next();){if(0===this._offset)return r;if(e(r)){if(this._method===m.Rounded&&this._offset>0){const t=[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]],e=this._curveHelper.offset(t,-this._offset,this._method,4,this._offsetFlattenError);return e?{rings:[e]}:null}if(Math.min(r.xmax-r.xmin,r.ymax-r.ymin)+2*this._offset>0)return{xmin:r.xmin-this._offset,xmax:r.xmax+this._offset,ymin:r.ymin-this._offset,ymax:r.ymax+this._offset}}const f=this._geometryEngine;if(t(f))return null;let a=r;if(s(r)){if(this._tileKey&&(a=n(r,Math.abs(this._offset)+1),!a||!a.rings||0===a.rings.length))continue}else if(i(r)&&this._tileKey&&(a=o(r,Math.abs(this._offset)+1),!a||!a.paths||0===a.paths.length))continue;return f.offset(h.WebMercator,a,-this._offset,1,this._method,4,this._offsetFlattenError)}return null}}export{a as EffectOffset};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}