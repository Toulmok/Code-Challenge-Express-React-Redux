{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { isSome as s, isNone as r } from \"../../../core/maybe.js\";\nimport { property as e } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as o } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport n from \"./BaseRasterFunction.js\";\nimport i from \"./CompositeBandFunctionArguments.js\";\nimport { compositeBands as a } from \"./pixelUtils.js\";\nlet u = class extends n {\n  constructor() {\n    super(...arguments), this.functionName = \"CompositeBand\", this.functionArguments = null, this.rasterArgumentNames = [\"rasters\"];\n  }\n  _bindSourceRasters() {\n    const {\n        sourceRasterInfos: t\n      } = this,\n      r = t[0];\n    this.outputPixelType = this._getOutputPixelType(r.pixelType);\n    const e = r.clone();\n    if (e.attributeTable = null, e.colormap = null, e.pixelType = this.outputPixelType, e.bandCount = t.map(_ref => {\n      let {\n        bandCount: t\n      } = _ref;\n      return t;\n    }).reduce((t, s) => t + s), t.every(_ref2 => {\n      let {\n        statistics: t\n      } = _ref2;\n      return s(t) && t.length;\n    })) {\n      const r = [];\n      t.forEach(_ref3 => {\n        let {\n          statistics: t\n        } = _ref3;\n        return s(t) && r.push(...t);\n      }), e.statistics = r;\n    }\n    if (t.every(_ref4 => {\n      let {\n        histograms: t\n      } = _ref4;\n      return s(t) && t.length;\n    })) {\n      const r = [];\n      t.forEach(_ref5 => {\n        let {\n          histograms: t\n        } = _ref5;\n        return s(t) && r.push(...t);\n      }), e.histograms = r;\n    }\n    e.bandCount > 1 && (e.colormap = null, e.attributeTable = null), this.rasterInfo = e;\n    return {\n      success: !0,\n      supportsGPU: e.bandCount <= 3\n    };\n  }\n  _processPixels(t) {\n    const {\n      pixelBlocks: s\n    } = t;\n    if (!s) return null;\n    const e = s?.[0];\n    return r(e) ? null : a(s);\n  }\n  _getWebGLParameters() {\n    return {\n      bandCount: this.rasterInfo.bandCount\n    };\n  }\n};\nt([e({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], u.prototype, \"functionName\", void 0), t([e({\n  type: i,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], u.prototype, \"functionArguments\", void 0), t([e()], u.prototype, \"rasterArgumentNames\", void 0), u = t([o(\"esri.layers.support.rasterFunctions.CompositeBandFunction\")], u);\nconst p = u;\nexport { p as default };","map":{"version":3,"names":["_","t","isSome","s","isNone","r","property","e","subclass","o","n","i","compositeBands","a","u","constructor","arguments","functionName","functionArguments","rasterArgumentNames","_bindSourceRasters","sourceRasterInfos","outputPixelType","_getOutputPixelType","pixelType","clone","attributeTable","colormap","bandCount","map","_ref","reduce","every","_ref2","statistics","length","forEach","_ref3","push","_ref4","histograms","_ref5","rasterInfo","success","supportsGPU","_processPixels","pixelBlocks","_getWebGLParameters","json","write","name","prototype","type","p","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/support/rasterFunctions/CompositeBandFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{isSome as s,isNone as r}from\"../../../core/maybe.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"./BaseRasterFunction.js\";import i from\"./CompositeBandFunctionArguments.js\";import{compositeBands as a}from\"./pixelUtils.js\";let u=class extends n{constructor(){super(...arguments),this.functionName=\"CompositeBand\",this.functionArguments=null,this.rasterArgumentNames=[\"rasters\"]}_bindSourceRasters(){const{sourceRasterInfos:t}=this,r=t[0];this.outputPixelType=this._getOutputPixelType(r.pixelType);const e=r.clone();if(e.attributeTable=null,e.colormap=null,e.pixelType=this.outputPixelType,e.bandCount=t.map((({bandCount:t})=>t)).reduce(((t,s)=>t+s)),t.every((({statistics:t})=>s(t)&&t.length))){const r=[];t.forEach((({statistics:t})=>s(t)&&r.push(...t))),e.statistics=r}if(t.every((({histograms:t})=>s(t)&&t.length))){const r=[];t.forEach((({histograms:t})=>s(t)&&r.push(...t))),e.histograms=r}e.bandCount>1&&(e.colormap=null,e.attributeTable=null),this.rasterInfo=e;return{success:!0,supportsGPU:e.bandCount<=3}}_processPixels(t){const{pixelBlocks:s}=t;if(!s)return null;const e=s?.[0];return r(e)?null:a(s)}_getWebGLParameters(){return{bandCount:this.rasterInfo.bandCount}}};t([e({json:{write:!0,name:\"rasterFunction\"}})],u.prototype,\"functionName\",void 0),t([e({type:i,json:{write:!0,name:\"rasterFunctionArguments\"}})],u.prototype,\"functionArguments\",void 0),t([e()],u.prototype,\"rasterArgumentNames\",void 0),u=t([o(\"esri.layers.support.rasterFunctions.CompositeBandFunction\")],u);const p=u;export{p as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}