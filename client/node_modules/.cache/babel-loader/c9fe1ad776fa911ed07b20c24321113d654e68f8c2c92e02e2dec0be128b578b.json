{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../../../core/byteSizeEstimations.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../geometry/SpatialReference.js\";\nimport \"../../../../geometry/support/aaBoundingBox.js\";\nimport \"../../../../core/mathUtils.js\";\nimport \"../../../../geometry/Extent.js\";\nimport \"../../../../geometry/Geometry.js\";\nimport \"../../../../geometry/Multipoint.js\";\nimport \"../../../../geometry/Point.js\";\nimport \"../../../../geometry/Polygon.js\";\nimport \"../../../../geometry/Polyline.js\";\nimport \"../../../../geometry/support/typeUtils.js\";\nimport \"../../../../layers/support/Field.js\";\nimport { equals as e } from \"../../../../layers/graphics/dehydratedFeatureComparison.js\";\nclass t {\n  get isReferenced() {\n    return 0 !== this.versions.length;\n  }\n  get isSingle() {\n    return 1 === this.versions.length && 1 === this.versions[0].refCount;\n  }\n  constructor(e, t) {\n    this._highestResolutionVersion = null, this.versions = [], this.ref(e, t);\n  }\n  ref(t, s) {\n    const r = this.feature;\n    i.oldVersion = r, this.feature && Object.defineProperty(t, \"uid\", {\n      value: this.feature.uid,\n      configurable: !0\n    });\n    for (const n of this.versions) if (n.resolution === s) {\n      n.refCount++;\n      const s = this._highestResolutionVersion === n && !e(t, n.feature);\n      return (s || this._highestResolutionVersion !== n) && (n.feature = t), i.newVersion = s ? t : r, i;\n    }\n    const o = {\n      feature: t,\n      resolution: s,\n      refCount: 1\n    };\n    return this.versions.push(o), !this._highestResolutionVersion || s < this._highestResolutionVersion.resolution ? (i.newVersion = t, this._highestResolutionVersion = o) : i.newVersion = r, i;\n  }\n  unref(e) {\n    for (let t = 0; t < this.versions.length; t++) {\n      const s = this.versions[t];\n      if (s.resolution === e) return s.refCount--, i.oldVersion = this.feature, 0 === s.refCount && (this.versions[t] = this.versions[this.versions.length - 1], this.versions.length--, this._highestResolutionVersion === s && (this._recalculateHighestResolutionVersion(), i.oldVersion = s.feature)), i.newVersion = this.feature, i;\n    }\n    return null;\n  }\n  get feature() {\n    return this._highestResolutionVersion ? this._highestResolutionVersion.feature : null;\n  }\n  _recalculateHighestResolutionVersion() {\n    if (0 === this.versions.length) return void (this._highestResolutionVersion = null);\n    let e = this.versions[0];\n    for (let t = 1; t < this.versions.length; t++) {\n      const s = this.versions[t];\n      s.resolution < e.resolution && (e = s);\n    }\n    this._highestResolutionVersion = e;\n  }\n}\nclass s {\n  get isReferenced() {\n    return 0 !== this._refCount;\n  }\n  get isSingle() {\n    return 1 === this._refCount;\n  }\n  constructor(e) {\n    this._feature = e, this._refCount = 1;\n  }\n  ref(t) {\n    return ++this._refCount, i.oldVersion = this._feature, this.feature && Object.defineProperty(t, \"uid\", {\n      value: this.feature.uid,\n      configurable: !0\n    }), e(this._feature, t) || (this._feature = t), i.newVersion = this._feature, i;\n  }\n  unref() {\n    return i.oldVersion = this._feature, this._refCount > 0 && (this._refCount--, !this.isReferenced) ? (i.newVersion = null, i) : (i.newVersion = this._feature, i);\n  }\n  get feature() {\n    return this._feature;\n  }\n}\nconst i = {\n  oldVersion: null,\n  newVersion: null\n};\nexport { t as MultiFeatureReference, s as SingleFeatureReference };","map":{"version":3,"names":["equals","e","t","isReferenced","versions","length","isSingle","refCount","constructor","_highestResolutionVersion","ref","s","r","feature","i","oldVersion","Object","defineProperty","value","uid","configurable","n","resolution","newVersion","o","push","unref","_recalculateHighestResolutionVersion","_refCount","_feature","MultiFeatureReference","SingleFeatureReference"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/support/featureReference.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../../core/byteSizeEstimations.js\";import\"../../../../core/has.js\";import\"../../../../geometry/SpatialReference.js\";import\"../../../../geometry/support/aaBoundingBox.js\";import\"../../../../core/mathUtils.js\";import\"../../../../geometry/Extent.js\";import\"../../../../geometry/Geometry.js\";import\"../../../../geometry/Multipoint.js\";import\"../../../../geometry/Point.js\";import\"../../../../geometry/Polygon.js\";import\"../../../../geometry/Polyline.js\";import\"../../../../geometry/support/typeUtils.js\";import\"../../../../layers/support/Field.js\";import{equals as e}from\"../../../../layers/graphics/dehydratedFeatureComparison.js\";class t{get isReferenced(){return 0!==this.versions.length}get isSingle(){return 1===this.versions.length&&1===this.versions[0].refCount}constructor(e,t){this._highestResolutionVersion=null,this.versions=[],this.ref(e,t)}ref(t,s){const r=this.feature;i.oldVersion=r,this.feature&&Object.defineProperty(t,\"uid\",{value:this.feature.uid,configurable:!0});for(const n of this.versions)if(n.resolution===s){n.refCount++;const s=this._highestResolutionVersion===n&&!e(t,n.feature);return(s||this._highestResolutionVersion!==n)&&(n.feature=t),i.newVersion=s?t:r,i}const o={feature:t,resolution:s,refCount:1};return this.versions.push(o),!this._highestResolutionVersion||s<this._highestResolutionVersion.resolution?(i.newVersion=t,this._highestResolutionVersion=o):i.newVersion=r,i}unref(e){for(let t=0;t<this.versions.length;t++){const s=this.versions[t];if(s.resolution===e)return s.refCount--,i.oldVersion=this.feature,0===s.refCount&&(this.versions[t]=this.versions[this.versions.length-1],this.versions.length--,this._highestResolutionVersion===s&&(this._recalculateHighestResolutionVersion(),i.oldVersion=s.feature)),i.newVersion=this.feature,i}return null}get feature(){return this._highestResolutionVersion?this._highestResolutionVersion.feature:null}_recalculateHighestResolutionVersion(){if(0===this.versions.length)return void(this._highestResolutionVersion=null);let e=this.versions[0];for(let t=1;t<this.versions.length;t++){const s=this.versions[t];s.resolution<e.resolution&&(e=s)}this._highestResolutionVersion=e}}class s{get isReferenced(){return 0!==this._refCount}get isSingle(){return 1===this._refCount}constructor(e){this._feature=e,this._refCount=1}ref(t){return++this._refCount,i.oldVersion=this._feature,this.feature&&Object.defineProperty(t,\"uid\",{value:this.feature.uid,configurable:!0}),e(this._feature,t)||(this._feature=t),i.newVersion=this._feature,i}unref(){return i.oldVersion=this._feature,this._refCount>0&&(this._refCount--,!this.isReferenced)?(i.newVersion=null,i):(i.newVersion=this._feature,i)}get feature(){return this._feature}}const i={oldVersion:null,newVersion:null};export{t as MultiFeatureReference,s as SingleFeatureReference};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}