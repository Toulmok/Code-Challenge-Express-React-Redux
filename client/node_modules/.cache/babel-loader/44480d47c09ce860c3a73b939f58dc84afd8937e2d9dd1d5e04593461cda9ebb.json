{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isNone as t, isSome as e } from \"../../../../core/maybe.js\";\nimport r from \"../../../../core/PooledArray.js\";\nimport { BindType as i } from \"../core/shaderTechnique/BindType.js\";\nimport { webglDebugEnabled as s } from \"../../../webgl/checkWebGLError.js\";\nclass o {\n  constructor(t, e, o) {\n    this._context = t, this._locations = o, this._textures = new Map(), this._freeTextureUnits = new r({\n      deallocator: null\n    }), this._glProgram = t.programCache.acquire(e.generate(\"vertex\"), e.generate(\"fragment\"), o), this._glProgram.stop = () => {\n      throw new Error(\"Wrapped _glProgram used directly\");\n    }, this.bindPass = e.generateBind(i.Pass, this), this.bindDraw = e.generateBind(i.Draw, this), this._fragmentUniforms = s() ? e.fragmentUniforms : null;\n  }\n  dispose() {\n    this._glProgram.dispose();\n  }\n  get glName() {\n    return this._glProgram.glName;\n  }\n  get compiled() {\n    return this._glProgram.compiled;\n  }\n  setUniform1b(t, e) {\n    this._glProgram.setUniform1i(t, e ? 1 : 0);\n  }\n  setUniform1i(t, e) {\n    this._glProgram.setUniform1i(t, e);\n  }\n  setUniform1f(t, e) {\n    this._glProgram.setUniform1f(t, e);\n  }\n  setUniform2fv(t, e) {\n    this._glProgram.setUniform2fv(t, e);\n  }\n  setUniform3fv(t, e) {\n    this._glProgram.setUniform3fv(t, e);\n  }\n  setUniform4fv(t, e) {\n    this._glProgram.setUniform4fv(t, e);\n  }\n  setUniformMatrix3fv(t, e) {\n    this._glProgram.setUniformMatrix3fv(t, e);\n  }\n  setUniformMatrix4fv(t, e) {\n    this._glProgram.setUniformMatrix4fv(t, e);\n  }\n  setUniform1fv(t, e) {\n    this._glProgram.setUniform1fv(t, e);\n  }\n  setUniform1iv(t, e) {\n    this._glProgram.setUniform1iv(t, e);\n  }\n  setUniform2iv(t, e) {\n    this._glProgram.setUniform3iv(t, e);\n  }\n  setUniform3iv(t, e) {\n    this._glProgram.setUniform3iv(t, e);\n  }\n  setUniform4iv(t, e) {\n    this._glProgram.setUniform4iv(t, e);\n  }\n  assertCompatibleVertexAttributeLocations(t) {\n    t.locations !== this._locations && console.error(\"VertexAttributeLocations are incompatible\");\n  }\n  stop() {\n    this._textures.clear(), this._freeTextureUnits.clear();\n  }\n  bindTexture(e, r) {\n    if (t(r) || null == r.glName) {\n      const t = this._textures.get(e);\n      return t && (this._context.bindTexture(null, t.unit), this._freeTextureUnit(t), this._textures.delete(e)), null;\n    }\n    let i = this._textures.get(e);\n    return null == i ? (i = this._allocTextureUnit(r), this._textures.set(e, i)) : i.texture = r, this._context.useProgram(this), this.setUniform1i(e, i.unit), this._context.bindTexture(r, i.unit), i.unit;\n  }\n  rebindTextures() {\n    this._context.useProgram(this), this._textures.forEach((t, e) => {\n      this._context.bindTexture(t.texture, t.unit), this.setUniform1i(e, t.unit);\n    }), e(this._fragmentUniforms) && this._fragmentUniforms.forEach(t => {\n      \"sampler2D\" !== t.type && \"samplerCube\" !== t.type || this._textures.has(t.name) || console.error(`Texture sampler ${t.name} has no bound texture`);\n    });\n  }\n  _allocTextureUnit(t) {\n    return {\n      texture: t,\n      unit: 0 === this._freeTextureUnits.length ? this._textures.size : this._freeTextureUnits.pop()\n    };\n  }\n  _freeTextureUnit(t) {\n    this._freeTextureUnits.push(t.unit);\n  }\n}\nexport { o as Program };","map":{"version":3,"names":["isNone","t","isSome","e","r","BindType","i","webglDebugEnabled","s","o","constructor","_context","_locations","_textures","Map","_freeTextureUnits","deallocator","_glProgram","programCache","acquire","generate","stop","Error","bindPass","generateBind","Pass","bindDraw","Draw","_fragmentUniforms","fragmentUniforms","dispose","glName","compiled","setUniform1b","setUniform1i","setUniform1f","setUniform2fv","setUniform3fv","setUniform4fv","setUniformMatrix3fv","setUniformMatrix4fv","setUniform1fv","setUniform1iv","setUniform2iv","setUniform3iv","setUniform4iv","assertCompatibleVertexAttributeLocations","locations","console","error","clear","bindTexture","get","unit","_freeTextureUnit","delete","_allocTextureUnit","set","texture","useProgram","rebindTextures","forEach","type","has","name","length","size","pop","push","Program"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as e}from\"../../../../core/maybe.js\";import r from\"../../../../core/PooledArray.js\";import{BindType as i}from\"../core/shaderTechnique/BindType.js\";import{webglDebugEnabled as s}from\"../../../webgl/checkWebGLError.js\";class o{constructor(t,e,o){this._context=t,this._locations=o,this._textures=new Map,this._freeTextureUnits=new r({deallocator:null}),this._glProgram=t.programCache.acquire(e.generate(\"vertex\"),e.generate(\"fragment\"),o),this._glProgram.stop=()=>{throw new Error(\"Wrapped _glProgram used directly\")},this.bindPass=e.generateBind(i.Pass,this),this.bindDraw=e.generateBind(i.Draw,this),this._fragmentUniforms=s()?e.fragmentUniforms:null}dispose(){this._glProgram.dispose()}get glName(){return this._glProgram.glName}get compiled(){return this._glProgram.compiled}setUniform1b(t,e){this._glProgram.setUniform1i(t,e?1:0)}setUniform1i(t,e){this._glProgram.setUniform1i(t,e)}setUniform1f(t,e){this._glProgram.setUniform1f(t,e)}setUniform2fv(t,e){this._glProgram.setUniform2fv(t,e)}setUniform3fv(t,e){this._glProgram.setUniform3fv(t,e)}setUniform4fv(t,e){this._glProgram.setUniform4fv(t,e)}setUniformMatrix3fv(t,e){this._glProgram.setUniformMatrix3fv(t,e)}setUniformMatrix4fv(t,e){this._glProgram.setUniformMatrix4fv(t,e)}setUniform1fv(t,e){this._glProgram.setUniform1fv(t,e)}setUniform1iv(t,e){this._glProgram.setUniform1iv(t,e)}setUniform2iv(t,e){this._glProgram.setUniform3iv(t,e)}setUniform3iv(t,e){this._glProgram.setUniform3iv(t,e)}setUniform4iv(t,e){this._glProgram.setUniform4iv(t,e)}assertCompatibleVertexAttributeLocations(t){t.locations!==this._locations&&console.error(\"VertexAttributeLocations are incompatible\")}stop(){this._textures.clear(),this._freeTextureUnits.clear()}bindTexture(e,r){if(t(r)||null==r.glName){const t=this._textures.get(e);return t&&(this._context.bindTexture(null,t.unit),this._freeTextureUnit(t),this._textures.delete(e)),null}let i=this._textures.get(e);return null==i?(i=this._allocTextureUnit(r),this._textures.set(e,i)):i.texture=r,this._context.useProgram(this),this.setUniform1i(e,i.unit),this._context.bindTexture(r,i.unit),i.unit}rebindTextures(){this._context.useProgram(this),this._textures.forEach(((t,e)=>{this._context.bindTexture(t.texture,t.unit),this.setUniform1i(e,t.unit)})),e(this._fragmentUniforms)&&this._fragmentUniforms.forEach((t=>{\"sampler2D\"!==t.type&&\"samplerCube\"!==t.type||this._textures.has(t.name)||console.error(`Texture sampler ${t.name} has no bound texture`)}))}_allocTextureUnit(t){return{texture:t,unit:0===this._freeTextureUnits.length?this._textures.size:this._freeTextureUnits.pop()}}_freeTextureUnit(t){this._freeTextureUnits.push(t.unit)}}export{o as Program};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}