{"ast":null,"code":"import _toConsumableArray from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/Error.js\";\nimport { WhereClauseCache as i } from \"../../../core/sql/WhereClauseCache.js\";\nvar n = new i(50, 500),\n  s = \"feature-store:unsupported-query\",\n  t = \" as \",\n  r = new Set([\"esriFieldTypeOID\", \"esriFieldTypeSmallInteger\", \"esriFieldTypeInteger\", \"esriFieldTypeSingle\", \"esriFieldTypeDouble\", \"esriFieldTypeLong\", \"esriFieldTypeDate\"]);\nfunction o(i, t) {\n  if (!t) return !0;\n  var r = n.get(t, i);\n  if (!r) throw new e(s, \"invalid SQL expression\", {\n    where: t\n  });\n  if (!r.isStandardized) throw new e(s, \"where clause is not standard\", {\n    where: t\n  });\n  return c(i, r.fieldNames, \"where clause contains missing fields\"), !0;\n}\nfunction a(i, t, r) {\n  if (!t) return !0;\n  var o = n.get(t, i);\n  if (!o) throw new e(s, \"invalid SQL expression\", {\n    having: t\n  });\n  if (!o.isAggregate) throw new e(s, \"having does not contain a valid aggregate function\", {\n    having: t\n  });\n  var a = o.fieldNames;\n  c(i, a, \"having contains missing fields\");\n  if (!o.getExpressions().every(function (e) {\n    var _i$get;\n    var n = e.aggregateType,\n      s = e.field,\n      t = (_i$get = i.get(s)) === null || _i$get === void 0 ? void 0 : _i$get.name;\n    return r.some(function (e) {\n      var _i$get2;\n      var s = e.onStatisticField,\n        r = e.statisticType,\n        o = (_i$get2 = i.get(s)) === null || _i$get2 === void 0 ? void 0 : _i$get2.name;\n      return o === t && r.toLowerCase().trim() === n;\n    });\n  })) throw new e(s, \"expressions in having should also exist in outStatistics\", {\n    having: t\n  });\n  return !0;\n}\nfunction l(e, i) {\n  return e ? n.get(e, i) : null;\n}\nfunction c(i, n, t) {\n  var r = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !0;\n  var o = [];\n  var _iterator = _createForOfIteratorHelper(n),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _u = _step.value;\n      if (\"*\" !== _u && !i.has(_u)) if (r) {\n        var _n = d(_u);\n        try {\n          var _t = l(_n, i);\n          if (!_t) throw new e(s, \"invalid SQL expression\", {\n            where: _n\n          });\n          if (!_t.isStandardized) throw new e(s, \"expression is not standard\", {\n            clause: _t\n          });\n          c(i, _t.fieldNames, \"expression contains missing fields\");\n        } catch (a) {\n          var _e = a && a.details;\n          if (_e && (_e.clause || _e.where)) throw a;\n          _e && _e.missingFields ? o.push.apply(o, _toConsumableArray(_e.missingFields)) : o.push(_u);\n        }\n      } else o.push(_u);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  if (o.length) throw new e(s, t, {\n    missingFields: o\n  });\n}\nfunction d(e) {\n  return e.split(t)[0];\n}\nfunction u(e) {\n  return e.split(t)[1];\n}\nfunction f(e, i) {\n  var n = i.get(e);\n  return !!n && !r.has(n.type);\n}\nexport { u as getAliasFromFieldName, d as getExpressionFromFieldName, l as getWhereClause, f as hasInvalidFieldType, c as validateFields, a as validateHaving, o as validateWhere };","map":{"version":3,"names":["e","WhereClauseCache","i","n","s","t","r","Set","o","get","where","isStandardized","c","fieldNames","a","having","isAggregate","getExpressions","every","_i$get","aggregateType","field","name","some","_i$get2","onStatisticField","statisticType","toLowerCase","trim","l","arguments","length","undefined","_iterator","_createForOfIteratorHelper","_step","done","u","value","has","d","clause","details","missingFields","push","apply","_toConsumableArray","err","f","split","type","getAliasFromFieldName","getExpressionFromFieldName","getWhereClause","hasInvalidFieldType","validateFields","validateHaving","validateWhere"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{WhereClauseCache as i}from\"../../../core/sql/WhereClauseCache.js\";const n=new i(50,500),s=\"feature-store:unsupported-query\",t=\" as \",r=new Set([\"esriFieldTypeOID\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\",\"esriFieldTypeDate\"]);function o(i,t){if(!t)return!0;const r=n.get(t,i);if(!r)throw new e(s,\"invalid SQL expression\",{where:t});if(!r.isStandardized)throw new e(s,\"where clause is not standard\",{where:t});return c(i,r.fieldNames,\"where clause contains missing fields\"),!0}function a(i,t,r){if(!t)return!0;const o=n.get(t,i);if(!o)throw new e(s,\"invalid SQL expression\",{having:t});if(!o.isAggregate)throw new e(s,\"having does not contain a valid aggregate function\",{having:t});const a=o.fieldNames;c(i,a,\"having contains missing fields\");if(!o.getExpressions().every((e=>{const{aggregateType:n,field:s}=e,t=i.get(s)?.name;return r.some((e=>{const{onStatisticField:s,statisticType:r}=e,o=i.get(s)?.name;return o===t&&r.toLowerCase().trim()===n}))})))throw new e(s,\"expressions in having should also exist in outStatistics\",{having:t});return!0}function l(e,i){return e?n.get(e,i):null}function c(i,n,t,r=!0){const o=[];for(const u of n)if(\"*\"!==u&&!i.has(u))if(r){const n=d(u);try{const t=l(n,i);if(!t)throw new e(s,\"invalid SQL expression\",{where:n});if(!t.isStandardized)throw new e(s,\"expression is not standard\",{clause:t});c(i,t.fieldNames,\"expression contains missing fields\")}catch(a){const e=a&&a.details;if(e&&(e.clause||e.where))throw a;e&&e.missingFields?o.push(...e.missingFields):o.push(u)}}else o.push(u);if(o.length)throw new e(s,t,{missingFields:o})}function d(e){return e.split(t)[0]}function u(e){return e.split(t)[1]}function f(e,i){const n=i.get(e);return!!n&&!r.has(n.type)}export{u as getAliasFromFieldName,d as getExpressionFromFieldName,l as getWhereClause,f as hasInvalidFieldType,c as validateFields,a as validateHaving,o as validateWhere};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}