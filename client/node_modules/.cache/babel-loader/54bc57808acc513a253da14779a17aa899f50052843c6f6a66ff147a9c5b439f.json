{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport i from \"../../../../core/PooledArray.js\";\nimport { h as t, d as e } from \"../../../../chunks/vec3.js\";\nimport { f as s, a as n, c as r } from \"../../../../chunks/vec3f64.js\";\nimport { assert as h } from \"./Util.js\";\nclass o {\n  constructor(i, e, o, c) {\n    this.primitiveIndices = i, this._numIndexPerPrimitive = e, this.indices = o, this.position = c, this._children = void 0, h(i.length >= 1), h(o.length % this._numIndexPerPrimitive == 0), h(o.length >= i.length * this._numIndexPerPrimitive), h(3 === c.size || 4 === c.size);\n    const {\n        data: d,\n        size: l\n      } = c,\n      m = i.length;\n    let u = l * o[this._numIndexPerPrimitive * i[0]];\n    a.clear(), a.push(u);\n    const f = s(d[u], d[u + 1], d[u + 2]),\n      x = n(f);\n    for (let t = 0; t < m; ++t) {\n      const e = this._numIndexPerPrimitive * i[t];\n      for (let i = 0; i < this._numIndexPerPrimitive; ++i) {\n        u = l * o[e + i], a.push(u);\n        let t = d[u];\n        f[0] = Math.min(t, f[0]), x[0] = Math.max(t, x[0]), t = d[u + 1], f[1] = Math.min(t, f[1]), x[1] = Math.max(t, x[1]), t = d[u + 2], f[2] = Math.min(t, f[2]), x[2] = Math.max(t, x[2]);\n      }\n    }\n    this.bbMin = f, this.bbMax = x;\n    const P = t(r(), this.bbMin, this.bbMax, .5);\n    this.radius = .5 * Math.max(Math.max(x[0] - f[0], x[1] - f[1]), x[2] - f[2]);\n    let v = this.radius * this.radius;\n    for (let t = 0; t < a.length; ++t) {\n      u = a.getItemAt(t);\n      const i = d[u] - P[0],\n        e = d[u + 1] - P[1],\n        s = d[u + 2] - P[2],\n        n = i * i + e * e + s * s;\n      if (n <= v) continue;\n      const r = Math.sqrt(n),\n        h = .5 * (r - this.radius);\n      this.radius = this.radius + h, v = this.radius * this.radius;\n      const o = h / r;\n      P[0] += i * o, P[1] += e * o, P[2] += s * o;\n    }\n    this.center = P, a.clear();\n  }\n  getChildren() {\n    if (this._children || e(this.bbMin, this.bbMax) <= 1) return this._children;\n    const i = t(r(), this.bbMin, this.bbMax, .5),\n      s = this.primitiveIndices.length,\n      n = new Uint8Array(s),\n      h = new Array(8);\n    for (let t = 0; t < 8; ++t) h[t] = 0;\n    const {\n      data: a,\n      size: c\n    } = this.position;\n    for (let t = 0; t < s; ++t) {\n      let e = 0;\n      const s = this._numIndexPerPrimitive * this.primitiveIndices[t];\n      let r = c * this.indices[s],\n        o = a[r],\n        d = a[r + 1],\n        l = a[r + 2];\n      for (let i = 1; i < this._numIndexPerPrimitive; ++i) {\n        r = c * this.indices[s + i];\n        const t = a[r],\n          e = a[r + 1],\n          n = a[r + 2];\n        t < o && (o = t), e < d && (d = e), n < l && (l = n);\n      }\n      o < i[0] && (e |= 1), d < i[1] && (e |= 2), l < i[2] && (e |= 4), n[t] = e, ++h[e];\n    }\n    let d = 0;\n    for (let t = 0; t < 8; ++t) h[t] > 0 && ++d;\n    if (d < 2) return;\n    const l = new Array(8);\n    for (let t = 0; t < 8; ++t) l[t] = h[t] > 0 ? new Uint32Array(h[t]) : void 0;\n    for (let t = 0; t < 8; ++t) h[t] = 0;\n    for (let t = 0; t < s; ++t) {\n      const i = n[t];\n      l[i][h[i]++] = this.primitiveIndices[t];\n    }\n    this._children = new Array();\n    for (let t = 0; t < 8; ++t) void 0 !== l[t] && this._children.push(new o(l[t], this._numIndexPerPrimitive, this.indices, this.position));\n    return this._children;\n  }\n  static prune() {\n    a.prune();\n  }\n}\nconst a = new i({\n  deallocator: null\n});\nexport { o as BoundingInfo };","map":{"version":3,"names":["i","h","t","d","e","f","s","a","n","c","r","assert","o","constructor","primitiveIndices","_numIndexPerPrimitive","indices","position","_children","length","size","data","l","m","u","clear","push","x","Math","min","max","bbMin","bbMax","P","radius","v","getItemAt","sqrt","center","getChildren","Uint8Array","Array","Uint32Array","prune","deallocator","BoundingInfo"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/lib/BoundingInfo.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport i from\"../../../../core/PooledArray.js\";import{h as t,d as e}from\"../../../../chunks/vec3.js\";import{f as s,a as n,c as r}from\"../../../../chunks/vec3f64.js\";import{assert as h}from\"./Util.js\";class o{constructor(i,e,o,c){this.primitiveIndices=i,this._numIndexPerPrimitive=e,this.indices=o,this.position=c,this._children=void 0,h(i.length>=1),h(o.length%this._numIndexPerPrimitive==0),h(o.length>=i.length*this._numIndexPerPrimitive),h(3===c.size||4===c.size);const{data:d,size:l}=c,m=i.length;let u=l*o[this._numIndexPerPrimitive*i[0]];a.clear(),a.push(u);const f=s(d[u],d[u+1],d[u+2]),x=n(f);for(let t=0;t<m;++t){const e=this._numIndexPerPrimitive*i[t];for(let i=0;i<this._numIndexPerPrimitive;++i){u=l*o[e+i],a.push(u);let t=d[u];f[0]=Math.min(t,f[0]),x[0]=Math.max(t,x[0]),t=d[u+1],f[1]=Math.min(t,f[1]),x[1]=Math.max(t,x[1]),t=d[u+2],f[2]=Math.min(t,f[2]),x[2]=Math.max(t,x[2])}}this.bbMin=f,this.bbMax=x;const P=t(r(),this.bbMin,this.bbMax,.5);this.radius=.5*Math.max(Math.max(x[0]-f[0],x[1]-f[1]),x[2]-f[2]);let v=this.radius*this.radius;for(let t=0;t<a.length;++t){u=a.getItemAt(t);const i=d[u]-P[0],e=d[u+1]-P[1],s=d[u+2]-P[2],n=i*i+e*e+s*s;if(n<=v)continue;const r=Math.sqrt(n),h=.5*(r-this.radius);this.radius=this.radius+h,v=this.radius*this.radius;const o=h/r;P[0]+=i*o,P[1]+=e*o,P[2]+=s*o}this.center=P,a.clear()}getChildren(){if(this._children||e(this.bbMin,this.bbMax)<=1)return this._children;const i=t(r(),this.bbMin,this.bbMax,.5),s=this.primitiveIndices.length,n=new Uint8Array(s),h=new Array(8);for(let t=0;t<8;++t)h[t]=0;const{data:a,size:c}=this.position;for(let t=0;t<s;++t){let e=0;const s=this._numIndexPerPrimitive*this.primitiveIndices[t];let r=c*this.indices[s],o=a[r],d=a[r+1],l=a[r+2];for(let i=1;i<this._numIndexPerPrimitive;++i){r=c*this.indices[s+i];const t=a[r],e=a[r+1],n=a[r+2];t<o&&(o=t),e<d&&(d=e),n<l&&(l=n)}o<i[0]&&(e|=1),d<i[1]&&(e|=2),l<i[2]&&(e|=4),n[t]=e,++h[e]}let d=0;for(let t=0;t<8;++t)h[t]>0&&++d;if(d<2)return;const l=new Array(8);for(let t=0;t<8;++t)l[t]=h[t]>0?new Uint32Array(h[t]):void 0;for(let t=0;t<8;++t)h[t]=0;for(let t=0;t<s;++t){const i=n[t];l[i][h[i]++]=this.primitiveIndices[t]}this._children=new Array;for(let t=0;t<8;++t)void 0!==l[t]&&this._children.push(new o(l[t],this._numIndexPerPrimitive,this.indices,this.position));return this._children}static prune(){a.prune()}}const a=new i({deallocator:null});export{o as BoundingInfo};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}