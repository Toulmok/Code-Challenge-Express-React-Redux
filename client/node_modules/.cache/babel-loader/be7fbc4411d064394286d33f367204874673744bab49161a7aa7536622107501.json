{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../geometry.js\";\nimport e from \"../../request.js\";\nimport t from \"../../core/Error.js\";\nimport n from \"../../core/Logger.js\";\nimport { isNone as i, unwrapOr as r, isSome as a } from \"../../core/maybe.js\";\nimport { WGS84 as o } from \"../../geometry/support/spatialReferenceUtils.js\";\nimport { project as s } from \"../../geometry/support/webMercatorUtils.js\";\nimport { convertToFeatureSet as l, convertToGeometry as c, convertFromGeometry as d } from \"../graphics/featureConversionUtils.js\";\nimport u from \"../graphics/OptimizedFeatureSet.js\";\nimport { validateGeoJSON as m, inferLayerProperties as p, createOptimizedFeatures as f } from \"../graphics/sources/geojson/geojson.js\";\nimport { createDrawingInfo as g } from \"../graphics/sources/support/clientSideDefaults.js\";\nimport y from \"../support/FieldsIndex.js\";\nimport { kebabDict as w } from \"../support/fieldType.js\";\nimport b from \"../../geometry/SpatialReference.js\";\nconst h = n.getLogger(\"esri.layers.graphics.sources.ogcfeature\"),\n  j = \"http://www.opengis.net/def/crs/\",\n  F = `${j}OGC/1.3/CRS84`;\nasync function I(n, r) {\n  let a = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let o = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 5;\n  const {\n      links: s\n    } = n,\n    l = D(s, \"items\", \"application/geo+json\") || D(s, \"http://www.opengis.net/def/rel/ogc/1.0/items\", \"application/geo+json\");\n  if (i(l)) throw new t(\"ogc-feature-layer:missing-items-page\", \"Missing items url\");\n  const {\n    data: c\n  } = await e(l.href, {\n    signal: a.signal,\n    query: {\n      limit: o,\n      ...a.customParameters,\n      token: a.apiKey\n    },\n    headers: {\n      accept: \"application/geo+json\"\n    }\n  });\n  await m(c);\n  const d = p(c, {\n      geometryType: r.geometryType\n    }),\n    u = r.fields || d.fields || [],\n    f = null != r.hasZ ? r.hasZ : d.hasZ,\n    b = d.geometryType,\n    j = r.objectIdField || d.objectIdFieldName || \"OBJECTID\";\n  let F = r.timeInfo;\n  const I = u.find(_ref => {\n    let {\n      name: e\n    } = _ref;\n    return e === j;\n  });\n  if (I) I.editable = !1, I.nullable = !1;else {\n    if (!d.objectIdFieldType) throw new t(\"ogc-feature-layer:missing-feature-id\", \"Collection geojson require a feature id as a unique identifier\");\n    u.unshift({\n      name: j,\n      alias: j,\n      type: \"number\" === d.objectIdFieldType ? \"esriFieldTypeOID\" : \"esriFieldTypeString\",\n      editable: !1,\n      nullable: !1\n    });\n  }\n  if (j !== d.objectIdFieldName) {\n    const e = u.find(_ref2 => {\n      let {\n        name: e\n      } = _ref2;\n      return e === d.objectIdFieldName;\n    });\n    e && (e.type = \"esriFieldTypeInteger\");\n  }\n  u === d.fields && d.unknownFields.length > 0 && h.warn({\n    name: \"ogc-feature-layer:unknown-field-types\",\n    message: \"Some fields types couldn't be inferred from the features and were dropped\",\n    details: {\n      unknownFields: d.unknownFields\n    }\n  });\n  for (const e of u) {\n    if (null == e.name && (e.name = e.alias), null == e.alias && (e.alias = e.name), \"esriFieldTypeOID\" !== e.type && \"esriFieldTypeGlobalID\" !== e.type && (e.editable = null == e.editable || !!e.editable, e.nullable = null == e.nullable || !!e.nullable), !e.name) throw new t(\"ogc-feature-layer:invalid-field-name\", \"field name is missing\", {\n      field: e\n    });\n    if (!w.jsonValues.includes(e.type)) throw new t(\"ogc-feature-layer:invalid-field-type\", `invalid type for field \"${e.name}\"`, {\n      field: e\n    });\n  }\n  if (F) {\n    const e = new y(u);\n    if (F.startTimeField) {\n      const t = e.get(F.startTimeField);\n      t ? (F.startTimeField = t.name, t.type = \"esriFieldTypeDate\") : F.startTimeField = null;\n    }\n    if (F.endTimeField) {\n      const t = e.get(F.endTimeField);\n      t ? (F.endTimeField = t.name, t.type = \"esriFieldTypeDate\") : F.endTimeField = null;\n    }\n    if (F.trackIdField) {\n      const t = e.get(F.trackIdField);\n      t ? F.trackIdField = t.name : (F.trackIdField = null, h.warn({\n        name: \"ogc-feature-layer:invalid-timeInfo-trackIdField\",\n        message: \"trackIdField is missing\",\n        details: {\n          timeInfo: F\n        }\n      }));\n    }\n    F.startTimeField || F.endTimeField || (h.warn({\n      name: \"ogc-feature-layer:invalid-timeInfo\",\n      message: \"startTimeField and endTimeField are missing\",\n      details: {\n        timeInfo: F\n      }\n    }), F = null);\n  }\n  return {\n    drawingInfo: b ? g(b) : null,\n    extent: W(n),\n    geometryType: b,\n    fields: u,\n    hasZ: !!f,\n    objectIdField: j,\n    timeInfo: F\n  };\n}\nasync function T(n) {\n  let r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n      links: a\n    } = n,\n    o = D(a, \"data\", \"application/json\") || D(a, \"http://www.opengis.net/def/rel/ogc/1.0/data\", \"application/json\");\n  if (i(o)) throw new t(\"ogc-feature-layer:missing-collections-page\", \"Missing collections url\");\n  const {\n      apiKey: s,\n      customParameters: l,\n      signal: c\n    } = r,\n    {\n      data: d\n    } = await e(o.href, {\n      signal: c,\n      headers: {\n        accept: \"application/json\"\n      },\n      query: {\n        ...l,\n        token: s\n      }\n    });\n  return d;\n}\nasync function k(n) {\n  let r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n      links: a\n    } = n,\n    o = D(a, \"conformance\", \"application/json\") || D(a, \"http://www.opengis.net/def/rel/ogc/1.0/conformance\", \"application/json\");\n  if (i(o)) throw new t(\"ogc-feature-layer:missing-conformance-page\", \"Missing conformance url\");\n  const {\n      apiKey: s,\n      customParameters: l,\n      signal: c\n    } = r,\n    {\n      data: d\n    } = await e(o.href, {\n      signal: c,\n      headers: {\n        accept: \"application/json\"\n      },\n      query: {\n        ...l,\n        token: s\n      }\n    });\n  return d;\n}\nasync function x(t) {\n  let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n      apiKey: i,\n      customParameters: r,\n      signal: a\n    } = n,\n    {\n      data: o\n    } = await e(t, {\n      signal: a,\n      headers: {\n        accept: \"application/json\"\n      },\n      query: {\n        ...r,\n        token: i\n      }\n    });\n  return o;\n}\nasync function S(t) {\n  let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const r = \"application/vnd.oai.openapi+json;version=3.0\",\n    a = D(t.links, \"service-desc\", r);\n  if (i(a)) return h.warn(\"ogc-feature-layer:missing-openapi-page\", \"The OGC API-Features server does not have an OpenAPI page.\"), null;\n  const {\n      apiKey: o,\n      customParameters: s,\n      signal: l\n    } = n,\n    {\n      data: c\n    } = await e(a.href, {\n      signal: l,\n      headers: {\n        accept: r\n      },\n      query: {\n        ...s,\n        token: o\n      }\n    });\n  return c;\n}\nfunction v(e) {\n  const t = /^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e)?.groups;\n  if (!t) return null;\n  const {\n    authority: n,\n    code: i\n  } = t;\n  switch (n.toLowerCase()) {\n    case \"ogc\":\n      switch (i.toLowerCase()) {\n        case \"crs27\":\n          return b.GCS_NAD_1927.wkid;\n        case \"crs83\":\n          return 4269;\n        case \"crs84\":\n        case \"crs84h\":\n          return b.WGS84.wkid;\n        default:\n          return null;\n      }\n    case \"esri\":\n    case \"epsg\":\n      {\n        const e = Number.parseInt(i, 10);\n        return Number.isNaN(e) ? null : e;\n      }\n    default:\n      return null;\n  }\n}\nasync function N(e, t, n) {\n  const i = await q(e, t, n);\n  return l(i);\n}\nasync function q(n, l, m) {\n  const {\n      collection: p,\n      layerDefinition: g,\n      maxRecordCount: y,\n      queryParameters: {\n        apiKey: w,\n        customParameters: h\n      },\n      spatialReference: j,\n      supportedCrs: F\n    } = n,\n    {\n      links: I\n    } = p,\n    T = D(I, \"items\", \"application/geo+json\") || D(I, \"http://www.opengis.net/def/rel/ogc/1.0/items\", \"application/geo+json\");\n  if (i(T)) throw new t(\"ogc-feature-layer:missing-items-page\", \"Missing items url\");\n  const {\n    geometry: k,\n    num: x,\n    start: S,\n    timeExtent: v,\n    where: N\n  } = l;\n  if (l.objectIds) throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\", \"Queries with objectids are not supported\");\n  const q = b.fromJSON(j),\n    O = r(l.outSpatialReference, q),\n    C = O.isWGS84 ? null : R(O, F),\n    W = G(k, F),\n    P = M(v),\n    Z = $(N),\n    K = x ?? (null != S && void 0 !== S ? 10 : y),\n    {\n      data: L\n    } = await e(T.href, {\n      ...m,\n      query: {\n        ...h,\n        ...W,\n        crs: C,\n        datetime: P,\n        query: Z,\n        limit: K,\n        startindex: S,\n        token: w\n      },\n      headers: {\n        accept: \"application/geo+json\"\n      }\n    });\n  let J = !1;\n  if (L.links) {\n    const e = L.links.find(e => \"next\" === e.rel);\n    J = !!e;\n  }\n  !J && Number.isInteger(L.numberMatched) && Number.isInteger(L.numberReturned) && (J = L.numberReturned < L.numberMatched);\n  const {\n      fields: z,\n      geometryType: A,\n      hasZ: E,\n      objectIdField: U\n    } = g,\n    _ = f(L, {\n      geometryType: A,\n      hasZ: E,\n      objectIdField: U\n    });\n  if (!C && O.isWebMercator) for (const e of _) if (a(e.geometry) && null != A) {\n    const t = c(e.geometry, A, E, !1);\n    t.spatialReference = b.WGS84, e.geometry = d(s(t, O));\n  }\n  for (const e of _) e.objectId = e.attributes[U];\n  const B = C || !C && O.isWebMercator ? O.toJSON() : o,\n    Q = new u();\n  return Q.exceededTransferLimit = J, Q.features = _, Q.fields = z, Q.geometryType = A, Q.hasZ = E, Q.objectIdFieldName = U, Q.spatialReference = B, Q;\n}\nfunction O(e) {\n  return a(e) && \"extent\" === e.type;\n}\nfunction R(e, t) {\n  const {\n    isWebMercator: n,\n    wkid: i\n  } = e;\n  if (!i) return null;\n  const r = n ? t[3857] ?? t[102100] ?? t[102113] ?? t[900913] : t[e.wkid];\n  return r ? `${j}${r}` : null;\n}\nfunction C(e) {\n  if (i(e)) return \"\";\n  const {\n    xmin: t,\n    ymin: n,\n    xmax: r,\n    ymax: a\n  } = e;\n  return `${t},${n},${r},${a}`;\n}\nfunction M(e) {\n  if (i(e)) return null;\n  const {\n    start: t,\n    end: n\n  } = e;\n  return `${a(t) ? t.toISOString() : \"..\"}/${a(n) ? n.toISOString() : \"..\"}`;\n}\nfunction $(e) {\n  return i(e) || !e || \"1=1\" === e ? null : e;\n}\nfunction G(e, t) {\n  if (!O(e)) return null;\n  const {\n    spatialReference: n\n  } = e;\n  if (!n || n.isWGS84) return {\n    bbox: C(e)\n  };\n  const i = R(n, t);\n  return a(i) ? {\n    bbox: C(e),\n    \"bbox-crs\": i\n  } : n.isWebMercator ? {\n    bbox: C(s(e, b.WGS84))\n  } : null;\n}\nfunction W(e) {\n  const t = e.extent?.spatial;\n  if (!t) return null;\n  const n = t.bbox[0],\n    i = 4 === n.length,\n    r = n[0],\n    a = n[1],\n    o = i ? void 0 : n[2];\n  return {\n    xmin: r,\n    ymin: a,\n    xmax: i ? n[2] : n[3],\n    ymax: i ? n[3] : n[4],\n    zmin: o,\n    zmax: i ? void 0 : n[5],\n    spatialReference: b.WGS84.toJSON()\n  };\n}\nfunction D(e, t, n) {\n  return e.find(e => e.rel === t && e.type === n) || e.find(e => e.rel === t && !e.type);\n}\nexport { F as crsDefault, j as crsPrefix, I as getCollectionDefinition, T as getServerCollections, k as getServerConformance, x as getServerLandingPage, S as getServerOpenApi, v as getSpatialReferenceWkid, N as queryFeatureSetJSON, q as queryOptimizedFeatureSet };","map":{"version":3,"names":["e","t","n","isNone","i","unwrapOr","r","isSome","a","WGS84","o","project","s","convertToFeatureSet","l","convertToGeometry","c","convertFromGeometry","d","u","validateGeoJSON","m","inferLayerProperties","p","createOptimizedFeatures","f","createDrawingInfo","g","y","kebabDict","w","b","h","getLogger","j","F","I","arguments","length","undefined","links","D","data","href","signal","query","limit","customParameters","token","apiKey","headers","accept","geometryType","fields","hasZ","objectIdField","objectIdFieldName","timeInfo","find","_ref","name","editable","nullable","objectIdFieldType","unshift","alias","type","_ref2","unknownFields","warn","message","details","field","jsonValues","includes","startTimeField","get","endTimeField","trackIdField","drawingInfo","extent","W","T","k","x","S","v","exec","groups","authority","code","toLowerCase","GCS_NAD_1927","wkid","Number","parseInt","isNaN","N","q","collection","layerDefinition","maxRecordCount","queryParameters","spatialReference","supportedCrs","geometry","num","start","timeExtent","where","objectIds","fromJSON","O","outSpatialReference","C","isWGS84","R","G","P","M","Z","$","K","L","crs","datetime","startindex","J","rel","isInteger","numberMatched","numberReturned","z","A","E","U","_","isWebMercator","objectId","attributes","B","toJSON","Q","exceededTransferLimit","features","xmin","ymin","xmax","ymax","end","toISOString","bbox","spatial","zmin","zmax","crsDefault","crsPrefix","getCollectionDefinition","getServerCollections","getServerConformance","getServerLandingPage","getServerOpenApi","getSpatialReferenceWkid","queryFeatureSetJSON","queryOptimizedFeatureSet"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{isNone as i,unwrapOr as r,isSome as a}from\"../../core/maybe.js\";import{WGS84 as o}from\"../../geometry/support/spatialReferenceUtils.js\";import{project as s}from\"../../geometry/support/webMercatorUtils.js\";import{convertToFeatureSet as l,convertToGeometry as c,convertFromGeometry as d}from\"../graphics/featureConversionUtils.js\";import u from\"../graphics/OptimizedFeatureSet.js\";import{validateGeoJSON as m,inferLayerProperties as p,createOptimizedFeatures as f}from\"../graphics/sources/geojson/geojson.js\";import{createDrawingInfo as g}from\"../graphics/sources/support/clientSideDefaults.js\";import y from\"../support/FieldsIndex.js\";import{kebabDict as w}from\"../support/fieldType.js\";import b from\"../../geometry/SpatialReference.js\";const h=n.getLogger(\"esri.layers.graphics.sources.ogcfeature\"),j=\"http://www.opengis.net/def/crs/\",F=`${j}OGC/1.3/CRS84`;async function I(n,r,a={},o=5){const{links:s}=n,l=D(s,\"items\",\"application/geo+json\")||D(s,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(i(l))throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{data:c}=await e(l.href,{signal:a.signal,query:{limit:o,...a.customParameters,token:a.apiKey},headers:{accept:\"application/geo+json\"}});await m(c);const d=p(c,{geometryType:r.geometryType}),u=r.fields||d.fields||[],f=null!=r.hasZ?r.hasZ:d.hasZ,b=d.geometryType,j=r.objectIdField||d.objectIdFieldName||\"OBJECTID\";let F=r.timeInfo;const I=u.find((({name:e})=>e===j));if(I)I.editable=!1,I.nullable=!1;else{if(!d.objectIdFieldType)throw new t(\"ogc-feature-layer:missing-feature-id\",\"Collection geojson require a feature id as a unique identifier\");u.unshift({name:j,alias:j,type:\"number\"===d.objectIdFieldType?\"esriFieldTypeOID\":\"esriFieldTypeString\",editable:!1,nullable:!1})}if(j!==d.objectIdFieldName){const e=u.find((({name:e})=>e===d.objectIdFieldName));e&&(e.type=\"esriFieldTypeInteger\")}u===d.fields&&d.unknownFields.length>0&&h.warn({name:\"ogc-feature-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:d.unknownFields}});for(const e of u){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new t(\"ogc-feature-layer:invalid-field-name\",\"field name is missing\",{field:e});if(!w.jsonValues.includes(e.type))throw new t(\"ogc-feature-layer:invalid-field-type\",`invalid type for field \"${e.name}\"`,{field:e})}if(F){const e=new y(u);if(F.startTimeField){const t=e.get(F.startTimeField);t?(F.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):F.startTimeField=null}if(F.endTimeField){const t=e.get(F.endTimeField);t?(F.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):F.endTimeField=null}if(F.trackIdField){const t=e.get(F.trackIdField);t?F.trackIdField=t.name:(F.trackIdField=null,h.warn({name:\"ogc-feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:F}}))}F.startTimeField||F.endTimeField||(h.warn({name:\"ogc-feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:F}}),F=null)}return{drawingInfo:b?g(b):null,extent:W(n),geometryType:b,fields:u,hasZ:!!f,objectIdField:j,timeInfo:F}}async function T(n,r={}){const{links:a}=n,o=D(a,\"data\",\"application/json\")||D(a,\"http://www.opengis.net/def/rel/ogc/1.0/data\",\"application/json\");if(i(o))throw new t(\"ogc-feature-layer:missing-collections-page\",\"Missing collections url\");const{apiKey:s,customParameters:l,signal:c}=r,{data:d}=await e(o.href,{signal:c,headers:{accept:\"application/json\"},query:{...l,token:s}});return d}async function k(n,r={}){const{links:a}=n,o=D(a,\"conformance\",\"application/json\")||D(a,\"http://www.opengis.net/def/rel/ogc/1.0/conformance\",\"application/json\");if(i(o))throw new t(\"ogc-feature-layer:missing-conformance-page\",\"Missing conformance url\");const{apiKey:s,customParameters:l,signal:c}=r,{data:d}=await e(o.href,{signal:c,headers:{accept:\"application/json\"},query:{...l,token:s}});return d}async function x(t,n={}){const{apiKey:i,customParameters:r,signal:a}=n,{data:o}=await e(t,{signal:a,headers:{accept:\"application/json\"},query:{...r,token:i}});return o}async function S(t,n={}){const r=\"application/vnd.oai.openapi+json;version=3.0\",a=D(t.links,\"service-desc\",r);if(i(a))return h.warn(\"ogc-feature-layer:missing-openapi-page\",\"The OGC API-Features server does not have an OpenAPI page.\"),null;const{apiKey:o,customParameters:s,signal:l}=n,{data:c}=await e(a.href,{signal:l,headers:{accept:r},query:{...s,token:o}});return c}function v(e){const t=/^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e)?.groups;if(!t)return null;const{authority:n,code:i}=t;switch(n.toLowerCase()){case\"ogc\":switch(i.toLowerCase()){case\"crs27\":return b.GCS_NAD_1927.wkid;case\"crs83\":return 4269;case\"crs84\":case\"crs84h\":return b.WGS84.wkid;default:return null}case\"esri\":case\"epsg\":{const e=Number.parseInt(i,10);return Number.isNaN(e)?null:e}default:return null}}async function N(e,t,n){const i=await q(e,t,n);return l(i)}async function q(n,l,m){const{collection:p,layerDefinition:g,maxRecordCount:y,queryParameters:{apiKey:w,customParameters:h},spatialReference:j,supportedCrs:F}=n,{links:I}=p,T=D(I,\"items\",\"application/geo+json\")||D(I,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(i(T))throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{geometry:k,num:x,start:S,timeExtent:v,where:N}=l;if(l.objectIds)throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\",\"Queries with objectids are not supported\");const q=b.fromJSON(j),O=r(l.outSpatialReference,q),C=O.isWGS84?null:R(O,F),W=G(k,F),P=M(v),Z=$(N),K=x??(null!=S&&void 0!==S?10:y),{data:L}=await e(T.href,{...m,query:{...h,...W,crs:C,datetime:P,query:Z,limit:K,startindex:S,token:w},headers:{accept:\"application/geo+json\"}});let J=!1;if(L.links){const e=L.links.find((e=>\"next\"===e.rel));J=!!e}!J&&Number.isInteger(L.numberMatched)&&Number.isInteger(L.numberReturned)&&(J=L.numberReturned<L.numberMatched);const{fields:z,geometryType:A,hasZ:E,objectIdField:U}=g,_=f(L,{geometryType:A,hasZ:E,objectIdField:U});if(!C&&O.isWebMercator)for(const e of _)if(a(e.geometry)&&null!=A){const t=c(e.geometry,A,E,!1);t.spatialReference=b.WGS84,e.geometry=d(s(t,O))}for(const e of _)e.objectId=e.attributes[U];const B=C||!C&&O.isWebMercator?O.toJSON():o,Q=new u;return Q.exceededTransferLimit=J,Q.features=_,Q.fields=z,Q.geometryType=A,Q.hasZ=E,Q.objectIdFieldName=U,Q.spatialReference=B,Q}function O(e){return a(e)&&\"extent\"===e.type}function R(e,t){const{isWebMercator:n,wkid:i}=e;if(!i)return null;const r=n?t[3857]??t[102100]??t[102113]??t[900913]:t[e.wkid];return r?`${j}${r}`:null}function C(e){if(i(e))return\"\";const{xmin:t,ymin:n,xmax:r,ymax:a}=e;return`${t},${n},${r},${a}`}function M(e){if(i(e))return null;const{start:t,end:n}=e;return`${a(t)?t.toISOString():\"..\"}/${a(n)?n.toISOString():\"..\"}`}function $(e){return i(e)||!e||\"1=1\"===e?null:e}function G(e,t){if(!O(e))return null;const{spatialReference:n}=e;if(!n||n.isWGS84)return{bbox:C(e)};const i=R(n,t);return a(i)?{bbox:C(e),\"bbox-crs\":i}:n.isWebMercator?{bbox:C(s(e,b.WGS84))}:null}function W(e){const t=e.extent?.spatial;if(!t)return null;const n=t.bbox[0],i=4===n.length,r=n[0],a=n[1],o=i?void 0:n[2];return{xmin:r,ymin:a,xmax:i?n[2]:n[3],ymax:i?n[3]:n[4],zmin:o,zmax:i?void 0:n[5],spatialReference:b.WGS84.toJSON()}}function D(e,t,n){return e.find((e=>e.rel===t&&e.type===n))||e.find((e=>e.rel===t&&!e.type))}export{F as crsDefault,j as crsPrefix,I as getCollectionDefinition,T as getServerCollections,k as getServerConformance,x as getServerLandingPage,S as getServerOpenApi,v as getSpatialReferenceWkid,N as queryFeatureSetJSON,q as queryOptimizedFeatureSet};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}