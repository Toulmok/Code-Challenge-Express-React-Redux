{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as e } from \"../../../../core/maybe.js\";\nimport { createResolver as t } from \"../../../../core/promiseUtils.js\";\nimport { d as r } from \"../../../../chunks/vec4f64.js\";\nimport { RenderRequestType as s, Decorations as i } from \"../lib/basicInterfaces.js\";\nimport { resampleHermite as o } from \"../../../support/screenshotUtils.js\";\nimport { PixelFormat as n, DataType as a, TargetType as h, DepthStencilTargetType as c } from \"../../../webgl/enums.js\";\nimport { FramebufferObject as l } from \"../../../webgl/FramebufferObject.js\";\nimport { createEmptyImageData as d } from \"../../../../core/imageUtils.js\";\nclass f {\n  constructor(e, t) {\n    this.viewCamera = e, this.frameHasDecorations = t;\n  }\n}\nclass u {\n  constructor(e, t, r, s) {\n    this._rctx = e, this._renderFunctions = t, this._forceCameraHook = r, this._disposeOffscreenBuffers = s, this.supersample = !0, this._screenshotQueue = new Array();\n  }\n  destroy() {\n    this._rctx = null;\n  }\n  async takeScreenshot(e) {\n    await this._renderFunctions.prepareOverlay(), this._renderFunctions.requestRenderScene(s.BACKGROUND);\n    const r = t();\n    return this._screenshotQueue.push({\n      settings: e,\n      resolver: r\n    }), r.promise;\n  }\n  update(e, t) {\n    for (const r of this._screenshotQueue) {\n      if (null == this._rctx) {\n        r.resolver.reject();\n        continue;\n      }\n      const s = {\n          ...r.settings,\n          pixelRatio: r.settings.pixelRatio * e.viewCamera.pixelRatio\n        },\n        i = this._renderScreenshot(e, s, t);\n      r.resolver(i);\n    }\n    this._screenshotQueue.length = 0;\n  }\n  _renderScreenshotOverlay(e, t, r) {\n    e.width = t.width, e.height = t.height;\n    const s = e.getContext(\"2d\"),\n      i = r.pixelRatio;\n    return s.save(), s.translate(0, t.height), s.scale(1, -1), r.region && s.translate(-r.region.x, -r.region.y), s.scale(i, i), t = this._renderFunctions.renderOverlay(e, t), s.restore(), t;\n  }\n  _readbackScreenshot(e, t) {\n    return e.resample ? this._readbackScreenshotResampled({\n      ...e,\n      resample: e.resample\n    }, t) : this._readbackScreenshotImmediate(e, t);\n  }\n  _readbackScreenshotResampled(e, t) {\n    const {\n        framebufferWidth: r,\n        framebufferHeight: s,\n        region: i,\n        resample: h\n      } = e,\n      c = this._ensureScreenshotEncodeCanvas();\n    let l = d(r, s, c);\n    this._rctx.gl.readPixels(0, 0, r, s, n.RGBA, a.UNSIGNED_BYTE, new Uint8Array(l.data.buffer)), t(), l = this._renderScreenshotOverlay(c, l, {\n      ...e,\n      region: void 0\n    });\n    const f = d(i.width, i.height, c);\n    return o(l, f, !0, h.region.x, s - (h.region.y + h.region.height), h.region.width, h.region.height);\n  }\n  _readbackScreenshotImmediate(e, t) {\n    const {\n        framebufferHeight: r,\n        region: s\n      } = e,\n      i = this._ensureScreenshotEncodeCanvas(),\n      o = d(s.width, s.height, i);\n    return this._rctx.gl.readPixels(s.x, r - (s.y + s.height), s.width, s.height, n.RGBA, a.UNSIGNED_BYTE, new Uint8Array(o.data.buffer)), t(), this._renderScreenshotOverlay(i, o, e);\n  }\n  _renderScreenshot(t, s, o) {\n    let n = null,\n      a = null;\n    const d = t.viewCamera,\n      {\n        framebufferWidth: f,\n        framebufferHeight: u\n      } = s;\n    let _ = !1;\n    const m = s.disableDecorations && t.frameHasDecorations,\n      g = f !== d.fullWidth || u !== d.fullHeight,\n      p = s.ignorePadding && d.pixelRatio !== s.pixelRatio,\n      b = g || m || p || s.objectAndLayerIdColor;\n    if (s.objectAndLayerIdColor && (a = new l(this._rctx, {\n      width: f,\n      height: u,\n      colorTarget: h.TEXTURE,\n      depthStencilTarget: c.DEPTH_STENCIL_RENDER_BUFFER\n    })), b) {\n      const e = d.clone();\n      if (s.ignorePadding) {\n        const t = r(e.padding);\n        for (let r = 0; r < 4; r++) t[r] = Math.round(t[r] / e.pixelRatio * s.pixelRatio);\n        e.padding = t;\n      }\n      e.fullWidth = f, e.fullHeight = u, e.pixelRatio = s.pixelRatio;\n      const t = d.fovX - e.fovX,\n        m = d.fovY - e.fovY;\n      t < 0 && t < m ? e.fovX = d.fovX : m < 0 && m < t && (e.fovY = d.fovY), this._forceCameraHook(e), _ = !0, n = new l(this._rctx, {\n        width: e.fullWidth,\n        height: e.fullHeight,\n        colorTarget: h.TEXTURE,\n        depthStencilTarget: c.DEPTH_STENCIL_RENDER_BUFFER\n      }), this._renderFunctions.renderScene(n, a, e, s.disableDecorations ? i.OFF : i.ON, o), this._disposeOffscreenBuffers();\n    }\n    const x = () => {\n        this._rctx.bindFramebuffer(null), e(n);\n      },\n      v = this._readbackScreenshot(s, x);\n    x();\n    let E = null;\n    if (s.objectAndLayerIdColor) {\n      const t = () => {\n        this._rctx.bindFramebuffer(null), e(a);\n      };\n      this._rctx.bindFramebuffer(a), E = this._readbackScreenshot(s, t), this._rctx.bindFramebuffer(null), t();\n    }\n    if (b && !this._rctx.contextAttributes.alpha) for (let e = 3; e < v.data.length; e += 4) v.data[e] = 255;\n    if (E && !this._rctx.contextAttributes.alpha) for (let e = 3; e < E.data.length; e += 4) E.data[e] = 255;\n    return _ && this._forceCameraHook(d), [v, E];\n  }\n  _ensureScreenshotEncodeCanvas() {\n    return this._screenshotEncodeCanvas || (this._screenshotEncodeCanvas = document.createElement(\"canvas\")), this._screenshotEncodeCanvas;\n  }\n}\nexport { f as ScreenshotContext, u as ScreenshotManager };","map":{"version":3,"names":["disposeMaybe","e","createResolver","t","d","r","RenderRequestType","s","Decorations","i","resampleHermite","o","PixelFormat","n","DataType","a","TargetType","h","DepthStencilTargetType","c","FramebufferObject","l","createEmptyImageData","f","constructor","viewCamera","frameHasDecorations","u","_rctx","_renderFunctions","_forceCameraHook","_disposeOffscreenBuffers","supersample","_screenshotQueue","Array","destroy","takeScreenshot","prepareOverlay","requestRenderScene","BACKGROUND","push","settings","resolver","promise","update","reject","pixelRatio","_renderScreenshot","length","_renderScreenshotOverlay","width","height","getContext","save","translate","scale","region","x","y","renderOverlay","restore","_readbackScreenshot","resample","_readbackScreenshotResampled","_readbackScreenshotImmediate","framebufferWidth","framebufferHeight","_ensureScreenshotEncodeCanvas","gl","readPixels","RGBA","UNSIGNED_BYTE","Uint8Array","data","buffer","_","m","disableDecorations","g","fullWidth","fullHeight","p","ignorePadding","b","objectAndLayerIdColor","colorTarget","TEXTURE","depthStencilTarget","DEPTH_STENCIL_RENDER_BUFFER","clone","padding","Math","round","fovX","fovY","renderScene","OFF","ON","bindFramebuffer","v","E","contextAttributes","alpha","_screenshotEncodeCanvas","document","createElement","ScreenshotContext","ScreenshotManager"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/webgl-engine/parts/ScreenshotManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../../core/maybe.js\";import{createResolver as t}from\"../../../../core/promiseUtils.js\";import{d as r}from\"../../../../chunks/vec4f64.js\";import{RenderRequestType as s,Decorations as i}from\"../lib/basicInterfaces.js\";import{resampleHermite as o}from\"../../../support/screenshotUtils.js\";import{PixelFormat as n,DataType as a,TargetType as h,DepthStencilTargetType as c}from\"../../../webgl/enums.js\";import{FramebufferObject as l}from\"../../../webgl/FramebufferObject.js\";import{createEmptyImageData as d}from\"../../../../core/imageUtils.js\";class f{constructor(e,t){this.viewCamera=e,this.frameHasDecorations=t}}class u{constructor(e,t,r,s){this._rctx=e,this._renderFunctions=t,this._forceCameraHook=r,this._disposeOffscreenBuffers=s,this.supersample=!0,this._screenshotQueue=new Array}destroy(){this._rctx=null}async takeScreenshot(e){await this._renderFunctions.prepareOverlay(),this._renderFunctions.requestRenderScene(s.BACKGROUND);const r=t();return this._screenshotQueue.push({settings:e,resolver:r}),r.promise}update(e,t){for(const r of this._screenshotQueue){if(null==this._rctx){r.resolver.reject();continue}const s={...r.settings,pixelRatio:r.settings.pixelRatio*e.viewCamera.pixelRatio},i=this._renderScreenshot(e,s,t);r.resolver(i)}this._screenshotQueue.length=0}_renderScreenshotOverlay(e,t,r){e.width=t.width,e.height=t.height;const s=e.getContext(\"2d\"),i=r.pixelRatio;return s.save(),s.translate(0,t.height),s.scale(1,-1),r.region&&s.translate(-r.region.x,-r.region.y),s.scale(i,i),t=this._renderFunctions.renderOverlay(e,t),s.restore(),t}_readbackScreenshot(e,t){return e.resample?this._readbackScreenshotResampled({...e,resample:e.resample},t):this._readbackScreenshotImmediate(e,t)}_readbackScreenshotResampled(e,t){const{framebufferWidth:r,framebufferHeight:s,region:i,resample:h}=e,c=this._ensureScreenshotEncodeCanvas();let l=d(r,s,c);this._rctx.gl.readPixels(0,0,r,s,n.RGBA,a.UNSIGNED_BYTE,new Uint8Array(l.data.buffer)),t(),l=this._renderScreenshotOverlay(c,l,{...e,region:void 0});const f=d(i.width,i.height,c);return o(l,f,!0,h.region.x,s-(h.region.y+h.region.height),h.region.width,h.region.height)}_readbackScreenshotImmediate(e,t){const{framebufferHeight:r,region:s}=e,i=this._ensureScreenshotEncodeCanvas(),o=d(s.width,s.height,i);return this._rctx.gl.readPixels(s.x,r-(s.y+s.height),s.width,s.height,n.RGBA,a.UNSIGNED_BYTE,new Uint8Array(o.data.buffer)),t(),this._renderScreenshotOverlay(i,o,e)}_renderScreenshot(t,s,o){let n=null,a=null;const d=t.viewCamera,{framebufferWidth:f,framebufferHeight:u}=s;let _=!1;const m=s.disableDecorations&&t.frameHasDecorations,g=f!==d.fullWidth||u!==d.fullHeight,p=s.ignorePadding&&d.pixelRatio!==s.pixelRatio,b=g||m||p||s.objectAndLayerIdColor;if(s.objectAndLayerIdColor&&(a=new l(this._rctx,{width:f,height:u,colorTarget:h.TEXTURE,depthStencilTarget:c.DEPTH_STENCIL_RENDER_BUFFER})),b){const e=d.clone();if(s.ignorePadding){const t=r(e.padding);for(let r=0;r<4;r++)t[r]=Math.round(t[r]/e.pixelRatio*s.pixelRatio);e.padding=t}e.fullWidth=f,e.fullHeight=u,e.pixelRatio=s.pixelRatio;const t=d.fovX-e.fovX,m=d.fovY-e.fovY;t<0&&t<m?e.fovX=d.fovX:m<0&&m<t&&(e.fovY=d.fovY),this._forceCameraHook(e),_=!0,n=new l(this._rctx,{width:e.fullWidth,height:e.fullHeight,colorTarget:h.TEXTURE,depthStencilTarget:c.DEPTH_STENCIL_RENDER_BUFFER}),this._renderFunctions.renderScene(n,a,e,s.disableDecorations?i.OFF:i.ON,o),this._disposeOffscreenBuffers()}const x=()=>{this._rctx.bindFramebuffer(null),e(n)},v=this._readbackScreenshot(s,x);x();let E=null;if(s.objectAndLayerIdColor){const t=()=>{this._rctx.bindFramebuffer(null),e(a)};this._rctx.bindFramebuffer(a),E=this._readbackScreenshot(s,t),this._rctx.bindFramebuffer(null),t()}if(b&&!this._rctx.contextAttributes.alpha)for(let e=3;e<v.data.length;e+=4)v.data[e]=255;if(E&&!this._rctx.contextAttributes.alpha)for(let e=3;e<E.data.length;e+=4)E.data[e]=255;return _&&this._forceCameraHook(d),[v,E]}_ensureScreenshotEncodeCanvas(){return this._screenshotEncodeCanvas||(this._screenshotEncodeCanvas=document.createElement(\"canvas\")),this._screenshotEncodeCanvas}}export{f as ScreenshotContext,u as ScreenshotManager};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,YAAY,IAAIC,CAAC,QAAK,2BAA2B;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,kCAAkC;AAAC,SAAOC,CAAC,IAAIC,CAAC,QAAK,+BAA+B;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,QAAK,2BAA2B;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,qCAAqC;AAAC,SAAOC,WAAW,IAAIC,CAAC,EAACC,QAAQ,IAAIC,CAAC,EAACC,UAAU,IAAIC,CAAC,EAACC,sBAAsB,IAAIC,CAAC,QAAK,yBAAyB;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,qCAAqC;AAAC,SAAOC,oBAAoB,IAAIlB,CAAC,QAAK,gCAAgC;AAAC,MAAMmB,CAAC;EAACC,WAAWA,CAACvB,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACsB,UAAU,GAACxB,CAAC,EAAC,IAAI,CAACyB,mBAAmB,GAACvB,CAAC;EAAA;AAAC;AAAC,MAAMwB,CAAC;EAACH,WAAWA,CAACvB,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACqB,KAAK,GAAC3B,CAAC,EAAC,IAAI,CAAC4B,gBAAgB,GAAC1B,CAAC,EAAC,IAAI,CAAC2B,gBAAgB,GAACzB,CAAC,EAAC,IAAI,CAAC0B,wBAAwB,GAACxB,CAAC,EAAC,IAAI,CAACyB,WAAW,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,gBAAgB,GAAC,IAAIC,KAAK;EAAA;EAACC,OAAOA,CAAA,EAAE;IAAC,IAAI,CAACP,KAAK,GAAC,IAAI;EAAA;EAAC,MAAMQ,cAAcA,CAACnC,CAAC,EAAC;IAAC,MAAM,IAAI,CAAC4B,gBAAgB,CAACQ,cAAc,EAAE,EAAC,IAAI,CAACR,gBAAgB,CAACS,kBAAkB,CAAC/B,CAAC,CAACgC,UAAU,CAAC;IAAC,MAAMlC,CAAC,GAACF,CAAC,EAAE;IAAC,OAAO,IAAI,CAAC8B,gBAAgB,CAACO,IAAI,CAAC;MAACC,QAAQ,EAACxC,CAAC;MAACyC,QAAQ,EAACrC;IAAC,CAAC,CAAC,EAACA,CAAC,CAACsC,OAAO;EAAA;EAACC,MAAMA,CAAC3C,CAAC,EAACE,CAAC,EAAC;IAAC,KAAI,MAAME,CAAC,IAAI,IAAI,CAAC4B,gBAAgB,EAAC;MAAC,IAAG,IAAI,IAAE,IAAI,CAACL,KAAK,EAAC;QAACvB,CAAC,CAACqC,QAAQ,CAACG,MAAM,EAAE;QAAC;MAAQ;MAAC,MAAMtC,CAAC,GAAC;UAAC,GAAGF,CAAC,CAACoC,QAAQ;UAACK,UAAU,EAACzC,CAAC,CAACoC,QAAQ,CAACK,UAAU,GAAC7C,CAAC,CAACwB,UAAU,CAACqB;QAAU,CAAC;QAACrC,CAAC,GAAC,IAAI,CAACsC,iBAAiB,CAAC9C,CAAC,EAACM,CAAC,EAACJ,CAAC,CAAC;MAACE,CAAC,CAACqC,QAAQ,CAACjC,CAAC,CAAC;IAAA;IAAC,IAAI,CAACwB,gBAAgB,CAACe,MAAM,GAAC,CAAC;EAAA;EAACC,wBAAwBA,CAAChD,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAACJ,CAAC,CAACiD,KAAK,GAAC/C,CAAC,CAAC+C,KAAK,EAACjD,CAAC,CAACkD,MAAM,GAAChD,CAAC,CAACgD,MAAM;IAAC,MAAM5C,CAAC,GAACN,CAAC,CAACmD,UAAU,CAAC,IAAI,CAAC;MAAC3C,CAAC,GAACJ,CAAC,CAACyC,UAAU;IAAC,OAAOvC,CAAC,CAAC8C,IAAI,EAAE,EAAC9C,CAAC,CAAC+C,SAAS,CAAC,CAAC,EAACnD,CAAC,CAACgD,MAAM,CAAC,EAAC5C,CAAC,CAACgD,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAClD,CAAC,CAACmD,MAAM,IAAEjD,CAAC,CAAC+C,SAAS,CAAC,CAACjD,CAAC,CAACmD,MAAM,CAACC,CAAC,EAAC,CAACpD,CAAC,CAACmD,MAAM,CAACE,CAAC,CAAC,EAACnD,CAAC,CAACgD,KAAK,CAAC9C,CAAC,EAACA,CAAC,CAAC,EAACN,CAAC,GAAC,IAAI,CAAC0B,gBAAgB,CAAC8B,aAAa,CAAC1D,CAAC,EAACE,CAAC,CAAC,EAACI,CAAC,CAACqD,OAAO,EAAE,EAACzD,CAAC;EAAA;EAAC0D,mBAAmBA,CAAC5D,CAAC,EAACE,CAAC,EAAC;IAAC,OAAOF,CAAC,CAAC6D,QAAQ,GAAC,IAAI,CAACC,4BAA4B,CAAC;MAAC,GAAG9D,CAAC;MAAC6D,QAAQ,EAAC7D,CAAC,CAAC6D;IAAQ,CAAC,EAAC3D,CAAC,CAAC,GAAC,IAAI,CAAC6D,4BAA4B,CAAC/D,CAAC,EAACE,CAAC,CAAC;EAAA;EAAC4D,4BAA4BA,CAAC9D,CAAC,EAACE,CAAC,EAAC;IAAC,MAAK;QAAC8D,gBAAgB,EAAC5D,CAAC;QAAC6D,iBAAiB,EAAC3D,CAAC;QAACiD,MAAM,EAAC/C,CAAC;QAACqD,QAAQ,EAAC7C;MAAC,CAAC,GAAChB,CAAC;MAACkB,CAAC,GAAC,IAAI,CAACgD,6BAA6B,EAAE;IAAC,IAAI9C,CAAC,GAACjB,CAAC,CAACC,CAAC,EAACE,CAAC,EAACY,CAAC,CAAC;IAAC,IAAI,CAACS,KAAK,CAACwC,EAAE,CAACC,UAAU,CAAC,CAAC,EAAC,CAAC,EAAChE,CAAC,EAACE,CAAC,EAACM,CAAC,CAACyD,IAAI,EAACvD,CAAC,CAACwD,aAAa,EAAC,IAAIC,UAAU,CAACnD,CAAC,CAACoD,IAAI,CAACC,MAAM,CAAC,CAAC,EAACvE,CAAC,EAAE,EAACkB,CAAC,GAAC,IAAI,CAAC4B,wBAAwB,CAAC9B,CAAC,EAACE,CAAC,EAAC;MAAC,GAAGpB,CAAC;MAACuD,MAAM,EAAC,KAAK;IAAC,CAAC,CAAC;IAAC,MAAMjC,CAAC,GAACnB,CAAC,CAACK,CAAC,CAACyC,KAAK,EAACzC,CAAC,CAAC0C,MAAM,EAAChC,CAAC,CAAC;IAAC,OAAOR,CAAC,CAACU,CAAC,EAACE,CAAC,EAAC,CAAC,CAAC,EAACN,CAAC,CAACuC,MAAM,CAACC,CAAC,EAAClD,CAAC,IAAEU,CAAC,CAACuC,MAAM,CAACE,CAAC,GAACzC,CAAC,CAACuC,MAAM,CAACL,MAAM,CAAC,EAAClC,CAAC,CAACuC,MAAM,CAACN,KAAK,EAACjC,CAAC,CAACuC,MAAM,CAACL,MAAM,CAAC;EAAA;EAACa,4BAA4BA,CAAC/D,CAAC,EAACE,CAAC,EAAC;IAAC,MAAK;QAAC+D,iBAAiB,EAAC7D,CAAC;QAACmD,MAAM,EAACjD;MAAC,CAAC,GAACN,CAAC;MAACQ,CAAC,GAAC,IAAI,CAAC0D,6BAA6B,EAAE;MAACxD,CAAC,GAACP,CAAC,CAACG,CAAC,CAAC2C,KAAK,EAAC3C,CAAC,CAAC4C,MAAM,EAAC1C,CAAC,CAAC;IAAC,OAAO,IAAI,CAACmB,KAAK,CAACwC,EAAE,CAACC,UAAU,CAAC9D,CAAC,CAACkD,CAAC,EAACpD,CAAC,IAAEE,CAAC,CAACmD,CAAC,GAACnD,CAAC,CAAC4C,MAAM,CAAC,EAAC5C,CAAC,CAAC2C,KAAK,EAAC3C,CAAC,CAAC4C,MAAM,EAACtC,CAAC,CAACyD,IAAI,EAACvD,CAAC,CAACwD,aAAa,EAAC,IAAIC,UAAU,CAAC7D,CAAC,CAAC8D,IAAI,CAACC,MAAM,CAAC,CAAC,EAACvE,CAAC,EAAE,EAAC,IAAI,CAAC8C,wBAAwB,CAACxC,CAAC,EAACE,CAAC,EAACV,CAAC,CAAC;EAAA;EAAC8C,iBAAiBA,CAAC5C,CAAC,EAACI,CAAC,EAACI,CAAC,EAAC;IAAC,IAAIE,CAAC,GAAC,IAAI;MAACE,CAAC,GAAC,IAAI;IAAC,MAAMX,CAAC,GAACD,CAAC,CAACsB,UAAU;MAAC;QAACwC,gBAAgB,EAAC1C,CAAC;QAAC2C,iBAAiB,EAACvC;MAAC,CAAC,GAACpB,CAAC;IAAC,IAAIoE,CAAC,GAAC,CAAC,CAAC;IAAC,MAAMC,CAAC,GAACrE,CAAC,CAACsE,kBAAkB,IAAE1E,CAAC,CAACuB,mBAAmB;MAACoD,CAAC,GAACvD,CAAC,KAAGnB,CAAC,CAAC2E,SAAS,IAAEpD,CAAC,KAAGvB,CAAC,CAAC4E,UAAU;MAACC,CAAC,GAAC1E,CAAC,CAAC2E,aAAa,IAAE9E,CAAC,CAAC0C,UAAU,KAAGvC,CAAC,CAACuC,UAAU;MAACqC,CAAC,GAACL,CAAC,IAAEF,CAAC,IAAEK,CAAC,IAAE1E,CAAC,CAAC6E,qBAAqB;IAAC,IAAG7E,CAAC,CAAC6E,qBAAqB,KAAGrE,CAAC,GAAC,IAAIM,CAAC,CAAC,IAAI,CAACO,KAAK,EAAC;MAACsB,KAAK,EAAC3B,CAAC;MAAC4B,MAAM,EAACxB,CAAC;MAAC0D,WAAW,EAACpE,CAAC,CAACqE,OAAO;MAACC,kBAAkB,EAACpE,CAAC,CAACqE;IAA2B,CAAC,CAAC,CAAC,EAACL,CAAC,EAAC;MAAC,MAAMlF,CAAC,GAACG,CAAC,CAACqF,KAAK,EAAE;MAAC,IAAGlF,CAAC,CAAC2E,aAAa,EAAC;QAAC,MAAM/E,CAAC,GAACE,CAAC,CAACJ,CAAC,CAACyF,OAAO,CAAC;QAAC,KAAI,IAAIrF,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAACF,CAAC,CAACE,CAAC,CAAC,GAACsF,IAAI,CAACC,KAAK,CAACzF,CAAC,CAACE,CAAC,CAAC,GAACJ,CAAC,CAAC6C,UAAU,GAACvC,CAAC,CAACuC,UAAU,CAAC;QAAC7C,CAAC,CAACyF,OAAO,GAACvF,CAAC;MAAA;MAACF,CAAC,CAAC8E,SAAS,GAACxD,CAAC,EAACtB,CAAC,CAAC+E,UAAU,GAACrD,CAAC,EAAC1B,CAAC,CAAC6C,UAAU,GAACvC,CAAC,CAACuC,UAAU;MAAC,MAAM3C,CAAC,GAACC,CAAC,CAACyF,IAAI,GAAC5F,CAAC,CAAC4F,IAAI;QAACjB,CAAC,GAACxE,CAAC,CAAC0F,IAAI,GAAC7F,CAAC,CAAC6F,IAAI;MAAC3F,CAAC,GAAC,CAAC,IAAEA,CAAC,GAACyE,CAAC,GAAC3E,CAAC,CAAC4F,IAAI,GAACzF,CAAC,CAACyF,IAAI,GAACjB,CAAC,GAAC,CAAC,IAAEA,CAAC,GAACzE,CAAC,KAAGF,CAAC,CAAC6F,IAAI,GAAC1F,CAAC,CAAC0F,IAAI,CAAC,EAAC,IAAI,CAAChE,gBAAgB,CAAC7B,CAAC,CAAC,EAAC0E,CAAC,GAAC,CAAC,CAAC,EAAC9D,CAAC,GAAC,IAAIQ,CAAC,CAAC,IAAI,CAACO,KAAK,EAAC;QAACsB,KAAK,EAACjD,CAAC,CAAC8E,SAAS;QAAC5B,MAAM,EAAClD,CAAC,CAAC+E,UAAU;QAACK,WAAW,EAACpE,CAAC,CAACqE,OAAO;QAACC,kBAAkB,EAACpE,CAAC,CAACqE;MAA2B,CAAC,CAAC,EAAC,IAAI,CAAC3D,gBAAgB,CAACkE,WAAW,CAAClF,CAAC,EAACE,CAAC,EAACd,CAAC,EAACM,CAAC,CAACsE,kBAAkB,GAACpE,CAAC,CAACuF,GAAG,GAACvF,CAAC,CAACwF,EAAE,EAACtF,CAAC,CAAC,EAAC,IAAI,CAACoB,wBAAwB,EAAE;IAAA;IAAC,MAAM0B,CAAC,GAACA,CAAA,KAAI;QAAC,IAAI,CAAC7B,KAAK,CAACsE,eAAe,CAAC,IAAI,CAAC,EAACjG,CAAC,CAACY,CAAC,CAAC;MAAA,CAAC;MAACsF,CAAC,GAAC,IAAI,CAACtC,mBAAmB,CAACtD,CAAC,EAACkD,CAAC,CAAC;IAACA,CAAC,EAAE;IAAC,IAAI2C,CAAC,GAAC,IAAI;IAAC,IAAG7F,CAAC,CAAC6E,qBAAqB,EAAC;MAAC,MAAMjF,CAAC,GAACA,CAAA,KAAI;QAAC,IAAI,CAACyB,KAAK,CAACsE,eAAe,CAAC,IAAI,CAAC,EAACjG,CAAC,CAACc,CAAC,CAAC;MAAA,CAAC;MAAC,IAAI,CAACa,KAAK,CAACsE,eAAe,CAACnF,CAAC,CAAC,EAACqF,CAAC,GAAC,IAAI,CAACvC,mBAAmB,CAACtD,CAAC,EAACJ,CAAC,CAAC,EAAC,IAAI,CAACyB,KAAK,CAACsE,eAAe,CAAC,IAAI,CAAC,EAAC/F,CAAC,EAAE;IAAA;IAAC,IAAGgF,CAAC,IAAE,CAAC,IAAI,CAACvD,KAAK,CAACyE,iBAAiB,CAACC,KAAK,EAAC,KAAI,IAAIrG,CAAC,GAAC,CAAC,EAACA,CAAC,GAACkG,CAAC,CAAC1B,IAAI,CAACzB,MAAM,EAAC/C,CAAC,IAAE,CAAC,EAACkG,CAAC,CAAC1B,IAAI,CAACxE,CAAC,CAAC,GAAC,GAAG;IAAC,IAAGmG,CAAC,IAAE,CAAC,IAAI,CAACxE,KAAK,CAACyE,iBAAiB,CAACC,KAAK,EAAC,KAAI,IAAIrG,CAAC,GAAC,CAAC,EAACA,CAAC,GAACmG,CAAC,CAAC3B,IAAI,CAACzB,MAAM,EAAC/C,CAAC,IAAE,CAAC,EAACmG,CAAC,CAAC3B,IAAI,CAACxE,CAAC,CAAC,GAAC,GAAG;IAAC,OAAO0E,CAAC,IAAE,IAAI,CAAC7C,gBAAgB,CAAC1B,CAAC,CAAC,EAAC,CAAC+F,CAAC,EAACC,CAAC,CAAC;EAAA;EAACjC,6BAA6BA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACoC,uBAAuB,KAAG,IAAI,CAACA,uBAAuB,GAACC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAAC,EAAC,IAAI,CAACF,uBAAuB;EAAA;AAAC;AAAC,SAAOhF,CAAC,IAAImF,iBAAiB,EAAC/E,CAAC,IAAIgF,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}