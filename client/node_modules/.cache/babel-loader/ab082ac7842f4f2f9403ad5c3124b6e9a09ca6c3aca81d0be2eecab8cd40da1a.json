{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport \"../../../../geometry.js\";\nimport { getFeatureId as t } from \"../../../../analysis/featureReferenceUtils.js\";\nimport o from \"../../../../core/Accessor.js\";\nimport { createTask as i } from \"../../../../core/asyncUtils.js\";\nimport n from \"../../../../core/Evented.js\";\nimport r from \"../../../../core/Handles.js\";\nimport { handlesGroup as s, makeHandle as a } from \"../../../../core/handleUtils.js\";\nimport l from \"../../../../core/Logger.js\";\nimport { isNone as c, isSome as d, abortMaybe as u, unwrapOr as p, none as h } from \"../../../../core/maybe.js\";\nimport { ignoreAbortErrors as g } from \"../../../../core/promiseUtils.js\";\nimport { initial as v } from \"../../../../core/reactiveUtils.js\";\nimport { property as m } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport { subclass as f } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as _, i as b, b as y, n as C, g as I, a as T, j as P, w as O } from \"../../../../chunks/vec3.js\";\nimport { c as S } from \"../../../../chunks/vec3f64.js\";\nimport { WatchUpdatingTracking as j } from \"../../../../core/support/WatchUpdatingTracking.js\";\nimport { projectOrLoad as w, projectBoundingRect as R } from \"../../../../geometry/projection.js\";\nimport { empty as A, containsPointObject as E, intersectsSegment as H } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { fromPoints as F, create as L } from \"../../../../geometry/support/ray.js\";\nimport { zValueInAbsoluteHeightMode as V } from \"../../../../support/elevationInfoUtils.js\";\nimport { LineOfSightAnalysisResult as D } from \"../LineOfSightAnalysisResult.js\";\nimport { LineOfSightComputation as x } from \"./LineOfSightComputation.js\";\nimport { LineOfSightRayIntersector as N } from \"./LineOfSightRayIntersector.js\";\nimport { logFailedGeometryProjectionError as k } from \"../support/projectionUtils.js\";\nimport { StoreResults as G } from \"../../webgl-engine/lib/IntersectorInterfaces.js\";\nimport { toGraphic as z, hasLod as U, getIntersectedFeatureBSRadius as M } from \"../../webgl-engine/lib/intersectorUtilsConversions.js\";\nimport { ImmediateTask as Z, TaskPriority as q } from \"../../../support/Scheduler.js\";\nimport B from \"../../../../geometry/Point.js\";\nconst W = \"esri.views.3d.analysis.LineOfSight.LineOfSightController\",\n  J = l.getLogger(W);\nlet K = class extends n.EventedMixin(o) {\n  constructor(e) {\n    super(e), this.updateOnCameraChange = !0, this._observerGroundOffsetRenderSpace = 0, this._effectiveObserverElevationMode = \"absolute-height\", this._observerFeatureId = null, this._updatingHandles = new j(), this._frameTask = Z, this._handles = new r(), this._computationHandles = new r(), this._externalObserverUpdate = !0;\n  }\n  initialize() {\n    const e = this.view.resourceController?.scheduler;\n    this._frameTask = e ? e.registerTask(q.LINE_OF_SIGHT_TOOL) : Z, this._intersector = new N({\n      view: this.view\n    }), this._handles.add([this._connectObserver(), this._connectComputations(), this._connectTargets()]);\n  }\n  destroy() {\n    this._handles.destroy(), this._computationHandles.destroy(), this._computations.removeAll(), this._updatingHandles.destroy();\n  }\n  get updating() {\n    return this._frameTask.updating || this._updatingHandles.updating;\n  }\n  get priority() {\n    return this._frameTask.priority;\n  }\n  set priority(e) {\n    this._frameTask.priority = e;\n  }\n  get _computations() {\n    return this.analysisViewData.computations;\n  }\n  get _elevationAlignedObserverPositionRenderSpace() {\n    return this.analysisViewData.observerEngineLocation;\n  }\n  set _elevationAlignedObserverPositionRenderSpace(e) {\n    this.analysisViewData.observerEngineLocation = e;\n  }\n  get _screenPixelSize() {\n    return this.view.state.camera.computeScreenPixelSizeAt(this._elevationAlignedObserverPositionRenderSpace);\n  }\n  _computeResult(e) {\n    const t = e.computation,\n      {\n        inputPoints: o,\n        computationResult: i\n      } = t,\n      {\n        observerAdjusted: n,\n        targetAdjusted: r\n      } = o,\n      {\n        start: s,\n        end: a\n      } = i;\n    _(s, n), _(a, r);\n    this._canCompute(t) ? this._computeIntersection(e) : this._interpolateIntersection(e), t.notifyResultChanged(), this.emit(\"result-changed\", {\n      target: e.computation.target,\n      result: t.result\n    });\n  }\n  _updateAdjustedPointsFromFeatures(e) {\n    const o = this.view,\n      {\n        sceneIntersectionHelper: i\n      } = o,\n      {\n        inputPoints: n\n      } = e,\n      {\n        observerAdjusted: r,\n        observerFeatureId: s,\n        targetFeatureId: a,\n        targetAdjusted: l\n      } = n;\n    if (c(s) && c(a)) return;\n    const u = b(r, l),\n      p = this._intersector.intersector,\n      h = F(n.observer, n.target, Y);\n    p.options.store = G.ALL, i.intersectToolIntersectorRay(h, p);\n    let g = null,\n      v = null,\n      m = null,\n      f = null;\n    for (const _ of p.results.all) {\n      const e = z(_, this.view);\n      if (c(e) || c(_.distanceInRenderSpace)) continue;\n      const i = t(e);\n      c(i) || (d(s) && i === s && (c(g) && (g = this._getFeatureDistanceThreshold(_, o, u)), _.distanceInRenderSpace < g && (m = _)), d(a) && i === a && (c(v) && (v = this._getFeatureDistanceThreshold(_, o, u)), c(f) && _.distanceInRenderSpace < u && u - _.distanceInRenderSpace < v && (f = _)));\n    }\n    d(m) && m.getIntersectionPoint(r) && (n.observerSurfaceNormal = m.getTransformedNormal(S())), d(f) && f.getIntersectionPoint(l) && (n.targetSurfaceNormal = f.getTransformedNormal(S()));\n  }\n  _getFeatureDistanceThreshold(e, t, o) {\n    if (U(e)) {\n      const i = M(e, t);\n      if (d(i)) return Math.min(i * ee, o);\n    }\n    return 1e-5 * o;\n  }\n  _adjustStartEndPositions(e) {\n    const t = this._screenPixelSize,\n      o = this.view,\n      {\n        inputPoints: i\n      } = e,\n      {\n        observer: n,\n        observerSurfaceNormal: r,\n        target: s,\n        targetSurfaceNormal: a,\n        observerAdjusted: l,\n        targetAdjusted: c\n      } = i,\n      u = X;\n    _(l, n), _(c, s), this._updateAdjustedPointsFromFeatures(e), d(r) ? _(u, r) : y(u, c, l);\n    const p = t;\n    C(u, u), I(u, u, Math.min(p, 1)), T(l, l, u), d(a) ? _(u, a) : y(u, l, c);\n    const h = o.state.camera.computeScreenPixelSizeAt(c);\n    C(u, u), I(u, u, Math.min(h, 1)), T(c, c, u);\n  }\n  _computeIntersection(_ref) {\n    let {\n      computation: e,\n      interpolationInfo: t\n    } = _ref;\n    const {\n        view: o\n      } = this,\n      {\n        sceneIntersectionHelper: i,\n        renderCoordsHelper: n\n      } = o;\n    if (c(i)) return;\n    const r = this._intersector.intersector,\n      {\n        computationResult: s,\n        inputPoints: a\n      } = e,\n      {\n        observer: l,\n        target: u\n      } = a,\n      {\n        start: p,\n        end: h\n      } = s,\n      g = F(p, h, Y);\n    r.options.store = G.MIN, i.intersectToolIntersectorRay(g, r);\n    const v = r.results.min,\n      m = s.intersection,\n      f = X;\n    let b = !0;\n    if (d(v) && v.getIntersectionPoint(m)) {\n      _(t.originalIntersection, m), _(t.originalObserver, p), _(t.originalTarget, h), n.fromRenderCoords(m, f, o.spatialReference);\n      const e = 1 - P(h, u) / P(p, u);\n      b = P(l, m) >= e * P(l, u);\n    }\n    const y = new B(f, o.spatialReference);\n    {\n      const {\n        result: t,\n        target: i\n      } = e;\n      d(t) ? (t.target = i, t.intersectedGraphic = b ? null : z(v, o), t.intersectedLocation = b ? null : y, t.visible = b) : e.result = new D({\n        target: i,\n        elevationAlignedTargetLocation: e.elevationAlignedTargetLocation,\n        intersectedGraphic: b ? null : z(v, o),\n        intersectedLocation: b ? null : y,\n        visible: b\n      });\n    }\n    s.isValid = a.isValid = !0, s.isTargetVisible = b;\n  }\n  _interpolateIntersection(_ref2) {\n    let {\n      computation: e,\n      interpolationInfo: t\n    } = _ref2;\n    const {\n        computationResult: o,\n        inputPoints: i\n      } = e,\n      {\n        start: n,\n        end: r,\n        intersection: s\n      } = o,\n      {\n        originalIntersection: a,\n        originalObserver: l,\n        originalTarget: c\n      } = t;\n    if (_(s, a), i.isValid) {\n      const e = X,\n        t = P(l, a) / P(l, c);\n      O(e, n, l), I(e, e, 1 - t), T(s, s, e), O(e, r, c), I(e, e, t), T(s, s, e), o.isValid = !0;\n    } else e.result = null, o.isValid = !1, o.isTargetVisible = !1;\n  }\n  _canCompute(e) {\n    const t = this.analysisViewData.elevationAlignedObserver,\n      o = this.view.frustum;\n    if (c(t) || c(e.elevationAlignedTargetLocation) || c(o)) return !1;\n    const {\n        observerAdjusted: i,\n        targetAdjusted: n\n      } = e.inputPoints,\n      r = o.intersectsPoint(i),\n      s = o.intersectsPoint(n);\n    return r && s;\n  }\n  _onObserverPositionChange(e, o, i, n, r) {\n    if (this._externalObserverUpdate = r, c(e)) return this.analysisViewData.elevationAlignedObserver = null, void (this._observerFeatureId = null);\n    if (c(o)) return k(this.analysis, e.spatialReference, J), void (this.analysisViewData.elevationAlignedObserver = null);\n    const s = this._getEffectiveElevationInfo(o, i),\n      {\n        absoluteZ: a,\n        elevation: l\n      } = V(o.x, o.y, o.z, this.view.spatialReference, this.view, s),\n      d = o.clone();\n    d.z = a, this._effectiveObserverElevationMode = s.mode, this.analysisViewData.elevationAlignedObserver = d;\n    const u = S();\n    this.view.renderCoordsHelper.toRenderCoords(d, u), this._elevationAlignedObserverPositionRenderSpace = u, this._observerGroundOffsetRenderSpace = a - l, this._observerFeatureId = t(n), this.priority = q.LINE_OF_SIGHT_TOOL_INTERACTIVE;\n  }\n  _onObserverRenderSpacePositionChangeForComputation(e, t, o, i, n) {\n    const {\n      inputPoints: r\n    } = e;\n    switch (_(r.observer, t), r.observerFeatureId = n, r.observerSurfaceNormal = null, i) {\n      case \"on-the-ground\":\n      case \"relative-to-ground\":\n        {\n          const e = this._intersector.updateFromGroundIntersection(r.observer, o, r.observer);\n          c(r.observerFeatureId) && (r.observerSurfaceNormal = e);\n        }\n    }\n    this._adjustStartEndPositions(e), e.notifyInputPointsChanged(), this.priority = q.LINE_OF_SIGHT_TOOL_INTERACTIVE;\n  }\n  _onTargetPositionChange(e, o, i, n, r) {\n    let s = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : !0;\n    const a = e.inputPoints;\n    if (s && (a.isValid = !1), c(i)) return d(o) && k(this.analysis, o.spatialReference, J), e.elevationAlignedTargetLocation = null, void e.notifyInputPointsChanged();\n    const l = this._getEffectiveElevationInfo(i, n),\n      {\n        absoluteZ: u,\n        elevation: p\n      } = V(i.x, i.y, i.z, this.view.spatialReference, this.view, l),\n      h = i.clone();\n    switch (h.z = u, e.elevationAlignedTargetLocation = h, this.view.renderCoordsHelper.toRenderCoords(e.elevationAlignedTargetLocation, a.target), a.targetFeatureId = t(r), a.targetSurfaceNormal = null, l.mode) {\n      case \"on-the-ground\":\n      case \"relative-to-ground\":\n        {\n          const e = this._intersector.updateFromGroundIntersection(a.target, u - p, a.target);\n          c(a.targetFeatureId) && (a.targetSurfaceNormal = e);\n        }\n    }\n    this._adjustStartEndPositions(e), e.notifyInputPointsChanged(), this.priority = q.LINE_OF_SIGHT_TOOL_INTERACTIVE;\n  }\n  _connectComputationToTarget(e) {\n    return s([this._updatingHandles.add(() => ({\n      computation: e,\n      targetPosition: e.target.position,\n      targetElevationInfo: e.target.elevationInfo,\n      targetFeatureInfo: e.target.feature,\n      projectedTargetPosition: w(e.target.position, this.view.spatialReference)\n    }), _ref3 => {\n      let {\n        computation: e,\n        targetPosition: t,\n        targetElevationInfo: o,\n        targetFeatureInfo: i,\n        projectedTargetPosition: n\n      } = _ref3;\n      d(n.pending) ? this._updatingHandles.addPromise(n.pending) : this._onTargetPositionChange(e, t, n.geometry, o, i);\n    }, v)]);\n  }\n  _connectComputationToObserver(e) {\n    return this._updatingHandles.add(() => ({\n      computation: e,\n      observer: this.analysisViewData.elevationAlignedObserver\n    }), _ref4 => {\n      let {\n        computation: e\n      } = _ref4;\n      this._externalObserverUpdate && (e.inputPoints.isValid = !1, e.notifyInputPointsChanged());\n    }, v);\n  }\n  _connectComputationToRenderSpaceObserver(e) {\n    return this._updatingHandles.add(() => ({\n      computation: e,\n      observer: this._elevationAlignedObserverPositionRenderSpace,\n      observerGroundOffset: this._observerGroundOffsetRenderSpace,\n      observerElevationMode: this._effectiveObserverElevationMode,\n      observerFeatureId: this._observerFeatureId\n    }), _ref5 => {\n      let {\n        computation: e,\n        observer: t,\n        observerGroundOffset: o,\n        observerElevationMode: i,\n        observerFeatureId: n\n      } = _ref5;\n      this._onObserverRenderSpacePositionChangeForComputation(e, t, o, i, n);\n    }, v);\n  }\n  _connectComputationToCamera(e) {\n    return this._updatingHandles.add(() => ({\n      camera: this.view.state.camera,\n      isDirty: this._isCameraDirty\n    }), _ref6 => {\n      let {\n        isDirty: t\n      } = _ref6;\n      !this.updateOnCameraChange || e.inputPoints.isValid && !t || e.notifyInputPointsChanged();\n    });\n  }\n  _connectComputationToSlicePlane(e) {\n    return this._updatingHandles.add(() => this.view.slicePlane, () => {\n      e.inputPoints.isValid = !1, e.notifyInputPointsChanged();\n    });\n  }\n  _connectComputationToElevation(e) {\n    const t = (o, i) => {\n      const n = this.analysis.observer,\n        r = e.target;\n      let s = null,\n        a = null,\n        l = null,\n        u = null,\n        p = null,\n        h = null;\n      if (d(n) && d(n.position)) {\n        const e = w(n.position, this.view.spatialReference);\n        if (d(e.pending)) return this._updatingHandles.addPromise(e.pending), void e.pending.finally(() => t(o, i));\n        s = e.geometry, a = n.elevationInfo, l = n.feature;\n      }\n      if (d(r.position)) {\n        const e = w(r.position, this.view.spatialReference);\n        if (d(e.pending)) return this._updatingHandles.addPromise(e.pending), void e.pending.finally(() => t(o, i));\n        u = e.geometry, p = r.elevationInfo, h = r.feature;\n      }\n      c(s) && c(u) || (R(o, i, $, this.view.spatialReference), d(s) && E($, s) && this._onObserverPositionChange(d(n) ? n.position : null, s, a, l, !1), d(u) && E($, u) && this._onTargetPositionChange(e, r.position, u, p, h, !1), d(s) && d(u) && H($, s, u) && e.notifyInputPointsChanged());\n    };\n    return this.view.elevationProvider.on(\"elevation-change\", e => t(e.extent, e.spatialReference));\n  }\n  _connectComputationToTask(e) {\n    let t = h;\n    const o = {\n      computation: e,\n      interpolationInfo: {\n        originalIntersection: S(),\n        originalObserver: S(),\n        originalTarget: S()\n      }\n    };\n    return s([this._updatingHandles.add(() => e.inputPoints, () => {\n      t = u(t), t = i(async e => {\n        await g(this._frameTask.schedule(() => this._computeResult(o), e));\n      });\n    }, {\n      initial: !0,\n      equals: () => !1\n    }), a(() => t = u(t))]);\n  }\n  _connectComputation(e) {\n    const t = this._computationHandles;\n    t.has(e) || t.add([this._connectComputationToTarget(e), this._connectComputationToObserver(e), this._connectComputationToRenderSpaceObserver(e), this._connectComputationToCamera(e), this._connectComputationToSlicePlane(e), this._connectComputationToElevation(e), this._connectComputationToTask(e)], e);\n  }\n  _disconnectComputation(e) {\n    this._computationHandles.remove(e);\n  }\n  _onComputationCollectionChange(_ref7) {\n    let {\n      added: e,\n      removed: t\n    } = _ref7;\n    for (const o of t) this._disconnectComputation(o);\n    for (const o of e) this._connectComputation(o);\n  }\n  _onTargetCollectionChange(_ref8) {\n    let {\n      added: e,\n      removed: t\n    } = _ref8;\n    for (const o of t) this._removeTarget(o);\n    for (const o of e) this._addTarget(o);\n  }\n  _onCursorTargetChange(e, t) {\n    d(t) && this._removeTarget(t), d(e) && this._addTarget(e);\n  }\n  _addTarget(e) {\n    this._computations.some(t => t.target === e) || this._computations.add(new x({\n      target: e\n    }));\n  }\n  _removeTarget(e) {\n    const t = this._computations.findIndex(t => t.target === e);\n    this._computations.removeAt(t);\n  }\n  _connectObserver() {\n    return s([this._updatingHandles.add(() => ({\n      observerPosition: d(this.analysis.observer) ? this.analysis.observer.position : null,\n      projectedObserverPosition: w(d(this.analysis.observer) ? this.analysis.observer.position : null, this.view.spatialReference),\n      observerElevationInfo: d(this.analysis.observer) ? this.analysis.observer.elevationInfo : null,\n      observerFeatureInfo: d(this.analysis.observer) ? this.analysis.observer.feature : null\n    }), _ref9 => {\n      let {\n        observerPosition: e,\n        projectedObserverPosition: t,\n        observerElevationInfo: o,\n        observerFeatureInfo: i\n      } = _ref9;\n      d(t.pending) ? this._updatingHandles.addPromise(t.pending) : this._onObserverPositionChange(e, t.geometry, o, i, !0);\n    }, v)]);\n  }\n  _connectComputations() {\n    return this._updatingHandles.addOnCollectionChange(() => this._computations, e => this._onComputationCollectionChange(e), {\n      initial: !0,\n      final: !0\n    });\n  }\n  _connectTargets() {\n    return s([this._updatingHandles.addOnCollectionChange(() => this.analysis.targets, e => this._onTargetCollectionChange(e), {\n      initial: !0,\n      final: !0\n    }), this._updatingHandles.add(() => this.analysisViewData.cursorTarget, (e, t) => {\n      this._onCursorTargetChange(e, t);\n    })]);\n  }\n  get _isCameraDirty() {\n    const e = this.analysisViewData.elevationAlignedObserver,\n      {\n        view: t\n      } = this,\n      {\n        renderCoordsHelper: o\n      } = t;\n    if (c(e) || c(o)) return !1;\n    const i = X;\n    o.toRenderCoords(e, i);\n    const n = t.state.camera.computeScreenPixelSizeAt(i);\n    return Math.abs((n - this._screenPixelSize) / this._screenPixelSize) > Q;\n  }\n  _getEffectiveElevationInfo(e, t) {\n    return e.hasZ ? p(t, {\n      mode: \"absolute-height\",\n      offset: 0\n    }) : {\n      mode: \"on-the-ground\",\n      offset: 0\n    };\n  }\n};\ne([m({\n  constructOnly: !0\n})], K.prototype, \"analysis\", void 0), e([m({\n  constructOnly: !0\n})], K.prototype, \"analysisViewData\", void 0), e([m({\n  constructOnly: !0\n})], K.prototype, \"view\", void 0), e([m()], K.prototype, \"updating\", null), e([m()], K.prototype, \"priority\", null), e([m()], K.prototype, \"updateOnCameraChange\", void 0), e([m()], K.prototype, \"_computations\", null), e([m()], K.prototype, \"_elevationAlignedObserverPositionRenderSpace\", null), e([m()], K.prototype, \"_observerGroundOffsetRenderSpace\", void 0), e([m()], K.prototype, \"_effectiveObserverElevationMode\", void 0), e([m()], K.prototype, \"_observerFeatureId\", void 0), e([m()], K.prototype, \"_screenPixelSize\", null), e([m({\n  readOnly: !0\n})], K.prototype, \"_updatingHandles\", void 0), e([m()], K.prototype, \"_frameTask\", void 0), e([m()], K.prototype, \"_isCameraDirty\", null), K = e([f(W)], K);\nconst Q = .1,\n  X = S(),\n  Y = L(),\n  $ = A(),\n  ee = .05;\nexport { K as LineOfSightController };","map":{"version":3,"names":["_","e","getFeatureId","t","o","createTask","i","n","r","handlesGroup","s","makeHandle","a","l","isNone","c","isSome","d","abortMaybe","u","unwrapOr","p","none","h","ignoreAbortErrors","g","initial","v","property","m","subclass","f","b","y","C","I","T","j","P","w","O","S","WatchUpdatingTracking","projectOrLoad","projectBoundingRect","R","empty","A","containsPointObject","E","intersectsSegment","H","fromPoints","F","create","L","zValueInAbsoluteHeightMode","V","LineOfSightAnalysisResult","D","LineOfSightComputation","x","LineOfSightRayIntersector","N","logFailedGeometryProjectionError","k","StoreResults","G","toGraphic","z","hasLod","U","getIntersectedFeatureBSRadius","M","ImmediateTask","Z","TaskPriority","q","B","W","J","getLogger","K","EventedMixin","constructor","updateOnCameraChange","_observerGroundOffsetRenderSpace","_effectiveObserverElevationMode","_observerFeatureId","_updatingHandles","_frameTask","_handles","_computationHandles","_externalObserverUpdate","initialize","view","resourceController","scheduler","registerTask","LINE_OF_SIGHT_TOOL","_intersector","add","_connectObserver","_connectComputations","_connectTargets","destroy","_computations","removeAll","updating","priority","analysisViewData","computations","_elevationAlignedObserverPositionRenderSpace","observerEngineLocation","_screenPixelSize","state","camera","computeScreenPixelSizeAt","_computeResult","computation","inputPoints","computationResult","observerAdjusted","targetAdjusted","start","end","_canCompute","_computeIntersection","_interpolateIntersection","notifyResultChanged","emit","target","result","_updateAdjustedPointsFromFeatures","sceneIntersectionHelper","observerFeatureId","targetFeatureId","intersector","observer","Y","options","store","ALL","intersectToolIntersectorRay","results","all","distanceInRenderSpace","_getFeatureDistanceThreshold","getIntersectionPoint","observerSurfaceNormal","getTransformedNormal","targetSurfaceNormal","Math","min","ee","_adjustStartEndPositions","X","_ref","interpolationInfo","renderCoordsHelper","MIN","intersection","originalIntersection","originalObserver","originalTarget","fromRenderCoords","spatialReference","intersectedGraphic","intersectedLocation","visible","elevationAlignedTargetLocation","isValid","isTargetVisible","_ref2","elevationAlignedObserver","frustum","intersectsPoint","_onObserverPositionChange","analysis","_getEffectiveElevationInfo","absoluteZ","elevation","clone","mode","toRenderCoords","LINE_OF_SIGHT_TOOL_INTERACTIVE","_onObserverRenderSpacePositionChangeForComputation","updateFromGroundIntersection","notifyInputPointsChanged","_onTargetPositionChange","arguments","length","undefined","_connectComputationToTarget","targetPosition","position","targetElevationInfo","elevationInfo","targetFeatureInfo","feature","projectedTargetPosition","_ref3","pending","addPromise","geometry","_connectComputationToObserver","_ref4","_connectComputationToRenderSpaceObserver","observerGroundOffset","observerElevationMode","_ref5","_connectComputationToCamera","isDirty","_isCameraDirty","_ref6","_connectComputationToSlicePlane","slicePlane","_connectComputationToElevation","finally","$","elevationProvider","on","extent","_connectComputationToTask","schedule","equals","_connectComputation","has","_disconnectComputation","remove","_onComputationCollectionChange","_ref7","added","removed","_onTargetCollectionChange","_ref8","_removeTarget","_addTarget","_onCursorTargetChange","some","findIndex","removeAt","observerPosition","projectedObserverPosition","observerElevationInfo","observerFeatureInfo","_ref9","addOnCollectionChange","final","targets","cursorTarget","abs","Q","hasZ","offset","constructOnly","prototype","readOnly","LineOfSightController"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightController.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{getFeatureId as t}from\"../../../../analysis/featureReferenceUtils.js\";import o from\"../../../../core/Accessor.js\";import{createTask as i}from\"../../../../core/asyncUtils.js\";import n from\"../../../../core/Evented.js\";import r from\"../../../../core/Handles.js\";import{handlesGroup as s,makeHandle as a}from\"../../../../core/handleUtils.js\";import l from\"../../../../core/Logger.js\";import{isNone as c,isSome as d,abortMaybe as u,unwrapOr as p,none as h}from\"../../../../core/maybe.js\";import{ignoreAbortErrors as g}from\"../../../../core/promiseUtils.js\";import{initial as v}from\"../../../../core/reactiveUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as _,i as b,b as y,n as C,g as I,a as T,j as P,w as O}from\"../../../../chunks/vec3.js\";import{c as S}from\"../../../../chunks/vec3f64.js\";import{WatchUpdatingTracking as j}from\"../../../../core/support/WatchUpdatingTracking.js\";import{projectOrLoad as w,projectBoundingRect as R}from\"../../../../geometry/projection.js\";import{empty as A,containsPointObject as E,intersectsSegment as H}from\"../../../../geometry/support/aaBoundingRect.js\";import{fromPoints as F,create as L}from\"../../../../geometry/support/ray.js\";import{zValueInAbsoluteHeightMode as V}from\"../../../../support/elevationInfoUtils.js\";import{LineOfSightAnalysisResult as D}from\"../LineOfSightAnalysisResult.js\";import{LineOfSightComputation as x}from\"./LineOfSightComputation.js\";import{LineOfSightRayIntersector as N}from\"./LineOfSightRayIntersector.js\";import{logFailedGeometryProjectionError as k}from\"../support/projectionUtils.js\";import{StoreResults as G}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as z,hasLod as U,getIntersectedFeatureBSRadius as M}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{ImmediateTask as Z,TaskPriority as q}from\"../../../support/Scheduler.js\";import B from\"../../../../geometry/Point.js\";const W=\"esri.views.3d.analysis.LineOfSight.LineOfSightController\",J=l.getLogger(W);let K=class extends(n.EventedMixin(o)){constructor(e){super(e),this.updateOnCameraChange=!0,this._observerGroundOffsetRenderSpace=0,this._effectiveObserverElevationMode=\"absolute-height\",this._observerFeatureId=null,this._updatingHandles=new j,this._frameTask=Z,this._handles=new r,this._computationHandles=new r,this._externalObserverUpdate=!0}initialize(){const e=this.view.resourceController?.scheduler;this._frameTask=e?e.registerTask(q.LINE_OF_SIGHT_TOOL):Z,this._intersector=new N({view:this.view}),this._handles.add([this._connectObserver(),this._connectComputations(),this._connectTargets()])}destroy(){this._handles.destroy(),this._computationHandles.destroy(),this._computations.removeAll(),this._updatingHandles.destroy()}get updating(){return this._frameTask.updating||this._updatingHandles.updating}get priority(){return this._frameTask.priority}set priority(e){this._frameTask.priority=e}get _computations(){return this.analysisViewData.computations}get _elevationAlignedObserverPositionRenderSpace(){return this.analysisViewData.observerEngineLocation}set _elevationAlignedObserverPositionRenderSpace(e){this.analysisViewData.observerEngineLocation=e}get _screenPixelSize(){return this.view.state.camera.computeScreenPixelSizeAt(this._elevationAlignedObserverPositionRenderSpace)}_computeResult(e){const t=e.computation,{inputPoints:o,computationResult:i}=t,{observerAdjusted:n,targetAdjusted:r}=o,{start:s,end:a}=i;_(s,n),_(a,r);this._canCompute(t)?this._computeIntersection(e):this._interpolateIntersection(e),t.notifyResultChanged(),this.emit(\"result-changed\",{target:e.computation.target,result:t.result})}_updateAdjustedPointsFromFeatures(e){const o=this.view,{sceneIntersectionHelper:i}=o,{inputPoints:n}=e,{observerAdjusted:r,observerFeatureId:s,targetFeatureId:a,targetAdjusted:l}=n;if(c(s)&&c(a))return;const u=b(r,l),p=this._intersector.intersector,h=F(n.observer,n.target,Y);p.options.store=G.ALL,i.intersectToolIntersectorRay(h,p);let g=null,v=null,m=null,f=null;for(const _ of p.results.all){const e=z(_,this.view);if(c(e)||c(_.distanceInRenderSpace))continue;const i=t(e);c(i)||(d(s)&&i===s&&(c(g)&&(g=this._getFeatureDistanceThreshold(_,o,u)),_.distanceInRenderSpace<g&&(m=_)),d(a)&&i===a&&(c(v)&&(v=this._getFeatureDistanceThreshold(_,o,u)),c(f)&&_.distanceInRenderSpace<u&&u-_.distanceInRenderSpace<v&&(f=_)))}d(m)&&m.getIntersectionPoint(r)&&(n.observerSurfaceNormal=m.getTransformedNormal(S())),d(f)&&f.getIntersectionPoint(l)&&(n.targetSurfaceNormal=f.getTransformedNormal(S()))}_getFeatureDistanceThreshold(e,t,o){if(U(e)){const i=M(e,t);if(d(i))return Math.min(i*ee,o)}return 1e-5*o}_adjustStartEndPositions(e){const t=this._screenPixelSize,o=this.view,{inputPoints:i}=e,{observer:n,observerSurfaceNormal:r,target:s,targetSurfaceNormal:a,observerAdjusted:l,targetAdjusted:c}=i,u=X;_(l,n),_(c,s),this._updateAdjustedPointsFromFeatures(e),d(r)?_(u,r):y(u,c,l);const p=t;C(u,u),I(u,u,Math.min(p,1)),T(l,l,u),d(a)?_(u,a):y(u,l,c);const h=o.state.camera.computeScreenPixelSizeAt(c);C(u,u),I(u,u,Math.min(h,1)),T(c,c,u)}_computeIntersection({computation:e,interpolationInfo:t}){const{view:o}=this,{sceneIntersectionHelper:i,renderCoordsHelper:n}=o;if(c(i))return;const r=this._intersector.intersector,{computationResult:s,inputPoints:a}=e,{observer:l,target:u}=a,{start:p,end:h}=s,g=F(p,h,Y);r.options.store=G.MIN,i.intersectToolIntersectorRay(g,r);const v=r.results.min,m=s.intersection,f=X;let b=!0;if(d(v)&&v.getIntersectionPoint(m)){_(t.originalIntersection,m),_(t.originalObserver,p),_(t.originalTarget,h),n.fromRenderCoords(m,f,o.spatialReference);const e=1-P(h,u)/P(p,u);b=P(l,m)>=e*P(l,u)}const y=new B(f,o.spatialReference);{const{result:t,target:i}=e;d(t)?(t.target=i,t.intersectedGraphic=b?null:z(v,o),t.intersectedLocation=b?null:y,t.visible=b):e.result=new D({target:i,elevationAlignedTargetLocation:e.elevationAlignedTargetLocation,intersectedGraphic:b?null:z(v,o),intersectedLocation:b?null:y,visible:b})}s.isValid=a.isValid=!0,s.isTargetVisible=b}_interpolateIntersection({computation:e,interpolationInfo:t}){const{computationResult:o,inputPoints:i}=e,{start:n,end:r,intersection:s}=o,{originalIntersection:a,originalObserver:l,originalTarget:c}=t;if(_(s,a),i.isValid){const e=X,t=P(l,a)/P(l,c);O(e,n,l),I(e,e,1-t),T(s,s,e),O(e,r,c),I(e,e,t),T(s,s,e),o.isValid=!0}else e.result=null,o.isValid=!1,o.isTargetVisible=!1}_canCompute(e){const t=this.analysisViewData.elevationAlignedObserver,o=this.view.frustum;if(c(t)||c(e.elevationAlignedTargetLocation)||c(o))return!1;const{observerAdjusted:i,targetAdjusted:n}=e.inputPoints,r=o.intersectsPoint(i),s=o.intersectsPoint(n);return r&&s}_onObserverPositionChange(e,o,i,n,r){if(this._externalObserverUpdate=r,c(e))return this.analysisViewData.elevationAlignedObserver=null,void(this._observerFeatureId=null);if(c(o))return k(this.analysis,e.spatialReference,J),void(this.analysisViewData.elevationAlignedObserver=null);const s=this._getEffectiveElevationInfo(o,i),{absoluteZ:a,elevation:l}=V(o.x,o.y,o.z,this.view.spatialReference,this.view,s),d=o.clone();d.z=a,this._effectiveObserverElevationMode=s.mode,this.analysisViewData.elevationAlignedObserver=d;const u=S();this.view.renderCoordsHelper.toRenderCoords(d,u),this._elevationAlignedObserverPositionRenderSpace=u,this._observerGroundOffsetRenderSpace=a-l,this._observerFeatureId=t(n),this.priority=q.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onObserverRenderSpacePositionChangeForComputation(e,t,o,i,n){const{inputPoints:r}=e;switch(_(r.observer,t),r.observerFeatureId=n,r.observerSurfaceNormal=null,i){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(r.observer,o,r.observer);c(r.observerFeatureId)&&(r.observerSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=q.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onTargetPositionChange(e,o,i,n,r,s=!0){const a=e.inputPoints;if(s&&(a.isValid=!1),c(i))return d(o)&&k(this.analysis,o.spatialReference,J),e.elevationAlignedTargetLocation=null,void e.notifyInputPointsChanged();const l=this._getEffectiveElevationInfo(i,n),{absoluteZ:u,elevation:p}=V(i.x,i.y,i.z,this.view.spatialReference,this.view,l),h=i.clone();switch(h.z=u,e.elevationAlignedTargetLocation=h,this.view.renderCoordsHelper.toRenderCoords(e.elevationAlignedTargetLocation,a.target),a.targetFeatureId=t(r),a.targetSurfaceNormal=null,l.mode){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(a.target,u-p,a.target);c(a.targetFeatureId)&&(a.targetSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=q.LINE_OF_SIGHT_TOOL_INTERACTIVE}_connectComputationToTarget(e){return s([this._updatingHandles.add((()=>({computation:e,targetPosition:e.target.position,targetElevationInfo:e.target.elevationInfo,targetFeatureInfo:e.target.feature,projectedTargetPosition:w(e.target.position,this.view.spatialReference)})),(({computation:e,targetPosition:t,targetElevationInfo:o,targetFeatureInfo:i,projectedTargetPosition:n})=>{d(n.pending)?this._updatingHandles.addPromise(n.pending):this._onTargetPositionChange(e,t,n.geometry,o,i)}),v)])}_connectComputationToObserver(e){return this._updatingHandles.add((()=>({computation:e,observer:this.analysisViewData.elevationAlignedObserver})),(({computation:e})=>{this._externalObserverUpdate&&(e.inputPoints.isValid=!1,e.notifyInputPointsChanged())}),v)}_connectComputationToRenderSpaceObserver(e){return this._updatingHandles.add((()=>({computation:e,observer:this._elevationAlignedObserverPositionRenderSpace,observerGroundOffset:this._observerGroundOffsetRenderSpace,observerElevationMode:this._effectiveObserverElevationMode,observerFeatureId:this._observerFeatureId})),(({computation:e,observer:t,observerGroundOffset:o,observerElevationMode:i,observerFeatureId:n})=>{this._onObserverRenderSpacePositionChangeForComputation(e,t,o,i,n)}),v)}_connectComputationToCamera(e){return this._updatingHandles.add((()=>({camera:this.view.state.camera,isDirty:this._isCameraDirty})),(({isDirty:t})=>{!this.updateOnCameraChange||e.inputPoints.isValid&&!t||e.notifyInputPointsChanged()}))}_connectComputationToSlicePlane(e){return this._updatingHandles.add((()=>this.view.slicePlane),(()=>{e.inputPoints.isValid=!1,e.notifyInputPointsChanged()}))}_connectComputationToElevation(e){const t=(o,i)=>{const n=this.analysis.observer,r=e.target;let s=null,a=null,l=null,u=null,p=null,h=null;if(d(n)&&d(n.position)){const e=w(n.position,this.view.spatialReference);if(d(e.pending))return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(o,i)));s=e.geometry,a=n.elevationInfo,l=n.feature}if(d(r.position)){const e=w(r.position,this.view.spatialReference);if(d(e.pending))return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(o,i)));u=e.geometry,p=r.elevationInfo,h=r.feature}c(s)&&c(u)||(R(o,i,$,this.view.spatialReference),d(s)&&E($,s)&&this._onObserverPositionChange(d(n)?n.position:null,s,a,l,!1),d(u)&&E($,u)&&this._onTargetPositionChange(e,r.position,u,p,h,!1),d(s)&&d(u)&&H($,s,u)&&e.notifyInputPointsChanged())};return this.view.elevationProvider.on(\"elevation-change\",(e=>t(e.extent,e.spatialReference)))}_connectComputationToTask(e){let t=h;const o={computation:e,interpolationInfo:{originalIntersection:S(),originalObserver:S(),originalTarget:S()}};return s([this._updatingHandles.add((()=>e.inputPoints),(()=>{t=u(t),t=i((async e=>{await g(this._frameTask.schedule((()=>this._computeResult(o)),e))}))}),{initial:!0,equals:()=>!1}),a((()=>t=u(t)))])}_connectComputation(e){const t=this._computationHandles;t.has(e)||t.add([this._connectComputationToTarget(e),this._connectComputationToObserver(e),this._connectComputationToRenderSpaceObserver(e),this._connectComputationToCamera(e),this._connectComputationToSlicePlane(e),this._connectComputationToElevation(e),this._connectComputationToTask(e)],e)}_disconnectComputation(e){this._computationHandles.remove(e)}_onComputationCollectionChange({added:e,removed:t}){for(const o of t)this._disconnectComputation(o);for(const o of e)this._connectComputation(o)}_onTargetCollectionChange({added:e,removed:t}){for(const o of t)this._removeTarget(o);for(const o of e)this._addTarget(o)}_onCursorTargetChange(e,t){d(t)&&this._removeTarget(t),d(e)&&this._addTarget(e)}_addTarget(e){this._computations.some((t=>t.target===e))||this._computations.add(new x({target:e}))}_removeTarget(e){const t=this._computations.findIndex((t=>t.target===e));this._computations.removeAt(t)}_connectObserver(){return s([this._updatingHandles.add((()=>({observerPosition:d(this.analysis.observer)?this.analysis.observer.position:null,projectedObserverPosition:w(d(this.analysis.observer)?this.analysis.observer.position:null,this.view.spatialReference),observerElevationInfo:d(this.analysis.observer)?this.analysis.observer.elevationInfo:null,observerFeatureInfo:d(this.analysis.observer)?this.analysis.observer.feature:null})),(({observerPosition:e,projectedObserverPosition:t,observerElevationInfo:o,observerFeatureInfo:i})=>{d(t.pending)?this._updatingHandles.addPromise(t.pending):this._onObserverPositionChange(e,t.geometry,o,i,!0)}),v)])}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this._computations),(e=>this._onComputationCollectionChange(e)),{initial:!0,final:!0})}_connectTargets(){return s([this._updatingHandles.addOnCollectionChange((()=>this.analysis.targets),(e=>this._onTargetCollectionChange(e)),{initial:!0,final:!0}),this._updatingHandles.add((()=>this.analysisViewData.cursorTarget),((e,t)=>{this._onCursorTargetChange(e,t)}))])}get _isCameraDirty(){const e=this.analysisViewData.elevationAlignedObserver,{view:t}=this,{renderCoordsHelper:o}=t;if(c(e)||c(o))return!1;const i=X;o.toRenderCoords(e,i);const n=t.state.camera.computeScreenPixelSizeAt(i);return Math.abs((n-this._screenPixelSize)/this._screenPixelSize)>Q}_getEffectiveElevationInfo(e,t){return e.hasZ?p(t,{mode:\"absolute-height\",offset:0}):{mode:\"on-the-ground\",offset:0}}};e([m({constructOnly:!0})],K.prototype,\"analysis\",void 0),e([m({constructOnly:!0})],K.prototype,\"analysisViewData\",void 0),e([m({constructOnly:!0})],K.prototype,\"view\",void 0),e([m()],K.prototype,\"updating\",null),e([m()],K.prototype,\"priority\",null),e([m()],K.prototype,\"updateOnCameraChange\",void 0),e([m()],K.prototype,\"_computations\",null),e([m()],K.prototype,\"_elevationAlignedObserverPositionRenderSpace\",null),e([m()],K.prototype,\"_observerGroundOffsetRenderSpace\",void 0),e([m()],K.prototype,\"_effectiveObserverElevationMode\",void 0),e([m()],K.prototype,\"_observerFeatureId\",void 0),e([m()],K.prototype,\"_screenPixelSize\",null),e([m({readOnly:!0})],K.prototype,\"_updatingHandles\",void 0),e([m()],K.prototype,\"_frameTask\",void 0),e([m()],K.prototype,\"_isCameraDirty\",null),K=e([f(W)],K);const Q=.1,X=S(),Y=L(),$=A(),ee=.05;export{K as LineOfSightController};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}