{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { addProjViewLocalOrigin as e } from \"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";\nimport { Float4PassUniform as o } from \"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";\nimport { FloatPassUniform as t } from \"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";\nimport { glsl as r } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { ShaderBuilder as i } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { VertexAttribute as d } from \"../views/3d/webgl-engine/lib/VertexAttribute.js\";\nfunction n(n) {\n  const s = new i(),\n    {\n      vertex: a,\n      fragment: l\n    } = s;\n  e(a, n), a.uniforms.add(new t(\"width\", e => e.width)), s.attributes.add(d.POSITION, \"vec3\"), s.attributes.add(d.NORMAL, \"vec3\"), s.attributes.add(d.UV0, \"vec2\"), s.attributes.add(d.AUXPOS1, \"float\"), s.varyings.add(\"vtc\", \"vec2\"), s.varyings.add(\"vlength\", \"float\"), s.varyings.add(\"vradius\", \"float\"), a.code.add(r`void main(void) {\nvec3 bitangent = normal;\nvtc = uv0;\nvlength = auxpos1;\nvradius = 0.5 * width;\nvec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\ngl_Position = proj * pos;\n}`), l.uniforms.add([new t(\"outlineSize\", e => e.outlineSize), new o(\"outlineColor\", e => e.outlineColor), new t(\"stripeLength\", e => e.stripeLength), new o(\"stripeEvenColor\", e => e.stripeEvenColor), new o(\"stripeOddColor\", e => e.stripeOddColor)]);\n  const v = 1 / Math.sqrt(2);\n  return l.code.add(r`\n    const float INV_SQRT2 = ${r.float(v)};\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      } else if (d < outlineSize) {\n        return outlineColor;\n      } else {\n        return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n      }\n    }\n\n    void main(void) {\n      vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n      vec4 color = arrowColor(ntc, vlength / vradius);\n      if (color.a == 0.0) {\n        discard;\n      }\n      gl_FragColor = color;\n    }\n  `), s;\n}\nconst s = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  build: n\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { s as M, n as b };","map":{"version":3,"names":["addProjViewLocalOrigin","e","Float4PassUniform","o","FloatPassUniform","t","glsl","r","ShaderBuilder","i","VertexAttribute","d","n","s","vertex","a","fragment","l","uniforms","add","width","attributes","POSITION","NORMAL","UV0","AUXPOS1","varyings","code","outlineSize","outlineColor","stripeLength","stripeEvenColor","stripeOddColor","v","Math","sqrt","float","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","M","b"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as i}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as d}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function n(n){const s=new i,{vertex:a,fragment:l}=s;e(a,n),a.uniforms.add(new t(\"width\",(e=>e.width))),s.attributes.add(d.POSITION,\"vec3\"),s.attributes.add(d.NORMAL,\"vec3\"),s.attributes.add(d.UV0,\"vec2\"),s.attributes.add(d.AUXPOS1,\"float\"),s.varyings.add(\"vtc\",\"vec2\"),s.varyings.add(\"vlength\",\"float\"),s.varyings.add(\"vradius\",\"float\"),a.code.add(r`void main(void) {\nvec3 bitangent = normal;\nvtc = uv0;\nvlength = auxpos1;\nvradius = 0.5 * width;\nvec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\ngl_Position = proj * pos;\n}`),l.uniforms.add([new t(\"outlineSize\",(e=>e.outlineSize)),new o(\"outlineColor\",(e=>e.outlineColor)),new t(\"stripeLength\",(e=>e.stripeLength)),new o(\"stripeEvenColor\",(e=>e.stripeEvenColor)),new o(\"stripeOddColor\",(e=>e.stripeOddColor))]);const v=1/Math.sqrt(2);return l.code.add(r`\n    const float INV_SQRT2 = ${r.float(v)};\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      } else if (d < outlineSize) {\n        return outlineColor;\n      } else {\n        return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n      }\n    }\n\n    void main(void) {\n      vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n      vec4 color = arrowColor(ntc, vlength / vradius);\n      if (color.a == 0.0) {\n        discard;\n      }\n      gl_FragColor = color;\n    }\n  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:n},Symbol.toStringTag,{value:\"Module\"}));export{s as M,n as b};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,sBAAsB,IAAIC,CAAC,QAAK,+DAA+D;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,kEAAkE;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,iEAAiE;AAAC,SAAOC,IAAI,IAAIC,CAAC,QAAK,2DAA2D;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,8DAA8D;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,iDAAiD;AAAC,SAASC,CAACA,CAACA,CAAC,EAAC;EAAC,MAAMC,CAAC,GAAC,IAAIJ,CAAC;IAAC;MAACK,MAAM,EAACC,CAAC;MAACC,QAAQ,EAACC;IAAC,CAAC,GAACJ,CAAC;EAACZ,CAAC,CAACc,CAAC,EAACH,CAAC,CAAC,EAACG,CAAC,CAACG,QAAQ,CAACC,GAAG,CAAC,IAAId,CAAC,CAAC,OAAO,EAAEJ,CAAC,IAAEA,CAAC,CAACmB,KAAK,CAAE,CAAC,EAACP,CAAC,CAACQ,UAAU,CAACF,GAAG,CAACR,CAAC,CAACW,QAAQ,EAAC,MAAM,CAAC,EAACT,CAAC,CAACQ,UAAU,CAACF,GAAG,CAACR,CAAC,CAACY,MAAM,EAAC,MAAM,CAAC,EAACV,CAAC,CAACQ,UAAU,CAACF,GAAG,CAACR,CAAC,CAACa,GAAG,EAAC,MAAM,CAAC,EAACX,CAAC,CAACQ,UAAU,CAACF,GAAG,CAACR,CAAC,CAACc,OAAO,EAAC,OAAO,CAAC,EAACZ,CAAC,CAACa,QAAQ,CAACP,GAAG,CAAC,KAAK,EAAC,MAAM,CAAC,EAACN,CAAC,CAACa,QAAQ,CAACP,GAAG,CAAC,SAAS,EAAC,OAAO,CAAC,EAACN,CAAC,CAACa,QAAQ,CAACP,GAAG,CAAC,SAAS,EAAC,OAAO,CAAC,EAACJ,CAAC,CAACY,IAAI,CAACR,GAAG,CAACZ,CAAE;AAC74B;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,CAAC,EAACU,CAAC,CAACC,QAAQ,CAACC,GAAG,CAAC,CAAC,IAAId,CAAC,CAAC,aAAa,EAAEJ,CAAC,IAAEA,CAAC,CAAC2B,WAAW,CAAE,EAAC,IAAIzB,CAAC,CAAC,cAAc,EAAEF,CAAC,IAAEA,CAAC,CAAC4B,YAAY,CAAE,EAAC,IAAIxB,CAAC,CAAC,cAAc,EAAEJ,CAAC,IAAEA,CAAC,CAAC6B,YAAY,CAAE,EAAC,IAAI3B,CAAC,CAAC,iBAAiB,EAAEF,CAAC,IAAEA,CAAC,CAAC8B,eAAe,CAAE,EAAC,IAAI5B,CAAC,CAAC,gBAAgB,EAAEF,CAAC,IAAEA,CAAC,CAAC+B,cAAc,CAAE,CAAC,CAAC;EAAC,MAAMC,CAAC,GAAC,CAAC,GAACC,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC;EAAC,OAAOlB,CAAC,CAACU,IAAI,CAACR,GAAG,CAACZ,CAAE;AAC3R,8BAA8BA,CAAC,CAAC6B,KAAK,CAACH,CAAC,CAAE;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,EAACpB,CAAC;AAAA;AAAC,MAAMA,CAAC,GAACwB,MAAM,CAACC,MAAM,CAACD,MAAM,CAACE,cAAc,CAAC;EAACC,SAAS,EAAC,IAAI;EAACC,KAAK,EAAC7B;AAAC,CAAC,EAAC8B,MAAM,CAACC,WAAW,EAAC;EAACC,KAAK,EAAC;AAAQ,CAAC,CAAC,CAAC;AAAC,SAAO/B,CAAC,IAAIgC,CAAC,EAACjC,CAAC,IAAIkC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}