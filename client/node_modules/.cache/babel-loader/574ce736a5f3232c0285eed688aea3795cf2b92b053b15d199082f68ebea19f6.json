{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { s as e } from \"./vec4.js\";\nimport { c as o } from \"./vec4f64.js\";\nimport { Float4PassUniform as i } from \"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";\nimport { glsl as t } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { ShaderBuilder as l } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { Texture2DPassUniform as r } from \"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";\nimport { VertexAttribute as n } from \"../views/3d/webgl-engine/lib/VertexAttribute.js\";\nconst a = 8.6,\n  s = .4;\nfunction u() {\n  const o = new l(),\n    {\n      vertex: u,\n      fragment: c\n    } = o,\n    f = u.code,\n    g = c.code;\n  return o.attributes.add(n.POSITION, \"vec2\"), o.varyings.add(\"uv\", \"vec2\"), o.attributes.add(n.UV0, \"vec2\"), u.uniforms.add(new r(\"coverageTex\", e => e.coverageTexture)), f.add(t`void main() {\nvec4 cov = texture2D(coverageTex, uv0);\nif (cov.r == 0.0) {\ngl_Position = vec4(0.0);\nreturn;\n}\ngl_Position = vec4(position, 0.0, 1.0);\nuv = position.xy * 0.5 + vec2(0.5);\n}`), c.uniforms.add(new r(\"tex\", e => e.blurColorTexture)), c.uniforms.add(new r(\"origin\", e => e.highlightColorTexture)), c.uniforms.add(new i(\"uColor\", e => e.color)), c.uniforms.add(new i(\"haloColor\", e => e.haloColor)), c.uniforms.add(new i(\"opacities\", o => e(d, o.haloOpacity, o.haloOpacityOccluded, o.fillOpacity, o.fillOpacityOccluded))), c.constants.add(\"outlineSize\", \"float\", a), c.constants.add(\"blurSize\", \"float\", s), g.add(t`void main() {\nvec4 blurredHighlightValue = texture2D(tex, uv);\nfloat highlightIntensity = blurredHighlightValue.a;\nif (highlightIntensity == 0.0) {\ndiscard;\n}\nvec4 origin_color = texture2D(origin, uv);\nfloat outlineIntensity;\nfloat fillIntensity;\nif (blurredHighlightValue.g > blurredHighlightValue.b) {\noutlineIntensity = haloColor.w * opacities[1];\nfillIntensity = uColor.w * opacities[3];\n}\nelse {\noutlineIntensity = haloColor.w * opacities[0];\nfillIntensity = uColor.w * opacities[2];\n}\nfloat inner = 1.0 - outlineSize / 9.0;\nfloat outer = 1.0 - (outlineSize + blurSize) / 9.0;\nfloat outlineFactor = smoothstep(outer, inner, highlightIntensity);\nfloat fillFactor = any(notEqual(origin_color, vec4(0.0, 0.0, 0.0, 0.0))) ? 1.0 : 0.0;\nfloat intensity = outlineIntensity * outlineFactor * (1.0 - fillFactor) + fillIntensity * fillFactor;\ngl_FragColor = vec4(mix(haloColor.rgb, uColor.rgb, fillFactor), intensity);\n}`), o;\n}\nconst d = o(),\n  c = Object.freeze(Object.defineProperty({\n    __proto__: null,\n    build: u\n  }, Symbol.toStringTag, {\n    value: \"Module\"\n  }));\nexport { c as H, u as b };","map":{"version":3,"names":["s","e","c","o","Float4PassUniform","i","glsl","t","ShaderBuilder","l","Texture2DPassUniform","r","VertexAttribute","n","a","u","vertex","fragment","f","code","g","attributes","add","POSITION","varyings","UV0","uniforms","coverageTexture","blurColorTexture","highlightColorTexture","color","haloColor","d","haloOpacity","haloOpacityOccluded","fillOpacity","fillOpacityOccluded","constants","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","H","b"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/chunks/HighlightApply.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{s as e}from\"./vec4.js\";import{c as o}from\"./vec4f64.js\";import{Float4PassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as r}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as n}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";const a=8.6,s=.4;function u(){const o=new l,{vertex:u,fragment:c}=o,f=u.code,g=c.code;return o.attributes.add(n.POSITION,\"vec2\"),o.varyings.add(\"uv\",\"vec2\"),o.attributes.add(n.UV0,\"vec2\"),u.uniforms.add(new r(\"coverageTex\",(e=>e.coverageTexture))),f.add(t`void main() {\nvec4 cov = texture2D(coverageTex, uv0);\nif (cov.r == 0.0) {\ngl_Position = vec4(0.0);\nreturn;\n}\ngl_Position = vec4(position, 0.0, 1.0);\nuv = position.xy * 0.5 + vec2(0.5);\n}`),c.uniforms.add(new r(\"tex\",(e=>e.blurColorTexture))),c.uniforms.add(new r(\"origin\",(e=>e.highlightColorTexture))),c.uniforms.add(new i(\"uColor\",(e=>e.color))),c.uniforms.add(new i(\"haloColor\",(e=>e.haloColor))),c.uniforms.add(new i(\"opacities\",(o=>e(d,o.haloOpacity,o.haloOpacityOccluded,o.fillOpacity,o.fillOpacityOccluded)))),c.constants.add(\"outlineSize\",\"float\",a),c.constants.add(\"blurSize\",\"float\",s),g.add(t`void main() {\nvec4 blurredHighlightValue = texture2D(tex, uv);\nfloat highlightIntensity = blurredHighlightValue.a;\nif (highlightIntensity == 0.0) {\ndiscard;\n}\nvec4 origin_color = texture2D(origin, uv);\nfloat outlineIntensity;\nfloat fillIntensity;\nif (blurredHighlightValue.g > blurredHighlightValue.b) {\noutlineIntensity = haloColor.w * opacities[1];\nfillIntensity = uColor.w * opacities[3];\n}\nelse {\noutlineIntensity = haloColor.w * opacities[0];\nfillIntensity = uColor.w * opacities[2];\n}\nfloat inner = 1.0 - outlineSize / 9.0;\nfloat outer = 1.0 - (outlineSize + blurSize) / 9.0;\nfloat outlineFactor = smoothstep(outer, inner, highlightIntensity);\nfloat fillFactor = any(notEqual(origin_color, vec4(0.0, 0.0, 0.0, 0.0))) ? 1.0 : 0.0;\nfloat intensity = outlineIntensity * outlineFactor * (1.0 - fillFactor) + fillIntensity * fillFactor;\ngl_FragColor = vec4(mix(haloColor.rgb, uColor.rgb, fillFactor), intensity);\n}`),o}const d=o(),c=Object.freeze(Object.defineProperty({__proto__:null,build:u},Symbol.toStringTag,{value:\"Module\"}));export{c as H,u as b};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}