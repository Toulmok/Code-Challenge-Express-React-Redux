{"ast":null,"code":"import _regeneratorRuntime from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _createForOfIteratorHelper from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _objectSpread from \"C:/code-challenge-react/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../../../../core/Error.js\";\nimport t from \"../../../../../../core/Logger.js\";\nimport { isAbortError as r } from \"../../../../../../core/promiseUtils.js\";\nimport { errorPointSymbolJSON as s, errorPolylineSymbolJSON as i, errorPolygonSymbolJSON as a } from \"../../../../../../symbols/support/defaultsJSON.js\";\nimport { WGLSymbologyType as o, WGLGeometryType as l } from \"../../enums.js\";\nimport { createMaterialKey as m } from \"../../materialKey/MaterialKey.js\";\nimport c from \"./WGLDynamicFillTemplate.js\";\nimport n from \"./WGLDynamicLineTemplate.js\";\nimport h from \"./WGLDynamicMarkerTemplate.js\";\nimport p from \"./WGLDynamicTextTemplate.js\";\nimport u from \"./WGLFillTemplate.js\";\nimport _ from \"./WGLLineTemplate.js\";\nimport f from \"./WGLMarkerTemplate.js\";\nimport M from \"./WGLTextTemplate.js\";\nimport { Lock as y, withLock as T } from \"../../util/Lock.js\";\nimport { ok as I } from \"../../util/Result.js\";\nimport { codepoints as g } from \"../../../../layers/features/textUtils.js\";\nimport { cimLayerToRasterizationInfo as d } from \"../../../../layers/support/cimSymbolUtils.js\";\nvar S = t.getLogger(\"esri.views.2d.engine.webgl.mesh.templates.WGLTemplateStore\"),\n  w = {\n    sortKey: null,\n    templates: new Array()\n  },\n  k = {\n    isOutline: !1,\n    placement: null,\n    symbologyType: o.DEFAULT,\n    vvFlags: 0\n  },\n  C = _objectSpread(_objectSpread({}, s), {}, {\n    hash: JSON.stringify(s),\n    materialKey: m(l.MARKER, k)\n  }),\n  L = _objectSpread(_objectSpread({}, i), {}, {\n    hash: JSON.stringify(i),\n    materialKey: m(l.LINE, k)\n  }),\n  b = _objectSpread(_objectSpread({}, a), {}, {\n    hash: JSON.stringify(a),\n    materialKey: m(l.FILL, k)\n  });\nfunction E(e, t) {\n  var r = e.length;\n  return e.push(null), t.then(function (t) {\n    return e[r] = t;\n  }), e;\n}\nfunction G(e) {\n  return null != e && !!(1 & e);\n}\nfunction j(e) {\n  return \"worker:port-closed\" === e.name;\n}\nvar x = /*#__PURE__*/function () {\n  function x(e, t) {\n    _classCallCheck(this, x);\n    this._idCounter = 1, this._templateIdCounter = 1, this._idToTemplateGroup = new Map(), this._symbolToTemplate = new Map(), this._fetchQueue = [], this._idToResolver = new Map(), this._cimTemplateCache = new Map(), this._cimAnalyses = [], this._lock = new y(), this._fetchResource = e, this._tileInfo = t;\n  }\n  _createClass(x, [{\n    key: \"_markerError\",\n    get: function get() {\n      return this._errorTemplates.marker[0];\n    }\n  }, {\n    key: \"_fillError\",\n    get: function get() {\n      return this._errorTemplates.fill[0];\n    }\n  }, {\n    key: \"_lineError\",\n    get: function get() {\n      return this._errorTemplates.line[0];\n    }\n  }, {\n    key: \"_textError\",\n    get: function get() {\n      return this._errorTemplates.line[0];\n    }\n  }, {\n    key: \"createTemplateGroup\",\n    value: function createTemplateGroup(e, t) {\n      var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      this._initErrorTemplates();\n      var s = e.hash,\n        i = this._symbolToTemplate.get(s);\n      if (null != i) return i;\n      var a = new Array(),\n        o = {\n          sortKey: r,\n          templates: a\n        };\n      t && this._createMeshTemplates(a, t, !0), this._createMeshTemplates(a, e, !1);\n      var l = this._createGroupId(\"expanded-cim\" === e.type && F(e));\n      return this._idToTemplateGroup.set(l, o), this._symbolToTemplate.set(s, l), l;\n    }\n  }, {\n    key: \"getTemplateGroup\",\n    value: function getTemplateGroup(e) {\n      var _this$_idToTemplateGr;\n      return (_this$_idToTemplateGr = this._idToTemplateGroup.get(e)) !== null && _this$_idToTemplateGr !== void 0 ? _this$_idToTemplateGr : w;\n    }\n  }, {\n    key: \"getDynamicTemplateGroup\",\n    value: function getDynamicTemplateGroup(e) {\n      return this._idToTemplateGroup.has(e) ? (G(e) || S.error(\"mapview-template-store\", \"Id \".concat(e, \" does not refer to a dynamic template\")), this._idToTemplateGroup.get(e)) : w;\n    }\n  }, {\n    key: \"getMosaicItem\",\n    value: function getMosaicItem(e, t) {\n      var _this = this;\n      var r = this._createTemplateId(),\n        s = new Promise(function (e) {\n          return _this._idToResolver.set(r, e);\n        });\n      return this._fetchQueue.push({\n        symbol: e,\n        id: r,\n        glyphIds: t\n      }), s;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize(e) {\n      return this._fetchQueue.length || this._lock.isHeld() ? T(this._lock, this._fetchAllQueuedResources.bind(this), e) : Promise.resolve();\n    }\n  }, {\n    key: \"_initErrorTemplates\",\n    value: function _initErrorTemplates() {\n      this._errorTemplates || (this._errorTemplates = {\n        fill: this._createMeshTemplates([], b, !1),\n        marker: this._createMeshTemplates([], C, !1),\n        line: this._createMeshTemplates([], L, !1)\n      });\n    }\n  }, {\n    key: \"_fetchAllQueuedResources\",\n    value: function _fetchAllQueuedResources(t) {\n      var _this2 = this;\n      if (!this._fetchQueue.length) return Promise.resolve();\n      var s = this._fetchQueue,\n        i = this._cimAnalyses;\n      return this._fetchQueue = [], this._cimAnalyses = [], Promise.all(i).then(function () {\n        return _this2._fetchResource(s, t).then(function (e) {\n          var _iterator = _createForOfIteratorHelper(e),\n            _step;\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var _step$value = _step.value,\n                _t = _step$value.id,\n                _r = _step$value.mosaicItem;\n              _this2._idToResolver.get(_t)(_r), _this2._idToResolver.delete(_t);\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        });\n      }).catch(function (t) {\n        r(t) ? _this2._fetchQueue = _this2._fetchQueue.concat(s) : j(t) || S.error(new e(\"mapview-template-store\", \"Unable to fetch requested texture resources\", t));\n      });\n    }\n  }, {\n    key: \"_createGroupId\",\n    value: function _createGroupId(e) {\n      return this._idCounter++ << 1 | (e ? 1 : 0);\n    }\n  }, {\n    key: \"_createTemplateId\",\n    value: function _createTemplateId() {\n      return this._templateIdCounter++;\n    }\n  }, {\n    key: \"_createSMS\",\n    value: function () {\n      var _createSMS2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n        var _yield$this$getMosaic, t;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.getMosaicItem(e);\n            case 2:\n              _yield$this$getMosaic = _context.sent;\n              t = _yield$this$getMosaic.spriteMosaicItem;\n              return _context.abrupt(\"return\", I(t, S) ? f.fromSimpleMarker(e, t) : this._markerError);\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function _createSMS(_x) {\n        return _createSMS2.apply(this, arguments);\n      }\n      return _createSMS;\n    }()\n  }, {\n    key: \"_createPMS\",\n    value: function () {\n      var _createPMS2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e) {\n        var _yield$this$getMosaic2, t;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.getMosaicItem(e);\n            case 2:\n              _yield$this$getMosaic2 = _context2.sent;\n              t = _yield$this$getMosaic2.spriteMosaicItem;\n              return _context2.abrupt(\"return\", I(t, S) ? f.fromPictureMarker(e, t) : this._markerError);\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function _createPMS(_x2) {\n        return _createPMS2.apply(this, arguments);\n      }\n      return _createPMS;\n    }()\n  }, {\n    key: \"_createSFS\",\n    value: function () {\n      var _createSFS2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e, t) {\n        var _yield$this$getMosaic3, r;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.getMosaicItem(e);\n            case 2:\n              _yield$this$getMosaic3 = _context3.sent;\n              r = _yield$this$getMosaic3.spriteMosaicItem;\n              return _context3.abrupt(\"return\", I(r, S) ? u.fromSimpleFill(e, r, t) : this._fillError);\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function _createSFS(_x3, _x4) {\n        return _createSFS2.apply(this, arguments);\n      }\n      return _createSFS;\n    }()\n  }, {\n    key: \"_createPFS\",\n    value: function () {\n      var _createPFS2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(e, t) {\n        var _yield$this$getMosaic4, r;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this.getMosaicItem(e);\n            case 2:\n              _yield$this$getMosaic4 = _context4.sent;\n              r = _yield$this$getMosaic4.spriteMosaicItem;\n              return _context4.abrupt(\"return\", I(r, S) ? u.fromPictureFill(e, r, t) : this._fillError);\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n      function _createPFS(_x5, _x6) {\n        return _createPFS2.apply(this, arguments);\n      }\n      return _createPFS;\n    }()\n  }, {\n    key: \"_createSLS\",\n    value: function () {\n      var _createSLS2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(e, t) {\n        var _yield$this$getMosaic5, r;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return this.getMosaicItem(e);\n            case 2:\n              _yield$this$getMosaic5 = _context5.sent;\n              r = _yield$this$getMosaic5.spriteMosaicItem;\n              return _context5.abrupt(\"return\", I(r, S) ? _.fromSimpleLine(e, r) : this._lineError);\n            case 5:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function _createSLS(_x7, _x8) {\n        return _createSLS2.apply(this, arguments);\n      }\n      return _createSLS;\n    }()\n  }, {\n    key: \"_createLMS\",\n    value: function () {\n      var _createLMS2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(e) {\n        var _yield$this$getMosaic6, t;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return this.getMosaicItem(e);\n            case 2:\n              _yield$this$getMosaic6 = _context6.sent;\n              t = _yield$this$getMosaic6.spriteMosaicItem;\n              return _context6.abrupt(\"return\", I(t, S) ? f.fromLineSymbolMarker(e, t) : this._markerError);\n            case 5:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n      function _createLMS(_x9) {\n        return _createLMS2.apply(this, arguments);\n      }\n      return _createLMS;\n    }()\n  }, {\n    key: \"_createTS\",\n    value: function () {\n      var _createTS2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(e) {\n        var _yield$this$getMosaic7, t;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return this.getMosaicItem(e);\n            case 2:\n              _yield$this$getMosaic7 = _context7.sent;\n              t = _yield$this$getMosaic7.glyphMosaicItems;\n              return _context7.abrupt(\"return\", M.fromText(e, t !== null && t !== void 0 ? t : []));\n            case 5:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7, this);\n      }));\n      function _createTS(_x10) {\n        return _createTS2.apply(this, arguments);\n      }\n      return _createTS;\n    }()\n  }, {\n    key: \"_createCIMText\",\n    value: function () {\n      var _createCIMText2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(e) {\n        var _yield$this$getMosaic8, t;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.next = 2;\n              return this.getMosaicItem(d(e), g(e.text));\n            case 2:\n              _yield$this$getMosaic8 = _context8.sent;\n              t = _yield$this$getMosaic8.glyphMosaicItems;\n              return _context8.abrupt(\"return\", I(t, S) ? M.fromCIMText(e, t, this._tileInfo) : this._textError);\n            case 5:\n            case \"end\":\n              return _context8.stop();\n          }\n        }, _callee8, this);\n      }));\n      function _createCIMText(_x11) {\n        return _createCIMText2.apply(this, arguments);\n      }\n      return _createCIMText;\n    }()\n  }, {\n    key: \"_createCIMFill\",\n    value: function () {\n      var _createCIMFill2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(e) {\n        var _yield$this$getMosaic9, t;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.next = 2;\n              return this.getMosaicItem(d(e));\n            case 2:\n              _yield$this$getMosaic9 = _context9.sent;\n              t = _yield$this$getMosaic9.spriteMosaicItem;\n              return _context9.abrupt(\"return\", I(t, S) ? u.fromCIMFill(e, t, this._tileInfo) : this._fillError);\n            case 5:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee9, this);\n      }));\n      function _createCIMFill(_x12) {\n        return _createCIMFill2.apply(this, arguments);\n      }\n      return _createCIMFill;\n    }()\n  }, {\n    key: \"_createCIMLine\",\n    value: function () {\n      var _createCIMLine2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(e) {\n        var _yield$this$getMosaic10, t;\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1) switch (_context10.prev = _context10.next) {\n            case 0:\n              _context10.next = 2;\n              return this.getMosaicItem(d(e));\n            case 2:\n              _yield$this$getMosaic10 = _context10.sent;\n              t = _yield$this$getMosaic10.spriteMosaicItem;\n              return _context10.abrupt(\"return\", I(t, S) ? _.fromCIMLine(e, t, this._tileInfo) : this._lineError);\n            case 5:\n            case \"end\":\n              return _context10.stop();\n          }\n        }, _callee10, this);\n      }));\n      function _createCIMLine(_x13) {\n        return _createCIMLine2.apply(this, arguments);\n      }\n      return _createCIMLine;\n    }()\n  }, {\n    key: \"_createCIMMarker\",\n    value: function () {\n      var _createCIMMarker2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(e) {\n        var _yield$this$getMosaic11, t;\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1) switch (_context11.prev = _context11.next) {\n            case 0:\n              _context11.next = 2;\n              return this.getMosaicItem(d(e));\n            case 2:\n              _yield$this$getMosaic11 = _context11.sent;\n              t = _yield$this$getMosaic11.spriteMosaicItem;\n              return _context11.abrupt(\"return\", I(t, S) ? f.fromCIMMarker(e, t, this._tileInfo) : this._markerError);\n            case 5:\n            case \"end\":\n              return _context11.stop();\n          }\n        }, _callee11, this);\n      }));\n      function _createCIMMarker(_x14) {\n        return _createCIMMarker2.apply(this, arguments);\n      }\n      return _createCIMMarker;\n    }()\n  }, {\n    key: \"_createCIM\",\n    value: function () {\n      var _createCIM2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(e) {\n        var t, r;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1) switch (_context12.prev = _context12.next) {\n            case 0:\n              t = e.templateHash;\n              r = this._cimTemplateCache.get(t);\n              if (!(null != r)) {\n                _context12.next = 4;\n                break;\n              }\n              return _context12.abrupt(\"return\", r);\n            case 4:\n              _context12.t0 = e.type;\n              _context12.next = _context12.t0 === \"marker\" ? 7 : _context12.t0 === \"line\" ? 11 : _context12.t0 === \"fill\" ? 15 : _context12.t0 === \"text\" ? 19 : 22;\n              break;\n            case 7:\n              _context12.next = 9;\n              return this._createCIMMarker(e);\n            case 9:\n              r = _context12.sent;\n              return _context12.abrupt(\"break\", 22);\n            case 11:\n              _context12.next = 13;\n              return this._createCIMLine(e);\n            case 13:\n              r = _context12.sent;\n              return _context12.abrupt(\"break\", 22);\n            case 15:\n              _context12.next = 17;\n              return this._createCIMFill(e);\n            case 17:\n              r = _context12.sent;\n              return _context12.abrupt(\"break\", 22);\n            case 19:\n              _context12.next = 21;\n              return this._createCIMText(e);\n            case 21:\n              r = _context12.sent;\n            case 22:\n              return _context12.abrupt(\"return\", (this._cimTemplateCache.set(t, r), r));\n            case 23:\n            case \"end\":\n              return _context12.stop();\n          }\n        }, _callee12, this);\n      }));\n      function _createCIM(_x15) {\n        return _createCIM2.apply(this, arguments);\n      }\n      return _createCIM;\n    }()\n  }, {\n    key: \"_createDynamicCIM\",\n    value: function () {\n      var _createDynamicCIM2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(e) {\n        var t, r;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1) switch (_context13.prev = _context13.next) {\n            case 0:\n              t = e.templateHash;\n              r = this._cimTemplateCache.get(t);\n              if (!(null != r)) {\n                _context13.next = 4;\n                break;\n              }\n              return _context13.abrupt(\"return\", r);\n            case 4:\n              _context13.t0 = e.type;\n              _context13.next = _context13.t0 === \"marker\" ? 7 : _context13.t0 === \"line\" ? 9 : _context13.t0 === \"fill\" ? 11 : _context13.t0 === \"text\" ? 13 : 14;\n              break;\n            case 7:\n              r = h.fromCIMMarker(e, this._tileInfo);\n              return _context13.abrupt(\"break\", 14);\n            case 9:\n              r = n.fromCIMLine(e, this._tileInfo);\n              return _context13.abrupt(\"break\", 14);\n            case 11:\n              r = c.fromCIMFill(e, this._tileInfo);\n              return _context13.abrupt(\"break\", 14);\n            case 13:\n              r = p.fromCIMText(e, this._tileInfo);\n            case 14:\n              return _context13.abrupt(\"return\", (this._cimTemplateCache.set(t, r), r));\n            case 15:\n            case \"end\":\n              return _context13.stop();\n          }\n        }, _callee13, this);\n      }));\n      function _createDynamicCIM(_x16) {\n        return _createDynamicCIM2.apply(this, arguments);\n      }\n      return _createDynamicCIM;\n    }()\n  }, {\n    key: \"_createPrimitiveMeshTemplates\",\n    value: function _createPrimitiveMeshTemplates(e, t, r) {\n      switch (t.type) {\n        case \"esriSMS\":\n          return E(e, this._createSMS(t));\n        case \"esriPMS\":\n          return E(e, this._createPMS(t));\n        case \"esriSFS\":\n          return E(e, this._createSFS(t, r));\n        case \"line-marker\":\n          return E(e, this._createLMS(t));\n        case \"esriPFS\":\n          return E(e, this._createPFS(t, r));\n        case \"esriSLS\":\n          return E(e, this._createSLS(t, !1));\n        case \"esriTS\":\n          return E(e, this._createTS(t));\n        default:\n          return S.error(\"Unable to create mesh template for unknown symbol type {: $ }{symbol.type}\"), e;\n      }\n    }\n  }, {\n    key: \"_createMeshTemplates\",\n    value: function _createMeshTemplates(e, t, r) {\n      if (t.type.includes(\"3d\")) return S.error(\"3D symbols are not supported with MapView\"), e;\n      if (\"expanded-cim\" === t.type) {\n        var _iterator2 = _createForOfIteratorHelper(t.layers),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _r2 = _step2.value;\n            \"function\" == typeof _r2.materialHash ? E(e, this._createDynamicCIM(_r2)) : E(e, this._createCIM(_r2));\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n        return e;\n      }\n      if (\"composite-symbol\" === t.type) {\n        var _iterator3 = _createForOfIteratorHelper(t.layers),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var _s = _step3.value;\n            this._createPrimitiveMeshTemplates(e, _s, r);\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n        return e;\n      }\n      return \"cim\" === t.type || \"label\" === t.type || \"web-style\" === t.type ? e : this._createPrimitiveMeshTemplates(e, t, r);\n    }\n  }]);\n  return x;\n}();\nvar F = function F(e) {\n  if (!e.layers) return !1;\n  var _iterator4 = _createForOfIteratorHelper(e.layers),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var _t2 = _step4.value;\n      if (\"function\" == typeof _t2.materialHash) return !0;\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  return !1;\n};\nexport { x as WGLTemplateStore, C as errorPointSchema2D, b as errorPolygonSchema2D, L as errorPolylineSchema2D, G as isDynamicId };","map":{"version":3,"names":["e","t","isAbortError","r","errorPointSymbolJSON","s","errorPolylineSymbolJSON","i","errorPolygonSymbolJSON","a","WGLSymbologyType","o","WGLGeometryType","l","createMaterialKey","m","c","n","h","p","u","_","f","M","Lock","y","withLock","T","ok","I","codepoints","g","cimLayerToRasterizationInfo","d","S","getLogger","w","sortKey","templates","Array","k","isOutline","placement","symbologyType","DEFAULT","vvFlags","C","_objectSpread","hash","JSON","stringify","materialKey","MARKER","L","LINE","b","FILL","E","length","push","then","G","j","name","x","_classCallCheck","_idCounter","_templateIdCounter","_idToTemplateGroup","Map","_symbolToTemplate","_fetchQueue","_idToResolver","_cimTemplateCache","_cimAnalyses","_lock","_fetchResource","_tileInfo","_createClass","key","get","_errorTemplates","marker","fill","line","value","createTemplateGroup","arguments","undefined","_initErrorTemplates","_createMeshTemplates","_createGroupId","type","F","set","getTemplateGroup","_this$_idToTemplateGr","getDynamicTemplateGroup","has","error","concat","getMosaicItem","_this","_createTemplateId","Promise","symbol","id","glyphIds","finalize","isHeld","_fetchAllQueuedResources","bind","resolve","_this2","all","_iterator","_createForOfIteratorHelper","_step","done","_step$value","mosaicItem","delete","err","catch","_createSMS2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$this$getMosaic","wrap","_callee$","_context","prev","next","sent","spriteMosaicItem","abrupt","fromSimpleMarker","_markerError","stop","_createSMS","_x","apply","_createPMS2","_callee2","_yield$this$getMosaic2","_callee2$","_context2","fromPictureMarker","_createPMS","_x2","_createSFS2","_callee3","_yield$this$getMosaic3","_callee3$","_context3","fromSimpleFill","_fillError","_createSFS","_x3","_x4","_createPFS2","_callee4","_yield$this$getMosaic4","_callee4$","_context4","fromPictureFill","_createPFS","_x5","_x6","_createSLS2","_callee5","_yield$this$getMosaic5","_callee5$","_context5","fromSimpleLine","_lineError","_createSLS","_x7","_x8","_createLMS2","_callee6","_yield$this$getMosaic6","_callee6$","_context6","fromLineSymbolMarker","_createLMS","_x9","_createTS2","_callee7","_yield$this$getMosaic7","_callee7$","_context7","glyphMosaicItems","fromText","_createTS","_x10","_createCIMText2","_callee8","_yield$this$getMosaic8","_callee8$","_context8","text","fromCIMText","_textError","_createCIMText","_x11","_createCIMFill2","_callee9","_yield$this$getMosaic9","_callee9$","_context9","fromCIMFill","_createCIMFill","_x12","_createCIMLine2","_callee10","_yield$this$getMosaic10","_callee10$","_context10","fromCIMLine","_createCIMLine","_x13","_createCIMMarker2","_callee11","_yield$this$getMosaic11","_callee11$","_context11","fromCIMMarker","_createCIMMarker","_x14","_createCIM2","_callee12","_callee12$","_context12","templateHash","t0","_createCIM","_x15","_createDynamicCIM2","_callee13","_callee13$","_context13","_createDynamicCIM","_x16","_createPrimitiveMeshTemplates","includes","_iterator2","layers","_step2","materialHash","_iterator3","_step3","_iterator4","_step4","WGLTemplateStore","errorPointSchema2D","errorPolygonSchema2D","errorPolylineSchema2D","isDynamicId"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/WGLTemplateStore.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/Error.js\";import t from\"../../../../../../core/Logger.js\";import{isAbortError as r}from\"../../../../../../core/promiseUtils.js\";import{errorPointSymbolJSON as s,errorPolylineSymbolJSON as i,errorPolygonSymbolJSON as a}from\"../../../../../../symbols/support/defaultsJSON.js\";import{WGLSymbologyType as o,WGLGeometryType as l}from\"../../enums.js\";import{createMaterialKey as m}from\"../../materialKey/MaterialKey.js\";import c from\"./WGLDynamicFillTemplate.js\";import n from\"./WGLDynamicLineTemplate.js\";import h from\"./WGLDynamicMarkerTemplate.js\";import p from\"./WGLDynamicTextTemplate.js\";import u from\"./WGLFillTemplate.js\";import _ from\"./WGLLineTemplate.js\";import f from\"./WGLMarkerTemplate.js\";import M from\"./WGLTextTemplate.js\";import{Lock as y,withLock as T}from\"../../util/Lock.js\";import{ok as I}from\"../../util/Result.js\";import{codepoints as g}from\"../../../../layers/features/textUtils.js\";import{cimLayerToRasterizationInfo as d}from\"../../../../layers/support/cimSymbolUtils.js\";const S=t.getLogger(\"esri.views.2d.engine.webgl.mesh.templates.WGLTemplateStore\"),w={sortKey:null,templates:new Array},k={isOutline:!1,placement:null,symbologyType:o.DEFAULT,vvFlags:0},C={...s,hash:JSON.stringify(s),materialKey:m(l.MARKER,k)},L={...i,hash:JSON.stringify(i),materialKey:m(l.LINE,k)},b={...a,hash:JSON.stringify(a),materialKey:m(l.FILL,k)};function E(e,t){const r=e.length;return e.push(null),t.then((t=>e[r]=t)),e}function G(e){return null!=e&&!!(1&e)}function j(e){return\"worker:port-closed\"===e.name}class x{constructor(e,t){this._idCounter=1,this._templateIdCounter=1,this._idToTemplateGroup=new Map,this._symbolToTemplate=new Map,this._fetchQueue=[],this._idToResolver=new Map,this._cimTemplateCache=new Map,this._cimAnalyses=[],this._lock=new y,this._fetchResource=e,this._tileInfo=t}get _markerError(){return this._errorTemplates.marker[0]}get _fillError(){return this._errorTemplates.fill[0]}get _lineError(){return this._errorTemplates.line[0]}get _textError(){return this._errorTemplates.line[0]}createTemplateGroup(e,t,r=null){this._initErrorTemplates();const s=e.hash,i=this._symbolToTemplate.get(s);if(null!=i)return i;const a=new Array,o={sortKey:r,templates:a};t&&this._createMeshTemplates(a,t,!0),this._createMeshTemplates(a,e,!1);const l=this._createGroupId(\"expanded-cim\"===e.type&&F(e));return this._idToTemplateGroup.set(l,o),this._symbolToTemplate.set(s,l),l}getTemplateGroup(e){return this._idToTemplateGroup.get(e)??w}getDynamicTemplateGroup(e){return this._idToTemplateGroup.has(e)?(G(e)||S.error(\"mapview-template-store\",`Id ${e} does not refer to a dynamic template`),this._idToTemplateGroup.get(e)):w}getMosaicItem(e,t){const r=this._createTemplateId(),s=new Promise((e=>this._idToResolver.set(r,e)));return this._fetchQueue.push({symbol:e,id:r,glyphIds:t}),s}finalize(e){return this._fetchQueue.length||this._lock.isHeld()?T(this._lock,this._fetchAllQueuedResources.bind(this),e):Promise.resolve()}_initErrorTemplates(){this._errorTemplates||(this._errorTemplates={fill:this._createMeshTemplates([],b,!1),marker:this._createMeshTemplates([],C,!1),line:this._createMeshTemplates([],L,!1)})}_fetchAllQueuedResources(t){if(!this._fetchQueue.length)return Promise.resolve();const s=this._fetchQueue,i=this._cimAnalyses;return this._fetchQueue=[],this._cimAnalyses=[],Promise.all(i).then((()=>this._fetchResource(s,t).then((e=>{for(const{id:t,mosaicItem:r}of e){this._idToResolver.get(t)(r),this._idToResolver.delete(t)}})))).catch((t=>{r(t)?this._fetchQueue=this._fetchQueue.concat(s):j(t)||S.error(new e(\"mapview-template-store\",\"Unable to fetch requested texture resources\",t))}))}_createGroupId(e){return this._idCounter++<<1|(e?1:0)}_createTemplateId(){return this._templateIdCounter++}async _createSMS(e){const{spriteMosaicItem:t}=await this.getMosaicItem(e);return I(t,S)?f.fromSimpleMarker(e,t):this._markerError}async _createPMS(e){const{spriteMosaicItem:t}=await this.getMosaicItem(e);return I(t,S)?f.fromPictureMarker(e,t):this._markerError}async _createSFS(e,t){const{spriteMosaicItem:r}=await this.getMosaicItem(e);return I(r,S)?u.fromSimpleFill(e,r,t):this._fillError}async _createPFS(e,t){const{spriteMosaicItem:r}=await this.getMosaicItem(e);return I(r,S)?u.fromPictureFill(e,r,t):this._fillError}async _createSLS(e,t){const{spriteMosaicItem:r}=await this.getMosaicItem(e);return I(r,S)?_.fromSimpleLine(e,r):this._lineError}async _createLMS(e){const{spriteMosaicItem:t}=await this.getMosaicItem(e);return I(t,S)?f.fromLineSymbolMarker(e,t):this._markerError}async _createTS(e){const{glyphMosaicItems:t}=await this.getMosaicItem(e);return M.fromText(e,t??[])}async _createCIMText(e){const{glyphMosaicItems:t}=await this.getMosaicItem(d(e),g(e.text));return I(t,S)?M.fromCIMText(e,t,this._tileInfo):this._textError}async _createCIMFill(e){const{spriteMosaicItem:t}=await this.getMosaicItem(d(e));return I(t,S)?u.fromCIMFill(e,t,this._tileInfo):this._fillError}async _createCIMLine(e){const{spriteMosaicItem:t}=await this.getMosaicItem(d(e));return I(t,S)?_.fromCIMLine(e,t,this._tileInfo):this._lineError}async _createCIMMarker(e){const{spriteMosaicItem:t}=await this.getMosaicItem(d(e));return I(t,S)?f.fromCIMMarker(e,t,this._tileInfo):this._markerError}async _createCIM(e){const t=e.templateHash;let r=this._cimTemplateCache.get(t);if(null!=r)return r;switch(e.type){case\"marker\":r=await this._createCIMMarker(e);break;case\"line\":r=await this._createCIMLine(e);break;case\"fill\":r=await this._createCIMFill(e);break;case\"text\":r=await this._createCIMText(e)}return this._cimTemplateCache.set(t,r),r}async _createDynamicCIM(e){const t=e.templateHash;let r=this._cimTemplateCache.get(t);if(null!=r)return r;switch(e.type){case\"marker\":r=h.fromCIMMarker(e,this._tileInfo);break;case\"line\":r=n.fromCIMLine(e,this._tileInfo);break;case\"fill\":r=c.fromCIMFill(e,this._tileInfo);break;case\"text\":r=p.fromCIMText(e,this._tileInfo)}return this._cimTemplateCache.set(t,r),r}_createPrimitiveMeshTemplates(e,t,r){switch(t.type){case\"esriSMS\":return E(e,this._createSMS(t));case\"esriPMS\":return E(e,this._createPMS(t));case\"esriSFS\":return E(e,this._createSFS(t,r));case\"line-marker\":return E(e,this._createLMS(t));case\"esriPFS\":return E(e,this._createPFS(t,r));case\"esriSLS\":return E(e,this._createSLS(t,!1));case\"esriTS\":return E(e,this._createTS(t));default:return S.error(\"Unable to create mesh template for unknown symbol type {: $ }{symbol.type}\"),e}}_createMeshTemplates(e,t,r){if(t.type.includes(\"3d\"))return S.error(\"3D symbols are not supported with MapView\"),e;if(\"expanded-cim\"===t.type){for(const r of t.layers)\"function\"==typeof r.materialHash?E(e,this._createDynamicCIM(r)):E(e,this._createCIM(r));return e}if(\"composite-symbol\"===t.type){for(const s of t.layers)this._createPrimitiveMeshTemplates(e,s,r);return e}return\"cim\"===t.type||\"label\"===t.type||\"web-style\"===t.type?e:this._createPrimitiveMeshTemplates(e,t,r)}}const F=e=>{if(!e.layers)return!1;for(const t of e.layers)if(\"function\"==typeof t.materialHash)return!0;return!1};export{x as WGLTemplateStore,C as errorPointSchema2D,b as errorPolygonSchema2D,L as errorPolylineSchema2D,G as isDynamicId};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}