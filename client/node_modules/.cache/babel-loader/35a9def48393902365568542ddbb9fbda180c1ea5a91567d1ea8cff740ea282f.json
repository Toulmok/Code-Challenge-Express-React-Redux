{"ast":null,"code":"import _regeneratorRuntime from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectSpread from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { id as r } from \"../kernel.js\";\nimport e from \"../request.js\";\nimport n from \"../portal/Portal.js\";\nfunction t(r, e) {\n  if (null === r) return e;\n  return new n({\n    url: r.field(\"url\")\n  });\n}\nfunction s(_x, _x2, _x3) {\n  return _s.apply(this, arguments);\n}\nfunction _s() {\n  _s = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(n, t, s) {\n    var u, _r, _e, o, _r2;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          u = r === null || r === void 0 ? void 0 : r.findCredential(n.restUrl);\n          if (u) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", null);\n        case 3:\n          if (!(\"loaded\" === n.loadStatus && \"\" === t && n.user && n.user.sourceJSON && !1 === s)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", n.user.sourceJSON);\n        case 5:\n          if (!(\"\" === t)) {\n            _context.next = 14;\n            break;\n          }\n          _context.next = 8;\n          return e(n.restUrl + \"/community/self\", {\n            responseType: \"json\",\n            query: _objectSpread({\n              f: \"json\"\n            }, !1 === s ? {} : {\n              returnUserLicenseTypeExtensions: !0\n            })\n          });\n        case 8:\n          _r = _context.sent;\n          if (!_r.data) {\n            _context.next = 13;\n            break;\n          }\n          _e = _r.data;\n          if (!(_e && _e.username)) {\n            _context.next = 13;\n            break;\n          }\n          return _context.abrupt(\"return\", _e);\n        case 13:\n          return _context.abrupt(\"return\", null);\n        case 14:\n          _context.next = 16;\n          return e(n.restUrl + \"/community/users/\" + t, {\n            responseType: \"json\",\n            query: {\n              f: \"json\"\n            }\n          });\n        case 16:\n          o = _context.sent;\n          if (!o.data) {\n            _context.next = 20;\n            break;\n          }\n          _r2 = o.data;\n          return _context.abrupt(\"return\", _r2.error ? null : _r2);\n        case 20:\n          return _context.abrupt(\"return\", null);\n        case 21:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _s.apply(this, arguments);\n}\nexport { t as getPortal, s as lookupUser };","map":{"version":3,"names":["id","r","e","n","t","url","field","s","_x","_x2","_x3","_s","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","u","_r","_e","o","_r2","wrap","_callee$","_context","prev","next","findCredential","restUrl","abrupt","loadStatus","user","sourceJSON","responseType","query","_objectSpread","f","returnUserLicenseTypeExtensions","sent","data","username","error","stop","getPortal","lookupUser"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/arcade/portalUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{id as r}from\"../kernel.js\";import e from\"../request.js\";import n from\"../portal/Portal.js\";function t(r,e){if(null===r)return e;return new n({url:r.field(\"url\")})}async function s(n,t,s){const u=r?.findCredential(n.restUrl);if(!u)return null;if(\"loaded\"===n.loadStatus&&\"\"===t&&n.user&&n.user.sourceJSON&&!1===s)return n.user.sourceJSON;if(\"\"===t){const r=await e(n.restUrl+\"/community/self\",{responseType:\"json\",query:{f:\"json\",...!1===s?{}:{returnUserLicenseTypeExtensions:!0}}});if(r.data){const e=r.data;if(e&&e.username)return e}return null}const o=await e(n.restUrl+\"/community/users/\"+t,{responseType:\"json\",query:{f:\"json\"}});if(o.data){const r=o.data;return r.error?null:r}return null}export{t as getPortal,s as lookupUser};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}