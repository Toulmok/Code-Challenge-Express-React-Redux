{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from \"../../request.js\";\nimport { constant as i } from \"../../core/arrayUtils.js\";\nimport e from \"../../core/Error.js\";\nimport { clone as a } from \"../../core/lang.js\";\nclass l {\n  constructor() {\n    this.location = {\n      left: 0,\n      top: 0,\n      width: 0,\n      height: 0\n    }, this._allAvailability = \"unknown\", this.byteSize = 40;\n  }\n  getAvailability(t, i) {\n    if (\"unknown\" !== this._allAvailability) return this._allAvailability;\n    const e = (t - this.location.top) * this.location.width + (i - this.location.left),\n      a = e % 8,\n      l = e >> 3,\n      o = this._tileAvailabilityBitSet;\n    return l < 0 || l > o.length ? \"unknown\" : o[l] & 1 << a ? \"available\" : \"unavailable\";\n  }\n  _updateFromData(t) {\n    const i = this.location.width,\n      e = this.location.height;\n    let a = !0,\n      l = !0;\n    const o = Math.ceil(i * e / 8),\n      n = new Uint8Array(o);\n    let r = 0;\n    for (let s = 0; s < t.length; s++) {\n      const i = s % 8;\n      t[s] ? (l = !1, n[r] |= 1 << i) : a = !1, 7 === i && ++r;\n    }\n    l ? this._allAvailability = \"unavailable\" : a ? this._allAvailability = \"available\" : (this._allAvailability = \"unknown\", this._tileAvailabilityBitSet = n, this.byteSize += n.length);\n  }\n  static fromDefinition(a, o) {\n    const r = a.service.request || t,\n      {\n        row: s,\n        col: h,\n        width: c,\n        height: m\n      } = a,\n      d = {\n        query: {\n          f: \"json\"\n        }\n      };\n    return o = o ? {\n      ...d,\n      ...o\n    } : d, r(n(a), o).then(t => t.data).catch(t => {\n      if (t && t.details && 422 === t.details.httpStatus) return {\n        location: {\n          top: s,\n          left: h,\n          width: c,\n          height: m\n        },\n        valid: !0,\n        data: i(c * m, 0)\n      };\n      throw t;\n    }).then(t => {\n      if (t.location && (t.location.top !== s || t.location.left !== h || t.location.width !== c || t.location.height !== m)) throw new e(\"tilemap:location-mismatch\", \"Tilemap response for different location than requested\", {\n        response: t,\n        definition: {\n          top: s,\n          left: h,\n          width: c,\n          height: m\n        }\n      });\n      return l.fromJSON(t);\n    });\n  }\n  static fromJSON(t) {\n    l._validateJSON(t);\n    const i = new l();\n    return i.location = Object.freeze(a(t.location)), i._updateFromData(t.data), Object.freeze(i);\n  }\n  static _validateJSON(t) {\n    if (!t || !t.location) throw new e(\"tilemap:missing-location\", \"Location missing from tilemap response\");\n    if (!1 === t.valid) throw new e(\"tilemap:invalid\", \"Tilemap response was marked as invalid\");\n    if (!t.data) throw new e(\"tilemap:missing-data\", \"Data missing from tilemap response\");\n    if (!Array.isArray(t.data)) throw new e(\"tilemap:data-mismatch\", \"Data must be an array of numbers\");\n    if (t.data.length !== t.location.width * t.location.height) throw new e(\"tilemap:data-mismatch\", \"Number of data items does not match width/height of tilemap\");\n  }\n}\nfunction o(t) {\n  return `${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;\n}\nfunction n(t) {\n  let i;\n  if (\"vector-tile\" === t.service.type) i = `${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;else {\n    const e = t.service.tileServers;\n    i = `${e && e.length ? e[t.row % e.length] : t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;\n  }\n  const e = t.service.query;\n  return e && (i = `${i}?${e}`), i;\n}\nexport { l as Tilemap, o as tilemapDefinitionId };","map":{"version":3,"names":["t","constant","i","e","clone","a","l","constructor","location","left","top","width","height","_allAvailability","byteSize","getAvailability","o","_tileAvailabilityBitSet","length","_updateFromData","Math","ceil","n","Uint8Array","r","s","fromDefinition","service","request","row","col","h","c","m","d","query","f","then","data","catch","details","httpStatus","valid","response","definition","fromJSON","_validateJSON","Object","freeze","Array","isArray","level","type","url","tileServers","Tilemap","tilemapDefinitionId"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/layers/support/Tilemap.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import{constant as i}from\"../../core/arrayUtils.js\";import e from\"../../core/Error.js\";import{clone as a}from\"../../core/lang.js\";class l{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability=\"unknown\",this.byteSize=40}getAvailability(t,i){if(\"unknown\"!==this._allAvailability)return this._allAvailability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%8,l=e>>3,o=this._tileAvailabilityBitSet;return l<0||l>o.length?\"unknown\":o[l]&1<<a?\"available\":\"unavailable\"}_updateFromData(t){const i=this.location.width,e=this.location.height;let a=!0,l=!0;const o=Math.ceil(i*e/8),n=new Uint8Array(o);let r=0;for(let s=0;s<t.length;s++){const i=s%8;t[s]?(l=!1,n[r]|=1<<i):a=!1,7===i&&++r}l?this._allAvailability=\"unavailable\":a?this._allAvailability=\"available\":(this._allAvailability=\"unknown\",this._tileAvailabilityBitSet=n,this.byteSize+=n.length)}static fromDefinition(a,o){const r=a.service.request||t,{row:s,col:h,width:c,height:m}=a,d={query:{f:\"json\"}};return o=o?{...d,...o}:d,r(n(a),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:s,left:h,width:c,height:m},valid:!0,data:i(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==s||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new e(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:s,left:h,width:c,height:m}});return l.fromJSON(t)}))}static fromJSON(t){l._validateJSON(t);const i=new l;return i.location=Object.freeze(a(t.location)),i._updateFromData(t.data),Object.freeze(i)}static _validateJSON(t){if(!t||!t.location)throw new e(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new e(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new e(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new e(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new e(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}}function o(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(\"vector-tile\"===t.service.type)i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;else{const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}const e=t.service.query;return e&&(i=`${i}?${e}`),i}export{l as Tilemap,o as tilemapDefinitionId};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}