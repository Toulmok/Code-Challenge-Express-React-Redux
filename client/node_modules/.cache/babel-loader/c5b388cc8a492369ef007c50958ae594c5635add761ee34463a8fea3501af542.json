{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/Logger.js\";\nimport { isSome as t } from \"../../../core/maybe.js\";\nimport { c as r } from \"../../../chunks/vec3f64.js\";\nimport { projectPointToVector as i } from \"../../projection.js\";\nimport { isGeographicMesh as o } from \"./geographicUtils.js\";\nimport { ungeoreference as n, georeference as s } from \"./georeference.js\";\nconst a = e.getLogger(\"esri.geometry.support.meshUtils.centerAt\");\nfunction c(e, r, i) {\n  if (!e.vertexAttributes || !e.vertexAttributes.position) return;\n  const n = i?.origin ?? e.origin;\n  if (t(e.transform)) null != i?.geographic && i.geographic !== e.transform.geographic && a.warn(`Specifying the 'geographic' parameter (${i.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`), f(e.transform, r, n);else {\n    o(e.spatialReference, i) ? p(e, r, n) : g(e, r, n);\n  }\n}\nfunction f(e, t, r) {\n  const i = t.x - r.x,\n    o = t.y - r.y,\n    n = t.hasZ && r.hasZ ? t.z - r.z : 0,\n    s = e.origin;\n  e.origin = [s[0] + i, s[1] + o, s[2] + n];\n}\nfunction p(e, t, r) {\n  const i = n(e.vertexAttributes, r, {\n      geographic: !0\n    }),\n    {\n      position: o,\n      normal: a,\n      tangent: c\n    } = s(i, t, {\n      geographic: !0\n    });\n  e.vertexAttributes.position = o, e.vertexAttributes.normal = a, e.vertexAttributes.tangent = c, e.vertexAttributesChanged();\n}\nfunction g(e, t, r) {\n  const o = h,\n    n = l;\n  if (i(t, n, e.spatialReference)) {\n    if (!i(r, o, e.spatialReference)) {\n      const t = e.origin;\n      o[0] = t.x, o[1] = t.y, o[2] = t.z, a.error(`Failed to project specified origin (wkid:${r.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid}).`);\n    }\n    m(e.vertexAttributes.position, n, o), e.vertexAttributesChanged();\n  } else a.error(`Failed to project centerAt location (wkid:${t.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid})`);\n}\nfunction m(e, t, r) {\n  if (e) for (let i = 0; i < e.length; i += 3) for (let o = 0; o < 3; o++) e[i + o] += t[o] - r[o];\n}\nconst l = r(),\n  h = r();\nexport { c as centerAt };","map":{"version":3,"names":["e","isSome","t","c","r","projectPointToVector","i","isGeographicMesh","o","ungeoreference","n","georeference","s","a","getLogger","vertexAttributes","position","origin","transform","geographic","warn","f","spatialReference","p","g","x","y","hasZ","z","normal","tangent","vertexAttributesChanged","h","l","error","wkid","m","length","centerAt"],"sources":["C:/code-challenge-react/client/node_modules/@arcgis/core/geometry/support/meshUtils/centerAt.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{isSome as t}from\"../../../core/maybe.js\";import{c as r}from\"../../../chunks/vec3f64.js\";import{projectPointToVector as i}from\"../../projection.js\";import{isGeographicMesh as o}from\"./geographicUtils.js\";import{ungeoreference as n,georeference as s}from\"./georeference.js\";const a=e.getLogger(\"esri.geometry.support.meshUtils.centerAt\");function c(e,r,i){if(!e.vertexAttributes||!e.vertexAttributes.position)return;const n=i?.origin??e.origin;if(t(e.transform))null!=i?.geographic&&i.geographic!==e.transform.geographic&&a.warn(`Specifying the 'geographic' parameter (${i.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`),f(e.transform,r,n);else{o(e.spatialReference,i)?p(e,r,n):g(e,r,n)}}function f(e,t,r){const i=t.x-r.x,o=t.y-r.y,n=t.hasZ&&r.hasZ?t.z-r.z:0,s=e.origin;e.origin=[s[0]+i,s[1]+o,s[2]+n]}function p(e,t,r){const i=n(e.vertexAttributes,r,{geographic:!0}),{position:o,normal:a,tangent:c}=s(i,t,{geographic:!0});e.vertexAttributes.position=o,e.vertexAttributes.normal=a,e.vertexAttributes.tangent=c,e.vertexAttributesChanged()}function g(e,t,r){const o=h,n=l;if(i(t,n,e.spatialReference)){if(!i(r,o,e.spatialReference)){const t=e.origin;o[0]=t.x,o[1]=t.y,o[2]=t.z,a.error(`Failed to project specified origin (wkid:${r.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid}).`)}m(e.vertexAttributes.position,n,o),e.vertexAttributesChanged()}else a.error(`Failed to project centerAt location (wkid:${t.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid})`)}function m(e,t,r){if(e)for(let i=0;i<e.length;i+=3)for(let o=0;o<3;o++)e[i+o]+=t[o]-r[o]}const l=r(),h=r();export{c as centerAt};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}