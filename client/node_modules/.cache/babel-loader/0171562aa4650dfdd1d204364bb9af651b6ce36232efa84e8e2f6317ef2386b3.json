{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport r from \"../../../../core/Handles.js\";\nimport { isSome as t } from \"../../../../core/maybe.js\";\nimport { property as s } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport { subclass as o } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { eyeWithinExtent as a } from \"../../camera/intersectionUtils.js\";\nimport { applySurfaceCollisionConstraint as i, Mode as n } from \"../../camera/constraintUtils/surfaceCollision.js\";\nimport { CameraController as l, State as c } from \"./CameraController.js\";\nlet p = class extends l {\n  set desiredCamera(e) {\n    this._set(\"desiredCamera\", e.clone());\n  }\n  constructor(e) {\n    super(e), this._handles = new r();\n  }\n  get canStop() {\n    return !0;\n  }\n  get constraintEnabled() {\n    return this.view.state.constraints.collision.enabled;\n  }\n  onControllerStart() {\n    this.state = c.Running, this._handles.add(this.view.basemapTerrain.on(\"elevation-change\", e => this._handleElevationChangeEvent(e))), this._applyCorrection();\n  }\n  onControllerEnd() {\n    this._handles.removeAll();\n  }\n  stepController() {}\n  _handleElevationChangeEvent(e) {\n    t(e.spatialReference) && !a(this.view, this.desiredCamera, e.extent, e.spatialReference) || this._applyCorrection();\n  }\n  _applyCorrection() {\n    this.view.state.updateCamera(e => {\n      e.copyViewFrom(this.desiredCamera), i(this.view, e, n.EYE_AND_CENTER) || this.constraintEnabled || (this.state = c.Stopped);\n    });\n  }\n};\ne([s({\n  constructOnly: !0\n})], p.prototype, \"desiredCamera\", null), p = e([o(\"esri.views.3d.state.controllers.SurfaceCollisionCorrectionController\")], p);\nexport { p as SurfaceCollisionCorrectionController };","map":{"version":3,"names":["_","e","r","isSome","t","property","s","subclass","o","eyeWithinExtent","a","applySurfaceCollisionConstraint","i","Mode","n","CameraController","l","State","c","p","desiredCamera","_set","clone","constructor","_handles","canStop","constraintEnabled","view","state","constraints","collision","enabled","onControllerStart","Running","add","basemapTerrain","on","_handleElevationChangeEvent","_applyCorrection","onControllerEnd","removeAll","stepController","spatialReference","extent","updateCamera","copyViewFrom","EYE_AND_CENTER","Stopped","constructOnly","prototype","SurfaceCollisionCorrectionController"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/state/controllers/SurfaceCollisionCorrectionController.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Handles.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{eyeWithinExtent as a}from\"../../camera/intersectionUtils.js\";import{applySurfaceCollisionConstraint as i,Mode as n}from\"../../camera/constraintUtils/surfaceCollision.js\";import{CameraController as l,State as c}from\"./CameraController.js\";let p=class extends l{set desiredCamera(e){this._set(\"desiredCamera\",e.clone())}constructor(e){super(e),this._handles=new r}get canStop(){return!0}get constraintEnabled(){return this.view.state.constraints.collision.enabled}onControllerStart(){this.state=c.Running,this._handles.add(this.view.basemapTerrain.on(\"elevation-change\",(e=>this._handleElevationChangeEvent(e)))),this._applyCorrection()}onControllerEnd(){this._handles.removeAll()}stepController(){}_handleElevationChangeEvent(e){t(e.spatialReference)&&!a(this.view,this.desiredCamera,e.extent,e.spatialReference)||this._applyCorrection()}_applyCorrection(){this.view.state.updateCamera((e=>{e.copyViewFrom(this.desiredCamera),i(this.view,e,n.EYE_AND_CENTER)||this.constraintEnabled||(this.state=c.Stopped)}))}};e([s({constructOnly:!0})],p.prototype,\"desiredCamera\",null),p=e([o(\"esri.views.3d.state.controllers.SurfaceCollisionCorrectionController\")],p);export{p as SurfaceCollisionCorrectionController};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,QAAK,iCAAiC;AAAC,OAAOC,CAAC,MAAK,6BAA6B;AAAC,SAAOC,MAAM,IAAIC,CAAC,QAAK,2BAA2B;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,yDAAyD;AAAC,OAAM,gDAAgD;AAAC,OAAM,gCAAgC;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,yDAAyD;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,mCAAmC;AAAC,SAAOC,+BAA+B,IAAIC,CAAC,EAACC,IAAI,IAAIC,CAAC,QAAK,kDAAkD;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,EAACC,KAAK,IAAIC,CAAC,QAAK,uBAAuB;AAAC,IAAIC,CAAC,GAAC,cAAcH,CAAC;EAAC,IAAII,aAAaA,CAACnB,CAAC,EAAC;IAAC,IAAI,CAACoB,IAAI,CAAC,eAAe,EAACpB,CAAC,CAACqB,KAAK,EAAE,CAAC;EAAA;EAACC,WAAWA,CAACtB,CAAC,EAAC;IAAC,KAAK,CAACA,CAAC,CAAC,EAAC,IAAI,CAACuB,QAAQ,GAAC,IAAItB,CAAC;EAAA;EAAC,IAAIuB,OAAOA,CAAA,EAAE;IAAC,OAAM,CAAC,CAAC;EAAA;EAAC,IAAIC,iBAAiBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACC,IAAI,CAACC,KAAK,CAACC,WAAW,CAACC,SAAS,CAACC,OAAO;EAAA;EAACC,iBAAiBA,CAAA,EAAE;IAAC,IAAI,CAACJ,KAAK,GAACV,CAAC,CAACe,OAAO,EAAC,IAAI,CAACT,QAAQ,CAACU,GAAG,CAAC,IAAI,CAACP,IAAI,CAACQ,cAAc,CAACC,EAAE,CAAC,kBAAkB,EAAEnC,CAAC,IAAE,IAAI,CAACoC,2BAA2B,CAACpC,CAAC,CAAC,CAAE,CAAC,EAAC,IAAI,CAACqC,gBAAgB,EAAE;EAAA;EAACC,eAAeA,CAAA,EAAE;IAAC,IAAI,CAACf,QAAQ,CAACgB,SAAS,EAAE;EAAA;EAACC,cAAcA,CAAA,EAAE,CAAC;EAACJ,2BAA2BA,CAACpC,CAAC,EAAC;IAACG,CAAC,CAACH,CAAC,CAACyC,gBAAgB,CAAC,IAAE,CAAChC,CAAC,CAAC,IAAI,CAACiB,IAAI,EAAC,IAAI,CAACP,aAAa,EAACnB,CAAC,CAAC0C,MAAM,EAAC1C,CAAC,CAACyC,gBAAgB,CAAC,IAAE,IAAI,CAACJ,gBAAgB,EAAE;EAAA;EAACA,gBAAgBA,CAAA,EAAE;IAAC,IAAI,CAACX,IAAI,CAACC,KAAK,CAACgB,YAAY,CAAE3C,CAAC,IAAE;MAACA,CAAC,CAAC4C,YAAY,CAAC,IAAI,CAACzB,aAAa,CAAC,EAACR,CAAC,CAAC,IAAI,CAACe,IAAI,EAAC1B,CAAC,EAACa,CAAC,CAACgC,cAAc,CAAC,IAAE,IAAI,CAACpB,iBAAiB,KAAG,IAAI,CAACE,KAAK,GAACV,CAAC,CAAC6B,OAAO,CAAC;IAAA,CAAC,CAAE;EAAA;AAAC,CAAC;AAAC9C,CAAC,CAAC,CAACK,CAAC,CAAC;EAAC0C,aAAa,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC7B,CAAC,CAAC8B,SAAS,EAAC,eAAe,EAAC,IAAI,CAAC,EAAC9B,CAAC,GAAClB,CAAC,CAAC,CAACO,CAAC,CAAC,sEAAsE,CAAC,CAAC,EAACW,CAAC,CAAC;AAAC,SAAOA,CAAC,IAAI+B,oCAAoC"},"metadata":{},"sourceType":"module","externalDependencies":[]}