{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Error.js\";\nimport { isNone as r } from \"../../../core/maybe.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as s } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { canProjectWithoutEngine as o } from \"../../../geometry/projection.js\";\nimport { LayerView3D as a } from \"./LayerView3D.js\";\nimport { TiledLayerView3D as l } from \"./TiledLayerView3D.js\";\nimport p from \"../../layers/LayerView.js\";\nimport n from \"../../layers/RefreshableLayerView.js\";\nimport { isMapServiceLayerView as h, MapServiceLayerViewHelper as m } from \"../../layers/support/MapServiceLayerViewHelper.js\";\nimport { createQueryGeometry as u } from \"../../support/drapedUtils.js\";\nlet c = class extends n(l(a(p))) {\n  constructor() {\n    super(...arguments), this.type = \"tile-3d\", this._popupHighlightHelper = null;\n  }\n  get imageFormatIsOpaque() {\n    return \"jpg\" === this.layer.tileInfo.format;\n  }\n  get hasMixedImageFormats() {\n    return \"mixed\" === this.layer.tileInfo.format;\n  }\n  get tileInfo() {\n    return this.layer.tileInfo;\n  }\n  get dataLevelRange() {\n    if (this.tileInfo) {\n      const e = this.tileInfo.lods,\n        t = e[0].scale,\n        r = e[e.length - 1].scale;\n      return this.levelRangeFromScaleRange(t, r);\n    }\n    return {\n      minLevel: 0,\n      maxLevel: 0\n    };\n  }\n  initialize() {\n    if (\"web-tile\" === this.layer.type) {\n      const e = this.layer.get(\"fullExtent.spatialReference\"),\n        i = this.layer.get(\"tileInfo.spatialReference\");\n      if (r(e) || r(i) || !o(e, i)) {\n        const e = \"defaults\" === this.layer.originOf(\"fullExtent\") || r(this.layer.fullExtent) ? \"SceneView requires fullExtent to be specified by the user on WebTileLayer\" : \"SceneView requires fullExtent to be specified in the same spatial reference as tileInfo on WebTileLayer\";\n        this.addResolvingPromise(Promise.reject(new t(\"layerview:incompatible-fullextent\", e)));\n      }\n    }\n    h(this, this.layer) && (this._popupHighlightHelper = new m({\n      createFetchPopupFeaturesQueryGeometry: (e, t) => u(e, t, this.view),\n      layerView: this,\n      updatingHandles: this.updatingHandles\n    })), this._addTilingSchemeMatchPromise();\n  }\n  destroy() {\n    this._popupHighlightHelper?.destroy();\n  }\n  async fetchPopupFeatures(e, t) {\n    return this._popupHighlightHelper ? this._popupHighlightHelper.fetchPopupFeatures(e, t) : [];\n  }\n  async doRefresh() {\n    this.suspended || this.emit(\"data-changed\");\n  }\n};\ne([i()], c.prototype, \"imageFormatIsOpaque\", null), e([i()], c.prototype, \"hasMixedImageFormats\", null), e([i()], c.prototype, \"layer\", void 0), e([i()], c.prototype, \"tileInfo\", null), e([i()], c.prototype, \"dataLevelRange\", null), c = e([s(\"esri.views.3d.layers.TileLayerView3D\")], c);\nconst f = c;\nexport { f as default };","map":{"version":3,"names":["_","e","t","isNone","r","property","i","subclass","s","canProjectWithoutEngine","o","LayerView3D","a","TiledLayerView3D","l","p","n","isMapServiceLayerView","h","MapServiceLayerViewHelper","m","createQueryGeometry","u","c","constructor","arguments","type","_popupHighlightHelper","imageFormatIsOpaque","layer","tileInfo","format","hasMixedImageFormats","dataLevelRange","lods","scale","length","levelRangeFromScaleRange","minLevel","maxLevel","initialize","get","originOf","fullExtent","addResolvingPromise","Promise","reject","createFetchPopupFeaturesQueryGeometry","view","layerView","updatingHandles","_addTilingSchemeMatchPromise","destroy","fetchPopupFeatures","doRefresh","suspended","emit","prototype","f","default"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/views/3d/layers/TileLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{isNone as r}from\"../../../core/maybe.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{canProjectWithoutEngine as o}from\"../../../geometry/projection.js\";import{LayerView3D as a}from\"./LayerView3D.js\";import{TiledLayerView3D as l}from\"./TiledLayerView3D.js\";import p from\"../../layers/LayerView.js\";import n from\"../../layers/RefreshableLayerView.js\";import{isMapServiceLayerView as h,MapServiceLayerViewHelper as m}from\"../../layers/support/MapServiceLayerViewHelper.js\";import{createQueryGeometry as u}from\"../../support/drapedUtils.js\";let c=class extends(n(l(a(p)))){constructor(){super(...arguments),this.type=\"tile-3d\",this._popupHighlightHelper=null}get imageFormatIsOpaque(){return\"jpg\"===this.layer.tileInfo.format}get hasMixedImageFormats(){return\"mixed\"===this.layer.tileInfo.format}get tileInfo(){return this.layer.tileInfo}get dataLevelRange(){if(this.tileInfo){const e=this.tileInfo.lods,t=e[0].scale,r=e[e.length-1].scale;return this.levelRangeFromScaleRange(t,r)}return{minLevel:0,maxLevel:0}}initialize(){if(\"web-tile\"===this.layer.type){const e=this.layer.get(\"fullExtent.spatialReference\"),i=this.layer.get(\"tileInfo.spatialReference\");if(r(e)||r(i)||!o(e,i)){const e=\"defaults\"===this.layer.originOf(\"fullExtent\")||r(this.layer.fullExtent)?\"SceneView requires fullExtent to be specified by the user on WebTileLayer\":\"SceneView requires fullExtent to be specified in the same spatial reference as tileInfo on WebTileLayer\";this.addResolvingPromise(Promise.reject(new t(\"layerview:incompatible-fullextent\",e)))}}h(this,this.layer)&&(this._popupHighlightHelper=new m({createFetchPopupFeaturesQueryGeometry:(e,t)=>u(e,t,this.view),layerView:this,updatingHandles:this.updatingHandles})),this._addTilingSchemeMatchPromise()}destroy(){this._popupHighlightHelper?.destroy()}async fetchPopupFeatures(e,t){return this._popupHighlightHelper?this._popupHighlightHelper.fetchPopupFeatures(e,t):[]}async doRefresh(){this.suspended||this.emit(\"data-changed\")}};e([i()],c.prototype,\"imageFormatIsOpaque\",null),e([i()],c.prototype,\"hasMixedImageFormats\",null),e([i()],c.prototype,\"layer\",void 0),e([i()],c.prototype,\"tileInfo\",null),e([i()],c.prototype,\"dataLevelRange\",null),c=e([s(\"esri.views.3d.layers.TileLayerView3D\")],c);const f=c;export{f as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}