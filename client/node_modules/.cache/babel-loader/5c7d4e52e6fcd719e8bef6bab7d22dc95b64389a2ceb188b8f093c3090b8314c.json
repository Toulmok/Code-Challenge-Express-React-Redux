{"ast":null,"code":"import _toConsumableArray from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _regeneratorRuntime from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/code-challenge-react/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nimport t from \"../../layers/Layer.js\";\nimport { isArcGISUrl as r } from \"../../layers/support/arcgisLayerUrl.js\";\nimport { fetchFeatureService as a } from \"../../layers/support/fetchService.js\";\nimport n from \"../Portal.js\";\nimport o from \"../PortalItem.js\";\nimport { createForItemRead as l } from \"./jsonContext.js\";\nimport { hasTypeKeyword as s } from \"./portalItemUtils.js\";\nimport { loadStyleRenderer as i } from \"../../renderers/support/styleUtils.js\";\nimport { fetchArcGISServiceJSON as u } from \"../../support/requestPresets.js\";\nfunction p(_x, _x2) {\n  return _p.apply(this, arguments);\n}\nfunction _p() {\n  _p = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e, t) {\n    var r;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          r = e.instance.portalItem;\n          if (!(r && r.id)) {\n            _context.next = 6;\n            break;\n          }\n          _context.next = 4;\n          return r.load(t);\n        case 4:\n          c(e);\n          return _context.abrupt(\"return\", y(e, t));\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _p.apply(this, arguments);\n}\nfunction c(t) {\n  var r = t.instance.portalItem;\n  if (!(r !== null && r !== void 0 && r.type) || !t.supportedTypes.includes(r.type)) throw new e(\"portal:invalid-layer-item-type\", \"Invalid layer item type '${type}', expected '${expectedType}'\", {\n    type: r === null || r === void 0 ? void 0 : r.type,\n    expectedType: t.supportedTypes.join(\", \")\n  });\n}\nfunction y(_x3, _x4) {\n  return _y.apply(this, arguments);\n}\nfunction _y() {\n  _y = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e, t) {\n    var _s$readResourcePaths;\n    var r, a, n, o, s, u;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          r = e.instance, a = r.portalItem;\n          if (a) {\n            _context2.next = 3;\n            break;\n          }\n          return _context2.abrupt(\"return\");\n        case 3:\n          n = a.url, o = a.title, s = l(a);\n          if (!(\"group\" === r.type)) {\n            _context2.next = 6;\n            break;\n          }\n          return _context2.abrupt(\"return\", (r.read({\n            title: o\n          }, s), d(r, e)));\n        case 6:\n          n && r.read({\n            url: n\n          }, s);\n          _context2.next = 9;\n          return h(e, t);\n        case 9:\n          u = _context2.sent;\n          return _context2.abrupt(\"return\", (u && r.read(u, s), r.resourceReferences = {\n            portalItem: a,\n            paths: (_s$readResourcePaths = s.readResourcePaths) !== null && _s$readResourcePaths !== void 0 ? _s$readResourcePaths : []\n          }, \"subtype-group\" !== r.type && r.read({\n            title: o\n          }, s), i(r, s)));\n        case 11:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _y.apply(this, arguments);\n}\nfunction d(_x5, _x6) {\n  return _d.apply(this, arguments);\n}\nfunction _d() {\n  _d = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(t, r) {\n    var _s;\n    var a, n, o, l, i, _yield$Promise$all, _yield$Promise$all2, u, p, c, _e3, _t3;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          n = t.portalItem;\n          if (n) {\n            _context3.next = 3;\n            break;\n          }\n          return _context3.abrupt(\"return\");\n        case 3:\n          o = n.type, l = r.layerModuleTypeMap, i = (_s = s(n, \"Oriented Imagery Layer\")) !== null && _s !== void 0 ? _s : !1;\n          _context3.t0 = o;\n          _context3.next = _context3.t0 === \"Feature Service\" ? 7 : _context3.t0 === \"Stream Service\" ? 9 : _context3.t0 === \"Scene Service\" ? 11 : _context3.t0 === \"Feature Collection\" ? 13 : 15;\n          break;\n        case 7:\n          a = i ? l.OrientedImageryLayer : l.FeatureLayer;\n          return _context3.abrupt(\"break\", 16);\n        case 9:\n          a = l.StreamLayer;\n          return _context3.abrupt(\"break\", 16);\n        case 11:\n          a = l.SceneLayer;\n          return _context3.abrupt(\"break\", 16);\n        case 13:\n          a = l.FeatureLayer;\n          return _context3.abrupt(\"break\", 16);\n        case 15:\n          throw new e(\"portal:unsupported-item-type-as-group\", \"The item type '\".concat(o, \"' is not supported as a 'IGroupLayer'\"));\n        case 16:\n          _context3.next = 18;\n          return Promise.all([a(), h(r)]);\n        case 18:\n          _yield$Promise$all = _context3.sent;\n          _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n          u = _yield$Promise$all2[0];\n          p = _yield$Promise$all2[1];\n          c = function c() {\n            return u;\n          };\n          if (!(\"Feature Service\" === o)) {\n            _context3.next = 46;\n            break;\n          }\n          if (!n.url) {\n            _context3.next = 30;\n            break;\n          }\n          _context3.next = 27;\n          return w(p, n.url);\n        case 27:\n          _context3.t1 = _context3.sent;\n          _context3.next = 31;\n          break;\n        case 30:\n          _context3.t1 = {};\n        case 31:\n          p = _context3.t1;\n          if (!j(p).length) {\n            _context3.next = 38;\n            break;\n          }\n          _e3 = l.SubtypeGroupLayer;\n          _context3.next = 36;\n          return _e3();\n        case 36:\n          _t3 = _context3.sent;\n          c = function c(e) {\n            return \"SubtypeGroupLayer\" === e.layerType ? _t3 : u;\n          };\n        case 38:\n          _context3.t2 = b;\n          _context3.t3 = t;\n          _context3.t4 = c;\n          _context3.t5 = p;\n          _context3.next = 44;\n          return P(n.url);\n        case 44:\n          _context3.t6 = _context3.sent;\n          return _context3.abrupt(\"return\", (0, _context3.t2)(_context3.t3, _context3.t4, _context3.t5, _context3.t6));\n        case 46:\n          return _context3.abrupt(\"return\", v(p) > 0 ? b(t, c, p) : f(t, c));\n        case 47:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return _d.apply(this, arguments);\n}\nfunction f(_x7, _x8) {\n  return _f.apply(this, arguments);\n}\nfunction _f() {\n  _f = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(e, t) {\n    var _a$layers, _a$tables;\n    var r, a;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          r = e.portalItem;\n          if (r !== null && r !== void 0 && r.url) {\n            _context4.next = 3;\n            break;\n          }\n          return _context4.abrupt(\"return\");\n        case 3:\n          _context4.next = 5;\n          return u(r.url);\n        case 5:\n          a = _context4.sent;\n          a && b(e, t, {\n            layers: (_a$layers = a.layers) === null || _a$layers === void 0 ? void 0 : _a$layers.map(m),\n            tables: (_a$tables = a.tables) === null || _a$tables === void 0 ? void 0 : _a$tables.map(m)\n          });\n        case 7:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return _f.apply(this, arguments);\n}\nfunction m(e) {\n  return {\n    id: e.id,\n    name: e.name\n  };\n}\nfunction b(e, t, r, a) {\n  var _e$portalItem;\n  var n = r.layers || [];\n  var o = r.tables || [];\n  if (\"Feature Collection\" === ((_e$portalItem = e.portalItem) === null || _e$portalItem === void 0 ? void 0 : _e$portalItem.type) && (n.forEach(function (e) {\n    var _e$layerDefinition;\n    \"Table\" === (e === null || e === void 0 ? void 0 : (_e$layerDefinition = e.layerDefinition) === null || _e$layerDefinition === void 0 ? void 0 : _e$layerDefinition.type) && o.push(e);\n  }), n = n.filter(function (e) {\n    var _e$layerDefinition2;\n    return \"Table\" !== (e === null || e === void 0 ? void 0 : (_e$layerDefinition2 = e.layerDefinition) === null || _e$layerDefinition2 === void 0 ? void 0 : _e$layerDefinition2.type);\n  })), \"coverage\" in r) {\n    var _t = T(r);\n    _t && e.add(_t);\n  }\n  n.reverse().forEach(function (n) {\n    var o = g(e, t(n), r, n, a === null || a === void 0 ? void 0 : a(n));\n    e.add(o);\n  }), o.reverse().forEach(function (n) {\n    var o = g(e, t(n), r, n, a === null || a === void 0 ? void 0 : a(n));\n    e.tables.add(o);\n  });\n}\nfunction g(e, t, r, a, o) {\n  var l = e.portalItem,\n    s = new t({\n      portalItem: l.clone(),\n      layerId: a.id\n    });\n  if (\"sourceJSON\" in s && (s.sourceJSON = o), \"subtype-group\" !== s.type && (s.sublayerTitleMode = \"service-name\"), \"Feature Collection\" === l.type) {\n    var _e = {\n      origin: \"portal-item\",\n      portal: l.portal || n.getDefault()\n    };\n    s.read(a, _e);\n    var _t2 = r.showLegend;\n    null != _t2 && s.read({\n      showLegend: _t2\n    }, _e);\n  }\n  return s;\n}\nfunction h(_x9, _x10) {\n  return _h.apply(this, arguments);\n}\nfunction _h() {\n  _h = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(e, t) {\n    var r, a, n, _e4, _t4, _e5;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          if (!(!1 === e.supportsData)) {\n            _context5.next = 2;\n            break;\n          }\n          return _context5.abrupt(\"return\");\n        case 2:\n          r = e.instance, a = r.portalItem;\n          if (a) {\n            _context5.next = 5;\n            break;\n          }\n          return _context5.abrupt(\"return\");\n        case 5:\n          n = null;\n          _context5.prev = 6;\n          _context5.next = 9;\n          return a.fetchData(\"json\", t);\n        case 9:\n          n = _context5.sent;\n          _context5.next = 14;\n          break;\n        case 12:\n          _context5.prev = 12;\n          _context5.t0 = _context5[\"catch\"](6);\n        case 14:\n          if (!S(r)) {\n            _context5.next = 18;\n            break;\n          }\n          _e4 = null, _t4 = !0;\n          if (n && v(n) > 0) {\n            if (null == r.layerId) {\n              _e5 = j(n);\n              r.layerId = \"subtype-group\" === r.type ? _e5 === null || _e5 === void 0 ? void 0 : _e5[0] : I(n);\n            }\n            _e4 = L(n, r), _e4 && (1 === v(n) && (_t4 = !1), null != n.showLegend && (_e4.showLegend = n.showLegend));\n          }\n          return _context5.abrupt(\"return\", (_t4 && \"service-name\" !== r.sublayerTitleMode && (r.sublayerTitleMode = \"item-title-and-service-name\"), _e4));\n        case 18:\n          return _context5.abrupt(\"return\", n);\n        case 19:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[6, 12]]);\n  }));\n  return _h.apply(this, arguments);\n}\nfunction w(_x11, _x12) {\n  return _w.apply(this, arguments);\n}\nfunction _w() {\n  _w = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(e, t) {\n    var _e6, _e7;\n    var _r2;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          if (!(null == ((_e6 = e) === null || _e6 === void 0 ? void 0 : _e6.layers) || null == ((_e7 = e) === null || _e7 === void 0 ? void 0 : _e7.tables))) {\n            _context6.next = 5;\n            break;\n          }\n          _context6.next = 3;\n          return u(t);\n        case 3:\n          _r2 = _context6.sent;\n          (e = e || {}).layers = e.layers || (_r2 === null || _r2 === void 0 ? void 0 : _r2.layers), e.tables = e.tables || (_r2 === null || _r2 === void 0 ? void 0 : _r2.tables);\n        case 5:\n          return _context6.abrupt(\"return\", e);\n        case 6:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return _w.apply(this, arguments);\n}\nfunction I(e) {\n  var t = e.layers;\n  if (t && t.length) return t[0].id;\n  var r = e.tables;\n  return r && r.length ? r[0].id : null;\n}\nfunction L(e, t) {\n  var _e$layers, _e$tables;\n  var r = t.layerId,\n    a = ((_e$layers = e.layers) === null || _e$layers === void 0 ? void 0 : _e$layers.find(function (e) {\n      return e.id === r;\n    })) || ((_e$tables = e.tables) === null || _e$tables === void 0 ? void 0 : _e$tables.find(function (e) {\n      return e.id === r;\n    }));\n  return a && F(a, t) ? a : null;\n}\nfunction v(e) {\n  var _e$layers$length, _e$layers2, _e$tables$length, _e$tables2;\n  return ((_e$layers$length = e === null || e === void 0 ? void 0 : (_e$layers2 = e.layers) === null || _e$layers2 === void 0 ? void 0 : _e$layers2.length) !== null && _e$layers$length !== void 0 ? _e$layers$length : 0) + ((_e$tables$length = e === null || e === void 0 ? void 0 : (_e$tables2 = e.tables) === null || _e$tables2 === void 0 ? void 0 : _e$tables2.length) !== null && _e$tables$length !== void 0 ? _e$tables$length : 0);\n}\nfunction S(e) {\n  return \"stream\" !== e.type && \"oriented-imagery\" !== e.type && \"layerId\" in e;\n}\nfunction T(a) {\n  var n = a.coverage;\n  if (!n) return null;\n  var l = new URL(n);\n  if (n.toLowerCase().includes(\"item.html\")) {\n    var _e2 = l.searchParams.get(\"id\"),\n      _r = l.origin;\n    return t.fromPortalItem({\n      portalItem: new o({\n        id: _e2,\n        url: _r\n      })\n    });\n  }\n  if (r(n)) return t.fromArcGISServerUrl({\n    url: n\n  });\n  throw new e(\"portal:oriented-imagery-layer-coverage\", \"the provided coverage url couldn't be loaded as a layer\");\n}\nfunction j(e) {\n  var _e$layers3;\n  var t = [];\n  return e !== null && e !== void 0 && (_e$layers3 = e.layers) !== null && _e$layers3 !== void 0 && _e$layers3.forEach(function (e) {\n    \"SubtypeGroupLayer\" === e.layerType && t.push(e.id);\n  }), t;\n}\nfunction F(e, t) {\n  return !(\"feature\" === t.type && \"layerType\" in e && \"SubtypeGroupLayer\" === e.layerType || \"subtype-group\" === t.type && !(\"layerType\" in e));\n}\nfunction P(_x13) {\n  return _P.apply(this, arguments);\n}\nfunction _P() {\n  _P = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(e) {\n    var _yield$a, t, r;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.next = 2;\n          return a(e);\n        case 2:\n          _yield$a = _context7.sent;\n          t = _yield$a.layersJSON;\n          if (t) {\n            _context7.next = 6;\n            break;\n          }\n          return _context7.abrupt(\"return\", null);\n        case 6:\n          r = [].concat(_toConsumableArray(t.layers), _toConsumableArray(t.tables));\n          return _context7.abrupt(\"return\", function (e) {\n            return r.find(function (t) {\n              return t.id === e.id;\n            });\n          });\n        case 8:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return _P.apply(this, arguments);\n}\nexport { I as getFirstLayerOrTableId, v as getNumLayersAndTables, j as getSubtypeGroupLayerIds, p as load, w as preprocessFSItemData };","map":{"version":3,"names":["e","t","isArcGISUrl","r","fetchFeatureService","a","n","o","createForItemRead","l","hasTypeKeyword","s","loadStyleRenderer","i","fetchArcGISServiceJSON","u","p","_x","_x2","_p","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","instance","portalItem","id","load","c","abrupt","y","stop","type","supportedTypes","includes","expectedType","join","_x3","_x4","_y","_callee2","_s$readResourcePaths","_callee2$","_context2","url","title","read","d","h","sent","resourceReferences","paths","readResourcePaths","_x5","_x6","_d","_callee3","_s","_yield$Promise$all","_yield$Promise$all2","_e3","_t3","_callee3$","_context3","layerModuleTypeMap","t0","OrientedImageryLayer","FeatureLayer","StreamLayer","SceneLayer","concat","Promise","all","_slicedToArray","w","t1","j","length","SubtypeGroupLayer","layerType","t2","b","t3","t4","t5","P","t6","v","f","_x7","_x8","_f","_callee4","_a$layers","_a$tables","_callee4$","_context4","layers","map","m","tables","name","_e$portalItem","forEach","_e$layerDefinition","layerDefinition","push","filter","_e$layerDefinition2","T","add","reverse","g","clone","layerId","sourceJSON","sublayerTitleMode","origin","portal","getDefault","showLegend","_x9","_x10","_h","_callee5","_e4","_t4","_e5","_callee5$","_context5","supportsData","fetchData","S","I","L","_x11","_x12","_w","_callee6","_e6","_e7","_r2","_callee6$","_context6","_e$layers","_e$tables","find","F","_e$layers$length","_e$layers2","_e$tables$length","_e$tables2","coverage","URL","toLowerCase","searchParams","get","fromPortalItem","fromArcGISServerUrl","_e$layers3","_x13","_P","_callee7","_yield$a","_callee7$","_context7","layersJSON","_toConsumableArray","getFirstLayerOrTableId","getNumLayersAndTables","getSubtypeGroupLayerIds","preprocessFSItemData"],"sources":["C:/code-challenge-react/frontend/node_modules/@arcgis/core/portal/support/layersLoader.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import t from\"../../layers/Layer.js\";import{isArcGISUrl as r}from\"../../layers/support/arcgisLayerUrl.js\";import{fetchFeatureService as a}from\"../../layers/support/fetchService.js\";import n from\"../Portal.js\";import o from\"../PortalItem.js\";import{createForItemRead as l}from\"./jsonContext.js\";import{hasTypeKeyword as s}from\"./portalItemUtils.js\";import{loadStyleRenderer as i}from\"../../renderers/support/styleUtils.js\";import{fetchArcGISServiceJSON as u}from\"../../support/requestPresets.js\";async function p(e,t){const r=e.instance.portalItem;if(r&&r.id)return await r.load(t),c(e),y(e,t)}function c(t){const r=t.instance.portalItem;if(!r?.type||!t.supportedTypes.includes(r.type))throw new e(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}'\",{type:r?.type,expectedType:t.supportedTypes.join(\", \")})}async function y(e,t){const r=e.instance,a=r.portalItem;if(!a)return;const{url:n,title:o}=a,s=l(a);if(\"group\"===r.type)return r.read({title:o},s),d(r,e);n&&r.read({url:n},s);const u=await h(e,t);return u&&r.read(u,s),r.resourceReferences={portalItem:a,paths:s.readResourcePaths??[]},\"subtype-group\"!==r.type&&r.read({title:o},s),i(r,s)}async function d(t,r){let a;const{portalItem:n}=t;if(!n)return;const o=n.type,l=r.layerModuleTypeMap,i=s(n,\"Oriented Imagery Layer\")??!1;switch(o){case\"Feature Service\":a=i?l.OrientedImageryLayer:l.FeatureLayer;break;case\"Stream Service\":a=l.StreamLayer;break;case\"Scene Service\":a=l.SceneLayer;break;case\"Feature Collection\":a=l.FeatureLayer;break;default:throw new e(\"portal:unsupported-item-type-as-group\",`The item type '${o}' is not supported as a 'IGroupLayer'`)}let[u,p]=await Promise.all([a(),h(r)]),c=()=>u;if(\"Feature Service\"===o){p=n.url?await w(p,n.url):{};if(j(p).length){const e=l.SubtypeGroupLayer,t=await e();c=e=>\"SubtypeGroupLayer\"===e.layerType?t:u}return b(t,c,p,await P(n.url))}return v(p)>0?b(t,c,p):f(t,c)}async function f(e,t){const{portalItem:r}=e;if(!r?.url)return;const a=await u(r.url);a&&b(e,t,{layers:a.layers?.map(m),tables:a.tables?.map(m)})}function m(e){return{id:e.id,name:e.name}}function b(e,t,r,a){let n=r.layers||[];const o=r.tables||[];if(\"Feature Collection\"===e.portalItem?.type&&(n.forEach((e=>{\"Table\"===e?.layerDefinition?.type&&o.push(e)})),n=n.filter((e=>\"Table\"!==e?.layerDefinition?.type))),\"coverage\"in r){const t=T(r);t&&e.add(t)}n.reverse().forEach((n=>{const o=g(e,t(n),r,n,a?.(n));e.add(o)})),o.reverse().forEach((n=>{const o=g(e,t(n),r,n,a?.(n));e.tables.add(o)}))}function g(e,t,r,a,o){const l=e.portalItem,s=new t({portalItem:l.clone(),layerId:a.id});if(\"sourceJSON\"in s&&(s.sourceJSON=o),\"subtype-group\"!==s.type&&(s.sublayerTitleMode=\"service-name\"),\"Feature Collection\"===l.type){const e={origin:\"portal-item\",portal:l.portal||n.getDefault()};s.read(a,e);const t=r.showLegend;null!=t&&s.read({showLegend:t},e)}return s}async function h(e,t){if(!1===e.supportsData)return;const r=e.instance,a=r.portalItem;if(!a)return;let n=null;try{n=await a.fetchData(\"json\",t)}catch(o){}if(S(r)){let e=null,t=!0;if(n&&v(n)>0){if(null==r.layerId){const e=j(n);r.layerId=\"subtype-group\"===r.type?e?.[0]:I(n)}e=L(n,r),e&&(1===v(n)&&(t=!1),null!=n.showLegend&&(e.showLegend=n.showLegend))}return t&&\"service-name\"!==r.sublayerTitleMode&&(r.sublayerTitleMode=\"item-title-and-service-name\"),e}return n}async function w(e,t){if(null==e?.layers||null==e?.tables){const r=await u(t);(e=e||{}).layers=e.layers||r?.layers,e.tables=e.tables||r?.tables}return e}function I(e){const t=e.layers;if(t&&t.length)return t[0].id;const r=e.tables;return r&&r.length?r[0].id:null}function L(e,t){const{layerId:r}=t,a=e.layers?.find((e=>e.id===r))||e.tables?.find((e=>e.id===r));return a&&F(a,t)?a:null}function v(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function S(e){return\"stream\"!==e.type&&\"oriented-imagery\"!==e.type&&\"layerId\"in e}function T(a){const{coverage:n}=a;if(!n)return null;const l=new URL(n);if(n.toLowerCase().includes(\"item.html\")){const e=l.searchParams.get(\"id\"),r=l.origin;return t.fromPortalItem({portalItem:new o({id:e,url:r})})}if(r(n))return t.fromArcGISServerUrl({url:n});throw new e(\"portal:oriented-imagery-layer-coverage\",\"the provided coverage url couldn't be loaded as a layer\")}function j(e){const t=[];return e?.layers?.forEach((e=>{\"SubtypeGroupLayer\"===e.layerType&&t.push(e.id)})),t}function F(e,t){return!(\"feature\"===t.type&&\"layerType\"in e&&\"SubtypeGroupLayer\"===e.layerType||\"subtype-group\"===t.type&&!(\"layerType\"in e))}async function P(e){const{layersJSON:t}=await a(e);if(!t)return null;const r=[...t.layers,...t.tables];return e=>r.find((t=>t.id===e.id))}export{I as getFirstLayerOrTableId,v as getNumLayersAndTables,j as getSubtypeGroupLayerIds,p as load,w as preprocessFSItemData};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}